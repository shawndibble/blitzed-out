import{r as u,j as r,bh as v,a1 as N}from"./chunk-CuiXkX8P.js";import{u as A}from"./chunk-C23dXeOO.js";import{a as S}from"./chunk-Z_uEv_UN.js";import{T as b}from"./chunk-wk-de2QX.js";import{i as y}from"./chunk-BCNA97Vt.js";import"./chunk-egNdA1zK.js";import"./chunk-Bkb4xddn.js";import"../assets/index-Db2Qm3H5.js";import"./chunk-B1QiqDdb.js";import"./chunk-B4ipE-Yx.js";import"./chunk-CdPrcTJM.js";import"./chunk-BKPAm5Nh.js";import"./chunk-TWFKvN56.js";import"./chunk-CpNPId2B.js";import"./schedule.tsx-DiCSsRPt.js";import"./chunk-C4k9x7Tg.js";import"./theme.tsx-BKSIPaKT.js";import"./chunk-BwPojoAX.js";import"./chunk--10Ey-RR.js";import"./chunk-BFpgY9ez.js";import"./chunk-CDXl9mZc.js";import"./chunk-BreGaeep.js";import"./chunk-C8y7iHmt.js";import"./chunk-28Y3LTyE.js";import"./chunk-B4PEA_xj.js";import"./chunk-yLOK5aTh.js";import"./index.tsx-BPqCGaGC.js";import"./chunk-DqUir_5u.js";function g({title:t,description:f,players:e,current:l,isTransparent:a,className:c}){const m=u.useMemo(()=>e.map(i=>r.jsx(b,{displayName:i.displayName||"",uid:i.uid||""},i.uid)),[e]),n=u.useRef(null);u.useEffect(()=>{n.current&&l&&n.current.scrollIntoView({behavior:"smooth"})},[l]);const s=[l&&"pulse-animation",a&&"gray-tiles",c].join(" ").trim();return r.jsxs("li",{className:s,ref:n,children:[r.jsxs("div",{className:"tile-title-row",children:[r.jsx("div",{className:`tile-title ${a&&"pop-text"}`,children:t}),r.jsx("div",{className:"player-indicator",children:r.jsx(v,{max:4,children:m})})]}),r.jsx(N,{sx:{margin:"0.5rem 0"}}),r.jsx("div",{className:`tile-description ${a&&"pop-text"}`,children:f})]})}function L({playerList:t,isTransparent:f,gameBoard:e,settings:l}){const{user:a}=A();if(!Array.isArray(e)||!e.length)return null;const c=[];t&&Array.isArray(t)&&t.forEach(i=>{y(i)&&c.push({id:i.localId,name:i.displayName,role:i.role,order:i.order,isActive:i.isSelf,deviceId:"local-device",location:i.location,isFinished:i.isFinished})});const m=new Set;e.forEach(({title:s},i)=>{s&&i!==0&&i!==e.length-1&&m.add(s)});const n=e.map((s,i)=>{const h=t.filter(o=>o.location===i),p=t.find(o=>o.isSelf&&o.location===i&&i!==0)||null,x=Array.from(m).indexOf(s.title)%10+1,j=!l.hideBoardActions||i===0||p?S(s.description||"",l.role||"sub",a.displayName||"",c.length>0?c:void 0,!0):(s.description||"").replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?"),d={title:s.title,description:s.description,players:h.map(o=>({...o,isSelf:o.isSelf||!1,isFinished:!1})),current:p?{...p,isSelf:p.isSelf||!1,isFinished:!1}:null,isTransparent:f,className:`hue${x}`};return r.jsx(g,{title:`#${i+1}: ${s.title}`,description:j,players:d.players,current:d.current,isTransparent:d.isTransparent,className:d.className},i)});return r.jsx("div",{className:"gameboard transparent-scrollbar",children:r.jsx("ol",{children:n})})}export{L as default};

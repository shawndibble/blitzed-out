const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-On1TBhUE.js","js/chunk-CXdXj9vr.js","js/chunk-CwpkSHF3.js","js/chunk-D_3adld7.js","js/chunk-DevrYHC1.js","js/chunk-CgSGzI2N.js","js/chunk-B4PEA_xj.js","js/chunk-B83tYlJb.js","assets/index-BHvuQhcH.js","js/schedule.tsx-hCy32xhW.js","js/chunk-ClmaRDLJ.js","js/chunk-B4ipE-Yx.js","js/theme.tsx-DFQe9yad.js","js/chunk-C4FqAZhz.js","js/chunk-BZN1ihbH.js","js/chunk-1y90xjpq.js","js/index.tsx-DCrcJ_K7.js","js/chunk-DACwLWVn.js","js/chunk-DZRreoul.js","js/chunk-yLOK5aTh.js","js/chunk-D8Vuub7w.js","js/chunk-DKJ-cZQ1.js","js/chunk-Bn-OMfDH.js","js/index.tsx-BAJyD6Rv.js","js/chunk-DcxCAmHR.js","js/chunk-Cfazcan2.js"])))=>i.map(i=>d[i]);
import{j as e,I as w,E as A,K as T,s as _,aE as O,aF as R,aG as D,a7 as z,r as t,ad as P,aH as E,au as I,ak as k,B as N,aI as M,aJ as L,am as B,aK as G,aC as U,at as $}from"./chunk-CXdXj9vr.js";import{e as q,f as F,g as H,h as K,D as W,i as J,j as v,k as V}from"./chunk-DevrYHC1.js";import{_ as j}from"../assets/index-BHvuQhcH.js";import{ScheduleContext as Q}from"./schedule.tsx-hCy32xhW.js";import{useTheme as Y}from"./theme.tsx-DFQe9yad.js";import{i as X}from"./chunk-C4FqAZhz.js";function ge({close:s}){return e.jsx(w,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:8,top:8},children:e.jsx(q,{})})}function Z(s="sm"){const a=A();return T(a.breakpoints.down(s))}const pe=_(s=>e.jsx(O,{disableGutters:!0,elevation:0,square:!0,...s}))(({theme:s})=>({border:`1px solid ${s.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),we=_(R)(({theme:s})=>({padding:s.spacing(2),borderTop:`1px solid ${s.palette.divider}`})),xe=_(s=>e.jsx(D,{expandIcon:e.jsx(F,{sx:{fontSize:"0.9rem"}}),...s}))(({theme:s})=>({backgroundColor:s.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:s.spacing(1)}}));function ee(){const s=z.useContext(Q);if(!s)throw new Error("ScheduleContext's value is undefined.");return s}const se="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;window.__castScriptLoading=window.__castScriptLoading||!1;function te(){const[s,a]=t.useState(!1),[i,c]=t.useState(null),{id:r}=P(),l=t.useRef(null),[f,h]=t.useState(!1),[g,m]=t.useState(!1),p=t.useCallback((o=!1)=>{a(!1),c(null),o&&m(!1)},[]),u=t.useCallback(o=>{try{const d=`${window.location.origin}/${r}/cast`;o.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:d})}catch(d){console.error("Error sending cast message:",d)}},[r]);t.useEffect(()=>{const o=()=>{try{if(!window?.cast?.framework)return;if(window.__castApiInitialized){h(!0),d();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:window.chrome?.cast?.AutoJoinPolicy?.ORIGIN_SCOPED}),window.__castApiInitialized=!0,h(!0),d()}catch(n){console.error("Error initializing Cast API:",n)}},d=()=>{try{const n=window.cast?.framework?.CastContext.getInstance();if(!n)return;const S=n.getCurrentSession();if(S&&(a(!0),c(S),r&&u(S)),!window?.cast?.framework)return;n.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,b=>{const C=n.getCurrentSession();switch(b.sessionState){case window.cast?.framework?.SessionState.SESSION_STARTED:case window.cast?.framework?.SessionState.SESSION_RESUMED:g||(a(!0),c(C),C&&r&&u(C));break;case window.cast?.framework?.SessionState.SESSION_ENDED:p(!0);break;default:b.sessionState==="SESSION_ENDING"&&p();break}})}catch(n){console.error("Error setting up session listener:",n)}};if(window.chrome&&window.chrome.cast&&window.cast)o();else if(window.__onGCastApiAvailable=function(n){n&&o()},!document.querySelector('script[src*="cast_sender.js"]')&&!window.__castScriptLoading){window.__castScriptLoading=!0;const n=document.createElement("script");n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",n.onload=()=>{window.__castScriptLoading=!1},n.onerror=()=>{window.__castScriptLoading=!1,console.error("Failed to load Cast SDK")},document.head.appendChild(n)}return()=>{}},[r,u,g,p]);const x=()=>{if(!f){console.warn("Cast API not ready yet");return}if(s){m(!0),p();try{const o=window.cast?.framework?.CastContext.getInstance();o&&o.endCurrentSession(!0),i&&i.endSession(!0)}catch{}}else{m(!1);try{const o=window.cast?.framework?.CastContext.getInstance();o&&o.requestSession().catch(d=>console.error("Error requesting cast session:",d))}catch(o){console.error("Error requesting cast session:",o)}}};return t.useEffect(()=>{s&&i&&r&&u(i)},[r,s,i,u]),f?e.jsx(E,{title:s?I("stopCasting"):I("startCasting"),children:e.jsx(w,{ref:l,onClick:x,color:s?"primary":"default",children:s?e.jsx(H,{}):e.jsx(K,{})})}):null}const oe={light:J,dark:W};function ne({size:s="medium",tooltip:a,"aria-label":i}){const{resolvedThemeMode:c,toggleTheme:r}=Y(),{t:l}=k(),f=oe[c],h=()=>{r()},g=()=>a||(c==="light"?l("theme.switchToDark","Switch to dark theme"):l("theme.switchToLight","Switch to light theme")),m=()=>i||`Toggle theme, currently ${c}`;return e.jsx(E,{title:g(),arrow:!0,children:e.jsx(w,{onClick:h,size:s,"aria-label":m(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:e.jsx(f,{})})})}const y=t.forwardRef(({playerList:s,onClick:a,innerRef:i,...c},r)=>{const l=r||i;return a?e.jsxs(N,{...c,ref:l,onClick:a,sx:{display:"flex",alignItems:"center",borderRadius:1,px:.5,py:.25,minWidth:44,minHeight:44,color:"text.primary",fontSize:"inherit",fontWeight:500,"&:hover":{backgroundColor:"action.hover"},"&:focus":{backgroundColor:"action.focus"}},children:[e.jsx(v,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]}):e.jsxs("div",{...c,ref:l,style:{display:"flex",alignItems:"center",color:"var(--mui-palette-text-primary)",fontWeight:500},children:[e.jsx(v,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]})});y.displayName="PlayersOnline";const ae=t.lazy(()=>j(()=>import("./index.tsx-On1TBhUE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),re=t.lazy(()=>j(()=>import("./index.tsx-DCrcJ_K7.js"),__vite__mapDeps([16,8,1,2,4,17,10,11,18,6,19,13,14,15,20,21,22,9,5,12]))),ie=t.lazy(()=>j(()=>import("./index.tsx-BAJyD6Rv.js"),__vite__mapDeps([23,1,2,24,25,20,10,8,11,13,14,15])));function ce(){return e.jsx($,{size:16})}function Se({room:s,playerList:a=[]}){const{t:i}=k(),[c,r]=t.useState(!1),[l,f]=t.useState(!1),[h,g]=t.useState(!1),{schedule:m}=ee(),p=Z(),u=t.useRef(null),x=()=>{r(!0),g(!0)},o=()=>{f(!l)},d=()=>{f(!1)};return e.jsx(M,{position:"fixed",children:e.jsxs(L,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[e.jsxs("div",{className:"site-name",children:[e.jsx(B,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:se}),e.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),e.jsx("div",{children:e.jsxs("div",{className:"nav-room-name",children:[e.jsx("h2",{children:X(s)||s===void 0?i("public"):s}),e.jsx(y,{playerList:a,onClick:o,ref:u,"aria-label":i("online"),"aria-expanded":l,"aria-haspopup":"dialog"}),e.jsx(w,{onClick:x,"aria-label":"schedule game",sx:{ml:2},children:e.jsx(G,{color:"primary",badgeContent:h?null:m.length,children:e.jsx(V,{})})}),c&&e.jsx(U,{children:e.jsx(t.Suspense,{fallback:e.jsx(ce,{}),children:e.jsx(ae,{open:c,close:()=>r(!1),isMobile:p})})}),a.length>0&&e.jsx(t.Suspense,{fallback:null,children:e.jsx(ie,{isOpen:l,onClose:d,playerList:a,anchorEl:u.current})})]})}),e.jsxs("div",{className:"menu-drawer",children:[e.jsx(ne,{size:"medium","aria-label":"Toggle between light and dark theme"}),e.jsx(te,{}),e.jsx(t.Suspense,{fallback:null,children:e.jsx(re,{})})]})]})})}const Ce={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};export{pe as A,ge as C,Se as N,ee as a,xe as b,we as c,Ce as l,Z as u};

import{i as p}from"./chunk-Bp62TkGl.js";import{g}from"./chunk-B4PEA_xj.js";import{j as i}from"./chunk-DDoLnHI0.js";import{B as l}from"./chunk-D59Sa5ya.js";function b(o){const e=/vimeo\.com\/(\d+)/,t=o.match(e);return`https://player.vimeo.com/video/${t?t[1]:""}?autoplay=1&loop=1&autostart=true`}function h(o){const e=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|[^#]*[?&]v=|youtu\.be\/)([^"&?/ ]{11})|^(?:[^"&?/ ]{11})$)/,t=o.match(e);return`https://www.youtube.com/embed/${t?t[1]:""}?autoplay=1&loop=1&autostart=true`}function f(o){const e=/drive\.google\.com\/file\/d\/([^/]+)/,t=o.match(e);return`https://drive.google.com/file/d/${t?t[1]:""}/preview?loop=1`}function v(o){const e=/dropbox\.com\/s\/([^/]+)/,t=o.match(e);return`https://www.dropbox.com/s/${t?t[1]:""}?raw=1`}function k(o){return`https://pornhub.com/embed/${new URL(o).searchParams.get("viewkey")||""}?autoplay=1&loop=1&autostart=true`}function x(o){const e=o.split("-");return`https://xhamster.com/xembed.php?video=${e[e.length-1]}?autoplay=1&loop=1&autostart=true`}function y(o){if(o.includes("discordapp.net")&&o.includes("imgur.com")&&o.endsWith(".mp4"))return o;const e=/imgur\.com\/([a-zA-Z0-9]+)(?:\.mp4)?|images-ext-\d+\.discordapp\.net\/external\/[^/]+\/https\/i\.imgur\.com\/([a-zA-Z0-9]+)\.mp4/,t=o.match(e);return`https://i.imgur.com/${t?t[1]||t[2]:""}.mp4`}function a(o){return/\.(mp4|webm|ogg|mov)(\?.*)?$/.test(o)}function w(o){return r(o,["media.discordapp.net","cdn.discordapp.com"])&&!a(o)}function r(o,e){return e.some(t=>o.includes(t))}function I(o){let e=null,t=!0;if(!o)return{url:"",isVideo:!1};switch(!0){case o.includes("vimeo.com"):e=b(o);break;case r(o,["youtube.com","youtu.be"]):e=h(o);break;case o.includes("drive.google.com"):e=f(o);break;case o.includes("pornhub.com"):e=k(o);break;case o.includes("xhamster.com"):e=x(o);break;case o.includes("dropbox.com"):e=v(o);break;case r(o,["imgur.com","i.imgur.com","discordapp.net","imgur.com"]):e=y(o);break;case r(o,["thisvid.com","boyfriendtv.com"]):e=o;break;case w(o):e=o,t=!1;break;case a(o):e=o;break;default:e=g(o),t=!1;break}return{url:e,isVideo:t}}function j(o,e,t){const{background:c,backgroundURL:m,roomBackground:n}=o,u=c!=="custom"?c:m,d=n==="app"?n:t,s=!p(e)&&n!=="app"?d:u;return s?I(s):{url:null,isVideo:!1}}function P({url:o=null,isVideo:e=null}){const t=o&&/\.(mp4|webm|ogg|mov)(\?.*)?$/i.test(o);return i.jsx(l,{className:"main-container",role:"presentation",sx:{backgroundImage:!e&&o?`url(${o})`:"none"},children:e&&(t?i.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,src:o||void 0,className:"video-background"}):i.jsx("iframe",{width:"100%",height:"100%",src:o||void 0,title:"video",allowFullScreen:!0,allow:"autoplay",style:{border:0}}))})}export{P as R,j as g,I as p};

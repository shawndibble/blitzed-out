import{l as b}from"./chunk-CadZxfdX.js";import{a as f,r as v}from"./chunk-BHSFqGHu.js";import{j as i,z as h,E as m,au as y}from"./chunk-N4nyP3yz.js";import{T as x}from"./chunk-BpB-XA3T.js";import{u as R}from"./chunk-D_9T5wBr.js";function T(u,a,l){var s,o;typeof u=="function"?(s=a||[],o=l):(s=[],o=a);var r=f.useRef({hasResult:!1,result:o,error:null}),c=f.useReducer(function(e){return e+1},0);c[0];var p=c[1],d=f.useMemo(function(){var e=typeof u=="function"?u():u;if(!e||typeof e.subscribe!="function")throw u===e?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!r.current.hasResult&&typeof window<"u"&&(typeof e.hasValue!="function"||e.hasValue()))if(typeof e.getValue=="function")r.current.result=e.getValue(),r.current.hasResult=!0;else{var t=e.subscribe(function(n){r.current.result=n,r.current.hasResult=!0});typeof t=="function"?t():t.unsubscribe()}return e},s);if(f.useDebugValue(r.current.result),f.useEffect(function(){var e=d.subscribe(function(t){var n=r.current;(n.error!==null||n.result!==t)&&(n.error=null,n.result=t,n.hasResult=!0,p())},function(t){var n=r.current;n.error!==t&&(n.error=t,p())});return typeof e=="function"?e:e.unsubscribe.bind(e)},s),r.current.error)throw r.current.error;return r.current.result}function O(u,a,l){return T(function(){return b(u)},[],l)}function V({text:u,copiedText:a=null,icon:l=null,tooltip:s=null}){const{t:o}=R(),[r,c]=v.useState(!1),p=a||o("copied"),d=l||i.jsx(y,{}),e=()=>{navigator.clipboard.writeText(u),c(!0)},t=()=>c(!1);return i.jsxs(i.Fragment,{children:[i.jsx(h,{title:s||o("copyToClipboard"),children:i.jsx(m,{onClick:e,children:d})}),i.jsx(x,{open:r,close:t,type:"success",children:p})]})}export{V as C,O as u};

import{r as u,j as t,bg as g,a1 as x}from"./chunk-u7ZaklyY.js";import{u as v}from"./chunk-C9_0996G.js";import{a as j}from"./chunk-B9ZI5LMZ.js";import{T as N}from"./chunk-CaW1sHrf.js";import{i as w}from"./chunk-TwlrgFmp.js";import"./chunk-C1hnJ-He.js";import"./chunk-DWzmHgJq.js";import"../assets/index-CVlHkNKo.js";import"./chunk-CaZ9lMwi.js";import"./chunk-D4nXmTaT.js";import"./chunk-Bgbo4R2z.js";import"./chunk-C48T_nTb.js";import"./chunk-DjaG2sW1.js";import"./chunk-CND3TB5P.js";import"./schedule.tsx-DOJtXiNw.js";import"./chunk-BiwWZ2hC.js";import"./theme.tsx-DwaA67xR.js";import"./chunk-oPiDCeK5.js";import"./chunk-Cnn_1dqX.js";import"./chunk-EGvb8o6m.js";import"./chunk-DdqCdLjH.js";import"./chunk-ChcwkL0l.js";import"./chunk-DwL-0EEr.js";import"./chunk-CcakAADA.js";import"./chunk-6vR-ehJY.js";import"./chunk-Co28FzxB.js";import"./index.tsx-S6f0r2K5.js";import"./chunk-C7FGIcMV.js";(function(){var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};i.SENTRY_RELEASE={id:"b0aec1b7336667c3da787da9b7139ec106644213"}})();try{(function(){var i=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new i.Error().stack;a&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[a]="efa4d6dc-a5e2-4c9a-9456-b409d3383b6b",i._sentryDebugIdIdentifier="sentry-dbid-efa4d6dc-a5e2-4c9a-9456-b409d3383b6b")})()}catch{}function A({title:i,description:a,players:r,current:l,isTransparent:n,className:d}){const m=u.useMemo(()=>r.map(e=>t.jsx(N,{displayName:e.displayName||"",uid:e.uid||""},e.uid)),[r]),c=u.useRef(null);u.useEffect(()=>{c.current&&l&&c.current.scrollIntoView({behavior:"smooth"})},[l]);const s=[l&&"pulse-animation",n&&"gray-tiles",d].join(" ").trim();return t.jsxs("li",{className:s,ref:c,children:[t.jsxs("div",{className:"tile-title-row",children:[t.jsx("div",{className:`tile-title ${n&&"pop-text"}`,children:i}),t.jsx("div",{className:"player-indicator",children:t.jsx(g,{max:4,children:m})})]}),t.jsx(x,{sx:{margin:"0.5rem 0"}}),t.jsx("div",{className:`tile-description ${n&&"pop-text"}`,children:a})]})}function L({playerList:i,isTransparent:a,gameBoard:r,settings:l}){const{user:n}=v();if(!Array.isArray(r)||!r.length)return null;const d=[];i&&Array.isArray(i)&&i.forEach(e=>{w(e)&&d.push({id:e.localId,name:e.displayName,role:e.role,order:e.order,isActive:e.isSelf,deviceId:"local-device",location:e.location,isFinished:e.isFinished})});const m=new Set;r.forEach(({title:s},e)=>{s&&e!==0&&e!==r.length-1&&m.add(s)});const c=r.map((s,e)=>{const h=i.filter(o=>o.location===e),f=i.find(o=>o.isSelf&&o.location===e&&e!==0)||null,b=Array.from(m).indexOf(s.title)%10+1,y=!l.hideBoardActions||e===0||f?j(s.description||"",l.role||"sub",n?.displayName||"",d.length>0?d:void 0,!0):(s.description||"").replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?"),p={title:s.title,description:s.description,players:h.map(o=>({...o,isSelf:o.isSelf||!1,isFinished:!1})),current:f?{...f,isSelf:f.isSelf||!1,isFinished:!1}:null,isTransparent:a,className:`hue${b}`};return t.jsx(A,{title:`#${e+1}: ${s.title}`,description:y,players:p.players,current:p.current,isTransparent:p.isTransparent,className:p.className},e)});return t.jsx("div",{className:"gameboard transparent-scrollbar",children:t.jsx("ol",{children:c})})}export{L as default};
//# sourceMappingURL=index.tsx-BRipS5mv.js.map

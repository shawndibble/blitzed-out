import{u as O,b as n,aj as W,aq as F,j as e,M as R,ar as r,as as q,at as g,au as v,av as w,aw as i,t as S,S as G,a3 as m,ae as V,Q as U,ax as Q,ay as Y}from"./chunk-DCqCmTw7.js";import{A as H}from"./chunk-D9KJ0g3I.js";import J from"./index.tsx-Dd0_kjfE.js";import{l as X,N as Z}from"./chunk-Ddv6gvN9.js";import{u as $,a as ee}from"./chunk-BqV4rolb.js";import{x as ae}from"./chunk-5SGEHjMG.js";import{P as se,a as ne,b as te}from"./chunk-DyYP0jr7.js";import"./chunk-rJHcTq4h.js";import"./chunk-YpQmZHCE.js";import"../assets/index-CRbdjLFF.js";import"./chunk-BxyRzOKK.js";import"./chunk-DEqwrMjb.js";import"./chunk-BKkrGAF_.js";(function(){var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};s.SENTRY_RELEASE={id:"b82d01bea29447e452b49ba3e85b9fac2f7942a4"}})();try{(function(){var s=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},t=new s.Error().stack;t&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[t]="b05e0bca-4f14-4acd-bb4d-b5e47f6cbfaf",s._sentryDebugIdIdentifier="sentry-dbid-b05e0bca-4f14-4acd-bb4d-b5e47f6cbfaf")})()}catch(s){}function xe(){var s;const{i18n:t,t:C}=O(),{login:h,user:f}=$(),[N,c]=n.useState(!1),[L,b]=n.useState("login"),[p,x]=n.useState(!1),D=()=>{b("login"),c(!0)},I=()=>{b("register"),c(!0)},z=W(),[A]=F(),E=!!A.get("importBoard"),d=(s=z.id)!=null?s:"PUBLIC",K=ee(),[o,T]=n.useState((f==null?void 0:f.displayName)||""),[y,j]=ae(),u=n.useCallback(async a=>{a.preventDefault(),await j({...y,displayName:o,room:d}),await h(o)},[o,h,d,y,j]),P=n.useCallback(async a=>{a.key==="Enter"&&await u(a)},[u]),k=t.resolvedLanguage||"en",B=n.useCallback(async a=>{const l=a.target.value;x(!0);try{await t.changeLanguage(l)}catch(M){console.error("Error changing language:",M),await t.changeLanguage(l)}finally{x(!1)}},[t]),_=n.useMemo(()=>Object.entries(X).map(([a,l])=>e.jsx(R,{value:a,children:l.label},a)),[]);return e.jsxs(e.Fragment,{children:[e.jsx(Z,{room:d,playerList:K}),e.jsxs(r,{className:"unauthenticated-container gradient-background-vibrant",children:[e.jsx(q,{maxWidth:"lg",sx:{pt:8},children:e.jsxs(g,{container:!0,spacing:4,justifyContent:"center",alignItems:"stretch",children:[e.jsx(g,{size:{xs:12,md:6,lg:4},children:e.jsx(v,{className:"unauthenticated-card main-setup-card",children:e.jsxs(w,{children:[e.jsx("h2",{className:"setup",children:e.jsx(i,{i18nKey:"setup"})}),e.jsx(S,{className:"setup-subtitle",variant:"body1",children:e.jsx(i,{i18nKey:"setupSubtitle"})}),e.jsxs(r,{component:"form",method:"post",onSubmit:u,className:"settings-box",children:[e.jsx(G,{fullWidth:!0,id:"displayName",label:C("displayName"),value:o,onChange:a=>T(a.target.value),required:!0,autoFocus:!0,onKeyDown:a=>P(a),margin:"normal"}),e.jsx(m,{variant:"contained",type:"submit",fullWidth:!0,className:"jump-in-button",size:"large",startIcon:e.jsx(se,{}),sx:{mt:2,py:1.25,fontSize:"1.1rem",fontWeight:600},children:E?e.jsx(i,{i18nKey:"import"}):e.jsx(i,{i18nKey:"anonymousLogin"})}),e.jsx(V,{sx:{my:3},children:e.jsx(S,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:e.jsx(i,{i18nKey:"or"})})}),e.jsxs(r,{className:"auth-button-container",children:[e.jsx(m,{variant:"outlined",startIcon:e.jsx(ne,{}),onClick:D,size:"medium",children:e.jsx(i,{i18nKey:"signIn"})}),e.jsx(m,{variant:"outlined",onClick:I,size:"medium",children:e.jsx(i,{i18nKey:"createAccount"})})]})]})]})})}),e.jsx(g,{size:{md:12,lg:8},children:e.jsx(v,{className:"unauthenticated-card",children:e.jsx(w,{children:e.jsx(J,{})})})})]})}),e.jsx(r,{className:"footer-language-container",children:e.jsxs(r,{className:"footer-language-selector",children:[e.jsx(te,{sx:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)"}}),e.jsx(U,{size:"small",sx:{minWidth:120},children:e.jsx(Q,{value:k,disabled:p,onChange:B,size:"small",variant:"standard",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem","& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.5)"},"&:before":{borderBottomColor:"rgba(255, 255, 255, 0.3)"},"&:hover:before":{borderBottomColor:"rgba(255, 255, 255, 0.5)"}},endAdornment:p&&e.jsx(Y,{size:14}),children:_})})]})})]}),e.jsx(H,{open:N,close:()=>c(!1),initialView:L})]})}export{xe as default};
//# sourceMappingURL=index.tsx-Bo49F5-U.js.map

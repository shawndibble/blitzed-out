import{r as f,j as r,a$ as j,a1 as N}from"./chunk-D2_qQxSg.js";import{u as v}from"./chunk-D4IBfjsB.js";import{a as A}from"./chunk-Dsn1gWRO.js";import{T as y}from"./chunk-Dl9hTppM.js";import"./chunk-D8BtDPHk.js";import"../assets/index-DEEe7SZO.js";import"./chunk-C8C4XuLE.js";import"./chunk-DZ7Mr-wA.js";import"./index.tsx-DOH9TURu.js";import"./chunk-C7feziKp.js";import"./chunk-yLOK5aTh.js";import"./chunk-DFIsvTz4.js";import"./chunk-CTsPFjsR.js";import"./chunk-CmBVKN-k.js";import"./chunk-DGOpMDGJ.js";import"./chunk-C7PvMB7v.js";import"./chunk-B4PEA_xj.js";import"./chunk-PQZfF7wR.js";import"./chunk-40lcxo3e.js";import"./chunk-DHrS90Mu.js";import"./chunk-BfTPEqPF.js";import"./chunk-BXlYzlZ6.js";import"./chunk-DRvdNVj8.js";import"./chunk-CZIyRXrA.js";import"./chunk-PfVrh0Ug.js";import"./index.tsx-DX4IF_4Z.js";import"./chunk-BFycW0zS.js";function S({title:m,description:u,players:s,current:o,isTransparent:a,className:c}){const d=f.useMemo(()=>s.map(l=>r.jsx(y,{displayName:l.displayName||"",uid:l.uid||""},l.uid)),[s]),i=f.useRef(null);f.useEffect(()=>{i.current&&o&&i.current.scrollIntoView({behavior:"smooth"})},[o]);const t=[o&&"pulse-animation",a&&"gray-tiles",c].join(" ").trim();return r.jsxs("li",{className:t,ref:i,children:[r.jsxs("div",{className:"tile-title-row",children:[r.jsx("div",{className:`tile-title ${a&&"pop-text"}`,children:m}),r.jsx("div",{className:"player-indicator",children:r.jsx(j,{max:4,children:d})})]}),r.jsx(N,{sx:{margin:"0.5rem 0"}}),r.jsx("div",{className:`tile-description ${a&&"pop-text"}`,children:u})]})}function Y({playerList:m,isTransparent:u,gameBoard:s,settings:o}){const{user:a}=v();if(!Array.isArray(s)||!s.length)return null;const c=new Set;s.forEach(({title:i},t)=>{i&&t!==0&&t!==s.length-1&&c.add(i)});const d=s.map((i,t)=>{const l=m.filter(e=>e.location===t),n=m.find(e=>e.isSelf&&e.location===t&&t!==0)||null,h=Array.from(c).indexOf(i.title)%10+1,x=!o.hideBoardActions||t===0||n?A(i.description||"",o.role||"sub",a.displayName||""):(i.description||"").replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?"),p={title:i.title,description:i.description,players:l.map(e=>({...e,isSelf:e.isSelf||!1,isFinished:!1})),current:n?{...n,isSelf:n.isSelf||!1,isFinished:!1}:null,isTransparent:u,className:`hue${h}`};return r.jsx(S,{title:`#${t+1}: ${i.title}`,description:x,players:p.players,current:p.current,isTransparent:p.isTransparent,className:p.className},t)});return r.jsx("div",{className:"gameboard transparent-scrollbar",children:r.jsx("ol",{children:d})})}export{Y as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-Cs8ki8VN.js","js/chunk-B8izEdPk.js","js/chunk-B5PHAmSG.js","js/chunk-BoRVzNTi.js","js/chunk-BwSveqi_.js","js/chunk-6VL6qIn1.js","js/chunk-B4PEA_xj.js","js/chunk-BoPr9Q_X.js","assets/index-DHZ0xqMM.js","js/schedule.tsx-DSYAXEVL.js","js/chunk-Bg66iSD7.js","js/chunk-B4ipE-Yx.js","js/theme.tsx-DMXKS2rg.js","js/chunk-DEA6y773.js","js/chunk-Sx7sZXMQ.js","js/chunk-BWRJAup5.js","js/index.tsx-CSC9QS2J.js","js/chunk-DKXlFPsD.js","js/chunk-CwLnOYyf.js","js/chunk-yLOK5aTh.js","js/chunk-HelPtATz.js","js/chunk-DV4CcANF.js","js/chunk-Cb29ud5S.js","js/index.tsx-CeB8o-3I.js","js/chunk-BMfosPo5.js","js/chunk-DEJlsZFS.js"])))=>i.map(i=>d[i]);
import{_ as v}from"../assets/index-DHZ0xqMM.js";import{a7 as O,E as R,K as B,r as o,ad as G,j as e,aE as _,au as T,I as j,ak as z,aF as $,G as U,M as F,aG as q,aH as W,B as H,aI as K,aJ as J,am as V,aK as Q,aC as X,at as Y,s as y,aL as Z,aM as ee,aN as te}from"./chunk-B8izEdPk.js";import{ScheduleContext as se}from"./schedule.tsx-DSYAXEVL.js";import{e as oe,f as ne,g as D,D as re,h as ae,i as A,j as ie,k as ce,l as le}from"./chunk-BwSveqi_.js";import{useTheme as de}from"./theme.tsx-DMXKS2rg.js";import{i as ue}from"./chunk-DEA6y773.js";const Ee={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};function me(){const t=O.useContext(se);if(!t)throw new Error("ScheduleContext's value is undefined.");return t}function he(t="sm"){const r=R();return B(r.breakpoints.down(t))}const ge="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;window.__castScriptLoading=window.__castScriptLoading||!1;function fe(){const[t,r]=o.useState(!1),[i,c]=o.useState(null),{id:a}=G(),m=o.useRef(null),[g,f]=o.useState(!1),[w,p]=o.useState(!1),l=o.useCallback((s=!1)=>{r(!1),c(null),s&&p(!1)},[]),d=o.useCallback(s=>{try{const u=`${window.location.origin}/${a}/cast`;s.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:u})}catch(u){console.error("Error sending cast message:",u)}},[a]);o.useEffect(()=>{const s=()=>{try{if(!window?.cast?.framework)return;if(window.__castApiInitialized){f(!0),u();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:window.chrome?.cast?.AutoJoinPolicy?.ORIGIN_SCOPED}),window.__castApiInitialized=!0,f(!0),u()}catch(n){console.error("Error initializing Cast API:",n)}},u=()=>{try{const n=window.cast?.framework?.CastContext.getInstance();if(!n)return;const S=n.getCurrentSession();if(S&&(r(!0),c(S),a&&d(S)),!window?.cast?.framework)return;n.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,I=>{const C=n.getCurrentSession();switch(I.sessionState){case window.cast?.framework?.SessionState.SESSION_STARTED:case window.cast?.framework?.SessionState.SESSION_RESUMED:w||(r(!0),c(C),C&&a&&d(C));break;case window.cast?.framework?.SessionState.SESSION_ENDED:l(!0);break;default:I.sessionState==="SESSION_ENDING"&&l();break}})}catch(n){console.error("Error setting up session listener:",n)}};if(window.chrome&&window.chrome.cast&&window.cast)s();else if(window.__onGCastApiAvailable=function(n){n&&s()},!document.querySelector('script[src*="cast_sender.js"]')&&!window.__castScriptLoading){window.__castScriptLoading=!0;const n=document.createElement("script");n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",n.onload=()=>{window.__castScriptLoading=!1},n.onerror=()=>{window.__castScriptLoading=!1,console.error("Failed to load Cast SDK")},document.head.appendChild(n)}return()=>{}},[a,d,w,l]);const x=()=>{if(!g){console.warn("Cast API not ready yet");return}if(t){p(!0),l();try{const s=window.cast?.framework?.CastContext.getInstance();s&&s.endCurrentSession(!0),i&&i.endSession(!0)}catch{}}else{p(!1);try{const s=window.cast?.framework?.CastContext.getInstance();s&&s.requestSession().catch(u=>console.error("Error requesting cast session:",u))}catch(s){console.error("Error requesting cast session:",s)}}};return o.useEffect(()=>{t&&i&&a&&d(i)},[a,t,i,d]),g?e.jsx(_,{title:t?T("stopCasting"):T("startCasting"),children:e.jsx(j,{ref:m,onClick:x,color:t?"primary":"default",children:t?e.jsx(oe,{}):e.jsx(ne,{})})}):null}const M={light:ae,dark:re,system:D},pe={light:"Light theme",dark:"Dark theme",system:"Follow system"};function xe({size:t="medium",variant:r="menu",tooltip:i,showLabels:c=!0,"aria-label":a}){const m=R(),{themeMode:g,resolvedThemeMode:f,setThemeMode:w,toggleTheme:p}=de(),{t:l}=z(),[d,x]=O.useState(null),s=!!d,n=g==="system"?D:M[f],S=()=>{r==="toggle"?p():x(null)},I=h=>{r==="menu"?x(h.currentTarget):S()},C=()=>{x(null)},L=h=>{w(h),C()},k=()=>i||(r==="toggle"?f==="light"?l("theme.switchToDark","Switch to dark theme"):l("theme.switchToLight","Switch to light theme"):l("theme.chooseTheme","Choose theme")),E=()=>a||(r==="toggle"?`Toggle theme, currently ${f}`:`Theme menu, currently ${g}`);return r==="toggle"?e.jsx(_,{title:k(),arrow:!0,children:e.jsx(j,{onClick:S,size:t,"aria-label":E(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:e.jsx(n,{})})}):e.jsxs(e.Fragment,{children:[e.jsx(_,{title:k(),arrow:!0,children:e.jsx(j,{onClick:I,size:t,"aria-label":E(),"aria-controls":s?"theme-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,sx:{transition:"all 0.3s ease",backgroundColor:s?"action.selected":"transparent","&:hover":{transform:"scale(1.05)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"}},children:e.jsx(n,{})})}),e.jsx($,{id:"theme-menu",anchorEl:d,open:s,onClose:C,TransitionComponent:U,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{elevation:8,sx:{mt:1,minWidth:160,borderRadius:2,border:`1px solid ${m.palette.divider}`,"& .MuiMenuItem-root":{borderRadius:1,margin:"2px 4px",transition:"all 0.2s ease","&:hover":{backgroundColor:"action.hover",transform:"translateX(4px)"}}}},children:["light","dark","system"].map(h=>{const N=M[h],b=g===h;return e.jsxs(F,{onClick:()=>L(h),selected:b,sx:{fontWeight:b?600:400,backgroundColor:b?"action.selected":"transparent"},children:[e.jsx(q,{sx:{minWidth:36},children:e.jsx(N,{fontSize:"small",sx:{color:b?"primary.main":"text.secondary",transition:"color 0.2s ease"}})}),c&&e.jsx(W,{primary:l(`theme.${h}`,pe[h]),sx:{"& .MuiListItemText-primary":{fontSize:"0.875rem",color:b?"primary.main":"text.primary",transition:"color 0.2s ease"}}})]},h)})})]})}const P=o.forwardRef(({playerList:t,onClick:r,innerRef:i,...c},a)=>{const m=a||i;return r?e.jsxs(H,{...c,ref:m,onClick:r,sx:{display:"flex",alignItems:"center",borderRadius:1,px:.5,py:.25,minWidth:44,minHeight:44,color:"text.primary",fontSize:"inherit",fontWeight:500,"&:hover":{backgroundColor:"action.hover"},"&:focus":{backgroundColor:"action.focus"}},children:[e.jsx(A,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),t.length]}):e.jsxs("div",{...c,ref:m,style:{display:"flex",alignItems:"center",color:"var(--mui-palette-text-primary)",fontWeight:500},children:[e.jsx(A,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),t.length]})});P.displayName="PlayersOnline";const we=o.lazy(()=>v(()=>import("./index.tsx-Cs8ki8VN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),Se=o.lazy(()=>v(()=>import("./index.tsx-CSC9QS2J.js"),__vite__mapDeps([16,8,1,2,4,17,10,11,18,13,14,15,6,19,20,21,22,9,5,12]))),Ce=o.lazy(()=>v(()=>import("./index.tsx-CeB8o-3I.js"),__vite__mapDeps([23,1,2,24,25,20,10,8,11,13,14,15])));function be(){return e.jsx(Y,{size:16})}function Te({room:t,playerList:r=[]}){const{t:i}=z(),[c,a]=o.useState(!1),[m,g]=o.useState(!1),[f,w]=o.useState(!1),{schedule:p}=me(),l=he(),d=o.useRef(null),x=()=>{a(!0),w(!0)},s=()=>{g(!m)},u=()=>{g(!1)};return e.jsx(K,{position:"fixed",children:e.jsxs(J,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[e.jsxs("div",{className:"site-name",children:[e.jsx(V,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:ge}),e.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),e.jsx("div",{children:e.jsxs("div",{className:"nav-room-name",children:[e.jsx("h2",{children:ue(t)||t===void 0?i("public"):t}),e.jsx(P,{playerList:r,onClick:s,ref:d,"aria-label":i("online"),"aria-expanded":m,"aria-haspopup":"dialog"}),e.jsx(j,{onClick:x,"aria-label":"schedule game",sx:{ml:2},children:e.jsx(Q,{color:"primary",badgeContent:f?null:p.length,children:e.jsx(ie,{})})}),c&&e.jsx(X,{children:e.jsx(o.Suspense,{fallback:e.jsx(be,{}),children:e.jsx(we,{open:c,close:()=>a(!1),isMobile:l})})}),r.length>0&&e.jsx(o.Suspense,{fallback:null,children:e.jsx(Ce,{isOpen:m,onClose:u,playerList:r,anchorEl:d.current})})]})}),e.jsxs("div",{className:"menu-drawer",children:[e.jsx(xe,{size:"medium",variant:"menu","aria-label":"Toggle theme menu - choose between light, dark, or system theme"}),e.jsx(fe,{}),e.jsx(o.Suspense,{fallback:null,children:e.jsx(Se,{})})]})]})})}const Ae=y(t=>e.jsx(Z,{disableGutters:!0,elevation:0,square:!0,...t}))(({theme:t})=>({border:`1px solid ${t.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),Me=y(ee)(({theme:t})=>({padding:t.spacing(2),borderTop:`1px solid ${t.palette.divider}`})),Oe=y(t=>e.jsx(te,{expandIcon:e.jsx(ce,{sx:{fontSize:"0.9rem"}}),...t}))(({theme:t})=>({backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}));function Re({close:t}){return e.jsx(j,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8},children:e.jsx(le,{})})}export{Ae as A,Re as C,Te as N,me as a,Oe as b,Me as c,Ee as l,he as u};

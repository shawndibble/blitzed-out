const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-CB-H8tho.js","js/chunk-CuiXkX8P.js","js/chunk-egNdA1zK.js","js/chunk-BFpgY9ez.js","js/chunk-TWFKvN56.js","js/chunk-C4k9x7Tg.js","js/chunk-B4PEA_xj.js","js/chunk-BWqnYL4L.js","assets/index-Db2Qm3H5.js","js/schedule.tsx-DiCSsRPt.js","js/chunk-B1QiqDdb.js","js/chunk-B4ipE-Yx.js","js/theme.tsx-BKSIPaKT.js","js/chunk-C23dXeOO.js","js/chunk-Bkb4xddn.js","js/chunk-CdPrcTJM.js","js/index.tsx-C1oEclCg.js","js/chunk-CdxCjvy-.js","js/chunk-28Y3LTyE.js","js/chunk-yLOK5aTh.js","js/chunk-BwPojoAX.js","js/chunk-CDXl9mZc.js","js/chunk-BreGaeep.js","js/index.tsx-2SoNPN1h.js","js/chunk-wk-de2QX.js","js/chunk-BCNA97Vt.js"])))=>i.map(i=>d[i]);
import{_}from"../assets/index-Db2Qm3H5.js";import{a7 as A,E as T,K as O,r as t,ad as R,j as e,aE as E,au as I,I as w,ak as k,B as D,aF as z,aG as P,am as N,aH as M,aC as L,at as B,s as j,aI as G,aJ as U,aK as $}from"./chunk-CuiXkX8P.js";import{ScheduleContext as q}from"./schedule.tsx-DiCSsRPt.js";import{e as F,f as H,D as K,g as W,h as v,i as J,j as V,k as Q}from"./chunk-TWFKvN56.js";import{useTheme as Y}from"./theme.tsx-BKSIPaKT.js";import{i as X}from"./chunk-C23dXeOO.js";const ge={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};function Z(){const s=A.useContext(q);if(!s)throw new Error("ScheduleContext's value is undefined.");return s}function ee(s="sm"){const a=T();return O(a.breakpoints.down(s))}const se="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;window.__castScriptLoading=window.__castScriptLoading||!1;function te(){const[s,a]=t.useState(!1),[i,c]=t.useState(null),{id:r}=R(),l=t.useRef(null),[f,h]=t.useState(!1),[g,m]=t.useState(!1),p=t.useCallback((o=!1)=>{a(!1),c(null),o&&m(!1)},[]),u=t.useCallback(o=>{try{const d=`${window.location.origin}/${r}/cast`;o.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:d})}catch(d){console.error("Error sending cast message:",d)}},[r]);t.useEffect(()=>{const o=()=>{try{if(!window?.cast?.framework)return;if(window.__castApiInitialized){h(!0),d();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:window.chrome?.cast?.AutoJoinPolicy?.ORIGIN_SCOPED}),window.__castApiInitialized=!0,h(!0),d()}catch(n){console.error("Error initializing Cast API:",n)}},d=()=>{try{const n=window.cast?.framework?.CastContext.getInstance();if(!n)return;const S=n.getCurrentSession();if(S&&(a(!0),c(S),r&&u(S)),!window?.cast?.framework)return;n.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,b=>{const C=n.getCurrentSession();switch(b.sessionState){case window.cast?.framework?.SessionState.SESSION_STARTED:case window.cast?.framework?.SessionState.SESSION_RESUMED:g||(a(!0),c(C),C&&r&&u(C));break;case window.cast?.framework?.SessionState.SESSION_ENDED:p(!0);break;default:b.sessionState==="SESSION_ENDING"&&p();break}})}catch(n){console.error("Error setting up session listener:",n)}};if(window.chrome&&window.chrome.cast&&window.cast)o();else if(window.__onGCastApiAvailable=function(n){n&&o()},!document.querySelector('script[src*="cast_sender.js"]')&&!window.__castScriptLoading){window.__castScriptLoading=!0;const n=document.createElement("script");n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",n.onload=()=>{window.__castScriptLoading=!1},n.onerror=()=>{window.__castScriptLoading=!1,console.error("Failed to load Cast SDK")},document.head.appendChild(n)}return()=>{}},[r,u,g,p]);const x=()=>{if(!f){console.warn("Cast API not ready yet");return}if(s){m(!0),p();try{const o=window.cast?.framework?.CastContext.getInstance();o&&o.endCurrentSession(!0),i&&i.endSession(!0)}catch{}}else{m(!1);try{const o=window.cast?.framework?.CastContext.getInstance();o&&o.requestSession().catch(d=>console.error("Error requesting cast session:",d))}catch(o){console.error("Error requesting cast session:",o)}}};return t.useEffect(()=>{s&&i&&r&&u(i)},[r,s,i,u]),f?e.jsx(E,{title:s?I("stopCasting"):I("startCasting"),children:e.jsx(w,{ref:l,onClick:x,color:s?"primary":"default",children:s?e.jsx(F,{}):e.jsx(H,{})})}):null}const oe={light:W,dark:K};function ne({size:s="medium",tooltip:a,"aria-label":i}){const{resolvedThemeMode:c,toggleTheme:r}=Y(),{t:l}=k(),f=oe[c],h=()=>{r()},g=()=>a||(c==="light"?l("theme.switchToDark","Switch to dark theme"):l("theme.switchToLight","Switch to light theme")),m=()=>i||`Toggle theme, currently ${c}`;return e.jsx(E,{title:g(),arrow:!0,children:e.jsx(w,{onClick:h,size:s,"aria-label":m(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:e.jsx(f,{})})})}const y=t.forwardRef(({playerList:s,onClick:a,innerRef:i,...c},r)=>{const l=r||i;return a?e.jsxs(D,{...c,ref:l,onClick:a,sx:{display:"flex",alignItems:"center",borderRadius:1,px:.5,py:.25,minWidth:44,minHeight:44,color:"text.primary",fontSize:"inherit",fontWeight:500,"&:hover":{backgroundColor:"action.hover"},"&:focus":{backgroundColor:"action.focus"}},children:[e.jsx(v,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]}):e.jsxs("div",{...c,ref:l,style:{display:"flex",alignItems:"center",color:"var(--mui-palette-text-primary)",fontWeight:500},children:[e.jsx(v,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]})});y.displayName="PlayersOnline";const ae=t.lazy(()=>_(()=>import("./index.tsx-CB-H8tho.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),re=t.lazy(()=>_(()=>import("./index.tsx-C1oEclCg.js"),__vite__mapDeps([16,8,1,2,4,17,10,11,18,13,14,15,6,19,20,21,22,9,5,12]))),ie=t.lazy(()=>_(()=>import("./index.tsx-2SoNPN1h.js"),__vite__mapDeps([23,1,2,24,25,20,10,8,11,13,14,15])));function ce(){return e.jsx(B,{size:16})}function pe({room:s,playerList:a=[]}){const{t:i}=k(),[c,r]=t.useState(!1),[l,f]=t.useState(!1),[h,g]=t.useState(!1),{schedule:m}=Z(),p=ee(),u=t.useRef(null),x=()=>{r(!0),g(!0)},o=()=>{f(!l)},d=()=>{f(!1)};return e.jsx(z,{position:"fixed",children:e.jsxs(P,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[e.jsxs("div",{className:"site-name",children:[e.jsx(N,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:se}),e.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),e.jsx("div",{children:e.jsxs("div",{className:"nav-room-name",children:[e.jsx("h2",{children:X(s)||s===void 0?i("public"):s}),e.jsx(y,{playerList:a,onClick:o,ref:u,"aria-label":i("online"),"aria-expanded":l,"aria-haspopup":"dialog"}),e.jsx(w,{onClick:x,"aria-label":"schedule game",sx:{ml:2},children:e.jsx(M,{color:"primary",badgeContent:h?null:m.length,children:e.jsx(J,{})})}),c&&e.jsx(L,{children:e.jsx(t.Suspense,{fallback:e.jsx(ce,{}),children:e.jsx(ae,{open:c,close:()=>r(!1),isMobile:p})})}),a.length>0&&e.jsx(t.Suspense,{fallback:null,children:e.jsx(ie,{isOpen:l,onClose:d,playerList:a,anchorEl:u.current})})]})}),e.jsxs("div",{className:"menu-drawer",children:[e.jsx(ne,{size:"medium","aria-label":"Toggle between light and dark theme"}),e.jsx(te,{}),e.jsx(t.Suspense,{fallback:null,children:e.jsx(re,{})})]})]})})}const we=j(s=>e.jsx(G,{disableGutters:!0,elevation:0,square:!0,...s}))(({theme:s})=>({border:`1px solid ${s.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),xe=j(U)(({theme:s})=>({padding:s.spacing(2),borderTop:`1px solid ${s.palette.divider}`})),Se=j(s=>e.jsx($,{expandIcon:e.jsx(V,{sx:{fontSize:"0.9rem"}}),...s}))(({theme:s})=>({backgroundColor:s.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:s.spacing(1)}}));function Ce({close:s}){return e.jsx(w,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:8,top:8},children:e.jsx(Q,{})})}export{we as A,Ce as C,pe as N,Z as a,Se as b,xe as c,ge as l,ee as u};

import{j as s,e as r,f as E,G as n,g as m,h as d,B as y,i as G,D as I,T as f,L as F,k as R}from"./chunk-DIlwDadr.js";import{u as V}from"./chunk-BUH-pnvO.js";import{u as W}from"./chunk-DUDGA9-A.js";import{u as q}from"./chunk-BVnPSbgD.js";import{u as M}from"./chunk-1UWoCR28.js";import{l as U}from"./chunk-CWqJFa1D.js";import{r as t,u as z,m as H}from"./chunk-C88u9tZG.js";import{N as J}from"./chunk-DAC3Wct-.js";import Q from"./index.tsx-AZPm4HAS.js";import{A as X}from"./chunk-CFnWWhhY.js";import{u as Y,T as a}from"./chunk-B9fCqsQI.js";import"./chunk-C6-_sXvy.js";import"../assets/index-Bjnmik-V.js";import"./chunk-Bde8qXua.js";import"./chunk-DACrg3UA.js";import"./chunk-Bp62TkGl.js";import"./chunk-05ZANaPc.js";import"./chunk-Cox8a3_y.js";function hs(){const{i18n:o,t:N}=Y(),{login:x,user:b}=V(),[C,l]=t.useState(!1),[L,p]=t.useState("login"),D=()=>{p("login"),l(!0)},v=()=>{p("register"),l(!0)},K=z(),[S]=H(),k=!!S.get("importBoard"),c=K.id??"PUBLIC",w=M(),A=W("sm"),[i,B]=t.useState(b?.displayName||""),[h,g]=q(),u=t.useCallback(async e=>{e.preventDefault(),await g({...h,displayName:i,room:c}),await x(i)},[i,x,c,h,g]),O=t.useCallback(async e=>{e.key==="Enter"&&await u(e)},[u]),j=o.resolvedLanguage,T=t.useMemo(()=>Object.entries(U).map(([e,P])=>s.jsx(r,{onClick:()=>o.changeLanguage(e),disabled:j===e,children:P.label},e)),[o,j]);return s.jsxs(s.Fragment,{children:[s.jsx(J,{room:c,playerList:w}),s.jsxs(E,{maxWidth:"sm",sx:{mt:8},children:[s.jsx(n,{container:!0,flexDirection:"column",children:s.jsx(m,{className:"unauthenticated-card",children:s.jsxs(d,{children:[s.jsx("h2",{className:"setup",children:s.jsx(a,{i18nKey:"setup"})}),s.jsxs(y,{component:"form",method:"post",onSubmit:u,className:"settings-box",children:[s.jsx(G,{fullWidth:!0,id:"displayName",label:N("displayName"),value:i,onChange:e=>B(e.target.value),required:!0,autoFocus:!0,onKeyDown:e=>O(e),margin:"normal"}),s.jsx(r,{variant:"contained",type:"submit",sx:{mr:1},fullWidth:!0,children:k?s.jsx(a,{i18nKey:"import"}):s.jsx(a,{i18nKey:"anonymousLogin"})}),s.jsx(I,{sx:{my:2},children:s.jsx(f,{variant:"body2",color:"text.secondary",children:s.jsx(a,{i18nKey:"or",children:"OR"})})}),s.jsxs(y,{sx:{display:"flex",justifyContent:"space-evenly"},children:[s.jsx(r,{variant:"outlined",startIcon:s.jsx(F,{}),onClick:D,sx:{mr:1},children:s.jsx(a,{i18nKey:"signIn"})}),s.jsx(r,{variant:"outlined",onClick:v,children:s.jsx(a,{i18nKey:"createAccount"})})]})]})]})})}),s.jsx(n,{container:!0,sx:{mt:1},children:s.jsx(n,{className:"language",children:s.jsx(m,{className:"unauthenticated-card",children:s.jsxs(d,{className:"translation-card-content",children:[!A&&s.jsx(R,{sx:{mr:1}}),s.jsxs(f,{sx:{mr:1},children:[s.jsx(a,{i18nKey:"language"}),":"]}),T]})})})}),s.jsx(n,{container:!0,sx:{mt:1},children:s.jsx(n,{className:"language",children:s.jsx(m,{className:"unauthenticated-card",children:s.jsx(d,{children:s.jsx(Q,{})})})})})]}),s.jsx(X,{open:C,close:()=>l(!1),initialView:L})]})}export{hs as default};

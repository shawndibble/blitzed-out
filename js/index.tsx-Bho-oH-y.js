import{b as u,j as t,bg as g,ae as v}from"./chunk-DCqCmTw7.js";import{u as x}from"./chunk-BqV4rolb.js";import{a as j}from"./chunk-C37eCpQN.js";import{T as N}from"./chunk-KDTmw7j3.js";import{i as w}from"./chunk-CDkIGNty.js";import"./chunk-rJHcTq4h.js";import"./chunk-DEqwrMjb.js";import"./chunk-5SGEHjMG.js";import"./chunk-BxyRzOKK.js";import"./chunk-DyYP0jr7.js";import"./chunk-YpQmZHCE.js";import"../assets/index-CRbdjLFF.js";import"./chunk-BKkrGAF_.js";import"./chunk-D4HAf_Fz.js";import"./chunk-Ddv6gvN9.js";import"./chunk-B47UJojq.js";import"./chunk-CJ-p-rHL.js";import"./chunk-Cpw0r6bE.js";import"./chunk-DsesnlQY.js";import"./chunk-CY6JpaOE.js";import"./chunk-Chz5q09A.js";import"./chunk-Bmx5YEUT.js";import"./index.tsx-B-2pevI9.js";import"./chunk-UxByTxDv.js";(function(){var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};i.SENTRY_RELEASE={id:"b82d01bea29447e452b49ba3e85b9fac2f7942a4"}})();try{(function(){var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},l=new i.Error().stack;l&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[l]="d09bf0e4-3447-499c-a8fd-d04e57af2076",i._sentryDebugIdIdentifier="sentry-dbid-d09bf0e4-3447-499c-a8fd-d04e57af2076")})()}catch(i){}function A({title:i,description:l,players:o,current:a,isTransparent:n,className:d}){const f=u.useMemo(()=>o.map(e=>t.jsx(N,{displayName:e.displayName||"",uid:e.uid||""},e.uid)),[o]),c=u.useRef(null);u.useEffect(()=>{c.current&&a&&c.current.scrollIntoView({behavior:"smooth"})},[a]);const s=[a&&"pulse-animation",n&&"gray-tiles",d].join(" ").trim();return t.jsxs("li",{className:s,ref:c,children:[t.jsxs("div",{className:"tile-title-row",children:[t.jsx("div",{className:`tile-title ${n&&"pop-text"}`,children:i}),t.jsx("div",{className:"player-indicator",children:t.jsx(g,{max:4,children:f})})]}),t.jsx(v,{sx:{margin:"0.5rem 0"}}),t.jsx("div",{className:`tile-description ${n&&"pop-text"}`,children:l})]})}function U({playerList:i,isTransparent:l,gameBoard:o,settings:a}){const{user:n}=x();if(!Array.isArray(o)||!o.length)return null;const d=[];i&&Array.isArray(i)&&i.forEach(e=>{w(e)&&d.push({id:e.localId,name:e.displayName,role:e.role,order:e.order,isActive:e.isSelf,deviceId:"local-device",location:e.location,isFinished:e.isFinished})});const f=new Set;o.forEach(({title:s},e)=>{s&&e!==0&&e!==o.length-1&&f.add(s)});const c=o.map((s,e)=>{const h=i.filter(r=>r.location===e),m=i.find(r=>r.isSelf&&r.location===e&&e!==0)||null,b=Array.from(f).indexOf(s.title)%10+1,y=!a.hideBoardActions||e===0||m?j(s.description||"",a.role||"sub",(n==null?void 0:n.displayName)||"",d.length>0?d:void 0,!0):(s.description||"").replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?"),p={title:s.title,description:s.description,players:h.map(r=>({...r,isSelf:r.isSelf||!1,isFinished:!1})),current:m?{...m,isSelf:m.isSelf||!1,isFinished:!1}:null,isTransparent:l,className:`hue${b}`};return t.jsx(A,{title:`#${e+1}: ${s.title}`,description:y,players:p.players,current:p.current,isTransparent:p.isTransparent,className:p.className},e)});return t.jsx("div",{className:"gameboard transparent-scrollbar",children:t.jsx("ol",{children:c})})}export{U as default};
//# sourceMappingURL=index.tsx-Bho-oH-y.js.map

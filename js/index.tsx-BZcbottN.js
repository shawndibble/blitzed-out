import{ak as u,r as m,j as o,bd as h,am as i,T as n,U as g}from"./chunk-D6lSgkQl.js";import{T as b}from"./chunk-BSnoMhQ4.js";import{i as x}from"./chunk-DL9gWoVC.js";import"./chunk-CygiBK7d.js";import"./chunk-DPPXEbBZ.js";import"./chunk-Ctt5Wcgz.js";import"../assets/index-UBYic0Q5.js";import"./chunk-B37hsyTU.js";import"./chunk-FMb2pEqD.js";import"./chunk-B0SuD872.js";import"./chunk-D4N6bcQy.js";function I({isOpen:t,onClose:l,playerList:r,anchorEl:d}){const{t:s}=u(),a=m.useRef(null);return m.useEffect(()=>{t&&a.current&&a.current.focus()},[t]),o.jsx(h,{open:t,anchorEl:d,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{zIndex:1300},slotProps:{paper:{sx:{borderRadius:2,boxShadow:3,p:{xs:1.5,sm:2},backgroundColor:"background.paper"}}},disableRestoreFocus:!0,disableEnforceFocus:!0,children:o.jsxs(i,{ref:a,role:"dialog","aria-label":s("online"),"aria-modal":"true",tabIndex:-1,onKeyDown:e=>{e.key==="Escape"&&l()},children:[o.jsxs(n,{variant:"subtitle2",sx:{mb:1.5,color:"text.secondary",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:.5},children:[r.some(e=>"isLocal"in e&&x(e))?s("players"):s("online")," ","(",r.length,")"]}),o.jsx(i,{sx:{display:"flex",flexDirection:"column",gap:{xs:1,sm:1.5},alignItems:"flex-start"},children:r.map(e=>{const p="isLocal"in e&&e.isLocal,f=r.some(c=>"isLocal"in c&&x(c));return o.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:{xs:.75,sm:1},width:"auto"},children:[o.jsx(b,{uid:e.uid,displayName:e.displayName,size:"medium"}),o.jsxs(i,{sx:{display:"flex",flexDirection:"column",gap:.25,minWidth:0},children:[o.jsxs(n,{variant:"body2",sx:{fontSize:{xs:"0.8125rem",sm:"0.875rem"},color:e.isSelf?"primary.main":"text.primary",fontWeight:e.isSelf?600:400,whiteSpace:"nowrap"},children:[e.displayName,e.isSelf&&o.jsxs(n,{component:"span",sx:{ml:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"},color:"text.secondary"},children:["(",s("you"),")"]})]}),p&&!f&&o.jsx(g,{label:s("localPlayer"),size:"small",color:"secondary",variant:"outlined",sx:{fontSize:"0.625rem",height:"16px",alignSelf:"flex-start"}})]})]},e.uid)})})]})})}export{I as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-DWegGMOL.js","js/chunk-B-cyqPC2.js","js/chunk-CVSdvP5Z.js","js/chunk-CNqt7FHs.js","js/chunk-BVO8KFPS.js","js/chunk-_SwOSjSw.js","js/chunk-BeueL4UK.js","js/chunk-guvQFVv-.js","js/chunk-BUoOus3c.js","js/chunk-E8HqAuJ1.js","assets/index-CZH-e7F_.js","js/chunk-AkXvan0D.js","js/index.tsx-DP4s5rYR.js","js/chunk-DLsc9B5u.js","js/chunk-BO6dzI_Q.js","js/chunk-C9iFBQh5.js","js/chunk-84IffDWI.js","js/chunk-BmM2eEZX.js","js/chunk-U-BuBlCh.js","js/chunk-Pkb0UFv2.js","js/chunk-9Rprt94M.js","js/index.tsx-D58wvM67.js","js/index.tsx-DujN9Q9C.js","js/index.tsx-BONABiTc.js","js/index.tsx-SdoBoV_h.js"])))=>i.map(i=>d[i]);
import{x as X,u as ee,_ as C}from"./chunk-B-cyqPC2.js";import{u as M,j as e,a8 as ne,aA as ae,aa as te,aP as se,b9 as oe,a4 as ie,a3 as R,aw as f,aj as le,b as o,ba as re,M as ce,a5 as ue,bb as de,aU as ge,aV as fe,I as pe,bc as me,ar as V,a7 as he,Q as be,O as xe,ax as ye}from"./chunk-CVSdvP5Z.js";import{T as je,t as _e,Z as Ce,$ as ve,a0 as Le,b as W,a1 as ke,a2 as we,a3 as Se,m as Ie,a4 as De}from"./chunk-_SwOSjSw.js";import{u as Te,D as Pe,A as Ae}from"./chunk-D8j2avet.js";import{u as N,l as E}from"./chunk-BeueL4UK.js";import{a as Ee,b as Me}from"./chunk-U-BuBlCh.js";import"./chunk-CNqt7FHs.js";import"./chunk-BVO8KFPS.js";import"./chunk-E8HqAuJ1.js";import"../assets/index-CZH-e7F_.js";import"./chunk-guvQFVv-.js";import"./chunk-BUoOus3c.js";import"./chunk-AkXvan0D.js";import"./chunk-Pkb0UFv2.js";import"./chunk-9Rprt94M.js";import"./chunk-BO6dzI_Q.js";(function(){var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};a.SENTRY_RELEASE={id:"874067a760cfa9079dd7f585e4ceff298b0e879f"}})();try{(function(){var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},n=new a.Error().stack;n&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[n]="4dbee4fd-7280-4134-b70a-5eb1471f6d82",a._sentryDebugIdIdentifier="sentry-dbid-4dbee4fd-7280-4134-b70a-5eb1471f6d82")})()}catch(a){}var Oe=(a,n,s)=>new Promise((m,p)=>{var l=t=>{try{g(s.next(t))}catch(c){p(c)}},h=t=>{try{g(s.throw(t))}catch(c){p(c)}},g=t=>t.done?m(t.value):Promise.resolve(t.value).then(l,h);g((s=s.apply(a,n)).next())});function Be({open:a,onClose:n,onConfirm:s,onCancel:m,title:p,message:l,confirmText:h,cancelText:g,severity:t="info",confirmColor:c="primary"}){const{t:u}=M(),x=N(),r=()=>{m?m():n()},L=()=>Oe(null,null,function*(){try{yield s(),n()}catch(k){console.error("Confirmation action failed:",k)}});return e.jsxs(ne,{open:a,onClose:n,fullScreen:x,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[e.jsx(ae,{id:"confirmation-dialog-title",children:p}),e.jsxs(te,{children:[t!=="info"&&e.jsxs(se,{severity:t,sx:{mb:2},children:[t==="warning"&&u("warning"),t==="error"&&u("error"),t==="success"&&u("success")]}),e.jsx(oe,{id:"confirmation-dialog-description",children:l})]}),e.jsxs(ie,{sx:{p:2,gap:1},children:[e.jsx(R,{onClick:r,variant:"outlined",fullWidth:x,children:g||u("cancel")}),e.jsx(R,{onClick:L,variant:"contained",color:c,fullWidth:x,autoFocus:!0,children:h||u("confirm")})]})]})}function ze({open:a,onClose:n,onRebuildBoard:s,onKeepBoard:m,fromLanguage:p,toLanguage:l}){var h,g;const{t}=M(),c=((h=E[p])==null?void 0:h.label)||p,u=((g=E[l])==null?void 0:g.label)||l,x=()=>{s(),n()},r=()=>{m(),n()};return e.jsx(Be,{open:a,onClose:n,onConfirm:x,onCancel:r,title:e.jsx(f,{i18nKey:"languageChangeTitle"}),message:e.jsxs(e.Fragment,{children:[e.jsx(f,{i18nKey:"languageChangeMessage",values:{fromLanguage:c,toLanguage:u}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(f,{i18nKey:"languageChangeExplanation"})]}),confirmText:t("rebuildBoardAction"),cancelText:t("keepCurrentBoard"),severity:"info",confirmColor:"primary"})}var Ke=Object.defineProperty,Re=Object.defineProperties,Ve=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,G=(a,n,s)=>n in a?Ke(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s,A=(a,n)=>{for(var s in n||(n={}))We.call(n,s)&&G(a,s,n[s]);if(F)for(var s of F(n))Fe.call(n,s)&&G(a,s,n[s]);return a},U=(a,n)=>Re(a,Ve(n)),v=(a,n,s)=>new Promise((m,p)=>{var l=t=>{try{g(s.next(t))}catch(c){p(c)}},h=t=>{try{g(s.throw(t))}catch(c){p(c)}},g=t=>t.done?m(t.value):Promise.resolve(t.value).then(l,h);g((s=s.apply(a,n)).next())});const Ge=o.lazy(()=>C(()=>import("./index.tsx-DWegGMOL.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Ue=o.lazy(()=>C(()=>import("./index.tsx-DP4s5rYR.js"),__vite__mapDeps([12,2,3,6,5,1,4,7,8,9,10,11,13,14,15,16,17,18,19,20]))),Ne=o.lazy(()=>C(()=>import("./index.tsx-D58wvM67.js"),__vite__mapDeps([21,2,3,6,5,1,4,7,8,9,10,11]))),$e=o.lazy(()=>C(()=>import("./index.tsx-DujN9Q9C.js"),__vite__mapDeps([22,2,3,6,5,1,4,7,8,9,10,11,17,16]))),Qe=o.lazy(()=>C(()=>import("./index.tsx-BONABiTc.js"),__vite__mapDeps([23,2,3,6,5,1,4,7,8,9,10,11,16,19]))),Ye=o.lazy(()=>C(()=>import("./index.tsx-SdoBoV_h.js"),__vite__mapDeps([24,2,3,15,9,1,4,5,10,6,7,8,11,16,17,18,19,20,14])));function fn(){const{id:a}=le(),{user:n,wipeAllData:s,isAnonymous:m}=Te(),p=N(),{i18n:l}=M(),[h,g]=o.useState(!1),t=o.useCallback(i=>g(i),[]),c=X()[0],[u,x]=o.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1,linkAccount:!1,appSettings:!1,languageChange:!1}),r=o.useCallback((i,d)=>x(b=>U(A({},b),{[i]:d})),[]),L=o.useCallback(()=>v(null,null,function*(){yield s(),t(!1)}),[s,t]),k=i=>window.open(i,"_blank","noreferrer"),O=o.useMemo(()=>e.jsx(re,{children:e.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),[]),{setLocale:I,updateSettings:B}=ee(),[$,z]=o.useState(!1),[D,w]=o.useState(null),K=Ee(),{actionsList:T}=Me(c==null?void 0:c.gameMode),Q=o.useCallback(i=>v(null,null,function*(){const d=i.target.value,b=l.resolvedLanguage||"en";if(b!==d){z(!0);try{yield l.changeLanguage(d),I(d),yield new Promise(j=>{const _=()=>{l.off("languageChanged",_),j(void 0)};l.on("languageChanged",_),setTimeout(()=>{l.off("languageChanged",_),j(void 0)},500)}),w({from:b,to:d}),r("languageChange",!0)}catch(j){console.error("Error changing language:",j),yield l.changeLanguage(d),I(d),yield new Promise(_=>{const P=()=>{l.off("languageChanged",P),_(void 0)};l.on("languageChanged",P),setTimeout(()=>{l.off("languageChanged",P),_(void 0)},500)}),w({from:b,to:d}),r("languageChange",!0)}finally{z(!1)}}}),[l,I,r]),S=o.useCallback(i=>v(null,null,function*(){if(i&&T)try{yield K(U(A({},c),{boardUpdated:!0}),T)}catch(d){console.error("Error rebuilding board:",d),B({boardUpdated:!0})}w(null)}),[K,c,T,B]),Y=o.useCallback(()=>v(null,null,function*(){yield S(!0)}),[S]),Z=o.useCallback(()=>v(null,null,function*(){yield S(!1)}),[S]),q=o.useCallback(()=>{w(null),r("languageChange",!1)},[r]),H=o.useMemo(()=>Object.entries(E).map(([i,d])=>e.jsx(ce,{value:i,children:d.label},i)),[]),J=o.useMemo(()=>{const i=[{key:"gameBoard",title:e.jsx(f,{i18nKey:"gameBoards"}),icon:e.jsx(ke,{}),onClick:()=>r("gameBoard",!0)},{key:"customTiles",title:e.jsx(f,{i18nKey:"customTilesLabel"}),icon:e.jsx(we,{}),onClick:()=>r("customTiles",!0)},{key:"cast",title:e.jsx(f,{i18nKey:"tvMode"}),icon:e.jsx(Se,{}),onClick:()=>k(`/${a==null?void 0:a.toUpperCase()}/cast`)},{key:"schedule",title:e.jsx(f,{i18nKey:"schedule"}),icon:e.jsx(Ie,{}),onClick:()=>r("schedule",!0)},{key:"discord",title:"Discord",icon:O,onClick:()=>k("https://discord.gg/mSPBE2hFef")},{key:"about",title:e.jsx(f,{i18nKey:"about"}),icon:e.jsx(De,{}),onClick:()=>r("about",!0)}];return n&&(i.unshift({key:"appSettings",title:e.jsx(f,{i18nKey:"appSettings"}),icon:e.jsx(je,{}),onClick:()=>r("appSettings",!0)}),i.unshift({key:"settings",title:e.jsx(f,{i18nKey:c.advancedSettings?"settings":"setupWizard"}),icon:e.jsx(_e,{}),onClick:()=>r("settings",!0)}),m&&i.push({key:"linkAccount",title:e.jsx(f,{i18nKey:"linkAccount"}),icon:e.jsx(Ce,{}),onClick:()=>r("linkAccount",!0)}),i.push({key:"resetApp",title:e.jsx(f,{i18nKey:"resetApp"}),icon:e.jsx(ve,{}),onClick:()=>L()})),i},[n,a,m,c.advancedSettings,O,L,r]).map(({key:i,title:d,icon:b,onClick:j})=>e.jsx(ue,{disablePadding:!0,onClick:j,children:e.jsxs(de,{children:[e.jsx(ge,{children:b}),e.jsx(fe,{primary:d})]})},i)),y=(i,d,b={})=>e.jsx(o.Suspense,{fallback:null,children:e.jsx(i,A({open:u[d],close:()=>r(d.toString(),!1),isMobile:p},b))});return e.jsxs(e.Fragment,{children:[e.jsx(pe,{onClick:()=>t(!0),"aria-label":"open menu",children:e.jsx(Le,{})}),e.jsx(me,{anchor:"right",open:h,onClose:()=>t(!1),children:e.jsxs(V,{role:"presentation",onClick:()=>t(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(he,{sx:{flexGrow:1},children:J}),e.jsx(V,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2},children:e.jsxs(be,{fullWidth:!0,size:"small",sx:{maxWidth:200},children:[e.jsxs(xe,{id:"drawer-language-label",sx:{display:"flex",alignItems:"center","& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:[e.jsx(W,{sx:{mr:.5,fontSize:"1rem"}}),e.jsx(f,{i18nKey:"language"})]}),e.jsx(ye,{labelId:"drawer-language-label",id:"drawer-language-select",value:l.resolvedLanguage||"en",disabled:$,label:e.jsxs(e.Fragment,{children:[e.jsx(W,{sx:{fontSize:"1rem"}}),e.jsx(f,{i18nKey:"language"})]}),onChange:Q,size:"small",MenuProps:{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},children:H})]})})]})}),u.settings&&y(Ue,"settings"),u.appSettings&&y(Ge,"appSettings"),u.about&&e.jsx(o.Suspense,{fallback:null,children:e.jsx(Pe,{open:u.about,close:()=>r("about",!1),children:e.jsx(Ne,{})})}),u.gameBoard&&y($e,"gameBoard"),u.schedule&&y(Qe,"schedule"),u.customTiles&&y(Ye,"customTiles"),u.linkAccount&&y(Ae,"linkAccount"),D&&e.jsx(ze,{open:u.languageChange,onClose:q,onRebuildBoard:Y,onKeepBoard:Z,fromLanguage:D.from,toLanguage:D.to})]})}export{fn as default};
//# sourceMappingURL=index.tsx-DDdMMWMg.js.map

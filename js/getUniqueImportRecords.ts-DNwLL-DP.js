import{g as d}from"./chunk-D-j20EYA.js";import"./chunk-BgixYSR_.js";import"./chunk-BSt5prxn.js";import"../assets/index-CxGCeJLO.js";import"./chunk-DwZ1iRu-.js";import"./chunk-DrDkBt_V.js";import"./chunk-Cx_qUD5L.js";import"./chunk-Dd4tuh4O.js";import"./chunk-B1ySd6_S.js";import"./chunk-Bqb_EgiR.js";import"./chunk-C7PvMB7v.js";import"./chunk-Cznjk1BU.js";import"./chunk-Bwg9F6F9.js";import"./chunk-BWsq5OBy.js";import"./chunk-B4PEA_xj.js";import"./chunk-eXrMvu-N.js";function f(r){if(r.match(/\[|\]/g)?.length!==2)throw new Error("ctSeparatorError")}function h(r,e){const o=r?.sort()||[],n=e?.sort()||[];return JSON.stringify(o)===JSON.stringify(n)}function M(r,e){const o=r.split(`
`).filter(Boolean),n=o[0],c=o[1],p=o.find(a=>a.startsWith("Tags:"))?.replace("Tags:","")?.trim()?.split(", ")?.filter(Boolean)||[],i=o.find(a=>a.startsWith("GameMode:"))?.replace("GameMode:","")?.trim()||"online",s=n.replace(/\[|\]/g,""),[u,l]=s.split(" - "),m=d(e[i]||{}).find(a=>a.translatedIntensity===l&&a.group===u);if(!m)throw new Error("ctGroupError");if(!c)throw new Error("ctActionError");return{group:m.value,intensity:m.intensity,action:c,tags:p,gameMode:i,isCustom:1}}function W(r,e,o){const n=r?.split("---")||[];n.forEach(f);const c=n.map(t=>M(t,o)).filter(Boolean),g=[],p=[];return c.forEach(t=>{const i=e.find(s=>s.group===t.group&&s.intensity===t.intensity&&s.action===t.action&&s.gameMode===t.gameMode);i?i&&!h(i.tags,t.tags)&&p.push({...i,tags:t.tags}):g.push(t)}),{newUniqueRecords:g,changedTagRecords:p}}export{W as default};

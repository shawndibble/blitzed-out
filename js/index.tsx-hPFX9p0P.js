import{j as s,e as r,f as P,G as n,g as u,h as d,B as j,i as E,D as G,T as y,L as I,k as F}from"./chunk-BoIRgPCP.js";import{u as R}from"./chunk-CNFMMJeA.js";import{u as V}from"./chunk-D5QWNTV5.js";import{u as W}from"./chunk-ChOHfsSx.js";import{u as q}from"./chunk-Dg1tV_3j.js";import{l as M}from"./chunk-CZnDLKd2.js";import{r as t,u as U,m as z}from"./chunk-BHSFqGHu.js";import{N as H}from"./chunk-CwNEHQY9.js";import J from"./index.tsx-D5PnhWA5.js";import{A as Q}from"./chunk-nVWt2mxo.js";import{u as X,T as a}from"./chunk-DweKt3Ls.js";import"./chunk-DXd3GHw1.js";import"../assets/index-DaclXwpO.js";import"./chunk-Bde8qXua.js";import"./chunk-CegpPsew.js";import"./chunk-Bp62TkGl.js";import"./chunk-JK3oC_qz.js";import"./chunk-elE9Uhv5.js";function ps(){const{i18n:o,t:f}=X(),{login:x,user:N}=R(),[b,l]=t.useState(!1),[C,p]=t.useState("login"),D=()=>{p("login"),l(!0)},L=()=>{p("register"),l(!0)},v=U(),[K]=z(),S=!!K.get("importBoard"),c=v.id??"PUBLIC",k=q(),w=V("sm"),[i,A]=t.useState(N?.displayName||""),[h,g]=W(),m=t.useCallback(async e=>{e.preventDefault(),await g({...h,displayName:i,room:c}),await x(i)},[i,x,c,h,g]),B=t.useCallback(async e=>{e.key==="Enter"&&await m(e)},[m]),O=t.useMemo(()=>Object.entries(M).map(([e,T])=>s.jsx(r,{onClick:()=>o.changeLanguage(e),disabled:o.resolvedLanguage===e,children:T.label},e)),[o]);return s.jsxs(s.Fragment,{children:[s.jsx(H,{room:c,playerList:k}),s.jsxs(P,{maxWidth:"sm",sx:{mt:8},children:[s.jsx(n,{container:!0,flexDirection:"column",children:s.jsx(u,{className:"unauthenticated-card",children:s.jsxs(d,{children:[s.jsx("h2",{className:"setup",children:s.jsx(a,{i18nKey:"setup"})}),s.jsxs(j,{component:"form",method:"post",onSubmit:m,className:"settings-box",children:[s.jsx(E,{fullWidth:!0,id:"displayName",label:f("displayName"),value:i,onChange:e=>A(e.target.value),required:!0,autoFocus:!0,onKeyDown:e=>B(e),margin:"normal"}),s.jsx(r,{variant:"contained",type:"submit",sx:{mr:1},fullWidth:!0,children:S?s.jsx(a,{i18nKey:"import"}):s.jsx(a,{i18nKey:"anonymousLogin"})}),s.jsx(G,{sx:{my:2},children:s.jsx(y,{variant:"body2",color:"text.secondary",children:s.jsx(a,{i18nKey:"or",children:"OR"})})}),s.jsxs(j,{sx:{display:"flex",justifyContent:"space-evenly"},children:[s.jsx(r,{variant:"outlined",startIcon:s.jsx(I,{}),onClick:D,sx:{mr:1},children:s.jsx(a,{i18nKey:"signIn"})}),s.jsx(r,{variant:"outlined",onClick:L,children:s.jsx(a,{i18nKey:"createAccount"})})]})]})]})})}),s.jsx(n,{container:!0,sx:{mt:1},children:s.jsx(n,{className:"language",children:s.jsx(u,{className:"unauthenticated-card",children:s.jsxs(d,{className:"translation-card-content",children:[!w&&s.jsx(F,{sx:{mr:1}}),s.jsxs(y,{sx:{mr:1},children:[s.jsx(a,{i18nKey:"language"}),":"]}),O]})})})}),s.jsx(n,{container:!0,sx:{mt:1},children:s.jsx(n,{className:"language",children:s.jsx(u,{className:"unauthenticated-card",children:s.jsx(d,{children:s.jsx(J,{})})})})})]}),s.jsx(Q,{open:b,close:()=>l(!1),initialView:C})]})}export{ps as default};

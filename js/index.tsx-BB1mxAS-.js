import{r as d,j as e}from"./chunk-DDoLnHI0.js";import{u as x}from"./chunk-CXIw3Iqt.js";import{a as j}from"./chunk-r8FSinrW.js";import{T as N}from"./chunk-JjknM9L9.js";import{Z as v,D as A}from"./chunk-D59Sa5ya.js";import"./chunk-CtIAsvv6.js";import"./chunk-CoPHbQIg.js";import"../assets/index-BodytYbc.js";import"./chunk-CbUvEgHM.js";import"./chunk-Dk7I1tJi.js";import"./chunk-COViFSNc.js";function g({title:l,description:m,players:s,current:r,isTransparent:o,className:c}){const p=d.useMemo(()=>s.map(a=>e.jsx(N,{displayName:a.displayName||"",uid:a.uid||""},a.uid)),[s]),i=d.useRef(null);d.useEffect(()=>{i.current&&r&&i.current.scrollIntoView({behavior:"smooth"})},[r]);const t=[r&&"pulse-animation",o&&"gray-tiles",c].join(" ").trim();return e.jsxs("li",{className:t,ref:i,children:[e.jsxs("div",{className:"tile-title-row",children:[e.jsx("div",{className:`tile-title ${o&&"pop-text"}`,children:l}),e.jsx("div",{className:"player-indicator",children:e.jsx(v,{max:4,children:p})})]}),e.jsx(A,{sx:{margin:"0.5rem 0"}}),e.jsx("div",{className:`tile-description ${o&&"pop-text"}`,children:m})]})}function Z({playerList:l,isTransparent:m,gameBoard:s,settings:r}){const{user:o}=x();if(!Array.isArray(s)||!s.length)return null;const c=new Set;s.forEach(({title:i},t)=>{i&&t!==0&&t!==s.length-1&&c.add(i)});const p=s.map((i,t)=>{const a=l.filter(n=>n.location===t),u=l.find(n=>n.isSelf&&n.location===t&&t!==0),f=Array.from(c).indexOf(i.title)%10+1,h=!r.hideBoardActions||t===0||u?j(i.description,i.role,o.displayName||""):i.description.replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?");return e.jsx(g,{title:`#${t+1}: ${i.title}`,description:h,players:a,current:u,isTransparent:m,className:`hue${f}`},t)});return e.jsx("div",{className:"gameboard",children:e.jsx("ol",{children:p})})}export{Z as default};

import{ak as O,r as n,ad as W,al as _,j as e,M as F,am as i,an as R,ao as g,ap as j,aq as w,ar as t,T as v,A as q,Q as m,a1 as G,z as V,as as U,at as Q}from"./chunk-DzAIPjqH.js";import{A as Y}from"./chunk-DSABIIYE.js";import H from"./index.tsx-CJNQcl73.js";import{l as J,N as X}from"./chunk-ePhi2-8W.js";import{u as Z,a as $}from"./chunk-ETJJgZWW.js";import{u as ee}from"./chunk-BmjRqaQ3.js";import{P as ae,a as se,b as ne}from"./chunk-DzzEA-5n.js";import"./chunk-BfMAFFX0.js";import"../assets/index-BHv73vX6.js";import"./schedule.tsx-BNzepckN.js";import"./chunk-SagsL35F.js";import"./theme.tsx-kKI91Odf.js";import"./chunk-D0auT6rg.js";import"./chunk-BjQhdd70.js";import"./chunk-D4nXmTaT.js";(function(){var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"b0aec1b7336667c3da787da9b7139ec106644213"}})();try{(function(){var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},r=new a.Error().stack;r&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[r]="56a6da25-b553-4c3b-83e4-4e0a26b8a527",a._sentryDebugIdIdentifier="sentry-dbid-56a6da25-b553-4c3b-83e4-4e0a26b8a527")})()}catch{}function ye(){const{i18n:a,t:r}=O(),{login:h,user:C}=Z(),[N,c]=n.useState(!1),[S,p]=n.useState("login"),[x,f]=n.useState(!1),L=()=>{p("login"),c(!0)},z=()=>{p("register"),c(!0)},D=W(),[I]=_(),A=!!I.get("importBoard"),d=D.id??"PUBLIC",E=$(),[o,T]=n.useState(C?.displayName||""),[b,y]=ee(),u=n.useCallback(async s=>{s.preventDefault(),await y({...b,displayName:o,room:d}),await h(o)},[o,h,d,b,y]),K=n.useCallback(async s=>{s.key==="Enter"&&await u(s)},[u]),k=a.resolvedLanguage||"en",P=n.useCallback(async s=>{const l=s.target.value;f(!0);try{await a.changeLanguage(l)}catch(M){console.error("Error changing language:",M),await a.changeLanguage(l)}finally{f(!1)}},[a]),B=n.useMemo(()=>Object.entries(J).map(([s,l])=>e.jsx(F,{value:s,children:l.label},s)),[]);return e.jsxs(e.Fragment,{children:[e.jsx(X,{room:d,playerList:E}),e.jsxs(i,{className:"unauthenticated-container gradient-background-vibrant",children:[e.jsx(R,{maxWidth:"lg",sx:{pt:8},children:e.jsxs(g,{container:!0,spacing:4,justifyContent:"center",alignItems:"stretch",children:[e.jsx(g,{size:{xs:12,md:6,lg:4},children:e.jsx(j,{className:"unauthenticated-card main-setup-card",children:e.jsxs(w,{children:[e.jsx("h2",{className:"setup",children:e.jsx(t,{i18nKey:"setup"})}),e.jsx(v,{className:"setup-subtitle",variant:"body1",children:e.jsx(t,{i18nKey:"setupSubtitle"})}),e.jsxs(i,{component:"form",method:"post",onSubmit:u,className:"settings-box",children:[e.jsx(q,{fullWidth:!0,id:"displayName",label:r("displayName"),value:o,onChange:s=>T(s.target.value),required:!0,autoFocus:!0,onKeyDown:s=>K(s),margin:"normal"}),e.jsx(m,{variant:"contained",type:"submit",fullWidth:!0,className:"jump-in-button",size:"large",startIcon:e.jsx(ae,{}),sx:{mt:2,py:1.25,fontSize:"1.1rem",fontWeight:600},children:A?e.jsx(t,{i18nKey:"import"}):e.jsx(t,{i18nKey:"anonymousLogin"})}),e.jsx(G,{sx:{my:3},children:e.jsx(v,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:e.jsx(t,{i18nKey:"or"})})}),e.jsxs(i,{className:"auth-button-container",children:[e.jsx(m,{variant:"outlined",startIcon:e.jsx(se,{}),onClick:L,size:"medium",children:e.jsx(t,{i18nKey:"signIn"})}),e.jsx(m,{variant:"outlined",onClick:z,size:"medium",children:e.jsx(t,{i18nKey:"createAccount"})})]})]})]})})}),e.jsx(g,{size:{md:12,lg:8},children:e.jsx(j,{className:"unauthenticated-card",children:e.jsx(w,{children:e.jsx(H,{})})})})]})}),e.jsx(i,{className:"footer-language-container",children:e.jsxs(i,{className:"footer-language-selector",children:[e.jsx(ne,{sx:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)"}}),e.jsx(V,{size:"small",sx:{minWidth:120},children:e.jsx(U,{value:k,disabled:x,onChange:P,size:"small",variant:"standard",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem","& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.5)"},"&:before":{borderBottomColor:"rgba(255, 255, 255, 0.3)"},"&:hover:before":{borderBottomColor:"rgba(255, 255, 255, 0.5)"}},endAdornment:x&&e.jsx(Q,{size:14}),children:B})})]})})]}),e.jsx(Y,{open:N,close:()=>c(!1),initialView:S})]})}export{ye as default};
//# sourceMappingURL=index.tsx-B7w-m6EZ.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-CLEOLaiK.js","js/chunk-BCLv-HyH.js","js/chunk-C5tDN2aE.js","js/chunk-SJIi4_E6.js","js/chunk-BqpKB5_W.js","js/chunk-DeLoLJoz.js","js/chunk-B4PEA_xj.js","js/chunk-BFxMm27G.js","assets/index-DHF6m7Sz.js","js/schedule.tsx-BmaQSLDe.js","js/chunk-C4_x7c3m.js","js/chunk-B4ipE-Yx.js","js/chunk-CcANclkl.js","js/chunk-ghv0CanS.js","js/chunk-BBKbBimA.js","js/theme.tsx-CAeRquhx.js","js/index.tsx-DqvYkpRJ.js","js/chunk-BVDNFS80.js","js/chunk-fQ6TTVWW.js","js/chunk-yLOK5aTh.js","js/chunk-BX5cxQON.js","js/chunk-koWbxZER.js","js/chunk-B4PjpDqU.js","js/index.tsx-CJ-s2vDT.js","js/chunk-fPXVX1ns.js","js/chunk-BEBdd3U0.js"])))=>i.map(i=>d[i]);
import{j as e,I as x,s as _,aE as A,aF as T,aG as O,a7 as R,r as t,ad as D,aH as E,au as I,ak as k,B as z,aI as P,aJ as N,am as L,aK as M,aC as B,at as G}from"./chunk-BCLv-HyH.js";import{e as U,f as $,g as q,h as F,D as H,i as W,j as v,k as J}from"./chunk-BqpKB5_W.js";import{_ as j}from"../assets/index-DHF6m7Sz.js";import{ScheduleContext as K}from"./schedule.tsx-BmaQSLDe.js";import{c as V,i as Y}from"./chunk-CcANclkl.js";import{useTheme as Q}from"./theme.tsx-CAeRquhx.js";function ge({close:s}){return e.jsx(x,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:8,top:8},children:e.jsx(U,{})})}const he=_(s=>e.jsx(A,{disableGutters:!0,elevation:0,square:!0,...s}))(({theme:s})=>({border:`1px solid ${s.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),me=_(T)(({theme:s})=>({padding:s.spacing(2),borderTop:`1px solid ${s.palette.divider}`})),pe=_(s=>e.jsx(O,{expandIcon:e.jsx($,{sx:{fontSize:"0.9rem"}}),...s}))(({theme:s})=>({backgroundColor:s.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:s.spacing(1)}}));function X(){const s=R.useContext(K);if(!s)throw new Error("ScheduleContext's value is undefined.");return s}const Z="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;window.__castScriptLoading=window.__castScriptLoading||!1;function ee(){const[s,r]=t.useState(!1),[i,c]=t.useState(null),{id:a}=D(),l=t.useRef(null),[f,h]=t.useState(!1),[m,g]=t.useState(!1),p=t.useCallback((o=!1)=>{r(!1),c(null),o&&g(!1)},[]),u=t.useCallback(o=>{try{const d=`${window.location.origin}/${a}/cast`;o.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:d})}catch(d){console.error("Error sending cast message:",d)}},[a]);t.useEffect(()=>{const o=()=>{try{if(!window?.cast?.framework)return;if(window.__castApiInitialized){h(!0),d();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:window.chrome?.cast?.AutoJoinPolicy?.ORIGIN_SCOPED}),window.__castApiInitialized=!0,h(!0),d()}catch(n){console.error("Error initializing Cast API:",n)}},d=()=>{try{const n=window.cast?.framework?.CastContext.getInstance();if(!n)return;const S=n.getCurrentSession();if(S&&(r(!0),c(S),a&&u(S)),!window?.cast?.framework)return;n.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,b=>{const C=n.getCurrentSession();switch(b.sessionState){case window.cast?.framework?.SessionState.SESSION_STARTED:case window.cast?.framework?.SessionState.SESSION_RESUMED:m||(r(!0),c(C),C&&a&&u(C));break;case window.cast?.framework?.SessionState.SESSION_ENDED:p(!0);break;default:b.sessionState==="SESSION_ENDING"&&p();break}})}catch(n){console.error("Error setting up session listener:",n)}};if(window.chrome&&window.chrome.cast&&window.cast)o();else if(window.__onGCastApiAvailable=function(n){n&&o()},!document.querySelector('script[src*="cast_sender.js"]')&&!window.__castScriptLoading){window.__castScriptLoading=!0;const n=document.createElement("script");n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",n.onload=()=>{window.__castScriptLoading=!1},n.onerror=()=>{window.__castScriptLoading=!1,console.error("Failed to load Cast SDK")},document.head.appendChild(n)}return()=>{}},[a,u,m,p]);const w=()=>{if(!f){console.warn("Cast API not ready yet");return}if(s){g(!0),p();try{const o=window.cast?.framework?.CastContext.getInstance();o&&o.endCurrentSession(!0),i&&i.endSession(!0)}catch{}}else{g(!1);try{const o=window.cast?.framework?.CastContext.getInstance();o&&o.requestSession().catch(d=>console.error("Error requesting cast session:",d))}catch(o){console.error("Error requesting cast session:",o)}}};return t.useEffect(()=>{s&&i&&a&&u(i)},[a,s,i,u]),f?e.jsx(E,{title:s?I("stopCasting"):I("startCasting"),children:e.jsx(x,{ref:l,onClick:w,color:s?"primary":"default",children:s?e.jsx(q,{}):e.jsx(F,{})})}):null}const se={light:W,dark:H};function te({size:s="medium",tooltip:r,"aria-label":i}){const{resolvedThemeMode:c,toggleTheme:a}=Q(),{t:l}=k(),f=se[c],h=()=>{a()},m=()=>r||(c==="light"?l("theme.switchToDark","Switch to dark theme"):l("theme.switchToLight","Switch to light theme")),g=()=>i||`Toggle theme, currently ${c}`;return e.jsx(E,{title:m(),arrow:!0,children:e.jsx(x,{onClick:h,size:s,"aria-label":g(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:e.jsx(f,{})})})}const y=t.forwardRef(({playerList:s,onClick:r,innerRef:i,...c},a)=>{const l=a||i;return r?e.jsxs(z,{...c,ref:l,onClick:r,sx:{display:"flex",alignItems:"center",borderRadius:1,px:.5,py:.25,minWidth:44,minHeight:44,color:"text.primary",fontSize:"inherit",fontWeight:500,"&:hover":{backgroundColor:"action.hover"},"&:focus":{backgroundColor:"action.focus"}},children:[e.jsx(v,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]}):e.jsxs("div",{...c,ref:l,style:{display:"flex",alignItems:"center",color:"var(--mui-palette-text-primary)",fontWeight:500},children:[e.jsx(v,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]})});y.displayName="PlayersOnline";const oe=t.lazy(()=>j(()=>import("./index.tsx-CLEOLaiK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),ne=t.lazy(()=>j(()=>import("./index.tsx-DqvYkpRJ.js"),__vite__mapDeps([16,8,1,2,4,17,10,11,12,13,14,18,6,19,20,21,22,9,5,15]))),ae=t.lazy(()=>j(()=>import("./index.tsx-CJ-s2vDT.js"),__vite__mapDeps([23,1,2,24,25,20,10,8,11,12,13,14])));function re(){return e.jsx(G,{size:16})}function xe({room:s,playerList:r=[]}){const{t:i}=k(),[c,a]=t.useState(!1),[l,f]=t.useState(!1),[h,m]=t.useState(!1),{schedule:g}=X(),p=V(),u=t.useRef(null),w=()=>{a(!0),m(!0)},o=()=>{f(!l)},d=()=>{f(!1)};return e.jsx(P,{position:"fixed",children:e.jsxs(N,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[e.jsxs("div",{className:"site-name",children:[e.jsx(L,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:Z}),e.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),e.jsx("div",{children:e.jsxs("div",{className:"nav-room-name",children:[e.jsx("h2",{children:Y(s)||s===void 0?i("public"):s}),e.jsx(y,{playerList:r,onClick:o,ref:u,"aria-label":i("online"),"aria-expanded":l,"aria-haspopup":"dialog"}),e.jsx(x,{onClick:w,"aria-label":"schedule game",sx:{ml:2},children:e.jsx(M,{color:"primary",badgeContent:h?null:g.length,children:e.jsx(J,{})})}),c&&e.jsx(B,{children:e.jsx(t.Suspense,{fallback:e.jsx(re,{}),children:e.jsx(oe,{open:c,close:()=>a(!1),isMobile:p})})}),r.length>0&&e.jsx(t.Suspense,{fallback:null,children:e.jsx(ae,{isOpen:l,onClose:d,playerList:r,anchorEl:u.current})})]})}),e.jsxs("div",{className:"menu-drawer",children:[e.jsx(te,{size:"medium","aria-label":"Toggle between light and dark theme"}),e.jsx(ee,{}),e.jsx(t.Suspense,{fallback:null,children:e.jsx(ne,{})})]})]})})}const we={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};export{he as A,ge as C,xe as N,pe as a,me as b,we as l,X as u};

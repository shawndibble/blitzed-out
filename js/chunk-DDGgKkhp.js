const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-Bn6ukd-C.js","js/chunk-DvBFtIbM.js","js/chunk-5s7Iwv9W.js","js/chunk-CXCFIhls.js","js/chunk-BZnAhivo.js","js/chunk-Bn7zZFp_.js","js/chunk-B4PEA_xj.js","js/chunk-C03U0xcW.js","assets/index-CNaEWhRY.js","js/schedule.tsx-B3Q1KNEj.js","js/chunk-BWOMt2st.js","js/chunk-DXz8SlaL.js","js/theme.tsx-DxiZOIka.js","js/chunk-DW2fXg81.js","js/chunk-Bmz-FVJL.js","js/chunk-CXuMvDAl.js","js/index.tsx-CmHbprWG.js","js/chunk-DRqM-t0x.js","js/chunk-DB2vP0fE.js","js/chunk-yLOK5aTh.js","js/chunk-Br_k19aF.js","js/chunk-CAnobccy.js"])))=>i.map(i=>d[i]);
import{_ as A}from"../assets/index-CNaEWhRY.js";import{a7 as M,E as O,K as G,r as i,ad as B,j as e,aE as S,au as E,I as C,ak as z,aF as $,G as F,M as W,aG as q,aH as K,T,ar as U,aI as H,aJ as J,am as V,aK as Q,aC as X,at as Y,s as j,aL as Z,aM as ee,aN as te}from"./chunk-DvBFtIbM.js";import{ScheduleContext as se}from"./schedule.tsx-B3Q1KNEj.js";import{e as oe,f as ne,g as D,D as re,h as ae,i as ie,j as ce,k as le,l as de}from"./chunk-BZnAhivo.js";import{useTheme as ue}from"./theme.tsx-DxiZOIka.js";import{i as me}from"./chunk-DW2fXg81.js";const _e={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};function he(){const t=M.useContext(se);if(!t)throw new Error("ScheduleContext's value is undefined.");return t}function ge(t="sm"){const s=O();return G(s.breakpoints.down(t))}const pe="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;function xe(){const[t,s]=i.useState(!1),[r,u]=i.useState(null),{id:c}=B(),x=i.useRef(null),[m,h]=i.useState(!1),d=i.useCallback(n=>{try{const a=`${window.location.origin}/${c}/cast`;n.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:a})}catch(a){console.error("Error sending cast message:",a)}},[c]);i.useEffect(()=>{const n=()=>{try{if(!window?.cast?.framework)return;if(window.__castApiInitialized){h(!0),a();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:window.chrome?.cast?.AutoJoinPolicy?.ORIGIN_SCOPED}),window.__castApiInitialized=!0,h(!0),a()}catch(o){console.error("Error initializing Cast API:",o)}},a=()=>{try{const o=window.cast?.framework?.CastContext.getInstance();if(!o)return;const g=o.getCurrentSession();if(g&&(s(!0),u(g),c&&d(g)),!window?.cast?.framework)return;o.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,b=>{const p=o.getCurrentSession();switch(b.sessionState){case window.cast?.framework?.SessionState.SESSION_STARTED:case window.cast?.framework?.SessionState.SESSION_RESUMED:s(!0),u(p),p&&c&&d(p);break;case window.cast?.framework?.SessionState.SESSION_ENDED:s(!1),u(null);break;default:break}})}catch(o){console.error("Error setting up session listener:",o)}};if(window.chrome&&window.chrome.cast&&window.cast)n();else if(window.__onGCastApiAvailable=function(o){o&&n()},!document.querySelector('script[src*="cast_sender.js"]')){const o=document.createElement("script");o.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(o)}return()=>{}},[c,d]);const f=()=>{if(m)if(t)r&&r.endSession(!0);else try{const n=window.cast?.framework?.CastContext.getInstance();n&&n.requestSession().catch(a=>console.error("Error requesting cast session:",a))}catch(n){console.error("Error requesting cast session:",n)}};return i.useEffect(()=>{t&&r&&c&&d(r)},[c,t,r,d]),m?e.jsx(S,{title:t?E("stopCasting"):E("startCasting"),children:e.jsx(C,{ref:x,onClick:f,color:t?"primary":"default",children:t?e.jsx(oe,{}):e.jsx(ne,{})})}):null}const _={light:ae,dark:re,system:D},fe={light:"Light theme",dark:"Dark theme",system:"Follow system"};function we({size:t="medium",variant:s="menu",tooltip:r,showLabels:u=!0,"aria-label":c}){const x=O(),{themeMode:m,resolvedThemeMode:h,setThemeMode:d,toggleTheme:f}=ue(),{t:n}=z(),[a,o]=M.useState(null),g=!!a,p=m==="system"?D:_[h],v=()=>{s==="toggle"?f():o(null)},R=l=>{s==="menu"?o(l.currentTarget):v()},I=()=>{o(null)},L=l=>{d(l),I()},y=()=>r||(s==="toggle"?h==="light"?n("theme.switchToDark","Switch to dark theme"):n("theme.switchToLight","Switch to light theme"):n("theme.chooseTheme","Choose theme")),k=()=>c||(s==="toggle"?`Toggle theme, currently ${h}`:`Theme menu, currently ${m}`);return s==="toggle"?e.jsx(S,{title:y(),arrow:!0,children:e.jsx(C,{onClick:v,size:t,"aria-label":k(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:e.jsx(p,{})})}):e.jsxs(e.Fragment,{children:[e.jsx(S,{title:y(),arrow:!0,children:e.jsx(C,{onClick:R,size:t,"aria-label":k(),"aria-controls":g?"theme-menu":void 0,"aria-haspopup":"true","aria-expanded":g?"true":void 0,sx:{transition:"all 0.3s ease",backgroundColor:g?"action.selected":"transparent","&:hover":{transform:"scale(1.05)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"}},children:e.jsx(p,{})})}),e.jsx($,{id:"theme-menu",anchorEl:a,open:g,onClose:I,TransitionComponent:F,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},PaperProps:{elevation:8,sx:{mt:1,minWidth:160,borderRadius:2,border:`1px solid ${x.palette.divider}`,"& .MuiMenuItem-root":{borderRadius:1,margin:"2px 4px",transition:"all 0.2s ease","&:hover":{backgroundColor:"action.hover",transform:"translateX(4px)"}}}},children:["light","dark","system"].map(l=>{const P=_[l],w=m===l;return e.jsxs(W,{onClick:()=>L(l),selected:w,sx:{fontWeight:w?600:400,backgroundColor:w?"action.selected":"transparent"},children:[e.jsx(q,{sx:{minWidth:36},children:e.jsx(P,{fontSize:"small",sx:{color:w?"primary.main":"text.secondary",transition:"color 0.2s ease"}})}),u&&e.jsx(K,{primary:n(`theme.${l}`,fe[l]),sx:{"& .MuiListItemText-primary":{fontSize:"0.875rem",color:w?"primary.main":"text.primary",transition:"color 0.2s ease"}}})]},l)})})]})}function Ce({playerList:t,innerRef:s,...r}){return e.jsxs("div",{...r,ref:s,children:[e.jsx(ie,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),t.length]})}const Se=i.lazy(()=>A(()=>import("./index.tsx-Bn6ukd-C.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),je=i.lazy(()=>A(()=>import("./index.tsx-CmHbprWG.js"),__vite__mapDeps([16,8,1,2,4,17,10,11,18,13,14,15,6,19,20,21,9,5,12])));function be(){return e.jsx(Y,{size:16})}function Ae({room:t,playerList:s=[]}){const{t:r}=z(),[u,c]=i.useState(!1),[x,m]=i.useState(!1),{schedule:h}=he(),d=ge(),f=()=>{c(!0),m(!0)},n=e.jsxs(e.Fragment,{children:[e.jsx(T,{variant:"h6",children:e.jsx(U,{i18nKey:"online"})}),e.jsx("ul",{children:s.map(a=>e.jsx("li",{children:e.jsx(T,{variant:"body1",children:a.displayName})},a.uid))})]});return e.jsx(H,{position:"fixed",children:e.jsxs(J,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[e.jsxs("div",{className:"site-name",children:[e.jsx(V,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:pe}),e.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),e.jsx("div",{children:e.jsxs("div",{className:"nav-room-name",children:[e.jsx("h2",{children:me(t)||t===void 0?r("public"):t}),e.jsx(S,{title:n,children:e.jsx(N,{playerList:s})}),e.jsx(C,{onClick:f,"aria-label":"schedule game",sx:{ml:2},children:e.jsx(Q,{color:"primary",badgeContent:x?null:h.length,children:e.jsx(ce,{})})}),u&&e.jsx(X,{children:e.jsx(i.Suspense,{fallback:e.jsx(be,{}),children:e.jsx(Se,{open:u,close:()=>c(!1),isMobile:d})})})]})}),e.jsxs("div",{className:"menu-drawer",children:[e.jsx(we,{size:"medium",variant:"menu","aria-label":"Toggle theme menu - choose between light, dark, or system theme"}),e.jsx(xe,{}),e.jsx(i.Suspense,{fallback:null,children:e.jsx(je,{})})]})]})})}const N=i.forwardRef(({playerList:t,...s},r)=>e.jsx(Ce,{playerList:t,...s,innerRef:r}));N.displayName="WrapPlayersOnline";const Me=j(t=>e.jsx(Z,{disableGutters:!0,elevation:0,square:!0,...t}))(({theme:t})=>({border:`1px solid ${t.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),Oe=j(ee)(({theme:t})=>({padding:t.spacing(2),borderTop:`1px solid ${t.palette.divider}`})),ze=j(t=>e.jsx(te,{expandIcon:e.jsx(le,{sx:{fontSize:"0.9rem"}}),...t}))(({theme:t})=>({backgroundColor:t.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}));function De({close:t}){return e.jsx(C,{"aria-label":"close",onClick:t,sx:{position:"absolute",right:8,top:8},children:e.jsx(de,{})})}export{Me as A,De as C,Ae as N,he as a,ze as b,Oe as c,_e as l,ge as u};

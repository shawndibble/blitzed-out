import{r as d,j as r,a$ as x,a1 as j}from"./chunk-Crsl6-54.js";import{u as N}from"./chunk-BJ-_sI1K.js";import{a as v}from"./chunk-jL5JlzBf.js";import{T as A}from"./chunk-DZe5RCeG.js";import"./chunk-Bpm6U_-k.js";import"../assets/index-CJhYrxms.js";import"./chunk-B90GCnie.js";import"./chunk-zlOh_Isq.js";import"./index.tsx-Bm4fFEVy.js";import"./chunk-HEPVqCLc.js";import"./chunk-RnZzA2Di.js";import"./chunk-B2Itqp8L.js";import"./chunk-INPNyh5b.js";import"./chunk-FDpKHfzE.js";import"./chunk-C7PvMB7v.js";import"./chunk-DJYgIsA_.js";import"./chunk-B4PEA_xj.js";import"./chunk-3sysC2BZ.js";import"./chunk-CR-V5YtF.js";import"./chunk-DyhTcbJ4.js";import"./chunk-B9LF2uiY.js";import"./chunk-Z7hqecdR.js";import"./chunk-965Prlno.js";import"./chunk-4wzVSw6A.js";import"./index.tsx-Bc4bd3Z1.js";import"./chunk-DnBSxpKy.js";function y({title:l,description:p,players:o,current:e,isTransparent:s,className:m}){const n=d.useMemo(()=>o.map(a=>r.jsx(A,{displayName:a.displayName||"",uid:a.uid||""},a.uid)),[o]),i=d.useRef(null);d.useEffect(()=>{i.current&&e&&i.current.scrollIntoView({behavior:"smooth"})},[e]);const t=[e&&"pulse-animation",s&&"gray-tiles",m].join(" ").trim();return r.jsxs("li",{className:t,ref:i,children:[r.jsxs("div",{className:"tile-title-row",children:[r.jsx("div",{className:`tile-title ${s&&"pop-text"}`,children:l}),r.jsx("div",{className:"player-indicator",children:r.jsx(x,{max:4,children:n})})]}),r.jsx(j,{sx:{margin:"0.5rem 0"}}),r.jsx("div",{className:`tile-description ${s&&"pop-text"}`,children:p})]})}function W({playerList:l,isTransparent:p,gameBoard:o,settings:e}){const{user:s}=N();if(!Array.isArray(o)||!o.length)return null;const m=new Set;o.forEach(({title:i},t)=>{i&&t!==0&&t!==o.length-1&&m.add(i)});const n=o.map((i,t)=>{const a=l.filter(c=>c.location===t),u=l.find(c=>c.isSelf&&c.location===t&&t!==0),f=Array.from(m).indexOf(i.title)%10+1,h=!e.hideBoardActions||t===0||u?v(i.description,e.role||"sub",s.displayName||""):i.description.replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?");return r.jsx(y,{title:`#${t+1}: ${i.title}`,description:h,players:a,current:u,isTransparent:p,className:`hue${f}`},t)});return r.jsx("div",{className:"gameboard",children:r.jsx("ol",{children:n})})}export{W as default};

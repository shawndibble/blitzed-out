import{j as s,R as x,D as j}from"./chunk-BoIRgPCP.js";import{u as N}from"./chunk-B2YZP62-.js";import{a as v}from"./chunk-D030ifrn.js";import{r as p}from"./chunk-BHSFqGHu.js";import{T as A}from"./chunk-B2EJjyQp.js";import"./chunk-DXd3GHw1.js";import"../assets/index-iNPYMOsW.js";import"./chunk-Bde8qXua.js";function g({title:l,description:m,players:t,current:r,isTransparent:o,className:c}){const d=p.useMemo(()=>t.map(a=>s.jsx(A,{displayName:a.displayName||"",uid:a.uid||""},a.uid)),[t]),e=p.useRef(null);p.useEffect(()=>{e.current&&r&&e.current.scrollIntoView({behavior:"smooth"})},[r]);const i=[r&&"pulse-animation",o&&"gray-tiles",c].join(" ").trim();return s.jsxs("li",{className:i,ref:e,children:[s.jsxs("div",{className:"tile-title-row",children:[s.jsx("div",{className:`tile-title ${o&&"pop-text"}`,children:l}),s.jsx("div",{className:"player-indicator",children:s.jsx(x,{max:4,children:d})})]}),s.jsx(j,{sx:{margin:"0.5rem 0"}}),s.jsx("div",{className:`tile-description ${o&&"pop-text"}`,children:m})]})}function T({playerList:l,isTransparent:m,gameBoard:t,settings:r}){const{user:o}=N();if(!Array.isArray(t)||!t.length)return null;const c=new Set;t.forEach(({title:e},i)=>{e&&i!==0&&i!==t.length-1&&c.add(e)});const d=t.map((e,i)=>{const a=l.filter(n=>n.location===i),u=l.find(n=>n.isSelf&&n.location===i&&i!==0),f=Array.from(c).indexOf(e.title)%10+1,h=!r.hideBoardActions||i===0||u?v(e.description,e.role,o.displayName||""):e.description.replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?");return s.jsx(g,{title:`#${i+1}: ${e.title}`,description:h,players:a,current:u,isTransparent:m,className:`hue${f}`},i)});return s.jsx("div",{className:"gameboard",children:s.jsx("ol",{children:d})})}export{T as default};

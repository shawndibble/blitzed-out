import{g as te,r as h}from"./chunk-BHSFqGHu.js";import{h as H,j as J}from"../assets/index-DQAn7GQy.js";var R,W;function ne(){return W||(W=1,R={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),R}var re=ne();const se=te(re);var ae=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function M(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(se[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(ae),s=null;(s=i.exec(e))!==null;)if(s[0].trim())if(s[1]){var f=s[1].trim(),m=[f,""];f.indexOf("=")>-1&&(m=f.split("=")),t.attrs[m[0]]=m[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var ie=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,oe=/^\s*$/,ce=Object.create(null);function X(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(X,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var le={parse:function(e,t){t||(t={}),t.components||(t.components=ce);var n,r=[],i=[],s=-1,f=!1;if(e.indexOf("<")!==0){var m=e.indexOf("<");r.push({type:"text",content:m===-1?e:e.substring(0,m)})}return e.replace(ie,function(y,o){if(f){if(y!=="</"+n.name+">")return;f=!1}var p,v=y.charAt(1)!=="/",b=y.startsWith("<!--"),N=o+y.length,c=e.charAt(N);if(b){var T=M(y);return s<0?(r.push(T),r):((p=i[s]).children.push(T),r)}if(v&&(s++,(n=M(y)).type==="tag"&&t.components[n.name]&&(n.type="component",f=!0),n.voidElement||f||!c||c==="<"||n.children.push({type:"text",content:e.slice(N,e.indexOf("<",N))}),s===0&&r.push(n),(p=i[s-1])&&p.children.push(n),i[s]=n),(!v||n.voidElement)&&(s>-1&&(n.voidElement||n.name===y.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!f&&c!=="<"&&c)){p=s===-1?r:i[s].children;var E=e.indexOf("<",N),d=e.slice(N,E===-1?void 0:E);oe.test(d)&&(d=" "),(E>-1&&s+p.length>=0||d!==" ")&&p.push({type:"text",content:d})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+X("",n)},"")}};const P=(e,t,n,r)=>{const i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);w(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},U={},V=(e,t,n,r)=>{w(n)&&U[n]||(w(n)&&(U[n]=new Date),P(e,t,n,r))},q=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},B=(e,t,n)=>{e.loadNamespaces(t,q(e,n))},G=(e,t,n,r)=>{if(w(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return B(e,n,r);n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,q(e,r))},ue=(e,t,n={})=>!t.languages||!t.languages.length?(V(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n?.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,e))return!1}}),w=e=>typeof e=="string",I=e=>typeof e=="object"&&e!==null,z=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},D=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?L(t):t},fe=e=>Array.isArray(e)&&e.every(h.isValidElement),L=e=>Array.isArray(e)?e:[e],pe=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},Y=(e,t,n,r)=>{if(!e)return"";let i="";const s=L(e),f=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((m,y)=>{if(w(m)){i+=`${m}`;return}if(h.isValidElement(m)){const{props:o,type:p}=m,v=Object.keys(o).length,b=f.indexOf(p)>-1,N=o.children;if(!N&&b&&!v){i+=`<${p}/>`;return}if(!N&&(!b||v)||o.i18nIsDynamicList){i+=`<${y}></${y}>`;return}if(b&&v===1&&w(N)){i+=`<${p}>${N}</${p}>`;return}const c=Y(N,t,n,r);i+=`<${y}>${c}</${y}>`;return}if(m===null){P(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(I(m)){const{format:o,...p}=m,v=Object.keys(p);if(v.length===1){const b=o?`${v[0]}, ${o}`:v[0];i+=`{{${b}}}`;return}P(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:m});return}P(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:m})}),i},de=(e,t,n,r,i,s,f)=>{if(n==="")return[];const m=i.transKeepBasicHtmlNodesFor||[],y=n&&new RegExp(m.map(d=>`<${d}`).join("|")).test(n);if(!e&&!t&&!y&&!f)return[n];const o=t??{},p=d=>{L(d).forEach(l=>{w(l)||(z(l)?p(D(l)):I(l)&&!h.isValidElement(l)&&Object.assign(o,l))})};p(e);const v=le.parse(`<0>${n}</0>`),b={...o,...s},N=(d,x,l)=>{const g=D(d),A=T(g,x.children,l);return fe(g)&&A.length===0||d.props?.i18nIsDynamicList?g:A},c=(d,x,l,g,A)=>{d.dummy?(d.children=x,l.push(h.cloneElement(d,{key:g},A?void 0:x))):l.push(...h.Children.map([d],u=>{const a={...u.props};return delete a.i18nIsDynamicList,h.createElement(u.type,{...a,key:g,ref:u.props.ref??u.ref},A?null:x)}))},T=(d,x,l)=>{const g=L(d);return L(x).reduce((u,a,S)=>{const k=a.children?.[0]?.content&&r.services.interpolator.interpolate(a.children[0].content,b,r.language);if(a.type==="tag"){let $=g[parseInt(a.name,10)];!$&&t&&($=t[a.name]),l.length===1&&!$&&($=l[0][a.name]),$||($={});const C=Object.keys(a.attrs).length!==0?pe({props:a.attrs},$):$,j=h.isValidElement(C),_=j&&z(a,!0)&&!a.voidElement,F=y&&I(C)&&C.dummy&&!j,ee=I(t)&&Object.hasOwnProperty.call(t,a.name);if(w(C)){const O=r.services.interpolator.interpolate(C,b,r.language);u.push(O)}else if(z(C)||_){const O=N(C,a,l);c(C,O,u,S)}else if(F){const O=T(g,a.children,l);c(C,O,u,S)}else if(Number.isNaN(parseFloat(a.name)))if(ee){const O=N(C,a,l);c(C,O,u,S,a.voidElement)}else if(i.transSupportBasicHtmlNodes&&m.indexOf(a.name)>-1)if(a.voidElement)u.push(h.createElement(a.name,{key:`${a.name}-${S}`}));else{const O=T(g,a.children,l);u.push(h.createElement(a.name,{key:`${a.name}-${S}`},O))}else if(a.voidElement)u.push(`<${a.name} />`);else{const O=T(g,a.children,l);u.push(`<${a.name}>${O}</${a.name}>`)}else if(I(C)&&!j){const O=a.children[0]?k:null;O&&u.push(O)}else c(C,k,u,S,a.children.length!==1||!k)}else if(a.type==="text"){const $=i.transWrapTextNodes,C=f?i.unescape(r.services.interpolator.interpolate(a.content,b,r.language)):r.services.interpolator.interpolate(a.content,b,r.language);$?u.push(h.createElement($,{key:`${a.name}-${S}`},C)):u.push(C)}return u},[])},E=T([{dummy:!0,children:e||[]}],v,L(e||[]));return D(E[0])},Z=(e,t,n)=>{const r=e.key||t,i=h.cloneElement(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function s(){return h.createElement(h.Fragment,null,i)}return h.createElement(s,{key:r})},me=(e,t)=>e.map((n,r)=>Z(n,r,t)),ge=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:Z(e[r],r,t)})}),n},he=(e,t,n,r)=>e?Array.isArray(e)?me(e,t):I(e)?ge(e,t):(V(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,ye=e=>!I(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function Ne({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:f,defaults:m,components:y,ns:o,i18n:p,t:v,shouldUnescape:b,...N}){const c=p||H();if(!c)return V(c,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const T=v||c.t.bind(c)||(F=>F),E={...J(),...c.options?.react};let d=o||T.ns||c.options?.defaultNS;d=w(d)?[d]:d||["translation"];const x=Y(e,E,c,r),l=m||x||E.transEmptyNodeValue||r,{hashTransKey:g}=E,A=r||(g?g(x||l):x||l);c.options?.interpolation?.defaultVariables&&(f=f&&Object.keys(f).length>0?{...f,...c.options.interpolation.defaultVariables}:{...c.options.interpolation.defaultVariables});const u=f||t!==void 0&&!c.options?.interpolation?.alwaysFormat||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},a={...s,context:i||s.context,count:t,...f,...u,defaultValue:l,ns:d},S=A?T(A,a):l,k=he(y,S,c,r);let $=k||e,C=null;ye(k)&&(C=k,$=e);const j=de($,C,S,c,E,a,b),_=n??E.defaultTransParent;return _?h.createElement(_,N,j):j}const Q=h.createContext();class Ee{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Ae({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:f,defaults:m,components:y,ns:o,i18n:p,t:v,shouldUnescape:b,...N}){const{i18n:c,defaultNS:T}=h.useContext(Q)||{},E=p||c||H(),d=v||E?.t.bind(E);return Ne({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s,values:f,defaults:m,components:y,ns:o||d?.ns||T||E?.options?.defaultNS,i18n:E,t:v,shouldUnescape:b,...N})}const xe=(e,t)=>{const n=h.useRef();return h.useEffect(()=>{n.current=e},[e,t]),n.current},K=(e,t,n,r)=>e.getFixedT(t,n,r),ve=(e,t,n,r)=>h.useCallback(K(e,t,n,r),[e,t,n,r]),Ce=(e,t={})=>{const{i18n:n}=t,{i18n:r,defaultNS:i}=h.useContext(Q)||{},s=n||r||H();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Ee),!s){V(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const g=(u,a)=>w(a)?a:I(a)&&w(a.defaultValue)?a.defaultValue:Array.isArray(u)?u[u.length-1]:u,A=[g,{},!1];return A.t=g,A.i18n={},A.ready=!1,A}s.options.react?.wait&&V(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...J(),...s.options.react,...t},{useSuspense:m,keyPrefix:y}=f;let o=i||s.options?.defaultNS;o=w(o)?[o]:o||["translation"],s.reportNamespaces.addUsedNamespaces?.(o);const p=(s.isInitialized||s.initializedStoreOnce)&&o.every(g=>ue(g,s,f)),v=ve(s,t.lng||null,f.nsMode==="fallback"?o:o[0],y),b=()=>v,N=()=>K(s,t.lng||null,f.nsMode==="fallback"?o:o[0],y),[c,T]=h.useState(b);let E=o.join();t.lng&&(E=`${t.lng}${E}`);const d=xe(E),x=h.useRef(!0);h.useEffect(()=>{const{bindI18n:g,bindI18nStore:A}=f;x.current=!0,!p&&!m&&(t.lng?G(s,t.lng,o,()=>{x.current&&T(N)}):B(s,o,()=>{x.current&&T(N)})),p&&d&&d!==E&&x.current&&T(N);const u=()=>{x.current&&T(N)};return g&&s?.on(g,u),A&&s?.store.on(A,u),()=>{x.current=!1,s&&g?.split(" ").forEach(a=>s.off(a,u)),A&&s&&A.split(" ").forEach(a=>s.store.off(a,u))}},[s,E]),h.useEffect(()=>{x.current&&p&&T(b)},[s,y,p]);const l=[c,s,p];if(l.t=c,l.i18n=s,l.ready=p,p||!p&&!m)return l;throw new Promise(g=>{t.lng?G(s,t.lng,o,()=>g()):B(s,o,()=>g())})};export{Ae as T,Ce as u};

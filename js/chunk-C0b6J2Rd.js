const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/migrationService.ts-BXlkJopN.js","js/chunk-CZcF1WFm.js","js/chunk-DEpGQMoM.js","js/chunk-Bb4N9MXk.js","assets/index-dNlpAFRr.js","js/chunk-BxyRzOKK.js","js/chunk-B9w7spwz.js"])))=>i.map(i=>d[i]);
import{g as Ut,c as jt,i as je,a as Gt,B as zt,r as Nt,u as Wt,b as P,j as X,d as de,R as qt,e as St,f as et,h as Vt,_ as Jt,T as Qt,C as Kt}from"./chunk-DEpGQMoM.js";import{D as Zt,n as Tt,a as _t}from"./chunk-Bb4N9MXk.js";import{g as ee,E as Xt,l as er,s as Dt,a as tr,u as ze,c as rr,G as nr,b as sr,d as or,e as ar,f as Fe,h as se,i as ir,T as cr,j as ur,q as ge,w as ye,o as Ae,k as Oe,m as Ct,n as At,p as lr,r as dr,t as Ot,v as hr,x as fr,y as mr,z as pr,A as gr,B as yr}from"./chunk-BxyRzOKK.js";import{L as xr}from"./chunk-B9w7spwz.js";(function(){var n=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};n.SENTRY_RELEASE={id:"b82d01bea29447e452b49ba3e85b9fac2f7942a4"}})();try{(function(){var n=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},t=new n.Error().stack;t&&(n._sentryDebugIds=n._sentryDebugIds||{},n._sentryDebugIds[t]="97434fa1-3243-4b62-8681-85a9a43ef9da",n._sentryDebugIdIdentifier="sentry-dbid-97434fa1-3243-4b62-8681-85a9a43ef9da")})()}catch(n){}const wr="modulepreload",br=function(n){return"/"+n},tt={},q=function(t,s,e){let r=Promise.resolve();if(s&&s.length>0){let o=function(u){return Promise.all(u.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));r=o(s.map(u=>{if(u=br(u),u in tt)return;tt[u]=!0;const g=u.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const D=document.createElement("link");if(D.rel=g?"stylesheet":wr,g||(D.as="script"),D.crossOrigin="",D.href=u,i&&D.setAttribute("nonce",i),document.head.appendChild(D),g)return new Promise((O,I)=>{D.addEventListener("load",O),D.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return r.then(c=>{for(const i of c||[])i.status==="rejected"&&a(i.reason);return t().catch(a)})};class pe extends Error{constructor(t,s,e){super(t),this.code=s,this.cause=e,this.name="AppError"}}class he extends pe{constructor(t,s,e){super(t,s,e),this.name="AuthError"}}function Ft(n){return n instanceof pe}function Ne(n){return n instanceof Error}function vr(n){return Ne(n)?n.message:typeof n=="string"?n:"An unknown error occurred"}function Mr(n){if(Ft(n)||Ne(n)&&"code"in n)return n.code}function fe(n,t="An unexpected error occurred"){return Ft(n)?n:Ne(n)?new pe(n.message||t,void 0,n):typeof n=="string"?new pe(n):new pe(t)}const rt={"auth/user-not-found":"No account found with this email address","auth/wrong-password":"Incorrect password","auth/email-already-in-use":"An account with this email already exists","auth/weak-password":"Password is too weak","auth/invalid-email":"Invalid email address","auth/too-many-requests":"Too many login attempts. Please try again later","auth/network-request-failed":"Network error. Please check your connection","permission-denied":"You do not have permission to perform this action",unavailable:"Service is temporarily unavailable. Please try again"};function me(n){const t=Mr(n);return t&&rt[t]?rt[t]:vr(n)}var Pe={exports:{}};const Sr={},Tr=Object.freeze({__proto__:null,default:Sr}),nt=Ut(Tr);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2025
 * @license MIT
 */var st;function _r(){return st||(st=1,function(n){(function(){var t="input is invalid type",s=typeof window=="object",e=s?window:{};e.JS_SHA256_NO_WINDOW&&(s=!1);var r=!s&&typeof self=="object",a=!e.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";a?e=jt:r&&(e=self);var c=!e.JS_SHA256_NO_COMMON_JS&&!0&&n.exports,i=!e.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",o="0123456789abcdef".split(""),u=[-2147483648,8388608,32768,128],g=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],D=["hex","array","digest","arrayBuffer"],O=[];(e.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"}),i&&(e.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(l){return typeof l=="object"&&l.buffer&&l.buffer.constructor===ArrayBuffer});var I=function(l,f){return function(M){return new _(f,!0).update(M)[l]()}},L=function(l){var f=I("hex",l);a&&(f=C(f,l)),f.create=function(){return new _(l)},f.update=function(b){return f.create().update(b)};for(var M=0;M<D.length;++M){var h=D[M];f[h]=I(h,l)}return f},C=function(l,f){var M=nt,h=nt.Buffer,b=f?"sha224":"sha256",d;h.from&&!e.JS_SHA256_NO_BUFFER_FROM?d=h.from:d=function(m){return new h(m)};var E=function(m){if(typeof m=="string")return M.createHash(b).update(m,"utf8").digest("hex");if(m==null)throw new Error(t);return m.constructor===ArrayBuffer&&(m=new Uint8Array(m)),Array.isArray(m)||ArrayBuffer.isView(m)||m.constructor===h?M.createHash(b).update(d(m)).digest("hex"):l(m)};return E},A=function(l,f){return function(M,h){return new H(M,f,!0).update(h)[l]()}},F=function(l){var f=A("hex",l);f.create=function(b){return new H(b,l)},f.update=function(b,d){return f.create(b).update(d)};for(var M=0;M<D.length;++M){var h=D[M];f[h]=A(h,l)}return f};function _(l,f){f?(O[0]=O[16]=O[1]=O[2]=O[3]=O[4]=O[5]=O[6]=O[7]=O[8]=O[9]=O[10]=O[11]=O[12]=O[13]=O[14]=O[15]=0,this.blocks=O):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=l}_.prototype.update=function(l){if(!this.finalized){var f,M=typeof l;if(M!=="string"){if(M==="object"){if(l===null)throw new Error(t);if(i&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!i||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);f=!0}for(var h,b=0,d,E=l.length,m=this.blocks;b<E;){if(this.hashed&&(this.hashed=!1,m[0]=this.block,this.block=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0),f)for(d=this.start;b<E&&d<64;++b)m[d>>>2]|=l[b]<<g[d++&3];else for(d=this.start;b<E&&d<64;++b)h=l.charCodeAt(b),h<128?m[d>>>2]|=h<<g[d++&3]:h<2048?(m[d>>>2]|=(192|h>>>6)<<g[d++&3],m[d>>>2]|=(128|h&63)<<g[d++&3]):h<55296||h>=57344?(m[d>>>2]|=(224|h>>>12)<<g[d++&3],m[d>>>2]|=(128|h>>>6&63)<<g[d++&3],m[d>>>2]|=(128|h&63)<<g[d++&3]):(h=65536+((h&1023)<<10|l.charCodeAt(++b)&1023),m[d>>>2]|=(240|h>>>18)<<g[d++&3],m[d>>>2]|=(128|h>>>12&63)<<g[d++&3],m[d>>>2]|=(128|h>>>6&63)<<g[d++&3],m[d>>>2]|=(128|h&63)<<g[d++&3]);this.lastByteIndex=d,this.bytes+=d-this.start,d>=64?(this.block=m[16],this.start=d-64,this.hash(),this.hashed=!0):this.start=d}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},_.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var l=this.blocks,f=this.lastByteIndex;l[16]=this.block,l[f>>>2]|=u[f&3],this.block=l[16],f>=56&&(this.hashed||this.hash(),l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),l[14]=this.hBytes<<3|this.bytes>>>29,l[15]=this.bytes<<3,this.hash()}},_.prototype.hash=function(){var l=this.h0,f=this.h1,M=this.h2,h=this.h3,b=this.h4,d=this.h5,E=this.h6,m=this.h7,w=this.blocks,y,x,T,v,S,k,$,R,B,j,G;for(y=16;y<64;++y)S=w[y-15],x=(S>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,S=w[y-2],T=(S>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,w[y]=w[y-16]+x+w[y-7]+T<<0;for(G=f&M,y=0;y<64;y+=4)this.first?(this.is224?(R=300032,S=w[0]-1413257819,m=S-150054599<<0,h=S+24177077<<0):(R=704751109,S=w[0]-210244248,m=S-1521486534<<0,h=S+143694565<<0),this.first=!1):(x=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),T=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),R=l&f,v=R^l&M^G,$=b&d^~b&E,S=m+T+$+p[y]+w[y],k=x+v,m=h+S<<0,h=S+k<<0),x=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),T=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7),B=h&l,v=B^h&f^R,$=m&b^~m&d,S=E+T+$+p[y+1]+w[y+1],k=x+v,E=M+S<<0,M=S+k<<0,x=(M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10),T=(E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7),j=M&h,v=j^M&l^B,$=E&m^~E&b,S=d+T+$+p[y+2]+w[y+2],k=x+v,d=f+S<<0,f=S+k<<0,x=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),T=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),G=f&M,v=G^f&h^j,$=d&E^~d&m,S=b+T+$+p[y+3]+w[y+3],k=x+v,b=l+S<<0,l=S+k<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+l<<0,this.h1=this.h1+f<<0,this.h2=this.h2+M<<0,this.h3=this.h3+h<<0,this.h4=this.h4+b<<0,this.h5=this.h5+d<<0,this.h6=this.h6+E<<0,this.h7=this.h7+m<<0},_.prototype.hex=function(){this.finalize();var l=this.h0,f=this.h1,M=this.h2,h=this.h3,b=this.h4,d=this.h5,E=this.h6,m=this.h7,w=o[l>>>28&15]+o[l>>>24&15]+o[l>>>20&15]+o[l>>>16&15]+o[l>>>12&15]+o[l>>>8&15]+o[l>>>4&15]+o[l&15]+o[f>>>28&15]+o[f>>>24&15]+o[f>>>20&15]+o[f>>>16&15]+o[f>>>12&15]+o[f>>>8&15]+o[f>>>4&15]+o[f&15]+o[M>>>28&15]+o[M>>>24&15]+o[M>>>20&15]+o[M>>>16&15]+o[M>>>12&15]+o[M>>>8&15]+o[M>>>4&15]+o[M&15]+o[h>>>28&15]+o[h>>>24&15]+o[h>>>20&15]+o[h>>>16&15]+o[h>>>12&15]+o[h>>>8&15]+o[h>>>4&15]+o[h&15]+o[b>>>28&15]+o[b>>>24&15]+o[b>>>20&15]+o[b>>>16&15]+o[b>>>12&15]+o[b>>>8&15]+o[b>>>4&15]+o[b&15]+o[d>>>28&15]+o[d>>>24&15]+o[d>>>20&15]+o[d>>>16&15]+o[d>>>12&15]+o[d>>>8&15]+o[d>>>4&15]+o[d&15]+o[E>>>28&15]+o[E>>>24&15]+o[E>>>20&15]+o[E>>>16&15]+o[E>>>12&15]+o[E>>>8&15]+o[E>>>4&15]+o[E&15];return this.is224||(w+=o[m>>>28&15]+o[m>>>24&15]+o[m>>>20&15]+o[m>>>16&15]+o[m>>>12&15]+o[m>>>8&15]+o[m>>>4&15]+o[m&15]),w},_.prototype.toString=_.prototype.hex,_.prototype.digest=function(){this.finalize();var l=this.h0,f=this.h1,M=this.h2,h=this.h3,b=this.h4,d=this.h5,E=this.h6,m=this.h7,w=[l>>>24&255,l>>>16&255,l>>>8&255,l&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255,d>>>24&255,d>>>16&255,d>>>8&255,d&255,E>>>24&255,E>>>16&255,E>>>8&255,E&255];return this.is224||w.push(m>>>24&255,m>>>16&255,m>>>8&255,m&255),w},_.prototype.array=_.prototype.digest,_.prototype.arrayBuffer=function(){this.finalize();var l=new ArrayBuffer(this.is224?28:32),f=new DataView(l);return f.setUint32(0,this.h0),f.setUint32(4,this.h1),f.setUint32(8,this.h2),f.setUint32(12,this.h3),f.setUint32(16,this.h4),f.setUint32(20,this.h5),f.setUint32(24,this.h6),this.is224||f.setUint32(28,this.h7),l};function H(l,f,M){var h,b=typeof l;if(b==="string"){var d=[],E=l.length,m=0,w;for(h=0;h<E;++h)w=l.charCodeAt(h),w<128?d[m++]=w:w<2048?(d[m++]=192|w>>>6,d[m++]=128|w&63):w<55296||w>=57344?(d[m++]=224|w>>>12,d[m++]=128|w>>>6&63,d[m++]=128|w&63):(w=65536+((w&1023)<<10|l.charCodeAt(++h)&1023),d[m++]=240|w>>>18,d[m++]=128|w>>>12&63,d[m++]=128|w>>>6&63,d[m++]=128|w&63);l=d}else if(b==="object"){if(l===null)throw new Error(t);if(i&&l.constructor===ArrayBuffer)l=new Uint8Array(l);else if(!Array.isArray(l)&&(!i||!ArrayBuffer.isView(l)))throw new Error(t)}else throw new Error(t);l.length>64&&(l=new _(f,!0).update(l).array());var y=[],x=[];for(h=0;h<64;++h){var T=l[h]||0;y[h]=92^T,x[h]=54^T}_.call(this,f,M),this.update(x),this.oKeyPad=y,this.inner=!0,this.sharedMemory=M}H.prototype=new _,H.prototype.finalize=function(){if(_.prototype.finalize.call(this),this.inner){this.inner=!1;var l=this.array();_.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(l),_.prototype.finalize.call(this)}};var Y=L();Y.sha256=Y,Y.sha224=L(!0),Y.sha256.hmac=F(),Y.sha224.hmac=F(!0),c?n.exports=Y:(e.sha256=Y.sha256,e.sha224=Y.sha224)})()}(Pe)),Pe.exports}var Dr=_r();const Et={apiKey:"AIzaSyCKS7tWQRYRWHsawNfN42uAmISdUbJHJJw",authDomain:"blitzout-49b39.firebaseapp.com",projectId:"blitzout-49b39",storageBucket:"blitzout-49b39.appspot.com",messagingSenderId:"852428606926",appId:"1:852428606926:web:17444e6f8dbc2f95f0ef9f",measurementId:"G-93YN1YMTQ7"},ot=Object.entries(Et).filter(([n,t])=>!t).map(([n])=>n);ot.length>0&&(console.error("Missing Firebase environment variables:",ot),console.error("Please check your .env file and ensure all VITE_FIREBASE_* variables are set"));const Cr=ur(Et),K=ir(Cr);async function Zn(n=""){try{const t=ee();return await ar(t),t.currentUser?(await ze(t.currentUser,{displayName:n}),t.currentUser):null}catch(t){throw console.error("Anonymous login error:",t),new he(me(t),"ANONYMOUS_LOGIN_FAILED",fe(t))}}async function Xn(n,t,s=""){try{const e=ee(),r=await rr(e,n,t);return await ze(r.user,{displayName:s}),r.user}catch(e){throw console.error("Registration error:",e),new he(me(e),"REGISTRATION_FAILED",fe(e))}}async function es(n,t){try{const s=ee();return(await or(s,n,t)).user}catch(s){throw console.error("Email login error:",s),new he(me(s),"EMAIL_LOGIN_FAILED",fe(s))}}async function ts(){try{const n=ee(),t=new nr;return(await sr(n,t)).user}catch(n){throw console.error("Google login error:",n),new he(me(n),"GOOGLE_LOGIN_FAILED",fe(n))}}async function rs(n){try{const t=ee();return await tr(t,n),!0}catch(t){throw console.error("Password reset error:",t),new he(me(t),"PASSWORD_RESET_FAILED",fe(t))}}async function ns(n,t){try{const e=ee().currentUser;if(e!=null&&e.isAnonymous){const r=Xt.credential(n,t);return(await er(e,r)).user}else throw new Error("User is not anonymous or not logged in")}catch(s){throw console.error("Account conversion error:",s),new he(me(s),"ACCOUNT_CONVERSION_FAILED",fe(s))}}async function ss(){try{const n=ee();return await Dt(n),!0}catch(n){throw console.error(n),n}}async function os(){try{const n=ee();await Dt(n),["gameSettings","messages-storage","i18nextLng","blitzed-out-action-groups-migration","blitzed-out-background-migration","blitzed-out-migration-in-progress","blitzed-out-current-language-migration","blitzed-out-background-migration-in-progress","blitzed-out-migration-health"].forEach(o=>{try{localStorage.removeItem(o)}catch(u){console.warn(`Failed to remove localStorage key: ${o}`,u)}});const s=["gameSettings","messages-storage","blitzed-out-"];Object.keys(localStorage).forEach(o=>{if(s.some(u=>o.startsWith(u)))try{localStorage.removeItem(o)}catch(u){console.warn(`Failed to remove localStorage key: ${o}`,u)}});try{sessionStorage.clear()}catch(o){console.warn("Failed to clear sessionStorage:",o)}try{const{default:o}=await q(async()=>{const{default:u}=await Promise.resolve().then(function(){return Ur});return{default:u}},void 0);await o.delete(),console.log("Successfully cleared IndexedDB")}catch(o){console.warn("Failed to clear IndexedDB:",o)}const r=["i18next"],a=window.location.hostname,c=[a];if(a.includes(".")){const o=a.split(".");for(let u=1;u<o.length-1;u++)c.push(`.${o.slice(u).join(".")}`)}const i=["/","/app","/auth","/login"];r.forEach(o=>{c.forEach(u=>{i.forEach(g=>{try{document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${g}; domain=${u};`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${g}; domain=${u}; secure;`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${g}; domain=${u}; httpOnly;`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${g}; domain=${u}; SameSite=Strict;`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${g}; domain=${u}; SameSite=Lax;`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${g}; domain=${u}; SameSite=None; secure;`}catch(p){}})}),i.forEach(u=>{try{document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${u};`,document.cookie=`${o}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${u}; secure;`}catch(g){}}),console.log(`Attempted comprehensive clearing of cookie: ${o}`)}),console.log("Successfully wiped all app data")}catch(n){throw console.error("Error wiping app data:",n),n}}function as(n,t,s={},e={}){if(!n)return;const{enableCache:r=!0,enableDebounce:a=!0}=e,c=n.toUpperCase(),i=qe("userList",c),o=Date.now();if(r){const p=V.get(i);if(p&&Ve(p,i)){p.queryCount++,V.set(i,p),Q(i,Date.now()-o,!0);const D=Object.keys(p.data).sort().join(","),O=s?Object.keys(s).sort().join(","):"";return D!==O&&t(p.data),()=>{}}}let u;const g=async()=>{let p=!1;try{await Ee();const D=pr(),O=gr(D,"users");u=yr(O,I=>{const L=Date.now(),C=L-o,A=I.val();if(!A){t({});return}const F={};Object.entries(A).forEach(([l,f])=>{f.room===c&&(F[l]={displayName:f.displayName,uid:l,lastSeen:f.lastSeen?new Date(f.lastSeen):new Date,isAnonymous:f.isAnonymous,joinedAt:f.joinedAt?new Date(f.joinedAt):new Date,room:f.room})});const _=F;if(r){We();const l=xe(i);V.set(i,{data:_,timestamp:L,queryCount:1,priority:l})}Q(i,C,!1,p);const H=Object.keys(_).sort().join(","),Y=s?Object.keys(s).sort().join(","):"";H!==Y&&t(_)},I=>{p=!0,console.error("getUserList error:",I),Q(i,Date.now()-o,!1,!0)})}catch(D){p=!0,console.error("getUserList connection error:",D),Q(i,Date.now()-o,!1,!0)}finally{ke()}};return a?(Je(i,g),()=>{const p=ne.get(i);p&&(clearTimeout(p),ne.delete(i)),u&&u()}):(g(),u)}async function is(n=""){try{const t=ee();return t.currentUser?(await ze(t.currentUser,{displayName:n}),t.currentUser):null}catch(t){return console.error(t),null}}async function cs(n,t){try{await Fe(se(K,"custom-actions"),{grouping:n,customAction:t,ttl:new Date(Date.now()+5760*60*1e3)})}catch(s){console.error(s)}}async function Ar(n){const t=ge(se(K,"game-boards"),ye("checksum","==",n)),s=await fr(t);return s.size?s.docs[0]:null}async function us({title:n,gameBoard:t,settings:s}){if(n)try{const e=Dr.sha256(t),r=await Ar(e);return r?(dr(r.ref,{ttl:new Date(Date.now()+720*60*60*1e3)}),r):await Or({title:n,gameBoard:t,settings:s,checksum:e})}catch(e){console.error(e)}}async function Or({title:n,gameBoard:t,settings:s,checksum:e}){try{return await Fe(se(K,"game-boards"),{title:n,gameBoard:t,settings:s,checksum:e,ttl:new Date(Date.now()+720*60*60*1e3)})}catch(r){console.error(r);return}}async function ls(n){try{const t=Ot(K,"game-boards",n),s=await hr(t);return s.exists()?s.data():void 0}catch(t){console.error(t);return}}let at={};const V=new Map,ne=new Map,it=15e3,Fr=5e3,ct=150,Er=50,kt=50,kr=100,ce={activeConnections:0,maxConnections:15,connectionQueue:[]},ut=new Map;function Q(n,t,s,e=!1){const r=ut.get(n)||{queryCount:0,totalLatency:0,cacheHits:0,lastQueryTime:0,avgLatency:0,p95Latency:0,connectionPoolHits:0,networkErrors:0,latencyHistory:[]};if(r.queryCount++,r.totalLatency+=t,r.lastQueryTime=Date.now(),r.avgLatency=r.totalLatency/r.queryCount,r.latencyHistory.push(t),r.latencyHistory.length>20&&r.latencyHistory.shift(),r.latencyHistory.length>=5){const a=[...r.latencyHistory].sort((i,o)=>i-o),c=Math.floor(a.length*.95);r.p95Latency=a[c]}s&&r.cacheHits++,e&&r.networkErrors++,ut.set(n,r)}function xe(n){return n.includes("messages")?"high":n.includes("userList")?"medium":"low"}function Lr(n){switch(n){case"high":return Fr;case"medium":return it;case"low":return it*2}}function $r(n){switch(n){case"high":return Er;case"medium":return ct;case"low":return ct*2}}function We(){if(V.size<=kr)return;const n=Array.from(V.entries());n.sort(([,s],[,e])=>{const r={low:0,medium:1,high:2},a=r[s.priority]-r[e.priority];if(a!==0)return a;const c=s.queryCount-e.queryCount;return c!==0?c:s.timestamp-e.timestamp});const t=Math.ceil(V.size*.2);for(let s=0;s<t;s++)V.delete(n[s][0])}function Ee(){return new Promise(n=>{ce.activeConnections<ce.maxConnections?(ce.activeConnections++,n()):ce.connectionQueue.push(()=>{ce.activeConnections++,n()})})}function ke(){if(ce.activeConnections--,ce.connectionQueue.length>0){const n=ce.connectionQueue.shift();n&&n()}}function qe(n,t,s){return`${n}:${t||"global"}:${s||""}`}function Ve(n,t){const s=xe(t),e=Lr(s);return Date.now()-n.timestamp<e}function Je(n,t,...s){const e=xe(n),r=$r(e),a=ne.get(n);a&&clearTimeout(a);const c=setTimeout(async()=>{try{await Ee(),t(...s)}catch(i){console.error("Query execution error:",i)}finally{ke(),ne.delete(n)}},r);ne.set(n,c)}async function ds({room:n,user:t,text:s="",type:e="chat",...r}){const a=["chat","actions","settings","room","media"];if(!a.includes(e)){let u="Invalid message type. Was expecting ";return u+=a.join(", "),u+=` but got ${e}`,console.error(u)}if(!(t!=null&&t.uid))return;const c={room:n,user:t.uid,text:s,type:e,...r};if(JSON.stringify(c)===JSON.stringify(at))return;at=c;const i=Date.now(),o=(n==null?void 0:n.toUpperCase())||"PUBLIC";try{return await Fe(se(K,"chat-rooms",o,"messages"),{text:s.trim(),ttl:new Date(i+864e5),type:e,...r,uid:t.uid,displayName:t.displayName,timestamp:lr()})}catch(u){console.error("Failed to send message:",u);return}}async function hs(n,t){return mr(Ot(K,`/chat-rooms/${n.toUpperCase()}/messages/${t}`))}function fs(n,t,s={}){if(!n)return;const e=ee();if(!e.currentUser){let r,a;return r=e.onAuthStateChanged(c=>{c&&(a=lt(n,t,s),r&&(r(),r=void 0))}),()=>{r&&r(),a&&a()}}return lt(n,t,s)}function lt(n,t,s={}){const{limitCount:e=kt,startAfterDoc:r,enableCache:a=!0,enableDebounce:c=!0}=s,i=n.toUpperCase(),o=qe("messages",i,`limit:${e}`),u=Date.now();if(a){const p=V.get(o);if(p&&Ve(p,o))return p.queryCount++,V.set(o,p),Q(o,Date.now()-u,!0),t(p.data),()=>{}}const g=()=>{let p=!1,D;try{Ee();const O=new Date;O.setHours(O.getHours()-3);let I=ge(se(K,"chat-rooms",i,"messages"),ye("timestamp",">",O),Ae("timestamp","desc"),Oe(e));return r&&(I=ge(se(K,"chat-rooms",i,"messages"),ye("timestamp",">",O),Ae("timestamp","desc"),Ct(r),Oe(e))),D=At(I,L=>{const C=Date.now(),A=C-u,F=L.docs.map(_=>({id:_.id,..._.data()}));if(a&&F.length>0){We();const _=L.docs[L.docs.length-1],H=xe(o);V.set(o,{data:F,timestamp:C,lastVisible:_,queryCount:1,priority:H})}Q(o,A,!1,p),t(F)},L=>{p=!0,console.error("getMessages error:",L),Q(o,Date.now()-u,!1,!0)}),D}catch(O){return p=!0,console.error("getMessages connection error:",O),Q(o,Date.now()-u,!1,!0),()=>{}}finally{ke()}};if(c){let p;return Je(o,()=>{p=g()}),()=>{const D=ne.get(o);D&&(clearTimeout(D),ne.delete(o)),p&&p()}}return g()}function Ir(n,t={}){const{limitCount:s=kt,startAfterDoc:e,enableCache:r=!0,enableDebounce:a=!0}=t,c=qe("schedule",null,`limit:${s}`),i=Date.now();if(r){const g=V.get(c);if(g&&Ve(g,c))return g.queryCount++,V.set(c,g),Q(c,Date.now()-i,!0),n(g.data),()=>{}}const o=async()=>{let g=!1,p;try{await Ee();const D=new Date;D.setMinutes(D.getMinutes()-5);let O=ge(se(K,"schedule"),ye("dateTime",">",D),Ae("dateTime","asc"),Oe(s));return e&&(O=ge(se(K,"schedule"),ye("dateTime",">",D),Ae("dateTime","asc"),Ct(e),Oe(s))),p=At(O,I=>{const L=Date.now(),C=L-i,A=I.docs.map(F=>({id:F.id,...F.data()}));if(r&&A.length>0){We();const F=I.docs[I.docs.length-1],_=xe(c);V.set(c,{data:A,timestamp:L,lastVisible:F,queryCount:1,priority:_})}Q(c,C,!1,g),n(A)},I=>{g=!0,console.error("getSchedule error:",I),Q(c,Date.now()-i,!1,!0)}),p||(()=>{})}catch(D){return g=!0,console.error("getSchedule connection error:",D),Q(c,Date.now()-i,!1,!0),()=>{}}finally{ke()}};if(a){let g;return Je(c,async()=>{g=await o()}),()=>{const p=ne.get(c);p&&(clearTimeout(p),ne.delete(c)),g&&g()}}const u=o();return u instanceof Promise?()=>{}:u}async function Rr(n,t,s="PUBLIC"){try{return await Fe(se(K,"schedule"),{dateTime:cr.fromDate(n),url:t,room:s})}catch(e){return console.error(e)}}function Yr(n={tables:["customTiles","gameBoard"]}){const{tables:t}=n,s=new Set(t),e={timeouts:{},queue:new Set,scheduleSync(r){this.timeouts[r]&&clearTimeout(this.timeouts[r]),this.queue.add(r),this.timeouts[r]=setTimeout(()=>{this.processSyncQueue()},2e3)},processSyncQueue(){var r;if(this.queue.size===0)return;const a=window;(r=a.authContext)!=null&&r.user&&!a.authContext.user.isAnonymous&&a.authContext.syncData(),this.queue.clear(),Object.keys(this.timeouts).forEach(c=>{clearTimeout(this.timeouts[c]),delete this.timeouts[c]})}};return{stack:"dbcore",name:"syncMiddleware",create(r){return{...r,table(a){const c=r.table(a);return s.has(a)?{...c,mutate:async i=>{const o=await c.mutate(i);return["put","add","delete","deleteRange","update"].includes(i.type)&&e.scheduleSync(a),o}}:c}}}}}var Pr=Object.defineProperty,Hr=(n,t,s)=>t in n?Pr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s,le=(n,t,s)=>Hr(n,typeof t!="symbol"?t+"":t,s);class Br extends Zt{constructor(){super("blitzedOut"),le(this,"customTiles"),le(this,"gameBoard"),le(this,"customGroups"),le(this,"localPlayerSessions"),le(this,"localPlayerMoves"),le(this,"localPlayerStats"),this.version(2).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive"}),this.version(3).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive",customGroups:"++id, name, label, locale, gameMode, isDefault, createdAt"}),this.version(4).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive",customGroups:"++id, name, label, locale, gameMode, isDefault, createdAt, [name+locale+gameMode]"}).upgrade(async t=>{const s=await t.table("customGroups").toArray(),e=new Set;for(const r of s){const a=`${r.name}-${r.locale}-${r.gameMode}`;e.has(a)?await t.table("customGroups").delete(r.id):e.add(a)}}),this.version(5).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive",customGroups:"++id, name, label, locale, gameMode, isDefault, createdAt, [name+locale+gameMode]",localPlayerSessions:"++id, sessionId, roomId, isActive, createdAt, updatedAt",localPlayerMoves:"++id, sessionId, playerId, timestamp, sequence",localPlayerStats:"++id, sessionId, playerId, lastActive"})}}const Qe=new Br;Qe.use(Yr({tables:["customTiles","gameBoard","customGroups","localPlayerSessions","localPlayerMoves","localPlayerStats"]}));const Ur=Object.freeze({__proto__:null,default:Qe}),{customGroups:oe}=Qe;oe.hook("creating",function(n,t,s){t.id||(t.id=Tt()),t.locale===void 0&&(t.locale=je.resolvedLanguage||je.language||"en"),t.gameMode===void 0&&(t.gameMode="online"),t.isDefault===void 0&&(t.isDefault=!1);const e=new Date;t.createdAt||(t.createdAt=e),t.updatedAt=e});oe.hook("updating",function(n,t,s,e){n.updatedAt=new Date});const jr=n=>{const t=["locale","gameMode","name","isDefault"];let s=oe.toCollection();return Object.entries(n).filter(([r])=>t.includes(r)).forEach(([r,a])=>{a==null||a===""||(s=s.filter(c=>c[r]===a))}),s},Ke=async(n={})=>{try{return await jr(n).toArray()}catch(t){return console.error("Error in getCustomGroups:",t),[]}},Ze=async(n,t="en",s="online")=>{try{return await oe.where("name").equals(n).and(e=>e.locale===t&&e.gameMode===s).first()}catch(e){console.error("Error in getCustomGroupByName:",e);return}},Gr=async n=>{try{const t={...n,createdAt:new Date,updatedAt:new Date};return await oe.add(t)}catch(t){console.error("Error in addCustomGroup:",t);return}},zr=async(n,t)=>{try{return await oe.update(n,t)}catch(s){return console.error("Error in updateCustomGroup:",s),0}},Lt=async n=>{try{await oe.delete(n)}catch(t){console.error("Error in deleteCustomGroup:",t)}},Nr=async()=>{try{return await oe.clear(),!0}catch(n){return console.error("Error deleting all custom groups:",n),!1}},Wr=async n=>{try{const t=new Date,s=n.map(e=>({name:e.name||"",label:e.label||"",intensities:e.intensities||[],id:e.id||Tt(),locale:e.locale||"en",gameMode:e.gameMode||"online",isDefault:e.isDefault||!1,createdAt:e.createdAt||t,updatedAt:e.updatedAt||t}));return await oe.bulkAdd(s)}catch(t){console.error("Error in importCustomGroups:",t);return}},qr=async(n,t="en",s="online")=>{try{const e=await Ze(n,t,s);return(e==null?void 0:e.intensities)||[]}catch(e){return console.error("Error in getGroupIntensities:",e),[]}},Vr=async(n,t="en",s="online",e)=>{try{const r=await Ze(n,t,s);return!!(!r||e&&r.id===e)}catch(r){return console.error("Error in isGroupNameUnique:",r),!1}},$t=async(n="en",t="online")=>{try{const s=await Ke({locale:n,gameMode:t}),e=new Map;s.forEach(a=>{const c=e.get(a.name)||[];c.push(a),e.set(a.name,c)});let r=0;for(const[,a]of e)if(a.length>1){a.sort((c,i)=>{try{const o=c.createdAt instanceof Date?c.createdAt.getTime():new Date(c.createdAt).getTime(),u=i.createdAt instanceof Date?i.createdAt.getTime():new Date(i.createdAt).getTime();return o-u}catch(o){return console.warn("Date parsing failed in removeDuplicateGroups, using createdAt fallback:",o),c.createdAt.getTime()-i.createdAt.getTime()}});for(let c=1;c<a.length;c++)await Lt(a[c].id),r++}return r}catch(s){return console.error("Error in removeDuplicateGroups:",s),0}},Xe=async(n="en",t="online")=>{try{return await $t(n,t),(await Ke({locale:n,gameMode:t})).filter((r,a,c)=>c.findIndex(i=>i.name===r.name)===a)}catch(s){return console.error("❌ getAllAvailableGroups: Database error",{locale:n,gameMode:t,error:s}),[]}},ms=Object.freeze({__proto__:null,addCustomGroup:Gr,deleteAllCustomGroups:Nr,deleteCustomGroup:Lt,getAllAvailableGroups:Xe,getCustomGroupByName:Ze,getCustomGroups:Ke,getGroupIntensities:qr,importCustomGroups:Wr,isGroupNameUnique:Vr,removeDuplicateGroups:$t,updateCustomGroup:zr});function Jr(n,t){let s;try{s=n()}catch(r){return}return{getItem:r=>{var a;const c=o=>o===null?null:JSON.parse(o,void 0),i=(a=s.getItem(r))!=null?a:null;return i instanceof Promise?i.then(c):c(i)},setItem:(r,a)=>s.setItem(r,JSON.stringify(a,void 0)),removeItem:r=>s.removeItem(r)}}const Ge=n=>t=>{try{const s=n(t);return s instanceof Promise?s:{then(e){return Ge(e)(s)},catch(e){return this}}}catch(s){return{then(e){return this},catch(e){return Ge(e)(s)}}}},Qr=(n,t)=>(s,e,r)=>{let a={storage:Jr(()=>localStorage),partialize:L=>L,version:0,merge:(L,C)=>({...C,...L}),...t},c=!1;const i=new Set,o=new Set;let u=a.storage;if(!u)return n((...L)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),s(...L)},e,r);const g=()=>{const L=a.partialize({...e()});return u.setItem(a.name,{state:L,version:a.version})},p=r.setState;r.setState=(L,C)=>{p(L,C),g()};const D=n((...L)=>{s(...L),g()},e,r);r.getInitialState=()=>D;let O;const I=()=>{var L,C;if(!u)return;c=!1,i.forEach(F=>{var _;return F((_=e())!=null?_:D)});const A=((C=a.onRehydrateStorage)==null?void 0:C.call(a,(L=e())!=null?L:D))||void 0;return Ge(u.getItem.bind(u))(a.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==a.version){if(a.migrate){const _=a.migrate(F.state,F.version);return _ instanceof Promise?_.then(H=>[!0,H]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var _;const[H,Y]=F;if(O=a.merge(Y,(_=e())!=null?_:D),s(O,!0),H)return g()}).then(()=>{A==null||A(O,void 0),O=e(),c=!0,o.forEach(F=>F(O))}).catch(F=>{A==null||A(void 0,F)})};return r.persist={setOptions:L=>{a={...a,...L},L.storage&&(u=L.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>I(),hasHydrated:()=>c,onHydrate:L=>(i.add(L),()=>{i.delete(L)}),onFinishHydration:L=>(o.add(L),()=>{o.delete(L)})},a.skipHydration||I(),O||D},Kr=Qr,dt={locale:"en",gameMode:"online",boardUpdated:!1,room:"PUBLIC",background:"color",roomBackground:"useAppBackground",selectedActions:{},hasSeenRollButton:!1,themeMode:"system",playerDialog:!0},Le=_t()(Kr(n=>({settings:dt,updateSettings:t=>n(s=>({settings:{...s.settings,...t}})),setLocale:t=>n(s=>({settings:{...s.settings,locale:t}})),resetSettings:()=>n({settings:dt}),updateSelectedAction:(t,s)=>n(e=>{const r={...e.settings.selectedActions};return s===null?delete r[t]:r[t]=s,{settings:{...e.settings,selectedActions:r}}}),removeSelectedAction:t=>n(s=>{const e={...s.settings.selectedActions};return delete e[t],{settings:{...s.settings,selectedActions:e}}}),clearSelectedActions:()=>n(t=>({settings:{...t.settings,selectedActions:{}}})),getSelectedActionsByType:t=>{const{selectedActions:s={}}=Le.getState().settings;return Object.entries(s||{}).filter(([,r])=>r.type===t).reduce((r,[a,c])=>(r[a]=c,r),{})}}),{name:"gameSettings",partialize:n=>({settings:n.settings})})),ps=()=>{const{settings:n,updateSettings:t}=Le();return[n,t]},gs=()=>{const{settings:n,updateSettings:t}=Le();return{settings:n,updateSettings:t}},He=(n,t,s)=>{const e=n[t];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((r,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})},ht=5e3,Zr={fallbackLng:"en",supportedLngs:["en","es","fr","zh","hi"],ns:["translation","errors"],defaultNS:"translation",interpolation:{escapeValue:!1},react:{useSuspense:!1},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],caches:["localStorage","cookie"]},load:"currentOnly",preload:!1,cleanCode:!0},Xr=(n,t)=>t==="translation"?He(Object.assign({"./locales/en/translation.json":()=>q(()=>import("./translation.json-Cpp9mwvU.js"),[]),"./locales/es/translation.json":()=>q(()=>import("./translation.json-yTseI9aM.js"),[]),"./locales/fr/translation.json":()=>q(()=>import("./translation.json-J5FiowEh.js"),[]),"./locales/hi/translation.json":()=>q(()=>import("./translation.json-BVUpN1t5.js"),[]),"./locales/zh/translation.json":()=>q(()=>import("./translation.json-B-FxA0kH.js"),[])}),`./locales/${n}/translation.json`,4):He(Object.assign({"./locales/en/translation.json":()=>q(()=>import("./translation.json-Cpp9mwvU.js"),[]),"./locales/es/translation.json":()=>q(()=>import("./translation.json-yTseI9aM.js"),[]),"./locales/fr/translation.json":()=>q(()=>import("./translation.json-J5FiowEh.js"),[]),"./locales/hi/translation.json":()=>q(()=>import("./translation.json-BVUpN1t5.js"),[]),"./locales/zh/translation.json":()=>q(()=>import("./translation.json-B-FxA0kH.js"),[])}),`./locales/${n}/${t}.json`,4).catch(()=>He(Object.assign({"./locales/en/translation.json":()=>q(()=>import("./translation.json-Cpp9mwvU.js"),[])}),`./locales/en/${t}.json`,4)),W=je.use(Gt).use(zt).use(Nt(Xr));W.init(Zr).then(()=>{(()=>{const t=W.language,s=["en","es","fr"].filter(e=>e!==t);typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(()=>{s.forEach(e=>{var r;(r=W==null?void 0:W.options)!=null&&r.supportedLngs&&Array.isArray(W.options.supportedLngs)&&W.options.supportedLngs.includes(e)&&W.loadLanguages(e).catch(console.warn)})},{timeout:ht}):setTimeout(()=>{s.forEach(e=>{var r;(r=W==null?void 0:W.options)!=null&&r.supportedLngs&&Array.isArray(W.options.supportedLngs)&&W.options.supportedLngs.includes(e)&&W.loadLanguages(e).catch(console.warn)})},ht)})()}).catch(console.error);const ys=Object.freeze({__proto__:null,default:W}),en=n=>{const t={};for(const s of n){const e={label:s.label||s.name,type:s.type||"action",actions:{None:[]}};if(s.intensities&&Array.isArray(s.intensities))for(const r of s.intensities)e.actions[r.label]=[];t[s.name]=e}return t},tn=async(n="en",t="online")=>{try{const s=await Xe(n,t);return en(s)}catch(s){return console.error("Error importing actions from Dexie:",s),{}}},rn=async(n="en",t="online")=>{try{const[s,e]=await Promise.all([tn(n,t).catch(()=>({})),Xe(n,t).catch(()=>[])]),r=Object.keys(s).length;if(e.length<r)return!1;const c=Object.keys(s),i=new Set(e.map(o=>o.name));for(const o of c)if(!i.has(o))return!1;return!0}catch(s){return console.error("Error in isDexieDataComplete:",s),!1}},It="blitzed-out-migration-health",ft=3,nn=300*1e3,Rt=()=>{try{const n=localStorage.getItem(It);return n?JSON.parse(n):{}}catch(n){return console.warn("Failed to load migration health state:",n),{}}},ve=(n,t,s)=>{try{const e=`${n}-${t}`,r=Rt();r[e]={failureCount:0,lastValidation:new Date().toISOString(),consecutiveFailures:0,...r[e],...s},localStorage.setItem(It,JSON.stringify(r))}catch(e){console.warn("Failed to update migration health state:",e)}},Be=async(n,t="online")=>{const s=n||W.resolvedLanguage||W.language||"en",e=`${s}-${t}`,a=Rt()[e]||{failureCount:0,lastValidation:new Date(0).toISOString(),consecutiveFailures:0},c={...a,lastValidation:new Date(a.lastValidation)},i={isHealthy:!1,requiresRecovery:!1,lastValidation:c.lastValidation,failureCount:c.failureCount,details:{migrationStatus:"incomplete",dataComplete:!1,locale:s,gameMode:t}};try{if(Date.now()-c.lastValidation.getTime()<nn&&c.consecutiveFailures===0)return i.isHealthy=!0,i.details.migrationStatus="completed",i.details.dataComplete=!0,i;const u=await rn(s,t);if(i.details.dataComplete=u,u)i.isHealthy=!0,i.details.migrationStatus="completed",ve(s,t,{consecutiveFailures:0,lastValidation:new Date().toISOString()});else{const g=sn();i.details.migrationStatus=g;const p=c.failureCount+1,D=c.consecutiveFailures+1;ve(s,t,{failureCount:p,consecutiveFailures:D,lastValidation:new Date().toISOString()}),i.failureCount=p,i.requiresRecovery=D>=ft,i.requiresRecovery&&(i.details.errorMessage=`Migration failed ${D} consecutive times. Data incomplete for ${s}/${t}.`)}return i}catch(o){console.error("Migration health check failed:",o);const u=c.failureCount+1,g=c.consecutiveFailures+1;return ve(s,t,{failureCount:u,consecutiveFailures:g,lastValidation:new Date().toISOString()}),i.failureCount=u,i.requiresRecovery=g>=ft,i.details.migrationStatus="failed",i.details.errorMessage=`Health check failed: ${o instanceof Error?o.message:String(o)}`,i}},sn=()=>{try{const n=localStorage.getItem("blitzed-out-action-groups-migration");if(n){const s=JSON.parse(n);if(s.completed&&s.version==="2.1.1")return"completed"}const t=localStorage.getItem("blitzed-out-background-migration");if(t){const s=JSON.parse(t);if(s.completedLanguages&&s.completedLanguages.length>0)return"completed"}return"incomplete"}catch(n){return console.warn("Failed to check migration status from storage:",n),"incomplete"}},mt=async(n,t="online")=>{const s=n||W.resolvedLanguage||W.language||"en";try{const e=["blitzed-out-migration-in-progress","blitzed-out-current-language-migration","blitzed-out-background-migration-in-progress"];let r=!1;e.forEach(a=>{try{localStorage.removeItem(a)}catch(c){console.warn(`Failed to remove ${a}:`,c),r=!0}});try{ve(s,t,{failureCount:0,consecutiveFailures:0,lastValidation:new Date(0).toISOString()})}catch(a){console.warn("Failed to update health state:",a),r=!0}return!r}catch(e){return console.error("Migration recovery failed:",e),!1}},Yt=P.createContext(void 0);function xs(){const n=P.useContext(Yt);if(n===void 0)throw new Error("useMigration must be used within a MigrationProvider");return n}function on({children:n}){const{i18n:t}=Wt(),[s,e]=P.useState(!1),[r,a]=P.useState(!1),[c,i]=P.useState(!1),[o,u]=P.useState(null),[g,p]=P.useState(!1),[D,O]=P.useState(!1),[I,L]=P.useState(null),C=P.useRef(new Set),A=P.useCallback(async()=>await q(()=>import("./migrationService.ts-BXlkJopN.js"),__vite__mapDeps([0,1,2,3,4,5,6])),[]);P.useEffect(()=>{const f=async()=>{try{const M=await A(),h=t.language||"en";if(!await M.verifyMigrationIntegrity(h,"online")){M.fixMigrationStatusCorruption(),a(!1),i(!1);return}const d=M.isCurrentLanguageMigrationCompleted(h),E=M.isMigrationCompleted();if(a(d),i(E),d){const m=await Be(h,"online");p(m.isHealthy),!m.isHealthy&&m.requiresRecovery&&!D&&(O(!0),await mt(h,"online")?(a(!1),u(null)):u("Migration recovery failed. Some features may not work correctly."))}}catch(M){console.warn("Failed to check migration status:",M),u("Failed to check migration status"),p(!1)}};t.language&&t.language!=="undefined"&&f()},[t.language,A,D]);const F=P.useCallback(async()=>{const f=t.language||"en";try{if(e(!0),u(null),await mt(f,"online")){O(!0),a(!1),p(!1);const h=await A();if(await h.runMigrationIfNeeded()){await h.cleanupDuplicatesIfNeeded(),a(!0),i(h.isMigrationCompleted());const d=await Be(f,"online");p(d.isHealthy)}}else u("Force recovery failed. Please try refreshing the page.")}catch(M){console.error("Force recovery failed:",M),u("Force recovery failed. Please try refreshing the page.")}finally{e(!1)}},[t.language,A]),_=P.useCallback(async()=>{if(!s){e(!0),u(null);try{const f=await A();if(await f.runMigrationIfNeeded()){await f.cleanupDuplicatesIfNeeded(),a(!0),i(f.isMigrationCompleted());const h=t.language||"en",b=await Be(h,"online");p(b.isHealthy),b.isHealthy||u("Migration completed but data validation failed. Some features may not work correctly.")}else u("Migration failed but app will continue with existing data"),p(!1)}catch(f){console.error("Migration failed:",f),u("Migration failed but app will continue with existing data"),p(!1)}finally{e(!1)}}},[s,A,t.language]),H=P.useCallback(f=>{I&&clearTimeout(I);const M=setTimeout(async()=>{try{const h=await A();if(h.isCurrentLanguageMigrationCompleted(f)){a(!0);return}e(!0),u(null),await h.ensureLanguageMigrated(f)?(a(!0),i(h.isMigrationCompleted())):u("Migration failed but app will continue with existing data")}catch(h){console.error("Error during language migration:",h),u("Migration failed but app will continue with existing data")}finally{e(!1)}},300);L(M)},[I,A]),Y=P.useCallback(async f=>{const M=f||t.language||"en";try{const h=await A();if(h.isCurrentLanguageMigrationCompleted(M))return a(!0),!0;e(!0);const b=await h.ensureLanguageMigrated(M);return b&&a(!0),b}catch(h){return console.error(`Failed to ensure ${M} migration:`,h),!1}finally{e(!1)}},[t.language,A]);P.useEffect(()=>{if(!t.language||t.language==="undefined")return;const f=h=>{H(h)};return t.on("languageChanged",f),(async()=>{try{const h=await A(),b=t.language||"en",d=h.isCurrentLanguageMigrationCompleted(b);a(d);const E=`${b}-initial`;!d&&!s&&!C.current.has(E)&&(C.current.add(E),e(!0),setTimeout(async()=>{try{const m=await A();await m.ensureLanguageMigrated(b)?(a(!0),i(m.isMigrationCompleted())):(u("Migration failed but app will continue with existing data"),C.current.delete(E))}catch(m){console.error("Error during migration execution:",m),u("Migration failed but app will continue with existing data"),C.current.delete(E)}finally{e(!1)}},0))}catch(h){console.error("Error during initial migration check:",h),e(!1)}})(),()=>{t.off("languageChanged",f),I&&clearTimeout(I)}},[t,H,s,I,A]);const l={isMigrationCompleted:c,isMigrationInProgress:s,currentLanguageMigrated:r,error:o,isHealthy:g,recoveryAttempted:D,triggerMigration:_,ensureLanguageMigrated:Y,forceRecovery:F};return X.jsx(Yt.Provider,{value:l,children:n})}var Me={exports:{}},an=Me.exports,pt;function cn(){return pt||(pt=1,function(n,t){(function(s,e){n.exports=e()})(an,function(){var s=1e3,e=6e4,r=36e5,a="millisecond",c="second",i="minute",o="hour",u="day",g="week",p="month",D="quarter",O="year",I="date",L="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var y=["th","st","nd","rd"],x=w%100;return"["+w+(y[(x-20)%10]||y[x]||y[0])+"]"}},_=function(w,y,x){var T=String(w);return!T||T.length>=y?w:""+Array(y+1-T.length).join(x)+w},H={s:_,z:function(w){var y=-w.utcOffset(),x=Math.abs(y),T=Math.floor(x/60),v=x%60;return(y<=0?"+":"-")+_(T,2,"0")+":"+_(v,2,"0")},m:function w(y,x){if(y.date()<x.date())return-w(x,y);var T=12*(x.year()-y.year())+(x.month()-y.month()),v=y.clone().add(T,p),S=x-v<0,k=y.clone().add(T+(S?-1:1),p);return+(-(T+(x-v)/(S?v-k:k-v))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:p,y:O,w:g,d:u,D:I,h:o,m:i,s:c,ms:a,Q:D}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},Y="en",l={};l[Y]=F;var f="$isDayjsObject",M=function(w){return w instanceof E||!(!w||!w[f])},h=function w(y,x,T){var v;if(!y)return Y;if(typeof y=="string"){var S=y.toLowerCase();l[S]&&(v=S),x&&(l[S]=x,v=S);var k=y.split("-");if(!v&&k.length>1)return w(k[0])}else{var $=y.name;l[$]=y,v=$}return!T&&v&&(Y=v),v||!T&&Y},b=function(w,y){if(M(w))return w.clone();var x=typeof y=="object"?y:{};return x.date=w,x.args=arguments,new E(x)},d=H;d.l=h,d.i=M,d.w=function(w,y){return b(w,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var E=function(){function w(x){this.$L=h(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[f]=!0}var y=w.prototype;return y.parse=function(x){this.$d=function(T){var v=T.date,S=T.utc;if(v===null)return new Date(NaN);if(d.u(v))return new Date;if(v instanceof Date)return new Date(v);if(typeof v=="string"&&!/Z$/i.test(v)){var k=v.match(C);if(k){var $=k[2]-1||0,R=(k[7]||"0").substring(0,3);return S?new Date(Date.UTC(k[1],$,k[3]||1,k[4]||0,k[5]||0,k[6]||0,R)):new Date(k[1],$,k[3]||1,k[4]||0,k[5]||0,k[6]||0,R)}}return new Date(v)}(x),this.init()},y.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},y.$utils=function(){return d},y.isValid=function(){return this.$d.toString()!==L},y.isSame=function(x,T){var v=b(x);return this.startOf(T)<=v&&v<=this.endOf(T)},y.isAfter=function(x,T){return b(x)<this.startOf(T)},y.isBefore=function(x,T){return this.endOf(T)<b(x)},y.$g=function(x,T,v){return d.u(x)?this[T]:this.set(v,x)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(x,T){var v=this,S=!!d.u(T)||T,k=d.p(x),$=function(Z,N){var J=d.w(v.$u?Date.UTC(v.$y,N,Z):new Date(v.$y,N,Z),v);return S?J:J.endOf(u)},R=function(Z,N){return d.w(v.toDate()[Z].apply(v.toDate("s"),(S?[0,0,0,0]:[23,59,59,999]).slice(N)),v)},B=this.$W,j=this.$M,G=this.$D,ae="set"+(this.$u?"UTC":"");switch(k){case O:return S?$(1,0):$(31,11);case p:return S?$(1,j):$(0,j+1);case g:var te=this.$locale().weekStart||0,ue=(B<te?B+7:B)-te;return $(S?G-ue:G+(6-ue),j);case u:case I:return R(ae+"Hours",0);case o:return R(ae+"Minutes",1);case i:return R(ae+"Seconds",2);case c:return R(ae+"Milliseconds",3);default:return this.clone()}},y.endOf=function(x){return this.startOf(x,!1)},y.$set=function(x,T){var v,S=d.p(x),k="set"+(this.$u?"UTC":""),$=(v={},v[u]=k+"Date",v[I]=k+"Date",v[p]=k+"Month",v[O]=k+"FullYear",v[o]=k+"Hours",v[i]=k+"Minutes",v[c]=k+"Seconds",v[a]=k+"Milliseconds",v)[S],R=S===u?this.$D+(T-this.$W):T;if(S===p||S===O){var B=this.clone().set(I,1);B.$d[$](R),B.init(),this.$d=B.set(I,Math.min(this.$D,B.daysInMonth())).$d}else $&&this.$d[$](R);return this.init(),this},y.set=function(x,T){return this.clone().$set(x,T)},y.get=function(x){return this[d.p(x)]()},y.add=function(x,T){var v,S=this;x=Number(x);var k=d.p(T),$=function(j){var G=b(S);return d.w(G.date(G.date()+Math.round(j*x)),S)};if(k===p)return this.set(p,this.$M+x);if(k===O)return this.set(O,this.$y+x);if(k===u)return $(1);if(k===g)return $(7);var R=(v={},v[i]=e,v[o]=r,v[c]=s,v)[k]||1,B=this.$d.getTime()+x*R;return d.w(B,this)},y.subtract=function(x,T){return this.add(-1*x,T)},y.format=function(x){var T=this,v=this.$locale();if(!this.isValid())return v.invalidDate||L;var S=x||"YYYY-MM-DDTHH:mm:ssZ",k=d.z(this),$=this.$H,R=this.$m,B=this.$M,j=v.weekdays,G=v.months,ae=v.meridiem,te=function(N,J,re,ie){return N&&(N[J]||N(T,S))||re[J].slice(0,ie)},ue=function(N){return d.s($%12||12,N,"0")},Z=ae||function(N,J,re){var ie=N<12?"AM":"PM";return re?ie.toLowerCase():ie};return S.replace(A,function(N,J){return J||function(re){switch(re){case"YY":return String(T.$y).slice(-2);case"YYYY":return d.s(T.$y,4,"0");case"M":return B+1;case"MM":return d.s(B+1,2,"0");case"MMM":return te(v.monthsShort,B,G,3);case"MMMM":return te(G,B);case"D":return T.$D;case"DD":return d.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return te(v.weekdaysMin,T.$W,j,2);case"ddd":return te(v.weekdaysShort,T.$W,j,3);case"dddd":return j[T.$W];case"H":return String($);case"HH":return d.s($,2,"0");case"h":return ue(1);case"hh":return ue(2);case"a":return Z($,R,!0);case"A":return Z($,R,!1);case"m":return String(R);case"mm":return d.s(R,2,"0");case"s":return String(T.$s);case"ss":return d.s(T.$s,2,"0");case"SSS":return d.s(T.$ms,3,"0");case"Z":return k}return null}(N)||k.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(x,T,v){var S,k=this,$=d.p(T),R=b(x),B=(R.utcOffset()-this.utcOffset())*e,j=this-R,G=function(){return d.m(k,R)};switch($){case O:S=G()/12;break;case p:S=G();break;case D:S=G()/3;break;case g:S=(j-B)/6048e5;break;case u:S=(j-B)/864e5;break;case o:S=j/r;break;case i:S=j/e;break;case c:S=j/s;break;default:S=j}return v?S:d.a(S)},y.daysInMonth=function(){return this.endOf(p).$D},y.$locale=function(){return l[this.$L]},y.locale=function(x,T){if(!x)return this.$L;var v=this.clone(),S=h(x,T,!0);return S&&(v.$L=S),v},y.clone=function(){return d.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},w}(),m=E.prototype;return b.prototype=m,[["$ms",a],["$s",c],["$m",i],["$H",o],["$W",u],["$M",p],["$y",O],["$D",I]].forEach(function(w){m[w[1]]=function(y){return this.$g(y,w[0],w[1])}}),b.extend=function(w,y){return w.$i||(w(y,E,b),w.$i=!0),b},b.locale=h,b.isDayjs=M,b.unix=function(w){return b(1e3*w)},b.en=l[Y],b.Ls=l,b.p={},b})}(Me)),Me.exports}var un=cn();const z=de(un),gt=300*1e3,ln=100,dn=_t((n,t)=>({schedule:[],loading:!1,error:null,_cache:{upcomingSchedule:{data:[],timestamp:0,limit:0},roomSchedule:{}},_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,cacheHitRate:0},_pendingUpdates:[],_batchTimeout:null,loadSchedule:s=>{const e=Date.now();n(r=>{const a=r._performanceMetrics.updateCount+1;return{schedule:s,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:e,updateCount:a,cacheHitRate:r._performanceMetrics.cacheHitRate}}}),t().invalidateCache()},addScheduleItem:s=>{const e=t();n(a=>({_pendingUpdates:[...a._pendingUpdates,s]})),e._batchTimeout&&clearTimeout(e._batchTimeout);const r=setTimeout(()=>{t().flushPendingScheduleUpdates()},ln);n(()=>({_batchTimeout:r}))},batchAddScheduleItems:s=>n(e=>{const r=[...e.schedule,...s],a=Date.now(),c=e._performanceMetrics.updateCount+1;return{schedule:r,_performanceMetrics:{lastUpdateTime:a,updateCount:c,cacheHitRate:e._performanceMetrics.cacheHitRate}}}),flushPendingScheduleUpdates:()=>{const s=t();s._pendingUpdates.length!==0&&(s._batchTimeout&&clearTimeout(s._batchTimeout),s.batchAddScheduleItems(s._pendingUpdates),n(()=>({_pendingUpdates:[],_batchTimeout:null})),s.invalidateCache())},removeScheduleItem:s=>{n(e=>({schedule:e.schedule.filter(r=>r.id!==s)})),t().invalidateCache()},clearSchedule:()=>{const s=t();s._batchTimeout&&clearTimeout(s._batchTimeout),n(()=>({schedule:[],loading:!1,error:null,_pendingUpdates:[],_batchTimeout:null})),t().invalidateCache()},invalidateCache:()=>n(()=>({_cache:{upcomingSchedule:{data:[],timestamp:0,limit:0},roomSchedule:{}}})),setLoading:s=>n(()=>({loading:s})),setError:s=>n(()=>({error:s,loading:!1})),getUpcomingSchedule:(s=10)=>{const e=t(),r=Date.now(),a=e._cache.upcomingSchedule;if(a.timestamp>0&&r-a.timestamp<gt&&a.limit>=s){const u=e._performanceMetrics.updateCount+1,p=(e._performanceMetrics.cacheHitRate*(u-1)+1)/u;return n(D=>({_performanceMetrics:{...D._performanceMetrics,cacheHitRate:p}})),a.data.slice(0,s)}const i=z(),o=e.schedule.filter(u=>u.dateTime.isAfter(i)).sort((u,g)=>u.dateTime.valueOf()-g.dateTime.valueOf()).slice(0,Math.max(s,20));return n(u=>({_cache:{...u._cache,upcomingSchedule:{data:o,timestamp:r,limit:Math.max(s,20)}}})),o.slice(0,s)},getScheduleByRoom:s=>{const e=t(),r=Date.now(),a=e._cache.roomSchedule[s];if(a&&a.timestamp>0&&r-a.timestamp<gt){const o=e._performanceMetrics.updateCount+1,g=(e._performanceMetrics.cacheHitRate*(o-1)+1)/o;return n(p=>({_performanceMetrics:{...p._performanceMetrics,cacheHitRate:g}})),a.data}const i=e.schedule.filter(o=>o.room===s);return n(o=>({_cache:{...o._cache,roomSchedule:{...o._cache.roomSchedule,[s]:{data:i,timestamp:r}}}})),i},getPerformanceMetrics:()=>t()._performanceMetrics})),hn=qt.createContext(void 0);function fn(n){const{schedule:t,loadSchedule:s,flushPendingScheduleUpdates:e}=dn(),r=P.useRef(null),a=P.useCallback(u=>{s(u)},[s]),c=P.useCallback(async(u,g,p)=>{try{const D=await Rr(u,g,p);return e(),D||void 0}catch(D){throw console.error("Error adding to schedule:",D),D}},[e]),i=P.useCallback(()=>{r.current&&(r.current(),r.current=null),e()},[e]);P.useEffect(()=>(i(),r.current=Ir(a),i),[a,i]),P.useEffect(()=>i,[i]);const o=P.useMemo(()=>({schedule:t,addToSchedule:c}),[t,c]);return X.jsx(hn.Provider,{value:o,...n})}const U={LIGHT_CYAN:"8, 145, 178",DARK_CYAN:"72, 219, 251",BRIGHT_CYAN:"34, 211, 238",LIGHT_BORDER:"75, 85, 99",DARK_BORDER:"148, 163, 184"},Pt={typography:{h1:{fontWeight:700,letterSpacing:"-0.025em"},h2:{fontWeight:700,letterSpacing:"-0.025em"},h3:{fontWeight:600,letterSpacing:"-0.025em"},h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600},button:{fontWeight:500,textTransform:"none"}},shape:{borderRadius:8}},mn=n=>({MuiBox:{variants:[{props:{variant:"systemMessage"},style:({theme:t,ownerState:s})=>{const{transparent:e=!1,fullWidth:r=!1}=s;return{background:e?t.palette.systemMessage.transparent:t.palette.systemMessage.main,border:"none",borderRadius:16,margin:"8px auto",alignSelf:"center",padding:"8px 12px",width:"fit-content",backdropFilter:e?"blur(4px)":"none",WebkitBackdropFilter:e?"blur(4px)":"none",transition:t.transitions.create(["background-color","backdrop-filter"],{duration:t.transitions.duration.short}),...r&&{maxWidth:"95%",width:"auto"},[t.breakpoints.down("sm")]:{maxWidth:r?"98%":"95%"}}}}]},MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 16px",transition:"all 0.3s ease",textTransform:"none",fontWeight:500,"&:hover":{transform:"translateY(-1px)"}},contained:({theme:t})=>({background:t.palette.primary.main,boxShadow:"none","&:hover":{background:t.palette.primary.dark,boxShadow:"none",transform:"translateY(-2px)"}}),outlined:({theme:t})=>{const s=t.palette.mode==="light";return{borderColor:`rgba(${s?U.LIGHT_CYAN:U.DARK_CYAN}, 0.5)`,color:t.palette.primary.main,"&:hover":{borderColor:`rgba(${s?U.LIGHT_CYAN:U.DARK_CYAN}, 0.8)`,background:`rgba(${s?U.LIGHT_CYAN:U.DARK_CYAN}, 0.1)`,boxShadow:`0 0 20px rgba(${s?U.LIGHT_CYAN:U.DARK_CYAN}, 0.3)`}}}}},MuiCard:{styleOverrides:{root:()=>({borderRadius:12,background:"var(--container-background)",backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",border:"1px solid var(--container-border)",boxShadow:"var(--shadow-lg)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"var(--shadow-xl)"}})}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"},elevation1:({theme:t})=>({boxShadow:t.palette.mode==="light"?"0 1px 3px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.1)":"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"}),elevation2:({theme:t})=>({boxShadow:t.palette.mode==="light"?"0 3px 6px rgba(0, 0, 0, 0.08), 0 2px 4px rgba(0, 0, 0, 0.06)":"0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)"}),elevation4:({theme:t})=>({boxShadow:t.palette.mode==="light"?"0 10px 20px rgba(0, 0, 0, 0.08), 0 3px 6px rgba(0, 0, 0, 0.05)":"0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.1)"})}},MuiTextField:{styleOverrides:{root:({theme:t})=>{const s=t.palette.mode==="light";return{"& .MuiOutlinedInput-root":{transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out",borderRadius:"8px","& .MuiOutlinedInput-notchedOutline":{borderColor:s?`rgba(${U.LIGHT_BORDER}, 0.4)`:`rgba(${U.DARK_BORDER}, 0.23)`},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:s?`rgba(${U.LIGHT_BORDER}, 0.6)`:t.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main,boxShadow:`0 0 0 2px rgba(${s?U.LIGHT_CYAN:U.BRIGHT_CYAN}, 0.2)`},"& input::placeholder":{color:s?`rgba(${U.LIGHT_BORDER}, 0.7)`:`rgba(${U.DARK_BORDER}, 0.5)`,opacity:1},"& textarea::placeholder":{color:s?`rgba(${U.LIGHT_BORDER}, 0.7)`:`rgba(${U.DARK_BORDER}, 0.5)`,opacity:1}},"& .MuiInputLabel-root":{color:s?`rgba(${U.LIGHT_BORDER}, 0.8)`:`rgba(${U.DARK_BORDER}, 0.7)`,"&.Mui-focused":{color:t.palette.primary.main}}}}}},MuiSelect:{styleOverrides:{root:({theme:t})=>{const s=t.palette.mode==="light";return{borderRadius:"8px",transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out","& .MuiOutlinedInput-notchedOutline":{borderColor:s?`rgba(${U.LIGHT_BORDER}, 0.4)`:`rgba(${U.DARK_BORDER}, 0.23)`},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:s?`rgba(${U.LIGHT_BORDER}, 0.6)`:t.palette.primary.main},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.primary.main,boxShadow:`0 0 0 2px rgba(${s?U.LIGHT_CYAN:U.BRIGHT_CYAN}, 0.2)`}}}},defaultProps:{MenuProps:{disableScrollLock:!0,BackdropProps:{invisible:!0},PaperProps:{style:{backdropFilter:"none",WebkitBackdropFilter:"none"}}}}},MuiSwitch:{styleOverrides:{switchBase:({theme:t})=>({"&.Mui-checked":{color:t.palette.primary.main,"& + .MuiSwitch-track":{backgroundColor:t.palette.primary.main}}})}},MuiSlider:{styleOverrides:{root:({theme:t})=>({color:t.palette.primary.main})}},MuiCssBaseline:{styleOverrides:{body:({theme:t})=>{const s=t.palette.mode==="light";return{scrollbarWidth:"thin",scrollbarColor:s?"#d1d5db transparent":"#4b5563 transparent","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{background:s?"#d1d5db":"#4b5563",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:s?"#9ca3af":"#6b7280"}}},"*":{"@media (forced-colors: active)":{"&:focus":{outline:"2px solid ButtonText !important"}},"@media (prefers-reduced-motion: reduce)":{"&, &::before, &::after":{animationDuration:"0.01ms !important",animationIterationCount:"1 !important",transitionDuration:"0.01ms !important",scrollBehavior:"auto !important"}}},".keyboard-navigation *:focus":{outline:"2px solid #22d3ee",outlineOffset:"2px"}}},MuiAppBar:{styleOverrides:{root:()=>({backgroundColor:"var(--nav-background)",borderBottom:"1px solid var(--nav-border)",boxShadow:"var(--nav-shadow)"})}},MuiContainer:{styleOverrides:{root:()=>({"&.gradient-background":{minHeight:"100vh",background:"var(--page-gradient)",padding:"2rem 0"}})}},MuiModal:{styleOverrides:{root:{"&:not(.MuiPopover-root)":{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"}}}},MuiPopover:{styleOverrides:{root:{"& .MuiModal-backdrop":{backgroundColor:"transparent",backdropFilter:"none",WebkitBackdropFilter:"none"}}}},MuiDialog:{styleOverrides:{paper:()=>({background:"var(--color-surface)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid var(--nav-border)",borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-lg)"})}}}),pn={...Pt,palette:{mode:"light",primary:{main:"#0891b2",dark:"#0e7490",light:"#22d3ee",contrastText:"#ffffff"},secondary:{main:"#06b6d4",dark:"#0e7490",light:"#a5f3fc",contrastText:"#ffffff"},background:{default:"#f8fafc",paper:"#ffffff"},text:{primary:"#0f172a",secondary:"#475569"},divider:"rgba(148, 163, 184, 0.2)",error:{main:"#dc2626"},warning:{main:"#d97706"},systemMessage:{main:"rgba(148, 163, 184, 0.15)",transparent:"rgba(148, 163, 184, 0.25)"},info:{main:"#2563eb"},success:{main:"#059669"}}},gn={...Pt,palette:{mode:"dark",primary:{main:"#22d3ee",dark:"#0891b2",light:"#67e8f9"},secondary:{main:"#48dbfb",dark:"#0e7490",light:"#a5f3fc"},background:{default:"#0f172a",paper:"#1e293b"},text:{primary:"#f8fafc",secondary:"#cbd5e1"},divider:"rgba(148, 163, 184, 0.12)",error:{main:"#b91c1c"},warning:{main:"#b45309"},systemMessage:{main:"rgba(148, 163, 184, 0.1)",transparent:"rgba(148, 163, 184, 0.2)"},info:{main:"#1d4ed8"},success:{main:"#047857"}}},Ht=n=>{const t=et(n);return et({...t,components:mn(n.palette.mode)})},yn=St(Ht(pn)),xn=St(Ht(gn)),wn=n=>n==="light"?yn:xn,Bt=P.createContext(void 0);function bn({children:n,defaultMode:t="system"}){const{settings:s,updateSettings:e}=Le(),r=Vt("(prefers-color-scheme: dark)",{noSsr:!0}),a=s.themeMode||t,c=P.useMemo(()=>a==="system"?r?"dark":"light":a,[a,r]),i=P.useMemo(()=>wn(c),[c]),o=p=>{e({themeMode:p})},u=()=>{o(c==="light"?"dark":"light")};P.useEffect(()=>{},[r,a]),P.useEffect(()=>{const p=document.body;return p.style.transition="background-color 0.3s ease, color 0.3s ease",p.classList.remove("theme-light","theme-dark"),p.classList.add(`theme-${c}`),()=>{p.style.transition="",p.classList.remove("theme-light","theme-dark")}},[c]);const g={theme:i,themeMode:a,resolvedThemeMode:c,prefersDarkMode:r,setThemeMode:o,toggleTheme:u};return X.jsx(Bt.Provider,{value:g,children:n})}function vn(){const n=P.useContext(Bt);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}var Se={exports:{}},Mn=Se.exports,yt;function Sn(){return yt||(yt=1,function(n,t){(function(s,e){n.exports=e()})(Mn,function(){var s="week",e="year";return function(r,a,c){var i=a.prototype;i.week=function(o){if(o===void 0&&(o=null),o!==null)return this.add(7*(o-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var g=c(this).startOf(e).add(1,e).date(u),p=c(this).endOf(s);if(g.isBefore(p))return 1}var D=c(this).startOf(e).date(u).startOf(s).subtract(1,"millisecond"),O=this.diff(D,s,!0);return O<0?c(this).startOf("week").week():Math.ceil(O)},i.weeks=function(o){return o===void 0&&(o=null),this.week(o)}}})}(Se)),Se.exports}var Tn=Sn();const _n=de(Tn);var Te={exports:{}},Dn=Te.exports,xt;function Cn(){return xt||(xt=1,function(n,t){(function(s,e){n.exports=e()})(Dn,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,a=/\d\d/,c=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},u=function(C){return(C=+C)+(C>68?1900:2e3)},g=function(C){return function(A){this[C]=+A}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(C){(this.zone||(this.zone={})).offset=function(A){if(!A||A==="Z")return 0;var F=A.match(/([+-]|\d\d)/g),_=60*F[1]+(+F[2]||0);return _===0?0:F[0]==="+"?-_:_}(C)}],D=function(C){var A=o[C];return A&&(A.indexOf?A:A.s.concat(A.f))},O=function(C,A){var F,_=o.meridiem;if(_){for(var H=1;H<=24;H+=1)if(C.indexOf(_(H,0,A))>-1){F=H>12;break}}else F=C===(A?"pm":"PM");return F},I={A:[i,function(C){this.afternoon=O(C,!1)}],a:[i,function(C){this.afternoon=O(C,!0)}],Q:[r,function(C){this.month=3*(C-1)+1}],S:[r,function(C){this.milliseconds=100*+C}],SS:[a,function(C){this.milliseconds=10*+C}],SSS:[/\d{3}/,function(C){this.milliseconds=+C}],s:[c,g("seconds")],ss:[c,g("seconds")],m:[c,g("minutes")],mm:[c,g("minutes")],H:[c,g("hours")],h:[c,g("hours")],HH:[c,g("hours")],hh:[c,g("hours")],D:[c,g("day")],DD:[a,g("day")],Do:[i,function(C){var A=o.ordinal,F=C.match(/\d+/);if(this.day=F[0],A)for(var _=1;_<=31;_+=1)A(_).replace(/\[|\]/g,"")===C&&(this.day=_)}],w:[c,g("week")],ww:[a,g("week")],M:[c,g("month")],MM:[a,g("month")],MMM:[i,function(C){var A=D("months"),F=(D("monthsShort")||A.map(function(_){return _.slice(0,3)})).indexOf(C)+1;if(F<1)throw new Error;this.month=F%12||F}],MMMM:[i,function(C){var A=D("months").indexOf(C)+1;if(A<1)throw new Error;this.month=A%12||A}],Y:[/[+-]?\d+/,g("year")],YY:[a,function(C){this.year=u(C)}],YYYY:[/\d{4}/,g("year")],Z:p,ZZ:p};function L(C){var A,F;A=C,F=o&&o.formats;for(var _=(C=A.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(b,d,E){var m=E&&E.toUpperCase();return d||F[E]||s[E]||F[m].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,y,x){return y||x.slice(1)})})).match(e),H=_.length,Y=0;Y<H;Y+=1){var l=_[Y],f=I[l],M=f&&f[0],h=f&&f[1];_[Y]=h?{regex:M,parser:h}:l.replace(/^\[|\]$/g,"")}return function(b){for(var d={},E=0,m=0;E<H;E+=1){var w=_[E];if(typeof w=="string")m+=w.length;else{var y=w.regex,x=w.parser,T=b.slice(m),v=y.exec(T)[0];x.call(d,v),b=b.replace(v,"")}}return function(S){var k=S.afternoon;if(k!==void 0){var $=S.hours;k?$<12&&(S.hours+=12):$===12&&(S.hours=0),delete S.afternoon}}(d),d}}return function(C,A,F){F.p.customParseFormat=!0,C&&C.parseTwoDigitYear&&(u=C.parseTwoDigitYear);var _=A.prototype,H=_.parse;_.parse=function(Y){var l=Y.date,f=Y.utc,M=Y.args;this.$u=f;var h=M[1];if(typeof h=="string"){var b=M[2]===!0,d=M[3]===!0,E=b||d,m=M[2];d&&(m=M[2]),o=this.$locale(),!b&&m&&(o=F.Ls[m]),this.$d=function(T,v,S,k){try{if(["x","X"].indexOf(v)>-1)return new Date((v==="X"?1e3:1)*T);var $=L(v)(T),R=$.year,B=$.month,j=$.day,G=$.hours,ae=$.minutes,te=$.seconds,ue=$.milliseconds,Z=$.zone,N=$.week,J=new Date,re=j||(R||B?1:J.getDate()),ie=R||J.getFullYear(),we=0;R&&!B||(we=B>0?B-1:J.getMonth());var be,$e=G||0,Ie=ae||0,Re=te||0,Ye=ue||0;return Z?new Date(Date.UTC(ie,we,re,$e,Ie,Re,Ye+60*Z.offset*1e3)):S?new Date(Date.UTC(ie,we,re,$e,Ie,Re,Ye)):(be=new Date(ie,we,re,$e,Ie,Re,Ye),N&&(be=k(be).week(N).toDate()),be)}catch(qn){return new Date("")}}(l,h,f,F),this.init(),m&&m!==!0&&(this.$L=this.locale(m).$L),E&&l!=this.format(h)&&(this.$d=new Date("")),o={}}else if(h instanceof Array)for(var w=h.length,y=1;y<=w;y+=1){M[1]=h[y-1];var x=F.apply(this,M);if(x.isValid()){this.$d=x.$d,this.$L=x.$L,this.init();break}y===w&&(this.$d=new Date(""))}else H.call(this,Y)}}})}(Te)),Te.exports}var An=Cn();const On=de(An);var _e={exports:{}},Fn=_e.exports,wt;function En(){return wt||(wt=1,function(n,t){(function(s,e){n.exports=e()})(Fn,function(){var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,r,a){var c=r.prototype,i=c.format;a.en.formats=s,c.format=function(o){o===void 0&&(o="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,g=function(p,D){return p.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(O,I,L){var C=L&&L.toUpperCase();return I||D[L]||s[L]||D[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(A,F,_){return F||_.slice(1)})})}(o,u===void 0?{}:u);return i.call(this,g)}}})}(_e)),_e.exports}var kn=En();const Ln=de(kn);var De={exports:{}},$n=De.exports,bt;function In(){return bt||(bt=1,function(n,t){(function(s,e){n.exports=e()})($n,function(){return function(s,e,r){e.prototype.isBetween=function(a,c,i,o){var u=r(a),g=r(c),p=(o=o||"()")[0]==="(",D=o[1]===")";return(p?this.isAfter(u,i):!this.isBefore(u,i))&&(D?this.isBefore(g,i):!this.isAfter(g,i))||(p?this.isBefore(u,i):!this.isAfter(u,i))&&(D?this.isAfter(g,i):!this.isBefore(g,i))}}})}(De)),De.exports}var Rn=In();const Yn=de(Rn);var Ce={exports:{}},Pn=Ce.exports,vt;function Hn(){return vt||(vt=1,function(n,t){(function(s,e){n.exports=e()})(Pn,function(){return function(s,e){var r=e.prototype,a=r.format;r.format=function(c){var i=this,o=this.$locale();if(!this.isValid())return a.bind(this)(c);var u=this.$utils(),g=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(p){switch(p){case"Q":return Math.ceil((i.$M+1)/3);case"Do":return o.ordinal(i.$D);case"gggg":return i.weekYear();case"GGGG":return i.isoWeekYear();case"wo":return o.ordinal(i.week(),"W");case"w":case"ww":return u.s(i.week(),p==="w"?1:2,"0");case"W":case"WW":return u.s(i.isoWeek(),p==="W"?1:2,"0");case"k":case"kk":return u.s(String(i.$H===0?24:i.$H),p==="k"?1:2,"0");case"X":return Math.floor(i.$d.getTime()/1e3);case"x":return i.$d.getTime();case"z":return"["+i.offsetName()+"]";case"zzz":return"["+i.offsetName("long")+"]";default:return p}});return a.bind(this)(g)}}})}(Ce)),Ce.exports}var Bn=Hn();const Un=de(Bn);z.extend(Ln);z.extend(_n);z.extend(Yn);z.extend(Un);const jn={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Gn={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Ue=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Mt=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class zn{constructor({locale:t,formats:s}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=jn,this.setLocaleToValue=e=>{const r=this.getCurrentLocaleCode();return r===e.locale()?e:e.locale(r)},this.hasUTCPlugin=()=>typeof z.utc!="undefined",this.hasTimezonePlugin=()=>typeof z.tz!="undefined",this.isSame=(e,r,a)=>{const c=this.setTimezone(r,this.getTimezone(e));return e.format(a)===c.format(a)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return z.tz.guess();default:return e}},this.createSystemDate=e=>{let r;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const a=z.tz.guess();a==="UTC"?r=z(e):r=z.tz(e,a)}else r=z(e);return this.setLocaleToValue(r)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(Ue);return this.setLocaleToValue(z.utc(e))},this.createTZDate=(e,r)=>{if(!this.hasUTCPlugin())throw new Error(Ue);if(!this.hasTimezonePlugin())throw new Error(Mt);const a=e!==void 0&&!e.endsWith("Z");return this.setLocaleToValue(z(e).tz(this.cleanTimezone(r),a))},this.getLocaleFormats=()=>{const e=z.Ls,r=this.locale||"en";let a=e[r];return a===void 0&&(a=e.en),a.formats},this.adjustOffset=e=>{var a;if(!this.hasTimezonePlugin())return e;const r=this.getTimezone(e);if(r!=="UTC"){const c=e.tz(this.cleanTimezone(r),!0);if(c.$offset===((a=e.$offset)!=null?a:0))return e;e.$offset=c.$offset}return e},this.date=(e,r="default")=>e===null?null:r==="UTC"?this.createUTCDate(e):r==="system"||r==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(e):this.createTZDate(e,r),this.getInvalidDate=()=>z(new Date("Invalid date")),this.getTimezone=e=>{var r;if(this.hasTimezonePlugin()){const a=(r=e.$x)==null?void 0:r.$timezone;if(a)return a}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,r)=>{if(this.getTimezone(e)===r)return e;if(r==="UTC"){if(!this.hasUTCPlugin())throw new Error(Ue);return e.utc()}if(r==="system")return e.local();if(!this.hasTimezonePlugin()){if(r==="default")return e;throw new Error(Mt)}return this.setLocaleToValue(z.tz(e,this.cleanTimezone(r)))},this.toJsDate=e=>e.toDate(),this.parse=(e,r)=>e===""?null:z(e,r,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const r=this.getLocaleFormats(),a=c=>c.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(i,o,u)=>o||u.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(c,i,o)=>{const u=o&&o.toUpperCase();return i||r[o]||a(r[u])})},this.isValid=e=>e==null?!1:e.isValid(),this.format=(e,r)=>this.formatByString(e,this.formats[r]),this.formatByString=(e,r)=>this.setLocaleToValue(e).format(r),this.formatNumber=e=>e,this.isEqual=(e,r)=>e===null&&r===null?!0:e===null||r===null?!1:e.toDate().getTime()===r.toDate().getTime(),this.isSameYear=(e,r)=>this.isSame(e,r,"YYYY"),this.isSameMonth=(e,r)=>this.isSame(e,r,"YYYY-MM"),this.isSameDay=(e,r)=>this.isSame(e,r,"YYYY-MM-DD"),this.isSameHour=(e,r)=>e.isSame(r,"hour"),this.isAfter=(e,r)=>e>r,this.isAfterYear=(e,r)=>this.hasUTCPlugin()?!this.isSameYear(e,r)&&e.utc()>r.utc():e.isAfter(r,"year"),this.isAfterDay=(e,r)=>this.hasUTCPlugin()?!this.isSameDay(e,r)&&e.utc()>r.utc():e.isAfter(r,"day"),this.isBefore=(e,r)=>e<r,this.isBeforeYear=(e,r)=>this.hasUTCPlugin()?!this.isSameYear(e,r)&&e.utc()<r.utc():e.isBefore(r,"year"),this.isBeforeDay=(e,r)=>this.hasUTCPlugin()?!this.isSameDay(e,r)&&e.utc()<r.utc():e.isBefore(r,"day"),this.isWithinRange=(e,[r,a])=>e>=r&&e<=a,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,r)=>this.adjustOffset(e.add(r,"year")),this.addMonths=(e,r)=>this.adjustOffset(e.add(r,"month")),this.addWeeks=(e,r)=>this.adjustOffset(e.add(r,"week")),this.addDays=(e,r)=>this.adjustOffset(e.add(r,"day")),this.addHours=(e,r)=>this.adjustOffset(e.add(r,"hour")),this.addMinutes=(e,r)=>this.adjustOffset(e.add(r,"minute")),this.addSeconds=(e,r)=>this.adjustOffset(e.add(r,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,r)=>this.adjustOffset(e.set("year",r)),this.setMonth=(e,r)=>this.adjustOffset(e.set("month",r)),this.setDate=(e,r)=>this.adjustOffset(e.set("date",r)),this.setHours=(e,r)=>this.adjustOffset(e.set("hour",r)),this.setMinutes=(e,r)=>this.adjustOffset(e.set("minute",r)),this.setSeconds=(e,r)=>this.adjustOffset(e.set("second",r)),this.setMilliseconds=(e,r)=>this.adjustOffset(e.set("millisecond",r)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const r=this.startOfWeek(this.startOfMonth(e)),a=this.endOfWeek(this.endOfMonth(e));let c=0,i=r;const o=[];for(;i<a;){const u=Math.floor(c/7);o[u]=o[u]||[],o[u].push(i),i=this.addDays(i,1),c+=1}return o},this.getWeekNumber=e=>e.week(),this.getYearRange=([e,r])=>{const a=this.startOfYear(e),c=this.endOfYear(r),i=[];let o=a;for(;this.isBefore(o,c);)i.push(o),o=this.addYears(o,1);return i},this.locale=t,this.formats=Jt({},Gn,s),z.extend(On)}getDayOfWeek(t){return t.day()+1}}function Nn({children:n}){const{theme:t}=vn();return X.jsxs(Qt,{theme:t,children:[X.jsx(Kt,{}),X.jsx(xr,{dateAdapter:zn,children:n})]})}function Wn({children:n}){return X.jsx(bn,{children:X.jsx(on,{children:X.jsx(fn,{children:X.jsx(Nn,{children:n})})})})}const ws=Object.freeze({__proto__:null,default:Wn});export{z as A,tn as B,ls as C,vn as D,Vr as E,us as F,xs as G,Xe as H,zr as I,gs as J,cs as K,qr as L,Lt as M,zn as N,hs as O,Ur as P,ms as Q,ys as R,hn as S,ws as T,q as _,Nr as a,vr as b,ns as c,Qe as d,is as e,Xn as f,Ke as g,ts as h,Wr as i,es as j,Zn as k,ss as l,fs as m,$t as n,He as o,Kr as p,Ze as q,rs as r,Gr as s,W as t,Le as u,as as v,os as w,ps as x,ds as y,cn as z};
//# sourceMappingURL=chunk-C0b6J2Rd.js.map

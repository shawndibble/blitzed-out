import{b as d}from"./chunk-y3DaHokJ.js";import"./chunk-BoIRgPCP.js";import"./chunk-BHSFqGHu.js";import"./chunk-DXd3GHw1.js";import"./chunk-DnXXKaCT.js";import"./chunk-ht6BW3BQ.js";import"./chunk-CHKE5haP.js";import"../assets/index-DQAn7GQy.js";import"./chunk-Bde8qXua.js";import"./chunk-D5QWNTV5.js";import"./chunk-JK3oC_qz.js";import"./chunk-Bp62TkGl.js";import"./chunk-DiRTbvB-.js";import"./chunk-8BUNLMgE.js";function f(r){if(r.match(/\[|\]/g)?.length!==2)throw new Error("ctSeparatorError")}function h(r,i){const o=r?.sort()||[],n=i?.sort()||[];return JSON.stringify(o)===JSON.stringify(n)}function M(r,i){const o=r.split(`
`).filter(Boolean),n=o[0],c=o[1],p=o.find(a=>a.startsWith("Tags:"))?.replace("Tags:","")?.trim()?.split(", ")?.filter(Boolean)||[],e=o.find(a=>a.startsWith("GameMode:"))?.replace("GameMode:","")?.trim()||"online",s=n.replace(/\[|\]/g,""),[m,l]=s.split(" - "),u=d(i[e]||{}).find(a=>a.translatedIntensity===l&&a.group===m);if(!u)throw new Error("ctGroupError");if(!c)throw new Error("ctActionError");return{group:u.value,intensity:u.intensity,action:c,tags:p,gameMode:e,isCustom:1}}function O(r,i,o){const n=r?.split("---")||[];n.forEach(f);const c=n.map(t=>M(t,o)).filter(Boolean),g=[],p=[];return c.forEach(t=>{const e=i.find(s=>s.group===t.group&&s.intensity===t.intensity&&s.action===t.action&&s.gameMode===t.gameMode);e?e&&!h(e.tags,t.tags)&&p.push({...e,tags:t.tags}):g.push(t)}),{newUniqueRecords:g,changedTagRecords:p}}export{O as default};

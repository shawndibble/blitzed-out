import{q as T,r as t,u as E,s as G,j as s,t as a}from"./chunk-DDoLnHI0.js";import{u as I}from"./chunk-CXIw3Iqt.js";import{u as q}from"./chunk-BICGdz9x.js";import{u as F}from"./chunk-BmcVylZL.js";import{u as R}from"./chunk-dH9yT-e4.js";import{l as V}from"../assets/index-BodytYbc.js";import{N as W}from"./chunk-Bt1viq1_.js";import M from"./index.tsx-DikmS6Cq.js";import{A as U}from"./chunk-C7YV9Ru2.js";import{h as r,j as z,G as n,k as u,l as d,B as j,m as H,D as J,T as y,n as Q,o as X}from"./chunk-D59Sa5ya.js";import"./chunk-CtIAsvv6.js";import"./chunk-CoPHbQIg.js";import"./chunk-Dk7I1tJi.js";import"./chunk-CrCBoQmf.js";import"./chunk-CbUvEgHM.js";import"./chunk-COViFSNc.js";import"./chunk-Bp62TkGl.js";import"./chunk-BFzXl2Wc.js";import"./chunk-bqvoNmJe.js";function hs(){const{i18n:o,t:f}=T(),{login:x,user:N}=I(),[b,l]=t.useState(!1),[C,p]=t.useState("login"),D=()=>{p("login"),l(!0)},v=()=>{p("register"),l(!0)},L=E(),[K]=G(),S=!!K.get("importBoard"),c=L.id??"PUBLIC",k=R(),w=q("sm"),[i,A]=t.useState(N?.displayName||""),[h,g]=F(),m=t.useCallback(async e=>{e.preventDefault(),await g({...h,displayName:i,room:c}),await x(i)},[i,x,c,h,g]),B=t.useCallback(async e=>{e.key==="Enter"&&await m(e)},[m]),O=t.useMemo(()=>Object.entries(V).map(([e,P])=>s.jsx(r,{onClick:()=>o.changeLanguage(e),disabled:o.resolvedLanguage===e,children:P.label},e)),[o]);return s.jsxs(s.Fragment,{children:[s.jsx(W,{room:c,playerList:k}),s.jsxs(z,{maxWidth:"sm",sx:{mt:8},children:[s.jsx(n,{container:!0,flexDirection:"column",children:s.jsx(u,{className:"unauthenticated-card",children:s.jsxs(d,{children:[s.jsx("h2",{className:"setup",children:s.jsx(a,{i18nKey:"setup"})}),s.jsxs(j,{component:"form",method:"post",onSubmit:m,className:"settings-box",children:[s.jsx(H,{fullWidth:!0,id:"displayName",label:f("displayName"),value:i,onChange:e=>A(e.target.value),required:!0,autoFocus:!0,onKeyDown:e=>B(e),margin:"normal"}),s.jsx(r,{variant:"contained",type:"submit",sx:{mr:1},fullWidth:!0,children:S?s.jsx(a,{i18nKey:"import"}):s.jsx(a,{i18nKey:"anonymousLogin"})}),s.jsx(J,{sx:{my:2},children:s.jsx(y,{variant:"body2",color:"text.secondary",children:s.jsx(a,{i18nKey:"or",children:"OR"})})}),s.jsxs(j,{sx:{display:"flex",justifyContent:"space-evenly"},children:[s.jsx(r,{variant:"outlined",startIcon:s.jsx(Q,{}),onClick:D,sx:{mr:1},children:s.jsx(a,{i18nKey:"signIn"})}),s.jsx(r,{variant:"outlined",onClick:v,children:s.jsx(a,{i18nKey:"createAccount"})})]})]})]})})}),s.jsx(n,{container:!0,sx:{mt:1},children:s.jsx(n,{className:"language",children:s.jsx(u,{className:"unauthenticated-card",children:s.jsxs(d,{className:"translation-card-content",children:[!w&&s.jsx(X,{sx:{mr:1}}),s.jsxs(y,{sx:{mr:1},children:[s.jsx(a,{i18nKey:"language"}),":"]}),O]})})})}),s.jsx(n,{container:!0,sx:{mt:1},children:s.jsx(n,{className:"language",children:s.jsx(u,{className:"unauthenticated-card",children:s.jsx(d,{children:s.jsx(M,{})})})})})]}),s.jsx(U,{open:b,close:()=>l(!1),initialView:C})]})}export{hs as default};

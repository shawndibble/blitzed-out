import{r as c,j as r,Q as N,aA as Z,aB as Q,aa as J,T as k,au as F,av as V,aP as X,aw as ee,a1 as te,am as W,ad as re,W as I,Y as R,ax as y,aD as se,a6 as ne}from"./chunk-QuzIwS35.js";import{C as q}from"./chunk-ORyNdZv_.js";import{u as ae}from"./chunk-CtJAfh3g.js";import{u as ie}from"./chunk-D2tVJ7i-.js";import{u as oe}from"./chunk-CBj0jgHk.js";import{s as ue,d as $}from"../assets/index-BqbSN2YQ.js";import{u as le}from"./chunk-CZM7hJiR.js";import{G as de}from"./chunk-C_6Syue1.js";import{r as T}from"./chunk-D2XAL7ZP.js";function ce(a,i=!0){const[t,s]=c.useState(a),[o,n]=c.useState(i),e=c.useCallback(()=>n(d=>!d),[]);return c.useEffect(()=>{if(t===-1&&s(0),t<=0||o)return;const d=setInterval(()=>{s(l=>l-1)},1e3);return()=>clearInterval(d)},[t,o]),{timeLeft:t,setTimeLeft:s,togglePause:e,isPaused:o}}const me=()=>({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:180,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:2,textAlign:"right"});function qe({textString:a,preventParentClose:i,noPadding:t=!1}){const[s,o]=c.useState(!1),[n,e]=a.split(" "),{timeLeft:d,setTimeLeft:l,togglePause:u,isPaused:m}=ce(parseInt(n),!0);c.useEffect(()=>u(),[u]);const f=()=>{i(),o(!0),l(parseInt(n)),m&&u()},_=c.useRef(void 0);c.useEffect(()=>(s&&(_.current=setTimeout(()=>o(!1),parseInt(n)*1e3)),()=>{_.current&&clearTimeout(_.current)}),[s,n]);const p=()=>{_.current&&clearTimeout(_.current),o(!1)};return r.jsxs(r.Fragment,{children:[r.jsx(N,{onClick:f,sx:{p:t?0:1},color:"secondary",children:a}),r.jsx(Z,{open:s,onClose:p,slots:{backdrop:Q},slotProps:{backdrop:{timeout:500}},children:r.jsxs(J,{sx:me,children:[r.jsx(q,{close:p}),r.jsx(k,{variant:"h2",sx:{display:"inline-block"},children:d}),r.jsx(k,{sx:{ml:2,display:"inline-block"},children:e})]})})]})}function j({children:a,title:i,onClick:t,disabled:s}){return r.jsx(F,{size:{xs:12,sm:6},container:!0,children:r.jsx(V,{sx:{width:"100%"},children:r.jsx(X,{sx:{height:"100%",display:"inline-flex",alignItems:"flex-start",justifyContent:"flex-start"},onClick:t,disabled:s,children:r.jsxs(ee,{sx:{width:"100%",color:s?"gray":"white"},children:[r.jsx(k,{variant:"h5",children:i}),r.jsx(te,{sx:{mb:2}}),a]})})})})}function _e(){const{t:a}=W(),{id:i}=re(),{user:t}=le();return c.useCallback(async()=>{const o=`${a("restartingGame")}
#1: ${a("start")}
${a("action")}: ${a("start")}`;await ue({room:i,user:t,text:o,type:"actions"})},[i,t,a])}function $e({isOpen:a=!1,close:i}){const{t}=W(),[s,o]=c.useState(!1),n=_e(),e=ae(),d=ie(),[l,u]=oe(),m=c.useCallback(()=>{n(),i()},[n,i]),f=c.useCallback(async()=>{await d({...l,boardUpdated:!0}),n(),i()},[d,l,n,i]),_=c.useCallback(async()=>{const x={...l,boardUpdated:!0,difficulty:"accelerated"};await d(x),u(x),n(),i()},[d,l,u,n,i]),p=c.useCallback(()=>{o(!0),i()},[i]),Y=c.useCallback(()=>{o(!1),n()},[n]);return r.jsxs(r.Fragment,{children:[r.jsx(I,{open:a,onClose:i,fullScreen:e,"aria-labelledby":"modal-game-over",children:r.jsxs(R,{children:[r.jsx(k,{variant:"h4",textAlign:"center",sx:{mb:2,px:2},children:r.jsx(y,{i18nKey:"gameOverPlayAgain"})}),r.jsx(q,{close:i}),r.jsxs(F,{container:!0,spacing:2,alignItems:"stretch",children:[r.jsx(j,{title:t("sameBoard"),onClick:m,children:r.jsx(y,{i18nKey:"sameBoardDescription"})}),r.jsx(j,{title:t("rebuildBoard"),onClick:f,children:r.jsx(y,{i18nKey:"rebuildBoardDescription"})}),r.jsx(j,{title:t("finalDifficulty"),onClick:_,disabled:l.difficulty==="accelerated",children:r.jsx(y,{i18nKey:"finalDifficultyDescription"})}),r.jsx(j,{title:t("changeSettings"),onClick:p,children:r.jsx(y,{i18nKey:"changeSettingsDescription"})})]})]})}),!!s&&r.jsxs(I,{fullScreen:e,open:s,maxWidth:"md",children:[r.jsxs(se,{children:[r.jsx(y,{i18nKey:"gameSettingsHeading"}),r.jsx(q,{close:Y})]}),r.jsx(R,{children:r.jsx(de,{closeDialog:Y})})]})]})}var g={exports:{}},fe=g.exports,E;function he(){return E||(E=1,function(a,i){(function(t,s){a.exports=s()})(fe,function(){return function(t,s,o){t=t||{};var n=s.prototype,e={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(u,m,f,_){return n.fromToBase(u,m,f,_)}o.en.relativeTime=e,n.fromToBase=function(u,m,f,_,p){for(var Y,x,C,w=f.$locale().relativeTime||e,H=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],U=H.length,v=0;v<U;v+=1){var h=H[v];h.d&&(Y=_?o(u).diff(f,h.d,!0):f.diff(u,h.d,!0));var M=(t.rounding||Math.round)(Math.abs(Y));if(C=Y>0,M<=h.r||!h.r){M<=1&&v>0&&(h=H[v-1]);var B=w[h.l];p&&(M=p(""+M)),x=typeof B=="string"?B.replace("%d",M):B(M,m,h.l,C);break}}if(m)return x;var A=C?w.future:w.past;return typeof A=="function"?A(x):A.replace("%s",x)},n.to=function(u,m){return d(u,m,this,!0)},n.from=function(u,m){return d(u,m,this)};var l=function(u){return u.$u?o.utc():o()};n.toNow=function(u){return this.to(l(this),u)},n.fromNow=function(u){return this.from(l(this),u)}}})}(g)),g.exports}var pe=he();const xe=ne(pe);var L={exports:{}},Ye=L.exports,G;function Me(){return G||(G=1,function(a,i){(function(t,s){a.exports=s(T())})(Ye,function(t){function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var o=s(t),n={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(e){return e+"º"}};return o.default.locale(n,null,!0),n})}(L)),L.exports}Me();var b={exports:{}},ye=b.exports,P;function ve(){return P||(P=1,function(a,i){(function(t,s){a.exports=s(T())})(ye,function(t){function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var o=s(t),n={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return""+e+(e===1?"er":"")}};return o.default.locale(n,null,!0),n})}(b)),b.exports}ve();var D={exports:{}},je=D.exports,z;function ge(){return z||(z=1,function(a,i){(function(t,s){a.exports=s(T())})(je,function(t){function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var o=s(t),n={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,d){return d==="W"?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,d){var l=100*e+d;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return o.default.locale(n,null,!0),n})}(D)),D.exports}ge();var S={exports:{}},Le=S.exports,K;function be(){return K||(K=1,function(a,i){(function(t,s){a.exports=s(T())})(Le,function(t){function s(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var o=s(t),n={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(e){return e},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return o.default.locale(n,null,!0),n})}(S)),S.exports}be();$.extend(xe);const O=a=>{switch(a){case"zh":return"zh-cn";case"es":return"es";case"fr":return"fr";case"hi":return"hi";default:return"en"}},Ie=a=>{const i=O(a);$.locale(i)},Re=(a,i)=>{const t=O(i);return $(a).locale(t)};export{qe as C,$e as G,Re as g,Ie as s,ce as u};

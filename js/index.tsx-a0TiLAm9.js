const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-CffiTu--.js","js/chunk-5SGEHjMG.js","js/chunk-DCqCmTw7.js","js/chunk-rJHcTq4h.js","js/chunk-BxyRzOKK.js","js/chunk-DyYP0jr7.js","js/chunk-Ddv6gvN9.js","js/chunk-BqV4rolb.js","js/chunk-DEqwrMjb.js","js/chunk-YpQmZHCE.js","assets/index-CRbdjLFF.js","js/chunk-BKkrGAF_.js","js/index.tsx-B-2pevI9.js","js/chunk-D4HAf_Fz.js","js/chunk-B47UJojq.js","js/chunk-CJ-p-rHL.js","js/chunk-Cpw0r6bE.js","js/chunk-DsesnlQY.js","js/chunk-CY6JpaOE.js","js/chunk-Chz5q09A.js","js/chunk-Bmx5YEUT.js","js/index.tsx-Dd0_kjfE.js","js/index.tsx-D6k_po7G.js","js/index.tsx-Q-3792_p.js","js/index.tsx-BxVeMQRD.js"])))=>i.map(i=>d[i]);
import{x as Y,u as Z,_ as k}from"./chunk-5SGEHjMG.js";import{u as M,j as e,a8 as q,aA as H,aa as J,aP as X,b9 as ee,a4 as ae,a3 as P,aw as c,aj as ne,b as a,ba as te,M as se,a5 as oe,bb as ie,aU as le,aV as re,I as ce,bc as ue,ar as R,a7 as ge,Q as de,O as me,ax as fe}from"./chunk-DCqCmTw7.js";import{T as pe,t as he,Z as xe,$ as be,a0 as je,b as O,a1 as ye,a2 as Ce,a3 as ke,m as Le,a4 as _e}from"./chunk-DyYP0jr7.js";import{u as we,D as Se,A as Ie}from"./chunk-D9KJ0g3I.js";import{u as W,l as A}from"./chunk-Ddv6gvN9.js";import{a as Te,b as De}from"./chunk-CY6JpaOE.js";import"./chunk-rJHcTq4h.js";import"./chunk-BxyRzOKK.js";import"./chunk-YpQmZHCE.js";import"../assets/index-CRbdjLFF.js";import"./chunk-BqV4rolb.js";import"./chunk-DEqwrMjb.js";import"./chunk-BKkrGAF_.js";import"./chunk-Chz5q09A.js";import"./chunk-Bmx5YEUT.js";import"./chunk-B47UJojq.js";(function(){var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};i.SENTRY_RELEASE={id:"b82d01bea29447e452b49ba3e85b9fac2f7942a4"}})();try{(function(){var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},u=new i.Error().stack;u&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[u]="6089955f-2a38-441e-a403-0596a06962dc",i._sentryDebugIdIdentifier="sentry-dbid-6089955f-2a38-441e-a403-0596a06962dc")})()}catch(i){}function ve({open:i,onClose:u,onConfirm:p,onCancel:m,title:h,message:l,confirmText:x,cancelText:b,severity:r="info",confirmColor:g="primary"}){const{t:s}=M(),f=W(),t=()=>{m?m():u()},L=async()=>{try{await p(),u()}catch(_){console.error("Confirmation action failed:",_)}};return e.jsxs(q,{open:i,onClose:u,fullScreen:f,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[e.jsx(H,{id:"confirmation-dialog-title",children:h}),e.jsxs(J,{children:[r!=="info"&&e.jsxs(X,{severity:r,sx:{mb:2},children:[r==="warning"&&s("warning"),r==="error"&&s("error"),r==="success"&&s("success")]}),e.jsx(ee,{id:"confirmation-dialog-description",children:l})]}),e.jsxs(ae,{sx:{p:2,gap:1},children:[e.jsx(P,{onClick:t,variant:"outlined",fullWidth:f,children:b||s("cancel")}),e.jsx(P,{onClick:L,variant:"contained",color:g,fullWidth:f,autoFocus:!0,children:x||s("confirm")})]})]})}function Ae({open:i,onClose:u,onRebuildBoard:p,onKeepBoard:m,fromLanguage:h,toLanguage:l}){var x,b;const{t:r}=M(),g=((x=A[h])==null?void 0:x.label)||h,s=((b=A[l])==null?void 0:b.label)||l,f=()=>{p(),u()},t=()=>{m(),u()};return e.jsx(ve,{open:i,onClose:u,onConfirm:f,onCancel:t,title:e.jsx(c,{i18nKey:"languageChangeTitle"}),message:e.jsxs(e.Fragment,{children:[e.jsx(c,{i18nKey:"languageChangeMessage",values:{fromLanguage:g,toLanguage:s}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(c,{i18nKey:"languageChangeExplanation"})]}),confirmText:r("rebuildBoardAction"),cancelText:r("keepCurrentBoard"),severity:"info",confirmColor:"primary"})}const Me=a.lazy(()=>k(()=>import("./index.tsx-CffiTu--.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Ee=a.lazy(()=>k(()=>import("./index.tsx-B-2pevI9.js"),__vite__mapDeps([12,2,3,6,5,1,4,7,8,9,10,11,13,14,15,16,17,18,19,20]))),Be=a.lazy(()=>k(()=>import("./index.tsx-Dd0_kjfE.js"),__vite__mapDeps([21,2,3,6,5,1,4,7,8,9,10,11]))),ze=a.lazy(()=>k(()=>import("./index.tsx-D6k_po7G.js"),__vite__mapDeps([22,2,3,6,5,1,4,7,8,9,10,11,17,16]))),Ke=a.lazy(()=>k(()=>import("./index.tsx-Q-3792_p.js"),__vite__mapDeps([23,2,3,6,5,1,4,7,8,9,10,11,16,19]))),Pe=a.lazy(()=>k(()=>import("./index.tsx-BxVeMQRD.js"),__vite__mapDeps([24,2,3,15,9,1,4,5,10,6,7,8,11,16,17,18,19,20,14])));function aa(){const{id:i}=ne(),{user:u,wipeAllData:p,isAnonymous:m}=we(),h=W(),{i18n:l}=M(),[x,b]=a.useState(!1),r=a.useCallback(n=>b(n),[]),g=Y()[0],[s,f]=a.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1,linkAccount:!1,appSettings:!1,languageChange:!1}),t=a.useCallback((n,o)=>f(d=>({...d,[n]:o})),[]),L=a.useCallback(async()=>{await p(),r(!1)},[p,r]),_=n=>window.open(n,"_blank","noreferrer"),E=a.useMemo(()=>e.jsx(te,{children:e.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),[]),{setLocale:I,updateSettings:B}=Z(),[V,z]=a.useState(!1),[T,w]=a.useState(null),K=Te(),{actionsList:D}=De(g==null?void 0:g.gameMode),F=a.useCallback(async n=>{const o=n.target.value,d=l.resolvedLanguage||"en";if(d!==o){z(!0);try{await l.changeLanguage(o),I(o),await new Promise(y=>{const C=()=>{l.off("languageChanged",C),y(void 0)};l.on("languageChanged",C),setTimeout(()=>{l.off("languageChanged",C),y(void 0)},500)}),w({from:d,to:o}),t("languageChange",!0)}catch(y){console.error("Error changing language:",y),await l.changeLanguage(o),I(o),await new Promise(C=>{const v=()=>{l.off("languageChanged",v),C(void 0)};l.on("languageChanged",v),setTimeout(()=>{l.off("languageChanged",v),C(void 0)},500)}),w({from:d,to:o}),t("languageChange",!0)}finally{z(!1)}}},[l,I,t]),S=a.useCallback(async n=>{if(n&&D)try{await K({...g,boardUpdated:!0},D)}catch(o){console.error("Error rebuilding board:",o),B({boardUpdated:!0})}w(null)},[K,g,D,B]),G=a.useCallback(async()=>{await S(!0)},[S]),U=a.useCallback(async()=>{await S(!1)},[S]),N=a.useCallback(()=>{w(null),t("languageChange",!1)},[t]),$=a.useMemo(()=>Object.entries(A).map(([n,o])=>e.jsx(se,{value:n,children:o.label},n)),[]),Q=a.useMemo(()=>{const n=[{key:"gameBoard",title:e.jsx(c,{i18nKey:"gameBoards"}),icon:e.jsx(ye,{}),onClick:()=>t("gameBoard",!0)},{key:"customTiles",title:e.jsx(c,{i18nKey:"customTilesLabel"}),icon:e.jsx(Ce,{}),onClick:()=>t("customTiles",!0)},{key:"cast",title:e.jsx(c,{i18nKey:"tvMode"}),icon:e.jsx(ke,{}),onClick:()=>_(`/${i==null?void 0:i.toUpperCase()}/cast`)},{key:"schedule",title:e.jsx(c,{i18nKey:"schedule"}),icon:e.jsx(Le,{}),onClick:()=>t("schedule",!0)},{key:"discord",title:"Discord",icon:E,onClick:()=>_("https://discord.gg/mSPBE2hFef")},{key:"about",title:e.jsx(c,{i18nKey:"about"}),icon:e.jsx(_e,{}),onClick:()=>t("about",!0)}];return u&&(n.unshift({key:"appSettings",title:e.jsx(c,{i18nKey:"appSettings"}),icon:e.jsx(pe,{}),onClick:()=>t("appSettings",!0)}),n.unshift({key:"settings",title:e.jsx(c,{i18nKey:g.advancedSettings?"settings":"setupWizard"}),icon:e.jsx(he,{}),onClick:()=>t("settings",!0)}),m&&n.push({key:"linkAccount",title:e.jsx(c,{i18nKey:"linkAccount"}),icon:e.jsx(xe,{}),onClick:()=>t("linkAccount",!0)}),n.push({key:"resetApp",title:e.jsx(c,{i18nKey:"resetApp"}),icon:e.jsx(be,{}),onClick:()=>L()})),n},[u,i,m,g.advancedSettings,E,L,t]).map(({key:n,title:o,icon:d,onClick:y})=>e.jsx(oe,{disablePadding:!0,onClick:y,children:e.jsxs(ie,{children:[e.jsx(le,{children:d}),e.jsx(re,{primary:o})]})},n)),j=(n,o,d={})=>e.jsx(a.Suspense,{fallback:null,children:e.jsx(n,{open:s[o],close:()=>t(o.toString(),!1),isMobile:h,...d})});return e.jsxs(e.Fragment,{children:[e.jsx(ce,{onClick:()=>r(!0),"aria-label":"open menu",children:e.jsx(je,{})}),e.jsx(ue,{anchor:"right",open:x,onClose:()=>r(!1),children:e.jsxs(R,{role:"presentation",onClick:()=>r(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(ge,{sx:{flexGrow:1},children:Q}),e.jsx(R,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2},children:e.jsxs(de,{fullWidth:!0,size:"small",sx:{maxWidth:200},children:[e.jsxs(me,{id:"drawer-language-label",sx:{display:"flex",alignItems:"center","& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:[e.jsx(O,{sx:{mr:.5,fontSize:"1rem"}}),e.jsx(c,{i18nKey:"language"})]}),e.jsx(fe,{labelId:"drawer-language-label",id:"drawer-language-select",value:l.resolvedLanguage||"en",disabled:V,label:e.jsxs(e.Fragment,{children:[e.jsx(O,{sx:{fontSize:"1rem"}}),e.jsx(c,{i18nKey:"language"})]}),onChange:F,size:"small",MenuProps:{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},children:$})]})})]})}),s.settings&&j(Ee,"settings"),s.appSettings&&j(Me,"appSettings"),s.about&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(Se,{open:s.about,close:()=>t("about",!1),children:e.jsx(Be,{})})}),s.gameBoard&&j(ze,"gameBoard"),s.schedule&&j(Ke,"schedule"),s.customTiles&&j(Pe,"customTiles"),s.linkAccount&&j(Ie,"linkAccount"),T&&e.jsx(Ae,{open:s.languageChange,onClose:N,onRebuildBoard:G,onKeepBoard:U,fromLanguage:T.from,toLanguage:T.to})]})}export{aa as default};
//# sourceMappingURL=index.tsx-a0TiLAm9.js.map

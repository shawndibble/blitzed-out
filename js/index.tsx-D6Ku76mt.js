const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-DiCrP9XH.js","assets/index-BHv73vX6.js","js/chunk-DzAIPjqH.js","js/chunk-BfMAFFX0.js","js/chunk-ePhi2-8W.js","js/chunk-DzzEA-5n.js","js/schedule.tsx-BNzepckN.js","js/chunk-BmjRqaQ3.js","js/chunk-D4nXmTaT.js","js/chunk-SagsL35F.js","js/theme.tsx-kKI91Odf.js","js/chunk-ETJJgZWW.js","js/chunk-D0auT6rg.js","js/chunk-BjQhdd70.js","js/index.tsx-CBR0V8Ko.js","js/chunk-Rgv-yxJU.js","js/chunk-QSmzoUvq.js","js/chunk-Byb5sHui.js","js/chunk-B9Y_S9Mk.js","js/chunk--sFRCnns.js","js/chunk-BS7AWNIJ.js","js/chunk-CcNW6xaX.js","js/chunk-CMNMDYKn.js","js/chunk-6vR-ehJY.js","js/chunk-Co28FzxB.js","js/index.tsx-CJNQcl73.js","js/index.tsx-5ULQ2Yne.js","js/index.tsx-D-VQ249-.js","js/chunk-C68ZAAUj.js","js/index.tsx-C5nWIzi4.js"])))=>i.map(i=>d[i]);
import{_ as y}from"../assets/index-BHv73vX6.js";import{ak as M,j as e,W as q,av as Q,Y as H,aU as J,b9 as X,R as Z,Q as R,ar as r,ad as ee,r as a,ba as ae,M as ne,S as te,bb as se,aN as oe,aO as ie,I as le,bc as re,am as P,V as ce,z as ue,y as ge,as as de}from"./chunk-DzAIPjqH.js";import{T as me,B as fe,q as pe,$ as he,a0 as be,b as O,a1 as xe,a2 as je,a3 as ye,m as Ce,a4 as ke}from"./chunk-DzzEA-5n.js";import{u as Le,D as _e,A as Se}from"./chunk-DSABIIYE.js";import{u as W,l as v}from"./chunk-ePhi2-8W.js";import{u as we,b as Ie}from"./chunk-BmjRqaQ3.js";import{a as Te,b as De}from"./chunk-CMNMDYKn.js";import"./chunk-BfMAFFX0.js";import"./schedule.tsx-BNzepckN.js";import"./chunk-SagsL35F.js";import"./chunk-D4nXmTaT.js";import"./theme.tsx-kKI91Odf.js";import"./chunk-ETJJgZWW.js";import"./chunk-D0auT6rg.js";import"./chunk-BjQhdd70.js";import"./chunk-6vR-ehJY.js";import"./chunk-Co28FzxB.js";import"./chunk-QSmzoUvq.js";import"./chunk--sFRCnns.js";import"./chunk-BS7AWNIJ.js";(function(){var l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};l.SENTRY_RELEASE={id:"b0aec1b7336667c3da787da9b7139ec106644213"}})();try{(function(){var l=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},c=new l.Error().stack;c&&(l._sentryDebugIds=l._sentryDebugIds||{},l._sentryDebugIds[c]="4092d0a2-8ee7-4261-bb30-11b6cb8c71b5",l._sentryDebugIdIdentifier="sentry-dbid-4092d0a2-8ee7-4261-bb30-11b6cb8c71b5")})()}catch{}function Ae({open:l,onClose:c,onConfirm:f,onCancel:m,title:p,message:i,confirmText:h,cancelText:C,severity:u="info",confirmColor:g="primary"}){const{t}=M(),k=W(),o=()=>{m?m():c()},L=async()=>{try{await f(),c()}catch(_){console.error("Confirmation action failed:",_)}};return e.jsxs(q,{open:l,onClose:c,fullScreen:k,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[e.jsx(Q,{id:"confirmation-dialog-title",children:p}),e.jsxs(H,{children:[u!=="info"&&e.jsxs(J,{severity:u,sx:{mb:2},children:[u==="warning"&&t("warning"),u==="error"&&t("error"),u==="success"&&t("success")]}),e.jsx(X,{id:"confirmation-dialog-description",children:i})]}),e.jsxs(Z,{sx:{p:2,gap:1},children:[e.jsx(R,{onClick:o,variant:"outlined",fullWidth:k,children:C||t("cancel")}),e.jsx(R,{onClick:L,variant:"contained",color:g,fullWidth:k,autoFocus:!0,children:h||t("confirm")})]})]})}function ve({open:l,onClose:c,onRebuildBoard:f,onKeepBoard:m,fromLanguage:p,toLanguage:i}){const{t:h}=M(),C=v[p]?.label||p,u=v[i]?.label||i,g=()=>{f(),c()},t=()=>{m(),c()};return e.jsx(Ae,{open:l,onClose:c,onConfirm:g,onCancel:t,title:e.jsx(r,{i18nKey:"languageChangeTitle"}),message:e.jsxs(e.Fragment,{children:[e.jsx(r,{i18nKey:"languageChangeMessage",values:{fromLanguage:C,toLanguage:u}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(r,{i18nKey:"languageChangeExplanation"})]}),confirmText:h("rebuildBoardAction"),cancelText:h("keepCurrentBoard"),severity:"info",confirmColor:"primary"})}const Me=a.lazy(()=>y(()=>import("./index.tsx-DiCrP9XH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),Be=a.lazy(()=>y(()=>import("./index.tsx-CBR0V8Ko.js"),__vite__mapDeps([14,2,3,4,5,1,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24]))),Ee=a.lazy(()=>y(()=>import("./index.tsx-CJNQcl73.js"),__vite__mapDeps([25,2,3,4,5,1,6,7,8,9,10,11,12,13]))),ze=a.lazy(()=>y(()=>import("./index.tsx-5ULQ2Yne.js"),__vite__mapDeps([26,2,3,4,5,1,6,7,8,9,10,11,12,13,21,18]))),Ke=a.lazy(()=>y(()=>import("./index.tsx-D-VQ249-.js"),__vite__mapDeps([27,2,3,4,5,1,6,7,8,9,10,11,12,13,18,23,28]))),Re=a.lazy(()=>y(()=>import("./index.tsx-C5nWIzi4.js"),__vite__mapDeps([29,2,3,17,7,1,8,4,5,6,9,10,11,12,13,18,19,20,21,22,23,24,16])));function oa(){const{id:l}=ee(),{user:c,wipeAllData:f,isAnonymous:m}=Le(),p=W(),{i18n:i}=M(),[h,C]=a.useState(!1),u=a.useCallback(n=>C(n),[]),g=we()[0],[t,k]=a.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1,linkAccount:!1,appSettings:!1,languageChange:!1}),o=a.useCallback((n,s)=>k(d=>({...d,[n]:s})),[]),L=a.useCallback(async()=>{await f(),u(!1)},[f,u]),_=n=>window.open(n,"_blank","noreferrer"),B=a.useMemo(()=>e.jsx(ae,{children:e.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),[]),{setLocale:I,updateSettings:E}=Ie(),[V,z]=a.useState(!1),[T,S]=a.useState(null),K=Te(),{actionsList:D}=De(g?.gameMode),F=a.useCallback(async n=>{const s=n.target.value,d=i.resolvedLanguage||"en";if(d!==s){z(!0);try{await i.changeLanguage(s),I(s),await new Promise(x=>{const j=()=>{i.off("languageChanged",j),x(void 0)};i.on("languageChanged",j),setTimeout(()=>{i.off("languageChanged",j),x(void 0)},500)}),S({from:d,to:s}),o("languageChange",!0)}catch(x){console.error("Error changing language:",x),await i.changeLanguage(s),I(s),await new Promise(j=>{const A=()=>{i.off("languageChanged",A),j(void 0)};i.on("languageChanged",A),setTimeout(()=>{i.off("languageChanged",A),j(void 0)},500)}),S({from:d,to:s}),o("languageChange",!0)}finally{z(!1)}}},[i,I,o]),w=a.useCallback(async n=>{if(n&&D)try{await K({...g,boardUpdated:!0},D)}catch(s){console.error("Error rebuilding board:",s),E({boardUpdated:!0})}S(null)},[K,g,D,E]),G=a.useCallback(async()=>{await w(!0)},[w]),U=a.useCallback(async()=>{await w(!1)},[w]),N=a.useCallback(()=>{S(null),o("languageChange",!1)},[o]),Y=a.useMemo(()=>Object.entries(v).map(([n,s])=>e.jsx(ne,{value:n,children:s.label},n)),[]),$=a.useMemo(()=>{const n=[{key:"gameBoard",title:e.jsx(r,{i18nKey:"gameBoards"}),icon:e.jsx(xe,{}),onClick:()=>o("gameBoard",!0)},{key:"customTiles",title:e.jsx(r,{i18nKey:"customTilesLabel"}),icon:e.jsx(je,{}),onClick:()=>o("customTiles",!0)},{key:"cast",title:e.jsx(r,{i18nKey:"tvMode"}),icon:e.jsx(ye,{}),onClick:()=>_(`/${l?.toUpperCase()}/cast`)},{key:"schedule",title:e.jsx(r,{i18nKey:"schedule"}),icon:e.jsx(Ce,{}),onClick:()=>o("schedule",!0)},{key:"discord",title:"Discord",icon:B,onClick:()=>_("https://discord.gg/mSPBE2hFef")},{key:"about",title:e.jsx(r,{i18nKey:"about"}),icon:e.jsx(ke,{}),onClick:()=>o("about",!0)}];return c&&(n.unshift({key:"appSettings",title:e.jsx(r,{i18nKey:"appSettings"}),icon:e.jsx(me,{}),onClick:()=>o("appSettings",!0)}),n.unshift({key:"settings",title:e.jsx(r,{i18nKey:g.advancedSettings?"settings":"setupWizard"}),icon:e.jsx(fe,{}),onClick:()=>o("settings",!0)}),m&&n.push({key:"linkAccount",title:e.jsx(r,{i18nKey:"linkAccount"}),icon:e.jsx(pe,{}),onClick:()=>o("linkAccount",!0)}),n.push({key:"resetApp",title:e.jsx(r,{i18nKey:"resetApp"}),icon:e.jsx(he,{}),onClick:()=>L()})),n},[c,l,m,g.advancedSettings,B,L,o]).map(({key:n,title:s,icon:d,onClick:x})=>e.jsx(te,{disablePadding:!0,onClick:x,children:e.jsxs(se,{children:[e.jsx(oe,{children:d}),e.jsx(ie,{primary:s})]})},n)),b=(n,s,d={})=>e.jsx(a.Suspense,{fallback:null,children:e.jsx(n,{open:t[s],close:()=>o(s.toString(),!1),isMobile:p,...d})});return e.jsxs(e.Fragment,{children:[e.jsx(le,{onClick:()=>u(!0),"aria-label":"open menu",children:e.jsx(be,{})}),e.jsx(re,{anchor:"right",open:h,onClose:()=>u(!1),children:e.jsxs(P,{role:"presentation",onClick:()=>u(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(ce,{sx:{flexGrow:1},children:$}),e.jsx(P,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2},children:e.jsxs(ue,{fullWidth:!0,size:"small",sx:{maxWidth:200},children:[e.jsxs(ge,{id:"drawer-language-label",sx:{display:"flex",alignItems:"center","& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:[e.jsx(O,{sx:{mr:.5,fontSize:"1rem"}}),e.jsx(r,{i18nKey:"language"})]}),e.jsx(de,{labelId:"drawer-language-label",id:"drawer-language-select",value:i.resolvedLanguage||"en",disabled:V,label:e.jsxs(e.Fragment,{children:[e.jsx(O,{sx:{fontSize:"1rem"}}),e.jsx(r,{i18nKey:"language"})]}),onChange:F,size:"small",MenuProps:{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},children:Y})]})})]})}),t.settings&&b(Be,"settings"),t.appSettings&&b(Me,"appSettings"),t.about&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(_e,{open:t.about,close:()=>o("about",!1),children:e.jsx(Ee,{})})}),t.gameBoard&&b(ze,"gameBoard"),t.schedule&&b(Ke,"schedule"),t.customTiles&&b(Re,"customTiles"),t.linkAccount&&b(Se,"linkAccount"),T&&e.jsx(ve,{open:t.languageChange,onClose:N,onRebuildBoard:G,onKeepBoard:U,fromLanguage:T.from,toLanguage:T.to})]})}export{oa as default};
//# sourceMappingURL=index.tsx-D6Ku76mt.js.map

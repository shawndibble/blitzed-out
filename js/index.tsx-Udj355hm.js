import{u as R,b as o,aj as V,aq as q,j as e,M as G,ar as g,as as U,at as b,au as S,av as N,aw as i,t as C,S as Q,a3 as j,ae as Y,Q as H,ax as J,ay as X}from"./chunk-CVSdvP5Z.js";import{A as Z}from"./chunk-D8j2avet.js";import $ from"./index.tsx-D58wvM67.js";import{l as ee,N as ae}from"./chunk-BeueL4UK.js";import{u as ne,a as te}from"./chunk-guvQFVv-.js";import{x as se}from"./chunk-B-cyqPC2.js";import{P as re,a as oe,b as ie}from"./chunk-_SwOSjSw.js";import"./chunk-CNqt7FHs.js";import"./chunk-E8HqAuJ1.js";import"../assets/index-CZH-e7F_.js";import"./chunk-BVO8KFPS.js";import"./chunk-BUoOus3c.js";import"./chunk-AkXvan0D.js";(function(){var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};a.SENTRY_RELEASE={id:"874067a760cfa9079dd7f585e4ceff298b0e879f"}})();try{(function(){var a=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},n=new a.Error().stack;n&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[n]="8a03b173-ac8f-4633-963a-0cc9c3724276",a._sentryDebugIdIdentifier="sentry-dbid-8a03b173-ac8f-4633-963a-0cc9c3724276")})()}catch(a){}var le=Object.defineProperty,ce=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable,O=(a,n,t)=>n in a?le(a,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[n]=t,me=(a,n)=>{for(var t in n||(n={}))de.call(n,t)&&O(a,t,n[t]);if(L)for(var t of L(n))ge.call(n,t)&&O(a,t,n[t]);return a},pe=(a,n)=>ce(a,ue(n)),v=(a,n,t)=>new Promise((m,c)=>{var h=r=>{try{d(t.next(r))}catch(l){c(l)}},u=r=>{try{d(t.throw(r))}catch(l){c(l)}},d=r=>r.done?m(r.value):Promise.resolve(r.value).then(h,u);d((t=t.apply(a,n)).next())});function Le(){var a;const{i18n:n,t}=R(),{login:m,user:c}=ne(),[h,u]=o.useState(!1),[d,r]=o.useState("login"),[l,_]=o.useState(!1),D=()=>{r("login"),u(!0)},I=()=>{r("register"),u(!0)},z=V(),[E]=q(),A=!!E.get("importBoard"),y=(a=z.id)!=null?a:"PUBLIC",K=te(),[p,T]=o.useState((c==null?void 0:c.displayName)||""),[w,P]=se(),x=o.useCallback(s=>v(null,null,function*(){s.preventDefault(),yield P(pe(me({},w),{displayName:p,room:y})),yield m(p)}),[p,m,y,w,P]),B=o.useCallback(s=>v(null,null,function*(){s.key==="Enter"&&(yield x(s))}),[x]),k=n.resolvedLanguage||"en",M=o.useCallback(s=>v(null,null,function*(){const f=s.target.value;_(!0);try{yield n.changeLanguage(f)}catch(F){console.error("Error changing language:",F),yield n.changeLanguage(f)}finally{_(!1)}}),[n]),W=o.useMemo(()=>Object.entries(ee).map(([s,f])=>e.jsx(G,{value:s,children:f.label},s)),[]);return e.jsxs(e.Fragment,{children:[e.jsx(ae,{room:y,playerList:K}),e.jsxs(g,{className:"unauthenticated-container gradient-background-vibrant",children:[e.jsx(U,{maxWidth:"lg",sx:{pt:8},children:e.jsxs(b,{container:!0,spacing:4,justifyContent:"center",alignItems:"stretch",children:[e.jsx(b,{size:{xs:12,md:6,lg:4},children:e.jsx(S,{className:"unauthenticated-card main-setup-card",children:e.jsxs(N,{children:[e.jsx("h2",{className:"setup",children:e.jsx(i,{i18nKey:"setup"})}),e.jsx(C,{className:"setup-subtitle",variant:"body1",children:e.jsx(i,{i18nKey:"setupSubtitle"})}),e.jsxs(g,{component:"form",method:"post",onSubmit:x,className:"settings-box",children:[e.jsx(Q,{fullWidth:!0,id:"displayName",label:t("displayName"),value:p,onChange:s=>T(s.target.value),required:!0,autoFocus:!0,onKeyDown:s=>B(s),margin:"normal"}),e.jsx(j,{variant:"contained",type:"submit",fullWidth:!0,className:"jump-in-button",size:"large",startIcon:e.jsx(re,{}),sx:{mt:2,py:1.25,fontSize:"1.1rem",fontWeight:600},children:A?e.jsx(i,{i18nKey:"import"}):e.jsx(i,{i18nKey:"anonymousLogin"})}),e.jsx(Y,{sx:{my:3},children:e.jsx(C,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:e.jsx(i,{i18nKey:"or"})})}),e.jsxs(g,{className:"auth-button-container",children:[e.jsx(j,{variant:"outlined",startIcon:e.jsx(oe,{}),onClick:D,size:"medium",children:e.jsx(i,{i18nKey:"signIn"})}),e.jsx(j,{variant:"outlined",onClick:I,size:"medium",children:e.jsx(i,{i18nKey:"createAccount"})})]})]})]})})}),e.jsx(b,{size:{md:12,lg:8},children:e.jsx(S,{className:"unauthenticated-card",children:e.jsx(N,{children:e.jsx($,{})})})})]})}),e.jsx(g,{className:"footer-language-container",children:e.jsxs(g,{className:"footer-language-selector",children:[e.jsx(ie,{sx:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)"}}),e.jsx(H,{size:"small",sx:{minWidth:120},children:e.jsx(J,{value:k,disabled:l,onChange:M,size:"small",variant:"standard",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem","& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.5)"},"&:before":{borderBottomColor:"rgba(255, 255, 255, 0.3)"},"&:hover:before":{borderBottomColor:"rgba(255, 255, 255, 0.5)"}},endAdornment:l&&e.jsx(X,{size:14}),children:W})})]})})]}),e.jsx(Z,{open:h,close:()=>u(!1),initialView:d})]})}export{Le as default};
//# sourceMappingURL=index.tsx-Udj355hm.js.map

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index.tsx-fTU9HnAA.js","js/chunk-Ce3NdNab.js","js/chunk-gLqOAnAo.js","js/chunk-D9KXFDlS.js","js/chunk-DF6sfhGu.js","js/chunk-DFT8axIh.js","js/chunk-CoT3YRZL.js","js/chunk-DfmEhtRA.js","js/chunk-BOQuZLLs.js","js/chunk-C9KfLBvM.js","assets/index-40AaoPFR.js","js/chunk-Cxiyhgvx.js","js/index.tsx-DIysf6jZ.js","js/chunk-qCrWNMY5.js","js/chunk-BRW-j_h2.js","js/chunk-XmCmKjvy.js","js/chunk-BpLDF4zL.js","js/chunk-fFmCiWfE.js","js/chunk-yJSp0bHd.js","js/chunk-o-iJoEXR.js","js/chunk-BhiRFd-u.js","js/index.tsx-DQVCdLLc.js","js/index.tsx-cjrGwkJp.js","js/index.tsx-C18QduOX.js","js/index.tsx-UpD_dYSy.js"])))=>i.map(i=>d[i]);
import{B as Z,u as q,_ as k}from"./chunk-Ce3NdNab.js";import{u as B,j as e,a8 as H,aA as J,aa as X,aP as ee,b9 as ae,a4 as ne,a3 as z,aw as c,aj as te,r as o,ba as se,M as oe,a5 as ie,bb as le,aU as re,aV as ce,I as ue,bc as ge,ar as O,a7 as de,Q as fe,O as me,ay as pe}from"./chunk-gLqOAnAo.js";import{T as he,t as be,Z as xe,$ as je,a0 as Ce,b as W,a1 as ye,a2 as ke,a3 as Le,m as _e,a4 as we}from"./chunk-DFT8axIh.js";import{u as Se,D as Ie,A as Te}from"./chunk-VapU_6Ln.js";import{u as V,l as M}from"./chunk-CoT3YRZL.js";import{a as De,b as ve}from"./chunk-yJSp0bHd.js";import{l as L}from"../assets/index-40AaoPFR.js";import"./chunk-D9KXFDlS.js";import"./chunk-DF6sfhGu.js";import"./chunk-C9KfLBvM.js";import"./chunk-DfmEhtRA.js";import"./chunk-BOQuZLLs.js";import"./chunk-Cxiyhgvx.js";import"./chunk-o-iJoEXR.js";import"./chunk-BhiRFd-u.js";import"./chunk-BRW-j_h2.js";(function(){var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};i.SENTRY_RELEASE={id:"ba7d3cfce23f41097f343c1a83f9f2db3c72f794"}})();try{(function(){var i=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},u=new i.Error().stack;u&&(i._sentryDebugIds=i._sentryDebugIds||{},i._sentryDebugIds[u]="bb9bccf7-b28f-4b98-9253-572d8d7163b5",i._sentryDebugIdIdentifier="sentry-dbid-bb9bccf7-b28f-4b98-9253-572d8d7163b5")})()}catch(i){}function Ae({open:i,onClose:u,onConfirm:p,onCancel:f,title:h,message:l,confirmText:b,cancelText:x,severity:r="info",confirmColor:g="primary"}){const{t}=B(),m=V(),n=()=>{f?f():u()},_=async()=>{try{await p(),u()}catch(w){console.error("Confirmation action failed:",w)}};return e.jsxs(H,{open:i,onClose:u,fullScreen:m,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[e.jsx(J,{id:"confirmation-dialog-title",children:h}),e.jsxs(X,{children:[r!=="info"&&e.jsxs(ee,{severity:r,sx:{mb:2},children:[r==="warning"&&t("warning"),r==="error"&&t("error"),r==="success"&&t("success")]}),e.jsx(ae,{id:"confirmation-dialog-description",children:l})]}),e.jsxs(ne,{sx:{p:2,gap:1},children:[e.jsx(z,{onClick:n,variant:"outlined",fullWidth:m,children:x||t("cancel")}),e.jsx(z,{onClick:_,variant:"contained",color:g,fullWidth:m,autoFocus:!0,children:b||t("confirm")})]})]})}function Me({open:i,onClose:u,onRebuildBoard:p,onKeepBoard:f,fromLanguage:h,toLanguage:l}){var b,x;const{t:r}=B(),g=((b=M[h])==null?void 0:b.label)||h,t=((x=M[l])==null?void 0:x.label)||l,m=()=>{p(),u()},n=()=>{f(),u()};return e.jsx(Ae,{open:i,onClose:u,onConfirm:m,onCancel:n,title:e.jsx(c,{i18nKey:"languageChangeTitle"}),message:e.jsxs(e.Fragment,{children:[e.jsx(c,{i18nKey:"languageChangeMessage",values:{fromLanguage:g,toLanguage:t}}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(c,{i18nKey:"languageChangeExplanation"})]}),confirmText:r("rebuildBoardAction"),cancelText:r("keepCurrentBoard"),severity:"info",confirmColor:"primary"})}const Be=L(()=>k(()=>import("./index.tsx-fTU9HnAA.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Ee=L(()=>k(()=>import("./index.tsx-DIysf6jZ.js"),__vite__mapDeps([12,2,3,6,5,1,4,7,8,9,10,11,13,14,15,16,17,18,19,20]))),Ke=L(()=>k(()=>import("./index.tsx-DQVCdLLc.js"),__vite__mapDeps([21,2,3,6,5,1,4,7,8,9,10,11]))),Pe=L(()=>k(()=>import("./index.tsx-cjrGwkJp.js"),__vite__mapDeps([22,2,3,6,5,1,4,7,8,9,10,11,17,16]))),Re=L(()=>k(()=>import("./index.tsx-C18QduOX.js"),__vite__mapDeps([23,2,3,6,5,1,4,7,8,9,10,11,16,19]))),ze=L(()=>k(()=>import("./index.tsx-UpD_dYSy.js"),__vite__mapDeps([24,2,3,15,9,1,4,5,10,6,7,8,11,16,17,18,19,20,14])));function na(){const{id:i}=te(),{user:u,wipeAllData:p,isAnonymous:f}=Se(),h=V(),{i18n:l}=B(),[b,x]=o.useState(!1),r=o.useCallback(a=>x(a),[]),g=Z()[0],[t,m]=o.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1,linkAccount:!1,appSettings:!1,languageChange:!1}),n=o.useCallback((a,s)=>m(d=>({...d,[a]:s})),[]),_=o.useCallback(async()=>{await p(),r(!1)},[p,r]),w=a=>window.open(a,"_blank","noreferrer"),E=o.useMemo(()=>e.jsx(se,{children:e.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),[]),{setLocale:T,updateSettings:K}=q(),[F,P]=o.useState(!1),[D,S]=o.useState(null),R=De(),{actionsList:v}=ve(g==null?void 0:g.gameMode),G=o.useCallback(async a=>{const s=a.target.value,d=l.resolvedLanguage||"en";if(d!==s){P(!0);try{await l.changeLanguage(s),T(s),await new Promise(C=>{const y=()=>{l.off("languageChanged",y),C(void 0)};l.on("languageChanged",y),setTimeout(()=>{l.off("languageChanged",y),C(void 0)},500)}),S({from:d,to:s}),n("languageChange",!0)}catch(C){console.error("Error changing language:",C),await l.changeLanguage(s),T(s),await new Promise(y=>{const A=()=>{l.off("languageChanged",A),y(void 0)};l.on("languageChanged",A),setTimeout(()=>{l.off("languageChanged",A),y(void 0)},500)}),S({from:d,to:s}),n("languageChange",!0)}finally{P(!1)}}},[l,T,n]),I=o.useCallback(async a=>{if(a&&v)try{await R({...g,boardUpdated:!0},v)}catch(s){console.error("Error rebuilding board:",s),K({boardUpdated:!0})}S(null)},[R,g,v,K]),U=o.useCallback(async()=>{await I(!0)},[I]),N=o.useCallback(async()=>{await I(!1)},[I]),$=o.useCallback(()=>{S(null),n("languageChange",!1)},[n]),Q=o.useMemo(()=>Object.entries(M).map(([a,s])=>e.jsx(oe,{value:a,children:s.label},a)),[]),Y=o.useMemo(()=>{const a=[{key:"gameBoard",title:e.jsx(c,{i18nKey:"gameBoards"}),icon:e.jsx(ye,{}),onClick:()=>n("gameBoard",!0)},{key:"customTiles",title:e.jsx(c,{i18nKey:"customTilesLabel"}),icon:e.jsx(ke,{}),onClick:()=>n("customTiles",!0)},{key:"cast",title:e.jsx(c,{i18nKey:"tvMode"}),icon:e.jsx(Le,{}),onClick:()=>w(`/${i==null?void 0:i.toUpperCase()}/cast`)},{key:"schedule",title:e.jsx(c,{i18nKey:"schedule"}),icon:e.jsx(_e,{}),onClick:()=>n("schedule",!0)},{key:"discord",title:"Discord",icon:E,onClick:()=>w("https://discord.gg/mSPBE2hFef")},{key:"about",title:e.jsx(c,{i18nKey:"about"}),icon:e.jsx(we,{}),onClick:()=>n("about",!0)}];return u&&(a.unshift({key:"appSettings",title:e.jsx(c,{i18nKey:"appSettings"}),icon:e.jsx(he,{}),onClick:()=>n("appSettings",!0)}),a.unshift({key:"settings",title:e.jsx(c,{i18nKey:g.advancedSettings?"settings":"setupWizard"}),icon:e.jsx(be,{}),onClick:()=>n("settings",!0)}),f&&a.push({key:"linkAccount",title:e.jsx(c,{i18nKey:"linkAccount"}),icon:e.jsx(xe,{}),onClick:()=>n("linkAccount",!0)}),a.push({key:"resetApp",title:e.jsx(c,{i18nKey:"resetApp"}),icon:e.jsx(je,{}),onClick:()=>_()})),a},[u,i,f,g.advancedSettings,E,_,n]).map(({key:a,title:s,icon:d,onClick:C})=>e.jsx(ie,{disablePadding:!0,onClick:C,children:e.jsxs(le,{children:[e.jsx(re,{children:d}),e.jsx(ce,{primary:s})]})},a)),j=(a,s,d={})=>e.jsx(o.Suspense,{fallback:null,children:e.jsx(a,{open:t[s],close:()=>n(s.toString(),!1),isMobile:h,...d})});return e.jsxs(e.Fragment,{children:[e.jsx(ue,{onClick:()=>r(!0),"aria-label":"open menu",children:e.jsx(Ce,{})}),e.jsx(ge,{anchor:"right",open:b,onClose:()=>r(!1),children:e.jsxs(O,{role:"presentation",onClick:()=>r(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(de,{sx:{flexGrow:1},children:Y}),e.jsx(O,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2},children:e.jsxs(fe,{fullWidth:!0,size:"small",sx:{maxWidth:200},children:[e.jsxs(me,{id:"drawer-language-label",sx:{display:"flex",alignItems:"center","& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:[e.jsx(W,{sx:{mr:.5,fontSize:"1rem"}}),e.jsx(c,{i18nKey:"language"})]}),e.jsx(pe,{labelId:"drawer-language-label",id:"drawer-language-select",value:l.resolvedLanguage||"en",disabled:F,label:e.jsxs(e.Fragment,{children:[e.jsx(W,{sx:{fontSize:"1rem"}}),e.jsx(c,{i18nKey:"language"})]}),onChange:G,size:"small",MenuProps:{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},children:Q})]})})]})}),t.settings&&j(Ee,"settings"),t.appSettings&&j(Be,"appSettings"),t.about&&e.jsx(o.Suspense,{fallback:null,children:e.jsx(Ie,{open:t.about,close:()=>n("about",!1),children:e.jsx(Ke,{})})}),t.gameBoard&&j(Pe,"gameBoard"),t.schedule&&j(Re,"schedule"),t.customTiles&&j(ze,"customTiles"),t.linkAccount&&j(Te,"linkAccount"),D&&e.jsx(Me,{open:t.languageChange,onClose:$,onRebuildBoard:U,onKeepBoard:N,fromLanguage:D.from,toLanguage:D.to})]})}export{na as default};
//# sourceMappingURL=index.tsx-BznTncpP.js.map

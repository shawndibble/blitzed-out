.gameboard {
  display: grid;
  height: 100%;
  overflow-y: auto;
  padding-bottom: 3rem;
}

.gameboard ol {
  list-style: none;
  padding: 0;
  --hue: 1;
  --unit: 1rem;
  margin: 0 auto;
}

.gameboard li {
  --height: 6rem;
  position: relative;
  display: block;
  background: linear-gradient(
    135deg,
    rgba(30, 41, 59, 0.95) 0%,
    rgba(51, 65, 85, 0.9) 50%,
    rgba(30, 41, 59, 0.95) 100%
  );
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(148, 163, 184, 0.2);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(34, 211, 238, 0.1);
  padding: 1rem;
  margin: 2rem 1rem;
  border-radius: 12px;
  transition: all 0.3s ease;
  color: #f8fafc;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

/* Hover effects for modern tiles */
.gameboard li:hover {
  transform: translateY(-4px);
  box-shadow:
    0 16px 56px rgba(0, 0, 0, 0.5),
    0 6px 24px rgba(0, 0, 0, 0.3),
    0 0 30px rgba(34, 211, 238, 0.2);
  border-color: rgba(34, 211, 238, 0.3);
}

.gameboard li.gray-tiles {
  background: linear-gradient(
    135deg,
    rgba(71, 85, 105, 0.95) 0%,
    rgba(100, 116, 139, 0.9) 50%,
    rgba(71, 85, 105, 0.95) 100%
  );
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(148, 163, 184, 0.15);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.3),
    0 4px 16px rgba(0, 0, 0, 0.15);
}

.gameboard li .pop-text {
  text-shadow:
    -1px 0 0 black,
    1px 0 0 black,
    0 -1px 0 black,
    0 1px 0 black;
}

/* Subtle vertical connector */
.gameboard li::before {
  content: '';
  background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
  border-radius: 2px;
  position: absolute;
  display: block;
  width: var(--unit);
  height: var(--unit);
  top: 100%;
  left: calc(50% - (var(--unit) / 2));
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
}

.gameboard li::after {
  content: '';
  position: absolute;
  display: block;
  top: calc(100% + var(--unit));
  left: calc(50% - (var(--unit)));
  border: var(--unit) solid transparent;
  border-top-color: rgba(148, 163, 184, 0.5);
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
}

.gameboard li:last-child::before,
.gameboard li:last-child::after {
  content: none !important;
}

/* Sophisticated vibrant category styling */
.gameboard .hue0 {
  background: linear-gradient(135deg, rgba(205, 92, 132, 0.85) 0%, rgba(159, 68, 102, 0.8) 100%);
  border-color: rgba(205, 92, 132, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(205, 92, 132, 0.12);
}
.gameboard .hue1 {
  background: linear-gradient(135deg, rgba(52, 172, 224, 0.85) 0%, rgba(41, 128, 185, 0.8) 100%);
  border-color: rgba(52, 172, 224, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(52, 172, 224, 0.12);
}
.gameboard .hue2 {
  background: linear-gradient(135deg, rgba(82, 190, 128, 0.85) 0%, rgba(65, 150, 101, 0.8) 100%);
  border-color: rgba(82, 190, 128, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(82, 190, 128, 0.12);
}
.gameboard .hue3 {
  background: linear-gradient(135deg, rgba(235, 152, 78, 0.85) 0%, rgba(191, 123, 63, 0.8) 100%);
  border-color: rgba(235, 152, 78, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(235, 152, 78, 0.12);
}
.gameboard .hue4 {
  background: linear-gradient(135deg, rgba(155, 89, 182, 0.85) 0%, rgba(125, 72, 147, 0.8) 100%);
  border-color: rgba(155, 89, 182, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(155, 89, 182, 0.12);
}
.gameboard .hue5 {
  background: linear-gradient(135deg, rgba(231, 76, 142, 0.85) 0%, rgba(186, 61, 114, 0.8) 100%);
  border-color: rgba(231, 76, 142, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(231, 76, 142, 0.12);
}
.gameboard .hue6 {
  background: linear-gradient(135deg, rgba(22, 160, 133, 0.85) 0%, rgba(18, 128, 106, 0.8) 100%);
  border-color: rgba(22, 160, 133, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(22, 160, 133, 0.12);
}
.gameboard .hue7 {
  background: linear-gradient(135deg, rgba(231, 111, 81, 0.85) 0%, rgba(185, 89, 65, 0.8) 100%);
  border-color: rgba(231, 111, 81, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(231, 111, 81, 0.12);
}
.gameboard .hue8 {
  background: linear-gradient(135deg, rgba(142, 68, 173, 0.85) 0%, rgba(115, 55, 140, 0.8) 100%);
  border-color: rgba(142, 68, 173, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(142, 68, 173, 0.12);
}
.gameboard .hue9 {
  background: linear-gradient(135deg, rgba(241, 196, 15, 0.85) 0%, rgba(194, 158, 12, 0.8) 100%);
  border-color: rgba(241, 196, 15, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(241, 196, 15, 0.12);
}
.gameboard .hue10 {
  background: linear-gradient(135deg, rgba(26, 188, 156, 0.85) 0%, rgba(21, 151, 125, 0.8) 100%);
  border-color: rgba(26, 188, 156, 0.3);
  box-shadow:
    0 12px 48px rgba(0, 0, 0, 0.4),
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 0 20px rgba(26, 188, 156, 0.12);
}

/* Accessibility and motion preferences */
@media (prefers-reduced-motion: reduce) {
  .gameboard li,
  .gameboard li:hover,
  .gameboard li::before,
  .gameboard li::after {
    transition: none;
    transform: none;
    animation: none;
  }
}

/* Focus states for accessibility */
.gameboard li:focus-visible {
  outline: 3px solid rgba(34, 211, 238, 0.6);
  outline-offset: 2px;
}

/* Enhanced mobile experience */
@media (max-width: 820px) {
  .gameboard li {
    margin: 1rem 0.5rem;
    padding: 0.875rem;
    min-height: 5rem;
  }

  .gameboard li:first-child {
    margin-top: 0;
  }

  .gameboard li:hover {
    transform: translateY(-2px);
  }
}

/* Common responsive styles */
@media (min-width: 820px) {
  /* Base responsive styles */
  .gameboard li {
    margin: 1rem;
    float: left;
    min-height: 11rem;
  }

  /* Subtle left connector */
  .gameboard li.left-connector::before,
  .gameboard li[class*='left-connect']::before {
    content: '';
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: 100%;
  }

  .gameboard li.left-connector::after,
  .gameboard li[class*='left-connect']::after {
    content: '';
    top: calc(var(--height) / 2);
    left: calc(100% + var(--unit));
    border: var(--unit) solid transparent;
    border-left-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  /* Subtle right connector */
  .gameboard li.right-connector::before,
  .gameboard li[class*='right-connect']::before {
    content: '';
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: -1rem;
  }

  .gameboard li.right-connector::after,
  .gameboard li[class*='right-connect']::after {
    content: '';
    top: calc(var(--height) / 2);
    left: -3rem;
    border: var(--unit) solid transparent;
    border-right-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }
}

/* Two column layout */
@media (min-width: 820px) and (max-width: 1019px) {
  .gameboard li {
    width: calc(50% - 2rem);
  }

  .gameboard li:nth-child(4n + 3),
  .gameboard li:nth-child(4n + 4) {
    float: right;
  }

  /* Apply connectors */
  .gameboard li:nth-child(4n + 1)::before,
  .gameboard li:nth-child(4n + 1)::after {
    content: '';
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: 100%;
  }

  .gameboard li:nth-child(4n + 1)::before {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
  }

  .gameboard li:nth-child(4n + 1)::after {
    top: calc(var(--height) / 2);
    left: calc(100% + var(--unit));
    border: var(--unit) solid transparent;
    border-left-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  .gameboard li:nth-child(4n + 3)::before {
    content: '';
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: -1rem;
  }

  .gameboard li:nth-child(4n + 3)::after {
    content: '';
    top: calc(var(--height) / 2);
    left: -3rem;
    border: var(--unit) solid transparent;
    border-right-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }
}

/* Three column layout */
@media (min-width: 1020px) and (max-width: 1249px) {
  .gameboard li {
    width: calc(33% - 2rem);
    min-height: 12rem;
  }

  .gameboard li:nth-child(6n + 4),
  .gameboard li:nth-child(6n + 5),
  .gameboard li:nth-child(6n + 6) {
    float: right;
  }

  /* Left connectors */
  .gameboard li:nth-child(6n + 1)::before,
  .gameboard li:nth-child(6n + 2)::before,
  .gameboard li:nth-child(6n + 1)::after,
  .gameboard li:nth-child(6n + 2)::after {
    content: '';
  }

  .gameboard li:nth-child(6n + 1)::before,
  .gameboard li:nth-child(6n + 2)::before {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: 100%;
  }

  .gameboard li:nth-child(6n + 1)::after,
  .gameboard li:nth-child(6n + 2)::after {
    top: calc(var(--height) / 2);
    left: calc(100% + var(--unit));
    border: var(--unit) solid transparent;
    border-left-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  /* Right connectors */
  .gameboard li:nth-child(6n + 4)::before,
  .gameboard li:nth-child(6n + 5)::before,
  .gameboard li:nth-child(6n + 4)::after,
  .gameboard li:nth-child(6n + 5)::after {
    content: '';
  }

  .gameboard li:nth-child(6n + 4)::before,
  .gameboard li:nth-child(6n + 5)::before {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: -1rem;
  }

  .gameboard li:nth-child(6n + 4)::after,
  .gameboard li:nth-child(6n + 5)::after {
    top: calc(var(--height) / 2);
    left: -3rem;
    border: var(--unit) solid transparent;
    border-right-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }
}

/* Four column layout */
@media (min-width: 1250px) and (max-width: 1549px) {
  .gameboard li {
    width: calc(25% - 2rem);
    min-height: 12rem;
  }

  .gameboard li:nth-child(8n + 5),
  .gameboard li:nth-child(8n + 6),
  .gameboard li:nth-child(8n + 7),
  .gameboard li:nth-child(8n + 8) {
    float: right;
  }

  /* Left connectors */
  .gameboard li:nth-child(8n + 1)::before,
  .gameboard li:nth-child(8n + 2)::before,
  .gameboard li:nth-child(8n + 3)::before,
  .gameboard li:nth-child(8n + 1)::after,
  .gameboard li:nth-child(8n + 2)::after,
  .gameboard li:nth-child(8n + 3)::after {
    content: '';
  }

  .gameboard li:nth-child(8n + 1)::before,
  .gameboard li:nth-child(8n + 2)::before,
  .gameboard li:nth-child(8n + 3)::before {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: 100%;
  }

  .gameboard li:nth-child(8n + 1)::after,
  .gameboard li:nth-child(8n + 2)::after,
  .gameboard li:nth-child(8n + 3)::after {
    top: calc(var(--height) / 2);
    left: calc(100% + var(--unit));
    border: var(--unit) solid transparent;
    border-left-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  /* Right connectors */
  .gameboard li:nth-child(8n + 5)::before,
  .gameboard li:nth-child(8n + 6)::before,
  .gameboard li:nth-child(8n + 7)::before,
  .gameboard li:nth-child(8n + 5)::after,
  .gameboard li:nth-child(8n + 6)::after,
  .gameboard li:nth-child(8n + 7)::after {
    content: '';
  }

  .gameboard li:nth-child(8n + 5)::before,
  .gameboard li:nth-child(8n + 6)::before,
  .gameboard li:nth-child(8n + 7)::before {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: -1rem;
  }

  .gameboard li:nth-child(8n + 5)::after,
  .gameboard li:nth-child(8n + 6)::after,
  .gameboard li:nth-child(8n + 7)::after {
    top: calc(var(--height) / 2);
    left: -3rem;
    border: var(--unit) solid transparent;
    border-right-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }
}

/* Six column layout */
@media (min-width: 1550px) {
  .gameboard ol {
    max-width: 1600px;
  }

  .gameboard li {
    width: calc(100% / 6 - 2rem);
    min-height: 12rem;
  }

  .gameboard li:nth-child(12n + 7),
  .gameboard li:nth-child(12n + 8),
  .gameboard li:nth-child(12n + 9),
  .gameboard li:nth-child(12n + 10),
  .gameboard li:nth-child(12n + 11),
  .gameboard li:nth-child(12n + 12) {
    float: right;
  }

  /* Left connectors */
  .gameboard li:nth-child(12n + 1)::before,
  .gameboard li:nth-child(12n + 2)::before,
  .gameboard li:nth-child(12n + 3)::before,
  .gameboard li:nth-child(12n + 4)::before,
  .gameboard li:nth-child(12n + 5)::before {
    content: '';
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: 100%;
  }

  .gameboard li:nth-child(12n + 1)::after,
  .gameboard li:nth-child(12n + 2)::after,
  .gameboard li:nth-child(12n + 3)::after,
  .gameboard li:nth-child(12n + 4)::after,
  .gameboard li:nth-child(12n + 5)::after {
    content: '';
    top: calc(var(--height) / 2);
    left: calc(100% + var(--unit));
    border: var(--unit) solid transparent;
    border-left-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }

  /* Right connectors */
  .gameboard li:nth-child(12n + 7)::before,
  .gameboard li:nth-child(12n + 8)::before,
  .gameboard li:nth-child(12n + 9)::before,
  .gameboard li:nth-child(12n + 10)::before,
  .gameboard li:nth-child(12n + 11)::before {
    content: '';
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.4) 0%, rgba(100, 116, 139, 0.3) 100%);
    border-radius: 2px;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    top: calc(var(--height) / 2 + var(--unit) / 2);
    left: -1rem;
  }

  .gameboard li:nth-child(12n + 7)::after,
  .gameboard li:nth-child(12n + 8)::after,
  .gameboard li:nth-child(12n + 9)::after,
  .gameboard li:nth-child(12n + 10)::after,
  .gameboard li:nth-child(12n + 11)::after {
    content: '';
    top: calc(var(--height) / 2);
    left: -3rem;
    border: var(--unit) solid transparent;
    border-right-color: rgba(148, 163, 184, 0.5);
    border-top-color: transparent;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.2));
  }
}

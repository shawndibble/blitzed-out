import{d as n}from"./index-Cr_Nb543.js";const{gameBoard:e}=n,u=()=>e.orderBy("title").toArray(),B=()=>e.where("isActive").equals(1).first()||{},d=async t=>await e.add(t),o=async(t,a)=>await e.update(t.id,{...t,...a}),A=async t=>{var s,r;const a={title:t.title===void 0?"":t.title,tiles:t.tiles,isActive:t.isActive===void 0?1:t.isActive,tags:t.tags||[],gameMode:t.gameMode||"online"};if(!((s=a==null?void 0:a.title)!=null&&s.length)&&((r=a==null?void 0:a.tiles)!=null&&r.length))return;const i=await e.where("title").equals(a.title).first();return n.transaction("rw",n.gameBoard,async()=>(a.isActive&&await c(),i?(await o(i,t),i.id):await d(a)))},g=async t=>{const i=(await e.toArray()).map(s=>({...s,isActive:s.id===t?1:0}));await e.bulkPut(i)},v=async t=>await e.delete(t),c=async()=>{await e.where("isActive").equals(1).modify({isActive:0})};export{o as a,g as b,u as c,v as d,B as g,A as u};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pwa-action-sheet.entry-DF6rV3Pd.js","assets/mui-DHsUyARS.js","assets/vendor-BqRCY_y4.js","assets/firebase-Bq5WjqAs.js","assets/translations-BGyRMCWP.js","assets/pwa-camera-modal.entry-DON_z3Xs.js","assets/pwa-toast.entry-DYE4g4_3.js","assets/pwa-camera-modal-instance.entry-BeRdOBXf.js","assets/pwa-camera.entry-BUWw92yG.js","assets/index-BaBV0p4G.js","assets/index-D1mI33Zi.js","assets/strings-CIxtenGy.js","assets/index-BjOFGoHl.css","assets/index-DgiZujdt.js","assets/index-0XjfPz8-.css","assets/index-DFZdwnk6.css","assets/index-BhZ_N-zB.js","assets/index-Bc0qcu8j.js","assets/index-DcstCv-s.js","assets/urls-BP4ggioV.js","assets/index-Bz1t0omY.css","assets/index-CuoQAgDj.js","assets/index-Bpn2TIi0.js","assets/useActionList-CWi5ya7m.js","assets/index-DKqE9Jrp.js","assets/index-CignLajt.css","assets/index-C4kPKWO2.js","assets/index-BXEF9wVK.css"])))=>i.map(i=>d[i]);
var Hb=Object.defineProperty;var Yb=(s,n,r)=>n in s?Hb(s,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[n]=r;var $h=(s,n,r)=>Yb(s,typeof n!="symbol"?n+"":n,r);import{_ as $b,u as Pb,a as Dg,j as ot,c as Vb,r as Fb,T as Kb,C as Gb}from"./mui-DHsUyARS.js";import{d as Qb,e as Xb,g as ha,r as at,f as Zb,h as Mg,u as Cd,B as Wb,i as Jb,j as Ph,N as e1,k as t1,l as n1,a as uv}from"./vendor-BqRCY_y4.js";import{L as i1,a as _e,_ as r1,C as a1,r as cv,s as un,j as Ad,c as ji,b as il,m as Tc,d as s1,S as l1,e as o1,f as $o,g as rl,h as u1,i as c1,D as oa,q as f1,k as h1,l as d1,n as sd,o as Rg,p as p1,t as Ja,u as m1,v as Hc,w as y1,x as v1,y as g1,z as _1,A as b1,B as S1,E as E1,F as T1,G as w1,H as Ng,I as On,J as Yc,K as es,M as x1,N as C1,O as Po,P as kg,Q as A1,R as O1,T as D1,U as M1,V as R1,W as Od,X as Dd,Y as Md,Z as N1,$ as k1,a0 as L1,a1 as U1,a2 as z1,a3 as j1,a4 as Lg,a5 as Ug,a6 as B1,a7 as zg}from"./firebase-Bq5WjqAs.js";import{i as wc,t as q1,a as I1}from"./translations-BGyRMCWP.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function r(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=r(o);fetch(o.href,h)}})();const H1="modulepreload",Y1=function(s){return"/"+s},fv={},ue=function(n,r,a){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));o=Promise.allSettled(r.map(g=>{if(g=Y1(g),g in fv)return;fv[g]=!0;const S=g.endsWith(".css"),x=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const A=document.createElement("link");if(A.rel=S?"stylesheet":H1,S||(A.as="script"),A.crossOrigin="",A.href=g,v&&A.setAttribute("nonce",v),document.head.appendChild(A),S)return new Promise((z,W)=>{A.addEventListener("load",z),A.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(p){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=p,window.dispatchEvent(v),!v.defaultPrevented)throw p}return o.then(p=>{for(const v of p||[])v.status==="rejected"&&h(v.reason);return n().catch(h)})};var $1=function(){var s=function(n,r){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])},s(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");s(n,r);function a(){this.constructor=n}n.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),jg=function(s,n,r,a){function o(h){return h instanceof r?h:new r(function(p){p(h)})}return new(r||(r=Promise))(function(h,p){function v(x){try{S(a.next(x))}catch(A){p(A)}}function g(x){try{S(a.throw(x))}catch(A){p(A)}}function S(x){x.done?h(x.value):o(x.value).then(v,g)}S((a=a.apply(s,n||[])).next())})},Bg=function(s,n){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,o,h,p;return p={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function v(S){return function(x){return g([S,x])}}function g(S){if(a)throw new TypeError("Generator is already executing.");for(;p&&(p=0,S[0]&&(r=0)),r;)try{if(a=1,o&&(h=S[0]&2?o.return:S[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,S[1])).done)return h;switch(o=0,h&&(S=[S[0]&2,h.value]),S[0]){case 0:case 1:h=S;break;case 4:return r.label++,{value:S[1],done:!1};case 5:r.label++,o=S[1],S=[0];continue;case 7:S=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(S[0]===6||S[0]===2)){r=0;continue}if(S[0]===3&&(!h||S[1]>h[0]&&S[1]<h[3])){r.label=S[1];break}if(S[0]===6&&r.label<h[1]){r.label=h[1],h=S;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(S);break}h[2]&&r.ops.pop(),r.trys.pop();continue}S=n.call(s,r)}catch(x){S=[6,x],o=0}finally{a=h=0}if(S[0]&5)throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}},hv=function(s,n,r){if(r||arguments.length===2)for(var a=0,o=n.length,h;a<o;a++)(h||!(a in n))&&(h||(h=Array.prototype.slice.call(n,0,a)),h[a]=n[a]);return s.concat(h||Array.prototype.slice.call(n))},P1="ionicpwaelements",hc,qg,Kn=!1,ld=!1,mr=function(s,n){return function(){}},V1=function(s,n){return function(){}},F1="{visibility:hidden}.hydrated{visibility:inherit}",dv={},K1="http://www.w3.org/2000/svg",G1="http://www.w3.org/1999/xhtml",Q1=function(s){return s!=null},Rd=function(s){return s=typeof s,s==="object"||s==="function"};function Ig(s){var n,r,a;return(a=(r=(n=s.head)===null||n===void 0?void 0:n.querySelector('meta[name="csp-nonce"]'))===null||r===void 0?void 0:r.getAttribute("content"))!==null&&a!==void 0?a:void 0}var X1=function(s,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=null,h=!1,p=!1,v=[],g=function(A){for(var z=0;z<A.length;z++)o=A[z],Array.isArray(o)?g(o):o!=null&&typeof o!="boolean"&&((h=typeof s!="function"&&!Rd(o))&&(o=String(o)),h&&p?v[v.length-1].$text$+=o:v.push(h?od(null,o):o),p=h)};if(g(r),n){var S=n.className||n.class;S&&(n.class=typeof S!="object"?S:Object.keys(S).filter(function(A){return S[A]}).join(" "))}var x=od(s,null);return x.$attrs$=n,v.length>0&&(x.$children$=v),x},od=function(s,n){var r={$flags$:0,$tag$:s,$text$:n,$elm$:null,$children$:null};return r.$attrs$=null,r},Z1={},W1=function(s){return s&&s.$tag$===Z1},J1=function(s,n){return s!=null&&!Rd(s)?n&4?s==="false"?!1:s===""||!!s:n&2?parseFloat(s):n&1?String(s):s:s},eS=function(s){return da(s).$hostElement$},ZC=function(s,n,r){var a=eS(s);return{emit:function(o){return Hg(a,n,{bubbles:!0,composed:!0,cancelable:!0,detail:o})}}},Hg=function(s,n,r){var a=on.ce(n,r);return s.dispatchEvent(a),a},pv=new WeakMap,tS=function(s,n,r){var a=xc.get(s);wS&&r?(a=a||new CSSStyleSheet,typeof a=="string"?a=n:a.replaceSync(n)):a=n,xc.set(s,a)},nS=function(s,n,r,a){var o,h=Yg(n),p=xc.get(h);if(s=s.nodeType===11?s:yi,p)if(typeof p=="string"){s=s.head||s;var v=pv.get(s),g=void 0;if(v||pv.set(s,v=new Set),!v.has(h)){{g=yi.createElement("style"),g.innerHTML=p;var S=(o=on.$nonce$)!==null&&o!==void 0?o:Ig(yi);S!=null&&g.setAttribute("nonce",S),s.insertBefore(g,s.querySelector("link"))}v&&v.add(h)}}else s.adoptedStyleSheets.includes(p)||(s.adoptedStyleSheets=hv(hv([],s.adoptedStyleSheets,!0),[p],!1));return h},iS=function(s){var n=s.$cmpMeta$,r=s.$hostElement$,a=n.$flags$,o=mr("attachStyles",n.$tagName$),h=nS(r.shadowRoot?r.shadowRoot:r.getRootNode(),n);a&10&&(r["s-sc"]=h,r.classList.add(h+"-h")),o()},Yg=function(s,n){return"sc-"+s.$tagName$},mv=function(s,n,r,a,o,h){if(r!==a){var p=vv(s,n),v=n.toLowerCase();if(n==="class"){var g=s.classList,S=yv(r),x=yv(a);g.remove.apply(g,S.filter(function(le){return le&&!x.includes(le)})),g.add.apply(g,x.filter(function(le){return le&&!S.includes(le)}))}else if(n==="style"){for(var A in r)(!a||a[A]==null)&&(A.includes("-")?s.style.removeProperty(A):s.style[A]="");for(var A in a)(!r||a[A]!==r[A])&&(A.includes("-")?s.style.setProperty(A,a[A]):s.style[A]=a[A])}else if(n==="ref")a&&a(s);else if(!p&&n[0]==="o"&&n[1]==="n")n[2]==="-"?n=n.slice(3):vv(Pc,v)?n=v.slice(2):n=v[2]+n.slice(3),r&&on.rel(s,n,r,!1),a&&on.ael(s,n,a,!1);else{var z=Rd(a);if((p||z&&a!==null)&&!o)try{if(s.tagName.includes("-"))s[n]=a;else{var W=a??"";n==="list"?p=!1:(r==null||s[n]!=W)&&(s[n]=W)}}catch{}a==null||a===!1?(a!==!1||s.getAttribute(n)==="")&&s.removeAttribute(n):(!p||h&4||o)&&!z&&(a=a===!0?"":a,s.setAttribute(n,a))}}},rS=/\s/,yv=function(s){return s?s.split(rS):[]},$g=function(s,n,r,a){var o=n.$elm$.nodeType===11&&n.$elm$.host?n.$elm$.host:n.$elm$,h=s&&s.$attrs$||dv,p=n.$attrs$||dv;for(a in h)a in p||mv(o,a,h[a],void 0,r,n.$flags$);for(a in p)mv(o,a,h[a],p[a],r,n.$flags$)},Nd=function(s,n,r,a){var o=n.$children$[r],h=0,p,v;if(o.$text$!==null)p=o.$elm$=yi.createTextNode(o.$text$);else{if(Kn||(Kn=o.$tag$==="svg"),p=o.$elm$=yi.createElementNS(Kn?K1:G1,o.$tag$),Kn&&o.$tag$==="foreignObject"&&(Kn=!1),$g(null,o,Kn),Q1(hc)&&p["s-si"]!==hc&&p.classList.add(p["s-si"]=hc),o.$children$)for(h=0;h<o.$children$.length;++h)v=Nd(s,o,h),v&&p.appendChild(v);o.$tag$==="svg"?Kn=!1:p.tagName==="foreignObject"&&(Kn=!0)}return p},Pg=function(s,n,r,a,o,h){var p=s,v;for(p.shadowRoot&&p.tagName===qg&&(p=p.shadowRoot);o<=h;++o)a[o]&&(v=Nd(null,r,o),v&&(a[o].$elm$=v,p.insertBefore(v,n)))},Vg=function(s,n,r){for(var a=n;a<=r;++a){var o=s[a];if(o){var h=o.$elm$;Fg(o),h&&h.remove()}}},aS=function(s,n,r,a){for(var o=0,h=0,p=n.length-1,v=n[0],g=n[p],S=a.length-1,x=a[0],A=a[S],z;o<=p&&h<=S;)v==null?v=n[++o]:g==null?g=n[--p]:x==null?x=a[++h]:A==null?A=a[--S]:oc(v,x)?(Do(v,x),v=n[++o],x=a[++h]):oc(g,A)?(Do(g,A),g=n[--p],A=a[--S]):oc(v,A)?(Do(v,A),s.insertBefore(v.$elm$,g.$elm$.nextSibling),v=n[++o],A=a[--S]):oc(g,x)?(Do(g,x),s.insertBefore(g.$elm$,v.$elm$),g=n[--p],x=a[++h]):(z=Nd(n&&n[h],r,h),x=a[++h],z&&v.$elm$.parentNode.insertBefore(z,v.$elm$));o>p?Pg(s,a[S+1]==null?null:a[S+1].$elm$,r,a,h,S):h>S&&Vg(n,o,p)},oc=function(s,n){return s.$tag$===n.$tag$},Do=function(s,n){var r=n.$elm$=s.$elm$,a=s.$children$,o=n.$children$,h=n.$tag$,p=n.$text$;p===null?(Kn=h==="svg"?!0:h==="foreignObject"?!1:Kn,$g(s,n,Kn),a!==null&&o!==null?aS(r,a,n,o):o!==null?(s.$text$!==null&&(r.textContent=""),Pg(r,null,n,o,0,o.length-1)):a!==null&&Vg(a,0,a.length-1),Kn&&h==="svg"&&(Kn=!1)):s.$text$!==p&&(r.data=p)},Fg=function(s){s.$attrs$&&s.$attrs$.ref&&s.$attrs$.ref(null),s.$children$&&s.$children$.map(Fg)},sS=function(s,n){var r=s.$hostElement$,a=s.$vnode$||od(null,null),o=W1(n)?n:X1(null,null,n);qg=r.tagName,o.$tag$=null,o.$flags$|=4,s.$vnode$=o,o.$elm$=a.$elm$=r.shadowRoot||r,hc=r["s-sc"],Do(a,o)},Kg=function(s,n){n&&!s.$onRenderResolve$&&n["s-p"]&&n["s-p"].push(new Promise(function(r){return s.$onRenderResolve$=r}))},$c=function(s,n){if(s.$flags$|=16,s.$flags$&4){s.$flags$|=512;return}Kg(s,s.$ancestorComponent$);var r=function(){return lS(s,n)};return CS(r)},lS=function(s,n){var r=mr("scheduleUpdate",s.$cmpMeta$.$tagName$),a=s.$lazyInstance$,o;return n&&(s.$flags$|=256,s.$queuedListeners$&&(s.$queuedListeners$.map(function(h){var p=h[0],v=h[1];return kd(a,p,v)}),s.$queuedListeners$=void 0)),r(),oS(o,function(){return cS(s,a,n)})},oS=function(s,n){return uS(s)?s.then(n):n()},uS=function(s){return s instanceof Promise||s&&s.then&&typeof s.then=="function"},cS=function(s,n,r){return jg(void 0,void 0,void 0,function(){var a,o,h,p,v,g,S;return Bg(this,function(x){return o=s.$hostElement$,h=mr("update",s.$cmpMeta$.$tagName$),p=o["s-rc"],r&&iS(s),v=mr("render",s.$cmpMeta$.$tagName$),fS(s,n),p&&(p.map(function(A){return A()}),o["s-rc"]=void 0),v(),h(),g=(a=o["s-p"])!==null&&a!==void 0?a:[],S=function(){return hS(s)},g.length===0?S():(Promise.all(g).then(S),s.$flags$|=4,g.length=0),[2]})})},fS=function(s,n,r){try{n=n.render(),s.$flags$&=-17,s.$flags$|=2,sS(s,n)}catch(a){pi(a,s.$hostElement$)}return null},hS=function(s){s.$cmpMeta$.$tagName$;var n=s.$hostElement$,r=mr(),a=s.$lazyInstance$,o=s.$ancestorComponent$;s.$flags$&64?r():(s.$flags$|=64,Qg(n),kd(a,"componentDidLoad"),r(),s.$onReadyResolve$(n),o||Gg()),s.$onInstanceResolve$(n),s.$onRenderResolve$&&(s.$onRenderResolve$(),s.$onRenderResolve$=void 0),s.$flags$&512&&Ud(function(){return $c(s,!1)}),s.$flags$&=-517},WC=function(s){{var n=da(s),r=n.$hostElement$.isConnected;return r&&(n.$flags$&18)===2&&$c(n,!1),r}},Gg=function(s){Qg(yi.documentElement),Ud(function(){return Hg(Pc,"appload",{detail:{namespace:P1}})})},kd=function(s,n,r){if(s&&s[n])try{return s[n](r)}catch(a){pi(a)}},Qg=function(s){return s.classList.add("hydrated")},dS=function(s,n){return da(s).$instanceValues$.get(n)},pS=function(s,n,r,a){var o=da(s),h=o.$instanceValues$.get(n),p=o.$flags$,v=o.$lazyInstance$;r=J1(r,a.$members$[n][0]);var g=Number.isNaN(h)&&Number.isNaN(r),S=r!==h&&!g;(!(p&8)||h===void 0)&&S&&(o.$instanceValues$.set(n,r),v&&(p&18)===2&&$c(o,!1))},Xg=function(s,n,r){if(n.$members$){var a=Object.entries(n.$members$),o=s.prototype;if(a.map(function(p){var v=p[0],g=p[1][0];g&31||r&2&&g&32?Object.defineProperty(o,v,{get:function(){return dS(this,v)},set:function(S){pS(this,v,S,n)},configurable:!0,enumerable:!0}):r&1&&g&64&&Object.defineProperty(o,v,{value:function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];var A=da(this);return A.$onInstancePromise$.then(function(){var z;return(z=A.$lazyInstance$)[v].apply(z,S)})}})}),r&1){var h=new Map;o.attributeChangedCallback=function(p,v,g){var S=this;on.jmp(function(){var x=h.get(p);if(S.hasOwnProperty(x))g=S[x],delete S[x];else if(o.hasOwnProperty(x)&&typeof S[x]=="number"&&S[x]==g)return;S[x]=g===null&&typeof S[x]=="boolean"?!1:g})},s.observedAttributes=a.filter(function(p){p[0];var v=p[1];return v[0]&15}).map(function(p){var v=p[0],g=p[1],S=g[1]||v;return h.set(S,v),S})}}return s},mS=function(s,n,r,a,o){return jg(void 0,void 0,void 0,function(){var h,p,v,g,S,x,A;return Bg(this,function(z){switch(z.label){case 0:return(n.$flags$&32)!==0?[3,3]:(n.$flags$|=32,o=TS(r),o.then?(h=V1(),[4,o]):[3,2]);case 1:o=z.sent(),h(),z.label=2;case 2:o.isProxied||(Xg(o,r,2),o.isProxied=!0),p=mr("createInstance",r.$tagName$),n.$flags$|=8;try{new o(n)}catch(W){pi(W)}n.$flags$&=-9,p(),o.style&&(v=o.style,g=Yg(r),xc.has(g)||(S=mr("registerStyles",r.$tagName$),tS(g,v,!!(r.$flags$&1)),S())),z.label=3;case 3:return x=n.$ancestorComponent$,A=function(){return $c(n,!0)},x&&x["s-rc"]?x["s-rc"].push(A):A(),[2]}})})},yS=function(s){if((on.$flags$&1)===0){var n=da(s),r=n.$cmpMeta$,a=mr("connectedCallback",r.$tagName$);if(n.$flags$&1)Zg(s,n,r.$listeners$);else{n.$flags$|=1;for(var o=s;o=o.parentNode||o.host;)if(o["s-p"]){Kg(n,n.$ancestorComponent$=o);break}r.$members$&&Object.entries(r.$members$).map(function(h){var p=h[0],v=h[1][0];if(v&31&&s.hasOwnProperty(p)){var g=s[p];delete s[p],s[p]=g}}),mS(s,n,r)}a()}},vS=function(s){if((on.$flags$&1)===0){var n=da(s),r=n.$lazyInstance$;n.$rmListeners$&&(n.$rmListeners$.map(function(a){return a()}),n.$rmListeners$=void 0),kd(r,"disconnectedCallback")}},gS=function(s,n){n===void 0&&(n={});var r,a=mr(),o=[],h=n.exclude||[],p=Pc.customElements,v=yi.head,g=v.querySelector("meta[charset]"),S=yi.createElement("style"),x=[],A,z=!0;Object.assign(on,n),on.$resourcesUrl$=new URL(n.resourcesUrl||"./",yi.baseURI).href,s.map(function(le){le[1].map(function(xe){var ve={$flags$:xe[0],$tagName$:xe[1],$members$:xe[2],$listeners$:xe[3]};ve.$members$=xe[2],ve.$listeners$=xe[3];var Le=ve.$tagName$,He=function(Ce){$1(Ge,Ce);function Ge(we){var H=Ce.call(this,we)||this;return we=H,ES(we,ve),ve.$flags$&1&&we.attachShadow({mode:"open"}),H}return Ge.prototype.connectedCallback=function(){var we=this;A&&(clearTimeout(A),A=null),z?x.push(this):on.jmp(function(){return yS(we)})},Ge.prototype.disconnectedCallback=function(){var we=this;on.jmp(function(){return vS(we)})},Ge.prototype.componentOnReady=function(){return da(this).$onReadyPromise$},Ge}(HTMLElement);ve.$lazyBundleId$=le[0],!h.includes(Le)&&!p.get(Le)&&(o.push(Le),p.define(Le,Xg(He,ve,1)))})});{S.innerHTML=o+F1,S.setAttribute("data-styles","");var W=(r=on.$nonce$)!==null&&r!==void 0?r:Ig(yi);W!=null&&S.setAttribute("nonce",W),v.insertBefore(S,g?g.nextSibling:v.firstChild)}z=!1,x.length?x.map(function(le){return le.connectedCallback()}):on.jmp(function(){return A=setTimeout(Gg,30)}),a()},Zg=function(s,n,r,a){r&&r.map(function(o){var h=o[0],p=o[1],v=o[2],g=bS(s,h),S=_S(n,v),x=SS(h);on.ael(g,p,S,x),(n.$rmListeners$=n.$rmListeners$||[]).push(function(){return on.rel(g,p,S,x)})})},_S=function(s,n){return function(r){try{s.$flags$&256?s.$lazyInstance$[n](r):(s.$queuedListeners$=s.$queuedListeners$||[]).push([n,r])}catch(a){pi(a)}}},bS=function(s,n){return n&16?yi.body:s},SS=function(s){return(s&2)!==0},Ld=new WeakMap,da=function(s){return Ld.get(s)},JC=function(s,n){return Ld.set(n.$lazyInstance$=s,n)},ES=function(s,n){var r={$flags$:0,$hostElement$:s,$cmpMeta$:n,$instanceValues$:new Map};return r.$onInstancePromise$=new Promise(function(a){return r.$onInstanceResolve$=a}),r.$onReadyPromise$=new Promise(function(a){return r.$onReadyResolve$=a}),s["s-p"]=[],s["s-rc"]=[],Zg(s,r,n.$listeners$),Ld.set(s,r)},vv=function(s,n){return n in s},pi=function(s,n){return(0,console.error)(s,n)},Vh=new Map,TS=function(s,n,r){var a=s.$tagName$.replace(/-/g,"_"),o=s.$lazyBundleId$,h=Vh.get(o);if(h)return h[a];{var p=function(v){return Vh.set(o,v),v[a]};switch(o){case"pwa-action-sheet":return ue(()=>import("./pwa-action-sheet.entry-DF6rV3Pd.js"),__vite__mapDeps([0,1,2,3,4])).then(p,pi);case"pwa-camera-modal":return ue(()=>import("./pwa-camera-modal.entry-DON_z3Xs.js"),__vite__mapDeps([5,1,2,3,4])).then(p,pi);case"pwa-toast":return ue(()=>import("./pwa-toast.entry-DYE4g4_3.js"),__vite__mapDeps([6,1,2,3,4])).then(p,pi);case"pwa-camera-modal-instance":return ue(()=>import("./pwa-camera-modal-instance.entry-BeRdOBXf.js"),__vite__mapDeps([7,1,2,3,4])).then(p,pi);case"pwa-camera":return ue(()=>import("./pwa-camera.entry-BUWw92yG.js"),__vite__mapDeps([8,1,2,3,4])).then(p,pi)}}return ue(()=>import("./".concat(o,".entry.js").concat("")),[]).then(function(v){return Vh.set(o,v),v[a]},pi)},xc=new Map,Pc=typeof window<"u"?window:{},yi=Pc.document||{head:{}},on={$flags$:0,$resourcesUrl$:"",jmp:function(s){return s()},raf:function(s){return requestAnimationFrame(s)},ael:function(s,n,r,a){return s.addEventListener(n,r,a)},rel:function(s,n,r,a){return s.removeEventListener(n,r,a)},ce:function(s,n){return new CustomEvent(s,n)}},Wg=function(s){return Promise.resolve(s)},wS=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),gv=[],Jg=[],xS=function(s,n){return function(r){s.push(r),ld||(ld=!0,on.$flags$&4?Ud(ud):on.raf(ud))}},_v=function(s){for(var n=0;n<s.length;n++)try{s[n](performance.now())}catch(r){pi(r)}s.length=0},ud=function(){_v(gv),_v(Jg),(ld=gv.length>0)&&on.raf(ud)},Ud=function(s){return Wg().then(s)},CS=xS(Jg),AS=function(){return Wg()},OS=function(s,n){return typeof window>"u"?Promise.resolve():AS().then(function(){return gS([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],n)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var s=HTMLElement;window.HTMLElement=function(){return Reflect.construct(s,[],this.constructor)},HTMLElement.prototype=s.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,s)}})();var Fh={exports:{}},To={},Kh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function DS(){return bv||(bv=1,function(s){function n(M,Q){var Z=M.length;M.push(Q);e:for(;0<Z;){var ae=Z-1>>>1,me=M[ae];if(0<o(me,Q))M[ae]=Q,M[Z]=me,Z=ae;else break e}}function r(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var Q=M[0],Z=M.pop();if(Z!==Q){M[0]=Z;e:for(var ae=0,me=M.length,Me=me>>>1;ae<Me;){var Ue=2*(ae+1)-1,Ne=M[Ue],Fe=Ue+1,rt=M[Fe];if(0>o(Ne,Z))Fe<me&&0>o(rt,Ne)?(M[ae]=rt,M[Fe]=Z,ae=Fe):(M[ae]=Ne,M[Ue]=Z,ae=Ue);else if(Fe<me&&0>o(rt,Z))M[ae]=rt,M[Fe]=Z,ae=Fe;else break e}}return Q}function o(M,Q){var Z=M.sortIndex-Q.sortIndex;return Z!==0?Z:M.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var p=Date,v=p.now();s.unstable_now=function(){return p.now()-v}}var g=[],S=[],x=1,A=null,z=3,W=!1,le=!1,xe=!1,ve=!1,Le=typeof setTimeout=="function"?setTimeout:null,He=typeof clearTimeout=="function"?clearTimeout:null,Ce=typeof setImmediate<"u"?setImmediate:null;function Ge(M){for(var Q=r(S);Q!==null;){if(Q.callback===null)a(S);else if(Q.startTime<=M)a(S),Q.sortIndex=Q.expirationTime,n(g,Q);else break;Q=r(S)}}function we(M){if(xe=!1,Ge(M),!le)if(r(g)!==null)le=!0,H||(H=!0,Oe());else{var Q=r(S);Q!==null&&oe(we,Q.startTime-M)}}var H=!1,J=-1,ge=5,fe=-1;function be(){return ve?!0:!(s.unstable_now()-fe<ge)}function ee(){if(ve=!1,H){var M=s.unstable_now();fe=M;var Q=!0;try{e:{le=!1,xe&&(xe=!1,He(J),J=-1),W=!0;var Z=z;try{t:{for(Ge(M),A=r(g);A!==null&&!(A.expirationTime>M&&be());){var ae=A.callback;if(typeof ae=="function"){A.callback=null,z=A.priorityLevel;var me=ae(A.expirationTime<=M);if(M=s.unstable_now(),typeof me=="function"){A.callback=me,Ge(M),Q=!0;break t}A===r(g)&&a(g),Ge(M)}else a(g);A=r(g)}if(A!==null)Q=!0;else{var Me=r(S);Me!==null&&oe(we,Me.startTime-M),Q=!1}}break e}finally{A=null,z=Z,W=!1}Q=void 0}}finally{Q?Oe():H=!1}}}var Oe;if(typeof Ce=="function")Oe=function(){Ce(ee)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ce=re.port2;re.port1.onmessage=ee,Oe=function(){ce.postMessage(null)}}else Oe=function(){Le(ee,0)};function oe(M,Q){J=Le(function(){M(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_next=function(M){switch(z){case 1:case 2:case 3:var Q=3;break;default:Q=z}var Z=z;z=Q;try{return M()}finally{z=Z}},s.unstable_requestPaint=function(){ve=!0},s.unstable_runWithPriority=function(M,Q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Z=z;z=M;try{return Q()}finally{z=Z}},s.unstable_scheduleCallback=function(M,Q,Z){var ae=s.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ae+Z:ae):Z=ae,M){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Z+me,M={id:x++,callback:Q,priorityLevel:M,startTime:Z,expirationTime:me,sortIndex:-1},Z>ae?(M.sortIndex=Z,n(S,M),r(g)===null&&M===r(S)&&(xe?(He(J),J=-1):xe=!0,oe(we,Z-ae))):(M.sortIndex=me,n(g,M),le||W||(le=!0,H||(H=!0,Oe()))),M},s.unstable_shouldYield=be,s.unstable_wrapCallback=function(M){var Q=z;return function(){var Z=z;z=Q;try{return M.apply(this,arguments)}finally{z=Z}}}}(Gh)),Gh}var Sv;function MS(){return Sv||(Sv=1,Kh.exports=DS()),Kh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function RS(){if(Ev)return To;Ev=1;var s=MS(),n=Qb(),r=Xb();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function g(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,l=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return v(c),e;if(d===l)return v(c),t;d=d.sibling}throw Error(a(188))}if(i.return!==l.return)i=c,l=d;else{for(var _=!1,T=c.child;T;){if(T===i){_=!0,i=c,l=d;break}if(T===l){_=!0,l=c,i=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===i){_=!0,i=d,l=c;break}if(T===l){_=!0,l=d,i=c;break}T=T.sibling}if(!_)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,A=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),xe=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Le=Symbol.for("react.provider"),He=Symbol.for("react.consumer"),Ce=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var re=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===re?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case ve:return"Profiler";case xe:return"StrictMode";case we:return"Suspense";case H:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case Ce:return(e.displayName||"Context")+".Provider";case He:return(e._context.displayName||"Context")+".Consumer";case Ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}var oe=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ae=[],me=-1;function Me(e){return{current:e}}function Ue(e){0>me||(e.current=ae[me],ae[me]=null,me--)}function Ne(e,t){me++,ae[me]=e.current,e.current=t}var Fe=Me(null),rt=Me(null),At=Me(null),Xt=Me(null);function Dn(e,t){switch(Ne(At,t),Ne(rt,e),Ne(Fe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jy(t),e=By(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ue(Fe),Ne(Fe,e)}function Ae(){Ue(Fe),Ue(rt),Ue(At)}function Ot(e){e.memoizedState!==null&&Ne(Xt,e);var t=Fe.current,i=By(t,e.type);t!==i&&(Ne(rt,e),Ne(Fe,i))}function kt(e){rt.current===e&&(Ue(Fe),Ue(rt)),Xt.current===e&&(Ue(Xt),go._currentValue=Z)}var Ke=Object.prototype.hasOwnProperty,Zt=s.unstable_scheduleCallback,_i=s.unstable_cancelCallback,Mn=s.unstable_shouldYield,ma=s.unstable_requestPaint,mn=s.unstable_now,ya=s.unstable_getCurrentPriorityLevel,br=s.unstable_ImmediatePriority,va=s.unstable_UserBlockingPriority,En=s.unstable_NormalPriority,Xo=s.unstable_LowPriority,Sr=s.unstable_IdlePriority,Zo=s.log,ga=s.unstable_setDisableYieldValue,jn=null,zt=null;function Gn(e){if(typeof Zo=="function"&&ga(e),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(jn,e)}catch{}}var Kt=Math.clz32?Math.clz32:Bi,hl=Math.log,is=Math.LN2;function Bi(e){return e>>>=0,e===0?32:31-(hl(e)/is|0)|0}var qi=256,Er=4194304;function yn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,i){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?c=yn(l):(_&=T,_!==0?c=yn(_):i||(i=T&~e,i!==0&&(c=yn(i))))):(T=l&~d,T!==0?c=yn(T):_!==0?c=yn(_):i||(i=l&~e,i!==0&&(c=yn(i)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:c}function oi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ii(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var e=qi;return qi<<=1,(qi&4194048)===0&&(qi=256),e}function Te(){var e=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),e}function ba(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Tr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function dl(e,t,i,l,c,d){var _=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var T=e.entanglements,O=e.expirationTimes,P=e.hiddenUpdates;for(i=_&~i;0<i;){var ne=31-Kt(i),se=1<<ne;T[ne]=0,O[ne]=-1;var F=P[ne];if(F!==null)for(P[ne]=null,ne=0;ne<F.length;ne++){var K=F[ne];K!==null&&(K.lane&=-536870913)}i&=~se}l!==0&&pl(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~t))}function pl(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Kt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194090}function rs(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Kt(i),c=1<<l;c&t|e[l]&t&&(e[l]|=t),i&=~c}}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hi(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:iv(e.type))}function wr(e,t){var i=Q.p;try{return Q.p=e,t()}finally{Q.p=i}}var Qn=Math.random().toString(36).slice(2),jt="__reactFiber$"+Qn,Qe="__reactProps$"+Qn,Tt="__reactContainer$"+Qn,vl="__reactEvents$"+Qn,as="__reactListeners$"+Qn,ss="__reactHandles$"+Qn,Sa="__reactResources$"+Qn,Ea="__reactMarker$"+Qn;function Xn(e){delete e[jt],delete e[Qe],delete e[vl],delete e[as],delete e[ss]}function Bn(e){var t=e[jt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Tt]||i[jt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=Yy(e);e!==null;){if(i=e[jt])return i;e=Yy(e)}return t}e=i,i=e.parentNode}return null}function Tn(e){if(e=e[jt]||e[Tt]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function bi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function xr(e){var t=e[Sa];return t||(t=e[Sa]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function gt(e){e[Ea]=!0}var gl=new Set,Si={};function Ei(e,t){Ti(e,t),Ti(e+"Capture",t)}function Ti(e,t){for(Si[e]=t,e=0;e<t.length;e++)gl.add(t[e])}var Mt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wi={},Zn={};function Wo(e){return Ke.call(Zn,e)?!0:Ke.call(wi,e)?!1:Mt.test(e)?Zn[e]=!0:(wi[e]=!0,!1)}function ui(e,t,i){if(Wo(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Yi(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function qn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}var Ta,xi;function $i(e){if(Ta===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ta=t&&t[1]||"",xi=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+e+xi}var Cr=!1;function ls(e,t){if(!e||Cr)return"";Cr=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(K){var F=K}Reflect.construct(e,[],se)}else{try{se.call()}catch(K){F=K}e.call(se.prototype)}}else{try{throw Error()}catch(K){F=K}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var O=_.split(`
`),P=T.split(`
`);for(c=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===O.length||c===P.length)for(l=O.length-1,c=P.length-1;1<=l&&0<=c&&O[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(O[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||O[l]!==P[c]){var ne=`
`+O[l].replace(" at new "," at ");return e.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",e.displayName)),ne}while(1<=l&&0<=c);break}}}finally{Cr=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?$i(i):""}function tt(e){switch(e.tag){case 26:case 27:case 5:return $i(e.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return $i("Activity");default:return""}}function _l(e){try{var t="";do t+=tt(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bl(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _t(e){var t=bl(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ci(e){e._valueTracker||(e._valueTracker=_t(e))}function Ar(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=bl(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Sl=/[\n"\\]/g;function vn(e){return e.replace(Sl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Or(e,t,i,l,c,d,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?Dr(e,_,wn(t)):i!=null?Dr(e,_,wn(i)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+wn(T):e.removeAttribute("name")}function El(e,t,i,l,c,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;i=i!=null?""+wn(i):"",t=t!=null?""+wn(t):i,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Dr(e,t,i){t==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Pi(e,t,i,l){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+wn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Mr(e,t,i){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+wn(i):""}function Tl(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(a(92));if(oe(l)){if(1<l.length)throw Error(a(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=wn(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function Rr(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var st=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function os(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||st.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Jo(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&i[c]!==l&&os(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&os(e,d,t[d])}function wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(e){return Nr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Wn=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,wt=null;function In(e){var t=Tn(e);if(t&&(e=t.stateNode)){var i=e[Qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Or(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+vn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var c=l[Qe]||null;if(!c)throw Error(a(90));Or(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&Ar(l)}break e;case"textarea":Mr(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Pi(e,!!i.multiple,t,!1)}}}var Ki=!1;function kr(e,t,i){if(Ki)return e(t,i);Ki=!0;try{var l=e(t);return l}finally{if(Ki=!1,(Fi!==null||wt!==null)&&(Hu(),Fi&&(t=Fi,e=wt,wt=Fi=null,In(t),e)))for(t=0;t<e.length;t++)In(e[t])}}function Gi(e,t){var i=e.stateNode;if(i===null)return null;var l=i[Qe]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xl=!1;if(Wt)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){xl=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{xl=!1}var Jn=null,cs=null,Lr=null;function Ur(){if(Lr)return Lr;var e,t=cs,i=t.length,l,c="value"in Jn?Jn.value:Jn.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var _=i-e;for(l=1;l<=_&&t[i-l]===c[d-l];l++);return Lr=c.slice(e,1<l?1-l:void 0)}function zr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wa(){return!0}function eu(){return!1}function Yt(e){function t(i,l,c,d,_){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(i=e[T],this[T]=i?i(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?wa:eu,this.isPropagationStopped=eu,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=wa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=wa)},persist:function(){},isPersistent:wa}),t}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Yt(Qi),Ai=x({},Qi,{view:0,detail:0}),hs=Yt(Ai),xa,Cl,Ca,ds=x({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ca&&(Ca&&e.type==="mousemove"?(xa=e.screenX-Ca.screenX,Cl=e.screenY-Ca.screenY):Cl=xa=0,Ca=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:Cl}}),ps=Yt(ds),Al=x({},ds,{dataTransfer:0}),tu=Yt(Al),ms=x({},Ai,{relatedTarget:0}),jr=Yt(ms),ys=x({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Yt(ys),nf=x({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vs=Yt(nf),Ol=x({},Qi,{data:0}),gs=Yt(Ol),Dl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ml={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Aa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jt[e])?!!t[e]:!1}function Xi(){return Aa}var iu=x({},Ai,{key:function(e){if(e.key){var t=Dl[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ml[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?zr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_s=Yt(iu),ru=x({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Yt(ru),bs=x({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),Nl=Yt(bs),Zi=x({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kl=Yt(Zi),Ll=x({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ss=Yt(Ll),Ul=x({},Qi,{newState:0,oldState:0}),au=Yt(Ul),rf=[9,13,27,32],Oa=Wt&&"CompositionEvent"in window,Oi=null;Wt&&"documentMode"in document&&(Oi=document.documentMode);var af=Wt&&"TextEvent"in window&&!Oi,Es=Wt&&(!Oa||Oi&&8<Oi&&11>=Oi),Ts=" ",su=!1;function zl(e,t){switch(e){case"keyup":return rf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function ou(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(su=!0,Ts);case"textInput":return e=t.data,e===Ts&&su?null:e;default:return null}}function sf(e,t){if(Wi)return e==="compositionend"||!Oa&&zl(e,t)?(e=Ur(),Lr=cs=Jn=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Es&&t.locale!=="ko"?null:t.data;default:return null}}var uu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ws(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uu[e.type]:t==="textarea"}function jl(e,t,i,l){Fi?wt?wt.push(l):wt=[l]:Fi=l,t=Ku(t,"onChange"),0<t.length&&(i=new fs("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var Br=null,Da=null;function lf(e){Ny(e,0)}function xs(e){var t=bi(e);if(Ar(t))return e}function Ma(e,t){if(e==="change")return t}var ei=!1;if(Wt){var xt;if(Wt){var qr="oninput"in document;if(!qr){var Cn=document.createElement("div");Cn.setAttribute("oninput","return;"),qr=typeof Cn.oninput=="function"}xt=qr}else xt=!1;ei=xt&&(!document.documentMode||9<document.documentMode)}function cu(){Br&&(Br.detachEvent("onpropertychange",Cs),Da=Br=null)}function Cs(e){if(e.propertyName==="value"&&xs(Da)){var t=[];jl(t,Da,e,us(e)),kr(lf,t)}}function fu(e,t,i){e==="focusin"?(cu(),Br=t,Da=i,Br.attachEvent("onpropertychange",Cs)):e==="focusout"&&cu()}function Ji(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xs(Da)}function Bl(e,t){if(e==="click")return xs(t)}function Ir(e,t){if(e==="input"||e==="change")return xs(t)}function Di(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:Di;function u(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!Ke.call(t,c)||!_n(e[c],t[c]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function m(e,t){var i=f(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=f(i)}}function y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ci(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ci(e.document)}return t}function E(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var w=Wt&&"documentMode"in document&&11>=document.documentMode,C=null,N=null,L=null,B=!1;function D(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;B||C==null||C!==ci(l)||(l=C,"selectionStart"in l&&E(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),L&&u(L,l)||(L=l,l=Ku(N,"onSelect"),0<l.length&&(t=new fs("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=C)))}function I(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var R={animationend:I("Animation","AnimationEnd"),animationiteration:I("Animation","AnimationIteration"),animationstart:I("Animation","AnimationStart"),transitionrun:I("Transition","TransitionRun"),transitionstart:I("Transition","TransitionStart"),transitioncancel:I("Transition","TransitionCancel"),transitionend:I("Transition","TransitionEnd")},j={},Y={};Wt&&(Y=document.createElement("div").style,"AnimationEvent"in window||(delete R.animationend.animation,delete R.animationiteration.animation,delete R.animationstart.animation),"TransitionEvent"in window||delete R.transitionend.transition);function U(e){if(j[e])return j[e];if(!R[e])return e;var t=R[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Y)return j[e]=t[i];return e}var V=U("animationend"),G=U("animationiteration"),X=U("animationstart"),te=U("transitionrun"),pe=U("transitionstart"),Se=U("transitioncancel"),he=U("transitionend"),ye=new Map,Ee="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ee.push("scrollEnd");function de(e,t){ye.set(e,t),Ei(t,[e])}var De=new WeakMap;function je(e,t){if(typeof e=="object"&&e!==null){var i=De.get(e);return i!==void 0?i:(t={value:e,source:t,stack:_l(t)},De.set(e,t),t)}return{value:e,source:t,stack:_l(t)}}var Be=[],Ve=0,cn=0;function Ye(){for(var e=Ve,t=cn=Ve=0;t<e;){var i=Be[t];Be[t++]=null;var l=Be[t];Be[t++]=null;var c=Be[t];Be[t++]=null;var d=Be[t];if(Be[t++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}d!==0&&en(i,c,d)}}function Bt(e,t,i,l){Be[Ve++]=e,Be[Ve++]=t,Be[Ve++]=i,Be[Ve++]=l,cn|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $t(e,t,i,l){return Bt(e,t,i,l),ti(e)}function fi(e,t){return Bt(e,null,null,t),ti(e)}function en(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-Kt(i),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=i|536870912),d):null}function ti(e){if(50<uo)throw uo=0,dh=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Mi={};function C0(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(e,t,i,l){return new C0(e,t,i,l)}function of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function er(e,t){var i=e.alternate;return i===null?(i=Hn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function vp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hu(e,t,i,l,c,d){var _=0;if(l=e,typeof e=="function")of(e)&&(_=1);else if(typeof e=="string")_=Ob(e,i,Fe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=Hn(31,i,t,c),e.elementType=fe,e.lanes=d,e;case le:return Ra(i.children,c,d,t);case xe:_=8,c|=24;break;case ve:return e=Hn(12,i,t,c|2),e.elementType=ve,e.lanes=d,e;case we:return e=Hn(13,i,t,c),e.elementType=we,e.lanes=d,e;case H:return e=Hn(19,i,t,c),e.elementType=H,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Le:case Ce:_=10;break e;case He:_=9;break e;case Ge:_=11;break e;case J:_=14;break e;case ge:_=16,l=null;break e}_=29,i=Error(a(130,e===null?"null":typeof e,"")),l=null}return t=Hn(_,i,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function Ra(e,t,i,l){return e=Hn(7,e,l,t),e.lanes=i,e}function uf(e,t,i){return e=Hn(6,e,null,t),e.lanes=i,e}function cf(e,t,i){return t=Hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var As=[],Os=0,du=null,pu=0,ni=[],ii=0,Na=null,tr=1,nr="";function ka(e,t){As[Os++]=pu,As[Os++]=du,du=e,pu=t}function gp(e,t,i){ni[ii++]=tr,ni[ii++]=nr,ni[ii++]=Na,Na=e;var l=tr;e=nr;var c=32-Kt(l)-1;l&=~(1<<c),i+=1;var d=32-Kt(t)+c;if(30<d){var _=c-c%5;d=(l&(1<<_)-1).toString(32),l>>=_,c-=_,tr=1<<32-Kt(t)+c|i<<c|l,nr=d+e}else tr=1<<d|i<<c|l,nr=e}function ff(e){e.return!==null&&(ka(e,1),gp(e,1,0))}function hf(e){for(;e===du;)du=As[--Os],As[Os]=null,pu=As[--Os],As[Os]=null;for(;e===Na;)Na=ni[--ii],ni[ii]=null,nr=ni[--ii],ni[ii]=null,tr=ni[--ii],ni[ii]=null}var An=null,Lt=null,ct=!1,La=null,Ri=!1,df=Error(a(519));function Ua(e){var t=Error(a(418,""));throw Hl(je(t,e)),df}function _p(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[jt]=e,t[Qe]=l,i){case"dialog":it("cancel",t),it("close",t);break;case"iframe":case"object":case"embed":it("load",t);break;case"video":case"audio":for(i=0;i<fo.length;i++)it(fo[i],t);break;case"source":it("error",t);break;case"img":case"image":case"link":it("error",t),it("load",t);break;case"details":it("toggle",t);break;case"input":it("invalid",t),El(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ci(t);break;case"select":it("invalid",t);break;case"textarea":it("invalid",t),Tl(t,l.value,l.defaultValue,l.children),Ci(t)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||zy(t.textContent,i)?(l.popover!=null&&(it("beforetoggle",t),it("toggle",t)),l.onScroll!=null&&it("scroll",t),l.onScrollEnd!=null&&it("scrollend",t),l.onClick!=null&&(t.onclick=Gu),t=!0):t=!1,t||Ua(e)}function bp(e){for(An=e.return;An;)switch(An.tag){case 5:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:An=An.return}}function ql(e){if(e!==An)return!1;if(!ct)return bp(e),ct=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Dh(e.type,e.memoizedProps)),i=!i),i&&Lt&&Ua(e),bp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Lt=di(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Lt=null}}else t===27?(t=Lt,na(e.type)?(e=kh,kh=null,Lt=e):Lt=t):Lt=An?di(e.stateNode.nextSibling):null;return!0}function Il(){Lt=An=null,ct=!1}function Sp(){var e=La;return e!==null&&(kn===null?kn=e:kn.push.apply(kn,e),La=null),e}function Hl(e){La===null?La=[e]:La.push(e)}var pf=Me(null),za=null,ir=null;function Hr(e,t,i){Ne(pf,t._currentValue),t._currentValue=i}function rr(e){e._currentValue=pf.current,Ue(pf)}function mf(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function yf(e,t,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var _=c.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=c;for(var O=0;O<t.length;O++)if(T.context===t[O]){d.lanes|=i,T=d.alternate,T!==null&&(T.lanes|=i),mf(d.return,i,e),l||(_=null);break e}d=T.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(a(341));_.lanes|=i,d=_.alternate,d!==null&&(d.lanes|=i),mf(_,i,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function Yl(e,t,i,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var T=c.type;_n(c.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(c===Xt.current){if(_=c.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(go):e=[go])}c=c.return}e!==null&&yf(t,e,i,l),t.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ja(e){za=e,ir=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function bn(e){return Ep(za,e)}function yu(e,t){return za===null&&ja(e),Ep(e,t)}function Ep(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},ir===null){if(e===null)throw Error(a(308));ir=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ir=ir.next=t;return i}var A0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},O0=s.unstable_scheduleCallback,D0=s.unstable_NormalPriority,Gt={$$typeof:Ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new A0,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&O0(D0,function(){e.controller.abort()})}var Pl=null,gf=0,Ds=0,Ms=null;function M0(e,t){if(Pl===null){var i=Pl=[];gf=0,Ds=bh(),Ms={status:"pending",value:void 0,then:function(l){i.push(l)}}}return gf++,t.then(Tp,Tp),t}function Tp(){if(--gf===0&&Pl!==null){Ms!==null&&(Ms.status="fulfilled");var e=Pl;Pl=null,Ds=0,Ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function R0(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var wp=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&M0(e,t),wp!==null&&wp(e,t)};var Ba=Me(null);function _f(){var e=Ba.current;return e!==null?e:Et.pooledCache}function vu(e,t){t===null?Ne(Ba,Ba.current):Ne(Ba,t.pool)}function xp(){var e=_f();return e===null?null:{parent:Gt._currentValue,pool:e}}var Vl=Error(a(460)),Cp=Error(a(474)),gu=Error(a(542)),bf={then:function(){}};function Ap(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _u(){}function Op(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(_u,_u),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mp(e),e;default:if(typeof t.status=="string")t.then(_u,_u);else{if(e=Et,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mp(e),e}throw Fl=t,Vl}}var Fl=null;function Dp(){if(Fl===null)throw Error(a(459));var e=Fl;return Fl=null,e}function Mp(e){if(e===Vl||e===gu)throw Error(a(483))}var Yr=!1;function Sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Pr(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=ti(e),en(e,null,i),t}return Bt(e,l,t,i),ti(e)}function Kl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,rs(e,i)}}function Tf(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?c=d=_:d=d.next=_,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var wf=!1;function Gl(){if(wf){var e=Ms;if(e!==null)throw e}}function Ql(e,t,i,l){wf=!1;var c=e.updateQueue;Yr=!1;var d=c.firstBaseUpdate,_=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var O=T,P=O.next;O.next=null,_===null?d=P:_.next=P,_=O;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,T=ne.lastBaseUpdate,T!==_&&(T===null?ne.firstBaseUpdate=P:T.next=P,ne.lastBaseUpdate=O))}if(d!==null){var se=c.baseState;_=0,ne=P=O=null,T=d;do{var F=T.lane&-536870913,K=F!==T.lane;if(K?(lt&F)===F:(l&F)===F){F!==0&&F===Ds&&(wf=!0),ne!==null&&(ne=ne.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var $e=e,qe=T;F=t;var vt=i;switch(qe.tag){case 1:if($e=qe.payload,typeof $e=="function"){se=$e.call(vt,se,F);break e}se=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=qe.payload,F=typeof $e=="function"?$e.call(vt,se,F):$e,F==null)break e;se=x({},se,F);break e;case 2:Yr=!0}}F=T.callback,F!==null&&(e.flags|=64,K&&(e.flags|=8192),K=c.callbacks,K===null?c.callbacks=[F]:K.push(F))}else K={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ne===null?(P=ne=K,O=se):ne=ne.next=K,_|=F;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;K=T,T=K.next,K.next=null,c.lastBaseUpdate=K,c.shared.pending=null}}while(!0);ne===null&&(O=se),c.baseState=O,c.firstBaseUpdate=P,c.lastBaseUpdate=ne,d===null&&(c.shared.lanes=0),Wr|=_,e.lanes=_,e.memoizedState=se}}function Rp(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Np(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Rp(i[e],t)}var Rs=Me(null),bu=Me(0);function kp(e,t){e=fr,Ne(bu,e),Ne(Rs,t),fr=e|t.baseLanes}function xf(){Ne(bu,fr),Ne(Rs,Rs.current)}function Cf(){fr=bu.current,Ue(Rs),Ue(bu)}var Vr=0,Xe=null,mt=null,Pt=null,Su=!1,Ns=!1,qa=!1,Eu=0,Xl=0,ks=null,N0=0;function qt(){throw Error(a(321))}function Af(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!_n(e[i],t[i]))return!1;return!0}function Of(e,t,i,l,c,d){return Vr=d,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?ym:vm,qa=!1,d=i(l,c),qa=!1,Ns&&(d=Up(t,i,l,c)),Lp(e),d}function Lp(e){M.H=Ou;var t=mt!==null&&mt.next!==null;if(Vr=0,Pt=mt=Xe=null,Su=!1,Xl=0,ks=null,t)throw Error(a(300));e===null||tn||(e=e.dependencies,e!==null&&mu(e)&&(tn=!0))}function Up(e,t,i,l){Xe=e;var c=0;do{if(Ns&&(ks=null),Xl=0,Ns=!1,25<=c)throw Error(a(301));if(c+=1,Pt=mt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}M.H=q0,d=t(i,l)}while(Ns);return d}function k0(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?Zl(t):t,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(Xe.flags|=1024),t}function Df(){var e=Eu!==0;return Eu=0,e}function Mf(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Rf(e){if(Su){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Su=!1}Vr=0,Pt=mt=Xe=null,Ns=!1,Xl=Eu=0,ks=null}function Rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Xe.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function Vt(){if(mt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=Pt===null?Xe.memoizedState:Pt.next;if(t!==null)Pt=t,mt=e;else{if(e===null)throw Xe.alternate===null?Error(a(467)):Error(a(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Pt===null?Xe.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(e){var t=Xl;return Xl+=1,ks===null&&(ks=[]),e=Op(ks,e,t),t=Xe,(Pt===null?t.memoizedState:Pt.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?ym:vm),e}function Tu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zl(e);if(e.$$typeof===Ce)return bn(e)}throw Error(a(438,String(e)))}function kf(e){var t=null,i=Xe.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=Xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Nf(),Xe.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=be;return t.index++,i}function ar(e,t){return typeof t=="function"?t(e):t}function wu(e){var t=Vt();return Lf(t,mt,e)}function Lf(e,t,i){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var _=c.next;c.next=d.next,d.next=_}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var T=_=null,O=null,P=t,ne=!1;do{var se=P.lane&-536870913;if(se!==P.lane?(lt&se)===se:(Vr&se)===se){var F=P.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),se===Ds&&(ne=!0);else if((Vr&F)===F){P=P.next,F===Ds&&(ne=!0);continue}else se={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(T=O=se,_=d):O=O.next=se,Xe.lanes|=F,Wr|=F;se=P.action,qa&&i(d,se),d=P.hasEagerState?P.eagerState:i(d,se)}else F={lane:se,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(T=O=F,_=d):O=O.next=F,Xe.lanes|=se,Wr|=se;P=P.next}while(P!==null&&P!==t);if(O===null?_=d:O.next=T,!_n(d,e.memoizedState)&&(tn=!0,ne&&(i=Ms,i!==null)))throw i;e.memoizedState=d,e.baseState=_,e.baseQueue=O,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Uf(e){var t=Vt(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var _=c=c.next;do d=e(d,_.action),_=_.next;while(_!==c);_n(d,t.memoizedState)||(tn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,l]}function zp(e,t,i){var l=Xe,c=Vt(),d=ct;if(d){if(i===void 0)throw Error(a(407));i=i()}else i=t();var _=!_n((mt||c).memoizedState,i);_&&(c.memoizedState=i,tn=!0),c=c.queue;var T=qp.bind(null,l,c,e);if(Wl(2048,8,T,[e]),c.getSnapshot!==t||_||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,Ls(9,xu(),Bp.bind(null,l,c,i,t),null),Et===null)throw Error(a(349));d||(Vr&124)!==0||jp(l,t,i)}return i}function jp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Xe.updateQueue,t===null?(t=Nf(),Xe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Bp(e,t,i,l){t.value=i,t.getSnapshot=l,Ip(t)&&Hp(e)}function qp(e,t,i){return i(function(){Ip(t)&&Hp(e)})}function Ip(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!_n(e,i)}catch{return!0}}function Hp(e){var t=fi(e,2);t!==null&&Fn(t,e,2)}function zf(e){var t=Rn();if(typeof e=="function"){var i=e;if(e=i(),qa){Gn(!0);try{i()}finally{Gn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},t}function Yp(e,t,i,l){return e.baseState=i,Lf(e,mt,typeof l=="function"?l:ar)}function L0(e,t,i,l,c){if(Au(e))throw Error(a(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};M.T!==null?i(!0):d.isTransition=!1,l(d),i=t.pending,i===null?(d.next=t.pending=d,$p(t,d)):(d.next=i.next,t.pending=i.next=d)}}function $p(e,t){var i=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=M.T,_={};M.T=_;try{var T=i(c,l),O=M.S;O!==null&&O(_,T),Pp(e,t,T)}catch(P){jf(e,t,P)}finally{M.T=d}}else try{d=i(c,l),Pp(e,t,d)}catch(P){jf(e,t,P)}}function Pp(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Vp(e,t,l)},function(l){return jf(e,t,l)}):Vp(e,t,i)}function Vp(e,t,i){t.status="fulfilled",t.value=i,Fp(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,$p(e,i)))}function jf(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,Fp(t),t=t.next;while(t!==l)}e.action=null}function Fp(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Kp(e,t){return t}function Gp(e,t){if(ct){var i=Et.formState;if(i!==null){e:{var l=Xe;if(ct){if(Lt){t:{for(var c=Lt,d=Ri;c.nodeType!==8;){if(!d){c=null;break t}if(c=di(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Lt=di(c.nextSibling),l=c.data==="F!";break e}}Ua(l)}l=!1}l&&(t=i[0])}}return i=Rn(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kp,lastRenderedState:t},i.queue=l,i=dm.bind(null,Xe,l),l.dispatch=i,l=zf(!1),d=Yf.bind(null,Xe,!1,l.queue),l=Rn(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,i=L0.bind(null,Xe,c,d,i),c.dispatch=i,l.memoizedState=e,[t,i,!1]}function Qp(e){var t=Vt();return Xp(t,mt,e)}function Xp(e,t,i){if(t=Lf(e,t,Kp)[0],e=wu(ar)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zl(t)}catch(_){throw _===Vl?gu:_}else l=t;t=Vt();var c=t.queue,d=c.dispatch;return i!==t.memoizedState&&(Xe.flags|=2048,Ls(9,xu(),U0.bind(null,c,i),null)),[l,d,e]}function U0(e,t){e.action=t}function Zp(e){var t=Vt(),i=mt;if(i!==null)return Xp(t,i,e);Vt(),t=t.memoizedState,i=Vt();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function Ls(e,t,i,l){return e={tag:e,create:i,deps:l,inst:t,next:null},t=Xe.updateQueue,t===null&&(t=Nf(),Xe.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function xu(){return{destroy:void 0,resource:void 0}}function Wp(){return Vt().memoizedState}function Cu(e,t,i,l){var c=Rn();l=l===void 0?null:l,Xe.flags|=e,c.memoizedState=Ls(1|t,xu(),i,l)}function Wl(e,t,i,l){var c=Vt();l=l===void 0?null:l;var d=c.memoizedState.inst;mt!==null&&l!==null&&Af(l,mt.memoizedState.deps)?c.memoizedState=Ls(t,d,i,l):(Xe.flags|=e,c.memoizedState=Ls(1|t,d,i,l))}function Jp(e,t){Cu(8390656,8,e,t)}function em(e,t){Wl(2048,8,e,t)}function tm(e,t){return Wl(4,2,e,t)}function nm(e,t){return Wl(4,4,e,t)}function im(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rm(e,t,i){i=i!=null?i.concat([e]):null,Wl(4,4,im.bind(null,t,e),i)}function Bf(){}function am(e,t){var i=Vt();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&Af(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function sm(e,t){var i=Vt();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&Af(t,l[1]))return l[0];if(l=e(),qa){Gn(!0);try{e()}finally{Gn(!1)}}return i.memoizedState=[l,t],l}function qf(e,t,i){return i===void 0||(Vr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=uy(),Xe.lanes|=e,Wr|=e,i)}function lm(e,t,i,l){return _n(i,t)?i:Rs.current!==null?(e=qf(e,i,l),_n(e,t)||(tn=!0),e):(Vr&42)===0?(tn=!0,e.memoizedState=i):(e=uy(),Xe.lanes|=e,Wr|=e,t)}function om(e,t,i,l,c){var d=Q.p;Q.p=d!==0&&8>d?d:8;var _=M.T,T={};M.T=T,Yf(e,!1,t,i);try{var O=c(),P=M.S;if(P!==null&&P(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ne=R0(O,l);Jl(e,t,ne,Vn(e))}else Jl(e,t,l,Vn(e))}catch(se){Jl(e,t,{then:function(){},status:"rejected",reason:se},Vn())}finally{Q.p=d,M.T=_}}function z0(){}function If(e,t,i,l){if(e.tag!==5)throw Error(a(476));var c=um(e).queue;om(e,c,t,Z,i===null?z0:function(){return cm(e),i(l)})}function um(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:Z},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function cm(e){var t=um(e).next.queue;Jl(e,t,{},Vn())}function Hf(){return bn(go)}function fm(){return Vt().memoizedState}function hm(){return Vt().memoizedState}function j0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Vn();e=$r(i);var l=Pr(t,e,i);l!==null&&(Fn(l,t,i),Kl(l,t,i)),t={cache:vf()},e.payload=t;return}t=t.return}}function B0(e,t,i){var l=Vn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Au(e)?pm(t,i):(i=$t(e,t,i,l),i!==null&&(Fn(i,e,l),mm(i,t,l)))}function dm(e,t,i){var l=Vn();Jl(e,t,i,l)}function Jl(e,t,i,l){var c={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Au(e))pm(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var _=t.lastRenderedState,T=d(_,i);if(c.hasEagerState=!0,c.eagerState=T,_n(T,_))return Bt(e,t,c,0),Et===null&&Ye(),!1}catch{}finally{}if(i=$t(e,t,c,l),i!==null)return Fn(i,e,l),mm(i,t,l),!0}return!1}function Yf(e,t,i,l){if(l={lane:2,revertLane:bh(),action:l,hasEagerState:!1,eagerState:null,next:null},Au(e)){if(t)throw Error(a(479))}else t=$t(e,i,l,2),t!==null&&Fn(t,e,2)}function Au(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function pm(e,t){Ns=Su=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function mm(e,t,i){if((i&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,rs(e,i)}}var Ou={readContext:bn,use:Tu,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},ym={readContext:bn,use:Tu,useCallback:function(e,t){return Rn().memoizedState=[e,t===void 0?null:t],e},useContext:bn,useEffect:Jp,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Cu(4194308,4,im.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Cu(4194308,4,e,t)},useInsertionEffect:function(e,t){Cu(4,2,e,t)},useMemo:function(e,t){var i=Rn();t=t===void 0?null:t;var l=e();if(qa){Gn(!0);try{e()}finally{Gn(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=Rn();if(i!==void 0){var c=i(t);if(qa){Gn(!0);try{i(t)}finally{Gn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=B0.bind(null,Xe,e),[l.memoizedState,e]},useRef:function(e){var t=Rn();return e={current:e},t.memoizedState=e},useState:function(e){e=zf(e);var t=e.queue,i=dm.bind(null,Xe,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Bf,useDeferredValue:function(e,t){var i=Rn();return qf(i,e,t)},useTransition:function(){var e=zf(!1);return e=om.bind(null,Xe,e.queue,!0,!1),Rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=Xe,c=Rn();if(ct){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),Et===null)throw Error(a(349));(lt&124)!==0||jp(l,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,Jp(qp.bind(null,l,d,e),[e]),l.flags|=2048,Ls(9,xu(),Bp.bind(null,l,d,i,t),null),i},useId:function(){var e=Rn(),t=Et.identifierPrefix;if(ct){var i=nr,l=tr;i=(l&~(1<<32-Kt(l)-1)).toString(32)+i,t=""+t+"R"+i,i=Eu++,0<i&&(t+="H"+i.toString(32)),t+=""}else i=N0++,t=""+t+"r"+i.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Hf,useFormState:Gp,useActionState:Gp,useOptimistic:function(e){var t=Rn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Yf.bind(null,Xe,!0,i),i.dispatch=t,[e,t]},useMemoCache:kf,useCacheRefresh:function(){return Rn().memoizedState=j0.bind(null,Xe)}},vm={readContext:bn,use:Tu,useCallback:am,useContext:bn,useEffect:em,useImperativeHandle:rm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:sm,useReducer:wu,useRef:Wp,useState:function(){return wu(ar)},useDebugValue:Bf,useDeferredValue:function(e,t){var i=Vt();return lm(i,mt.memoizedState,e,t)},useTransition:function(){var e=wu(ar)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:zp,useId:fm,useHostTransitionStatus:Hf,useFormState:Qp,useActionState:Qp,useOptimistic:function(e,t){var i=Vt();return Yp(i,mt,e,t)},useMemoCache:kf,useCacheRefresh:hm},q0={readContext:bn,use:Tu,useCallback:am,useContext:bn,useEffect:em,useImperativeHandle:rm,useInsertionEffect:tm,useLayoutEffect:nm,useMemo:sm,useReducer:Uf,useRef:Wp,useState:function(){return Uf(ar)},useDebugValue:Bf,useDeferredValue:function(e,t){var i=Vt();return mt===null?qf(i,e,t):lm(i,mt.memoizedState,e,t)},useTransition:function(){var e=Uf(ar)[0],t=Vt().memoizedState;return[typeof e=="boolean"?e:Zl(e),t]},useSyncExternalStore:zp,useId:fm,useHostTransitionStatus:Hf,useFormState:Zp,useActionState:Zp,useOptimistic:function(e,t){var i=Vt();return mt!==null?Yp(i,mt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:kf,useCacheRefresh:hm},Us=null,eo=0;function Du(e){var t=eo;return eo+=1,Us===null&&(Us=[]),Op(Us,e,t)}function to(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mu(e,t){throw t.$$typeof===A?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gm(e){var t=e._init;return t(e._payload)}function _m(e){function t(q,k){if(e){var $=q.deletions;$===null?(q.deletions=[k],q.flags|=16):$.push(k)}}function i(q,k){if(!e)return null;for(;k!==null;)t(q,k),k=k.sibling;return null}function l(q){for(var k=new Map;q!==null;)q.key!==null?k.set(q.key,q):k.set(q.index,q),q=q.sibling;return k}function c(q,k){return q=er(q,k),q.index=0,q.sibling=null,q}function d(q,k,$){return q.index=$,e?($=q.alternate,$!==null?($=$.index,$<k?(q.flags|=67108866,k):$):(q.flags|=67108866,k)):(q.flags|=1048576,k)}function _(q){return e&&q.alternate===null&&(q.flags|=67108866),q}function T(q,k,$,ie){return k===null||k.tag!==6?(k=uf($,q.mode,ie),k.return=q,k):(k=c(k,$),k.return=q,k)}function O(q,k,$,ie){var Re=$.type;return Re===le?ne(q,k,$.props.children,ie,$.key):k!==null&&(k.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ge&&gm(Re)===k.type)?(k=c(k,$.props),to(k,$),k.return=q,k):(k=hu($.type,$.key,$.props,null,q.mode,ie),to(k,$),k.return=q,k)}function P(q,k,$,ie){return k===null||k.tag!==4||k.stateNode.containerInfo!==$.containerInfo||k.stateNode.implementation!==$.implementation?(k=cf($,q.mode,ie),k.return=q,k):(k=c(k,$.children||[]),k.return=q,k)}function ne(q,k,$,ie,Re){return k===null||k.tag!==7?(k=Ra($,q.mode,ie,Re),k.return=q,k):(k=c(k,$),k.return=q,k)}function se(q,k,$){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=uf(""+k,q.mode,$),k.return=q,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case z:return $=hu(k.type,k.key,k.props,null,q.mode,$),to($,k),$.return=q,$;case W:return k=cf(k,q.mode,$),k.return=q,k;case ge:var ie=k._init;return k=ie(k._payload),se(q,k,$)}if(oe(k)||Oe(k))return k=Ra(k,q.mode,$,null),k.return=q,k;if(typeof k.then=="function")return se(q,Du(k),$);if(k.$$typeof===Ce)return se(q,yu(q,k),$);Mu(q,k)}return null}function F(q,k,$,ie){var Re=k!==null?k.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Re!==null?null:T(q,k,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case z:return $.key===Re?O(q,k,$,ie):null;case W:return $.key===Re?P(q,k,$,ie):null;case ge:return Re=$._init,$=Re($._payload),F(q,k,$,ie)}if(oe($)||Oe($))return Re!==null?null:ne(q,k,$,ie,null);if(typeof $.then=="function")return F(q,k,Du($),ie);if($.$$typeof===Ce)return F(q,k,yu(q,$),ie);Mu(q,$)}return null}function K(q,k,$,ie,Re){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return q=q.get($)||null,T(k,q,""+ie,Re);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case z:return q=q.get(ie.key===null?$:ie.key)||null,O(k,q,ie,Re);case W:return q=q.get(ie.key===null?$:ie.key)||null,P(k,q,ie,Re);case ge:var We=ie._init;return ie=We(ie._payload),K(q,k,$,ie,Re)}if(oe(ie)||Oe(ie))return q=q.get($)||null,ne(k,q,ie,Re,null);if(typeof ie.then=="function")return K(q,k,$,Du(ie),Re);if(ie.$$typeof===Ce)return K(q,k,$,yu(k,ie),Re);Mu(k,ie)}return null}function $e(q,k,$,ie){for(var Re=null,We=null,ze=k,Ie=k=0,rn=null;ze!==null&&Ie<$.length;Ie++){ze.index>Ie?(rn=ze,ze=null):rn=ze.sibling;var ut=F(q,ze,$[Ie],ie);if(ut===null){ze===null&&(ze=rn);break}e&&ze&&ut.alternate===null&&t(q,ze),k=d(ut,k,Ie),We===null?Re=ut:We.sibling=ut,We=ut,ze=rn}if(Ie===$.length)return i(q,ze),ct&&ka(q,Ie),Re;if(ze===null){for(;Ie<$.length;Ie++)ze=se(q,$[Ie],ie),ze!==null&&(k=d(ze,k,Ie),We===null?Re=ze:We.sibling=ze,We=ze);return ct&&ka(q,Ie),Re}for(ze=l(ze);Ie<$.length;Ie++)rn=K(ze,q,Ie,$[Ie],ie),rn!==null&&(e&&rn.alternate!==null&&ze.delete(rn.key===null?Ie:rn.key),k=d(rn,k,Ie),We===null?Re=rn:We.sibling=rn,We=rn);return e&&ze.forEach(function(la){return t(q,la)}),ct&&ka(q,Ie),Re}function qe(q,k,$,ie){if($==null)throw Error(a(151));for(var Re=null,We=null,ze=k,Ie=k=0,rn=null,ut=$.next();ze!==null&&!ut.done;Ie++,ut=$.next()){ze.index>Ie?(rn=ze,ze=null):rn=ze.sibling;var la=F(q,ze,ut.value,ie);if(la===null){ze===null&&(ze=rn);break}e&&ze&&la.alternate===null&&t(q,ze),k=d(la,k,Ie),We===null?Re=la:We.sibling=la,We=la,ze=rn}if(ut.done)return i(q,ze),ct&&ka(q,Ie),Re;if(ze===null){for(;!ut.done;Ie++,ut=$.next())ut=se(q,ut.value,ie),ut!==null&&(k=d(ut,k,Ie),We===null?Re=ut:We.sibling=ut,We=ut);return ct&&ka(q,Ie),Re}for(ze=l(ze);!ut.done;Ie++,ut=$.next())ut=K(ze,q,Ie,ut.value,ie),ut!==null&&(e&&ut.alternate!==null&&ze.delete(ut.key===null?Ie:ut.key),k=d(ut,k,Ie),We===null?Re=ut:We.sibling=ut,We=ut);return e&&ze.forEach(function(Ib){return t(q,Ib)}),ct&&ka(q,Ie),Re}function vt(q,k,$,ie){if(typeof $=="object"&&$!==null&&$.type===le&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case z:e:{for(var Re=$.key;k!==null;){if(k.key===Re){if(Re=$.type,Re===le){if(k.tag===7){i(q,k.sibling),ie=c(k,$.props.children),ie.return=q,q=ie;break e}}else if(k.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===ge&&gm(Re)===k.type){i(q,k.sibling),ie=c(k,$.props),to(ie,$),ie.return=q,q=ie;break e}i(q,k);break}else t(q,k);k=k.sibling}$.type===le?(ie=Ra($.props.children,q.mode,ie,$.key),ie.return=q,q=ie):(ie=hu($.type,$.key,$.props,null,q.mode,ie),to(ie,$),ie.return=q,q=ie)}return _(q);case W:e:{for(Re=$.key;k!==null;){if(k.key===Re)if(k.tag===4&&k.stateNode.containerInfo===$.containerInfo&&k.stateNode.implementation===$.implementation){i(q,k.sibling),ie=c(k,$.children||[]),ie.return=q,q=ie;break e}else{i(q,k);break}else t(q,k);k=k.sibling}ie=cf($,q.mode,ie),ie.return=q,q=ie}return _(q);case ge:return Re=$._init,$=Re($._payload),vt(q,k,$,ie)}if(oe($))return $e(q,k,$,ie);if(Oe($)){if(Re=Oe($),typeof Re!="function")throw Error(a(150));return $=Re.call($),qe(q,k,$,ie)}if(typeof $.then=="function")return vt(q,k,Du($),ie);if($.$$typeof===Ce)return vt(q,k,yu(q,$),ie);Mu(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,k!==null&&k.tag===6?(i(q,k.sibling),ie=c(k,$),ie.return=q,q=ie):(i(q,k),ie=uf($,q.mode,ie),ie.return=q,q=ie),_(q)):i(q,k)}return function(q,k,$,ie){try{eo=0;var Re=vt(q,k,$,ie);return Us=null,Re}catch(ze){if(ze===Vl||ze===gu)throw ze;var We=Hn(29,ze,null,q.mode);return We.lanes=ie,We.return=q,We}finally{}}}var zs=_m(!0),bm=_m(!1),ri=Me(null),Ni=null;function Fr(e){var t=e.alternate;Ne(Qt,Qt.current&1),Ne(ri,e),Ni===null&&(t===null||Rs.current!==null||t.memoizedState!==null)&&(Ni=e)}function Sm(e){if(e.tag===22){if(Ne(Qt,Qt.current),Ne(ri,e),Ni===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ni=e)}}else Kr()}function Kr(){Ne(Qt,Qt.current),Ne(ri,ri.current)}function sr(e){Ue(ri),Ni===e&&(Ni=null),Ue(Qt)}var Qt=Me(0);function Ru(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Nh(i)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function $f(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:x({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Pf={enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Vn(),c=$r(l);c.payload=t,i!=null&&(c.callback=i),t=Pr(e,c,l),t!==null&&(Fn(t,e,l),Kl(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Vn(),c=$r(l);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Pr(e,c,l),t!==null&&(Fn(t,e,l),Kl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Vn(),l=$r(i);l.tag=2,t!=null&&(l.callback=t),t=Pr(e,l,i),t!==null&&(Fn(t,e,i),Kl(t,e,i))}};function Em(e,t,i,l,c,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):t.prototype&&t.prototype.isPureReactComponent?!u(i,l)||!u(c,d):!0}function Tm(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Pf.enqueueReplaceState(t,t.state,null)}function Ia(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=x({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function wm(e){Nu(e)}function xm(e){console.error(e)}function Cm(e){Nu(e)}function ku(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Am(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vf(e,t,i){return i=$r(i),i.tag=3,i.payload={element:null},i.callback=function(){ku(e,t)},i}function Om(e){return e=$r(e),e.tag=3,e}function Dm(e,t,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Am(t,i,l)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){Am(t,i,l),typeof c!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function I0(e,t,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&Yl(t,i,c,!0),i=ri.current,i!==null){switch(i.tag){case 13:return Ni===null?mh():i.alternate===null&&Ut===0&&(Ut=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===bf?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),vh(e,l,c)),!1;case 22:return i.flags|=65536,l===bf?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),vh(e,l,c)),!1}throw Error(a(435,i.tag))}return vh(e,l,c),mh(),!1}if(ct)return t=ri.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==df&&(e=Error(a(422),{cause:l}),Hl(je(e,i)))):(l!==df&&(t=Error(a(423),{cause:l}),Hl(je(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=je(l,i),c=Vf(e.stateNode,l,c),Tf(e,c),Ut!==4&&(Ut=2)),!1;var d=Error(a(520),{cause:l});if(d=je(d,i),oo===null?oo=[d]:oo.push(d),Ut!==4&&(Ut=2),t===null)return!0;l=je(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Vf(i.stateNode,l,e),Tf(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Om(c),Dm(c,e,i,l),Tf(i,c),!1}i=i.return}while(i!==null);return!1}var Mm=Error(a(461)),tn=!1;function fn(e,t,i,l){t.child=e===null?bm(t,null,i,l):zs(t,e.child,i,l)}function Rm(e,t,i,l,c){i=i.render;var d=t.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ja(t),l=Of(e,t,i,_,d,c),T=Df(),e!==null&&!tn?(Mf(e,t,c),lr(e,t,c)):(ct&&T&&ff(t),t.flags|=1,fn(e,t,l,c),t.child)}function Nm(e,t,i,l,c){if(e===null){var d=i.type;return typeof d=="function"&&!of(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,km(e,t,d,l,c)):(e=hu(i.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Jf(e,c)){var _=d.memoizedProps;if(i=i.compare,i=i!==null?i:u,i(_,l)&&e.ref===t.ref)return lr(e,t,c)}return t.flags|=1,e=er(d,l),e.ref=t.ref,e.return=t,t.child=e}function km(e,t,i,l,c){if(e!==null){var d=e.memoizedProps;if(u(d,l)&&e.ref===t.ref)if(tn=!1,t.pendingProps=l=d,Jf(e,c))(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,lr(e,t,c)}return Ff(e,t,i,l,c)}function Lm(e,t,i){var l=t.pendingProps,c=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((t.flags&128)!==0){if(l=d!==null?d.baseLanes|i:i,e!==null){for(c=t.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return Um(e,t,l,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(t,d!==null?d.cachePool:null),d!==null?kp(t,d):xf(),Sm(t);else return t.lanes=t.childLanes=536870912,Um(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(vu(t,d.cachePool),kp(t,d),Kr(),t.memoizedState=null):(e!==null&&vu(t,null),xf(),Kr());return fn(e,t,c,i),t.child}function Um(e,t,i,l){var c=_f();return c=c===null?null:{parent:Gt._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&vu(t,null),xf(),Sm(t),e!==null&&Yl(e,t,l,!0),null}function Lu(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Ff(e,t,i,l,c){return ja(t),i=Of(e,t,i,l,void 0,c),l=Df(),e!==null&&!tn?(Mf(e,t,c),lr(e,t,c)):(ct&&l&&ff(t),t.flags|=1,fn(e,t,i,c),t.child)}function zm(e,t,i,l,c,d){return ja(t),t.updateQueue=null,i=Up(t,l,i,c),Lp(e),l=Df(),e!==null&&!tn?(Mf(e,t,d),lr(e,t,d)):(ct&&l&&ff(t),t.flags|=1,fn(e,t,i,d),t.child)}function jm(e,t,i,l,c){if(ja(t),t.stateNode===null){var d=Mi,_=i.contextType;typeof _=="object"&&_!==null&&(d=bn(_)),d=new i(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Sf(t),_=i.contextType,d.context=typeof _=="object"&&_!==null?bn(_):Mi,d.state=t.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&($f(t,i,_,l),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Pf.enqueueReplaceState(d,d.state,null),Ql(t,l,d,c),Gl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var T=t.memoizedProps,O=Ia(i,T);d.props=O;var P=d.context,ne=i.contextType;_=Mi,typeof ne=="object"&&ne!==null&&(_=bn(ne));var se=i.getDerivedStateFromProps;ne=typeof se=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ne||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==_)&&Tm(t,d,l,_),Yr=!1;var F=t.memoizedState;d.state=F,Ql(t,l,d,c),Gl(),P=t.memoizedState,T||F!==P||Yr?(typeof se=="function"&&($f(t,i,se,l),P=t.memoizedState),(O=Yr||Em(t,i,O,l,F,P,_))?(ne||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=P),d.props=l,d.state=P,d.context=_,l=O):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Ef(e,t),_=t.memoizedProps,ne=Ia(i,_),d.props=ne,se=t.pendingProps,F=d.context,P=i.contextType,O=Mi,typeof P=="object"&&P!==null&&(O=bn(P)),T=i.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==se||F!==O)&&Tm(t,d,l,O),Yr=!1,F=t.memoizedState,d.state=F,Ql(t,l,d,c),Gl();var K=t.memoizedState;_!==se||F!==K||Yr||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof T=="function"&&($f(t,i,T,l),K=t.memoizedState),(ne=Yr||Em(t,i,ne,l,F,K,O)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,O)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=K),d.props=l,d.state=K,d.context=O,l=ne):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Lu(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=zs(t,e.child,null,c),t.child=zs(t,null,i,c)):fn(e,t,i,c),t.memoizedState=d.state,e=t.child):e=lr(e,t,c),e}function Bm(e,t,i,l){return Il(),t.flags|=256,fn(e,t,i,l),t.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:xp()}}function Qf(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=ai),e}function qm(e,t,i){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Qt.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(ct){if(c?Fr(t):Kr(),ct){var T=Lt,O;if(O=T){e:{for(O=T,T=Ri;O.nodeType!==8;){if(!T){T=null;break e}if(O=di(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(t.memoizedState={dehydrated:T,treeContext:Na!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},O=Hn(18,null,null,0),O.stateNode=T,O.return=t,t.child=O,An=t,Lt=null,O=!0):O=!1}O||Ua(t)}if(T=t.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Nh(T)?t.lanes=32:t.lanes=536870912,null;sr(t)}return T=l.children,l=l.fallback,c?(Kr(),c=t.mode,T=Uu({mode:"hidden",children:T},c),l=Ra(l,c,i,null),T.return=t,l.return=t,T.sibling=l,t.child=T,c=t.child,c.memoizedState=Gf(i),c.childLanes=Qf(e,_,i),t.memoizedState=Kf,l):(Fr(t),Xf(t,T))}if(O=e.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(d)t.flags&256?(Fr(t),t.flags&=-257,t=Zf(e,t,i)):t.memoizedState!==null?(Kr(),t.child=e.child,t.flags|=128,t=null):(Kr(),c=l.fallback,T=t.mode,l=Uu({mode:"visible",children:l.children},T),c=Ra(c,T,i,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,zs(t,e.child,null,i),l=t.child,l.memoizedState=Gf(i),l.childLanes=Qf(e,_,i),t.memoizedState=Kf,t=c);else if(Fr(t),Nh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(a(419)),l.stack="",l.digest=_,Hl({value:l,source:null,stack:null}),t=Zf(e,t,i)}else if(tn||Yl(e,t,i,!1),_=(i&e.childLanes)!==0,tn||_){if(_=Et,_!==null&&(l=i&-i,l=(l&42)!==0?1:ml(l),l=(l&(_.suspendedLanes|i))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,fi(e,l),Fn(_,e,l),Mm;T.data==="$?"||mh(),t=Zf(e,t,i)}else T.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,Lt=di(T.nextSibling),An=t,ct=!0,La=null,Ri=!1,e!==null&&(ni[ii++]=tr,ni[ii++]=nr,ni[ii++]=Na,tr=e.id,nr=e.overflow,Na=t),t=Xf(t,l.children),t.flags|=4096);return t}return c?(Kr(),c=l.fallback,T=t.mode,O=e.child,P=O.sibling,l=er(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,P!==null?c=er(P,c):(c=Ra(c,T,i,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,l=c,c=t.child,T=e.child.memoizedState,T===null?T=Gf(i):(O=T.cachePool,O!==null?(P=Gt._currentValue,O=O.parent!==P?{parent:P,pool:P}:O):O=xp(),T={baseLanes:T.baseLanes|i,cachePool:O}),c.memoizedState=T,c.childLanes=Qf(e,_,i),t.memoizedState=Kf,l):(Fr(t),i=e.child,e=i.sibling,i=er(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=i,t.memoizedState=null,i)}function Xf(e,t){return t=Uu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Uu(e,t){return e=Hn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zf(e,t,i){return zs(t,e.child,null,i),e=Xf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Im(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),mf(e.return,t,i)}function Wf(e,t,i,l,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=c)}function Hm(e,t,i){var l=t.pendingProps,c=l.revealOrder,d=l.tail;if(fn(e,t,l.children,i),l=Qt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Im(e,i,t);else if(e.tag===19)Im(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Ne(Qt,l),c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Ru(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Wf(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ru(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Wf(t,!0,i,null,d);break;case"together":Wf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Wr|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Yl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=er(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=er(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Jf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function H0(e,t,i){switch(t.tag){case 3:Dn(t,t.stateNode.containerInfo),Hr(t,Gt,e.memoizedState.cache),Il();break;case 27:case 5:Ot(t);break;case 4:Dn(t,t.stateNode.containerInfo);break;case 10:Hr(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?qm(e,t,i):(Fr(t),e=lr(e,t,i),e!==null?e.sibling:null);Fr(t);break;case 19:var c=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(Yl(e,t,i,!1),l=(i&t.childLanes)!==0),c){if(l)return Hm(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Ne(Qt,Qt.current),l)break;return null;case 22:case 23:return t.lanes=0,Lm(e,t,i);case 24:Hr(t,Gt,e.memoizedState.cache)}return lr(e,t,i)}function Ym(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tn=!0;else{if(!Jf(e,i)&&(t.flags&128)===0)return tn=!1,H0(e,t,i);tn=(e.flags&131072)!==0}else tn=!1,ct&&(t.flags&1048576)!==0&&gp(t,pu,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,c=l._init;if(l=c(l._payload),t.type=l,typeof l=="function")of(l)?(e=Ia(l,e),t.tag=1,t=jm(null,t,l,e,i)):(t.tag=0,t=Ff(null,t,l,e,i));else{if(l!=null){if(c=l.$$typeof,c===Ge){t.tag=11,t=Rm(null,t,l,e,i);break e}else if(c===J){t.tag=14,t=Nm(null,t,l,e,i);break e}}throw t=ce(l)||l,Error(a(306,t,""))}}return t;case 0:return Ff(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,c=Ia(l,t.pendingProps),jm(e,t,l,c,i);case 3:e:{if(Dn(t,t.stateNode.containerInfo),e===null)throw Error(a(387));l=t.pendingProps;var d=t.memoizedState;c=d.element,Ef(e,t),Ql(t,l,null,i);var _=t.memoizedState;if(l=_.cache,Hr(t,Gt,l),l!==d.cache&&yf(t,[Gt],i,!0),Gl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Bm(e,t,l,i);break e}else if(l!==c){c=je(Error(a(424)),t),Hl(c),t=Bm(e,t,l,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Lt=di(e.firstChild),An=t,ct=!0,La=null,Ri=!0,i=bm(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Il(),l===c){t=lr(e,t,i);break e}fn(e,t,l,i)}t=t.child}return t;case 26:return Lu(e,t),e===null?(i=Fy(t.type,null,t.pendingProps,null))?t.memoizedState=i:ct||(i=t.type,e=t.pendingProps,l=Qu(At.current).createElement(i),l[jt]=t,l[Qe]=e,dn(l,i,e),gt(l),t.stateNode=l):t.memoizedState=Fy(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ot(t),e===null&&ct&&(l=t.stateNode=$y(t.type,t.pendingProps,At.current),An=t,Ri=!0,c=Lt,na(t.type)?(kh=c,Lt=di(l.firstChild)):Lt=c),fn(e,t,t.pendingProps.children,i),Lu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ct&&((c=l=Lt)&&(l=mb(l,t.type,t.pendingProps,Ri),l!==null?(t.stateNode=l,An=t,Lt=di(l.firstChild),Ri=!1,c=!0):c=!1),c||Ua(t)),Ot(t),c=t.type,d=t.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Dh(c,d)?l=null:_!==null&&Dh(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=Of(e,t,k0,null,null,i),go._currentValue=c),Lu(e,t),fn(e,t,l,i),t.child;case 6:return e===null&&ct&&((e=i=Lt)&&(i=yb(i,t.pendingProps,Ri),i!==null?(t.stateNode=i,An=t,Lt=null,e=!0):e=!1),e||Ua(t)),null;case 13:return qm(e,t,i);case 4:return Dn(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=zs(t,null,l,i):fn(e,t,l,i),t.child;case 11:return Rm(e,t,t.type,t.pendingProps,i);case 7:return fn(e,t,t.pendingProps,i),t.child;case 8:return fn(e,t,t.pendingProps.children,i),t.child;case 12:return fn(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Hr(t,t.type,l.value),fn(e,t,l.children,i),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,ja(t),c=bn(c),l=l(c),t.flags|=1,fn(e,t,l,i),t.child;case 14:return Nm(e,t,t.type,t.pendingProps,i);case 15:return km(e,t,t.type,t.pendingProps,i);case 19:return Hm(e,t,i);case 31:return l=t.pendingProps,i=t.mode,l={mode:l.mode,children:l.children},e===null?(i=Uu(l,i),i.ref=t.ref,t.child=i,i.return=t,t=i):(i=er(e.child,l),i.ref=t.ref,t.child=i,i.return=t,t=i),t;case 22:return Lm(e,t,i);case 24:return ja(t),l=bn(Gt),e===null?(c=_f(),c===null&&(c=Et,d=vf(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=i),c=d),t.memoizedState={parent:l,cache:c},Sf(t),Hr(t,Gt,c)):((e.lanes&i)!==0&&(Ef(e,t),Ql(t,null,null,i),Gl()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Hr(t,Gt,l)):(l=d.cache,Hr(t,Gt,l),l!==c.cache&&yf(t,[Gt],i,!0))),fn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function or(e){e.flags|=4}function $m(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Zy(t)){if(t=ri.current,t!==null&&((lt&4194048)===lt?Ni!==null:(lt&62914560)!==lt&&(lt&536870912)===0||t!==Ni))throw Fl=bf,Cp;e.flags|=8192}}function zu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Te():536870912,e.lanes|=t,Is|=t)}function no(e,t){if(!ct)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Y0(e,t,i){var l=t.pendingProps;switch(hf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),rr(Gt),Ae(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ql(t)?or(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sp())),Rt(t),null;case 26:return i=t.memoizedState,e===null?(or(t),i!==null?(Rt(t),$m(t,i)):(Rt(t),t.flags&=-16777217)):i?i!==e.memoizedState?(or(t),Rt(t),$m(t,i)):(Rt(t),t.flags&=-16777217):(e.memoizedProps!==l&&or(t),Rt(t),t.flags&=-16777217),null;case 27:kt(t),i=At.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&or(t);else{if(!l){if(t.stateNode===null)throw Error(a(166));return Rt(t),null}e=Fe.current,ql(t)?_p(t):(e=$y(c,l,i),t.stateNode=e,or(t))}return Rt(t),null;case 5:if(kt(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&or(t);else{if(!l){if(t.stateNode===null)throw Error(a(166));return Rt(t),null}if(e=Fe.current,ql(t))_p(t);else{switch(c=Qu(At.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(i,{is:l.is}):c.createElement(i)}}e[jt]=t,e[Qe]=l;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(dn(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&or(t)}}return Rt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&or(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(a(166));if(e=At.current,ql(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,c=An,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[jt]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||zy(e.nodeValue,i)),e||Ua(t)}else e=Qu(e).createTextNode(l),e[jt]=t,t.stateNode=e}return Rt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ql(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[jt]=t}else Il(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),c=!1}else c=Sp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(sr(t),t):(sr(t),null)}if(sr(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),zu(t,t.updateQueue),Rt(t),null;case 4:return Ae(),e===null&&wh(t.stateNode.containerInfo),Rt(t),null;case 10:return rr(t.type),Rt(t),null;case 19:if(Ue(Qt),c=t.memoizedState,c===null)return Rt(t),null;if(l=(t.flags&128)!==0,d=c.rendering,d===null)if(l)no(c,!1);else{if(Ut!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ru(e),d!==null){for(t.flags|=128,no(c,!1),e=d.updateQueue,t.updateQueue=e,zu(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)vp(i,e),i=i.sibling;return Ne(Qt,Qt.current&1|2),t.child}e=e.sibling}c.tail!==null&&mn()>qu&&(t.flags|=128,l=!0,no(c,!1),t.lanes=4194304)}else{if(!l)if(e=Ru(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,zu(t,e),no(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ct)return Rt(t),null}else 2*mn()-c.renderingStartTime>qu&&i!==536870912&&(t.flags|=128,l=!0,no(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(e=c.last,e!==null?e.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=mn(),t.sibling=null,e=Qt.current,Ne(Qt,l?e&1|2:e&1),t):(Rt(t),null);case 22:case 23:return sr(t),Cf(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),i=t.updateQueue,i!==null&&zu(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&Ue(Ba),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),rr(Gt),Rt(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function $0(e,t){switch(hf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return rr(Gt),Ae(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return kt(t),null;case 13:if(sr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Il()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Qt),null;case 4:return Ae(),null;case 10:return rr(t.type),null;case 22:case 23:return sr(t),Cf(),e!==null&&Ue(Ba),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return rr(Gt),null;case 25:return null;default:return null}}function Pm(e,t){switch(hf(t),t.tag){case 3:rr(Gt),Ae();break;case 26:case 27:case 5:kt(t);break;case 4:Ae();break;case 13:sr(t);break;case 19:Ue(Qt);break;case 10:rr(t.type);break;case 22:case 23:sr(t),Cf(),e!==null&&Ue(Ba);break;case 24:rr(Gt)}}function io(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var d=i.create,_=i.inst;l=d(),_.destroy=l}i=i.next}while(i!==c)}}catch(T){bt(t,t.return,T)}}function Gr(e,t,i){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,c=t;var O=i,P=T;try{P()}catch(ne){bt(c,O,ne)}}}l=l.next}while(l!==d)}}catch(ne){bt(t,t.return,ne)}}function Vm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Np(t,i)}catch(l){bt(e,e.return,l)}}}function Fm(e,t,i){i.props=Ia(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){bt(e,t,l)}}function ro(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof i=="function"?e.refCleanup=i(l):i.current=l}}catch(c){bt(e,t,c)}}function ki(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){bt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){bt(e,t,c)}else i.current=null}function Km(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){bt(e,e.return,c)}}function eh(e,t,i){try{var l=e.stateNode;cb(l,e.type,i,t),l[Qe]=t}catch(c){bt(e,e.return,c)}}function Gm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&na(e.type)||e.tag===4}function th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&na(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nh(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Gu));else if(l!==4&&(l===27&&na(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(nh(e,t,i),e=e.sibling;e!==null;)nh(e,t,i),e=e.sibling}function ju(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(l===27&&na(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ju(e,t,i),e=e.sibling;e!==null;)ju(e,t,i),e=e.sibling}function Qm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);dn(t,l,i),t[jt]=e,t[Qe]=i}catch(d){bt(e,e.return,d)}}var ur=!1,It=!1,ih=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,nn=null;function P0(e,t){if(e=e.containerInfo,Ah=tc,e=b(e),E(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var _=0,T=-1,O=-1,P=0,ne=0,se=e,F=null;t:for(;;){for(var K;se!==i||c!==0&&se.nodeType!==3||(T=_+c),se!==d||l!==0&&se.nodeType!==3||(O=_+l),se.nodeType===3&&(_+=se.nodeValue.length),(K=se.firstChild)!==null;)F=se,se=K;for(;;){if(se===e)break t;if(F===i&&++P===c&&(T=_),F===d&&++ne===l&&(O=_),(K=se.nextSibling)!==null)break;se=F,F=se.parentNode}se=K}i=T===-1||O===-1?null:{start:T,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(Oh={focusedElem:e,selectionRange:i},tc=!1,nn=t;nn!==null;)if(t=nn,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,nn=e;else for(;nn!==null;){switch(t=nn,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,c=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var $e=Ia(i.type,c,i.elementType===i.type);e=l.getSnapshotBeforeUpdate($e,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(qe){bt(i,i.return,qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Rh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,nn=e;break}nn=t.return}}function Zm(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(e,i),l&4&&io(5,i);break;case 1:if(Qr(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(_){bt(i,i.return,_)}else{var c=Ia(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(_){bt(i,i.return,_)}}l&64&&Vm(i),l&512&&ro(i,i.return);break;case 3:if(Qr(e,i),l&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Np(e,t)}catch(_){bt(i,i.return,_)}}break;case 27:t===null&&l&4&&Qm(i);case 26:case 5:Qr(e,i),t===null&&l&4&&Km(i),l&512&&ro(i,i.return);break;case 12:Qr(e,i);break;case 13:Qr(e,i),l&4&&ey(e,i),l&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=J0.bind(null,i),vb(e,i))));break;case 22:if(l=i.memoizedState!==null||ur,!l){t=t!==null&&t.memoizedState!==null||It,c=ur;var d=It;ur=l,(It=t)&&!d?Xr(e,i,(i.subtreeFlags&8772)!==0):Qr(e,i),ur=c,It=d}break;case 30:break;default:Qr(e,i)}}function Wm(e){var t=e.alternate;t!==null&&(e.alternate=null,Wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Xn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Dt=null,Nn=!1;function cr(e,t,i){for(i=i.child;i!==null;)Jm(e,t,i),i=i.sibling}function Jm(e,t,i){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(jn,i)}catch{}switch(i.tag){case 26:It||ki(i,t),cr(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:It||ki(i,t);var l=Dt,c=Nn;na(i.type)&&(Dt=i.stateNode,Nn=!1),cr(e,t,i),po(i.stateNode),Dt=l,Nn=c;break;case 5:It||ki(i,t);case 6:if(l=Dt,c=Nn,Dt=null,cr(e,t,i),Dt=l,Nn=c,Dt!==null)if(Nn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(i.stateNode)}catch(d){bt(i,t,d)}else try{Dt.removeChild(i.stateNode)}catch(d){bt(i,t,d)}break;case 18:Dt!==null&&(Nn?(e=Dt,Hy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Eo(e)):Hy(Dt,i.stateNode));break;case 4:l=Dt,c=Nn,Dt=i.stateNode.containerInfo,Nn=!0,cr(e,t,i),Dt=l,Nn=c;break;case 0:case 11:case 14:case 15:It||Gr(2,i,t),It||Gr(4,i,t),cr(e,t,i);break;case 1:It||(ki(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&Fm(i,t,l)),cr(e,t,i);break;case 21:cr(e,t,i);break;case 22:It=(l=It)||i.memoizedState!==null,cr(e,t,i),It=l;break;default:cr(e,t,i)}}function ey(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eo(e)}catch(i){bt(t,t.return,i)}}function V0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xm),t;default:throw Error(a(435,e.tag))}}function rh(e,t){var i=V0(e);t.forEach(function(l){var c=eb.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}function Yn(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],d=e,_=t,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(na(T.type)){Dt=T.stateNode,Nn=!1;break e}break;case 5:Dt=T.stateNode,Nn=!1;break e;case 3:case 4:Dt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(Dt===null)throw Error(a(160));Jm(d,_,c),Dt=null,Nn=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)ty(t,e),t=t.sibling}var hi=null;function ty(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yn(t,e),$n(e),l&4&&(Gr(3,e,e.return),io(3,e),Gr(5,e,e.return));break;case 1:Yn(t,e),$n(e),l&512&&(It||i===null||ki(i,i.return)),l&64&&ur&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=hi;if(Yn(t,e),$n(e),l&512&&(It||i===null||ki(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ea]||d[jt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),dn(d,l,i),d[jt]=e,gt(d),l=d;break e;case"link":var _=Qy("link","href",c).get(l+(i.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(T,1);break t}}d=c.createElement(l),dn(d,l,i),c.head.appendChild(d);break;case"meta":if(_=Qy("meta","content",c).get(l+(i.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(T,1);break t}}d=c.createElement(l),dn(d,l,i),c.head.appendChild(d);break;default:throw Error(a(468,l))}d[jt]=e,gt(d),l=d}e.stateNode=l}else Xy(c,e.type,e.stateNode);else e.stateNode=Gy(c,l,e.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?Xy(c,e.type,e.stateNode):Gy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&eh(e,e.memoizedProps,i.memoizedProps)}break;case 27:Yn(t,e),$n(e),l&512&&(It||i===null||ki(i,i.return)),i!==null&&l&4&&eh(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Yn(t,e),$n(e),l&512&&(It||i===null||ki(i,i.return)),e.flags&32){c=e.stateNode;try{Rr(c,"")}catch(K){bt(e,e.return,K)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,eh(e,c,i!==null?i.memoizedProps:c)),l&1024&&(ih=!0);break;case 6:if(Yn(t,e),$n(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(K){bt(e,e.return,K)}}break;case 3:if(Wu=null,c=hi,hi=Xu(t.containerInfo),Yn(t,e),hi=c,$n(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Eo(t.containerInfo)}catch(K){bt(e,e.return,K)}ih&&(ih=!1,ny(e));break;case 4:l=hi,hi=Xu(e.stateNode.containerInfo),Yn(t,e),$n(e),hi=l;break;case 12:Yn(t,e),$n(e);break;case 13:Yn(t,e),$n(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ch=mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rh(e,l)));break;case 22:c=e.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,P=ur,ne=It;if(ur=P||c,It=ne||O,Yn(t,e),It=ne,ur=P,$n(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||O||ur||It||Ha(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){O=i=t;try{if(d=O.stateNode,c)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=O.stateNode;var se=O.memoizedProps.style,F=se!=null&&se.hasOwnProperty("display")?se.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(K){bt(O,O.return,K)}}}else if(t.tag===6){if(i===null){O=t;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(K){bt(O,O.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,rh(e,i))));break;case 19:Yn(t,e),$n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rh(e,l)));break;case 30:break;case 21:break;default:Yn(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{for(var i,l=e.return;l!==null;){if(Gm(l)){i=l;break}l=l.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var c=i.stateNode,d=th(e);ju(e,d,c);break;case 5:var _=i.stateNode;i.flags&32&&(Rr(_,""),i.flags&=-33);var T=th(e);ju(e,T,_);break;case 3:case 4:var O=i.stateNode.containerInfo,P=th(e);nh(e,P,O);break;default:throw Error(a(161))}}catch(ne){bt(e,e.return,ne)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ny(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Qr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zm(e,t.alternate,t),t=t.sibling}function Ha(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gr(4,t,t.return),Ha(t);break;case 1:ki(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Fm(t,t.return,i),Ha(t);break;case 27:po(t.stateNode);case 26:case 5:ki(t,t.return),Ha(t);break;case 22:t.memoizedState===null&&Ha(t);break;case 30:Ha(t);break;default:Ha(t)}e=e.sibling}}function Xr(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,_=d.flags;switch(d.tag){case 0:case 11:case 15:Xr(c,d,i),io(4,d);break;case 1:if(Xr(c,d,i),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){bt(l,l.return,P)}if(l=d,c=l.updateQueue,c!==null){var T=l.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Rp(O[c],T)}catch(P){bt(l,l.return,P)}}i&&_&64&&Vm(d),ro(d,d.return);break;case 27:Qm(d);case 26:case 5:Xr(c,d,i),i&&l===null&&_&4&&Km(d),ro(d,d.return);break;case 12:Xr(c,d,i);break;case 13:Xr(c,d,i),i&&_&4&&ey(c,d);break;case 22:d.memoizedState===null&&Xr(c,d,i),ro(d,d.return);break;case 30:break;default:Xr(c,d,i)}t=t.sibling}}function ah(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&$l(i))}function sh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e))}function Li(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iy(e,t,i,l),t=t.sibling}function iy(e,t,i,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Li(e,t,i,l),c&2048&&io(9,t);break;case 1:Li(e,t,i,l);break;case 3:Li(e,t,i,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e)));break;case 12:if(c&2048){Li(e,t,i,l),e=t.stateNode;try{var d=t.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){bt(t,t.return,O)}}else Li(e,t,i,l);break;case 13:Li(e,t,i,l);break;case 23:break;case 22:d=t.stateNode,_=t.alternate,t.memoizedState!==null?d._visibility&2?Li(e,t,i,l):ao(e,t):d._visibility&2?Li(e,t,i,l):(d._visibility|=2,js(e,t,i,l,(t.subtreeFlags&10256)!==0)),c&2048&&ah(_,t);break;case 24:Li(e,t,i,l),c&2048&&sh(t.alternate,t);break;default:Li(e,t,i,l)}}function js(e,t,i,l,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,_=t,T=i,O=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:js(d,_,T,O,c),io(8,_);break;case 23:break;case 22:var ne=_.stateNode;_.memoizedState!==null?ne._visibility&2?js(d,_,T,O,c):ao(d,_):(ne._visibility|=2,js(d,_,T,O,c)),c&&P&2048&&ah(_.alternate,_);break;case 24:js(d,_,T,O,c),c&&P&2048&&sh(_.alternate,_);break;default:js(d,_,T,O,c)}t=t.sibling}}function ao(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,c=l.flags;switch(l.tag){case 22:ao(i,l),c&2048&&ah(l.alternate,l);break;case 24:ao(i,l),c&2048&&sh(l.alternate,l);break;default:ao(i,l)}t=t.sibling}}var so=8192;function Bs(e){if(e.subtreeFlags&so)for(e=e.child;e!==null;)ry(e),e=e.sibling}function ry(e){switch(e.tag){case 26:Bs(e),e.flags&so&&e.memoizedState!==null&&Mb(hi,e.memoizedState,e.memoizedProps);break;case 5:Bs(e);break;case 3:case 4:var t=hi;hi=Xu(e.stateNode.containerInfo),Bs(e),hi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=so,so=16777216,Bs(e),so=t):Bs(e));break;default:Bs(e)}}function ay(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function lo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];nn=l,ly(l,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)sy(e),e=e.sibling}function sy(e){switch(e.tag){case 0:case 11:case 15:lo(e),e.flags&2048&&Gr(9,e,e.return);break;case 3:lo(e);break;case 12:lo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bu(e)):lo(e);break;default:lo(e)}}function Bu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];nn=l,ly(l,e)}ay(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gr(8,t,t.return),Bu(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Bu(t));break;default:Bu(t)}e=e.sibling}}function ly(e,t){for(;nn!==null;){var i=nn;switch(i.tag){case 0:case 11:case 15:Gr(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$l(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,nn=l;else e:for(i=e;nn!==null;){l=nn;var c=l.sibling,d=l.return;if(Wm(l),l===i){nn=null;break e}if(c!==null){c.return=d,nn=c;break e}nn=d}}}var F0={getCacheForType:function(e){var t=bn(Gt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},K0=typeof WeakMap=="function"?WeakMap:Map,ht=0,Et=null,nt=null,lt=0,dt=0,Pn=null,Zr=!1,qs=!1,lh=!1,fr=0,Ut=0,Wr=0,Ya=0,oh=0,ai=0,Is=0,oo=null,kn=null,uh=!1,ch=0,qu=1/0,Iu=null,Jr=null,hn=0,ea=null,Hs=null,Ys=0,fh=0,hh=null,oy=null,uo=0,dh=null;function Vn(){if((ht&2)!==0&&lt!==0)return lt&-lt;if(M.T!==null){var e=Ds;return e!==0?e:bh()}return Hi()}function uy(){ai===0&&(ai=(lt&536870912)===0||ct?_a():536870912);var e=ri.current;return e!==null&&(e.flags|=32),ai}function Fn(e,t,i){(e===Et&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&($s(e,0),ta(e,lt,ai,!1)),Tr(e,i),((ht&2)===0||e!==Et)&&(e===Et&&((ht&2)===0&&(Ya|=i),Ut===4&&ta(e,lt,ai,!1)),Ui(e))}function cy(e,t,i){if((ht&6)!==0)throw Error(a(327));var l=!i&&(t&124)===0&&(t&e.expiredLanes)===0||oi(e,t),c=l?X0(e,t):yh(e,t,!0),d=l;do{if(c===0){qs&&!l&&ta(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!G0(i)){c=yh(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var T=e;c=oo;var O=T.current.memoizedState.isDehydrated;if(O&&($s(T,_).flags|=256),_=yh(T,_,!1),_!==2){if(lh&&!O){T.errorRecoveryDisabledLanes|=d,Ya|=d,c=4;break e}d=kn,kn=c,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}c=_}if(d=!1,c!==2)continue}}if(c===1){$s(e,0),ta(e,t,0,!0);break}e:{switch(l=e,d=c,d){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:ta(l,t,ai,!Zr);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(c=ch+300-mn(),10<c)){if(ta(l,t,ai,!Zr),ke(l,0,!0)!==0)break e;l.timeoutHandle=qy(fy.bind(null,l,i,kn,Iu,uh,t,ai,Ya,Is,Zr,d,2,-0,0),c);break e}fy(l,i,kn,Iu,uh,t,ai,Ya,Is,Zr,d,0,-0,0)}}break}while(!0);Ui(e)}function fy(e,t,i,l,c,d,_,T,O,P,ne,se,F,K){if(e.timeoutHandle=-1,se=t.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(vo={stylesheets:null,count:0,unsuspend:Db},ry(t),se=Rb(),se!==null)){e.cancelPendingCommit=se(gy.bind(null,e,t,d,i,l,c,_,T,O,ne,1,F,K)),ta(e,d,_,!P);return}gy(e,t,d,i,l,c,_,T,O)}function G0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],d=c.getSnapshot;c=c.value;try{if(!_n(d(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t,i,l){t&=~oh,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-Kt(c),_=1<<d;l[d]=-1,c&=~_}i!==0&&pl(e,i,t)}function Hu(){return(ht&6)===0?(co(0),!1):!0}function ph(){if(nt!==null){if(dt===0)var e=nt.return;else e=nt,ir=za=null,Rf(e),Us=null,eo=0,e=nt;for(;e!==null;)Pm(e.alternate,e),e=e.return;nt=null}}function $s(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,hb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ph(),Et=e,nt=i=er(e.current,null),lt=t,dt=0,Pn=null,Zr=!1,qs=oi(e,t),lh=!1,Is=ai=oh=Ya=Wr=Ut=0,kn=oo=null,uh=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Kt(l),d=1<<c;t|=e[c],l&=~d}return fr=t,Ye(),i}function hy(e,t){Xe=null,M.H=Ou,t===Vl||t===gu?(t=Dp(),dt=3):t===Cp?(t=Dp(),dt=4):dt=t===Mm?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pn=t,nt===null&&(Ut=1,ku(e,je(t,e.current)))}function dy(){var e=M.H;return M.H=Ou,e===null?Ou:e}function py(){var e=M.A;return M.A=F0,e}function mh(){Ut=4,Zr||(lt&4194048)!==lt&&ri.current!==null||(qs=!0),(Wr&134217727)===0&&(Ya&134217727)===0||Et===null||ta(Et,lt,ai,!1)}function yh(e,t,i){var l=ht;ht|=2;var c=dy(),d=py();(Et!==e||lt!==t)&&(Iu=null,$s(e,t)),t=!1;var _=Ut;e:do try{if(dt!==0&&nt!==null){var T=nt,O=Pn;switch(dt){case 8:ph(),_=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(t=!0);var P=dt;if(dt=0,Pn=null,Ps(e,T,O,P),i&&qs){_=0;break e}break;default:P=dt,dt=0,Pn=null,Ps(e,T,O,P)}}Q0(),_=Ut;break}catch(ne){hy(e,ne)}while(!0);return t&&e.shellSuspendCounter++,ir=za=null,ht=l,M.H=c,M.A=d,nt===null&&(Et=null,lt=0,Ye()),_}function Q0(){for(;nt!==null;)my(nt)}function X0(e,t){var i=ht;ht|=2;var l=dy(),c=py();Et!==e||lt!==t?(Iu=null,qu=mn()+500,$s(e,t)):qs=oi(e,t);e:do try{if(dt!==0&&nt!==null){t=nt;var d=Pn;t:switch(dt){case 1:dt=0,Pn=null,Ps(e,t,d,1);break;case 2:case 9:if(Ap(d)){dt=0,Pn=null,yy(t);break}t=function(){dt!==2&&dt!==9||Et!==e||(dt=7),Ui(e)},d.then(t,t);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Ap(d)?(dt=0,Pn=null,yy(t)):(dt=0,Pn=null,Ps(e,t,d,7));break;case 5:var _=null;switch(nt.tag){case 26:_=nt.memoizedState;case 5:case 27:var T=nt;if(!_||Zy(_)){dt=0,Pn=null;var O=T.sibling;if(O!==null)nt=O;else{var P=T.return;P!==null?(nt=P,Yu(P)):nt=null}break t}}dt=0,Pn=null,Ps(e,t,d,5);break;case 6:dt=0,Pn=null,Ps(e,t,d,6);break;case 8:ph(),Ut=6;break e;default:throw Error(a(462))}}Z0();break}catch(ne){hy(e,ne)}while(!0);return ir=za=null,M.H=l,M.A=c,ht=i,nt!==null?0:(Et=null,lt=0,Ye(),Ut)}function Z0(){for(;nt!==null&&!Mn();)my(nt)}function my(e){var t=Ym(e.alternate,e,fr);e.memoizedProps=e.pendingProps,t===null?Yu(e):nt=t}function yy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=zm(i,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=zm(i,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:Rf(t);default:Pm(i,t),t=nt=vp(t,fr),t=Ym(i,t,fr)}e.memoizedProps=e.pendingProps,t===null?Yu(e):nt=t}function Ps(e,t,i,l){ir=za=null,Rf(t),Us=null,eo=0;var c=t.return;try{if(I0(e,c,t,i,lt)){Ut=1,ku(e,je(i,e.current)),nt=null;return}}catch(d){if(c!==null)throw nt=c,d;Ut=1,ku(e,je(i,e.current)),nt=null;return}t.flags&32768?(ct||l===1?e=!0:qs||(lt&536870912)!==0?e=!1:(Zr=e=!0,(l===2||l===9||l===3||l===6)&&(l=ri.current,l!==null&&l.tag===13&&(l.flags|=16384))),vy(t,e)):Yu(t)}function Yu(e){var t=e;do{if((t.flags&32768)!==0){vy(t,Zr);return}e=t.return;var i=Y0(t.alternate,t,fr);if(i!==null){nt=i;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Ut===0&&(Ut=5)}function vy(e,t){do{var i=$0(e.alternate,e);if(i!==null){i.flags&=32767,nt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=i}while(e!==null);Ut=6,nt=null}function gy(e,t,i,l,c,d,_,T,O){e.cancelPendingCommit=null;do $u();while(hn!==0);if((ht&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(d=t.lanes|t.childLanes,d|=cn,dl(e,i,d,_,T,O),e===Et&&(nt=Et=null,lt=0),Hs=t,ea=e,Ys=i,fh=d,hh=c,oy=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tb(En,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=M.T,M.T=null,c=Q.p,Q.p=2,_=ht,ht|=4;try{P0(e,t,i)}finally{ht=_,Q.p=c,M.T=l}}hn=1,_y(),by(),Sy()}}function _y(){if(hn===1){hn=0;var e=ea,t=Hs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var l=Q.p;Q.p=2;var c=ht;ht|=4;try{ty(t,e);var d=Oh,_=b(e.containerInfo),T=d.focusedElem,O=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&y(T.ownerDocument.documentElement,T)){if(O!==null&&E(T)){var P=O.start,ne=O.end;if(ne===void 0&&(ne=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(ne,T.value.length);else{var se=T.ownerDocument||document,F=se&&se.defaultView||window;if(F.getSelection){var K=F.getSelection(),$e=T.textContent.length,qe=Math.min(O.start,$e),vt=O.end===void 0?qe:Math.min(O.end,$e);!K.extend&&qe>vt&&(_=vt,vt=qe,qe=_);var q=m(T,qe),k=m(T,vt);if(q&&k&&(K.rangeCount!==1||K.anchorNode!==q.node||K.anchorOffset!==q.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var $=se.createRange();$.setStart(q.node,q.offset),K.removeAllRanges(),qe>vt?(K.addRange($),K.extend(k.node,k.offset)):($.setEnd(k.node,k.offset),K.addRange($))}}}}for(se=[],K=T;K=K.parentNode;)K.nodeType===1&&se.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<se.length;T++){var ie=se[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}tc=!!Ah,Oh=Ah=null}finally{ht=c,Q.p=l,M.T=i}}e.current=t,hn=2}}function by(){if(hn===2){hn=0;var e=ea,t=Hs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var l=Q.p;Q.p=2;var c=ht;ht|=4;try{Zm(e,t.alternate,t)}finally{ht=c,Q.p=l,M.T=i}}hn=3}}function Sy(){if(hn===4||hn===3){hn=0,ma();var e=ea,t=Hs,i=Ys,l=oy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?hn=5:(hn=0,Hs=ea=null,Ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Jr=null),yl(i),t=t.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(jn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=M.T,c=Q.p,Q.p=2,M.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{M.T=t,Q.p=c}}(Ys&3)!==0&&$u(),Ui(e),c=e.pendingLanes,(i&4194090)!==0&&(c&42)!==0?e===dh?uo++:(uo=0,dh=e):uo=0,co(0)}}function Ey(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$l(t)))}function $u(e){return _y(),by(),Sy(),Ty()}function Ty(){if(hn!==5)return!1;var e=ea,t=fh;fh=0;var i=yl(Ys),l=M.T,c=Q.p;try{Q.p=32>i?32:i,M.T=null,i=hh,hh=null;var d=ea,_=Ys;if(hn=0,Hs=ea=null,Ys=0,(ht&6)!==0)throw Error(a(331));var T=ht;if(ht|=4,sy(d.current),iy(d,d.current,_,i),ht=T,co(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(jn,d)}catch{}return!0}finally{Q.p=c,M.T=l,Ey(e,t)}}function wy(e,t,i){t=je(i,t),t=Vf(e.stateNode,t,2),e=Pr(e,t,2),e!==null&&(Tr(e,2),Ui(e))}function bt(e,t,i){if(e.tag===3)wy(e,e,i);else for(;t!==null;){if(t.tag===3){wy(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){e=je(i,e),i=Om(2),l=Pr(t,i,2),l!==null&&(Dm(i,l,t,e),Tr(l,2),Ui(l));break}}t=t.return}}function vh(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new K0;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(i)||(lh=!0,c.add(i),e=W0.bind(null,e,t,i),t.then(e,e))}function W0(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Et===e&&(lt&i)===i&&(Ut===4||Ut===3&&(lt&62914560)===lt&&300>mn()-ch?(ht&2)===0&&$s(e,0):oh|=i,Is===lt&&(Is=0)),Ui(e)}function xy(e,t){t===0&&(t=Te()),e=fi(e,t),e!==null&&(Tr(e,t),Ui(e))}function J0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),xy(e,i)}function eb(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(t),xy(e,i)}function tb(e,t){return Zt(e,t)}var Pu=null,Vs=null,gh=!1,Vu=!1,_h=!1,$a=0;function Ui(e){e!==Vs&&e.next===null&&(Vs===null?Pu=Vs=e:Vs=Vs.next=e),Vu=!0,gh||(gh=!0,ib())}function co(e,t){if(!_h&&Vu){_h=!0;do for(var i=!1,l=Pu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Kt(42|e)+1)-1,d&=c&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,Dy(l,d))}else d=lt,d=ke(l,l===Et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||oi(l,d)||(i=!0,Dy(l,d));l=l.next}while(i);_h=!1}}function nb(){Cy()}function Cy(){Vu=gh=!1;var e=0;$a!==0&&(fb()&&(e=$a),$a=0);for(var t=mn(),i=null,l=Pu;l!==null;){var c=l.next,d=Ay(l,t);d===0?(l.next=null,i===null?Pu=c:i.next=c,c===null&&(Vs=i)):(i=l,(e!==0||(d&3)!==0)&&(Vu=!0)),l=c}co(e)}function Ay(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Kt(d),T=1<<_,O=c[_];O===-1?((T&i)===0||(T&l)!==0)&&(c[_]=Ii(T,t)):O<=t&&(e.expiredLanes|=T),d&=~T}if(t=Et,i=lt,i=ke(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,i===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_i(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||oi(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&_i(l),yl(i)){case 2:case 8:i=va;break;case 32:i=En;break;case 268435456:i=Sr;break;default:i=En}return l=Oy.bind(null,e),i=Zt(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&_i(l),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,t){if(hn!==0&&hn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if($u()&&e.callbackNode!==i)return null;var l=lt;return l=ke(e,e===Et?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(cy(e,l,t),Ay(e,mn()),e.callbackNode!=null&&e.callbackNode===i?Oy.bind(null,e):null)}function Dy(e,t){if($u())return null;cy(e,t,!0)}function ib(){db(function(){(ht&6)!==0?Zt(br,nb):Cy()})}function bh(){return $a===0&&($a=_a()),$a}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vi(""+e)}function Ry(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function rb(e,t,i,l,c){if(t==="submit"&&i&&i.stateNode===c){var d=My((c[Qe]||null).action),_=l.submitter;_&&(t=(t=_[Qe]||null)?My(t.formAction):_.getAttribute("formAction"),t!==null&&(d=t,_=null));var T=new fs("action","action",null,l,c);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($a!==0){var O=_?Ry(c,_):new FormData(c);If(i,{pending:!0,data:O,method:c.method,action:d},null,O)}}else typeof d=="function"&&(T.preventDefault(),O=_?Ry(c,_):new FormData(c),If(i,{pending:!0,data:O,method:c.method,action:d},d,O))},currentTarget:c}]})}}for(var Sh=0;Sh<Ee.length;Sh++){var Eh=Ee[Sh],ab=Eh.toLowerCase(),sb=Eh[0].toUpperCase()+Eh.slice(1);de(ab,"on"+sb)}de(V,"onAnimationEnd"),de(G,"onAnimationIteration"),de(X,"onAnimationStart"),de("dblclick","onDoubleClick"),de("focusin","onFocus"),de("focusout","onBlur"),de(te,"onTransitionRun"),de(pe,"onTransitionStart"),de(Se,"onTransitionCancel"),de(he,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function Ny(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var _=l.length-1;0<=_;_--){var T=l[_],O=T.instance,P=T.currentTarget;if(T=T.listener,O!==d&&c.isPropagationStopped())break e;d=T,c.currentTarget=P;try{d(c)}catch(ne){Nu(ne)}c.currentTarget=null,d=O}else for(_=0;_<l.length;_++){if(T=l[_],O=T.instance,P=T.currentTarget,T=T.listener,O!==d&&c.isPropagationStopped())break e;d=T,c.currentTarget=P;try{d(c)}catch(ne){Nu(ne)}c.currentTarget=null,d=O}}}}function it(e,t){var i=t[vl];i===void 0&&(i=t[vl]=new Set);var l=e+"__bubble";i.has(l)||(ky(t,e,2,!1),i.add(l))}function Th(e,t,i){var l=0;t&&(l|=4),ky(i,e,l,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function wh(e){if(!e[Fu]){e[Fu]=!0,gl.forEach(function(i){i!=="selectionchange"&&(lb.has(i)||Th(i,!1,e),Th(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fu]||(t[Fu]=!0,Th("selectionchange",!1,t))}}function ky(e,t,i,l){switch(iv(t)){case 2:var c=Lb;break;case 8:c=Ub;break;default:c=Bh}i=c.bind(null,t,i,e),c=void 0,!xl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function xh(e,t,i,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===c)break;if(_===4)for(_=l.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;T!==null;){if(_=Bn(T),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){l=d=_;continue e}T=T.parentNode}}l=l.return}kr(function(){var P=d,ne=us(i),se=[];e:{var F=ye.get(e);if(F!==void 0){var K=fs,$e=e;switch(e){case"keypress":if(zr(i)===0)break e;case"keydown":case"keyup":K=_s;break;case"focusin":$e="focus",K=jr;break;case"focusout":$e="blur",K=jr;break;case"beforeblur":case"afterblur":K=jr;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Nl;break;case V:case G:case X:K=nu;break;case he:K=kl;break;case"scroll":case"scrollend":K=hs;break;case"wheel":K=Ss;break;case"copy":case"cut":case"paste":K=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Rl;break;case"toggle":case"beforetoggle":K=au}var qe=(t&4)!==0,vt=!qe&&(e==="scroll"||e==="scrollend"),q=qe?F!==null?F+"Capture":null:F;qe=[];for(var k=P,$;k!==null;){var ie=k;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||q===null||(ie=Gi(k,q),ie!=null&&qe.push(ho(k,ie,$))),vt)break;k=k.return}0<qe.length&&(F=new K(F,$e,null,i,ne),se.push({event:F,listeners:qe}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",F&&i!==Wn&&($e=i.relatedTarget||i.fromElement)&&(Bn($e)||$e[Tt]))break e;if((K||F)&&(F=ne.window===ne?ne:(F=ne.ownerDocument)?F.defaultView||F.parentWindow:window,K?($e=i.relatedTarget||i.toElement,K=P,$e=$e?Bn($e):null,$e!==null&&(vt=h($e),qe=$e.tag,$e!==vt||qe!==5&&qe!==27&&qe!==6)&&($e=null)):(K=null,$e=P),K!==$e)){if(qe=ps,ie="onMouseLeave",q="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(qe=Rl,ie="onPointerLeave",q="onPointerEnter",k="pointer"),vt=K==null?F:bi(K),$=$e==null?F:bi($e),F=new qe(ie,k+"leave",K,i,ne),F.target=vt,F.relatedTarget=$,ie=null,Bn(ne)===P&&(qe=new qe(q,k+"enter",$e,i,ne),qe.target=$,qe.relatedTarget=vt,ie=qe),vt=ie,K&&$e)t:{for(qe=K,q=$e,k=0,$=qe;$;$=Fs($))k++;for($=0,ie=q;ie;ie=Fs(ie))$++;for(;0<k-$;)qe=Fs(qe),k--;for(;0<$-k;)q=Fs(q),$--;for(;k--;){if(qe===q||q!==null&&qe===q.alternate)break t;qe=Fs(qe),q=Fs(q)}qe=null}else qe=null;K!==null&&Ly(se,F,K,qe,!1),$e!==null&&vt!==null&&Ly(se,vt,$e,qe,!0)}}e:{if(F=P?bi(P):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var Re=Ma;else if(ws(F))if(ei)Re=Ir;else{Re=Ji;var We=fu}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?P&&wl(P.elementType)&&(Re=Ma):Re=Bl;if(Re&&(Re=Re(e,P))){jl(se,Re,i,ne);break e}We&&We(e,F,P),e==="focusout"&&P&&F.type==="number"&&P.memoizedProps.value!=null&&Dr(F,"number",F.value)}switch(We=P?bi(P):window,e){case"focusin":(ws(We)||We.contentEditable==="true")&&(C=We,N=P,L=null);break;case"focusout":L=N=C=null;break;case"mousedown":B=!0;break;case"contextmenu":case"mouseup":case"dragend":B=!1,D(se,i,ne);break;case"selectionchange":if(w)break;case"keydown":case"keyup":D(se,i,ne)}var ze;if(Oa)e:{switch(e){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Wi?zl(e,i)&&(Ie="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Ie="onCompositionStart");Ie&&(Es&&i.locale!=="ko"&&(Wi||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Wi&&(ze=Ur()):(Jn=ne,cs="value"in Jn?Jn.value:Jn.textContent,Wi=!0)),We=Ku(P,Ie),0<We.length&&(Ie=new gs(Ie,e,null,i,ne),se.push({event:Ie,listeners:We}),ze?Ie.data=ze:(ze=lu(i),ze!==null&&(Ie.data=ze)))),(ze=af?ou(e,i):sf(e,i))&&(Ie=Ku(P,"onBeforeInput"),0<Ie.length&&(We=new gs("onBeforeInput","beforeinput",null,i,ne),se.push({event:We,listeners:Ie}),We.data=ze)),rb(se,e,P,i,ne)}Ny(se,t)})}function ho(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ku(e,t){for(var i=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Gi(e,i),c!=null&&l.unshift(ho(e,c,d)),c=Gi(e,t),c!=null&&l.push(ho(e,c,d))),e.tag===3)return l;e=e.return}return[]}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ly(e,t,i,l,c){for(var d=t._reactName,_=[];i!==null&&i!==l;){var T=i,O=T.alternate,P=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||P===null||(O=P,c?(P=Gi(i,d),P!=null&&_.unshift(ho(i,P,O))):c||(P=Gi(i,d),P!=null&&_.push(ho(i,P,O)))),i=i.return}_.length!==0&&e.push({event:t,listeners:_})}var ob=/\r\n?/g,ub=/\u0000|\uFFFD/g;function Uy(e){return(typeof e=="string"?e:""+e).replace(ob,`
`).replace(ub,"")}function zy(e,t){return t=Uy(t),Uy(e)===t}function Gu(){}function yt(e,t,i,l,c,d){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Rr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Rr(e,""+l);break;case"className":Yi(e,"class",l);break;case"tabIndex":Yi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(e,i,l);break;case"style":Jo(e,l,d);break;case"data":if(t!=="object"){Yi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Vi(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&yt(e,t,"name",c.name,c,null),yt(e,t,"formEncType",c.formEncType,c,null),yt(e,t,"formMethod",c.formMethod,c,null),yt(e,t,"formTarget",c.formTarget,c,null)):(yt(e,t,"encType",c.encType,c,null),yt(e,t,"method",c.method,c,null),yt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Vi(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Gu);break;case"onScroll":l!=null&&it("scroll",e);break;case"onScrollEnd":l!=null&&it("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Vi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":it("beforetoggle",e),it("toggle",e),ui(e,"popover",l);break;case"xlinkActuate":qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ui(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=xn.get(i)||i,ui(e,i,l))}}function Ch(e,t,i,l,c,d){switch(i){case"style":Jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Rr(e,l):(typeof l=="number"||typeof l=="bigint")&&Rr(e,""+l);break;case"onScroll":l!=null&&it("scroll",e);break;case"onScrollEnd":l!=null&&it("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Si.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),d=e[Qe]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):ui(e,i,l)}}}function dn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",e),it("load",e);var l=!1,c=!1,d;for(d in i)if(i.hasOwnProperty(d)){var _=i[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:yt(e,t,d,_,i,null)}}c&&yt(e,t,"srcSet",i.srcSet,i,null),l&&yt(e,t,"src",i.src,i,null);return;case"input":it("invalid",e);var T=d=_=c=null,O=null,P=null;for(l in i)if(i.hasOwnProperty(l)){var ne=i[l];if(ne!=null)switch(l){case"name":c=ne;break;case"type":_=ne;break;case"checked":O=ne;break;case"defaultChecked":P=ne;break;case"value":d=ne;break;case"defaultValue":T=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,t));break;default:yt(e,t,l,ne,i,null)}}El(e,d,T,O,P,_,c,!1),Ci(e);return;case"select":it("invalid",e),l=_=d=null;for(c in i)if(i.hasOwnProperty(c)&&(T=i[c],T!=null))switch(c){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:yt(e,t,c,T,i,null)}t=d,i=_,e.multiple=!!l,t!=null?Pi(e,!!l,t,!1):i!=null&&Pi(e,!!l,i,!0);return;case"textarea":it("invalid",e),d=c=l=null;for(_ in i)if(i.hasOwnProperty(_)&&(T=i[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":c=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:yt(e,t,_,T,i,null)}Tl(e,l,c,d),Ci(e);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(l=i[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:yt(e,t,O,l,i,null)}return;case"dialog":it("beforetoggle",e),it("toggle",e),it("cancel",e),it("close",e);break;case"iframe":case"object":it("load",e);break;case"video":case"audio":for(l=0;l<fo.length;l++)it(fo[l],e);break;case"image":it("error",e),it("load",e);break;case"details":it("toggle",e);break;case"embed":case"source":case"link":it("error",e),it("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in i)if(i.hasOwnProperty(P)&&(l=i[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:yt(e,t,P,l,i,null)}return;default:if(wl(t)){for(ne in i)i.hasOwnProperty(ne)&&(l=i[ne],l!==void 0&&Ch(e,t,ne,l,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(l=i[T],l!=null&&yt(e,t,T,l,i,null))}function cb(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,_=null,T=null,O=null,P=null,ne=null;for(K in i){var se=i[K];if(i.hasOwnProperty(K)&&se!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=se;default:l.hasOwnProperty(K)||yt(e,t,K,null,l,se)}}for(var F in l){var K=l[F];if(se=i[F],l.hasOwnProperty(F)&&(K!=null||se!=null))switch(F){case"type":d=K;break;case"name":c=K;break;case"checked":P=K;break;case"defaultChecked":ne=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,t));break;default:K!==se&&yt(e,t,F,K,l,se)}}Or(e,_,T,O,P,ne,d,c);return;case"select":K=_=T=F=null;for(d in i)if(O=i[d],i.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(d)||yt(e,t,d,null,l,O)}for(c in l)if(d=l[c],O=i[c],l.hasOwnProperty(c)&&(d!=null||O!=null))switch(c){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==O&&yt(e,t,c,d,l,O)}t=T,i=_,l=K,F!=null?Pi(e,!!i,F,!1):!!l!=!!i&&(t!=null?Pi(e,!!i,t,!0):Pi(e,!!i,i?[]:"",!1));return;case"textarea":K=F=null;for(T in i)if(c=i[T],i.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:yt(e,t,T,null,l,c)}for(_ in l)if(c=l[_],d=i[_],l.hasOwnProperty(_)&&(c!=null||d!=null))switch(_){case"value":F=c;break;case"defaultValue":K=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&yt(e,t,_,c,l,d)}Mr(e,F,K);return;case"option":for(var $e in i)if(F=i[$e],i.hasOwnProperty($e)&&F!=null&&!l.hasOwnProperty($e))switch($e){case"selected":e.selected=!1;break;default:yt(e,t,$e,null,l,F)}for(O in l)if(F=l[O],K=i[O],l.hasOwnProperty(O)&&F!==K&&(F!=null||K!=null))switch(O){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:yt(e,t,O,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in i)F=i[qe],i.hasOwnProperty(qe)&&F!=null&&!l.hasOwnProperty(qe)&&yt(e,t,qe,null,l,F);for(P in l)if(F=l[P],K=i[P],l.hasOwnProperty(P)&&F!==K&&(F!=null||K!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,t));break;default:yt(e,t,P,F,l,K)}return;default:if(wl(t)){for(var vt in i)F=i[vt],i.hasOwnProperty(vt)&&F!==void 0&&!l.hasOwnProperty(vt)&&Ch(e,t,vt,void 0,l,F);for(ne in l)F=l[ne],K=i[ne],!l.hasOwnProperty(ne)||F===K||F===void 0&&K===void 0||Ch(e,t,ne,F,l,K);return}}for(var q in i)F=i[q],i.hasOwnProperty(q)&&F!=null&&!l.hasOwnProperty(q)&&yt(e,t,q,null,l,F);for(se in l)F=l[se],K=i[se],!l.hasOwnProperty(se)||F===K||F==null&&K==null||yt(e,t,se,F,l,K)}var Ah=null,Oh=null;function Qu(e){return e.nodeType===9?e:e.ownerDocument}function jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function By(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=null;function fb(){var e=window.event;return e&&e.type==="popstate"?e===Mh?!1:(Mh=e,!0):(Mh=null,!1)}var qy=typeof setTimeout=="function"?setTimeout:void 0,hb=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(e){return Iy.resolve(null).then(e).catch(pb)}:qy;function pb(e){setTimeout(function(){throw e})}function na(e){return e==="head"}function Hy(e,t){var i=t,l=0,c=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(0<l&&8>l){i=l;var _=e.ownerDocument;if(i&1&&po(_.documentElement),i&2&&po(_.body),i&4)for(i=_.head,po(i),_=i.firstChild;_;){var T=_.nextSibling,O=_.nodeName;_[Ea]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&_.rel.toLowerCase()==="stylesheet"||i.removeChild(_),_=T}}if(c===0){e.removeChild(d),Eo(t);return}c--}else i==="$"||i==="$?"||i==="$!"?c++:l=i.charCodeAt(0)-48;else l=0;i=d}while(i);Eo(t)}function Rh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Rh(i),Xn(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function mb(e,t,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ea])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=di(e.nextSibling),e===null)break}return null}function yb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=di(e.nextSibling),e===null))return null;return e}function Nh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function vb(e,t){var i=e.ownerDocument;if(e.data!=="$?"||i.readyState==="complete")t();else{var l=function(){t(),i.removeEventListener("DOMContentLoaded",l)};i.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function di(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var kh=null;function Yy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function $y(e,t,i){switch(t=Qu(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function po(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xn(e)}var si=new Map,Py=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hr=Q.d;Q.d={f:gb,r:_b,D:bb,C:Sb,L:Eb,m:Tb,X:xb,S:wb,M:Cb};function gb(){var e=hr.f(),t=Hu();return e||t}function _b(e){var t=Tn(e);t!==null&&t.tag===5&&t.type==="form"?cm(t):hr.r(e)}var Ks=typeof document>"u"?null:document;function Vy(e,t,i){var l=Ks;if(l&&typeof t=="string"&&t){var c=vn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Py.has(c)||(Py.add(c),e={rel:e,crossOrigin:i,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),dn(t,"link",e),gt(t),l.head.appendChild(t)))}}function bb(e){hr.D(e),Vy("dns-prefetch",e,null)}function Sb(e,t){hr.C(e,t),Vy("preconnect",e,t)}function Eb(e,t,i){hr.L(e,t,i);var l=Ks;if(l&&e&&t){var c='link[rel="preload"][as="'+vn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+vn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+vn(i.imageSizes)+'"]')):c+='[href="'+vn(e)+'"]';var d=c;switch(t){case"style":d=Gs(e);break;case"script":d=Qs(e)}si.has(d)||(e=x({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),si.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(mo(d))||t==="script"&&l.querySelector(yo(d))||(t=l.createElement("link"),dn(t,"link",e),gt(t),l.head.appendChild(t)))}}function Tb(e,t){hr.m(e,t);var i=Ks;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qs(e)}if(!si.has(d)&&(e=x({rel:"modulepreload",href:e},t),si.set(d,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(yo(d)))return}l=i.createElement("link"),dn(l,"link",e),gt(l),i.head.appendChild(l)}}}function wb(e,t,i){hr.S(e,t,i);var l=Ks;if(l&&e){var c=xr(l).hoistableStyles,d=Gs(e);t=t||"default";var _=c.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(mo(d)))T.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},i),(i=si.get(d))&&Lh(e,i);var O=_=l.createElement("link");gt(O),dn(O,"link",e),O._p=new Promise(function(P,ne){O.onload=P,O.onerror=ne}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Zu(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:T},c.set(d,_)}}}function xb(e,t){hr.X(e,t);var i=Ks;if(i&&e){var l=xr(i).hoistableScripts,c=Qs(e),d=l.get(c);d||(d=i.querySelector(yo(c)),d||(e=x({src:e,async:!0},t),(t=si.get(c))&&Uh(e,t),d=i.createElement("script"),gt(d),dn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Cb(e,t){hr.M(e,t);var i=Ks;if(i&&e){var l=xr(i).hoistableScripts,c=Qs(e),d=l.get(c);d||(d=i.querySelector(yo(c)),d||(e=x({src:e,async:!0,type:"module"},t),(t=si.get(c))&&Uh(e,t),d=i.createElement("script"),gt(d),dn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Fy(e,t,i,l){var c=(c=At.current)?Xu(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Gs(i.href),i=xr(c).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Gs(i.href);var d=xr(c).hoistableStyles,_=d.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=c.querySelector(mo(e)))&&!d._p&&(_.instance=d,_.state.loading=5),si.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},si.set(e,i),d||Ab(c,e,i,_.state))),t&&l===null)throw Error(a(528,""));return _}if(t&&l!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qs(i),i=xr(c).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gs(e){return'href="'+vn(e)+'"'}function mo(e){return'link[rel="stylesheet"]['+e+"]"}function Ky(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Ab(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),dn(t,"link",i),gt(t),e.head.appendChild(t))}function Qs(e){return'[src="'+vn(e)+'"]'}function yo(e){return"script[async]"+e}function Gy(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+vn(i.href)+'"]');if(l)return t.instance=l,gt(l),l;var c=x({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),gt(l),dn(l,"style",c),Zu(l,i.precedence,e),t.instance=l;case"stylesheet":c=Gs(i.href);var d=e.querySelector(mo(c));if(d)return t.state.loading|=4,t.instance=d,gt(d),d;l=Ky(i),(c=si.get(c))&&Lh(l,c),d=(e.ownerDocument||e).createElement("link"),gt(d);var _=d;return _._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),dn(d,"link",l),t.state.loading|=4,Zu(d,i.precedence,e),t.instance=d;case"script":return d=Qs(i.src),(c=e.querySelector(yo(d)))?(t.instance=c,gt(c),c):(l=i,(c=si.get(d))&&(l=x({},i),Uh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),gt(c),dn(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Zu(l,i.precedence,e));return t.instance}function Zu(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===t)d=T;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Lh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Uh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wu=null;function Qy(e,t,i){if(Wu===null){var l=new Map,c=Wu=new Map;c.set(i,l)}else c=Wu,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var d=i[c];if(!(d[Ea]||d[jt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(t)||"";_=e+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Xy(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Ob(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Zy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vo=null;function Db(){}function Mb(e,t,i){if(vo===null)throw Error(a(475));var l=vo;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=Gs(i.href),d=e.querySelector(mo(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ju.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=d,gt(d);return}d=e.ownerDocument||e,i=Ky(i),(c=si.get(c))&&Lh(i,c),d=d.createElement("link"),gt(d);var _=d;_._p=new Promise(function(T,O){_.onload=T,_.onerror=O}),dn(d,"link",i),t.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Ju.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Rb(){if(vo===null)throw Error(a(475));var e=vo;return e.stylesheets&&e.count===0&&zh(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&zh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)zh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ec=null;function zh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ec=new Map,t.forEach(Nb,e),ec=null,Ju.call(e))}function Nb(e,t){if(!(t.state.loading&4)){var i=ec.get(e);if(i)var l=i.get(null);else{i=new Map,ec.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var _=c[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),l=_)}l&&i.set(null,l)}c=t.instance,_=c.getAttribute("data-precedence"),d=i.get(_)||l,d===l&&i.set(null,c),i.set(_,c),this.count++,l=Ju.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var go={$$typeof:Ce,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function kb(e,t,i,l,c,d,_,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Wy(e,t,i,l,c,d,_,T,O,P,ne,se){return e=new kb(e,t,i,_,T,O,P,se),t=1,d===!0&&(t|=24),d=Hn(3,null,null,t),e.current=d,d.stateNode=e,t=vf(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:t},Sf(d),e}function Jy(e){return e?(e=Mi,e):Mi}function ev(e,t,i,l,c,d){c=Jy(c),l.context===null?l.context=c:l.pendingContext=c,l=$r(t),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Pr(e,l,t),i!==null&&(Fn(i,e,t),Kl(i,e,t))}function tv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function jh(e,t){tv(e,t),(e=e.alternate)&&tv(e,t)}function nv(e){if(e.tag===13){var t=fi(e,67108864);t!==null&&Fn(t,e,67108864),jh(e,67108864)}}var tc=!0;function Lb(e,t,i,l){var c=M.T;M.T=null;var d=Q.p;try{Q.p=2,Bh(e,t,i,l)}finally{Q.p=d,M.T=c}}function Ub(e,t,i,l){var c=M.T;M.T=null;var d=Q.p;try{Q.p=8,Bh(e,t,i,l)}finally{Q.p=d,M.T=c}}function Bh(e,t,i,l){if(tc){var c=qh(l);if(c===null)xh(e,t,l,nc,i),rv(e,l);else if(jb(c,e,t,i,l))l.stopPropagation();else if(rv(e,l),t&4&&-1<zb.indexOf(e)){for(;c!==null;){var d=Tn(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=yn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var O=1<<31-Kt(_);T.entanglements[1]|=O,_&=~O}Ui(d),(ht&6)===0&&(qu=mn()+500,co(0))}}break;case 13:T=fi(d,2),T!==null&&Fn(T,d,2),Hu(),jh(d,2)}if(d=qh(l),d===null&&xh(e,t,l,nc,i),d===c)break;c=d}c!==null&&l.stopPropagation()}else xh(e,t,l,null,i)}}function qh(e){return e=us(e),Ih(e)}var nc=null;function Ih(e){if(nc=null,e=Bn(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nc=e,null}function iv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ya()){case br:return 2;case va:return 8;case En:case Xo:return 32;case Sr:return 268435456;default:return 32}default:return 32}}var Hh=!1,ia=null,ra=null,aa=null,_o=new Map,bo=new Map,sa=[],zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(e,t){switch(e){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":aa=null;break;case"pointerover":case"pointerout":_o.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(t.pointerId)}}function So(e,t,i,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Tn(t),t!==null&&nv(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function jb(e,t,i,l,c){switch(t){case"focusin":return ia=So(ia,e,t,i,l,c),!0;case"dragenter":return ra=So(ra,e,t,i,l,c),!0;case"mouseover":return aa=So(aa,e,t,i,l,c),!0;case"pointerover":var d=c.pointerId;return _o.set(d,So(_o.get(d)||null,e,t,i,l,c)),!0;case"gotpointercapture":return d=c.pointerId,bo.set(d,So(bo.get(d)||null,e,t,i,l,c)),!0}return!1}function av(e){var t=Bn(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=p(i),t!==null){e.blockedOn=t,wr(e.priority,function(){if(i.tag===13){var l=Vn();l=ml(l);var c=fi(i,l);c!==null&&Fn(c,i,l),jh(i,l)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=qh(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Wn=l,i.target.dispatchEvent(l),Wn=null}else return t=Tn(i),t!==null&&nv(t),e.blockedOn=i,!1;t.shift()}return!0}function sv(e,t,i){ic(e)&&i.delete(t)}function Bb(){Hh=!1,ia!==null&&ic(ia)&&(ia=null),ra!==null&&ic(ra)&&(ra=null),aa!==null&&ic(aa)&&(aa=null),_o.forEach(sv),bo.forEach(sv)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,Hh||(Hh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bb)))}var ac=null;function lv(e){ac!==e&&(ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ac===e&&(ac=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Ih(l||i)===null)continue;break}var d=Tn(i);d!==null&&(e.splice(t,3),t-=3,If(d,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function Eo(e){function t(O){return rc(O,e)}ia!==null&&rc(ia,e),ra!==null&&rc(ra,e),aa!==null&&rc(aa,e),_o.forEach(t),bo.forEach(t);for(var i=0;i<sa.length;i++){var l=sa[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<sa.length&&(i=sa[0],i.blockedOn===null);)av(i),i.blockedOn===null&&sa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],d=i[l+1],_=c[Qe]||null;if(typeof d=="function")_||lv(i);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(c=d,_=d[Qe]||null)T=_.formAction;else if(Ih(c)!==null)continue}else T=_.action;typeof T=="function"?i[l+1]=T:(i.splice(l,3),l-=3),lv(i)}}}function Yh(e){this._internalRoot=e}sc.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,l=Vn();ev(i,l,e,t,null,null)},sc.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ev(e.current,2,null,e,null,null),Hu(),t[Tt]=null}};function sc(e){this._internalRoot=e}sc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hi();e={blockedOn:null,target:e,priority:t};for(var i=0;i<sa.length&&t!==0&&t<sa[i].priority;i++);sa.splice(i,0,e),i===0&&av(e)}};var ov=n.version;if(ov!=="19.1.0")throw Error(a(527,ov,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var qb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{jn=lc.inject(qb),zt=lc}catch{}}return To.createRoot=function(e,t){if(!o(e))throw Error(a(299));var i=!1,l="",c=wm,d=xm,_=Cm,T=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(T=t.unstable_transitionCallbacks)),t=Wy(e,1,!1,null,null,i,l,c,d,_,T,null),e[Tt]=t.current,wh(e),new Yh(t)},To.hydrateRoot=function(e,t,i){if(!o(e))throw Error(a(299));var l=!1,c="",d=wm,_=xm,T=Cm,O=null,P=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(O=i.unstable_transitionCallbacks),i.formState!==void 0&&(P=i.formState)),t=Wy(e,1,!0,t,i??null,l,c,d,_,T,O,P),t.context=Jy(null),i=t.current,l=Vn(),l=ml(l),c=$r(l),c.callback=null,Pr(i,c,l),i=l,t.current.lanes=i,Tr(t,i),Ui(t),e[Tt]=t.current,wh(e),new sc(t)},To.version="19.1.0",To}var Tv;function NS(){if(Tv)return Fh.exports;Tv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Fh.exports=RS(),Fh.exports}var kS=NS();const LS=ha(kS),US=["localeText"],wv=at.createContext(null),zS=function(n){const{localeText:r}=n,a=$b(n,US),{utils:o,localeText:h}=at.useContext(wv)??{utils:void 0,localeText:void 0},p=Pb({props:a,name:"MuiLocalizationProvider"}),{children:v,dateAdapter:g,dateFormats:S,dateLibInstance:x,adapterLocale:A,localeText:z}=p,W=at.useMemo(()=>Dg({},z,h,r),[z,h,r]),le=at.useMemo(()=>{if(!g)return o||null;const Le=new g({locale:A,formats:S,instance:x});if(!Le.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return Le},[g,A,S,x,o]),xe=at.useMemo(()=>le?{minDate:le.date("1900-01-01T00:00:00.000"),maxDate:le.date("2099-12-31T00:00:00.000")}:null,[le]),ve=at.useMemo(()=>({utils:le,defaultDates:xe,localeText:W}),[xe,le,W]);return ot.jsx(wv.Provider,{value:ve,children:v})};var xv={};const Cv="@firebase/database",Av="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_="";function jS(s){e_=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,r){r==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),un(r))}get(n){const r=this.domStorage_.getItem(this.prefixedName_(n));return r==null?null:Ad(r)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,r){r==null?delete this.cache_[n]:this.cache_[n]=r}get(n){return ji(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new BS(n)}}catch{}return new qS},Va=t_("localStorage"),IS=t_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el=new i1("@firebase/database"),HS=function(){let s=1;return function(){return s++}}(),n_=function(s){const n=s1(s),r=new l1;r.update(n);const a=r.digest();return o1.encodeByteArray(a)},Vo=function(...s){let n="";for(let r=0;r<s.length;r++){const a=s[r];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?n+=Vo.apply(null,a):typeof a=="object"?n+=un(a):n+=a,n+=" "}return n};let Mo=null,Ov=!0;const YS=function(s,n){_e(!0,"Can't turn on custom loggers persistently."),el.logLevel=c1.VERBOSE,Mo=el.log.bind(el)},pn=function(...s){if(Ov===!0&&(Ov=!1,Mo===null&&IS.get("logging_enabled")===!0&&YS()),Mo){const n=Vo.apply(null,s);Mo(n)}},Fo=function(s){return function(...n){pn(s,...n)}},cd=function(...s){const n="FIREBASE INTERNAL ERROR: "+Vo(...s);el.error(n)},yr=function(...s){const n=`FIREBASE FATAL ERROR: ${Vo(...s)}`;throw el.error(n),new Error(n)},zn=function(...s){const n="FIREBASE WARNING: "+Vo(...s);el.warn(n)},$S=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vc=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},PS=function(s){if(document.readyState==="complete")s();else{let n=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},al="[MIN_NAME]",Ga="[MAX_NAME]",ts=function(s,n){if(s===n)return 0;if(s===al||n===Ga)return-1;if(n===al||s===Ga)return 1;{const r=Dv(s),a=Dv(n);return r!==null?a!==null?r-a===0?s.length-n.length:r-a:-1:a!==null?1:s<n?-1:1}},VS=function(s,n){return s===n?0:s<n?-1:1},wo=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+un(n))},zd=function(s){if(typeof s!="object"||s===null)return un(s);const n=[];for(const a in s)n.push(a);n.sort();let r="{";for(let a=0;a<n.length;a++)a!==0&&(r+=","),r+=un(n[a]),r+=":",r+=zd(s[n[a]]);return r+="}",r},i_=function(s,n){const r=s.length;if(r<=n)return[s];const a=[];for(let o=0;o<r;o+=n)o+n>r?a.push(s.substring(o,r)):a.push(s.substring(o,o+n));return a};function Sn(s,n){for(const r in s)s.hasOwnProperty(r)&&n(r,s[r])}const r_=function(s){_e(!Vc(s),"Invalid JSON number");const n=11,r=52,a=(1<<n-1)-1;let o,h,p,v,g;s===0?(h=0,p=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(v=Math.min(Math.floor(Math.log(s)/Math.LN2),a),h=v+a,p=Math.round(s*Math.pow(2,r-v)-Math.pow(2,r))):(h=0,p=Math.round(s/Math.pow(2,1-a-r))));const S=[];for(g=r;g;g-=1)S.push(p%2?1:0),p=Math.floor(p/2);for(g=n;g;g-=1)S.push(h%2?1:0),h=Math.floor(h/2);S.push(o?1:0),S.reverse();const x=S.join("");let A="";for(g=0;g<64;g+=8){let z=parseInt(x.substr(g,8),2).toString(16);z.length===1&&(z="0"+z),A=A+z}return A.toLowerCase()},FS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},KS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GS(s,n){let r="Unknown Error";s==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?r="Client doesn't have permission to access the desired data.":s==="unavailable"&&(r="The service is unavailable");const a=new Error(s+" at "+n._path.toString()+": "+r);return a.code=s.toUpperCase(),a}const QS=new RegExp("^-?(0*)\\d{1,10}$"),XS=-2147483648,ZS=2147483647,Dv=function(s){if(QS.test(s)){const n=Number(s);if(n>=XS&&n<=ZS)return n}return null},ul=function(s){try{s()}catch(n){setTimeout(()=>{const r=n.stack||"";throw zn("Exception was thrown by user callback.",r),n},Math.floor(0))}},WS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ro=function(s,n){const r=setTimeout(s,n);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(n,r){this.appCheckProvider=r,this.appName=n.name,u1(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(a=>this.appCheck=a)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((r,a)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(r,a):r(null)},0)})}addTokenChangeListener(n){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){zn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(n,r,a){this.appName_=n,this.firebaseOptions_=r,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(r=>r&&r.code==="auth/token-not-initialized"?(pn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,a)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(r,a):r(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(r=>r.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(r=>r.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zn(n)}}class dc{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}dc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="5",a_="v",s_="s",l_="r",o_="f",u_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,c_="ls",f_="p",fd="ac",h_="websocket",d_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(n,r,a,o,h=!1,p="",v=!1,g=!1,S=null){this.secure=r,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=p,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=g,this.emulatorOptions=S,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Va.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Va.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${r}`}}function tE(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function m_(s,n,r){_e(typeof n=="string","typeof type must == string"),_e(typeof r=="object","typeof params must == object");let a;if(n===h_)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===d_)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);tE(s)&&(r.ns=s.namespace);const o=[];return Sn(r,(h,p)=>{o.push(h+"="+p)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.counters_={}}incrementCounter(n,r=1){ji(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r}get(){return m1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh={},Xh={};function Bd(s){const n=s.toString();return Qh[n]||(Qh[n]=new nE),Qh[n]}function iE(s,n){const r=s.toString();return Xh[r]||(Xh[r]=n()),Xh[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,r){for(this.pendingResponses[n]=r;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&ul(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="start",aE="close",sE="pLPCommand",lE="pRTLPCB",y_="id",v_="pw",g_="ser",oE="cb",uE="seg",cE="ts",fE="d",hE="dframe",__=1870,b_=30,dE=__-b_,pE=25e3,mE=3e4;class Js{constructor(n,r,a,o,h,p,v){this.connId=n,this.repoInfo=r,this.applicationId=a,this.appCheckToken=o,this.authToken=h,this.transportSessionId=p,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Fo(n),this.stats_=Bd(r),this.urlFn=g=>(this.appCheckToken&&(g[fd]=this.appCheckToken),m_(r,d_,g))}open(n,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new rE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mE)),PS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new qd((...h)=>{const[p,v,g,S,x]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,p===Mv)this.id=v,this.password=g;else if(p===aE)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+p)},(...h)=>{const[p,v]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(p,v)},()=>{this.onClosed_()},this.urlFn);const a={};a[Mv]="t",a[g_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[oE]=this.scriptTagHolder.uniqueCallbackIdentifier),a[a_]=jd,this.transportSessionId&&(a[s_]=this.transportSessionId),this.lastSessionId&&(a[c_]=this.lastSessionId),this.applicationId&&(a[f_]=this.applicationId),this.appCheckToken&&(a[fd]=this.appCheckToken),typeof location<"u"&&location.hostname&&u_.test(location.hostname)&&(a[l_]=o_);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Js.forceAllow_=!0}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){return Js.forceAllow_?!0:!Js.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!FS()&&!KS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const r=un(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=y1(r),o=i_(a,dE);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,r){this.myDisconnFrame=document.createElement("iframe");const a={};a[hE]="t",a[y_]=n,a[v_]=r,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const r=un(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class qd{constructor(n,r,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=HS(),window[sE+this.uniqueCallbackIdentifier]=n,window[lE+this.uniqueCallbackIdentifier]=r,this.myIFrame=qd.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(v){pn("frame writing exception"),v.stack&&pn(v.stack),pn(v)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||pn("No IE domain setting required")}catch{const a=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[y_]=this.myID,n[v_]=this.myPW,n[g_]=this.currentSerial;let r=this.urlFn(n),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+b_+a.length<=__;){const p=this.pendingSegs.shift();a=a+"&"+uE+o+"="+p.seg+"&"+cE+o+"="+p.ts+"&"+fE+o+"="+p.d,o++}return r=r+a,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(n,r,a){this.pendingSegs.push({seg:n,ts:r,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(n,r){this.outstandingRequests.add(r);const a=()=>{this.outstandingRequests.delete(r),this.newRequest_()},o=setTimeout(a,Math.floor(pE)),h=()=>{clearTimeout(o),a()};this.addTag(n,h)}addTag(n,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=n,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),r())},a.onerror=()=>{pn("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=16384,vE=45e3;let Cc=null;typeof MozWebSocket<"u"?Cc=MozWebSocket:typeof WebSocket<"u"&&(Cc=WebSocket);class mi{constructor(n,r,a,o,h,p,v){this.connId=n,this.applicationId=a,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Fo(this.connId),this.stats_=Bd(r),this.connURL=mi.connectionURL_(r,p,v,o,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,a,o,h){const p={};return p[a_]=jd,typeof location<"u"&&location.hostname&&u_.test(location.hostname)&&(p[l_]=o_),r&&(p[s_]=r),a&&(p[c_]=a),o&&(p[fd]=o),h&&(p[f_]=h),m_(n,h_,p)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Va.set("previous_websocket_failure",!0);try{let a;v1(),this.mySock=new Cc(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){mi.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(r);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&Cc!==null&&!mi.forceDisallow_}static previouslyFailed(){return Va.isInMemoryStorage||Va.get("previous_websocket_failure")===!0}markConnectionHealthy(){Va.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=Ad(r);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_e(this.frames===null,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);a!==null&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const r=un(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=i_(r,yE);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vE))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mi.responsesRequiredToBeHealthy=2;mi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static get ALL_TRANSPORTS(){return[Js,mi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const r=mi&&mi.isAvailable();let a=r&&!mi.previouslyFailed();if(n.webSocketOnly&&(r||zn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[mi];else{const o=this.transports_=[];for(const h of Uo.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);Uo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Uo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=6e4,_E=5e3,bE=10*1024,SE=100*1024,Zh="t",Rv="d",EE="s",Nv="r",TE="e",kv="o",Lv="a",Uv="n",zv="p",wE="h";class xE{constructor(n,r,a,o,h,p,v,g,S,x){this.id=n,this.repoInfo_=r,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=p,this.onReady_=v,this.onDisconnect_=g,this.onKill_=S,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Fo("c:"+this.id+":"),this.transportManager_=new Uo(r),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,a)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ro(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return r=>{n===this.conn_?this.onConnectionLost_(r):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return r=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(r):n===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(n){const r={t:"d",d:n};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Zh in n){const r=n[Zh];r===Lv?this.upgradeIfSecondaryHealthy_():r===Nv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===kv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const r=wo("t",n),a=wo("d",n);if(r==="c")this.onSecondaryControl_(a);else if(r==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Lv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Uv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const r=wo("t",n),a=wo("d",n);r==="c"?this.onControl_(a):r==="d"&&this.onDataMessage_(a)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const r=wo(Zh,n);if(Rv in n){const a=n[Rv];if(r===wE){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(r===Uv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===EE?this.onConnectionShutdown_(a):r===Nv?this.onReset_(a):r===TE?cd("Server Error: "+a):r===kv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cd("Unknown control packet command: "+r)}}onHandshake_(n){const r=n.ts,a=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),jd!==a&&zn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,a),Ro(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(gE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,r){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ro(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_E))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zv,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{put(n,r,a,o){}merge(n,r,a,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,r,a){}onDisconnectMerge(n,r,a){}onDisconnectCancel(n,r){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(n){this.allowedEvents_=n,this.listeners_={},_e(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...r){if(Array.isArray(this.listeners_[n])){const a=[...this.listeners_[n]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,r)}}on(n,r,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:a});const o=this.getInitialEvent(n);o&&r.apply(a,o)}off(n,r,a){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===r&&(!a||a===o[h].context)){o.splice(h,1);return}}validateEventType_(n){_e(this.allowedEvents_.find(r=>r===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends E_{static getInstance(){return new Ac}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return _e(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=32,Bv=768;class pt{constructor(n,r){if(r===void 0){this.pieces_=n.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}toString(){let n="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(n+="/"+this.pieces_[r]);return n||"/"}}function ft(){return new pt("")}function Ze(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ca(s){return s.pieces_.length-s.pieceNum_}function St(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new pt(s.pieces_,n)}function Id(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function CE(s){let n="";for(let r=s.pieceNum_;r<s.pieces_.length;r++)s.pieces_[r]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[r])));return n||"/"}function zo(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function T_(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let r=s.pieceNum_;r<s.pieces_.length-1;r++)n.push(s.pieces_[r]);return new pt(n,0)}function Ht(s,n){const r=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)r.push(s.pieces_[a]);if(n instanceof pt)for(let a=n.pieceNum_;a<n.pieces_.length;a++)r.push(n.pieces_[a]);else{const a=n.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&r.push(a[o])}return new pt(r,0)}function Je(s){return s.pieceNum_>=s.pieces_.length}function Ln(s,n){const r=Ze(s),a=Ze(n);if(r===null)return n;if(r===a)return Ln(St(s),St(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function AE(s,n){const r=zo(s,0),a=zo(n,0);for(let o=0;o<r.length&&o<a.length;o++){const h=ts(r[o],a[o]);if(h!==0)return h}return r.length===a.length?0:r.length<a.length?-1:1}function Hd(s,n){if(ca(s)!==ca(n))return!1;for(let r=s.pieceNum_,a=n.pieceNum_;r<=s.pieces_.length;r++,a++)if(s.pieces_[r]!==n.pieces_[a])return!1;return!0}function li(s,n){let r=s.pieceNum_,a=n.pieceNum_;if(ca(s)>ca(n))return!1;for(;r<s.pieces_.length;){if(s.pieces_[r]!==n.pieces_[a])return!1;++r,++a}return!0}class OE{constructor(n,r){this.errorPrefix_=r,this.parts_=zo(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Hc(this.parts_[a]);w_(this)}}function DE(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Hc(n),w_(s)}function ME(s){const n=s.parts_.pop();s.byteLength_-=Hc(n),s.parts_.length>0&&(s.byteLength_-=1)}function w_(s){if(s.byteLength_>Bv)throw new Error(s.errorPrefix_+"has a key path longer than "+Bv+" bytes ("+s.byteLength_+").");if(s.parts_.length>jv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jv+") or object contains a cycle "+Pa(s))}function Pa(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends E_{static getInstance(){return new Yd}constructor(){super(["visible"]);let n,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const a=!document[n];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(n){return _e(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=1e3,RE=60*5*1e3,qv=30*1e3,NE=1.3,kE=3e4,LE="server_kill",Iv=3;class pr extends S_{constructor(n,r,a,o,h,p,v,g){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=p,this.appCheckTokenProvider_=v,this.authOverride_=g,this.id=pr.nextPersistentConnectionId_++,this.log_=Fo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xo,this.maxReconnectDelay_=RE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Yd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ac.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,a){const o=++this.requestNumber_,h={r:o,a:n,b:r};this.log_(un(h)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[o]=a)}get(n){this.initConnection_();const r=new oa,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:p=>{const v=p.d;p.s==="ok"?r.resolve(v):r.reject(v)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),r.promise}listen(n,r,a,o){this.initConnection_();const h=n._queryIdentifier,p=n._path.toString();this.log_("Listen called for "+p+" "+h),this.listens.has(p)||this.listens.set(p,new Map),_e(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(p).has(h),"listen() called twice for same path/queryId.");const v={onComplete:o,hashFn:r,query:n,tag:a};this.listens.get(p).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(n){const r=n.query,a=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+a+" for "+o);const h={p:a},p="q";n.tag&&(h.q=r._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(p,h,v=>{const g=v.d,S=v.s;pr.warnOnListenWarnings_(g,r),(this.listens.get(a)&&this.listens.get(a).get(o))===n&&(this.log_("listen response",v),S!=="ok"&&this.removeListen_(a,o),n.onComplete&&n.onComplete(S,g))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ji(n,"w")){const a=il(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();zn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||h1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=d1(n)?"auth":"gauth",a={cred:n};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(r,a,o=>{const h=o.s,p=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,p))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,a=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(n,r){const a=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),_e(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,n._queryObject,r)}sendUnlisten_(n,r,a,o){this.log_("Unlisten on "+n+" for "+r);const h={p:n},p="n";o&&(h.q=a,h.t=o),this.sendRequest(p,h)}onDisconnectPut(n,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:a})}onDisconnectMerge(n,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:a})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,a,o){const h={p:r,d:a};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,p=>{o&&setTimeout(()=>{o(p.s,p.d)},Math.floor(0))})}put(n,r,a,o){this.putInternal("p",n,r,a,o)}merge(n,r,a,o){this.putInternal("m",n,r,a,o)}putInternal(n,r,a,o,h){this.initConnection_();const p={p:r,d:a};h!==void 0&&(p.h=h),this.outstandingPuts_.push({action:n,request:p,onComplete:o}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,a,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,a=>{if(a.s!=="ok"){const h=a.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+un(n));const r=n.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):cd("Unrecognized action received from server: "+un(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kE&&(this.reconnectDelay_=xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*NE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+pr.nextConnectionId_++,h=this.lastSessionId;let p=!1,v=null;const g=function(){v?v.close():(p=!0,a())},S=function(A){_e(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(A)};this.realtime_={close:g,sendRequest:S};const x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[A,z]=await Promise.all([this.authTokenProvider_.getToken(x),this.appCheckTokenProvider_.getToken(x)]);p?pn("getToken() completed but was canceled"):(pn("getToken() completed. Creating connection."),this.authToken_=A&&A.accessToken,this.appCheckToken_=z&&z.token,v=new xE(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,a,W=>{zn(W+" ("+this.repoInfo_.toString()+")"),this.interrupt(LE)},h))}catch(A){this.log_("Failed to get token: "+A),p||(this.repoInfo_.nodeAdmin&&zn(A),g())}}}interrupt(n){pn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){pn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sd(this.interruptReasons_)&&(this.reconnectDelay_=xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let a;r?a=r.map(h=>zd(h)).join("$"):a="default";const o=this.removeListen_(n,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const a=new pt(n).toString();let o;if(this.listens.has(a)){const h=this.listens.get(a);o=h.get(r),h.delete(r),h.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(n,r){pn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iv&&(this.reconnectDelay_=qv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){pn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+e_.replace(/\./g,"-")]=1,Rg()?n["framework.cordova"]=1:p1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Ac.getInstance().currentlyOnline();return sd(this.interruptReasons_)&&n}}pr.nextPersistentConnectionId_=0;pr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(n,r){this.name=n,this.node=r}static Wrap(n,r){return new et(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,r){const a=new et(al,n),o=new et(al,r);return this.compare(a,o)!==0}minPost(){return et.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc;class x_ extends Fc{static get __EMPTY_NODE(){return uc}static set __EMPTY_NODE(n){uc=n}compare(n,r){return ts(n.name,r.name)}isDefinedOn(n){throw $o("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,r){return!1}minPost(){return et.MIN}maxPost(){return new et(Ga,uc)}makePost(n,r){return _e(typeof n=="string","KeyIndex indexValue must always be a string."),new et(n,uc)}toString(){return".key"}}const tl=new x_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(n,r,a,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let p=1;for(;!n.isEmpty();)if(n=n,p=r?a(n.key,r):1,o&&(p*=-1),p<0)this.isReverse_?n=n.left:n=n.right;else if(p===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(n.key,n.value):r={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ln{constructor(n,r,a,o,h){this.key=n,this.value=r,this.color=a??ln.RED,this.left=o??Un.EMPTY_NODE,this.right=h??Un.EMPTY_NODE}copy(n,r,a,o,h){return new ln(n??this.key,r??this.value,a??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let o=this;const h=a(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,r,a),null):h===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Un.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let a,o;if(a=this,r(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),r(n,a.key)===0){if(a.right.isEmpty())return Un.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ln.RED=!0;ln.BLACK=!1;class UE{copy(n,r,a,o,h){return this}insert(n,r,a){return new ln(n,r,null)}remove(n,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Un{constructor(n,r=Un.EMPTY_NODE){this.comparator_=n,this.root_=r}insert(n,r){return new Un(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,ln.BLACK,null,null))}remove(n){return new Un(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ln.BLACK,null,null))}get(n){let r,a=this.root_;for(;!a.isEmpty();){if(r=this.comparator_(n,a.key),r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}getPredecessorKey(n){let r,a=this.root_,o=null;for(;!a.isEmpty();)if(r=this.comparator_(n,a.key),r===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else r<0?a=a.left:r>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new cc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,r){return new cc(this.root_,n,this.comparator_,!1,r)}getReverseIteratorFrom(n,r){return new cc(this.root_,n,this.comparator_,!0,r)}getReverseIterator(n){return new cc(this.root_,null,this.comparator_,!0,n)}}Un.EMPTY_NODE=new UE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s,n){return ts(s.name,n.name)}function $d(s,n){return ts(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd;function jE(s){hd=s}const C_=function(s){return typeof s=="number"?"number:"+r_(s):"string:"+s},A_=function(s){if(s.isLeafNode()){const n=s.val();_e(typeof n=="string"||typeof n=="number"||typeof n=="object"&&ji(n,".sv"),"Priority must be a string or number.")}else _e(s===hd||s.isEmpty(),"priority of unexpected type.");_e(s===hd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hv;class sn{static set __childrenNodeConstructor(n){Hv=n}static get __childrenNodeConstructor(){return Hv}constructor(n,r=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),A_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new sn(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Je(n)?this:Ze(n)===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const a=Ze(n);return a===null?r:r.isEmpty()&&a!==".priority"?this:(_e(a!==".priority"||ca(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(St(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+C_(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",r==="number"?n+=r_(this.value_):n+=this.value_,this.lazyHash_=n_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===sn.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof sn.__childrenNodeConstructor?-1:(_e(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,a=typeof this.value_,o=sn.VALUE_TYPE_ORDER.indexOf(r),h=sn.VALUE_TYPE_ORDER.indexOf(a);return _e(o>=0,"Unknown leaf type: "+r),_e(h>=0,"Unknown leaf type: "+a),o===h?a==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O_,D_;function BE(s){O_=s}function qE(s){D_=s}class IE extends Fc{compare(n,r){const a=n.node.getPriority(),o=r.node.getPriority(),h=a.compareTo(o);return h===0?ts(n.name,r.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,r){return!n.getPriority().equals(r.getPriority())}minPost(){return et.MIN}maxPost(){return new et(Ga,new sn("[PRIORITY-POST]",D_))}makePost(n,r){const a=O_(n);return new et(r,new sn("[PRIORITY-POST]",a))}toString(){return".priority"}}const Nt=new IE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE=Math.log(2);class YE{constructor(n){const r=h=>parseInt(Math.log(h)/HE,10),a=h=>parseInt(Array(h+1).join("1"),2);this.count=r(n+1),this.current_=this.count-1;const o=a(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Oc=function(s,n,r,a){s.sort(n);const o=function(g,S){const x=S-g;let A,z;if(x===0)return null;if(x===1)return A=s[g],z=r?r(A):A,new ln(z,A.node,ln.BLACK,null,null);{const W=parseInt(x/2,10)+g,le=o(g,W),xe=o(W+1,S);return A=s[W],z=r?r(A):A,new ln(z,A.node,ln.BLACK,le,xe)}},h=function(g){let S=null,x=null,A=s.length;const z=function(le,xe){const ve=A-le,Le=A;A-=le;const He=o(ve+1,Le),Ce=s[ve],Ge=r?r(Ce):Ce;W(new ln(Ge,Ce.node,xe,null,He))},W=function(le){S?(S.left=le,S=le):(x=le,S=le)};for(let le=0;le<g.count;++le){const xe=g.nextBitIsOne(),ve=Math.pow(2,g.count-(le+1));xe?z(ve,ln.BLACK):(z(ve,ln.BLACK),z(ve,ln.RED))}return x},p=new YE(s.length),v=h(p);return new Un(a||n,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh;const Xs={};class dr{static get Default(){return _e(Xs&&Nt,"ChildrenNode.ts has not been loaded"),Wh=Wh||new dr({".priority":Xs},{".priority":Nt}),Wh}constructor(n,r){this.indexes_=n,this.indexSet_=r}get(n){const r=il(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof Un?r:null}hasIndex(n){return ji(this.indexSet_,n.toString())}addIndex(n,r){_e(n!==tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const h=r.getIterator(et.Wrap);let p=h.getNext();for(;p;)o=o||n.isDefinedOn(p.node),a.push(p),p=h.getNext();let v;o?v=Oc(a,n.getCompare()):v=Xs;const g=n.toString(),S=Object.assign({},this.indexSet_);S[g]=n;const x=Object.assign({},this.indexes_);return x[g]=v,new dr(x,S)}addToIndexes(n,r){const a=Tc(this.indexes_,(o,h)=>{const p=il(this.indexSet_,h);if(_e(p,"Missing index implementation for "+h),o===Xs)if(p.isDefinedOn(n.node)){const v=[],g=r.getIterator(et.Wrap);let S=g.getNext();for(;S;)S.name!==n.name&&v.push(S),S=g.getNext();return v.push(n),Oc(v,p.getCompare())}else return Xs;else{const v=r.get(n.name);let g=o;return v&&(g=g.remove(new et(n.name,v))),g.insert(n,n.node)}});return new dr(a,this.indexSet_)}removeFromIndexes(n,r){const a=Tc(this.indexes_,o=>{if(o===Xs)return o;{const h=r.get(n.name);return h?o.remove(new et(n.name,h)):o}});return new dr(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co;class Pe{static get EMPTY_NODE(){return Co||(Co=new Pe(new Un($d),null,dr.Default))}constructor(n,r,a){this.children_=n,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&A_(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Co}updatePriority(n){return this.children_.isEmpty()?this:new Pe(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const r=this.children_.get(n);return r===null?Co:r}}getChild(n){const r=Ze(n);return r===null?this:this.getImmediateChild(r).getChild(St(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_e(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{const a=new et(n,r);let o,h;r.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(n,r),h=this.indexMap_.addToIndexes(a,this.children_));const p=o.isEmpty()?Co:this.priorityNode_;return new Pe(o,p,h)}}updateChild(n,r){const a=Ze(n);if(a===null)return r;{_e(Ze(n)!==".priority"||ca(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(St(n),r);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let a=0,o=0,h=!0;if(this.forEachChild(Nt,(p,v)=>{r[p]=v.val(n),a++,h&&Pe.INTEGER_REGEXP_.test(p)?o=Math.max(o,Number(p)):h=!1}),!n&&h&&o<2*a){const p=[];for(const v in r)p[v]=r[v];return p}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+C_(this.getPriority().val())+":"),this.forEachChild(Nt,(r,a)=>{const o=a.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":n_(n)}return this.lazyHash_}getPredecessorChildName(n,r,a){const o=this.resolveIndex_(a);if(o){const h=o.getPredecessorKey(new et(n,r));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const a=r.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new et(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const a=r.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new et(r,this.children_.get(r)):null}forEachChild(n,r){const a=this.resolveIndex_(n);return a?a.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,et.Wrap);let h=o.peek();for(;h!=null&&r.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,et.Wrap);let h=o.peek();for(;h!=null&&r.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ko?-1:0}withIndex(n){if(n===tl||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new Pe(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===tl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const a=this.getIterator(Nt),o=r.getIterator(Nt);let h=a.getNext(),p=o.getNext();for(;h&&p;){if(h.name!==p.name||!h.node.equals(p.node))return!1;h=a.getNext(),p=o.getNext()}return h===null&&p===null}else return!1;else return!1}}resolveIndex_(n){return n===tl?null:this.indexMap_.get(n.toString())}}Pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class $E extends Pe{constructor(){super(new Un($d),Pe.EMPTY_NODE,dr.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Pe.EMPTY_NODE}isEmpty(){return!1}}const Ko=new $E;Object.defineProperties(et,{MIN:{value:new et(al,Pe.EMPTY_NODE)},MAX:{value:new et(Ga,Ko)}});x_.__EMPTY_NODE=Pe.EMPTY_NODE;sn.__childrenNodeConstructor=Pe;jE(Ko);qE(Ko);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=!0;function Ft(s,n=null){if(s===null)return Pe.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),_e(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const r=s;return new sn(r,Ft(n))}if(!(s instanceof Array)&&PE){const r=[];let a=!1;if(Sn(s,(p,v)=>{if(p.substring(0,1)!=="."){const g=Ft(v);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),r.push(new et(p,g)))}}),r.length===0)return Pe.EMPTY_NODE;const h=Oc(r,zE,p=>p.name,$d);if(a){const p=Oc(r,Nt.getCompare());return new Pe(h,Ft(n),new dr({".priority":p},{".priority":Nt}))}else return new Pe(h,Ft(n),dr.Default)}else{let r=Pe.EMPTY_NODE;return Sn(s,(a,o)=>{if(ji(s,a)&&a.substring(0,1)!=="."){const h=Ft(o);(h.isLeafNode()||!h.isEmpty())&&(r=r.updateImmediateChild(a,h))}}),r.updatePriority(Ft(n))}}BE(Ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Fc{constructor(n){super(),this.indexPath_=n,_e(!Je(n)&&Ze(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,r){const a=this.extractChild(n.node),o=this.extractChild(r.node),h=a.compareTo(o);return h===0?ts(n.name,r.name):h}makePost(n,r){const a=Ft(n),o=Pe.EMPTY_NODE.updateChild(this.indexPath_,a);return new et(r,o)}maxPost(){const n=Pe.EMPTY_NODE.updateChild(this.indexPath_,Ko);return new et(Ga,n)}toString(){return zo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Fc{compare(n,r){const a=n.node.compareTo(r.node);return a===0?ts(n.name,r.name):a}isDefinedOn(n){return!0}indexedValueChanged(n,r){return!n.equals(r)}minPost(){return et.MIN}maxPost(){return et.MAX}makePost(n,r){const a=Ft(n);return new et(r,a)}toString(){return".value"}}const KE=new FE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(s){return{type:"value",snapshotNode:s}}function sl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function jo(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Bo(s,n,r){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:r}}function GE(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(n){this.index_=n}updateChild(n,r,a,o,h,p){_e(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=n.getImmediateChild(r);return v.getChild(o).equals(a.getChild(o))&&v.isEmpty()===a.isEmpty()||(p!=null&&(a.isEmpty()?n.hasChild(r)?p.trackChildChange(jo(r,v)):_e(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?p.trackChildChange(sl(r,a)):p.trackChildChange(Bo(r,a,v))),n.isLeafNode()&&a.isEmpty())?n:n.updateImmediateChild(r,a).withIndex(this.index_)}updateFullNode(n,r,a){return a!=null&&(n.isLeafNode()||n.forEachChild(Nt,(o,h)=>{r.hasChild(o)||a.trackChildChange(jo(o,h))}),r.isLeafNode()||r.forEachChild(Nt,(o,h)=>{if(n.hasChild(o)){const p=n.getImmediateChild(o);p.equals(h)||a.trackChildChange(Bo(o,h,p))}else a.trackChildChange(sl(o,h))})),r.withIndex(this.index_)}updatePriority(n,r){return n.isEmpty()?Pe.EMPTY_NODE:n.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(n){this.indexedFilter_=new Pd(n.getIndex()),this.index_=n.getIndex(),this.startPost_=qo.getStartPost_(n),this.endPost_=qo.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,a=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return r&&a}updateChild(n,r,a,o,h,p){return this.matches(new et(r,a))||(a=Pe.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,a,o,h,p)}updateFullNode(n,r,a){r.isLeafNode()&&(r=Pe.EMPTY_NODE);let o=r.withIndex(this.index_);o=o.updatePriority(Pe.EMPTY_NODE);const h=this;return r.forEachChild(Nt,(p,v)=>{h.matches(new et(p,v))||(o=o.updateImmediateChild(p,Pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,a)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(n){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=r=>{const a=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new qo(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,r,a,o,h,p){return this.rangedFilter_.matches(new et(r,a))||(a=Pe.EMPTY_NODE),n.getImmediateChild(r).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,a,o,h,p):this.fullLimitUpdateChild_(n,r,a,h,p)}updateFullNode(n,r,a){let o;if(r.isLeafNode()||r.isEmpty())o=Pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){o=Pe.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;h.hasNext()&&p<this.limit_;){const v=h.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))o=o.updateImmediateChild(v.name,v.node),p++;else break;else continue}}else{o=r.withIndex(this.index_),o=o.updatePriority(Pe.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let p=0;for(;h.hasNext();){const v=h.getNext();p<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?p++:o=o.updateImmediateChild(v.name,Pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,a)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,r,a,o,h){let p;if(this.reverse_){const A=this.index_.getCompare();p=(z,W)=>A(W,z)}else p=this.index_.getCompare();const v=n;_e(v.numChildren()===this.limit_,"");const g=new et(r,a),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),x=this.rangedFilter_.matches(g);if(v.hasChild(r)){const A=v.getImmediateChild(r);let z=o.getChildAfterChild(this.index_,S,this.reverse_);for(;z!=null&&(z.name===r||v.hasChild(z.name));)z=o.getChildAfterChild(this.index_,z,this.reverse_);const W=z==null?1:p(z,g);if(x&&!a.isEmpty()&&W>=0)return h!=null&&h.trackChildChange(Bo(r,a,A)),v.updateImmediateChild(r,a);{h!=null&&h.trackChildChange(jo(r,A));const xe=v.updateImmediateChild(r,Pe.EMPTY_NODE);return z!=null&&this.rangedFilter_.matches(z)?(h!=null&&h.trackChildChange(sl(z.name,z.node)),xe.updateImmediateChild(z.name,z.node)):xe}}else return a.isEmpty()?n:x&&p(S,g)>=0?(h!=null&&(h.trackChildChange(jo(S.name,S.node)),h.trackChildChange(sl(r,a))),v.updateImmediateChild(r,a).updateImmediateChild(S.name,Pe.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:al}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const n=new Vd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function XE(s){return s.loadsAllData()?new Pd(s.getIndex()):s.hasLimit()?new QE(s):new qo(s)}function Yv(s){const n={};if(s.isDefault())return n;let r;if(s.index_===Nt?r="$priority":s.index_===KE?r="$value":s.index_===tl?r="$key":(_e(s.index_ instanceof VE,"Unrecognized index type!"),r=s.index_.toString()),n.orderBy=un(r),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";n[a]=un(s.indexStartValue_),s.startNameSet_&&(n[a]+=","+un(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";n[a]=un(s.indexEndValue_),s.endNameSet_&&(n[a]+=","+un(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function $v(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let r=s.viewFrom_;r===""&&(s.isViewFromLeft()?r="l":r="r"),n.vf=r}return s.index_!==Nt&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends S_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,r){return r!==void 0?"tag$"+r:(_e(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,r,a,o){super(),this.repoInfo_=n,this.onDataUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Fo("p:rest:"),this.listens_={}}listen(n,r,a,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const p=Dc.getListenId_(n,a),v={};this.listens_[p]=v;const g=Yv(n._queryParams);this.restRequest_(h+".json",g,(S,x)=>{let A=x;if(S===404&&(A=null,S=null),S===null&&this.onDataUpdate_(h,A,!1,a),il(this.listens_,p)===v){let z;S?S===401?z="permission_denied":z="rest_error:"+S:z="ok",o(z,null)}})}unlisten(n,r){const a=Dc.getListenId_(n,r);delete this.listens_[a]}get(n){const r=Yv(n._queryParams),a=n._path.toString(),o=new oa;return this.restRequest_(a+".json",r,(h,p)=>{let v=p;h===404&&(v=null,h=null),h===null?(this.onDataUpdate_(a,v,!1,null),o.resolve(v)):o.reject(new Error(v))}),o.promise}refreshAuthToken(n){}restRequest_(n,r={},a){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(r.auth=o.accessToken),h&&h.token&&(r.ac=h.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+f1(r);this.log_("Sending REST request for "+p);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(a&&v.readyState===4){this.log_("REST Response for "+p+" received. status:",v.status,"response:",v.responseText);let g=null;if(v.status>=200&&v.status<300){try{g=Ad(v.responseText)}catch{zn("Failed to parse JSON response for "+p+": "+v.responseText)}a(null,g)}else v.status!==401&&v.status!==404&&zn("Got unsuccessful REST response for "+p+" Status: "+v.status),a(v.status);a=null}},v.open("GET",p,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.rootNode_=Pe.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(){return{value:null,children:new Map}}function cl(s,n,r){if(Je(n))s.value=r,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,r);else{const a=Ze(n);s.children.has(a)||s.children.set(a,Mc());const o=s.children.get(a);n=St(n),cl(o,n,r)}}function dd(s,n){if(Je(n))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const r=s.value;return s.value=null,r.forEachChild(Nt,(a,o)=>{cl(s,new pt(a),o)}),dd(s,n)}}else if(s.children.size>0){const r=Ze(n);return n=St(n),s.children.has(r)&&dd(s.children.get(r),n)&&s.children.delete(r),s.children.size===0}else return!0}function pd(s,n,r){s.value!==null?r(n,s.value):WE(s,(a,o)=>{const h=new pt(n.toString()+"/"+a);pd(o,h,r)})}function WE(s,n){s.children.forEach((r,a)=>{n(a,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),r=Object.assign({},n);return this.last_&&Sn(this.last_,(a,o)=>{r[a]=r[a]-o}),this.last_=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=10*1e3,eT=30*1e3,tT=5*60*1e3;class nT{constructor(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new JE(n);const a=Pv+(eT-Pv)*Math.random();Ro(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const n=this.statsListener_.get(),r={};let a=!1;Sn(n,(o,h)=>{h>0&&ji(this.statsToReport_,o)&&(r[o]=h,a=!0)}),a&&this.server_.reportStats(r),Ro(this.reportStats_.bind(this),Math.floor(Math.random()*2*tT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vi;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(vi||(vi={}));function R_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Kd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(n,r,a){this.path=n,this.affectedTree=r,this.revert=a,this.type=vi.ACK_USER_WRITE,this.source=R_()}operationForChild(n){if(Je(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new pt(n));return new Rc(ft(),r,this.revert)}}else return _e(Ze(this.path)===n,"operationForChild called for unrelated child."),new Rc(St(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(n,r){this.source=n,this.path=r,this.type=vi.LISTEN_COMPLETE}operationForChild(n){return Je(this.path)?new Io(this.source,ft()):new Io(this.source,St(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(n,r,a){this.source=n,this.path=r,this.snap=a,this.type=vi.OVERWRITE}operationForChild(n){return Je(this.path)?new Qa(this.source,ft(),this.snap.getImmediateChild(n)):new Qa(this.source,St(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(n,r,a){this.source=n,this.path=r,this.children=a,this.type=vi.MERGE}operationForChild(n){if(Je(this.path)){const r=this.children.subtree(new pt(n));return r.isEmpty()?null:r.value?new Qa(this.source,ft(),r.value):new Ho(this.source,ft(),r)}else return _e(Ze(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ho(this.source,St(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(n,r,a){this.node_=n,this.fullyInitialized_=r,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(Je(n))return this.isFullyInitialized()&&!this.filtered_;const r=Ze(n);return this.isCompleteForChild(r)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function rT(s,n,r,a){const o=[],h=[];return n.forEach(p=>{p.type==="child_changed"&&s.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&h.push(GE(p.childName,p.snapshotNode))}),Ao(s,o,"child_removed",n,a,r),Ao(s,o,"child_added",n,a,r),Ao(s,o,"child_moved",h,a,r),Ao(s,o,"child_changed",n,a,r),Ao(s,o,"value",n,a,r),o}function Ao(s,n,r,a,o,h){const p=a.filter(v=>v.type===r);p.sort((v,g)=>sT(s,v,g)),p.forEach(v=>{const g=aT(s,v,h);o.forEach(S=>{S.respondsTo(v.type)&&n.push(S.createEvent(g,s.query_))})})}function aT(s,n,r){return n.type==="value"||n.type==="child_removed"||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function sT(s,n,r){if(n.childName==null||r.childName==null)throw $o("Should only compare child_ events.");const a=new et(n.childName,n.snapshotNode),o=new et(r.childName,r.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(s,n){return{eventCache:s,serverCache:n}}function No(s,n,r,a){return Kc(new Xa(n,r,a),s.serverCache)}function N_(s,n,r,a){return Kc(s.eventCache,new Xa(n,r,a))}function md(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Za(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh;const lT=()=>(Jh||(Jh=new Un(VS)),Jh);class Ct{static fromObject(n){let r=new Ct(null);return Sn(n,(a,o)=>{r=r.set(new pt(a),o)}),r}constructor(n,r=lT()){this.value=n,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,r){if(this.value!=null&&r(this.value))return{path:ft(),value:this.value};if(Je(n))return null;{const a=Ze(n),o=this.children.get(a);if(o!==null){const h=o.findRootMostMatchingPathAndValue(St(n),r);return h!=null?{path:Ht(new pt(a),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(Je(n))return this;{const r=Ze(n),a=this.children.get(r);return a!==null?a.subtree(St(n)):new Ct(null)}}set(n,r){if(Je(n))return new Ct(r,this.children);{const a=Ze(n),h=(this.children.get(a)||new Ct(null)).set(St(n),r),p=this.children.insert(a,h);return new Ct(this.value,p)}}remove(n){if(Je(n))return this.children.isEmpty()?new Ct(null):new Ct(null,this.children);{const r=Ze(n),a=this.children.get(r);if(a){const o=a.remove(St(n));let h;return o.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,o),this.value===null&&h.isEmpty()?new Ct(null):new Ct(this.value,h)}else return this}}get(n){if(Je(n))return this.value;{const r=Ze(n),a=this.children.get(r);return a?a.get(St(n)):null}}setTree(n,r){if(Je(n))return r;{const a=Ze(n),h=(this.children.get(a)||new Ct(null)).setTree(St(n),r);let p;return h.isEmpty()?p=this.children.remove(a):p=this.children.insert(a,h),new Ct(this.value,p)}}fold(n){return this.fold_(ft(),n)}fold_(n,r){const a={};return this.children.inorderTraversal((o,h)=>{a[o]=h.fold_(Ht(n,o),r)}),r(n,this.value,a)}findOnPath(n,r){return this.findOnPath_(n,ft(),r)}findOnPath_(n,r,a){const o=this.value?a(r,this.value):!1;if(o)return o;if(Je(n))return null;{const h=Ze(n),p=this.children.get(h);return p?p.findOnPath_(St(n),Ht(r,h),a):null}}foreachOnPath(n,r){return this.foreachOnPath_(n,ft(),r)}foreachOnPath_(n,r,a){if(Je(n))return this;{this.value&&a(r,this.value);const o=Ze(n),h=this.children.get(o);return h?h.foreachOnPath_(St(n),Ht(r,o),a):new Ct(null)}}foreach(n){this.foreach_(ft(),n)}foreach_(n,r){this.children.inorderTraversal((a,o)=>{o.foreach_(Ht(n,a),r)}),this.value&&r(n,this.value)}foreachChild(n){this.children.inorderTraversal((r,a)=>{a.value&&n(r,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(n){this.writeTree_=n}static empty(){return new gi(new Ct(null))}}function ko(s,n,r){if(Je(n))return new gi(new Ct(r));{const a=s.writeTree_.findRootMostValueAndPath(n);if(a!=null){const o=a.path;let h=a.value;const p=Ln(o,n);return h=h.updateChild(p,r),new gi(s.writeTree_.set(o,h))}else{const o=new Ct(r),h=s.writeTree_.setTree(n,o);return new gi(h)}}}function Vv(s,n,r){let a=s;return Sn(r,(o,h)=>{a=ko(a,Ht(n,o),h)}),a}function Fv(s,n){if(Je(n))return gi.empty();{const r=s.writeTree_.setTree(n,new Ct(null));return new gi(r)}}function yd(s,n){return ns(s,n)!=null}function ns(s,n){const r=s.writeTree_.findRootMostValueAndPath(n);return r!=null?s.writeTree_.get(r.path).getChild(Ln(r.path,n)):null}function Kv(s){const n=[],r=s.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Nt,(a,o)=>{n.push(new et(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&n.push(new et(a,o.value))}),n}function ua(s,n){if(Je(n))return s;{const r=ns(s,n);return r!=null?new gi(new Ct(r)):new gi(s.writeTree_.subtree(n))}}function vd(s){return s.writeTree_.isEmpty()}function ll(s,n){return k_(ft(),s.writeTree_,n)}function k_(s,n,r){if(n.value!=null)return r.updateChild(s,n.value);{let a=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(_e(h.value!==null,"Priority writes must always be leaf nodes"),a=h.value):r=k_(Ht(s,o),h,r)}),!r.getChild(s).isEmpty()&&a!==null&&(r=r.updateChild(Ht(s,".priority"),a)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(s,n){return j_(n,s)}function oT(s,n,r,a,o){_e(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:r,writeId:a,visible:o}),o&&(s.visibleWrites=ko(s.visibleWrites,n,r)),s.lastWriteId=a}function uT(s,n){for(let r=0;r<s.allWrites.length;r++){const a=s.allWrites[r];if(a.writeId===n)return a}return null}function cT(s,n){const r=s.allWrites.findIndex(v=>v.writeId===n);_e(r>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[r];s.allWrites.splice(r,1);let o=a.visible,h=!1,p=s.allWrites.length-1;for(;o&&p>=0;){const v=s.allWrites[p];v.visible&&(p>=r&&fT(v,a.path)?o=!1:li(a.path,v.path)&&(h=!0)),p--}if(o){if(h)return hT(s),!0;if(a.snap)s.visibleWrites=Fv(s.visibleWrites,a.path);else{const v=a.children;Sn(v,g=>{s.visibleWrites=Fv(s.visibleWrites,Ht(a.path,g))})}return!0}else return!1}function fT(s,n){if(s.snap)return li(s.path,n);for(const r in s.children)if(s.children.hasOwnProperty(r)&&li(Ht(s.path,r),n))return!0;return!1}function hT(s){s.visibleWrites=L_(s.allWrites,dT,ft()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function dT(s){return s.visible}function L_(s,n,r){let a=gi.empty();for(let o=0;o<s.length;++o){const h=s[o];if(n(h)){const p=h.path;let v;if(h.snap)li(r,p)?(v=Ln(r,p),a=ko(a,v,h.snap)):li(p,r)&&(v=Ln(p,r),a=ko(a,ft(),h.snap.getChild(v)));else if(h.children){if(li(r,p))v=Ln(r,p),a=Vv(a,v,h.children);else if(li(p,r))if(v=Ln(p,r),Je(v))a=Vv(a,ft(),h.children);else{const g=il(h.children,Ze(v));if(g){const S=g.getChild(St(v));a=ko(a,ft(),S)}}}else throw $o("WriteRecord should have .snap or .children")}}return a}function U_(s,n,r,a,o){if(!a&&!o){const h=ns(s.visibleWrites,n);if(h!=null)return h;{const p=ua(s.visibleWrites,n);if(vd(p))return r;if(r==null&&!yd(p,ft()))return null;{const v=r||Pe.EMPTY_NODE;return ll(p,v)}}}else{const h=ua(s.visibleWrites,n);if(!o&&vd(h))return r;if(!o&&r==null&&!yd(h,ft()))return null;{const p=function(S){return(S.visible||o)&&(!a||!~a.indexOf(S.writeId))&&(li(S.path,n)||li(n,S.path))},v=L_(s.allWrites,p,n),g=r||Pe.EMPTY_NODE;return ll(v,g)}}}function pT(s,n,r){let a=Pe.EMPTY_NODE;const o=ns(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Nt,(h,p)=>{a=a.updateImmediateChild(h,p)}),a;if(r){const h=ua(s.visibleWrites,n);return r.forEachChild(Nt,(p,v)=>{const g=ll(ua(h,new pt(p)),v);a=a.updateImmediateChild(p,g)}),Kv(h).forEach(p=>{a=a.updateImmediateChild(p.name,p.node)}),a}else{const h=ua(s.visibleWrites,n);return Kv(h).forEach(p=>{a=a.updateImmediateChild(p.name,p.node)}),a}}function mT(s,n,r,a,o){_e(a||o,"Either existingEventSnap or existingServerSnap must exist");const h=Ht(n,r);if(yd(s.visibleWrites,h))return null;{const p=ua(s.visibleWrites,h);return vd(p)?o.getChild(r):ll(p,o.getChild(r))}}function yT(s,n,r,a){const o=Ht(n,r),h=ns(s.visibleWrites,o);if(h!=null)return h;if(a.isCompleteForChild(r)){const p=ua(s.visibleWrites,o);return ll(p,a.getNode().getImmediateChild(r))}else return null}function vT(s,n){return ns(s.visibleWrites,n)}function gT(s,n,r,a,o,h,p){let v;const g=ua(s.visibleWrites,n),S=ns(g,ft());if(S!=null)v=S;else if(r!=null)v=ll(g,r);else return[];if(v=v.withIndex(p),!v.isEmpty()&&!v.isLeafNode()){const x=[],A=p.getCompare(),z=h?v.getReverseIteratorFrom(a,p):v.getIteratorFrom(a,p);let W=z.getNext();for(;W&&x.length<o;)A(W,a)!==0&&x.push(W),W=z.getNext();return x}else return[]}function _T(){return{visibleWrites:gi.empty(),allWrites:[],lastWriteId:-1}}function Nc(s,n,r,a){return U_(s.writeTree,s.treePath,n,r,a)}function Qd(s,n){return pT(s.writeTree,s.treePath,n)}function Gv(s,n,r,a){return mT(s.writeTree,s.treePath,n,r,a)}function kc(s,n){return vT(s.writeTree,Ht(s.treePath,n))}function bT(s,n,r,a,o,h){return gT(s.writeTree,s.treePath,n,r,a,o,h)}function Xd(s,n,r){return yT(s.writeTree,s.treePath,n,r)}function z_(s,n){return j_(Ht(s.treePath,n),s.writeTree)}function j_(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.changeMap=new Map}trackChildChange(n){const r=n.type,a=n.childName;_e(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),_e(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const h=o.type;if(r==="child_added"&&h==="child_removed")this.changeMap.set(a,Bo(a,n.snapshotNode,o.snapshotNode));else if(r==="child_removed"&&h==="child_added")this.changeMap.delete(a);else if(r==="child_removed"&&h==="child_changed")this.changeMap.set(a,jo(a,o.oldSnap));else if(r==="child_changed"&&h==="child_added")this.changeMap.set(a,sl(a,n.snapshotNode));else if(r==="child_changed"&&h==="child_changed")this.changeMap.set(a,Bo(a,n.snapshotNode,o.oldSnap));else throw $o("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(a,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{getCompleteChild(n){return null}getChildAfterChild(n,r,a){return null}}const B_=new ET;class Zd{constructor(n,r,a=null){this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=a}getCompleteChild(n){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);{const a=this.optCompleteServerCache_!=null?new Xa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xd(this.writes_,n,a)}}getChildAfterChild(n,r,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Za(this.viewCache_),h=bT(this.writes_,o,r,1,a,n);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(s){return{filter:s}}function wT(s,n){_e(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),_e(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function xT(s,n,r,a,o){const h=new ST;let p,v;if(r.type===vi.OVERWRITE){const S=r;S.source.fromUser?p=gd(s,n,S.path,S.snap,a,o,h):(_e(S.source.fromServer,"Unknown source."),v=S.source.tagged||n.serverCache.isFiltered()&&!Je(S.path),p=Lc(s,n,S.path,S.snap,a,o,v,h))}else if(r.type===vi.MERGE){const S=r;S.source.fromUser?p=AT(s,n,S.path,S.children,a,o,h):(_e(S.source.fromServer,"Unknown source."),v=S.source.tagged||n.serverCache.isFiltered(),p=_d(s,n,S.path,S.children,a,o,v,h))}else if(r.type===vi.ACK_USER_WRITE){const S=r;S.revert?p=MT(s,n,S.path,a,o,h):p=OT(s,n,S.path,S.affectedTree,a,o,h)}else if(r.type===vi.LISTEN_COMPLETE)p=DT(s,n,r.path,a,h);else throw $o("Unknown operation type: "+r.type);const g=h.getChanges();return CT(n,p,g),{viewCache:p,changes:g}}function CT(s,n,r){const a=n.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),h=md(s);(r.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(h)||!a.getNode().getPriority().equals(h.getPriority()))&&r.push(M_(md(n)))}}function q_(s,n,r,a,o,h){const p=n.eventCache;if(kc(a,r)!=null)return n;{let v,g;if(Je(r))if(_e(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const S=Za(n),x=S instanceof Pe?S:Pe.EMPTY_NODE,A=Qd(a,x);v=s.filter.updateFullNode(n.eventCache.getNode(),A,h)}else{const S=Nc(a,Za(n));v=s.filter.updateFullNode(n.eventCache.getNode(),S,h)}else{const S=Ze(r);if(S===".priority"){_e(ca(r)===1,"Can't have a priority with additional path components");const x=p.getNode();g=n.serverCache.getNode();const A=Gv(a,r,x,g);A!=null?v=s.filter.updatePriority(x,A):v=p.getNode()}else{const x=St(r);let A;if(p.isCompleteForChild(S)){g=n.serverCache.getNode();const z=Gv(a,r,p.getNode(),g);z!=null?A=p.getNode().getImmediateChild(S).updateChild(x,z):A=p.getNode().getImmediateChild(S)}else A=Xd(a,S,n.serverCache);A!=null?v=s.filter.updateChild(p.getNode(),S,A,x,o,h):v=p.getNode()}}return No(n,v,p.isFullyInitialized()||Je(r),s.filter.filtersNodes())}}function Lc(s,n,r,a,o,h,p,v){const g=n.serverCache;let S;const x=p?s.filter:s.filter.getIndexedFilter();if(Je(r))S=x.updateFullNode(g.getNode(),a,null);else if(x.filtersNodes()&&!g.isFiltered()){const W=g.getNode().updateChild(r,a);S=x.updateFullNode(g.getNode(),W,null)}else{const W=Ze(r);if(!g.isCompleteForPath(r)&&ca(r)>1)return n;const le=St(r),ve=g.getNode().getImmediateChild(W).updateChild(le,a);W===".priority"?S=x.updatePriority(g.getNode(),ve):S=x.updateChild(g.getNode(),W,ve,le,B_,null)}const A=N_(n,S,g.isFullyInitialized()||Je(r),x.filtersNodes()),z=new Zd(o,A,h);return q_(s,A,r,o,z,v)}function gd(s,n,r,a,o,h,p){const v=n.eventCache;let g,S;const x=new Zd(o,n,h);if(Je(r))S=s.filter.updateFullNode(n.eventCache.getNode(),a,p),g=No(n,S,!0,s.filter.filtersNodes());else{const A=Ze(r);if(A===".priority")S=s.filter.updatePriority(n.eventCache.getNode(),a),g=No(n,S,v.isFullyInitialized(),v.isFiltered());else{const z=St(r),W=v.getNode().getImmediateChild(A);let le;if(Je(z))le=a;else{const xe=x.getCompleteChild(A);xe!=null?Id(z)===".priority"&&xe.getChild(T_(z)).isEmpty()?le=xe:le=xe.updateChild(z,a):le=Pe.EMPTY_NODE}if(W.equals(le))g=n;else{const xe=s.filter.updateChild(v.getNode(),A,le,z,x,p);g=No(n,xe,v.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function Qv(s,n){return s.eventCache.isCompleteForChild(n)}function AT(s,n,r,a,o,h,p){let v=n;return a.foreach((g,S)=>{const x=Ht(r,g);Qv(n,Ze(x))&&(v=gd(s,v,x,S,o,h,p))}),a.foreach((g,S)=>{const x=Ht(r,g);Qv(n,Ze(x))||(v=gd(s,v,x,S,o,h,p))}),v}function Xv(s,n,r){return r.foreach((a,o)=>{n=n.updateChild(a,o)}),n}function _d(s,n,r,a,o,h,p,v){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,S;Je(r)?S=a:S=new Ct(null).setTree(r,a);const x=n.serverCache.getNode();return S.children.inorderTraversal((A,z)=>{if(x.hasChild(A)){const W=n.serverCache.getNode().getImmediateChild(A),le=Xv(s,W,z);g=Lc(s,g,new pt(A),le,o,h,p,v)}}),S.children.inorderTraversal((A,z)=>{const W=!n.serverCache.isCompleteForChild(A)&&z.value===null;if(!x.hasChild(A)&&!W){const le=n.serverCache.getNode().getImmediateChild(A),xe=Xv(s,le,z);g=Lc(s,g,new pt(A),xe,o,h,p,v)}}),g}function OT(s,n,r,a,o,h,p){if(kc(o,r)!=null)return n;const v=n.serverCache.isFiltered(),g=n.serverCache;if(a.value!=null){if(Je(r)&&g.isFullyInitialized()||g.isCompleteForPath(r))return Lc(s,n,r,g.getNode().getChild(r),o,h,v,p);if(Je(r)){let S=new Ct(null);return g.getNode().forEachChild(tl,(x,A)=>{S=S.set(new pt(x),A)}),_d(s,n,r,S,o,h,v,p)}else return n}else{let S=new Ct(null);return a.foreach((x,A)=>{const z=Ht(r,x);g.isCompleteForPath(z)&&(S=S.set(x,g.getNode().getChild(z)))}),_d(s,n,r,S,o,h,v,p)}}function DT(s,n,r,a,o){const h=n.serverCache,p=N_(n,h.getNode(),h.isFullyInitialized()||Je(r),h.isFiltered());return q_(s,p,r,a,B_,o)}function MT(s,n,r,a,o,h){let p;if(kc(a,r)!=null)return n;{const v=new Zd(a,n,o),g=n.eventCache.getNode();let S;if(Je(r)||Ze(r)===".priority"){let x;if(n.serverCache.isFullyInitialized())x=Nc(a,Za(n));else{const A=n.serverCache.getNode();_e(A instanceof Pe,"serverChildren would be complete if leaf node"),x=Qd(a,A)}x=x,S=s.filter.updateFullNode(g,x,h)}else{const x=Ze(r);let A=Xd(a,x,n.serverCache);A==null&&n.serverCache.isCompleteForChild(x)&&(A=g.getImmediateChild(x)),A!=null?S=s.filter.updateChild(g,x,A,St(r),v,h):n.eventCache.getNode().hasChild(x)?S=s.filter.updateChild(g,x,Pe.EMPTY_NODE,St(r),v,h):S=g,S.isEmpty()&&n.serverCache.isFullyInitialized()&&(p=Nc(a,Za(n)),p.isLeafNode()&&(S=s.filter.updateFullNode(S,p,h)))}return p=n.serverCache.isFullyInitialized()||kc(a,ft())!=null,No(n,S,p,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(n,r){this.query_=n,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Pd(a.getIndex()),h=XE(a);this.processor_=TT(h);const p=r.serverCache,v=r.eventCache,g=o.updateFullNode(Pe.EMPTY_NODE,p.getNode(),null),S=h.updateFullNode(Pe.EMPTY_NODE,v.getNode(),null),x=new Xa(g,p.isFullyInitialized(),o.filtersNodes()),A=new Xa(S,v.isFullyInitialized(),h.filtersNodes());this.viewCache_=Kc(A,x),this.eventGenerator_=new iT(this.query_)}get query(){return this.query_}}function NT(s){return s.viewCache_.serverCache.getNode()}function kT(s,n){const r=Za(s.viewCache_);return r&&(s.query._queryParams.loadsAllData()||!Je(n)&&!r.getImmediateChild(Ze(n)).isEmpty())?r.getChild(n):null}function Zv(s){return s.eventRegistrations_.length===0}function LT(s,n){s.eventRegistrations_.push(n)}function Wv(s,n,r){const a=[];if(r){_e(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(h=>{const p=h.createCancelEvent(r,o);p&&a.push(p)})}if(n){let o=[];for(let h=0;h<s.eventRegistrations_.length;++h){const p=s.eventRegistrations_[h];if(!p.matches(n))o.push(p);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Jv(s,n,r,a){n.type===vi.MERGE&&n.source.queryId!==null&&(_e(Za(s.viewCache_),"We should always have a full cache before handling merges"),_e(md(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,h=xT(s.processor_,o,n,r,a);return wT(s.processor_,h.viewCache),_e(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,I_(s,h.changes,h.viewCache.eventCache.getNode(),null)}function UT(s,n){const r=s.viewCache_.eventCache,a=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Nt,(h,p)=>{a.push(sl(h,p))}),r.isFullyInitialized()&&a.push(M_(r.getNode())),I_(s,a,r.getNode(),n)}function I_(s,n,r,a){const o=a?[a]:s.eventRegistrations_;return rT(s.eventGenerator_,n,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;class zT{constructor(){this.views=new Map}}function jT(s){_e(!Uc,"__referenceConstructor has already been defined"),Uc=s}function BT(){return _e(Uc,"Reference.ts has not been loaded"),Uc}function qT(s){return s.views.size===0}function Wd(s,n,r,a){const o=n.source.queryId;if(o!==null){const h=s.views.get(o);return _e(h!=null,"SyncTree gave us an op for an invalid query."),Jv(h,n,r,a)}else{let h=[];for(const p of s.views.values())h=h.concat(Jv(p,n,r,a));return h}}function IT(s,n,r,a,o){const h=n._queryIdentifier,p=s.views.get(h);if(!p){let v=Nc(r,o?a:null),g=!1;v?g=!0:a instanceof Pe?(v=Qd(r,a),g=!1):(v=Pe.EMPTY_NODE,g=!1);const S=Kc(new Xa(v,g,!1),new Xa(a,o,!1));return new RT(n,S)}return p}function HT(s,n,r,a,o,h){const p=IT(s,n,a,o,h);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,p),LT(p,r),UT(p,r)}function YT(s,n,r,a){const o=n._queryIdentifier,h=[];let p=[];const v=fa(s);if(o==="default")for(const[g,S]of s.views.entries())p=p.concat(Wv(S,r,a)),Zv(S)&&(s.views.delete(g),S.query._queryParams.loadsAllData()||h.push(S.query));else{const g=s.views.get(o);g&&(p=p.concat(Wv(g,r,a)),Zv(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||h.push(g.query)))}return v&&!fa(s)&&h.push(new(BT())(n._repo,n._path)),{removed:h,events:p}}function H_(s){const n=[];for(const r of s.views.values())r.query._queryParams.loadsAllData()||n.push(r);return n}function nl(s,n){let r=null;for(const a of s.views.values())r=r||kT(a,n);return r}function Y_(s,n){if(n._queryParams.loadsAllData())return Gc(s);{const a=n._queryIdentifier;return s.views.get(a)}}function $_(s,n){return Y_(s,n)!=null}function fa(s){return Gc(s)!=null}function Gc(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc;function $T(s){_e(!zc,"__referenceConstructor has already been defined"),zc=s}function PT(){return _e(zc,"Reference.ts has not been loaded"),zc}let VT=1;class eg{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ct(null),this.pendingWriteTree_=_T(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function P_(s,n,r,a,o){return oT(s.pendingWriteTree_,n,r,a,o),o?Go(s,new Qa(R_(),n,r)):[]}function Fa(s,n,r=!1){const a=uT(s.pendingWriteTree_,n);if(cT(s.pendingWriteTree_,n)){let h=new Ct(null);return a.snap!=null?h=h.set(ft(),!0):Sn(a.children,p=>{h=h.set(new pt(p),!0)}),Go(s,new Rc(a.path,h,r))}else return[]}function Qc(s,n,r){return Go(s,new Qa(Fd(),n,r))}function FT(s,n,r){const a=Ct.fromObject(r);return Go(s,new Ho(Fd(),n,a))}function KT(s,n){return Go(s,new Io(Fd(),n))}function GT(s,n,r){const a=ep(s,r);if(a){const o=tp(a),h=o.path,p=o.queryId,v=Ln(h,n),g=new Io(Kd(p),v);return np(s,h,g)}else return[]}function bd(s,n,r,a,o=!1){const h=n._path,p=s.syncPointTree_.get(h);let v=[];if(p&&(n._queryIdentifier==="default"||$_(p,n))){const g=YT(p,n,r,a);qT(p)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const S=g.removed;if(v=g.events,!o){const x=S.findIndex(z=>z._queryParams.loadsAllData())!==-1,A=s.syncPointTree_.findOnPath(h,(z,W)=>fa(W));if(x&&!A){const z=s.syncPointTree_.subtree(h);if(!z.isEmpty()){const W=ZT(z);for(let le=0;le<W.length;++le){const xe=W[le],ve=xe.query,Le=K_(s,xe);s.listenProvider_.startListening(Lo(ve),jc(s,ve),Le.hashFn,Le.onComplete)}}}!A&&S.length>0&&!a&&(x?s.listenProvider_.stopListening(Lo(n),null):S.forEach(z=>{const W=s.queryToTagMap.get(Xc(z));s.listenProvider_.stopListening(Lo(z),W)}))}WT(s,S)}return v}function QT(s,n,r,a){const o=ep(s,a);if(o!=null){const h=tp(o),p=h.path,v=h.queryId,g=Ln(p,n),S=new Qa(Kd(v),g,r);return np(s,p,S)}else return[]}function XT(s,n,r,a){const o=ep(s,a);if(o){const h=tp(o),p=h.path,v=h.queryId,g=Ln(p,n),S=Ct.fromObject(r),x=new Ho(Kd(v),g,S);return np(s,p,x)}else return[]}function tg(s,n,r,a=!1){const o=n._path;let h=null,p=!1;s.syncPointTree_.foreachOnPath(o,(z,W)=>{const le=Ln(z,o);h=h||nl(W,le),p=p||fa(W)});let v=s.syncPointTree_.get(o);v?(p=p||fa(v),h=h||nl(v,ft())):(v=new zT,s.syncPointTree_=s.syncPointTree_.set(o,v));let g;h!=null?g=!0:(g=!1,h=Pe.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((W,le)=>{const xe=nl(le,ft());xe&&(h=h.updateImmediateChild(W,xe))}));const S=$_(v,n);if(!S&&!n._queryParams.loadsAllData()){const z=Xc(n);_e(!s.queryToTagMap.has(z),"View does not exist, but we have a tag");const W=JT();s.queryToTagMap.set(z,W),s.tagToQueryMap.set(W,z)}const x=Gd(s.pendingWriteTree_,o);let A=HT(v,n,r,x,h,g);if(!S&&!p&&!a){const z=Y_(v,n);A=A.concat(ew(s,n,z))}return A}function Jd(s,n,r){const o=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(n,(p,v)=>{const g=Ln(p,n),S=nl(v,g);if(S)return S});return U_(o,n,h,r,!0)}function Go(s,n){return V_(n,s.syncPointTree_,null,Gd(s.pendingWriteTree_,ft()))}function V_(s,n,r,a){if(Je(s.path))return F_(s,n,r,a);{const o=n.get(ft());r==null&&o!=null&&(r=nl(o,ft()));let h=[];const p=Ze(s.path),v=s.operationForChild(p),g=n.children.get(p);if(g&&v){const S=r?r.getImmediateChild(p):null,x=z_(a,p);h=h.concat(V_(v,g,S,x))}return o&&(h=h.concat(Wd(o,s,a,r))),h}}function F_(s,n,r,a){const o=n.get(ft());r==null&&o!=null&&(r=nl(o,ft()));let h=[];return n.children.inorderTraversal((p,v)=>{const g=r?r.getImmediateChild(p):null,S=z_(a,p),x=s.operationForChild(p);x&&(h=h.concat(F_(x,v,g,S)))}),o&&(h=h.concat(Wd(o,s,a,r))),h}function K_(s,n){const r=n.query,a=jc(s,r);return{hashFn:()=>(NT(n)||Pe.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?GT(s,r._path,a):KT(s,r._path);{const h=GS(o,r);return bd(s,r,null,h)}}}}function jc(s,n){const r=Xc(n);return s.queryToTagMap.get(r)}function Xc(s){return s._path.toString()+"$"+s._queryIdentifier}function ep(s,n){return s.tagToQueryMap.get(n)}function tp(s){const n=s.indexOf("$");return _e(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new pt(s.substr(0,n))}}function np(s,n,r){const a=s.syncPointTree_.get(n);_e(a,"Missing sync point for query tag that we're tracking");const o=Gd(s.pendingWriteTree_,n);return Wd(a,r,o,null)}function ZT(s){return s.fold((n,r,a)=>{if(r&&fa(r))return[Gc(r)];{let o=[];return r&&(o=H_(r)),Sn(a,(h,p)=>{o=o.concat(p)}),o}})}function Lo(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(PT())(s._repo,s._path):s}function WT(s,n){for(let r=0;r<n.length;++r){const a=n[r];if(!a._queryParams.loadsAllData()){const o=Xc(a),h=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(h)}}}function JT(){return VT++}function ew(s,n,r){const a=n._path,o=jc(s,n),h=K_(s,r),p=s.listenProvider_.startListening(Lo(n),o,h.hashFn,h.onComplete),v=s.syncPointTree_.subtree(a);if(o)_e(!fa(v.value),"If we're adding a query, it shouldn't be shadowed");else{const g=v.fold((S,x,A)=>{if(!Je(S)&&x&&fa(x))return[Gc(x).query];{let z=[];return x&&(z=z.concat(H_(x).map(W=>W.query))),Sn(A,(W,le)=>{z=z.concat(le)}),z}});for(let S=0;S<g.length;++S){const x=g[S];s.listenProvider_.stopListening(Lo(x),jc(s,x))}}return p}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(n){this.node_=n}getImmediateChild(n){const r=this.node_.getImmediateChild(n);return new ip(r)}node(){return this.node_}}class rp{constructor(n,r){this.syncTree_=n,this.path_=r}getImmediateChild(n){const r=Ht(this.path_,n);return new rp(this.syncTree_,r)}node(){return Jd(this.syncTree_,this.path_)}}const tw=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},ng=function(s,n,r){if(!s||typeof s!="object")return s;if(_e(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return nw(s[".sv"],n,r);if(typeof s[".sv"]=="object")return iw(s[".sv"],n);_e(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},nw=function(s,n,r){switch(s){case"timestamp":return r.timestamp;default:_e(!1,"Unexpected server value: "+s)}},iw=function(s,n,r){s.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&_e(!1,"Unexpected increment value: "+a);const o=n.node();if(_e(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const p=o.getValue();return typeof p!="number"?a:p+a},rw=function(s,n,r,a){return ap(n,new rp(r,s),a)},G_=function(s,n,r){return ap(s,new ip(n),r)};function ap(s,n,r){const a=s.getPriority().val(),o=ng(a,n.getImmediateChild(".priority"),r);let h;if(s.isLeafNode()){const p=s,v=ng(p.getValue(),n,r);return v!==p.getValue()||o!==p.getPriority().val()?new sn(v,Ft(o)):s}else{const p=s;return h=p,o!==p.getPriority().val()&&(h=h.updatePriority(new sn(o))),p.forEachChild(Nt,(v,g)=>{const S=ap(g,n.getImmediateChild(v),r);S!==g&&(h=h.updateImmediateChild(v,S))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(n="",r=null,a={children:{},childCount:0}){this.name=n,this.parent=r,this.node=a}}function lp(s,n){let r=n instanceof pt?n:new pt(n),a=s,o=Ze(r);for(;o!==null;){const h=il(a.node.children,o)||{children:{},childCount:0};a=new sp(o,a,h),r=St(r),o=Ze(r)}return a}function fl(s){return s.node.value}function Q_(s,n){s.node.value=n,Sd(s)}function X_(s){return s.node.childCount>0}function aw(s){return fl(s)===void 0&&!X_(s)}function Zc(s,n){Sn(s.node.children,(r,a)=>{n(new sp(r,s,a))})}function Z_(s,n,r,a){r&&n(s),Zc(s,o=>{Z_(o,n,!0)})}function sw(s,n,r){let a=s.parent;for(;a!==null;){if(n(a))return!0;a=a.parent}return!1}function Qo(s){return new pt(s.parent===null?s.name:Qo(s.parent)+"/"+s.name)}function Sd(s){s.parent!==null&&lw(s.parent,s.name,s)}function lw(s,n,r){const a=aw(r),o=ji(s.node.children,n);a&&o?(delete s.node.children[n],s.node.childCount--,Sd(s)):!a&&!o&&(s.node.children[n]=r.node,s.node.childCount++,Sd(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=/[\[\].#$\/\u0000-\u001F\u007F]/,uw=/[\[\].#$\u0000-\u001F\u007F]/,ed=10*1024*1024,op=function(s){return typeof s=="string"&&s.length!==0&&!ow.test(s)},W_=function(s){return typeof s=="string"&&s.length!==0&&!uw.test(s)},cw=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),W_(s)},J_=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Vc(s)||s&&typeof s=="object"&&ji(s,".sv")},Bc=function(s,n,r,a){a&&n===void 0||Wc(rl(s,"value"),n,r)},Wc=function(s,n,r){const a=r instanceof pt?new OE(r,s):r;if(n===void 0)throw new Error(s+"contains undefined "+Pa(a));if(typeof n=="function")throw new Error(s+"contains a function "+Pa(a)+" with contents = "+n.toString());if(Vc(n))throw new Error(s+"contains "+n.toString()+" "+Pa(a));if(typeof n=="string"&&n.length>ed/3&&Hc(n)>ed)throw new Error(s+"contains a string greater than "+ed+" utf8 bytes "+Pa(a)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(Sn(n,(p,v)=>{if(p===".value")o=!0;else if(p!==".priority"&&p!==".sv"&&(h=!0,!op(p)))throw new Error(s+" contains an invalid key ("+p+") "+Pa(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DE(a,p),Wc(s,v,a),ME(a)}),o&&h)throw new Error(s+' contains ".value" child '+Pa(a)+" in addition to actual children.")}},fw=function(s,n){let r,a;for(r=0;r<n.length;r++){a=n[r];const h=zo(a);for(let p=0;p<h.length;p++)if(!(h[p]===".priority"&&p===h.length-1)){if(!op(h[p]))throw new Error(s+"contains an invalid key ("+h[p]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(AE);let o=null;for(r=0;r<n.length;r++){if(a=n[r],o!==null&&li(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},hw=function(s,n,r,a){const o=rl(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];Sn(n,(p,v)=>{const g=new pt(p);if(Wc(o,v,Ht(r,g)),Id(g)===".priority"&&!J_(v))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(g)}),fw(o,h)},dw=function(s,n,r){if(Vc(n))throw new Error(rl(s,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!J_(n))throw new Error(rl(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},e0=function(s,n,r,a){if(!W_(r))throw new Error(rl(s,n)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},pw=function(s,n,r,a){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),e0(s,n,r)},Ka=function(s,n){if(Ze(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},mw=function(s,n){const r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!op(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!cw(r))throw new Error(rl(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function up(s,n){let r=null;for(let a=0;a<n.length;a++){const o=n[a],h=o.getPath();r!==null&&!Hd(h,r.path)&&(s.eventLists_.push(r),r=null),r===null&&(r={events:[],path:h}),r.events.push(o)}r&&s.eventLists_.push(r)}function t0(s,n,r){up(s,r),n0(s,a=>Hd(a,n))}function vr(s,n,r){up(s,r),n0(s,a=>li(a,n)||li(n,a))}function n0(s,n){s.recursionDepth_++;let r=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const h=o.path;n(h)?(vw(s.eventLists_[a]),s.eventLists_[a]=null):r=!1}}r&&(s.eventLists_=[]),s.recursionDepth_--}function vw(s){for(let n=0;n<s.events.length;n++){const r=s.events[n];if(r!==null){s.events[n]=null;const a=r.getEventRunner();Mo&&pn("event: "+r.toString()),ul(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="repo_interrupt",_w=25;class bw{constructor(n,r,a,o){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mc(),this.transactionQueueTree_=new sp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Sw(s,n,r){if(s.stats_=Bd(s.repoInfo_),s.forceRestClient_||WS())s.server_=new Dc(s.repoInfo_,(a,o,h,p)=>{ig(s,a,o,h,p)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>rg(s,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{un(r)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new pr(s.repoInfo_,n,(a,o,h,p)=>{ig(s,a,o,h,p)},a=>{rg(s,a)},a=>{Ew(s,a)},s.authTokenProvider_,s.appCheckProvider_,r),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=iE(s.repoInfo_,()=>new nT(s.stats_,s.server_)),s.infoData_=new ZE,s.infoSyncTree_=new eg({startListening:(a,o,h,p)=>{let v=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(v=Qc(s.infoSyncTree_,a._path,g),setTimeout(()=>{p("ok")},0)),v},stopListening:()=>{}}),fp(s,"connected",!1),s.serverSyncTree_=new eg({startListening:(a,o,h,p)=>(s.server_.listen(a,h,o,(v,g)=>{const S=p(v,g);vr(s.eventQueue_,a._path,S)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function i0(s){const r=s.infoData_.getNode(new pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function cp(s){return tw({timestamp:i0(s)})}function ig(s,n,r,a,o){s.dataUpdateCount++;const h=new pt(n);r=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,r):r;let p=[];if(o)if(a){const g=Tc(r,S=>Ft(S));p=XT(s.serverSyncTree_,h,g,o)}else{const g=Ft(r);p=QT(s.serverSyncTree_,h,g,o)}else if(a){const g=Tc(r,S=>Ft(S));p=FT(s.serverSyncTree_,h,g)}else{const g=Ft(r);p=Qc(s.serverSyncTree_,h,g)}let v=h;p.length>0&&(v=Jc(s,h)),vr(s.eventQueue_,v,p)}function rg(s,n){fp(s,"connected",n),n===!1&&ww(s)}function Ew(s,n){Sn(n,(r,a)=>{fp(s,r,a)})}function fp(s,n,r){const a=new pt("/.info/"+n),o=Ft(r);s.infoData_.updateSnapshot(a,o);const h=Qc(s.infoSyncTree_,a,o);vr(s.eventQueue_,a,h)}function r0(s){return s.nextWriteId_++}function Tw(s,n,r,a,o){hp(s,"set",{path:n.toString(),value:r,priority:a});const h=cp(s),p=Ft(r,a),v=Jd(s.serverSyncTree_,n),g=G_(p,v,h),S=r0(s),x=P_(s.serverSyncTree_,n,g,S,!0);up(s.eventQueue_,x),s.server_.put(n.toString(),p.val(!0),(z,W)=>{const le=z==="ok";le||zn("set at "+n+" failed: "+z);const xe=Fa(s.serverSyncTree_,S,!le);vr(s.eventQueue_,n,xe),ol(s,o,z,W)});const A=u0(s,n);Jc(s,A),vr(s.eventQueue_,A,[])}function ww(s){hp(s,"onDisconnectEvents");const n=cp(s),r=Mc();pd(s.onDisconnect_,ft(),(o,h)=>{const p=rw(o,h,s.serverSyncTree_,n);cl(r,o,p)});let a=[];pd(r,ft(),(o,h)=>{a=a.concat(Qc(s.serverSyncTree_,o,h));const p=u0(s,o);Jc(s,p)}),s.onDisconnect_=Mc(),vr(s.eventQueue_,ft(),a)}function xw(s,n,r){s.server_.onDisconnectCancel(n.toString(),(a,o)=>{a==="ok"&&dd(s.onDisconnect_,n),ol(s,r,a,o)})}function ag(s,n,r,a){const o=Ft(r);s.server_.onDisconnectPut(n.toString(),o.val(!0),(h,p)=>{h==="ok"&&cl(s.onDisconnect_,n,o),ol(s,a,h,p)})}function Cw(s,n,r,a,o){const h=Ft(r,a);s.server_.onDisconnectPut(n.toString(),h.val(!0),(p,v)=>{p==="ok"&&cl(s.onDisconnect_,n,h),ol(s,o,p,v)})}function Aw(s,n,r,a){if(sd(r)){pn("onDisconnect().update() called with empty data.  Don't do anything."),ol(s,a,"ok",void 0);return}s.server_.onDisconnectMerge(n.toString(),r,(o,h)=>{o==="ok"&&Sn(r,(p,v)=>{const g=Ft(v);cl(s.onDisconnect_,Ht(n,p),g)}),ol(s,a,o,h)})}function Ow(s,n,r){let a;Ze(n._path)===".info"?a=tg(s.infoSyncTree_,n,r):a=tg(s.serverSyncTree_,n,r),t0(s.eventQueue_,n._path,a)}function Dw(s,n,r){let a;Ze(n._path)===".info"?a=bd(s.infoSyncTree_,n,r):a=bd(s.serverSyncTree_,n,r),t0(s.eventQueue_,n._path,a)}function Mw(s){s.persistentConnection_&&s.persistentConnection_.interrupt(gw)}function hp(s,...n){let r="";s.persistentConnection_&&(r=s.persistentConnection_.id+":"),pn(r,...n)}function ol(s,n,r,a){n&&ul(()=>{if(r==="ok")n(null);else{const o=(r||"error").toUpperCase();let h=o;a&&(h+=": "+a);const p=new Error(h);p.code=o,n(p)}})}function a0(s,n,r){return Jd(s.serverSyncTree_,n,r)||Pe.EMPTY_NODE}function dp(s,n=s.transactionQueueTree_){if(n||ef(s,n),fl(n)){const r=l0(s,n);_e(r.length>0,"Sending zero length transaction queue"),r.every(o=>o.status===0)&&Rw(s,Qo(n),r)}else X_(n)&&Zc(n,r=>{dp(s,r)})}function Rw(s,n,r){const a=r.map(S=>S.currentWriteId),o=a0(s,n,a);let h=o;const p=o.hash();for(let S=0;S<r.length;S++){const x=r[S];_e(x.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const A=Ln(n,x.path);h=h.updateChild(A,x.currentOutputSnapshotRaw)}const v=h.val(!0),g=n;s.server_.put(g.toString(),v,S=>{hp(s,"transaction put response",{path:g.toString(),status:S});let x=[];if(S==="ok"){const A=[];for(let z=0;z<r.length;z++)r[z].status=2,x=x.concat(Fa(s.serverSyncTree_,r[z].currentWriteId)),r[z].onComplete&&A.push(()=>r[z].onComplete(null,!0,r[z].currentOutputSnapshotResolved)),r[z].unwatcher();ef(s,lp(s.transactionQueueTree_,n)),dp(s,s.transactionQueueTree_),vr(s.eventQueue_,n,x);for(let z=0;z<A.length;z++)ul(A[z])}else{if(S==="datastale")for(let A=0;A<r.length;A++)r[A].status===3?r[A].status=4:r[A].status=0;else{zn("transaction at "+g.toString()+" failed: "+S);for(let A=0;A<r.length;A++)r[A].status=4,r[A].abortReason=S}Jc(s,n)}},p)}function Jc(s,n){const r=s0(s,n),a=Qo(r),o=l0(s,r);return Nw(s,o,a),a}function Nw(s,n,r){if(n.length===0)return;const a=[];let o=[];const p=n.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<n.length;v++){const g=n[v],S=Ln(r,g.path);let x=!1,A;if(_e(S!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)x=!0,A=g.abortReason,o=o.concat(Fa(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=_w)x=!0,A="maxretry",o=o.concat(Fa(s.serverSyncTree_,g.currentWriteId,!0));else{const z=a0(s,g.path,p);g.currentInputSnapshot=z;const W=n[v].update(z.val());if(W!==void 0){Wc("transaction failed: Data returned ",W,g.path);let le=Ft(W);typeof W=="object"&&W!=null&&ji(W,".priority")||(le=le.updatePriority(z.getPriority()));const ve=g.currentWriteId,Le=cp(s),He=G_(le,z,Le);g.currentOutputSnapshotRaw=le,g.currentOutputSnapshotResolved=He,g.currentWriteId=r0(s),p.splice(p.indexOf(ve),1),o=o.concat(P_(s.serverSyncTree_,g.path,He,g.currentWriteId,g.applyLocally)),o=o.concat(Fa(s.serverSyncTree_,ve,!0))}else x=!0,A="nodata",o=o.concat(Fa(s.serverSyncTree_,g.currentWriteId,!0))}vr(s.eventQueue_,r,o),o=[],x&&(n[v].status=2,function(z){setTimeout(z,Math.floor(0))}(n[v].unwatcher),n[v].onComplete&&(A==="nodata"?a.push(()=>n[v].onComplete(null,!1,n[v].currentInputSnapshot)):a.push(()=>n[v].onComplete(new Error(A),!1,null))))}ef(s,s.transactionQueueTree_);for(let v=0;v<a.length;v++)ul(a[v]);dp(s,s.transactionQueueTree_)}function s0(s,n){let r,a=s.transactionQueueTree_;for(r=Ze(n);r!==null&&fl(a)===void 0;)a=lp(a,r),n=St(n),r=Ze(n);return a}function l0(s,n){const r=[];return o0(s,n,r),r.sort((a,o)=>a.order-o.order),r}function o0(s,n,r){const a=fl(n);if(a)for(let o=0;o<a.length;o++)r.push(a[o]);Zc(n,o=>{o0(s,o,r)})}function ef(s,n){const r=fl(n);if(r){let a=0;for(let o=0;o<r.length;o++)r[o].status!==2&&(r[a]=r[o],a++);r.length=a,Q_(n,r.length>0?r:void 0)}Zc(n,a=>{ef(s,a)})}function u0(s,n){const r=Qo(s0(s,n)),a=lp(s.transactionQueueTree_,n);return sw(a,o=>{td(s,o)}),td(s,a),Z_(a,o=>{td(s,o)}),r}function td(s,n){const r=fl(n);if(r){const a=[];let o=[],h=-1;for(let p=0;p<r.length;p++)r[p].status===3||(r[p].status===1?(_e(h===p-1,"All SENT items should be at beginning of queue."),h=p,r[p].status=3,r[p].abortReason="set"):(_e(r[p].status===0,"Unexpected transaction status in abort"),r[p].unwatcher(),o=o.concat(Fa(s.serverSyncTree_,r[p].currentWriteId,!0)),r[p].onComplete&&a.push(r[p].onComplete.bind(null,new Error("set"),!1,null))));h===-1?Q_(n,void 0):r.length=h+1,vr(s.eventQueue_,Qo(n),o);for(let p=0;p<a.length;p++)ul(a[p])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(s){let n="";const r=s.split("/");for(let a=0;a<r.length;a++)if(r[a].length>0){let o=r[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function Lw(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const r of s.split("&")){if(r.length===0)continue;const a=r.split("=");a.length===2?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):zn(`Invalid query segment '${r}' in query '${s}'`)}return n}const sg=function(s,n){const r=Uw(s),a=r.namespace;r.domain==="firebase.com"&&yr(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&r.domain!=="localhost"&&yr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||$S();const o=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new p_(r.host,r.secure,a,o,n,"",a!==r.subdomain),path:new pt(r.pathString)}},Uw=function(s){let n="",r="",a="",o="",h="",p=!0,v="https",g=443;if(typeof s=="string"){let S=s.indexOf("//");S>=0&&(v=s.substring(0,S-1),s=s.substring(S+2));let x=s.indexOf("/");x===-1&&(x=s.length);let A=s.indexOf("?");A===-1&&(A=s.length),n=s.substring(0,Math.min(x,A)),x<A&&(o=kw(s.substring(x,A)));const z=Lw(s.substring(Math.min(s.length,A)));S=n.indexOf(":"),S>=0?(p=v==="https"||v==="wss",g=parseInt(n.substring(S+1),10)):S=n.length;const W=n.slice(0,S);if(W.toLowerCase()==="localhost")r="localhost";else if(W.split(".").length<=2)r=W;else{const le=n.indexOf(".");a=n.substring(0,le).toLowerCase(),r=n.substring(le+1),h=a}"ns"in z&&(h=z.ns)}return{host:n,port:g,domain:r,subdomain:a,secure:p,scheme:v,pathString:o,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zw=function(){let s=0;const n=[];return function(r){const a=r===s;s=r;let o;const h=new Array(8);for(o=7;o>=0;o--)h[o]=lg.charAt(r%64),r=Math.floor(r/64);_e(r===0,"Cannot push at time == 0");let p=h.join("");if(a){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)p+=lg.charAt(n[o]);return _e(p.length===20,"nextPushId: Length should be 20."),p}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(n,r,a,o){this.eventType=n,this.eventRegistration=r,this.snapshot=a,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+un(this.snapshot.exportVal())}}class Bw{constructor(n,r,a){this.eventRegistration=n,this.error=r,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(n,r){this.snapshotCallback=n,this.cancelCallback=r}onValue(n,r){this.snapshotCallback.call(null,n,r)}onCancel(n){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(n,r){this._repo=n,this._path=r}cancel(){const n=new oa;return xw(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ka("OnDisconnect.remove",this._path);const n=new oa;return ag(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ka("OnDisconnect.set",this._path),Bc("OnDisconnect.set",n,this._path,!1);const r=new oa;return ag(this._repo,this._path,n,r.wrapCallback(()=>{})),r.promise}setWithPriority(n,r){Ka("OnDisconnect.setWithPriority",this._path),Bc("OnDisconnect.setWithPriority",n,this._path,!1),dw("OnDisconnect.setWithPriority",r);const a=new oa;return Cw(this._repo,this._path,n,r,a.wrapCallback(()=>{})),a.promise}update(n){Ka("OnDisconnect.update",this._path),hw("OnDisconnect.update",n,this._path);const r=new oa;return Aw(this._repo,this._path,n,r.wrapCallback(()=>{})),r.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(n,r,a,o){this._repo=n,this._path=r,this._queryParams=a,this._orderByCalled=o}get key(){return Je(this._path)?null:Id(this._path)}get ref(){return new pa(this._repo,this._path)}get _queryIdentifier(){const n=$v(this._queryParams),r=zd(n);return r==="{}"?"default":r}get _queryObject(){return $v(this._queryParams)}isEqual(n){if(n=Ja(n),!(n instanceof pp))return!1;const r=this._repo===n._repo,a=Hd(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return r&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+CE(this._path)}}class pa extends pp{constructor(n,r){super(n,r,new Vd,!1)}get parent(){const n=T_(this._path);return n===null?null:new pa(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class qc{constructor(n,r,a){this._node=n,this.ref=r,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const r=new pt(n),a=Yo(this.ref,n);return new qc(this._node.getChild(r),a,Nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>n(new qc(o,Yo(this.ref,a),Nt)))}hasChild(n){const r=new pt(n);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pc(s,n){return s=Ja(s),s._checkNotDeleted("ref"),n!==void 0?Yo(s._root,n):s._root}function Yo(s,n){return s=Ja(s),Ze(s._path)===null?pw("child","path",n):e0("child","path",n),new pa(s._repo,Ht(s._path,n))}function og(s){return s=Ja(s),new Iw(s._repo,s._path)}function ug(s,n){s=Ja(s),Ka("push",s._path),Bc("push",n,s._path,!0);const r=i0(s._repo),a=zw(r),o=Yo(s,a),h=Yo(s,a);let p;return p=Promise.resolve(h),o.then=p.then.bind(p),o.catch=p.then.bind(p,void 0),o}function nd(s){return Ka("remove",s._path),c0(s,null)}function c0(s,n){s=Ja(s),Ka("set",s._path),Bc("set",n,s._path,!1);const r=new oa;return Tw(s._repo,s._path,n,null,r.wrapCallback(()=>{})),r.promise}class mp{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,r){const a=r._queryParams.getIndex();return new jw("value",this,new qc(n.snapshotNode,new pa(r._repo,r._path),a))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new Bw(this,n,r):null}matches(n){return n instanceof mp?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Hw(s,n,r,a,o){const h=new qw(r,void 0),p=new mp(h);return Ow(s._repo,s,p),()=>Dw(s._repo,s,p)}function f0(s,n,r,a){return Hw(s,"value",n)}jT(pa);$T(pa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="FIREBASE_DATABASE_EMULATOR_HOST",Ed={};let $w=!1;function Pw(s,n,r,a){s.repoInfo_=new p_(n,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,r),a&&(s.authTokenProvider_=a)}function Vw(s,n,r,a,o){let h=a||s.options.databaseURL;h===void 0&&(s.options.projectId||yr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pn("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let p=sg(h,o),v=p.repoInfo,g;typeof process<"u"&&xv&&(g=xv[Yw]),g?(h=`http://${g}?ns=${v.namespace}`,p=sg(h,o),v=p.repoInfo):p.repoInfo.secure;const S=new eE(s.name,s.options,n);mw("Invalid Firebase Database URL",p),Je(p.path)||yr("Database URL must point to the root of a Firebase Database (not including a child path).");const x=Kw(v,s,S,new JS(s,r));return new Gw(x,s)}function Fw(s,n){const r=Ed[n];(!r||r[s.key]!==s)&&yr(`Database ${n}(${s.repoInfo_}) has already been deleted.`),Mw(s),delete r[s.key]}function Kw(s,n,r,a){let o=Ed[n.name];o||(o={},Ed[n.name]=o);let h=o[s.toURLString()];return h&&yr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new bw(s,$w,r,a),o[s.toURLString()]=h,h}class Gw{constructor(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Sw(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pa(this._repo,ft())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Fw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&yr("Cannot call "+n+" on a deleted database.")}}function h0(s=g1(),n){const r=_1(s,"database").getImmediate({identifier:n});if(!r._instanceStarted){const a=b1("database");a&&Qw(r,...a)}return r}function Qw(s,n,r,a={}){s=Ja(s),s._checkNotDeleted("useEmulator");const o=`${n}:${r}`,h=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&S1(a,h.repoInfo_.emulatorOptions))return;yr("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let p;if(h.repoInfo_.nodeAdmin)a.mockUserToken&&yr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),p=new dc(dc.OWNER);else if(a.mockUserToken){const v=typeof a.mockUserToken=="string"?a.mockUserToken:E1(a.mockUserToken,s.app.options.projectId);p=new dc(v)}Pw(h,o,a,p)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(s){jS(T1),r1(new a1("database",(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return Vw(a,o,h,r)},"PUBLIC").setMultipleInstances(!0)),cv(Cv,Av,s),cv(Cv,Av,"esm2017")}pr.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};pr.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};Xw();var id={exports:{}};const Zw={},Ww=Object.freeze(Object.defineProperty({__proto__:null,default:Zw},Symbol.toStringTag,{value:"Module"})),cg=Zb(Ww);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */var fg;function Jw(){return fg||(fg=1,function(s){(function(){var n="input is invalid type",r=typeof window=="object",a=r?window:{};a.JS_SHA256_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",h=!a.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?a=Mg:o&&(a=self);var p=!a.JS_SHA256_NO_COMMON_JS&&!0&&s.exports,v=!a.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),S=[-2147483648,8388608,32768,128],x=[24,16,8,0],A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],z=["hex","array","digest","arrayBuffer"],W=[];(a.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(H){return Object.prototype.toString.call(H)==="[object Array]"}),v&&(a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(H){return typeof H=="object"&&H.buffer&&H.buffer.constructor===ArrayBuffer});var le=function(H,J){return function(ge){return new Ce(J,!0).update(ge)[H]()}},xe=function(H){var J=le("hex",H);h&&(J=ve(J,H)),J.create=function(){return new Ce(H)},J.update=function(be){return J.create().update(be)};for(var ge=0;ge<z.length;++ge){var fe=z[ge];J[fe]=le(fe,H)}return J},ve=function(H,J){var ge=cg,fe=cg.Buffer,be=J?"sha224":"sha256",ee;fe.from&&!a.JS_SHA256_NO_BUFFER_FROM?ee=fe.from:ee=function(re){return new fe(re)};var Oe=function(re){if(typeof re=="string")return ge.createHash(be).update(re,"utf8").digest("hex");if(re==null)throw new Error(n);return re.constructor===ArrayBuffer&&(re=new Uint8Array(re)),Array.isArray(re)||ArrayBuffer.isView(re)||re.constructor===fe?ge.createHash(be).update(ee(re)).digest("hex"):H(re)};return Oe},Le=function(H,J){return function(ge,fe){return new Ge(ge,J,!0).update(fe)[H]()}},He=function(H){var J=Le("hex",H);J.create=function(be){return new Ge(be,H)},J.update=function(be,ee){return J.create(be).update(ee)};for(var ge=0;ge<z.length;++ge){var fe=z[ge];J[fe]=Le(fe,H)}return J};function Ce(H,J){J?(W[0]=W[16]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=0,this.blocks=W):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],H?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=H}Ce.prototype.update=function(H){if(!this.finalized){var J,ge=typeof H;if(ge!=="string"){if(ge==="object"){if(H===null)throw new Error(n);if(v&&H.constructor===ArrayBuffer)H=new Uint8Array(H);else if(!Array.isArray(H)&&(!v||!ArrayBuffer.isView(H)))throw new Error(n)}else throw new Error(n);J=!0}for(var fe,be=0,ee,Oe=H.length,re=this.blocks;be<Oe;){if(this.hashed&&(this.hashed=!1,re[0]=this.block,this.block=re[16]=re[1]=re[2]=re[3]=re[4]=re[5]=re[6]=re[7]=re[8]=re[9]=re[10]=re[11]=re[12]=re[13]=re[14]=re[15]=0),J)for(ee=this.start;be<Oe&&ee<64;++be)re[ee>>>2]|=H[be]<<x[ee++&3];else for(ee=this.start;be<Oe&&ee<64;++be)fe=H.charCodeAt(be),fe<128?re[ee>>>2]|=fe<<x[ee++&3]:fe<2048?(re[ee>>>2]|=(192|fe>>>6)<<x[ee++&3],re[ee>>>2]|=(128|fe&63)<<x[ee++&3]):fe<55296||fe>=57344?(re[ee>>>2]|=(224|fe>>>12)<<x[ee++&3],re[ee>>>2]|=(128|fe>>>6&63)<<x[ee++&3],re[ee>>>2]|=(128|fe&63)<<x[ee++&3]):(fe=65536+((fe&1023)<<10|H.charCodeAt(++be)&1023),re[ee>>>2]|=(240|fe>>>18)<<x[ee++&3],re[ee>>>2]|=(128|fe>>>12&63)<<x[ee++&3],re[ee>>>2]|=(128|fe>>>6&63)<<x[ee++&3],re[ee>>>2]|=(128|fe&63)<<x[ee++&3]);this.lastByteIndex=ee,this.bytes+=ee-this.start,ee>=64?(this.block=re[16],this.start=ee-64,this.hash(),this.hashed=!0):this.start=ee}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Ce.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var H=this.blocks,J=this.lastByteIndex;H[16]=this.block,H[J>>>2]|=S[J&3],this.block=H[16],J>=56&&(this.hashed||this.hash(),H[0]=this.block,H[16]=H[1]=H[2]=H[3]=H[4]=H[5]=H[6]=H[7]=H[8]=H[9]=H[10]=H[11]=H[12]=H[13]=H[14]=H[15]=0),H[14]=this.hBytes<<3|this.bytes>>>29,H[15]=this.bytes<<3,this.hash()}},Ce.prototype.hash=function(){var H=this.h0,J=this.h1,ge=this.h2,fe=this.h3,be=this.h4,ee=this.h5,Oe=this.h6,re=this.h7,ce=this.blocks,oe,M,Q,Z,ae,me,Me,Ue,Ne,Fe,rt;for(oe=16;oe<64;++oe)ae=ce[oe-15],M=(ae>>>7|ae<<25)^(ae>>>18|ae<<14)^ae>>>3,ae=ce[oe-2],Q=(ae>>>17|ae<<15)^(ae>>>19|ae<<13)^ae>>>10,ce[oe]=ce[oe-16]+M+ce[oe-7]+Q<<0;for(rt=J&ge,oe=0;oe<64;oe+=4)this.first?(this.is224?(Ue=300032,ae=ce[0]-1413257819,re=ae-150054599<<0,fe=ae+24177077<<0):(Ue=704751109,ae=ce[0]-210244248,re=ae-1521486534<<0,fe=ae+143694565<<0),this.first=!1):(M=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),Q=(be>>>6|be<<26)^(be>>>11|be<<21)^(be>>>25|be<<7),Ue=H&J,Z=Ue^H&ge^rt,Me=be&ee^~be&Oe,ae=re+Q+Me+A[oe]+ce[oe],me=M+Z,re=fe+ae<<0,fe=ae+me<<0),M=(fe>>>2|fe<<30)^(fe>>>13|fe<<19)^(fe>>>22|fe<<10),Q=(re>>>6|re<<26)^(re>>>11|re<<21)^(re>>>25|re<<7),Ne=fe&H,Z=Ne^fe&J^Ue,Me=re&be^~re&ee,ae=Oe+Q+Me+A[oe+1]+ce[oe+1],me=M+Z,Oe=ge+ae<<0,ge=ae+me<<0,M=(ge>>>2|ge<<30)^(ge>>>13|ge<<19)^(ge>>>22|ge<<10),Q=(Oe>>>6|Oe<<26)^(Oe>>>11|Oe<<21)^(Oe>>>25|Oe<<7),Fe=ge&fe,Z=Fe^ge&H^Ne,Me=Oe&re^~Oe&be,ae=ee+Q+Me+A[oe+2]+ce[oe+2],me=M+Z,ee=J+ae<<0,J=ae+me<<0,M=(J>>>2|J<<30)^(J>>>13|J<<19)^(J>>>22|J<<10),Q=(ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7),rt=J&ge,Z=rt^J&fe^Fe,Me=ee&Oe^~ee&re,ae=be+Q+Me+A[oe+3]+ce[oe+3],me=M+Z,be=H+ae<<0,H=ae+me<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+H<<0,this.h1=this.h1+J<<0,this.h2=this.h2+ge<<0,this.h3=this.h3+fe<<0,this.h4=this.h4+be<<0,this.h5=this.h5+ee<<0,this.h6=this.h6+Oe<<0,this.h7=this.h7+re<<0},Ce.prototype.hex=function(){this.finalize();var H=this.h0,J=this.h1,ge=this.h2,fe=this.h3,be=this.h4,ee=this.h5,Oe=this.h6,re=this.h7,ce=g[H>>>28&15]+g[H>>>24&15]+g[H>>>20&15]+g[H>>>16&15]+g[H>>>12&15]+g[H>>>8&15]+g[H>>>4&15]+g[H&15]+g[J>>>28&15]+g[J>>>24&15]+g[J>>>20&15]+g[J>>>16&15]+g[J>>>12&15]+g[J>>>8&15]+g[J>>>4&15]+g[J&15]+g[ge>>>28&15]+g[ge>>>24&15]+g[ge>>>20&15]+g[ge>>>16&15]+g[ge>>>12&15]+g[ge>>>8&15]+g[ge>>>4&15]+g[ge&15]+g[fe>>>28&15]+g[fe>>>24&15]+g[fe>>>20&15]+g[fe>>>16&15]+g[fe>>>12&15]+g[fe>>>8&15]+g[fe>>>4&15]+g[fe&15]+g[be>>>28&15]+g[be>>>24&15]+g[be>>>20&15]+g[be>>>16&15]+g[be>>>12&15]+g[be>>>8&15]+g[be>>>4&15]+g[be&15]+g[ee>>>28&15]+g[ee>>>24&15]+g[ee>>>20&15]+g[ee>>>16&15]+g[ee>>>12&15]+g[ee>>>8&15]+g[ee>>>4&15]+g[ee&15]+g[Oe>>>28&15]+g[Oe>>>24&15]+g[Oe>>>20&15]+g[Oe>>>16&15]+g[Oe>>>12&15]+g[Oe>>>8&15]+g[Oe>>>4&15]+g[Oe&15];return this.is224||(ce+=g[re>>>28&15]+g[re>>>24&15]+g[re>>>20&15]+g[re>>>16&15]+g[re>>>12&15]+g[re>>>8&15]+g[re>>>4&15]+g[re&15]),ce},Ce.prototype.toString=Ce.prototype.hex,Ce.prototype.digest=function(){this.finalize();var H=this.h0,J=this.h1,ge=this.h2,fe=this.h3,be=this.h4,ee=this.h5,Oe=this.h6,re=this.h7,ce=[H>>>24&255,H>>>16&255,H>>>8&255,H&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255,ge>>>24&255,ge>>>16&255,ge>>>8&255,ge&255,fe>>>24&255,fe>>>16&255,fe>>>8&255,fe&255,be>>>24&255,be>>>16&255,be>>>8&255,be&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee&255,Oe>>>24&255,Oe>>>16&255,Oe>>>8&255,Oe&255];return this.is224||ce.push(re>>>24&255,re>>>16&255,re>>>8&255,re&255),ce},Ce.prototype.array=Ce.prototype.digest,Ce.prototype.arrayBuffer=function(){this.finalize();var H=new ArrayBuffer(this.is224?28:32),J=new DataView(H);return J.setUint32(0,this.h0),J.setUint32(4,this.h1),J.setUint32(8,this.h2),J.setUint32(12,this.h3),J.setUint32(16,this.h4),J.setUint32(20,this.h5),J.setUint32(24,this.h6),this.is224||J.setUint32(28,this.h7),H};function Ge(H,J,ge){var fe,be=typeof H;if(be==="string"){var ee=[],Oe=H.length,re=0,ce;for(fe=0;fe<Oe;++fe)ce=H.charCodeAt(fe),ce<128?ee[re++]=ce:ce<2048?(ee[re++]=192|ce>>>6,ee[re++]=128|ce&63):ce<55296||ce>=57344?(ee[re++]=224|ce>>>12,ee[re++]=128|ce>>>6&63,ee[re++]=128|ce&63):(ce=65536+((ce&1023)<<10|H.charCodeAt(++fe)&1023),ee[re++]=240|ce>>>18,ee[re++]=128|ce>>>12&63,ee[re++]=128|ce>>>6&63,ee[re++]=128|ce&63);H=ee}else if(be==="object"){if(H===null)throw new Error(n);if(v&&H.constructor===ArrayBuffer)H=new Uint8Array(H);else if(!Array.isArray(H)&&(!v||!ArrayBuffer.isView(H)))throw new Error(n)}else throw new Error(n);H.length>64&&(H=new Ce(J,!0).update(H).array());var oe=[],M=[];for(fe=0;fe<64;++fe){var Q=H[fe]||0;oe[fe]=92^Q,M[fe]=54^Q}Ce.call(this,J,ge),this.update(M),this.oKeyPad=oe,this.inner=!0,this.sharedMemory=ge}Ge.prototype=new Ce,Ge.prototype.finalize=function(){if(Ce.prototype.finalize.call(this),this.inner){this.inner=!1;var H=this.array();Ce.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(H),Ce.prototype.finalize.call(this)}};var we=xe();we.sha256=we,we.sha224=xe(!0),we.sha256.hmac=He(),we.sha224.hmac=He(!0),p?s.exports=we:(a.sha256=we.sha256,a.sha224=we.sha224)})()}(id)),id.exports}var ex=Jw();const tx={apiKey:"AIzaSyCKS7tWQRYRWHsawNfN42uAmISdUbJHJJw",authDomain:"blitzout-49b39.firebaseapp.com",projectId:"blitzout-49b39",storageBucket:"blitzout-49b39.appspot.com",messagingSenderId:"852428606926",appId:"1:852428606926:web:17444e6f8dbc2f95f0ef9f",measurementId:"G-93YN1YMTQ7"},nx=w1(tx),_r=Ng(nx);async function ix(s=""){try{const n=On();return await j1(n),n.currentUser?(await Od(n.currentUser,{displayName:s}),n.currentUser):null}catch(n){return console.error(n),null}}async function rx(s,n,r=""){try{const a=On(),o=await R1(a,s,n);return await Od(o.user,{displayName:r}),o.user}catch(a){throw console.error("Registration error:",a),a}}async function ax(s,n){try{const r=On();return(await O1(r,s,n)).user}catch(r){throw console.error("Email login error:",r),r}}async function sx(){try{const s=On(),n=new D1;return(await M1(s,n)).user}catch(s){throw console.error("Google login error:",s),s}}async function lx(s){try{const n=On();return await z1(n,s),!0}catch(n){throw console.error("Password reset error:",n),n}}async function ox(s,n){try{const a=On().currentUser;if(a!=null&&a.isAnonymous){const o=L1.credential(s,n);return(await U1(a,o)).user}else throw new Error("User is not anonymous or not logged in")}catch(r){throw console.error("Account conversion error:",r),r}}async function ux(){try{const s=On();return await k1(s),!0}catch(s){throw console.error(s),s}}function eA({newRoom:s,oldRoom:n,newDisplayName:r,oldDisplayName:a,removeOnDisconnect:o=!0}){var xe;const h=h0(),v=(xe=On().currentUser)==null?void 0:xe.uid,g=s==null?void 0:s.toUpperCase(),S=n==null?void 0:n.toUpperCase(),x=pc(h,`rooms/${g}/uids/${v}`),A=pc(h,`rooms/${S}/uids/${v}`),z=pc(h,".info/connected");let W,le;f0(z,ve=>{ve.val()===!0&&(W=ug(x),le=ug(A),(S!==g||a!==r)&&nd(A),o&&(og(le).remove(),og(W).remove()),c0(W,{displayName:r,lastActive:Date.now()}))}),document.addEventListener("beforeunload",()=>{le&&nd(le),W&&nd(W)})}function cx(s,n,r={}){const a=h0(),o=pc(a,`rooms/${s==null?void 0:s.toUpperCase()}/uids`);f0(o,h=>{const p=h.val();if(!p)return;const v=Object.keys(p).sort().join(","),g=r?Object.keys(r).sort().join(","):"";v!==g&&n(p)})}async function fx(s=""){try{const n=On();return n.currentUser?(await Od(n.currentUser,{displayName:s}),n.currentUser):null}catch(n){return console.error(n),null}}async function tA(s,n){try{await Yc(es(_r,"custom-actions"),{grouping:s,customAction:n,ttl:new Date(Date.now()+4*24*60*60*1e3)})}catch(r){console.error(r)}}async function hx(s){const n=Dd(es(_r,"game-boards"),Md("checksum","==",s)),r=await N1(n);return r.size?r.docs[0]:null}async function nA({title:s,gameBoard:n,settings:r}){if(s)try{const a=ex.sha256(n),o=await hx(a);return o?(C1(o.ref,{ttl:new Date(Date.now()+30*24*60*60*1e3)}),o):await dx({title:s,gameBoard:n,settings:r,checksum:a})}catch(a){console.error(a)}}async function dx({title:s,gameBoard:n,settings:r,checksum:a}){try{return await Yc(es(_r,"game-boards"),{title:s,gameBoard:n,settings:r,checksum:a,ttl:new Date(Date.now()+30*24*60*60*1e3)})}catch(o){console.error(o);return}}async function iA(s){try{const n=Po(_r,"game-boards",s),r=await kg(n);return r.exists()?r.data():void 0}catch(n){console.error(n);return}}let hg={};async function rA({room:s,user:n,text:r="",type:a="chat",...o}){const h=["chat","actions","settings","room","media"];if(!h.includes(a)){let g="Invalid message type. Was expecting ";return g+=h.join(", "),g+=` but got ${a}`,console.error(g)}const p={room:s,user:n.uid,text:r,type:a,...o};if(JSON.stringify(p)===JSON.stringify(hg))return;hg=p;const v=Date.now();try{return await Yc(es(_r,"chat-rooms",(s==null?void 0:s.toUpperCase())||"PUBLIC","messages"),{text:r.trim(),ttl:new Date(v+24*60*60*1e3),type:a,...o,uid:n.uid,displayName:n.displayName,timestamp:x1()})}catch(g){return console.error(g)}}async function aA(s,n){return A1(Po(_r,`/chat-rooms/${s.toUpperCase()}/messages/${n}`))}function px(s,n){if(!s)return;const r=new Date;return r.setHours(r.getHours()-2),Lg(Dd(es(_r,"chat-rooms",s==null?void 0:s.toUpperCase(),"messages"),Md("timestamp",">",r),Ug("timestamp","asc")),a=>{const o=a.docs.map(h=>({id:h.id,...h.data()}));n(o)})}function mx(s){return Lg(Dd(es(_r,"schedule"),Md("dateTime",">",new Date),Ug("dateTime","asc")),n=>{const r=n.docs.map(a=>({id:a.id,...a.data()}));s(r)})}async function yx(s,n,r="PUBLIC"){try{return await Yc(es(_r,"schedule"),{dateTime:B1.fromDate(s),url:n,room:r})}catch(a){return console.error(a)}}function vx(s={tables:["customTiles","gameBoard"]}){const{tables:n}=s,r=new Set(n),a={timeouts:{},queue:new Set,scheduleSync(o){this.timeouts[o]&&clearTimeout(this.timeouts[o]),this.queue.add(o),this.timeouts[o]=setTimeout(()=>{this.processSyncQueue()},2e3)},processSyncQueue(){var h;if(this.queue.size===0)return;const o=window;(h=o.authContext)!=null&&h.user&&!o.authContext.user.isAnonymous&&o.authContext.syncData(),this.queue.clear(),Object.keys(this.timeouts).forEach(p=>{clearTimeout(this.timeouts[p]),delete this.timeouts[p]})}};return{stack:"dbcore",name:"syncMiddleware",create(o){return{...o,table(h){const p=o.table(h);return r.has(h)?{...p,mutate:async v=>{const g=await p.mutate(v);return["put","add","delete","deleteRange","update"].includes(v.type)&&a.scheduleSync(h),g}}:p}}}}}var mc={exports:{}},gx=mc.exports,dg;function _x(){return dg||(dg=1,function(s,n){(function(r,a){s.exports=a()})(gx,function(){var r=function(u,f){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(m[b]=y[b])})(u,f)},a=function(){return(a=Object.assign||function(u){for(var f,m=1,y=arguments.length;m<y;m++)for(var b in f=arguments[m])Object.prototype.hasOwnProperty.call(f,b)&&(u[b]=f[b]);return u}).apply(this,arguments)};function o(u,f,m){for(var y,b=0,E=f.length;b<E;b++)!y&&b in f||((y=y||Array.prototype.slice.call(f,0,b))[b]=f[b]);return u.concat(y||Array.prototype.slice.call(f))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Mg,p=Object.keys,v=Array.isArray;function g(u,f){return typeof f!="object"||p(f).forEach(function(m){u[m]=f[m]}),u}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var S=Object.getPrototypeOf,x={}.hasOwnProperty;function A(u,f){return x.call(u,f)}function z(u,f){typeof f=="function"&&(f=f(S(u))),(typeof Reflect>"u"?p:Reflect.ownKeys)(f).forEach(function(m){le(u,m,f[m])})}var W=Object.defineProperty;function le(u,f,m,y){W(u,f,g(m&&A(m,"get")&&typeof m.get=="function"?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},y))}function xe(u){return{from:function(f){return u.prototype=Object.create(f.prototype),le(u.prototype,"constructor",u),{extend:z.bind(null,u.prototype)}}}}var ve=Object.getOwnPropertyDescriptor,Le=[].slice;function He(u,f,m){return Le.call(u,f,m)}function Ce(u,f){return f(u)}function Ge(u){if(!u)throw new Error("Assertion Failed")}function we(u){h.setImmediate?setImmediate(u):setTimeout(u,0)}function H(u,f){if(typeof f=="string"&&A(u,f))return u[f];if(!f)return u;if(typeof f!="string"){for(var m=[],y=0,b=f.length;y<b;++y){var E=H(u,f[y]);m.push(E)}return m}var w=f.indexOf(".");if(w!==-1){var C=u[f.substr(0,w)];return C==null?void 0:H(C,f.substr(w+1))}}function J(u,f,m){if(u&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof f!="string"&&"length"in f){Ge(typeof m!="string"&&"length"in m);for(var y=0,b=f.length;y<b;++y)J(u,f[y],m[y])}else{var E,w,C=f.indexOf(".");C!==-1?(E=f.substr(0,C),(w=f.substr(C+1))===""?m===void 0?v(u)&&!isNaN(parseInt(E))?u.splice(E,1):delete u[E]:u[E]=m:J(C=!(C=u[E])||!A(u,E)?u[E]={}:C,w,m)):m===void 0?v(u)&&!isNaN(parseInt(f))?u.splice(f,1):delete u[f]:u[f]=m}}function ge(u){var f,m={};for(f in u)A(u,f)&&(m[f]=u[f]);return m}var fe=[].concat;function be(u){return fe.apply([],u)}var jn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(be([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(f){return f+u+"Array"})}))).filter(function(u){return h[u]}),ee=new Set(jn.map(function(u){return h[u]})),Oe=null;function re(u){return Oe=new WeakMap,u=function f(m){if(!m||typeof m!="object")return m;var y=Oe.get(m);if(y)return y;if(v(m)){y=[],Oe.set(m,y);for(var b=0,E=m.length;b<E;++b)y.push(f(m[b]))}else if(ee.has(m.constructor))y=m;else{var w,C=S(m);for(w in y=C===Object.prototype?{}:Object.create(C),Oe.set(m,y),m)A(m,w)&&(y[w]=f(m[w]))}return y}(u),Oe=null,u}var ce={}.toString;function oe(u){return ce.call(u).slice(8,-1)}var M=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Q=typeof M=="symbol"?function(u){var f;return u!=null&&(f=u[M])&&f.apply(u)}:function(){return null};function Z(u,f){return f=u.indexOf(f),0<=f&&u.splice(f,1),0<=f}var ae={};function me(u){var f,m,y,b;if(arguments.length===1){if(v(u))return u.slice();if(this===ae&&typeof u=="string")return[u];if(b=Q(u)){for(m=[];!(y=b.next()).done;)m.push(y.value);return m}if(u==null)return[u];if(typeof(f=u.length)!="number")return[u];for(m=new Array(f);f--;)m[f]=u[f];return m}for(f=arguments.length,m=new Array(f);f--;)m[f]=arguments[f];return m}var Me=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ga=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Cn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ga),Ue={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ne(u,f){this.name=u,this.message=f}function Fe(u,f){return u+". Errors: "+Object.keys(f).map(function(m){return f[m].toString()}).filter(function(m,y,b){return b.indexOf(m)===y}).join(`
`)}function rt(u,f,m,y){this.failures=f,this.failedKeys=y,this.successCount=m,this.message=Fe(u,f)}function At(u,f){this.name="BulkError",this.failures=Object.keys(f).map(function(m){return f[m]}),this.failuresByPos=f,this.message=Fe(u,this.failures)}xe(Ne).from(Error).extend({toString:function(){return this.name+": "+this.message}}),xe(rt).from(Ne),xe(At).from(Ne);var Xt=Cn.reduce(function(u,f){return u[f]=f+"Error",u},{}),Dn=Ne,Ae=Cn.reduce(function(u,f){var m=f+"Error";function y(b,E){this.name=m,b?typeof b=="string"?(this.message="".concat(b).concat(E?`
 `+E:""),this.inner=E||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=Ue[f]||m,this.inner=null)}return xe(y).from(Dn),u[f]=y,u},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var Ot=ga.reduce(function(u,f){return u[f+"Error"]=Ae[f],u},{}),kt=Cn.reduce(function(u,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(u[f+"Error"]=Ae[f]),u},{});function Ke(){}function Zt(u){return u}function _i(u,f){return u==null||u===Zt?f:function(m){return f(u(m))}}function Mn(u,f){return function(){u.apply(this,arguments),f.apply(this,arguments)}}function ma(u,f){return u===Ke?f:function(){var m=u.apply(this,arguments);m!==void 0&&(arguments[0]=m);var y=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var E=f.apply(this,arguments);return y&&(this.onsuccess=this.onsuccess?Mn(y,this.onsuccess):y),b&&(this.onerror=this.onerror?Mn(b,this.onerror):b),E!==void 0?E:m}}function mn(u,f){return u===Ke?f:function(){u.apply(this,arguments);var m=this.onsuccess,y=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Mn(m,this.onsuccess):m),y&&(this.onerror=this.onerror?Mn(y,this.onerror):y)}}function ya(u,f){return u===Ke?f:function(m){var y=u.apply(this,arguments);g(m,y);var b=this.onsuccess,E=this.onerror;return this.onsuccess=null,this.onerror=null,m=f.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?Mn(b,this.onsuccess):b),E&&(this.onerror=this.onerror?Mn(E,this.onerror):E),y===void 0?m===void 0?void 0:m:g(y,m)}}function br(u,f){return u===Ke?f:function(){return f.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function va(u,f){return u===Ke?f:function(){var m=u.apply(this,arguments);if(m&&typeof m.then=="function"){for(var y=this,b=arguments.length,E=new Array(b);b--;)E[b]=arguments[b];return m.then(function(){return f.apply(y,E)})}return f.apply(this,arguments)}}kt.ModifyError=rt,kt.DexieError=Ne,kt.BulkError=At;var En=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Xo(u){En=u}var Sr={},Zo=100,jn=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,S(u),u];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,S(f),u]}(),ga=jn[0],Cn=jn[1],jn=jn[2],Cn=Cn&&Cn.then,zt=ga&&ga.constructor,Gn=!!jn,Kt=function(u,f){oi.push([u,f]),is&&(queueMicrotask(yl),is=!1)},hl=!0,is=!0,Bi=[],qi=[],Er=Zt,yn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ke,pgp:!1,env:{},finalize:Ke},ke=yn,oi=[],Ii=0,_a=[];function Te(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=ke;if(typeof u!="function"){if(u!==Sr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&dl(this,this._value))}this._state=null,this._value=null,++f.ref,function m(y,b){try{b(function(E){if(y._state===null){if(E===y)throw new TypeError("A promise cannot be resolved with itself.");var w=y._lib&&Hi();E&&typeof E.then=="function"?m(y,function(C,N){E instanceof Te?E._then(C,N):E.then(C,N)}):(y._state=!0,y._value=E,pl(y)),w&&wr()}},dl.bind(null,y))}catch(E){dl(y,E)}}(this,u)}var ba={get:function(){var u=ke,f=Sa;function m(y,b){var E=this,w=!u.global&&(u!==ke||f!==Sa),C=w&&!Tn(),N=new Te(function(L,B){rs(E,new Tr(Ei(y,u,w,C),Ei(b,u,w,C),L,B,u))});return this._consoleTask&&(N._consoleTask=this._consoleTask),N}return m.prototype=Sr,m},set:function(u){le(this,"then",u&&u.prototype===Sr?ba:{get:function(){return u},set:ba.set})}};function Tr(u,f,m,y,b){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof f=="function"?f:null,this.resolve=m,this.reject=y,this.psd=b}function dl(u,f){var m,y;qi.push(f),u._state===null&&(m=u._lib&&Hi(),f=Er(f),u._state=!1,u._value=f,y=u,Bi.some(function(b){return b._value===y._value})||Bi.push(y),pl(u),m&&wr())}function pl(u){var f=u._listeners;u._listeners=[];for(var m=0,y=f.length;m<y;++m)rs(u,f[m]);var b=u._PSD;--b.ref||b.finalize(),Ii===0&&(++Ii,Kt(function(){--Ii==0&&Qn()},[]))}function rs(u,f){if(u._state!==null){var m=u._state?f.onFulfilled:f.onRejected;if(m===null)return(u._state?f.resolve:f.reject)(u._value);++f.psd.ref,++Ii,Kt(ml,[m,u,f])}else u._listeners.push(f)}function ml(u,f,m){try{var y,b=f._value;!f._state&&qi.length&&(qi=[]),y=En&&f._consoleTask?f._consoleTask.run(function(){return u(b)}):u(b),f._state||qi.indexOf(b)!==-1||function(E){for(var w=Bi.length;w;)if(Bi[--w]._value===E._value)return Bi.splice(w,1)}(f),m.resolve(y)}catch(E){m.reject(E)}finally{--Ii==0&&Qn(),--m.psd.ref||m.psd.finalize()}}function yl(){Si(yn,function(){Hi()&&wr()})}function Hi(){var u=hl;return is=hl=!1,u}function wr(){var u,f,m;do for(;0<oi.length;)for(u=oi,oi=[],m=u.length,f=0;f<m;++f){var y=u[f];y[0].apply(null,y[1])}while(0<oi.length);is=hl=!0}function Qn(){var u=Bi;Bi=[],u.forEach(function(y){y._PSD.onunhandled.call(null,y._value,y)});for(var f=_a.slice(0),m=f.length;m;)f[--m]()}function jt(u){return new Te(Sr,!1,u)}function Qe(u,f){var m=ke;return function(){var y=Hi(),b=ke;try{return gt(m,!0),u.apply(this,arguments)}catch(E){f&&f(E)}finally{gt(b,!1),y&&wr()}}}z(Te.prototype,{then:ba,_then:function(u,f){rs(this,new Tr(null,null,u,f,ke))},catch:function(u){if(arguments.length===1)return this.then(null,u);var f=u,m=arguments[1];return typeof f=="function"?this.then(null,function(y){return(y instanceof f?m:jt)(y)}):this.then(null,function(y){return(y&&y.name===f?m:jt)(y)})},finally:function(u){return this.then(function(f){return Te.resolve(u()).then(function(){return f})},function(f){return Te.resolve(u()).then(function(){return jt(f)})})},timeout:function(u,f){var m=this;return u<1/0?new Te(function(y,b){var E=setTimeout(function(){return b(new Ae.Timeout(f))},u);m.then(y,b).finally(clearTimeout.bind(null,E))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&le(Te.prototype,Symbol.toStringTag,"Dexie.Promise"),yn.env=gl(),z(Te,{all:function(){var u=me.apply(null,arguments).map(bi);return new Te(function(f,m){u.length===0&&f([]);var y=u.length;u.forEach(function(b,E){return Te.resolve(b).then(function(w){u[E]=w,--y||f(u)},m)})})},resolve:function(u){return u instanceof Te?u:u&&typeof u.then=="function"?new Te(function(f,m){u.then(f,m)}):new Te(Sr,!0,u)},reject:jt,race:function(){var u=me.apply(null,arguments).map(bi);return new Te(function(f,m){u.map(function(y){return Te.resolve(y).then(f,m)})})},PSD:{get:function(){return ke},set:function(u){return ke=u}},totalEchoes:{get:function(){return Sa}},newPSD:Xn,usePSD:Si,scheduler:{get:function(){return Kt},set:function(u){Kt=u}},rejectionMapper:{get:function(){return Er},set:function(u){Er=u}},follow:function(u,f){return new Te(function(m,y){return Xn(function(b,E){var w=ke;w.unhandleds=[],w.onunhandled=E,w.finalize=Mn(function(){var C,N=this;C=function(){N.unhandleds.length===0?b():E(N.unhandleds[0])},_a.push(function L(){C(),_a.splice(_a.indexOf(L),1)}),++Ii,Kt(function(){--Ii==0&&Qn()},[])},w.finalize),u()},f,m,y)})}}),zt&&(zt.allSettled&&le(Te,"allSettled",function(){var u=me.apply(null,arguments).map(bi);return new Te(function(f){u.length===0&&f([]);var m=u.length,y=new Array(m);u.forEach(function(b,E){return Te.resolve(b).then(function(w){return y[E]={status:"fulfilled",value:w}},function(w){return y[E]={status:"rejected",reason:w}}).then(function(){return--m||f(y)})})})}),zt.any&&typeof AggregateError<"u"&&le(Te,"any",function(){var u=me.apply(null,arguments).map(bi);return new Te(function(f,m){u.length===0&&m(new AggregateError([]));var y=u.length,b=new Array(y);u.forEach(function(E,w){return Te.resolve(E).then(function(C){return f(C)},function(C){b[w]=C,--y||m(new AggregateError(b))})})})}),zt.withResolvers&&(Te.withResolvers=zt.withResolvers));var Tt={awaits:0,echoes:0,id:0},vl=0,as=[],ss=0,Sa=0,Ea=0;function Xn(u,f,m,y){var b=ke,E=Object.create(b);return E.parent=b,E.ref=0,E.global=!1,E.id=++Ea,yn.env,E.env=Gn?{Promise:Te,PromiseProp:{value:Te,configurable:!0,writable:!0},all:Te.all,race:Te.race,allSettled:Te.allSettled,any:Te.any,resolve:Te.resolve,reject:Te.reject}:{},f&&g(E,f),++b.ref,E.finalize=function(){--this.parent.ref||this.parent.finalize()},y=Si(E,u,m,y),E.ref===0&&E.finalize(),y}function Bn(){return Tt.id||(Tt.id=++vl),++Tt.awaits,Tt.echoes+=Zo,Tt.id}function Tn(){return!!Tt.awaits&&(--Tt.awaits==0&&(Tt.id=0),Tt.echoes=Tt.awaits*Zo,!0)}function bi(u){return Tt.echoes&&u&&u.constructor===zt?(Bn(),u.then(function(f){return Tn(),f},function(f){return Tn(),Mt(f)})):u}function xr(){var u=as[as.length-1];as.pop(),gt(u,!1)}function gt(u,f){var m,y=ke;(f?!Tt.echoes||ss++&&u===ke:!ss||--ss&&u===ke)||queueMicrotask(f?(function(b){++Sa,Tt.echoes&&--Tt.echoes!=0||(Tt.echoes=Tt.awaits=Tt.id=0),as.push(ke),gt(b,!0)}).bind(null,u):xr),u!==ke&&(ke=u,y===yn&&(yn.env=gl()),Gn&&(m=yn.env.Promise,f=u.env,(y.global||u.global)&&(Object.defineProperty(h,"Promise",f.PromiseProp),m.all=f.all,m.race=f.race,m.resolve=f.resolve,m.reject=f.reject,f.allSettled&&(m.allSettled=f.allSettled),f.any&&(m.any=f.any))))}function gl(){var u=h.Promise;return Gn?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function Si(u,f,m,y,b){var E=ke;try{return gt(u,!0),f(m,y,b)}finally{gt(E,!1)}}function Ei(u,f,m,y){return typeof u!="function"?u:function(){var b=ke;m&&Bn(),gt(f,!0);try{return u.apply(this,arguments)}finally{gt(b,!1),y&&queueMicrotask(Tn)}}}function Ti(u){Promise===zt&&Tt.echoes===0?ss===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+Cn).indexOf("[native code]")===-1&&(Bn=Tn=Ke);var Mt=Te.reject,wi="",Zn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wo="String expected.",ui=[],Yi="__dbnames",qn="readonly",Ta="readwrite";function xi(u,f){return u?f?function(){return u.apply(this,arguments)&&f.apply(this,arguments)}:u:f}var $i={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Cr(u){return typeof u!="string"||/\./.test(u)?function(f){return f}:function(f){return f[u]===void 0&&u in f&&delete(f=re(f))[u],f}}function ls(){throw Ae.Type()}function tt(u,f){try{var m=_l(u),y=_l(f);if(m!==y)return m==="Array"?1:y==="Array"?-1:m==="binary"?1:y==="binary"?-1:m==="string"?1:y==="string"?-1:m==="Date"?1:y!=="Date"?NaN:-1;switch(m){case"number":case"Date":case"string":return f<u?1:u<f?-1:0;case"binary":return function(b,E){for(var w=b.length,C=E.length,N=w<C?w:C,L=0;L<N;++L)if(b[L]!==E[L])return b[L]<E[L]?-1:1;return w===C?0:w<C?-1:1}(wn(u),wn(f));case"Array":return function(b,E){for(var w=b.length,C=E.length,N=w<C?w:C,L=0;L<N;++L){var B=tt(b[L],E[L]);if(B!==0)return B}return w===C?0:w<C?-1:1}(u,f)}}catch{}return NaN}function _l(u){var f=typeof u;return f!="object"?f:ArrayBuffer.isView(u)?"binary":(u=oe(u),u==="ArrayBuffer"?"binary":u)}function wn(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var bl=(_t.prototype._trans=function(u,f,m){var y=this._tx||ke.trans,b=this.name,E=En&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function w(L,B,D){if(!D.schema[b])throw new Ae.NotFound("Table "+b+" not part of transaction");return f(D.idbtrans,D)}var C=Hi();try{var N=y&&y.db._novip===this.db._novip?y===ke.trans?y._promise(u,w,m):Xn(function(){return y._promise(u,w,m)},{trans:y,transless:ke.transless||ke}):function L(B,D,I,R){if(B.idbdb&&(B._state.openComplete||ke.letThrough||B._vip)){var j=B._createTransaction(D,I,B._dbSchema);try{j.create(),B._state.PR1398_maxLoop=3}catch(Y){return Y.name===Xt.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return L(B,D,I,R)})):Mt(Y)}return j._promise(D,function(Y,U){return Xn(function(){return ke.trans=j,R(Y,U,j)})}).then(function(Y){if(D==="readwrite")try{j.idbtrans.commit()}catch{}return D==="readonly"?Y:j._completion.then(function(){return Y})})}if(B._state.openComplete)return Mt(new Ae.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return Mt(new Ae.DatabaseClosed);B.open().catch(Ke)}return B._state.dbReadyPromise.then(function(){return L(B,D,I,R)})}(this.db,u,[this.name],w);return E&&(N._consoleTask=E,N=N.catch(function(L){return console.trace(L),Mt(L)})),N}finally{C&&wr()}},_t.prototype.get=function(u,f){var m=this;return u&&u.constructor===Object?this.where(u).first(f):u==null?Mt(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(y){return m.core.get({trans:y,key:u}).then(function(b){return m.hook.reading.fire(b)})}).then(f)},_t.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(v(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var f=p(u);if(f.length===1)return this.where(f[0]).equals(u[f[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(C){if(C.compound&&f.every(function(L){return 0<=C.keyPath.indexOf(L)})){for(var N=0;N<f.length;++N)if(f.indexOf(C.keyPath[N])===-1)return!1;return!0}return!1}).sort(function(C,N){return C.keyPath.length-N.keyPath.length})[0];if(m&&this.db._maxKey!==wi){var E=m.keyPath.slice(0,f.length);return this.where(E).equals(E.map(function(N){return u[N]}))}!m&&En&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var y=this.schema.idxByName;function b(C,N){return tt(C,N)===0}var w=f.reduce(function(D,N){var L=D[0],B=D[1],D=y[N],I=u[N];return[L||D,L||!D?xi(B,D&&D.multi?function(R){return R=H(R,N),v(R)&&R.some(function(j){return b(I,j)})}:function(R){return b(I,H(R,N))}):B]},[null,null]),E=w[0],w=w[1];return E?this.where(E.name).equals(u[E.keyPath]).filter(w):m?this.filter(w):this.where(f).equals("")},_t.prototype.filter=function(u){return this.toCollection().and(u)},_t.prototype.count=function(u){return this.toCollection().count(u)},_t.prototype.offset=function(u){return this.toCollection().offset(u)},_t.prototype.limit=function(u){return this.toCollection().limit(u)},_t.prototype.each=function(u){return this.toCollection().each(u)},_t.prototype.toArray=function(u){return this.toCollection().toArray(u)},_t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},_t.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,v(u)?"[".concat(u.join("+"),"]"):u))},_t.prototype.reverse=function(){return this.toCollection().reverse()},_t.prototype.mapToClass=function(u){var f,m=this.db,y=this.name;function b(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof ls&&(function(N,L){if(typeof L!="function"&&L!==null)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function B(){this.constructor=N}r(N,L),N.prototype=L===null?Object.create(L):(B.prototype=L.prototype,new B)}(b,f=u),Object.defineProperty(b.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),b.prototype.table=function(){return y},u=b);for(var E=new Set,w=u.prototype;w;w=S(w))Object.getOwnPropertyNames(w).forEach(function(N){return E.add(N)});function C(N){if(!N)return N;var L,B=Object.create(u.prototype);for(L in N)if(!E.has(L))try{B[L]=N[L]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=C,this.hook("reading",C),u},_t.prototype.defineClass=function(){return this.mapToClass(function(u){g(this,u)})},_t.prototype.add=function(u,f){var m=this,y=this.schema.primKey,b=y.auto,E=y.keyPath,w=u;return E&&b&&(w=Cr(E)(u)),this._trans("readwrite",function(C){return m.core.mutate({trans:C,type:"add",keys:f!=null?[f]:null,values:[w]})}).then(function(C){return C.numFailures?Te.reject(C.failures[0]):C.lastResult}).then(function(C){if(E)try{J(u,E,C)}catch{}return C})},_t.prototype.update=function(u,f){return typeof u!="object"||v(u)?this.where(":id").equals(u).modify(f):(u=H(u,this.schema.primKey.keyPath),u===void 0?Mt(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(f))},_t.prototype.put=function(u,f){var m=this,y=this.schema.primKey,b=y.auto,E=y.keyPath,w=u;return E&&b&&(w=Cr(E)(u)),this._trans("readwrite",function(C){return m.core.mutate({trans:C,type:"put",values:[w],keys:f!=null?[f]:null})}).then(function(C){return C.numFailures?Te.reject(C.failures[0]):C.lastResult}).then(function(C){if(E)try{J(u,E,C)}catch{}return C})},_t.prototype.delete=function(u){var f=this;return this._trans("readwrite",function(m){return f.core.mutate({trans:m,type:"delete",keys:[u]})}).then(function(m){return m.numFailures?Te.reject(m.failures[0]):void 0})},_t.prototype.clear=function(){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"deleteRange",range:$i})}).then(function(f){return f.numFailures?Te.reject(f.failures[0]):void 0})},_t.prototype.bulkGet=function(u){var f=this;return this._trans("readonly",function(m){return f.core.getMany({keys:u,trans:m}).then(function(y){return y.map(function(b){return f.hook.reading.fire(b)})})})},_t.prototype.bulkAdd=function(u,f,m){var y=this,b=Array.isArray(f)?f:void 0,E=(m=m||(b?void 0:f))?m.allKeys:void 0;return this._trans("readwrite",function(w){var L=y.schema.primKey,C=L.auto,L=L.keyPath;if(L&&b)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var N=u.length,L=L&&C?u.map(Cr(L)):u;return y.core.mutate({trans:w,type:"add",keys:b,values:L,wantResults:E}).then(function(j){var D=j.numFailures,I=j.results,R=j.lastResult,j=j.failures;if(D===0)return E?I:R;throw new At("".concat(y.name,".bulkAdd(): ").concat(D," of ").concat(N," operations failed"),j)})})},_t.prototype.bulkPut=function(u,f,m){var y=this,b=Array.isArray(f)?f:void 0,E=(m=m||(b?void 0:f))?m.allKeys:void 0;return this._trans("readwrite",function(w){var L=y.schema.primKey,C=L.auto,L=L.keyPath;if(L&&b)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var N=u.length,L=L&&C?u.map(Cr(L)):u;return y.core.mutate({trans:w,type:"put",keys:b,values:L,wantResults:E}).then(function(j){var D=j.numFailures,I=j.results,R=j.lastResult,j=j.failures;if(D===0)return E?I:R;throw new At("".concat(y.name,".bulkPut(): ").concat(D," of ").concat(N," operations failed"),j)})})},_t.prototype.bulkUpdate=function(u){var f=this,m=this.core,y=u.map(function(w){return w.key}),b=u.map(function(w){return w.changes}),E=[];return this._trans("readwrite",function(w){return m.getMany({trans:w,keys:y,cache:"clone"}).then(function(C){var N=[],L=[];u.forEach(function(D,I){var R=D.key,j=D.changes,Y=C[I];if(Y){for(var U=0,V=Object.keys(j);U<V.length;U++){var G=V[U],X=j[G];if(G===f.schema.primKey.keyPath){if(tt(X,R)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else J(Y,G,X)}E.push(I),N.push(R),L.push(Y)}});var B=N.length;return m.mutate({trans:w,type:"put",keys:N,values:L,updates:{keys:y,changeSpecs:b}}).then(function(D){var I=D.numFailures,R=D.failures;if(I===0)return B;for(var j=0,Y=Object.keys(R);j<Y.length;j++){var U,V=Y[j],G=E[Number(V)];G!=null&&(U=R[V],delete R[V],R[G]=U)}throw new At("".concat(f.name,".bulkUpdate(): ").concat(I," of ").concat(B," operations failed"),R)})})})},_t.prototype.bulkDelete=function(u){var f=this,m=u.length;return this._trans("readwrite",function(y){return f.core.mutate({trans:y,type:"delete",keys:u})}).then(function(w){var b=w.numFailures,E=w.lastResult,w=w.failures;if(b===0)return E;throw new At("".concat(f.name,".bulkDelete(): ").concat(b," of ").concat(m," operations failed"),w)})},_t);function _t(){}function Ci(u){function f(w,C){if(C){for(var N=arguments.length,L=new Array(N-1);--N;)L[N-1]=arguments[N];return m[w].subscribe.apply(null,L),u}if(typeof w=="string")return m[w]}var m={};f.addEventType=E;for(var y=1,b=arguments.length;y<b;++y)E(arguments[y]);return f;function E(w,C,N){if(typeof w!="object"){var L;C=C||br;var B={subscribers:[],fire:N=N||Ke,subscribe:function(D){B.subscribers.indexOf(D)===-1&&(B.subscribers.push(D),B.fire=C(B.fire,D))},unsubscribe:function(D){B.subscribers=B.subscribers.filter(function(I){return I!==D}),B.fire=B.subscribers.reduce(C,N)}};return m[w]=f[w]=B}p(L=w).forEach(function(D){var I=L[D];if(v(I))E(D,L[D][0],L[D][1]);else{if(I!=="asap")throw new Ae.InvalidArgument("Invalid event config");var R=E(D,Zt,function(){for(var j=arguments.length,Y=new Array(j);j--;)Y[j]=arguments[j];R.subscribers.forEach(function(U){we(function(){U.apply(null,Y)})})})}})}}function Ar(u,f){return xe(f).from({prototype:u}),f}function ci(u,f){return!(u.filter||u.algorithm||u.or)&&(f?u.justLimit:!u.replayFilter)}function Sl(u,f){u.filter=xi(u.filter,f)}function vn(u,f,m){var y=u.replayFilter;u.replayFilter=y?function(){return xi(y(),f())}:f,u.justLimit=m&&!y}function Or(u,f){if(u.isPrimKey)return f.primaryKey;var m=f.getIndexByKeyPath(u.index);if(!m)throw new Ae.Schema("KeyPath "+u.index+" on object store "+f.name+" is not indexed");return m}function El(u,f,m){var y=Or(u,f.schema);return f.openCursor({trans:m,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:y,range:u.range}})}function Dr(u,f,m,y){var b=u.replayFilter?xi(u.filter,u.replayFilter()):u.filter;if(u.or){var E={},w=function(C,N,L){var B,D;b&&!b(N,L,function(I){return N.stop(I)},function(I){return N.fail(I)})||((D=""+(B=N.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(B)),A(E,D)||(E[D]=!0,f(C,N,L)))};return Promise.all([u.or._iterate(w,m),Pi(El(u,y,m),u.algorithm,w,!u.keysOnly&&u.valueMapper)])}return Pi(El(u,y,m),xi(u.algorithm,b),f,!u.keysOnly&&u.valueMapper)}function Pi(u,f,m,y){var b=Qe(y?function(E,w,C){return m(y(E),w,C)}:m);return u.then(function(E){if(E)return E.start(function(){var w=function(){return E.continue()};f&&!f(E,function(C){return w=C},function(C){E.stop(C),w=Ke},function(C){E.fail(C),w=Ke})||b(E.value,E,function(C){return w=C}),w()})})}var Mr=(Tl.prototype.execute=function(u){var f=this["@@propmod"];if(f.add!==void 0){var m=f.add;if(v(m))return o(o([],v(u)?u:[],!0),m).sort();if(typeof m=="number")return(Number(u)||0)+m;if(typeof m=="bigint")try{return BigInt(u)+m}catch{return BigInt(0)+m}throw new TypeError("Invalid term ".concat(m))}if(f.remove!==void 0){var y=f.remove;if(v(y))return v(u)?u.filter(function(b){return!y.includes(b)}).sort():[];if(typeof y=="number")return Number(u)-y;if(typeof y=="bigint")try{return BigInt(u)-y}catch{return BigInt(0)-y}throw new TypeError("Invalid subtrahend ".concat(y))}return m=(m=f.replacePrefix)===null||m===void 0?void 0:m[0],m&&typeof u=="string"&&u.startsWith(m)?f.replacePrefix[1]+u.substring(m.length):u},Tl);function Tl(u){this["@@propmod"]=u}var Rr=(st.prototype._read=function(u,f){var m=this._ctx;return m.error?m.table._trans(null,Mt.bind(null,m.error)):m.table._trans("readonly",u).then(f)},st.prototype._write=function(u){var f=this._ctx;return f.error?f.table._trans(null,Mt.bind(null,f.error)):f.table._trans("readwrite",u,"locked")},st.prototype._addAlgorithm=function(u){var f=this._ctx;f.algorithm=xi(f.algorithm,u)},st.prototype._iterate=function(u,f){return Dr(this._ctx,u,f,this._ctx.table.core)},st.prototype.clone=function(u){var f=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return u&&g(m,u),f._ctx=m,f},st.prototype.raw=function(){return this._ctx.valueMapper=null,this},st.prototype.each=function(u){var f=this._ctx;return this._read(function(m){return Dr(f,u,m,f.table.core)})},st.prototype.count=function(u){var f=this;return this._read(function(m){var y=f._ctx,b=y.table.core;if(ci(y,!0))return b.count({trans:m,query:{index:Or(y,b.schema),range:y.range}}).then(function(w){return Math.min(w,y.limit)});var E=0;return Dr(y,function(){return++E,!1},m,b).then(function(){return E})}).then(u)},st.prototype.sortBy=function(u,f){var m=u.split(".").reverse(),y=m[0],b=m.length-1;function E(N,L){return L?E(N[m[L]],L-1):N[y]}var w=this._ctx.dir==="next"?1:-1;function C(N,L){return tt(E(N,b),E(L,b))*w}return this.toArray(function(N){return N.sort(C)}).then(f)},st.prototype.toArray=function(u){var f=this;return this._read(function(m){var y=f._ctx;if(y.dir==="next"&&ci(y,!0)&&0<y.limit){var b=y.valueMapper,E=Or(y,y.table.core.schema);return y.table.core.query({trans:m,limit:y.limit,values:!0,query:{index:E,range:y.range}}).then(function(C){return C=C.result,b?C.map(b):C})}var w=[];return Dr(y,function(C){return w.push(C)},m,y.table.core).then(function(){return w})},u)},st.prototype.offset=function(u){var f=this._ctx;return u<=0||(f.offset+=u,ci(f)?vn(f,function(){var m=u;return function(y,b){return m===0||(m===1?--m:b(function(){y.advance(m),m=0}),!1)}}):vn(f,function(){var m=u;return function(){return--m<0}})),this},st.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),vn(this._ctx,function(){var f=u;return function(m,y,b){return--f<=0&&y(b),0<=f}},!0),this},st.prototype.until=function(u,f){return Sl(this._ctx,function(m,y,b){return!u(m.value)||(y(b),f)}),this},st.prototype.first=function(u){return this.limit(1).toArray(function(f){return f[0]}).then(u)},st.prototype.last=function(u){return this.reverse().first(u)},st.prototype.filter=function(u){var f;return Sl(this._ctx,function(m){return u(m.value)}),(f=this._ctx).isMatch=xi(f.isMatch,u),this},st.prototype.and=function(u){return this.filter(u)},st.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},st.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},st.prototype.desc=function(){return this.reverse()},st.prototype.eachKey=function(u){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(m,y){u(y.key,y)})},st.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},st.prototype.eachPrimaryKey=function(u){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(m,y){u(y.primaryKey,y)})},st.prototype.keys=function(u){var f=this._ctx;f.keysOnly=!f.isMatch;var m=[];return this.each(function(y,b){m.push(b.key)}).then(function(){return m}).then(u)},st.prototype.primaryKeys=function(u){var f=this._ctx;if(f.dir==="next"&&ci(f,!0)&&0<f.limit)return this._read(function(y){var b=Or(f,f.table.core.schema);return f.table.core.query({trans:y,values:!1,limit:f.limit,query:{index:b,range:f.range}})}).then(function(y){return y.result}).then(u);f.keysOnly=!f.isMatch;var m=[];return this.each(function(y,b){m.push(b.primaryKey)}).then(function(){return m}).then(u)},st.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},st.prototype.firstKey=function(u){return this.limit(1).keys(function(f){return f[0]}).then(u)},st.prototype.lastKey=function(u){return this.reverse().firstKey(u)},st.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var f={};return Sl(this._ctx,function(b){var y=b.primaryKey.toString(),b=A(f,y);return f[y]=!0,!b}),this},st.prototype.modify=function(u){var f=this,m=this._ctx;return this._write(function(y){var b,E,w;w=typeof u=="function"?u:(b=p(u),E=b.length,function(U){for(var V=!1,G=0;G<E;++G){var X=b[G],te=u[X],pe=H(U,X);te instanceof Mr?(J(U,X,te.execute(pe)),V=!0):pe!==te&&(J(U,X,te),V=!0)}return V});var C=m.table.core,D=C.schema.primaryKey,N=D.outbound,L=D.extractKey,B=200,D=f.db._options.modifyChunkSize;D&&(B=typeof D=="object"?D[C.name]||D["*"]||200:D);function I(U,X){var G=X.failures,X=X.numFailures;j+=U-X;for(var te=0,pe=p(G);te<pe.length;te++){var Se=pe[te];R.push(G[Se])}}var R=[],j=0,Y=[];return f.clone().primaryKeys().then(function(U){function V(X){var te=Math.min(B,U.length-X);return C.getMany({trans:y,keys:U.slice(X,X+te),cache:"immutable"}).then(function(pe){for(var Se=[],he=[],ye=N?[]:null,Ee=[],de=0;de<te;++de){var De=pe[de],je={value:re(De),primKey:U[X+de]};w.call(je,je.value,je)!==!1&&(je.value==null?Ee.push(U[X+de]):N||tt(L(De),L(je.value))===0?(he.push(je.value),N&&ye.push(U[X+de])):(Ee.push(U[X+de]),Se.push(je.value)))}return Promise.resolve(0<Se.length&&C.mutate({trans:y,type:"add",values:Se}).then(function(Be){for(var Ve in Be.failures)Ee.splice(parseInt(Ve),1);I(Se.length,Be)})).then(function(){return(0<he.length||G&&typeof u=="object")&&C.mutate({trans:y,type:"put",keys:ye,values:he,criteria:G,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<X}).then(function(Be){return I(he.length,Be)})}).then(function(){return(0<Ee.length||G&&u===os)&&C.mutate({trans:y,type:"delete",keys:Ee,criteria:G,isAdditionalChunk:0<X}).then(function(Be){return I(Ee.length,Be)})}).then(function(){return U.length>X+te&&V(X+B)})})}var G=ci(m)&&m.limit===1/0&&(typeof u!="function"||u===os)&&{index:m.index,range:m.range};return V(0).then(function(){if(0<R.length)throw new rt("Error modifying one or more objects",R,j,Y);return U.length})})})},st.prototype.delete=function(){var u=this._ctx,f=u.range;return ci(u)&&(u.isPrimKey||f.type===3)?this._write(function(m){var y=u.table.core.schema.primaryKey,b=f;return u.table.core.count({trans:m,query:{index:y,range:b}}).then(function(E){return u.table.core.mutate({trans:m,type:"deleteRange",range:b}).then(function(w){var C=w.failures;if(w.lastResult,w.results,w=w.numFailures,w)throw new rt("Could not delete some values",Object.keys(C).map(function(N){return C[N]}),E-w);return E-w})})}):this.modify(os)},st);function st(){}var os=function(u,f){return f.value=null};function Jo(u,f){return u<f?-1:u===f?0:1}function wl(u,f){return f<u?-1:u===f?0:1}function xn(u,f,m){return u=u instanceof Fi?new u.Collection(u):u,u._ctx.error=new(m||TypeError)(f),u}function Nr(u){return new u.Collection(u,function(){return us("")}).limit(0)}function Vi(u,f,m,y){var b,E,w,C,N,L,B,D=m.length;if(!m.every(function(j){return typeof j=="string"}))return xn(u,Wo);function I(j){b=j==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},E=j==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},w=j==="next"?Jo:wl;var Y=m.map(function(U){return{lower:E(U),upper:b(U)}}).sort(function(U,V){return w(U.lower,V.lower)});C=Y.map(function(U){return U.upper}),N=Y.map(function(U){return U.lower}),B=(L=j)==="next"?"":y}I("next"),u=new u.Collection(u,function(){return Wn(C[0],N[D-1]+y)}),u._ondirectionchange=function(j){I(j)};var R=0;return u._addAlgorithm(function(j,Y,U){var V=j.key;if(typeof V!="string")return!1;var G=E(V);if(f(G,N,R))return!0;for(var X=null,te=R;te<D;++te){var pe=function(Se,he,ye,Ee,de,De){for(var je=Math.min(Se.length,Ee.length),Be=-1,Ve=0;Ve<je;++Ve){var cn=he[Ve];if(cn!==Ee[Ve])return de(Se[Ve],ye[Ve])<0?Se.substr(0,Ve)+ye[Ve]+ye.substr(Ve+1):de(Se[Ve],Ee[Ve])<0?Se.substr(0,Ve)+Ee[Ve]+ye.substr(Ve+1):0<=Be?Se.substr(0,Be)+he[Be]+ye.substr(Be+1):null;de(Se[Ve],cn)<0&&(Be=Ve)}return je<Ee.length&&De==="next"?Se+ye.substr(Se.length):je<Se.length&&De==="prev"?Se.substr(0,ye.length):Be<0?null:Se.substr(0,Be)+Ee[Be]+ye.substr(Be+1)}(V,G,C[te],N[te],w,L);pe===null&&X===null?R=te+1:(X===null||0<w(X,pe))&&(X=pe)}return Y(X!==null?function(){j.continue(X+B)}:U),!1}),u}function Wn(u,f,m,y){return{type:2,lower:u,upper:f,lowerOpen:m,upperOpen:y}}function us(u){return{type:1,lower:u,upper:u}}var Fi=(Object.defineProperty(wt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),wt.prototype.between=function(u,f,m,y){m=m!==!1,y=y===!0;try{return 0<this._cmp(u,f)||this._cmp(u,f)===0&&(m||y)&&(!m||!y)?Nr(this):new this.Collection(this,function(){return Wn(u,f,!m,!y)})}catch{return xn(this,Zn)}},wt.prototype.equals=function(u){return u==null?xn(this,Zn):new this.Collection(this,function(){return us(u)})},wt.prototype.above=function(u){return u==null?xn(this,Zn):new this.Collection(this,function(){return Wn(u,void 0,!0)})},wt.prototype.aboveOrEqual=function(u){return u==null?xn(this,Zn):new this.Collection(this,function(){return Wn(u,void 0,!1)})},wt.prototype.below=function(u){return u==null?xn(this,Zn):new this.Collection(this,function(){return Wn(void 0,u,!1,!0)})},wt.prototype.belowOrEqual=function(u){return u==null?xn(this,Zn):new this.Collection(this,function(){return Wn(void 0,u)})},wt.prototype.startsWith=function(u){return typeof u!="string"?xn(this,Wo):this.between(u,u+wi,!0,!0)},wt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):Vi(this,function(f,m){return f.indexOf(m[0])===0},[u],wi)},wt.prototype.equalsIgnoreCase=function(u){return Vi(this,function(f,m){return f===m[0]},[u],"")},wt.prototype.anyOfIgnoreCase=function(){var u=me.apply(ae,arguments);return u.length===0?Nr(this):Vi(this,function(f,m){return m.indexOf(f)!==-1},u,"")},wt.prototype.startsWithAnyOfIgnoreCase=function(){var u=me.apply(ae,arguments);return u.length===0?Nr(this):Vi(this,function(f,m){return m.some(function(y){return f.indexOf(y)===0})},u,wi)},wt.prototype.anyOf=function(){var u=this,f=me.apply(ae,arguments),m=this._cmp;try{f.sort(m)}catch{return xn(this,Zn)}if(f.length===0)return Nr(this);var y=new this.Collection(this,function(){return Wn(f[0],f[f.length-1])});y._ondirectionchange=function(E){m=E==="next"?u._ascending:u._descending,f.sort(m)};var b=0;return y._addAlgorithm(function(E,w,C){for(var N=E.key;0<m(N,f[b]);)if(++b===f.length)return w(C),!1;return m(N,f[b])===0||(w(function(){E.continue(f[b])}),!1)}),y},wt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},wt.prototype.noneOf=function(){var u=me.apply(ae,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return xn(this,Zn)}var f=u.reduce(function(m,y){return m?m.concat([[m[m.length-1][1],y]]):[[-1/0,y]]},null);return f.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},wt.prototype.inAnyRange=function(V,f){var m=this,y=this._cmp,b=this._ascending,E=this._descending,w=this._min,C=this._max;if(V.length===0)return Nr(this);if(!V.every(function(G){return G[0]!==void 0&&G[1]!==void 0&&b(G[0],G[1])<=0}))return xn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var N=!f||f.includeLowers!==!1,L=f&&f.includeUppers===!0,B,D=b;function I(G,X){return D(G[0],X[0])}try{(B=V.reduce(function(G,X){for(var te=0,pe=G.length;te<pe;++te){var Se=G[te];if(y(X[0],Se[1])<0&&0<y(X[1],Se[0])){Se[0]=w(Se[0],X[0]),Se[1]=C(Se[1],X[1]);break}}return te===pe&&G.push(X),G},[])).sort(I)}catch{return xn(this,Zn)}var R=0,j=L?function(G){return 0<b(G,B[R][1])}:function(G){return 0<=b(G,B[R][1])},Y=N?function(G){return 0<E(G,B[R][0])}:function(G){return 0<=E(G,B[R][0])},U=j,V=new this.Collection(this,function(){return Wn(B[0][0],B[B.length-1][1],!N,!L)});return V._ondirectionchange=function(G){D=G==="next"?(U=j,b):(U=Y,E),B.sort(I)},V._addAlgorithm(function(G,X,te){for(var pe,Se=G.key;U(Se);)if(++R===B.length)return X(te),!1;return!j(pe=Se)&&!Y(pe)||(m._cmp(Se,B[R][1])===0||m._cmp(Se,B[R][0])===0||X(function(){D===b?G.continue(B[R][0]):G.continue(B[R][1])}),!1)}),V},wt.prototype.startsWithAnyOf=function(){var u=me.apply(ae,arguments);return u.every(function(f){return typeof f=="string"})?u.length===0?Nr(this):this.inAnyRange(u.map(function(f){return[f,f+wi]})):xn(this,"startsWithAnyOf() only works with strings")},wt);function wt(){}function In(u){return Qe(function(f){return Ki(f),u(f.target.error),!1})}function Ki(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var kr="storagemutated",Gi="x-storagemutated-1",Wt=Ci(null,kr),xl=(gn.prototype._lock=function(){return Ge(!ke.global),++this._reculock,this._reculock!==1||ke.global||(ke.lockOwnerFor=this),this},gn.prototype._unlock=function(){if(Ge(!ke.global),--this._reculock==0)for(ke.global||(ke.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{Si(u[1],u[0])}catch{}}return this},gn.prototype._locked=function(){return this._reculock&&ke.lockOwnerFor!==this},gn.prototype.create=function(u){var f=this;if(!this.mode)return this;var m=this.db.idbdb,y=this.db._state.dbOpenError;if(Ge(!this.idbtrans),!u&&!m)switch(y&&y.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(y);case"MissingAPIError":throw new Ae.MissingAPI(y.message,y);default:throw new Ae.OpenFailed(y)}if(!this.active)throw new Ae.TransactionInactive;return Ge(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Qe(function(b){Ki(b),f._reject(u.error)}),u.onabort=Qe(function(b){Ki(b),f.active&&f._reject(new Ae.Abort(u.error)),f.active=!1,f.on("abort").fire(b)}),u.oncomplete=Qe(function(){f.active=!1,f._resolve(),"mutatedParts"in u&&Wt.storagemutated.fire(u.mutatedParts)}),this},gn.prototype._promise=function(u,f,m){var y=this;if(u==="readwrite"&&this.mode!=="readwrite")return Mt(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return Mt(new Ae.TransactionInactive);if(this._locked())return new Te(function(E,w){y._blockedFuncs.push([function(){y._promise(u,f,m).then(E,w)},ke])});if(m)return Xn(function(){var E=new Te(function(w,C){y._lock();var N=f(w,C,y);N&&N.then&&N.then(w,C)});return E.finally(function(){return y._unlock()}),E._lib=!0,E});var b=new Te(function(E,w){var C=f(E,w,y);C&&C.then&&C.then(E,w)});return b._lib=!0,b},gn.prototype._root=function(){return this.parent?this.parent._root():this},gn.prototype.waitFor=function(u){var f,m=this._root(),y=Te.resolve(u);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return y}):(m._waitingFor=y,m._waitingQueue=[],f=m.idbtrans.objectStore(m.storeNames[0]),function E(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(f.get(-1/0).onsuccess=E)}());var b=m._waitingFor;return new Te(function(E,w){y.then(function(C){return m._waitingQueue.push(Qe(E.bind(null,C)))},function(C){return m._waitingQueue.push(Qe(w.bind(null,C)))}).finally(function(){m._waitingFor===b&&(m._waitingFor=null)})})},gn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},gn.prototype.table=function(u){var f=this._memoizedTables||(this._memoizedTables={});if(A(f,u))return f[u];var m=this.schema[u];if(!m)throw new Ae.NotFound("Table "+u+" not part of transaction");return m=new this.db.Table(u,m,this),m.core=this.db.core.table(u),f[u]=m},gn);function gn(){}function Jn(u,f,m,y,b,E,w){return{name:u,keyPath:f,unique:m,multi:y,auto:b,compound:E,src:(m&&!w?"&":"")+(y?"*":"")+(b?"++":"")+cs(f)}}function cs(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Lr(u,f,m){return{name:u,primKey:f,indexes:m,mappedClass:null,idxByName:(y=function(b){return[b.name,b]},m.reduce(function(b,E,w){return w=y(E,w),w&&(b[w[0]]=w[1]),b},{}))};var y}var Ur=function(u){try{return u.only([[]]),Ur=function(){return[[]]},[[]]}catch{return Ur=function(){return wi},wi}};function zr(u){return u==null?function(){}:typeof u=="string"?(f=u).split(".").length===1?function(m){return m[f]}:function(m){return H(m,f)}:function(m){return H(m,u)};var f}function wa(u){return[].slice.call(u)}var eu=0;function Yt(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Qi(u,f,N){function y(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var R=U.lower,j=U.upper,Y=U.lowerOpen,U=U.upperOpen;return R===void 0?j===void 0?null:f.upperBound(j,!!U):j===void 0?f.lowerBound(R,!!Y):f.bound(R,j,!!Y,!!U)}function b(I){var R,j=I.name;return{name:j,schema:I,mutate:function(Y){var U=Y.trans,V=Y.type,G=Y.keys,X=Y.values,te=Y.range;return new Promise(function(pe,Se){pe=Qe(pe);var he=U.objectStore(j),ye=he.keyPath==null,Ee=V==="put"||V==="add";if(!Ee&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var de,De=(G||X||{length:1}).length;if(G&&X&&G.length!==X.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return pe({numFailures:0,failures:{},results:[],lastResult:void 0});function je(en){++cn,Ki(en)}var Be=[],Ve=[],cn=0;if(V==="deleteRange"){if(te.type===4)return pe({numFailures:cn,failures:Ve,results:[],lastResult:void 0});te.type===3?Be.push(de=he.clear()):Be.push(de=he.delete(y(te)))}else{var ye=Ee?ye?[X,G]:[X,null]:[G,null],Ye=ye[0],Bt=ye[1];if(Ee)for(var $t=0;$t<De;++$t)Be.push(de=Bt&&Bt[$t]!==void 0?he[V](Ye[$t],Bt[$t]):he[V](Ye[$t])),de.onerror=je;else for($t=0;$t<De;++$t)Be.push(de=he[V](Ye[$t])),de.onerror=je}function fi(en){en=en.target.result,Be.forEach(function(ti,Mi){return ti.error!=null&&(Ve[Mi]=ti.error)}),pe({numFailures:cn,failures:Ve,results:V==="delete"?G:Be.map(function(ti){return ti.result}),lastResult:en})}de.onerror=function(en){je(en),fi(en)},de.onsuccess=fi})},getMany:function(Y){var U=Y.trans,V=Y.keys;return new Promise(function(G,X){G=Qe(G);for(var te,pe=U.objectStore(j),Se=V.length,he=new Array(Se),ye=0,Ee=0,de=function(Be){Be=Be.target,he[Be._pos]=Be.result,++Ee===ye&&G(he)},De=In(X),je=0;je<Se;++je)V[je]!=null&&((te=pe.get(V[je]))._pos=je,te.onsuccess=de,te.onerror=De,++ye);ye===0&&G(he)})},get:function(Y){var U=Y.trans,V=Y.key;return new Promise(function(G,X){G=Qe(G);var te=U.objectStore(j).get(V);te.onsuccess=function(pe){return G(pe.target.result)},te.onerror=In(X)})},query:(R=L,function(Y){return new Promise(function(U,V){U=Qe(U);var G,X,te,ye=Y.trans,pe=Y.values,Se=Y.limit,de=Y.query,he=Se===1/0?void 0:Se,Ee=de.index,de=de.range,ye=ye.objectStore(j),Ee=Ee.isPrimaryKey?ye:ye.index(Ee.name),de=y(de);if(Se===0)return U({result:[]});R?((he=pe?Ee.getAll(de,he):Ee.getAllKeys(de,he)).onsuccess=function(De){return U({result:De.target.result})},he.onerror=In(V)):(G=0,X=!pe&&"openKeyCursor"in Ee?Ee.openKeyCursor(de):Ee.openCursor(de),te=[],X.onsuccess=function(De){var je=X.result;return je?(te.push(pe?je.value:je.primaryKey),++G===Se?U({result:te}):void je.continue()):U({result:te})},X.onerror=In(V))})}),openCursor:function(Y){var U=Y.trans,V=Y.values,G=Y.query,X=Y.reverse,te=Y.unique;return new Promise(function(pe,Se){pe=Qe(pe);var Ee=G.index,he=G.range,ye=U.objectStore(j),ye=Ee.isPrimaryKey?ye:ye.index(Ee.name),Ee=X?te?"prevunique":"prev":te?"nextunique":"next",de=!V&&"openKeyCursor"in ye?ye.openKeyCursor(y(he),Ee):ye.openCursor(y(he),Ee);de.onerror=In(Se),de.onsuccess=Qe(function(De){var je,Be,Ve,cn,Ye=de.result;Ye?(Ye.___id=++eu,Ye.done=!1,je=Ye.continue.bind(Ye),Be=(Be=Ye.continuePrimaryKey)&&Be.bind(Ye),Ve=Ye.advance.bind(Ye),cn=function(){throw new Error("Cursor not stopped")},Ye.trans=U,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Qe(Se),Ye.next=function(){var Bt=this,$t=1;return this.start(function(){return $t--?Bt.continue():Bt.stop()}).then(function(){return Bt})},Ye.start=function(Bt){function $t(){if(de.result)try{Bt()}catch(en){Ye.fail(en)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var fi=new Promise(function(en,ti){en=Qe(en),de.onerror=In(ti),Ye.fail=ti,Ye.stop=function(Mi){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=cn,en(Mi)}});return de.onsuccess=Qe(function(en){de.onsuccess=$t,$t()}),Ye.continue=je,Ye.continuePrimaryKey=Be,Ye.advance=Ve,$t(),fi},pe(Ye)):pe(null)},Se)})},count:function(Y){var U=Y.query,V=Y.trans,G=U.index,X=U.range;return new Promise(function(te,pe){var Se=V.objectStore(j),he=G.isPrimaryKey?Se:Se.index(G.name),Se=y(X),he=Se?he.count(Se):he.count();he.onsuccess=Qe(function(ye){return te(ye.target.result)}),he.onerror=In(pe)})}}}var E,w,C,B=(w=N,C=wa((E=u).objectStoreNames),{schema:{name:E.name,tables:C.map(function(I){return w.objectStore(I)}).map(function(I){var R=I.keyPath,U=I.autoIncrement,j=v(R),Y={},U={name:I.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:R==null,compound:j,keyPath:R,autoIncrement:U,unique:!0,extractKey:zr(R)},indexes:wa(I.indexNames).map(function(V){return I.index(V)}).map(function(te){var G=te.name,X=te.unique,pe=te.multiEntry,te=te.keyPath,pe={name:G,compound:v(te),keyPath:te,unique:X,multiEntry:pe,extractKey:zr(te)};return Y[Yt(te)]=pe}),getIndexByKeyPath:function(V){return Y[Yt(V)]}};return Y[":id"]=U.primaryKey,R!=null&&(Y[Yt(R)]=U.primaryKey),U})},hasGetAll:0<C.length&&"getAll"in w.objectStore(C[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),N=B.schema,L=B.hasGetAll,B=N.tables.map(b),D={};return B.forEach(function(I){return D[I.name]=I}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(I){if(!D[I])throw new Error("Table '".concat(I,"' not found"));return D[I]},MIN_KEY:-1/0,MAX_KEY:Ur(f),schema:N}}function fs(u,f,m,y){var b=m.IDBKeyRange;return m.indexedDB,{dbcore:(y=Qi(f,b,y),u.dbcore.reduce(function(E,w){return w=w.create,a(a({},E),w(E))},y))}}function Ai(u,y){var m=y.db,y=fs(u._middlewares,m,u._deps,y);u.core=y.dbcore,u.tables.forEach(function(b){var E=b.name;u.core.schema.tables.some(function(w){return w.name===E})&&(b.core=u.core.table(E),u[E]instanceof u.Table&&(u[E].core=b.core))})}function hs(u,f,m,y){m.forEach(function(b){var E=y[b];f.forEach(function(w){var C=function N(L,B){return ve(L,B)||(L=S(L))&&N(L,B)}(w,b);(!C||"value"in C&&C.value===void 0)&&(w===u.Transaction.prototype||w instanceof u.Transaction?le(w,b,{get:function(){return this.table(b)},set:function(N){W(this,b,{value:N,writable:!0,configurable:!0,enumerable:!0})}}):w[b]=new u.Table(b,E))})})}function xa(u,f){f.forEach(function(m){for(var y in m)m[y]instanceof u.Table&&delete m[y]})}function Cl(u,f){return u._cfg.version-f._cfg.version}function Ca(u,f,m,y){var b=u._dbSchema;m.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Lr("$meta",nu("")[0],[]),u._storeNames.push("$meta"));var E=u._createTransaction("readwrite",u._storeNames,b);E.create(m),E._completion.catch(y);var w=E._reject.bind(E),C=ke.transless||ke;Xn(function(){return ke.trans=E,ke.transless=C,f!==0?(Ai(u,m),L=f,((N=E).storeNames.includes("$meta")?N.table("$meta").get("version").then(function(B){return B??L}):Te.resolve(L)).then(function(B){return I=B,R=E,j=m,Y=[],B=(D=u)._versions,U=D._dbSchema=jr(0,D.idbdb,j),(B=B.filter(function(V){return V._cfg.version>=I})).length!==0?(B.forEach(function(V){Y.push(function(){var G=U,X=V._cfg.dbschema;ys(D,G,j),ys(D,X,j),U=D._dbSchema=X;var te=ps(G,X);te.add.forEach(function(Ee){Al(j,Ee[0],Ee[1].primKey,Ee[1].indexes)}),te.change.forEach(function(Ee){if(Ee.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var de=j.objectStore(Ee.name);Ee.add.forEach(function(De){return ms(de,De)}),Ee.change.forEach(function(De){de.deleteIndex(De.name),ms(de,De)}),Ee.del.forEach(function(De){return de.deleteIndex(De)})});var pe=V._cfg.contentUpgrade;if(pe&&V._cfg.version>I){Ai(D,j),R._memoizedTables={};var Se=ge(X);te.del.forEach(function(Ee){Se[Ee]=G[Ee]}),xa(D,[D.Transaction.prototype]),hs(D,[D.Transaction.prototype],p(Se),Se),R.schema=Se;var he,ye=Me(pe);return ye&&Bn(),te=Te.follow(function(){var Ee;(he=pe(R))&&ye&&(Ee=Tn.bind(null,null),he.then(Ee,Ee))}),he&&typeof he.then=="function"?Te.resolve(he):te.then(function(){return he})}}),Y.push(function(G){var X,te,pe=V._cfg.dbschema;X=pe,te=G,[].slice.call(te.db.objectStoreNames).forEach(function(Se){return X[Se]==null&&te.db.deleteObjectStore(Se)}),xa(D,[D.Transaction.prototype]),hs(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),R.schema=D._dbSchema}),Y.push(function(G){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===V._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(X){return X!=="$meta"})):G.objectStore("$meta").put(V._cfg.version,"version"))})}),function V(){return Y.length?Te.resolve(Y.shift()(R.idbtrans)).then(V):Te.resolve()}().then(function(){tu(U,j)})):Te.resolve();var D,I,R,j,Y,U}).catch(w)):(p(b).forEach(function(B){Al(m,B,b[B].primKey,b[B].indexes)}),Ai(u,m),void Te.follow(function(){return u.on.populate.fire(E)}).catch(w));var N,L})}function ds(u,f){tu(u._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var m=jr(0,u.idbdb,f);ys(u,u._dbSchema,f);for(var y=0,b=ps(m,u._dbSchema).change;y<b.length;y++){var E=function(w){if(w.change.length||w.recreate)return console.warn("Unable to patch indexes of table ".concat(w.name," because it has changes on the type of index or primary key.")),{value:void 0};var C=f.objectStore(w.name);w.add.forEach(function(N){En&&console.debug("Dexie upgrade patch: Creating missing index ".concat(w.name,".").concat(N.src)),ms(C,N)})}(b[y]);if(typeof E=="object")return E.value}}function ps(u,f){var m,y={del:[],add:[],change:[]};for(m in u)f[m]||y.del.push(m);for(m in f){var b=u[m],E=f[m];if(b){var w={name:m,def:E,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(E.primKey.keyPath||"")||b.primKey.auto!==E.primKey.auto)w.recreate=!0,y.change.push(w);else{var C=b.idxByName,N=E.idxByName,L=void 0;for(L in C)N[L]||w.del.push(L);for(L in N){var B=C[L],D=N[L];B?B.src!==D.src&&w.change.push(D):w.add.push(D)}(0<w.del.length||0<w.add.length||0<w.change.length)&&y.change.push(w)}}else y.add.push([m,E])}return y}function Al(u,f,m,y){var b=u.db.createObjectStore(f,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return y.forEach(function(E){return ms(b,E)}),b}function tu(u,f){p(u).forEach(function(m){f.db.objectStoreNames.contains(m)||(En&&console.debug("Dexie: Creating missing table",m),Al(f,m,u[m].primKey,u[m].indexes))})}function ms(u,f){u.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function jr(u,f,m){var y={};return He(f.objectStoreNames,0).forEach(function(b){for(var E=m.objectStore(b),w=Jn(cs(L=E.keyPath),L||"",!0,!1,!!E.autoIncrement,L&&typeof L!="string",!0),C=[],N=0;N<E.indexNames.length;++N){var B=E.index(E.indexNames[N]),L=B.keyPath,B=Jn(B.name,L,!!B.unique,!!B.multiEntry,!1,L&&typeof L!="string",!1);C.push(B)}y[b]=Lr(b,w,C)}),y}function ys(u,f,m){for(var y=m.db.objectStoreNames,b=0;b<y.length;++b){var E=y[b],w=m.objectStore(E);u._hasGetAll="getAll"in w;for(var C=0;C<w.indexNames.length;++C){var N=w.indexNames[C],L=w.index(N).keyPath,B=typeof L=="string"?L:"["+He(L).join("+")+"]";!f[E]||(L=f[E].idxByName[B])&&(L.name=N,delete f[E].idxByName[B],f[E].idxByName[N]=L)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function nu(u){return u.split(",").map(function(f,m){var y=(f=f.trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(y)?y.match(/^\[(.*)\]$/)[1].split("+"):y;return Jn(y,b||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),v(b),m===0)})}var nf=(vs.prototype._parseStoresSpec=function(u,f){p(u).forEach(function(m){if(u[m]!==null){var y=nu(u[m]),b=y.shift();if(b.unique=!0,b.multi)throw new Ae.Schema("Primary key cannot be multi-valued");y.forEach(function(E){if(E.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!E.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),f[m]=Lr(m,b,y)}})},vs.prototype.stores=function(m){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?g(this._cfg.storesSource,m):m;var m=f._versions,y={},b={};return m.forEach(function(E){g(y,E._cfg.storesSource),b=E._cfg.dbschema={},E._parseStoresSpec(y,b)}),f._dbSchema=b,xa(f,[f._allTables,f,f.Transaction.prototype]),hs(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],p(b),b),f._storeNames=p(b),this},vs.prototype.upgrade=function(u){return this._cfg.contentUpgrade=va(this._cfg.contentUpgrade||Ke,u),this},vs);function vs(){}function Ol(u,f){var m=u._dbNamesDB;return m||(m=u._dbNamesDB=new ei(Yi,{addons:[],indexedDB:u,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function gs(u){return u&&typeof u.databases=="function"}function Dl(u){return Xn(function(){return ke.letThrough=!0,u()})}function Ml(u){return!("from"in u)}var Jt=function(u,f){if(!this){var m=new Jt;return u&&"d"in u&&g(m,u),m}g(this,arguments.length?{d:1,from:u,to:1<arguments.length?f:u}:{d:0})};function Aa(u,f,m){var y=tt(f,m);if(!isNaN(y)){if(0<y)throw RangeError();if(Ml(u))return g(u,{from:f,to:m,d:1});var b=u.l,y=u.r;if(tt(m,u.from)<0)return b?Aa(b,f,m):u.l={from:f,to:m,d:1,l:null,r:null},ru(u);if(0<tt(f,u.to))return y?Aa(y,f,m):u.r={from:f,to:m,d:1,l:null,r:null},ru(u);tt(f,u.from)<0&&(u.from=f,u.l=null,u.d=y?y.d+1:1),0<tt(m,u.to)&&(u.to=m,u.r=null,u.d=u.l?u.l.d+1:1),m=!u.r,b&&!u.l&&Xi(u,b),y&&m&&Xi(u,y)}}function Xi(u,f){Ml(f)||function m(y,N){var E=N.from,w=N.to,C=N.l,N=N.r;Aa(y,E,w),C&&m(y,C),N&&m(y,N)}(u,f)}function iu(u,f){var m=_s(f),y=m.next();if(y.done)return!1;for(var b=y.value,E=_s(u),w=E.next(b.from),C=w.value;!y.done&&!w.done;){if(tt(C.from,b.to)<=0&&0<=tt(C.to,b.from))return!0;tt(b.from,C.from)<0?b=(y=m.next(C.from)).value:C=(w=E.next(b.from)).value}return!1}function _s(u){var f=Ml(u)?null:{s:0,n:u};return{next:function(m){for(var y=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,y)for(;f.n.l&&tt(m,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!y||tt(m,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function ru(u){var f,m,y=(((f=u.r)===null||f===void 0?void 0:f.d)||0)-(((m=u.l)===null||m===void 0?void 0:m.d)||0),b=1<y?"r":y<-1?"l":"";b&&(f=b=="r"?"l":"r",m=a({},u),y=u[b],u.from=y.from,u.to=y.to,u[b]=y[b],m[b]=y[f],(u[f]=m).d=Rl(m)),u.d=Rl(u)}function Rl(m){var f=m.r,m=m.l;return(f?m?Math.max(f.d,m.d):f.d:m?m.d:0)+1}function bs(u,f){return p(f).forEach(function(m){u[m]?Xi(u[m],f[m]):u[m]=function y(b){var E,w,C={};for(E in b)A(b,E)&&(w=b[E],C[E]=!w||typeof w!="object"||ee.has(w.constructor)?w:y(w));return C}(f[m])}),u}function Nl(u,f){return u.all||f.all||Object.keys(u).some(function(m){return f[m]&&iu(f[m],u[m])})}z(Jt.prototype,((Cn={add:function(u){return Xi(this,u),this},addKey:function(u){return Aa(this,u,u),this},addKeys:function(u){var f=this;return u.forEach(function(m){return Aa(f,m,m)}),this},hasKey:function(u){var f=_s(this).next(u).value;return f&&tt(f.from,u)<=0&&0<=tt(f.to,u)}})[M]=function(){return _s(this)},Cn));var Zi={},kl={},Ll=!1;function Ss(u){bs(kl,u),Ll||(Ll=!0,setTimeout(function(){Ll=!1,Ul(kl,!(kl={}))},0))}function Ul(u,f){f===void 0&&(f=!1);var m=new Set;if(u.all)for(var y=0,b=Object.values(Zi);y<b.length;y++)au(w=b[y],u,m,f);else for(var E in u){var w,C=/^idb\:\/\/(.*)\/(.*)\//.exec(E);C&&(E=C[1],C=C[2],(w=Zi["idb://".concat(E,"/").concat(C)])&&au(w,u,m,f))}m.forEach(function(N){return N()})}function au(u,f,m,y){for(var b=[],E=0,w=Object.entries(u.queries.query);E<w.length;E++){for(var C=w[E],N=C[0],L=[],B=0,D=C[1];B<D.length;B++){var I=D[B];Nl(f,I.obsSet)?I.subscribers.forEach(function(U){return m.add(U)}):y&&L.push(I)}y&&b.push([N,L])}if(y)for(var R=0,j=b;R<j.length;R++){var Y=j[R],N=Y[0],L=Y[1];u.queries.query[N]=L}}function rf(u){var f=u._state,m=u._deps.indexedDB;if(f.isBeingOpened||u.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?Mt(f.dbOpenError):u});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var y=f.openCanceller,b=Math.round(10*u.verno),E=!1;function w(){if(f.openCanceller!==y)throw new Ae.DatabaseClosed("db.open() was cancelled")}function C(){return new Te(function(I,R){if(w(),!m)throw new Ae.MissingAPI;var j=u.name,Y=f.autoSchema||!b?m.open(j):m.open(j,b);if(!Y)throw new Ae.MissingAPI;Y.onerror=In(R),Y.onblocked=Qe(u._fireOnBlocked),Y.onupgradeneeded=Qe(function(U){var V;B=Y.transaction,f.autoSchema&&!u._options.allowEmptyDB?(Y.onerror=Ki,B.abort(),Y.result.close(),(V=m.deleteDatabase(j)).onsuccess=V.onerror=Qe(function(){R(new Ae.NoSuchDatabase("Database ".concat(j," doesnt exist")))})):(B.onerror=In(R),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,D=U<1,u.idbdb=Y.result,E&&ds(u,B),Ca(u,U/10,B,R))},R),Y.onsuccess=Qe(function(){B=null;var U,V,G,X,te,pe=u.idbdb=Y.result,Se=He(pe.objectStoreNames);if(0<Se.length)try{var he=pe.transaction((X=Se).length===1?X[0]:X,"readonly");if(f.autoSchema)V=pe,G=he,(U=u).verno=V.version/10,G=U._dbSchema=jr(0,V,G),U._storeNames=He(V.objectStoreNames,0),hs(U,[U._allTables],p(G),G);else if(ys(u,u._dbSchema,he),((te=ps(jr(0,(te=u).idbdb,he),te._dbSchema)).add.length||te.change.some(function(ye){return ye.add.length||ye.change.length}))&&!E)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),pe.close(),b=pe.version+1,E=!0,I(C());Ai(u,he)}catch{}ui.push(u),pe.onversionchange=Qe(function(ye){f.vcFired=!0,u.on("versionchange").fire(ye)}),pe.onclose=Qe(function(ye){u.on("close").fire(ye)}),D&&(te=u._deps,he=j,pe=te.indexedDB,te=te.IDBKeyRange,gs(pe)||he===Yi||Ol(pe,te).put({name:he}).catch(Ke)),I()},R)}).catch(function(I){switch(I==null?void 0:I.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),C();break;case"VersionError":if(0<b)return b=0,C()}return Te.reject(I)})}var N,L=f.dbReadyResolve,B=null,D=!1;return Te.race([y,(typeof navigator>"u"?Te.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(I){function R(){return indexedDB.databases().finally(I)}N=setInterval(R,100),R()}).finally(function(){return clearInterval(N)}):Promise.resolve()).then(C)]).then(function(){return w(),f.onReadyBeingFired=[],Te.resolve(Dl(function(){return u.on.ready.fire(u.vip)})).then(function I(){if(0<f.onReadyBeingFired.length){var R=f.onReadyBeingFired.reduce(va,Ke);return f.onReadyBeingFired=[],Te.resolve(Dl(function(){return R(u.vip)})).then(I)}})}).finally(function(){f.openCanceller===y&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(I){f.dbOpenError=I;try{B&&B.abort()}catch{}return y===f.openCanceller&&u._close(),Mt(I)}).finally(function(){f.openComplete=!0,L()}).then(function(){var I;return D&&(I={},u.tables.forEach(function(R){R.schema.indexes.forEach(function(j){j.name&&(I["idb://".concat(u.name,"/").concat(R.name,"/").concat(j.name)]=new Jt(-1/0,[[[]]]))}),I["idb://".concat(u.name,"/").concat(R.name,"/")]=I["idb://".concat(u.name,"/").concat(R.name,"/:dels")]=new Jt(-1/0,[[[]]])}),Wt(kr).fire(I),Ul(I,!0)),u})}function Oa(u){function f(E){return u.next(E)}var m=b(f),y=b(function(E){return u.throw(E)});function b(E){return function(N){var C=E(N),N=C.value;return C.done?N:N&&typeof N.then=="function"?N.then(m,y):v(N)?Promise.all(N).then(m,y):m(N)}}return b(f)()}function Oi(u,f,m){for(var y=v(u)?u.slice():[u],b=0;b<m;++b)y.push(f);return y}var af={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return a(a({},u),{table:function(f){var m=u.table(f),y=m.schema,b={},E=[];function w(D,I,R){var j=Yt(D),Y=b[j]=b[j]||[],U=D==null?0:typeof D=="string"?1:D.length,V=0<I,V=a(a({},R),{name:V?"".concat(j,"(virtual-from:").concat(R.name,")"):R.name,lowLevelIndex:R,isVirtual:V,keyTail:I,keyLength:U,extractKey:zr(D),unique:!V&&R.unique});return Y.push(V),V.isPrimaryKey||E.push(V),1<U&&w(U===2?D[0]:D.slice(0,U-1),I+1,R),Y.sort(function(G,X){return G.keyTail-X.keyTail}),V}f=w(y.primaryKey.keyPath,0,y.primaryKey),b[":id"]=[f];for(var C=0,N=y.indexes;C<N.length;C++){var L=N[C];w(L.keyPath,0,L)}function B(D){var I,R=D.query.index;return R.isVirtual?a(a({},D),{query:{index:R.lowLevelIndex,range:(I=D.query.range,R=R.keyTail,{type:I.type===1?2:I.type,lower:Oi(I.lower,I.lowerOpen?u.MAX_KEY:u.MIN_KEY,R),lowerOpen:!0,upper:Oi(I.upper,I.upperOpen?u.MIN_KEY:u.MAX_KEY,R),upperOpen:!0})}}):D}return a(a({},m),{schema:a(a({},y),{primaryKey:f,indexes:E,getIndexByKeyPath:function(D){return(D=b[Yt(D)])&&D[0]}}),count:function(D){return m.count(B(D))},query:function(D){return m.query(B(D))},openCursor:function(D){var I=D.query.index,R=I.keyTail,j=I.isVirtual,Y=I.keyLength;return j?m.openCursor(B(D)).then(function(V){return V&&U(V)}):m.openCursor(D);function U(V){return Object.create(V,{continue:{value:function(G){G!=null?V.continue(Oi(G,D.reverse?u.MAX_KEY:u.MIN_KEY,R)):D.unique?V.continue(V.key.slice(0,Y).concat(D.reverse?u.MIN_KEY:u.MAX_KEY,R)):V.continue()}},continuePrimaryKey:{value:function(G,X){V.continuePrimaryKey(Oi(G,u.MAX_KEY,R),X)}},primaryKey:{get:function(){return V.primaryKey}},key:{get:function(){var G=V.key;return Y===1?G[0]:G.slice(0,Y)}},value:{get:function(){return V.value}}})}}})}})}};function Es(u,f,m,y){return m=m||{},y=y||"",p(u).forEach(function(b){var E,w,C;A(f,b)?(E=u[b],w=f[b],typeof E=="object"&&typeof w=="object"&&E&&w?(C=oe(E))!==oe(w)?m[y+b]=f[b]:C==="Object"?Es(E,w,m,y+b+"."):E!==w&&(m[y+b]=f[b]):E!==w&&(m[y+b]=f[b])):m[y+b]=void 0}),p(f).forEach(function(b){A(u,b)||(m[y+b]=f[b])}),m}function Ts(u,f){return f.type==="delete"?f.keys:f.keys||f.values.map(u.extractKey)}var su={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return a(a({},u),{table:function(f){var m=u.table(f),y=m.schema.primaryKey;return a(a({},m),{mutate:function(b){var E=ke.trans,w=E.table(f).hook,C=w.deleting,N=w.creating,L=w.updating;switch(b.type){case"add":if(N.fire===Ke)break;return E._promise("readwrite",function(){return B(b)},!0);case"put":if(N.fire===Ke&&L.fire===Ke)break;return E._promise("readwrite",function(){return B(b)},!0);case"delete":if(C.fire===Ke)break;return E._promise("readwrite",function(){return B(b)},!0);case"deleteRange":if(C.fire===Ke)break;return E._promise("readwrite",function(){return function D(I,R,j){return m.query({trans:I,values:!1,query:{index:y,range:R},limit:j}).then(function(Y){var U=Y.result;return B({type:"delete",keys:U,trans:I}).then(function(V){return 0<V.numFailures?Promise.reject(V.failures[0]):U.length<j?{failures:[],numFailures:0,lastResult:void 0}:D(I,a(a({},R),{lower:U[U.length-1],lowerOpen:!0}),j)})})}(b.trans,b.range,1e4)},!0)}return m.mutate(b);function B(D){var I,R,j,Y=ke.trans,U=D.keys||Ts(y,D);if(!U)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?a(a({},D),{keys:U}):a({},D)).type!=="delete"&&(D.values=o([],D.values)),D.keys&&(D.keys=o([],D.keys)),I=m,j=U,((R=D).type==="add"?Promise.resolve([]):I.getMany({trans:R.trans,keys:j,cache:"immutable"})).then(function(V){var G=U.map(function(X,te){var pe,Se,he,ye=V[te],Ee={onerror:null,onsuccess:null};return D.type==="delete"?C.fire.call(Ee,X,ye,Y):D.type==="add"||ye===void 0?(pe=N.fire.call(Ee,X,D.values[te],Y),X==null&&pe!=null&&(D.keys[te]=X=pe,y.outbound||J(D.values[te],y.keyPath,X))):(pe=Es(ye,D.values[te]),(Se=L.fire.call(Ee,pe,X,ye,Y))&&(he=D.values[te],Object.keys(Se).forEach(function(de){A(he,de)?he[de]=Se[de]:J(he,de,Se[de])}))),Ee});return m.mutate(D).then(function(X){for(var te=X.failures,pe=X.results,Se=X.numFailures,X=X.lastResult,he=0;he<U.length;++he){var ye=(pe||U)[he],Ee=G[he];ye==null?Ee.onerror&&Ee.onerror(te[he]):Ee.onsuccess&&Ee.onsuccess(D.type==="put"&&V[he]?D.values[he]:ye)}return{failures:te,results:pe,numFailures:Se,lastResult:X}}).catch(function(X){return G.forEach(function(te){return te.onerror&&te.onerror(X)}),Promise.reject(X)})})}}})}})}};function zl(u,f,m){try{if(!f||f.keys.length<u.length)return null;for(var y=[],b=0,E=0;b<f.keys.length&&E<u.length;++b)tt(f.keys[b],u[E])===0&&(y.push(m?re(f.values[b]):f.values[b]),++E);return y.length===u.length?y:null}catch{return null}}var lu={stack:"dbcore",level:-1,create:function(u){return{table:function(f){var m=u.table(f);return a(a({},m),{getMany:function(y){if(!y.cache)return m.getMany(y);var b=zl(y.keys,y.trans._cache,y.cache==="clone");return b?Te.resolve(b):m.getMany(y).then(function(E){return y.trans._cache={keys:y.keys,values:y.cache==="clone"?re(E):E},E})},mutate:function(y){return y.type!=="add"&&(y.trans._cache=null),m.mutate(y)}})}}}};function Wi(u,f){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function ou(u,f){switch(u){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var sf={stack:"dbcore",level:0,name:"Observability",create:function(u){var f=u.schema.name,m=new Jt(u.MIN_KEY,u.MAX_KEY);return a(a({},u),{transaction:function(y,b,E){if(ke.subscr&&b!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ke.querier));return u.transaction(y,b,E)},table:function(y){var b=u.table(y),E=b.schema,w=E.primaryKey,D=E.indexes,C=w.extractKey,N=w.outbound,L=w.autoIncrement&&D.filter(function(R){return R.compound&&R.keyPath.includes(w.keyPath)}),B=a(a({},b),{mutate:function(R){function j(de){return de="idb://".concat(f,"/").concat(y,"/").concat(de),X[de]||(X[de]=new Jt)}var Y,U,V,G=R.trans,X=R.mutatedParts||(R.mutatedParts={}),te=j(""),pe=j(":dels"),Se=R.type,Ee=R.type==="deleteRange"?[R.range]:R.type==="delete"?[R.keys]:R.values.length<50?[Ts(w,R).filter(function(de){return de}),R.values]:[],he=Ee[0],ye=Ee[1],Ee=R.trans._cache;return v(he)?(te.addKeys(he),(Ee=Se==="delete"||he.length===ye.length?zl(he,Ee):null)||pe.addKeys(he),(Ee||ye)&&(Y=j,U=Ee,V=ye,E.indexes.forEach(function(de){var De=Y(de.name||"");function je(Ve){return Ve!=null?de.extractKey(Ve):null}function Be(Ve){return de.multiEntry&&v(Ve)?Ve.forEach(function(cn){return De.addKey(cn)}):De.addKey(Ve)}(U||V).forEach(function(Ve,Bt){var Ye=U&&je(U[Bt]),Bt=V&&je(V[Bt]);tt(Ye,Bt)!==0&&(Ye!=null&&Be(Ye),Bt!=null&&Be(Bt))})}))):he?(ye={from:(ye=he.lower)!==null&&ye!==void 0?ye:u.MIN_KEY,to:(ye=he.upper)!==null&&ye!==void 0?ye:u.MAX_KEY},pe.add(ye),te.add(ye)):(te.add(m),pe.add(m),E.indexes.forEach(function(de){return j(de.name).add(m)})),b.mutate(R).then(function(de){return!he||R.type!=="add"&&R.type!=="put"||(te.addKeys(de.results),L&&L.forEach(function(De){for(var je=R.values.map(function(Ye){return De.extractKey(Ye)}),Be=De.keyPath.findIndex(function(Ye){return Ye===w.keyPath}),Ve=0,cn=de.results.length;Ve<cn;++Ve)je[Ve][Be]=de.results[Ve];j(De.name).addKeys(je)})),G.mutatedParts=bs(G.mutatedParts||{},X),de})}}),D=function(j){var Y=j.query,j=Y.index,Y=Y.range;return[j,new Jt((j=Y.lower)!==null&&j!==void 0?j:u.MIN_KEY,(Y=Y.upper)!==null&&Y!==void 0?Y:u.MAX_KEY)]},I={get:function(R){return[w,new Jt(R.key)]},getMany:function(R){return[w,new Jt().addKeys(R.keys)]},count:D,query:D,openCursor:D};return p(I).forEach(function(R){B[R]=function(j){var Y=ke.subscr,U=!!Y,V=Wi(ke,b)&&ou(R,j)?j.obsSet={}:Y;if(U){var G=function(ye){return ye="idb://".concat(f,"/").concat(y,"/").concat(ye),V[ye]||(V[ye]=new Jt)},X=G(""),te=G(":dels"),Y=I[R](j),U=Y[0],Y=Y[1];if((R==="query"&&U.isPrimaryKey&&!j.values?te:G(U.name||"")).add(Y),!U.isPrimaryKey){if(R!=="count"){var pe=R==="query"&&N&&j.values&&b.query(a(a({},j),{values:!1}));return b[R].apply(this,arguments).then(function(ye){if(R==="query"){if(N&&j.values)return pe.then(function(je){return je=je.result,X.addKeys(je),ye});var Ee=j.values?ye.result.map(C):ye.result;(j.values?X:te).addKeys(Ee)}else if(R==="openCursor"){var de=ye,De=j.values;return de&&Object.create(de,{key:{get:function(){return te.addKey(de.primaryKey),de.key}},primaryKey:{get:function(){var je=de.primaryKey;return te.addKey(je),je}},value:{get:function(){return De&&X.addKey(de.primaryKey),de.value}}})}return ye})}te.add(m)}}return b[R].apply(this,arguments)}}),B}})}};function uu(u,f,m){if(m.numFailures===0)return f;if(f.type==="deleteRange")return null;var y=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return m.numFailures===y?null:(f=a({},f),v(f.keys)&&(f.keys=f.keys.filter(function(b,E){return!(E in m.failures)})),"values"in f&&v(f.values)&&(f.values=f.values.filter(function(b,E){return!(E in m.failures)})),f)}function ws(u,f){return m=u,((y=f).lower===void 0||(y.lowerOpen?0<tt(m,y.lower):0<=tt(m,y.lower)))&&(u=u,(f=f).upper===void 0||(f.upperOpen?tt(u,f.upper)<0:tt(u,f.upper)<=0));var m,y}function jl(u,f,I,y,b,E){if(!I||I.length===0)return u;var w=f.query.index,C=w.multiEntry,N=f.query.range,L=y.schema.primaryKey.extractKey,B=w.extractKey,D=(w.lowLevelIndex||w).extractKey,I=I.reduce(function(R,j){var Y=R,U=[];if(j.type==="add"||j.type==="put")for(var V=new Jt,G=j.values.length-1;0<=G;--G){var X,te=j.values[G],pe=L(te);V.hasKey(pe)||(X=B(te),(C&&v(X)?X.some(function(de){return ws(de,N)}):ws(X,N))&&(V.addKey(pe),U.push(te)))}switch(j.type){case"add":var Se=new Jt().addKeys(f.values?R.map(function(De){return L(De)}):R),Y=R.concat(f.values?U.filter(function(De){return De=L(De),!Se.hasKey(De)&&(Se.addKey(De),!0)}):U.map(function(De){return L(De)}).filter(function(De){return!Se.hasKey(De)&&(Se.addKey(De),!0)}));break;case"put":var he=new Jt().addKeys(j.values.map(function(De){return L(De)}));Y=R.filter(function(De){return!he.hasKey(f.values?L(De):De)}).concat(f.values?U:U.map(function(De){return L(De)}));break;case"delete":var ye=new Jt().addKeys(j.keys);Y=R.filter(function(De){return!ye.hasKey(f.values?L(De):De)});break;case"deleteRange":var Ee=j.range;Y=R.filter(function(De){return!ws(L(De),Ee)})}return Y},u);return I===u?u:(I.sort(function(R,j){return tt(D(R),D(j))||tt(L(R),L(j))}),f.limit&&f.limit<1/0&&(I.length>f.limit?I.length=f.limit:u.length===f.limit&&I.length<f.limit&&(b.dirty=!0)),E?Object.freeze(I):I)}function Br(u,f){return tt(u.lower,f.lower)===0&&tt(u.upper,f.upper)===0&&!!u.lowerOpen==!!f.lowerOpen&&!!u.upperOpen==!!f.upperOpen}function Da(u,f){return function(m,y,b,E){if(m===void 0)return y!==void 0?-1:0;if(y===void 0)return 1;if((y=tt(m,y))===0){if(b&&E)return 0;if(b)return 1;if(E)return-1}return y}(u.lower,f.lower,u.lowerOpen,f.lowerOpen)<=0&&0<=function(m,y,b,E){if(m===void 0)return y!==void 0?1:0;if(y===void 0)return-1;if((y=tt(m,y))===0){if(b&&E)return 0;if(b)return-1;if(E)return 1}return y}(u.upper,f.upper,u.upperOpen,f.upperOpen)}function lf(u,f,m,y){u.subscribers.add(m),y.addEventListener("abort",function(){var b,E;u.subscribers.delete(m),u.subscribers.size===0&&(b=u,E=f,setTimeout(function(){b.subscribers.size===0&&Z(E,b)},3e3))})}var xs={stack:"dbcore",level:0,name:"Cache",create:function(u){var f=u.schema.name;return a(a({},u),{transaction:function(m,y,b){var E,w,C=u.transaction(m,y,b);return y==="readwrite"&&(w=(E=new AbortController).signal,b=function(N){return function(){if(E.abort(),y==="readwrite"){for(var L=new Set,B=0,D=m;B<D.length;B++){var I=D[B],R=Zi["idb://".concat(f,"/").concat(I)];if(R){var j=u.table(I),Y=R.optimisticOps.filter(function(De){return De.trans===C});if(C._explicit&&N&&C.mutatedParts)for(var U=0,V=Object.values(R.queries.query);U<V.length;U++)for(var G=0,X=(Se=V[U]).slice();G<X.length;G++)Nl((he=X[G]).obsSet,C.mutatedParts)&&(Z(Se,he),he.subscribers.forEach(function(De){return L.add(De)}));else if(0<Y.length){R.optimisticOps=R.optimisticOps.filter(function(De){return De.trans!==C});for(var te=0,pe=Object.values(R.queries.query);te<pe.length;te++)for(var Se,he,ye,Ee=0,de=(Se=pe[te]).slice();Ee<de.length;Ee++)(he=de[Ee]).res!=null&&C.mutatedParts&&(N&&!he.dirty?(ye=Object.isFrozen(he.res),ye=jl(he.res,he.req,Y,j,he,ye),he.dirty?(Z(Se,he),he.subscribers.forEach(function(De){return L.add(De)})):ye!==he.res&&(he.res=ye,he.promise=Te.resolve({result:ye}))):(he.dirty&&Z(Se,he),he.subscribers.forEach(function(De){return L.add(De)})))}}}L.forEach(function(De){return De()})}}},C.addEventListener("abort",b(!1),{signal:w}),C.addEventListener("error",b(!1),{signal:w}),C.addEventListener("complete",b(!0),{signal:w})),C},table:function(m){var y=u.table(m),b=y.schema.primaryKey;return a(a({},y),{mutate:function(E){var w=ke.trans;if(b.outbound||w.db._options.cache==="disabled"||w.explicit||w.idbtrans.mode!=="readwrite")return y.mutate(E);var C=Zi["idb://".concat(f,"/").concat(m)];return C?(w=y.mutate(E),E.type!=="add"&&E.type!=="put"||!(50<=E.values.length||Ts(b,E).some(function(N){return N==null}))?(C.optimisticOps.push(E),E.mutatedParts&&Ss(E.mutatedParts),w.then(function(N){0<N.numFailures&&(Z(C.optimisticOps,E),(N=uu(0,E,N))&&C.optimisticOps.push(N),E.mutatedParts&&Ss(E.mutatedParts))}),w.catch(function(){Z(C.optimisticOps,E),E.mutatedParts&&Ss(E.mutatedParts)})):w.then(function(N){var L=uu(0,a(a({},E),{values:E.values.map(function(B,D){var I;return N.failures[D]?B:(B=(I=b.keyPath)!==null&&I!==void 0&&I.includes(".")?re(B):a({},B),J(B,b.keyPath,N.results[D]),B)})}),N);C.optimisticOps.push(L),queueMicrotask(function(){return E.mutatedParts&&Ss(E.mutatedParts)})}),w):y.mutate(E)},query:function(E){if(!Wi(ke,y)||!ou("query",E))return y.query(E);var w=((L=ke.trans)===null||L===void 0?void 0:L.db._options.cache)==="immutable",D=ke,C=D.requery,N=D.signal,L=function(j,Y,U,V){var G=Zi["idb://".concat(j,"/").concat(Y)];if(!G)return[];if(!(Y=G.queries[U]))return[null,!1,G,null];var X=Y[(V.query?V.query.index.name:null)||""];if(!X)return[null,!1,G,null];switch(U){case"query":var te=X.find(function(pe){return pe.req.limit===V.limit&&pe.req.values===V.values&&Br(pe.req.query.range,V.query.range)});return te?[te,!0,G,X]:[X.find(function(pe){return("limit"in pe.req?pe.req.limit:1/0)>=V.limit&&(!V.values||pe.req.values)&&Da(pe.req.query.range,V.query.range)}),!1,G,X];case"count":return te=X.find(function(pe){return Br(pe.req.query.range,V.query.range)}),[te,!!te,G,X]}}(f,m,"query",E),B=L[0],D=L[1],I=L[2],R=L[3];return B&&D?B.obsSet=E.obsSet:(D=y.query(E).then(function(j){var Y=j.result;if(B&&(B.res=Y),w){for(var U=0,V=Y.length;U<V;++U)Object.freeze(Y[U]);Object.freeze(Y)}else j.result=re(Y);return j}).catch(function(j){return R&&B&&Z(R,B),Promise.reject(j)}),B={obsSet:E.obsSet,promise:D,subscribers:new Set,type:"query",req:E,dirty:!1},R?R.push(B):(R=[B],(I=I||(Zi["idb://".concat(f,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[E.query.index.name||""]=R)),lf(B,R,C,N),B.promise.then(function(j){return{result:jl(j.result,E,I==null?void 0:I.optimisticOps,y,B,w)}})}})}})}};function Ma(u,f){return new Proxy(u,{get:function(m,y,b){return y==="db"?f:Reflect.get(m,y,b)}})}var ei=(xt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new Ae.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var f=this._versions,m=f.filter(function(y){return y._cfg.version===u})[0];return m||(m=new this.Version(u),f.push(m),f.sort(Cl),m.stores({}),this._state.autoSchema=!1,m)},xt.prototype._whenReady=function(u){var f=this;return this.idbdb&&(this._state.openComplete||ke.letThrough||this._vip)?u():new Te(function(m,y){if(f._state.openComplete)return y(new Ae.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void y(new Ae.DatabaseClosed);f.open().catch(Ke)}f._state.dbReadyPromise.then(m,y)}).then(u)},xt.prototype.use=function(u){var f=u.stack,m=u.create,y=u.level,b=u.name;return b&&this.unuse({stack:f,name:b}),u=this._middlewares[f]||(this._middlewares[f]=[]),u.push({stack:f,create:m,level:y??10,name:b}),u.sort(function(E,w){return E.level-w.level}),this},xt.prototype.unuse=function(u){var f=u.stack,m=u.name,y=u.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(b){return y?b.create!==y:!!m&&b.name!==m})),this},xt.prototype.open=function(){var u=this;return Si(yn,function(){return rf(u)})},xt.prototype._close=function(){var u=this._state,f=ui.indexOf(this);if(0<=f&&ui.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new Te(function(m){u.dbReadyResolve=m}),u.openCanceller=new Te(function(m,y){u.cancelOpen=y}))},xt.prototype.close=function(m){var f=(m===void 0?{disableAutoOpen:!0}:m).disableAutoOpen,m=this._state;f?(m.isBeingOpened&&m.cancelOpen(new Ae.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new Ae.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},xt.prototype.delete=function(u){var f=this;u===void 0&&(u={disableAutoOpen:!0});var m=0<arguments.length&&typeof arguments[0]!="object",y=this._state;return new Te(function(b,E){function w(){f.close(u);var C=f._deps.indexedDB.deleteDatabase(f.name);C.onsuccess=Qe(function(){var N,L,B;N=f._deps,L=f.name,B=N.indexedDB,N=N.IDBKeyRange,gs(B)||L===Yi||Ol(B,N).delete(L).catch(Ke),b()}),C.onerror=In(E),C.onblocked=f._fireOnBlocked}if(m)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");y.isBeingOpened?y.dbReadyPromise.then(w):w()})},xt.prototype.backendDB=function(){return this.idbdb},xt.prototype.isOpen=function(){return this.idbdb!==null},xt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(xt.prototype,"tables",{get:function(){var u=this;return p(this._allTables).map(function(f){return u._allTables[f]})},enumerable:!1,configurable:!0}),xt.prototype.transaction=function(){var u=(function(f,m,y){var b=arguments.length;if(b<2)throw new Ae.InvalidArgument("Too few arguments");for(var E=new Array(b-1);--b;)E[b-1]=arguments[b];return y=E.pop(),[f,be(E),y]}).apply(this,arguments);return this._transaction.apply(this,u)},xt.prototype._transaction=function(u,f,m){var y=this,b=ke.trans;b&&b.db===this&&u.indexOf("!")===-1||(b=null);var E,w,C=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(w=f.map(function(L){if(L=L instanceof y.Table?L.name:L,typeof L!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return L}),u=="r"||u===qn)E=qn;else{if(u!="rw"&&u!=Ta)throw new Ae.InvalidArgument("Invalid transaction mode: "+u);E=Ta}if(b){if(b.mode===qn&&E===Ta){if(!C)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&w.forEach(function(L){if(b&&b.storeNames.indexOf(L)===-1){if(!C)throw new Ae.SubTransaction("Table "+L+" not included in parent transaction.");b=null}}),C&&b&&!b.active&&(b=null)}}catch(L){return b?b._promise(null,function(B,D){D(L)}):Mt(L)}var N=(function L(B,D,I,R,j){return Te.resolve().then(function(){var Y=ke.transless||ke,U=B._createTransaction(D,I,B._dbSchema,R);if(U.explicit=!0,Y={trans:U,transless:Y},R)U.idbtrans=R.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(X){return X.name===Xt.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return L(B,D,I,null,j)})):Mt(X)}var V,G=Me(j);return G&&Bn(),Y=Te.follow(function(){var X;(V=j.call(U,U))&&(G?(X=Tn.bind(null,null),V.then(X,X)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=Oa(V)))},Y),(V&&typeof V.then=="function"?Te.resolve(V).then(function(X){return U.active?X:Mt(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Y.then(function(){return V})).then(function(X){return R&&U._resolve(),U._completion.then(function(){return X})}).catch(function(X){return U._reject(X),Mt(X)})})}).bind(null,this,E,w,b,m);return b?b._promise(E,N,"lock"):ke.trans?Si(ke.transless,function(){return y._whenReady(N)}):this._whenReady(N)},xt.prototype.table=function(u){if(!A(this._allTables,u))throw new Ae.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},xt);function xt(u,f){var m=this;this._middlewares={},this.verno=0;var y=xt.dependencies;this._options=f=a({addons:xt.addons,autoOpen:!0,indexedDB:y.indexedDB,IDBKeyRange:y.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},y=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,E,w,C,N,L={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ke,dbReadyPromise:null,cancelOpen:Ke,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};L.dbReadyPromise=new Te(function(D){L.dbReadyResolve=D}),L.openCanceller=new Te(function(D,I){L.cancelOpen=I}),this._state=L,this.name=u,this.on=Ci(this,"populate","blocked","versionchange","close",{ready:[va,Ke]}),this.on.ready.subscribe=Ce(this.on.ready.subscribe,function(D){return function(I,R){xt.vip(function(){var j,Y=m._state;Y.openComplete?(Y.dbOpenError||Te.resolve().then(I),R&&D(I)):Y.onReadyBeingFired?(Y.onReadyBeingFired.push(I),R&&D(I)):(D(I),j=m,R||D(function U(){j.on.ready.unsubscribe(I),j.on.ready.unsubscribe(U)}))})}}),this.Collection=(b=this,Ar(Rr.prototype,function(V,U){this.db=b;var R=$i,j=null;if(U)try{R=U()}catch(G){j=G}var Y=V._ctx,U=Y.table,V=U.hook.reading.fire;this._ctx={table:U,index:Y.index,isPrimKey:!Y.index||U.schema.primKey.keyPath&&Y.index===U.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:j,or:Y.or,valueMapper:V!==Zt?V:null}})),this.Table=(E=this,Ar(bl.prototype,function(D,I,R){this.db=E,this._tx=R,this.name=D,this.schema=I,this.hook=E._allTables[D]?E._allTables[D].hook:Ci(null,{creating:[ma,Ke],reading:[_i,Zt],updating:[ya,Ke],deleting:[mn,Ke]})})),this.Transaction=(w=this,Ar(xl.prototype,function(D,I,R,j,Y){var U=this;this.db=w,this.mode=D,this.storeNames=I,this.schema=R,this.chromeTransactionDurability=j,this.idbtrans=null,this.on=Ci(this,"complete","error","abort"),this.parent=Y||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Te(function(V,G){U._resolve=V,U._reject=G}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(V){var G=U.active;return U.active=!1,U.on.error.fire(V),U.parent?U.parent._reject(V):G&&U.idbtrans&&U.idbtrans.abort(),Mt(V)})})),this.Version=(C=this,Ar(nf.prototype,function(D){this.db=C,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(N=this,Ar(Fi.prototype,function(D,I,R){if(this.db=N,this._ctx={table:D,index:I===":id"?null:I,or:R},this._cmp=this._ascending=tt,this._descending=function(j,Y){return tt(Y,j)},this._max=function(j,Y){return 0<tt(j,Y)?j:Y},this._min=function(j,Y){return tt(j,Y)<0?j:Y},this._IDBKeyRange=N._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=Ur(f.IDBKeyRange),this._createTransaction=function(D,I,R,j){return new m.Transaction(D,I,R,m._options.chromeTransactionDurability,j)},this._fireOnBlocked=function(D){m.on("blocked").fire(D),ui.filter(function(I){return I.name===m.name&&I!==m&&!I._state.vcFired}).map(function(I){return I.on("versionchange").fire(D)})},this.use(lu),this.use(xs),this.use(sf),this.use(af),this.use(su);var B=new Proxy(this,{get:function(D,I,R){if(I==="_vip")return!0;if(I==="table")return function(Y){return Ma(m.table(Y),B)};var j=Reflect.get(D,I,R);return j instanceof bl?Ma(j,B):I==="tables"?j.map(function(Y){return Ma(Y,B)}):I==="_createTransaction"?function(){return Ma(j.apply(this,arguments),B)}:j}});this.vip=B,y.forEach(function(D){return D(m)})}var qr,Cn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",cu=(Cs.prototype.subscribe=function(u,f,m){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:f,complete:m})},Cs.prototype[Cn]=function(){return this},Cs);function Cs(u){this._subscribe=u}try{qr={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{qr={indexedDB:null,IDBKeyRange:null}}function fu(u){var f,m=!1,y=new cu(function(b){var E=Me(u),w,C=!1,N={},L={},B={get closed(){return C},unsubscribe:function(){C||(C=!0,w&&w.abort(),D&&Wt.storagemutated.unsubscribe(R))}};b.start&&b.start(B);var D=!1,I=function(){return Ti(j)},R=function(Y){bs(N,Y),Nl(L,N)&&I()},j=function(){var Y,U,V;!C&&qr.indexedDB&&(N={},Y={},w&&w.abort(),w=new AbortController,V=function(G){var X=Hi();try{E&&Bn();var te=Xn(u,G);return te=E?te.finally(Tn):te}finally{X&&wr()}}(U={subscr:Y,signal:w.signal,requery:I,querier:u,trans:null}),Promise.resolve(V).then(function(G){m=!0,f=G,C||U.signal.aborted||(N={},function(X){for(var te in X)if(A(X,te))return;return 1}(L=Y)||D||(Wt(kr,R),D=!0),Ti(function(){return!C&&b.next&&b.next(G)}))},function(G){m=!1,["DatabaseClosedError","AbortError"].includes(G==null?void 0:G.name)||C||Ti(function(){C||b.error&&b.error(G)})}))};return setTimeout(I,0),B});return y.hasValue=function(){return m},y.getValue=function(){return f},y}var Ji=ei;function Bl(u){var f=Di;try{Di=!0,Wt.storagemutated.fire(u),Ul(u,!0)}finally{Di=f}}z(Ji,a(a({},kt),{delete:function(u){return new Ji(u,{addons:[]}).delete()},exists:function(u){return new Ji(u,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return f=Ji.dependencies,m=f.indexedDB,f=f.IDBKeyRange,(gs(m)?Promise.resolve(m.databases()).then(function(y){return y.map(function(b){return b.name}).filter(function(b){return b!==Yi})}):Ol(m,f).toCollection().primaryKeys()).then(u)}catch{return Mt(new Ae.MissingAPI)}var f,m},defineClass:function(){return function(u){g(this,u)}},ignoreTransaction:function(u){return ke.trans?Si(ke.transless,u):u()},vip:Dl,async:function(u){return function(){try{var f=Oa(u.apply(this,arguments));return f&&typeof f.then=="function"?f:Te.resolve(f)}catch(m){return Mt(m)}}},spawn:function(u,f,m){try{var y=Oa(u.apply(m,f||[]));return y&&typeof y.then=="function"?y:Te.resolve(y)}catch(b){return Mt(b)}},currentTransaction:{get:function(){return ke.trans||null}},waitFor:function(u,f){return f=Te.resolve(typeof u=="function"?Ji.ignoreTransaction(u):u).timeout(f||6e4),ke.trans?ke.trans.waitFor(f):f},Promise:Te,debug:{get:function(){return En},set:function(u){Xo(u)}},derive:xe,extend:g,props:z,override:Ce,Events:Ci,on:Wt,liveQuery:fu,extendObservabilitySet:bs,getByKeyPath:H,setByKeyPath:J,delByKeyPath:function(u,f){typeof f=="string"?J(u,f,void 0):"length"in f&&[].map.call(f,function(m){J(u,m,void 0)})},shallowClone:ge,deepClone:re,getObjectDiff:Es,cmp:tt,asap:we,minKey:-1/0,addons:[],connections:ui,errnames:Xt,dependencies:qr,cache:Zi,semVer:"4.0.11",version:"4.0.11".split(".").map(function(u){return parseInt(u)}).reduce(function(u,f,m){return u+f/Math.pow(10,2*m)})})),Ji.maxKey=Ur(Ji.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Wt(kr,function(u){Di||(u=new CustomEvent(Gi,{detail:u}),Di=!0,dispatchEvent(u),Di=!1)}),addEventListener(Gi,function(u){u=u.detail,Di||Bl(u)}));var Ir,Di=!1,_n=function(){};return typeof BroadcastChannel<"u"&&((_n=function(){(Ir=new BroadcastChannel(Gi)).onmessage=function(u){return u.data&&Bl(u.data)}})(),typeof Ir.unref=="function"&&Ir.unref(),Wt(kr,function(u){Di||Ir.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!ei.disableBfCache&&u.persisted){En&&console.debug("Dexie: handling persisted pagehide"),Ir!=null&&Ir.close();for(var f=0,m=ui;f<m.length;f++)m[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!ei.disableBfCache&&u.persisted&&(En&&console.debug("Dexie: handling persisted pageshow"),_n(),Bl({all:new Jt(-1/0,[[]])}))})),Te.rejectionMapper=function(u,f){return!u||u instanceof Ne||u instanceof TypeError||u instanceof SyntaxError||!u.name||!Ot[u.name]?u:(f=new Ot[u.name](f||u.message,u),"stack"in u&&le(f,"stack",{get:function(){return this.inner.stack}}),f)},Xo(En),a(ei,Object.freeze({__proto__:null,Dexie:ei,liveQuery:fu,Entity:ls,cmp:tt,PropModification:Mr,replacePrefix:function(u,f){return new Mr({replacePrefix:[u,f]})},add:function(u){return new Mr({add:u})},remove:function(u){return new Mr({remove:u})},default:ei,RangeSet:Jt,mergeRanges:Xi,rangesOverlap:iu}),{default:ei}),ei})}(mc)),mc.exports}var bx=_x();const Td=ha(bx),pg=Symbol.for("Dexie"),Ic=globalThis[pg]||(globalThis[pg]=Td);if(Td.semVer!==Ic.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Td.semVer} and ${Ic.semVer}`);const{liveQuery:sA,mergeRanges:lA,rangesOverlap:oA,RangeSet:uA,cmp:cA,Entity:fA,PropModification:hA,replacePrefix:dA,add:pA,remove:mA}=Ic;class Sx extends Ic{constructor(){super("blitzedOut");$h(this,"customTiles");$h(this,"gameBoard");this.version(2).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive"})}}const Wa=new Sx;Wa.use(vx({tables:["customTiles","gameBoard"]}));const{customTiles:zi}=Wa;zi.hook("creating",function(s,n,r){n.locale===void 0&&(n.locale="en"),n.gameMode===void 0&&(n.gameMode="online"),n.isCustom===void 0&&(n.isCustom=1)});const Ex=async s=>{const n=s.map(r=>({...r,isEnabled:1}));return await zi.bulkAdd(n)},d0=s=>{const n=["locale","gameMode","group","intensity","tag","isCustom","action"];let r=zi.toCollection();return Object.entries(s).filter(([o])=>n.includes(o)).forEach(([o,h])=>{h==null||h===""||(o==="tag"?r=r.filter(p=>p.tags.includes(h)):r=r.filter(p=>p[o]===h))}),r},p0=async(s={})=>{try{return await d0(s).toArray()}catch(n){return console.error("Error in getTiles:",n),[]}},m0=async s=>{const{page:n=1,limit:r=50}=s;try{const a=d0(s),o=await a.count(),h=(n-1)*r;return{items:await a.offset(h).limit(r).toArray(),total:o,page:n,limit:r,totalPages:Math.ceil(o/r)}}catch(a){return console.error("Error in getPaginatedTiles:",a),{items:[],total:0,page:n,limit:r,totalPages:0}}},yA=async(s="en",n="online",r=null)=>{let a=zi.where("locale").equals(s).and(h=>h.gameMode===n);return r&&(a=a.and(h=>h.tags.some(p=>r.includes(p)))),(await a.toArray()).reduce((h,p)=>{const v=p.group;h[v]||(h[v]={label:v,count:0,intensities:{}}),h[v].count++;const g=Number(p.intensity);return h[v].intensities[g]||(h[v].intensities[g]=0),h[v].intensities[g]++,h},{})},vA=(s=null)=>{const n=wc.resolvedLanguage||wc.language||"en";let r=zi.where("locale").equals(n).and(a=>a.isEnabled===1);return s&&(r=r.and(a=>a.gameMode===s)),r.toArray()},Tx=async s=>await zi.add({...s,isEnabled:1}),gA=async(s,n)=>await zi.update(s,n),_A=async s=>{const n=await zi.get(s);if(!n)throw new Error(`Custom tile with id ${s} not found`);return await zi.update(s,{isEnabled:n.isEnabled?0:1})};async function wx(){try{return await Wa.customTiles.where("isCustom").equals(1).delete(),!0}catch(s){return console.error("Error deleting custom tiles:",s),!1}}const bA=async s=>{await zi.delete(s)},{gameBoard:gr}=Wa,xx=()=>gr.orderBy("title").toArray(),SA=()=>gr.where("isActive").equals(1).first()||{},Cx=async s=>await gr.add(s),Ax=async(s,n)=>await gr.update(s.id,{...s,...n}),Ox=async s=>{var a,o;const n={title:s.title===void 0?"":s.title,tiles:s.tiles||[],isActive:s.isActive===void 0?1:s.isActive,tags:s.tags||[],gameMode:s.gameMode||"online"};if(!((a=n==null?void 0:n.title)!=null&&a.length)&&((o=n==null?void 0:n.tiles)!=null&&o.length))return;const r=await gr.where("title").equals(n.title).first();return Wa.transaction("rw",Wa.gameBoard,async()=>(n.isActive&&await Dx(),r?(await Ax(r,s),r.id):await Cx(n)))},EA=async s=>{const r=(await gr.toArray()).map(a=>({...a,isActive:a.id===s?1:0}));await gr.bulkPut(r)},TA=async s=>{await gr.delete(s)},Dx=async()=>{await gr.where("isActive").equals(1).modify({isActive:0})},yp=Ng();async function Mx(){const n=On().currentUser;if(!n)return console.error("No user logged in"),!1;try{const r=await p0({isCustom:1});return r.length&&await zg(Po(yp,"user-data",n.uid),{customTiles:r,lastUpdated:new Date},{merge:!0}),!0}catch(r){return console.error("Error syncing custom tiles:",r),!1}}async function Rx(){const n=On().currentUser;if(!n)return console.error("No user logged in"),!1;try{const r=await xx();return r.length&&await zg(Po(yp,"user-data",n.uid),{gameBoards:r,lastUpdated:new Date},{merge:!0}),!0}catch(r){return console.error("Error syncing game boards:",r),!1}}async function rd(){return await Mx(),await Rx(),!0}async function wd(){var r;const n=On().currentUser;if(!n)return console.error("No user logged in"),!1;try{const a=Po(yp,"user-data",n.uid),o=await kg(a);if(!o.exists())return!1;const h=o.data();if(h.customTiles&&h.customTiles.length>0){await wx(),await new Promise(p=>setTimeout(p,500));for(const p of h.customTiles)try{(await p0({gameMode:p.gameMode,group:p.group,intensity:p.intensity,action:p.action})).length===0&&await Tx(p)}catch(v){console.error("Error importing custom tile:",p,v)}console.log(`${h.customTiles.length} custom tiles imported`)}if(h.gameBoards&&h.gameBoards.length>0){for(const p of h.gameBoards)await Ox({title:p.title,tiles:p.tiles,tags:p.tags||[],gameMode:p.gameMode||"online",isActive:p.isActive||0});console.log(`${(r=h.gameBoards)==null?void 0:r.length} game boards imported`)}return!0}catch(a){return console.error("Error syncing data:",a),!1}}let yc=null;function Nx(s=5){y0();const n=s*60*1e3;return yc=window.setInterval(async()=>{const r=On();r.currentUser&&!r.currentUser.isAnonymous?(console.log("Performing periodic sync from Firebase..."),await wd()):console.log("Skipping periodic sync - no user logged in")},n),wd(),!0}function y0(){return yc?(window.clearInterval(yc),yc=null,!0):!1}On().onAuthStateChanged(s=>{s?Nx():y0()});const v0=at.createContext(void 0);function kx(s){const[n,r]=at.useState(null),[a,o]=at.useState(!0),[h,p]=at.useState(null),[v,g]=at.useState({syncing:!1,lastSync:null}),S=at.useRef(null),x=async we=>{if(S.current&&(clearTimeout(S.current),S.current=null),!n||n.isAnonymous)return!1;try{return g({syncing:!0,lastSync:v.lastSync}),await we(),g({syncing:!1,lastSync:new Date}),!0}catch(H){return console.error("Sync error:",H),H instanceof Error?p(H.message):p("An unknown error occurred"),g({syncing:!1,lastSync:v.lastSync}),!1}};async function A(we=""){try{const H=await ix(we);return r(H),H}catch(H){throw p(H.message),H}}async function z(we,H){try{o(!0);const J=await ax(we,H);return r(J),J}catch(J){throw J instanceof Error&&p(J.message),J}finally{o(!1)}}async function W(){try{o(!0);const we=await sx();return r(we),we}catch(we){throw we instanceof Error&&p(we.message),we}finally{o(!1)}}async function le(we,H,J){try{o(!0);const ge=await rx(we,H,J);return r(ge),ge}catch(ge){throw ge instanceof Error&&p(ge.message),ge}finally{o(!1)}}async function xe(we){try{return await lx(we),!0}catch(H){throw H instanceof Error&&p(H.message),H}}async function ve(we,H){try{o(!0);const J=await ox(we,H);return r(J),await x(rd),J}catch(J){throw J instanceof Error&&p(J.message),J}finally{o(!1)}}async function Le(we=""){try{const H=await fx(we);return r(H),H}catch(H){throw H instanceof Error&&p(H.message),H}}async function He(){try{if(n&&!n.isAnonymous){const we=x(rd),H=new Promise(J=>setTimeout(J,5e3,!1));await Promise.race([we,H])}await ux(),r(null)}catch(we){throw we instanceof Error&&p(we.message),we}}async function Ce(){return x(rd)}at.useEffect(()=>{const H=On().onAuthStateChanged(J=>{r(J||null),o(!1),J&&!J.isAnonymous&&(S.current&&clearTimeout(S.current),S.current=setTimeout(()=>{g({syncing:!0,lastSync:null}),wd().then(()=>{g({syncing:!1,lastSync:new Date})}).catch(ge=>{console.error("Error syncing from Firebase:",ge),g({syncing:!1,lastSync:null})}).finally(()=>{S.current=null})},500))});return window.authContext={user:null},()=>{H(),S.current&&clearTimeout(S.current),window.authContext=void 0}},[]),at.useEffect(()=>{window.authContext&&(window.authContext.user=n)},[n]);const Ge=at.useMemo(()=>({user:n,loading:a,error:h,syncStatus:v,login:A,loginEmail:z,loginGoogle:W,register:le,updateUser:Le,forgotPassword:xe,convertToRegistered:ve,logout:He,syncData:Ce,isAnonymous:(n==null?void 0:n.isAnonymous)||!1}),[n,a,h,v]);return ot.jsx(v0.Provider,{value:Ge,...s})}function Lx(){const s=at.useContext(v0);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}var vc={exports:{}},Ux=vc.exports,mg;function zx(){return mg||(mg=1,function(s,n){(function(r,a){s.exports=a()})(Ux,function(){var r=1e3,a=6e4,o=36e5,h="millisecond",p="second",v="minute",g="hour",S="day",x="week",A="month",z="quarter",W="year",le="date",xe="Invalid Date",ve=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Le=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,He={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ce){var oe=["th","st","nd","rd"],M=ce%100;return"["+ce+(oe[(M-20)%10]||oe[M]||oe[0])+"]"}},Ce=function(ce,oe,M){var Q=String(ce);return!Q||Q.length>=oe?ce:""+Array(oe+1-Q.length).join(M)+ce},Ge={s:Ce,z:function(ce){var oe=-ce.utcOffset(),M=Math.abs(oe),Q=Math.floor(M/60),Z=M%60;return(oe<=0?"+":"-")+Ce(Q,2,"0")+":"+Ce(Z,2,"0")},m:function ce(oe,M){if(oe.date()<M.date())return-ce(M,oe);var Q=12*(M.year()-oe.year())+(M.month()-oe.month()),Z=oe.clone().add(Q,A),ae=M-Z<0,me=oe.clone().add(Q+(ae?-1:1),A);return+(-(Q+(M-Z)/(ae?Z-me:me-Z))||0)},a:function(ce){return ce<0?Math.ceil(ce)||0:Math.floor(ce)},p:function(ce){return{M:A,y:W,w:x,d:S,D:le,h:g,m:v,s:p,ms:h,Q:z}[ce]||String(ce||"").toLowerCase().replace(/s$/,"")},u:function(ce){return ce===void 0}},we="en",H={};H[we]=He;var J="$isDayjsObject",ge=function(ce){return ce instanceof Oe||!(!ce||!ce[J])},fe=function ce(oe,M,Q){var Z;if(!oe)return we;if(typeof oe=="string"){var ae=oe.toLowerCase();H[ae]&&(Z=ae),M&&(H[ae]=M,Z=ae);var me=oe.split("-");if(!Z&&me.length>1)return ce(me[0])}else{var Me=oe.name;H[Me]=oe,Z=Me}return!Q&&Z&&(we=Z),Z||!Q&&we},be=function(ce,oe){if(ge(ce))return ce.clone();var M=typeof oe=="object"?oe:{};return M.date=ce,M.args=arguments,new Oe(M)},ee=Ge;ee.l=fe,ee.i=ge,ee.w=function(ce,oe){return be(ce,{locale:oe.$L,utc:oe.$u,x:oe.$x,$offset:oe.$offset})};var Oe=function(){function ce(M){this.$L=fe(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[J]=!0}var oe=ce.prototype;return oe.parse=function(M){this.$d=function(Q){var Z=Q.date,ae=Q.utc;if(Z===null)return new Date(NaN);if(ee.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var me=Z.match(ve);if(me){var Me=me[2]-1||0,Ue=(me[7]||"0").substring(0,3);return ae?new Date(Date.UTC(me[1],Me,me[3]||1,me[4]||0,me[5]||0,me[6]||0,Ue)):new Date(me[1],Me,me[3]||1,me[4]||0,me[5]||0,me[6]||0,Ue)}}return new Date(Z)}(M),this.init()},oe.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},oe.$utils=function(){return ee},oe.isValid=function(){return this.$d.toString()!==xe},oe.isSame=function(M,Q){var Z=be(M);return this.startOf(Q)<=Z&&Z<=this.endOf(Q)},oe.isAfter=function(M,Q){return be(M)<this.startOf(Q)},oe.isBefore=function(M,Q){return this.endOf(Q)<be(M)},oe.$g=function(M,Q,Z){return ee.u(M)?this[Q]:this.set(Z,M)},oe.unix=function(){return Math.floor(this.valueOf()/1e3)},oe.valueOf=function(){return this.$d.getTime()},oe.startOf=function(M,Q){var Z=this,ae=!!ee.u(Q)||Q,me=ee.p(M),Me=function(Ae,Ot){var kt=ee.w(Z.$u?Date.UTC(Z.$y,Ot,Ae):new Date(Z.$y,Ot,Ae),Z);return ae?kt:kt.endOf(S)},Ue=function(Ae,Ot){return ee.w(Z.toDate()[Ae].apply(Z.toDate("s"),(ae?[0,0,0,0]:[23,59,59,999]).slice(Ot)),Z)},Ne=this.$W,Fe=this.$M,rt=this.$D,At="set"+(this.$u?"UTC":"");switch(me){case W:return ae?Me(1,0):Me(31,11);case A:return ae?Me(1,Fe):Me(0,Fe+1);case x:var Xt=this.$locale().weekStart||0,Dn=(Ne<Xt?Ne+7:Ne)-Xt;return Me(ae?rt-Dn:rt+(6-Dn),Fe);case S:case le:return Ue(At+"Hours",0);case g:return Ue(At+"Minutes",1);case v:return Ue(At+"Seconds",2);case p:return Ue(At+"Milliseconds",3);default:return this.clone()}},oe.endOf=function(M){return this.startOf(M,!1)},oe.$set=function(M,Q){var Z,ae=ee.p(M),me="set"+(this.$u?"UTC":""),Me=(Z={},Z[S]=me+"Date",Z[le]=me+"Date",Z[A]=me+"Month",Z[W]=me+"FullYear",Z[g]=me+"Hours",Z[v]=me+"Minutes",Z[p]=me+"Seconds",Z[h]=me+"Milliseconds",Z)[ae],Ue=ae===S?this.$D+(Q-this.$W):Q;if(ae===A||ae===W){var Ne=this.clone().set(le,1);Ne.$d[Me](Ue),Ne.init(),this.$d=Ne.set(le,Math.min(this.$D,Ne.daysInMonth())).$d}else Me&&this.$d[Me](Ue);return this.init(),this},oe.set=function(M,Q){return this.clone().$set(M,Q)},oe.get=function(M){return this[ee.p(M)]()},oe.add=function(M,Q){var Z,ae=this;M=Number(M);var me=ee.p(Q),Me=function(Fe){var rt=be(ae);return ee.w(rt.date(rt.date()+Math.round(Fe*M)),ae)};if(me===A)return this.set(A,this.$M+M);if(me===W)return this.set(W,this.$y+M);if(me===S)return Me(1);if(me===x)return Me(7);var Ue=(Z={},Z[v]=a,Z[g]=o,Z[p]=r,Z)[me]||1,Ne=this.$d.getTime()+M*Ue;return ee.w(Ne,this)},oe.subtract=function(M,Q){return this.add(-1*M,Q)},oe.format=function(M){var Q=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||xe;var ae=M||"YYYY-MM-DDTHH:mm:ssZ",me=ee.z(this),Me=this.$H,Ue=this.$m,Ne=this.$M,Fe=Z.weekdays,rt=Z.months,At=Z.meridiem,Xt=function(Ot,kt,Ke,Zt){return Ot&&(Ot[kt]||Ot(Q,ae))||Ke[kt].slice(0,Zt)},Dn=function(Ot){return ee.s(Me%12||12,Ot,"0")},Ae=At||function(Ot,kt,Ke){var Zt=Ot<12?"AM":"PM";return Ke?Zt.toLowerCase():Zt};return ae.replace(Le,function(Ot,kt){return kt||function(Ke){switch(Ke){case"YY":return String(Q.$y).slice(-2);case"YYYY":return ee.s(Q.$y,4,"0");case"M":return Ne+1;case"MM":return ee.s(Ne+1,2,"0");case"MMM":return Xt(Z.monthsShort,Ne,rt,3);case"MMMM":return Xt(rt,Ne);case"D":return Q.$D;case"DD":return ee.s(Q.$D,2,"0");case"d":return String(Q.$W);case"dd":return Xt(Z.weekdaysMin,Q.$W,Fe,2);case"ddd":return Xt(Z.weekdaysShort,Q.$W,Fe,3);case"dddd":return Fe[Q.$W];case"H":return String(Me);case"HH":return ee.s(Me,2,"0");case"h":return Dn(1);case"hh":return Dn(2);case"a":return Ae(Me,Ue,!0);case"A":return Ae(Me,Ue,!1);case"m":return String(Ue);case"mm":return ee.s(Ue,2,"0");case"s":return String(Q.$s);case"ss":return ee.s(Q.$s,2,"0");case"SSS":return ee.s(Q.$ms,3,"0");case"Z":return me}return null}(Ot)||me.replace(":","")})},oe.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},oe.diff=function(M,Q,Z){var ae,me=this,Me=ee.p(Q),Ue=be(M),Ne=(Ue.utcOffset()-this.utcOffset())*a,Fe=this-Ue,rt=function(){return ee.m(me,Ue)};switch(Me){case W:ae=rt()/12;break;case A:ae=rt();break;case z:ae=rt()/3;break;case x:ae=(Fe-Ne)/6048e5;break;case S:ae=(Fe-Ne)/864e5;break;case g:ae=Fe/o;break;case v:ae=Fe/a;break;case p:ae=Fe/r;break;default:ae=Fe}return Z?ae:ee.a(ae)},oe.daysInMonth=function(){return this.endOf(A).$D},oe.$locale=function(){return H[this.$L]},oe.locale=function(M,Q){if(!M)return this.$L;var Z=this.clone(),ae=fe(M,Q,!0);return ae&&(Z.$L=ae),Z},oe.clone=function(){return ee.w(this.$d,this)},oe.toDate=function(){return new Date(this.valueOf())},oe.toJSON=function(){return this.isValid()?this.toISOString():null},oe.toISOString=function(){return this.$d.toISOString()},oe.toString=function(){return this.$d.toUTCString()},ce}(),re=Oe.prototype;return be.prototype=re,[["$ms",h],["$s",p],["$m",v],["$H",g],["$W",S],["$M",A],["$y",W],["$D",le]].forEach(function(ce){re[ce[1]]=function(oe){return this.$g(oe,ce[0],ce[1])}}),be.extend=function(ce,oe){return ce.$i||(ce(oe,Oe,be),ce.$i=!0),be},be.locale=fe,be.isDayjs=ge,be.unix=function(ce){return be(1e3*ce)},be.en=H[we],be.Ls=H,be.p={},be})}(vc)),vc.exports}var jx=zx();const an=ha(jx);var gc={exports:{}},Bx=gc.exports,yg;function qx(){return yg||(yg=1,function(s,n){(function(r,a){s.exports=a()})(Bx,function(){var r="week",a="year";return function(o,h,p){var v=h.prototype;v.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var S=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var x=p(this).startOf(a).add(1,a).date(S),A=p(this).endOf(r);if(x.isBefore(A))return 1}var z=p(this).startOf(a).date(S).startOf(r).subtract(1,"millisecond"),W=this.diff(z,r,!0);return W<0?p(this).startOf("week").week():Math.ceil(W)},v.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})}(gc)),gc.exports}var Ix=qx();const Hx=ha(Ix);var _c={exports:{}},Yx=_c.exports,vg;function $x(){return vg||(vg=1,function(s,n){(function(r,a){s.exports=a()})(Yx,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,h=/\d\d/,p=/\d\d?/,v=/\d*[^-_:/,()\s\d]+/,g={},S=function(ve){return(ve=+ve)+(ve>68?1900:2e3)},x=function(ve){return function(Le){this[ve]=+Le}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(ve){(this.zone||(this.zone={})).offset=function(Le){if(!Le||Le==="Z")return 0;var He=Le.match(/([+-]|\d\d)/g),Ce=60*He[1]+(+He[2]||0);return Ce===0?0:He[0]==="+"?-Ce:Ce}(ve)}],z=function(ve){var Le=g[ve];return Le&&(Le.indexOf?Le:Le.s.concat(Le.f))},W=function(ve,Le){var He,Ce=g.meridiem;if(Ce){for(var Ge=1;Ge<=24;Ge+=1)if(ve.indexOf(Ce(Ge,0,Le))>-1){He=Ge>12;break}}else He=ve===(Le?"pm":"PM");return He},le={A:[v,function(ve){this.afternoon=W(ve,!1)}],a:[v,function(ve){this.afternoon=W(ve,!0)}],Q:[o,function(ve){this.month=3*(ve-1)+1}],S:[o,function(ve){this.milliseconds=100*+ve}],SS:[h,function(ve){this.milliseconds=10*+ve}],SSS:[/\d{3}/,function(ve){this.milliseconds=+ve}],s:[p,x("seconds")],ss:[p,x("seconds")],m:[p,x("minutes")],mm:[p,x("minutes")],H:[p,x("hours")],h:[p,x("hours")],HH:[p,x("hours")],hh:[p,x("hours")],D:[p,x("day")],DD:[h,x("day")],Do:[v,function(ve){var Le=g.ordinal,He=ve.match(/\d+/);if(this.day=He[0],Le)for(var Ce=1;Ce<=31;Ce+=1)Le(Ce).replace(/\[|\]/g,"")===ve&&(this.day=Ce)}],w:[p,x("week")],ww:[h,x("week")],M:[p,x("month")],MM:[h,x("month")],MMM:[v,function(ve){var Le=z("months"),He=(z("monthsShort")||Le.map(function(Ce){return Ce.slice(0,3)})).indexOf(ve)+1;if(He<1)throw new Error;this.month=He%12||He}],MMMM:[v,function(ve){var Le=z("months").indexOf(ve)+1;if(Le<1)throw new Error;this.month=Le%12||Le}],Y:[/[+-]?\d+/,x("year")],YY:[h,function(ve){this.year=S(ve)}],YYYY:[/\d{4}/,x("year")],Z:A,ZZ:A};function xe(ve){var Le,He;Le=ve,He=g&&g.formats;for(var Ce=(ve=Le.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(be,ee,Oe){var re=Oe&&Oe.toUpperCase();return ee||He[Oe]||r[Oe]||He[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ce,oe,M){return oe||M.slice(1)})})).match(a),Ge=Ce.length,we=0;we<Ge;we+=1){var H=Ce[we],J=le[H],ge=J&&J[0],fe=J&&J[1];Ce[we]=fe?{regex:ge,parser:fe}:H.replace(/^\[|\]$/g,"")}return function(be){for(var ee={},Oe=0,re=0;Oe<Ge;Oe+=1){var ce=Ce[Oe];if(typeof ce=="string")re+=ce.length;else{var oe=ce.regex,M=ce.parser,Q=be.slice(re),Z=oe.exec(Q)[0];M.call(ee,Z),be=be.replace(Z,"")}}return function(ae){var me=ae.afternoon;if(me!==void 0){var Me=ae.hours;me?Me<12&&(ae.hours+=12):Me===12&&(ae.hours=0),delete ae.afternoon}}(ee),ee}}return function(ve,Le,He){He.p.customParseFormat=!0,ve&&ve.parseTwoDigitYear&&(S=ve.parseTwoDigitYear);var Ce=Le.prototype,Ge=Ce.parse;Ce.parse=function(we){var H=we.date,J=we.utc,ge=we.args;this.$u=J;var fe=ge[1];if(typeof fe=="string"){var be=ge[2]===!0,ee=ge[3]===!0,Oe=be||ee,re=ge[2];ee&&(re=ge[2]),g=this.$locale(),!be&&re&&(g=He.Ls[re]),this.$d=function(Q,Z,ae,me){try{if(["x","X"].indexOf(Z)>-1)return new Date((Z==="X"?1e3:1)*Q);var Me=xe(Z)(Q),Ue=Me.year,Ne=Me.month,Fe=Me.day,rt=Me.hours,At=Me.minutes,Xt=Me.seconds,Dn=Me.milliseconds,Ae=Me.zone,Ot=Me.week,kt=new Date,Ke=Fe||(Ue||Ne?1:kt.getDate()),Zt=Ue||kt.getFullYear(),_i=0;Ue&&!Ne||(_i=Ne>0?Ne-1:kt.getMonth());var Mn,ma=rt||0,mn=At||0,ya=Xt||0,br=Dn||0;return Ae?new Date(Date.UTC(Zt,_i,Ke,ma,mn,ya,br+60*Ae.offset*1e3)):ae?new Date(Date.UTC(Zt,_i,Ke,ma,mn,ya,br)):(Mn=new Date(Zt,_i,Ke,ma,mn,ya,br),Ot&&(Mn=me(Mn).week(Ot).toDate()),Mn)}catch{return new Date("")}}(H,fe,J,He),this.init(),re&&re!==!0&&(this.$L=this.locale(re).$L),Oe&&H!=this.format(fe)&&(this.$d=new Date("")),g={}}else if(fe instanceof Array)for(var ce=fe.length,oe=1;oe<=ce;oe+=1){ge[1]=fe[oe-1];var M=He.apply(this,ge);if(M.isValid()){this.$d=M.$d,this.$L=M.$L,this.init();break}oe===ce&&(this.$d=new Date(""))}else Ge.call(this,we)}}})}(_c)),_c.exports}var Px=$x();const Vx=ha(Px);var bc={exports:{}},Fx=bc.exports,gg;function Kx(){return gg||(gg=1,function(s,n){(function(r,a){s.exports=a()})(Fx,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,o,h){var p=o.prototype,v=p.format;h.en.formats=r,p.format=function(g){g===void 0&&(g="YYYY-MM-DDTHH:mm:ssZ");var S=this.$locale().formats,x=function(A,z){return A.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(W,le,xe){var ve=xe&&xe.toUpperCase();return le||z[xe]||r[xe]||z[ve].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Le,He,Ce){return He||Ce.slice(1)})})}(g,S===void 0?{}:S);return v.call(this,x)}}})}(bc)),bc.exports}var Gx=Kx();const Qx=ha(Gx);var Sc={exports:{}},Xx=Sc.exports,_g;function Zx(){return _g||(_g=1,function(s,n){(function(r,a){s.exports=a()})(Xx,function(){return function(r,a,o){a.prototype.isBetween=function(h,p,v,g){var S=o(h),x=o(p),A=(g=g||"()")[0]==="(",z=g[1]===")";return(A?this.isAfter(S,v):!this.isBefore(S,v))&&(z?this.isBefore(x,v):!this.isAfter(x,v))||(A?this.isBefore(S,v):!this.isAfter(S,v))&&(z?this.isAfter(x,v):!this.isBefore(x,v))}}})}(Sc)),Sc.exports}var Wx=Zx();const Jx=ha(Wx);var Ec={exports:{}},eC=Ec.exports,bg;function tC(){return bg||(bg=1,function(s,n){(function(r,a){s.exports=a()})(eC,function(){return function(r,a){var o=a.prototype,h=o.format;o.format=function(p){var v=this,g=this.$locale();if(!this.isValid())return h.bind(this)(p);var S=this.$utils(),x=(p||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(A){switch(A){case"Q":return Math.ceil((v.$M+1)/3);case"Do":return g.ordinal(v.$D);case"gggg":return v.weekYear();case"GGGG":return v.isoWeekYear();case"wo":return g.ordinal(v.week(),"W");case"w":case"ww":return S.s(v.week(),A==="w"?1:2,"0");case"W":case"WW":return S.s(v.isoWeek(),A==="W"?1:2,"0");case"k":case"kk":return S.s(String(v.$H===0?24:v.$H),A==="k"?1:2,"0");case"X":return Math.floor(v.$d.getTime()/1e3);case"x":return v.$d.getTime();case"z":return"["+v.offsetName()+"]";case"zzz":return"["+v.offsetName("long")+"]";default:return A}});return h.bind(this)(x)}}})}(Ec)),Ec.exports}var nC=tC();const iC=ha(nC);an.extend(Qx);an.extend(Hx);an.extend(Jx);an.extend(iC);const rC={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},aC={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},ad=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Sg=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),sC=(s,n)=>n?(...r)=>s(...r).locale(n):s;class lC{constructor({locale:n,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=rC,this.setLocaleToValue=a=>{const o=this.getCurrentLocaleCode();return o===a.locale()?a:a.locale(o)},this.hasUTCPlugin=()=>typeof an.utc<"u",this.hasTimezonePlugin=()=>typeof an.tz<"u",this.isSame=(a,o,h)=>{const p=this.setTimezone(o,this.getTimezone(a));return a.format(h)===p.format(h)},this.cleanTimezone=a=>{switch(a){case"default":return;case"system":return an.tz.guess();default:return a}},this.createSystemDate=a=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=an.tz.guess();return o!=="UTC"?an.tz(a,o):an(a)}return an(a)},this.createUTCDate=a=>{if(!this.hasUTCPlugin())throw new Error(ad);return an.utc(a)},this.createTZDate=(a,o)=>{if(!this.hasUTCPlugin())throw new Error(ad);if(!this.hasTimezonePlugin())throw new Error(Sg);const h=a!==void 0&&!a.endsWith("Z");return an(a).tz(this.cleanTimezone(o),h)},this.getLocaleFormats=()=>{const a=an.Ls,o=this.locale||"en";let h=a[o];return h===void 0&&(h=a.en),h.formats},this.adjustOffset=a=>{if(!this.hasTimezonePlugin())return a;const o=this.getTimezone(a);if(o!=="UTC"){const h=a.tz(this.cleanTimezone(o),!0);if(h.$offset===(a.$offset??0))return a;a.$offset=h.$offset}return a},this.date=(a,o="default")=>{if(a===null)return null;let h;return o==="UTC"?h=this.createUTCDate(a):o==="system"||o==="default"&&!this.hasTimezonePlugin()?h=this.createSystemDate(a):h=this.createTZDate(a,o),this.locale===void 0?h:h.locale(this.locale)},this.getInvalidDate=()=>an(new Date("Invalid date")),this.getTimezone=a=>{var o;if(this.hasTimezonePlugin()){const h=(o=a.$x)==null?void 0:o.$timezone;if(h)return h}return this.hasUTCPlugin()&&a.isUTC()?"UTC":"system"},this.setTimezone=(a,o)=>{if(this.getTimezone(a)===o)return a;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(ad);return a.utc()}if(o==="system")return a.local();if(!this.hasTimezonePlugin()){if(o==="default")return a;throw new Error(Sg)}return an.tz(a,this.cleanTimezone(o))},this.toJsDate=a=>a.toDate(),this.parse=(a,o)=>a===""?null:this.dayjs(a,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=a=>{const o=this.getLocaleFormats(),h=p=>p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(v,g,S)=>g||S.slice(1));return a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(p,v,g)=>{const S=g&&g.toUpperCase();return v||o[g]||h(o[S])})},this.isValid=a=>a==null?!1:a.isValid(),this.format=(a,o)=>this.formatByString(a,this.formats[o]),this.formatByString=(a,o)=>this.dayjs(a).format(o),this.formatNumber=a=>a,this.isEqual=(a,o)=>a===null&&o===null?!0:a===null||o===null?!1:a.toDate().getTime()===o.toDate().getTime(),this.isSameYear=(a,o)=>this.isSame(a,o,"YYYY"),this.isSameMonth=(a,o)=>this.isSame(a,o,"YYYY-MM"),this.isSameDay=(a,o)=>this.isSame(a,o,"YYYY-MM-DD"),this.isSameHour=(a,o)=>a.isSame(o,"hour"),this.isAfter=(a,o)=>a>o,this.isAfterYear=(a,o)=>this.hasUTCPlugin()?!this.isSameYear(a,o)&&a.utc()>o.utc():a.isAfter(o,"year"),this.isAfterDay=(a,o)=>this.hasUTCPlugin()?!this.isSameDay(a,o)&&a.utc()>o.utc():a.isAfter(o,"day"),this.isBefore=(a,o)=>a<o,this.isBeforeYear=(a,o)=>this.hasUTCPlugin()?!this.isSameYear(a,o)&&a.utc()<o.utc():a.isBefore(o,"year"),this.isBeforeDay=(a,o)=>this.hasUTCPlugin()?!this.isSameDay(a,o)&&a.utc()<o.utc():a.isBefore(o,"day"),this.isWithinRange=(a,[o,h])=>a>=o&&a<=h,this.startOfYear=a=>this.adjustOffset(a.startOf("year")),this.startOfMonth=a=>this.adjustOffset(a.startOf("month")),this.startOfWeek=a=>this.adjustOffset(this.setLocaleToValue(a).startOf("week")),this.startOfDay=a=>this.adjustOffset(a.startOf("day")),this.endOfYear=a=>this.adjustOffset(a.endOf("year")),this.endOfMonth=a=>this.adjustOffset(a.endOf("month")),this.endOfWeek=a=>this.adjustOffset(this.setLocaleToValue(a).endOf("week")),this.endOfDay=a=>this.adjustOffset(a.endOf("day")),this.addYears=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"year"):a.add(o,"year")),this.addMonths=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"month"):a.add(o,"month")),this.addWeeks=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"week"):a.add(o,"week")),this.addDays=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"day"):a.add(o,"day")),this.addHours=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"hour"):a.add(o,"hour")),this.addMinutes=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"minute"):a.add(o,"minute")),this.addSeconds=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"second"):a.add(o,"second")),this.getYear=a=>a.year(),this.getMonth=a=>a.month(),this.getDate=a=>a.date(),this.getHours=a=>a.hour(),this.getMinutes=a=>a.minute(),this.getSeconds=a=>a.second(),this.getMilliseconds=a=>a.millisecond(),this.setYear=(a,o)=>this.adjustOffset(a.set("year",o)),this.setMonth=(a,o)=>this.adjustOffset(a.set("month",o)),this.setDate=(a,o)=>this.adjustOffset(a.set("date",o)),this.setHours=(a,o)=>this.adjustOffset(a.set("hour",o)),this.setMinutes=(a,o)=>this.adjustOffset(a.set("minute",o)),this.setSeconds=(a,o)=>this.adjustOffset(a.set("second",o)),this.setMilliseconds=(a,o)=>this.adjustOffset(a.set("millisecond",o)),this.getDaysInMonth=a=>a.daysInMonth(),this.getWeekArray=a=>{const o=this.startOfWeek(this.startOfMonth(a)),h=this.endOfWeek(this.endOfMonth(a));let p=0,v=o;const g=[];for(;v<h;){const S=Math.floor(p/7);g[S]=g[S]||[],g[S].push(v),v=this.addDays(v,1),p+=1}return g},this.getWeekNumber=a=>a.week(),this.getYearRange=([a,o])=>{const h=this.startOfYear(a),p=this.endOfYear(o),v=[];let g=h;for(;this.isBefore(g,p);)v.push(g),g=this.addYears(g,1);return v},this.dayjs=sC(an,n),this.locale=n,this.formats=Dg({},aC,r),an.extend(Vx)}getDayOfWeek(n){return n.day()+1}}function oC(s){return s.sort((n,r)=>n.timestamp.toDate().getTime()-r.timestamp.toDate().getTime())}function tf(s){return JSON.parse(JSON.stringify(s)).reverse()}function wA(s,n){return tf(s).find(r=>r.type===n)}function xA(s,n,r="ASC"){let a=tf(s);return r==="DESC"&&(a=a.reverse()),a.filter(o=>o.type===n)}function CA(s,n){return tf(s).find(n)}function AA(s){return tf(s)[0]}const uC=at.createContext(void 0);function cC(s){const[n,r]=at.useState([]),[a,o]=at.useState(!0),{id:h}=Cd();at.useEffect(()=>(o(!0),px(h,g=>{const S=oC(g);r(S),o(!1)})),[h]);const p={messages:n,isLoading:a};return ot.jsx(uC.Provider,{value:p,...s})}const fC=at.createContext(void 0);function hC(s){const{id:n}=Cd(),[r,a]=at.useState({});at.useEffect(()=>{cx(n,h=>a(h),r)},[n]);const o=at.useMemo(()=>({onlineUsers:r}),[r]);return ot.jsx(fC.Provider,{value:o,...s})}const dC=at.createContext(void 0);function pC(s){const[n,r]=at.useState([]);at.useEffect(()=>{mx(o=>r(o))},[]);const a=at.useMemo(()=>({schedule:n,addToSchedule:yx}),[n]);return ot.jsx(dC.Provider,{value:a,...s})}let xd=Vb({palette:{mode:"dark",background:{default:"#0f172a",paper:"#1e293b"},text:{primary:"#f8fafc",secondary:"#cbd5e1"},divider:"rgba(148, 163, 184, 0.12)",error:{main:"#b91c1c"},warning:{main:"#b45309"},info:{main:"#1d4ed8"},success:{main:"#047857"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:700,letterSpacing:"-0.025em"},h2:{fontWeight:700,letterSpacing:"-0.025em"},h3:{fontWeight:600,letterSpacing:"-0.025em"},h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600},button:{fontWeight:500,textTransform:"none"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 16px",transition:"all 0.2s ease-in-out"},contained:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",background:"rgb(75, 75, 75, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-4px)",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"}}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"},elevation1:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"},elevation2:{boxShadow:"0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)"},elevation4:{boxShadow:"0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.1)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{borderColor:"#4f46e5"},"&.Mui-focused":{boxShadow:"0 0 0 2px rgba(79, 70, 229, 0.2)"}}}}},MuiCssBaseline:{styleOverrides:{body:{scrollbarWidth:"thin",scrollbarColor:"#4b5563 #1f2937","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#1f2937"},"&::-webkit-scrollbar-thumb":{background:"#4b5563",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#6b7280"}}}}}});xd=Fb(xd);const mC=xd,g0={label:"English",voice:"Google UK English Male"},_0={label:"Espaol",voice:"Google espaol de Estados Unidos"},b0={label:"Franaise",voice:"Google franais"},S0={en:g0,es:_0,fr:b0},yC=Object.freeze(Object.defineProperty({__proto__:null,default:S0,en:g0,es:_0,fr:b0},Symbol.toStringTag,{value:"Module"}));async function vC(s="en",n="online"){var o;const r={},a=Object.assign({"../locales/en/local/alcohol.json":()=>ue(()=>import("./alcohol-BZAf2NTg.js"),[]),"../locales/en/local/ballBusting.json":()=>ue(()=>import("./ballBusting-CBS8OiZP.js"),[]),"../locales/en/local/bating.json":()=>ue(()=>import("./bating-D52K66Lu.js"),[]),"../locales/en/local/bondage.json":()=>ue(()=>import("./bondage-LgAIGueK.js"),[]),"../locales/en/local/breathPlay.json":()=>ue(()=>import("./breathPlay-CRzY7428.js"),[]),"../locales/en/local/buttPlay.json":()=>ue(()=>import("./buttPlay-CWeeoMp5.js"),[]),"../locales/en/local/electric.json":()=>ue(()=>import("./electric-Bk_TXWk-.js"),[]),"../locales/en/local/footPlay.json":()=>ue(()=>import("./footPlay-DD_Xn9fn.js"),[]),"../locales/en/local/gasMask.json":()=>ue(()=>import("./gasMask-Cu6WbYgI.js"),[]),"../locales/en/local/humiliation.json":()=>ue(()=>import("./humiliation-D38KZgue.js"),[]),"../locales/en/local/kissing.json":()=>ue(()=>import("./kissing-DW0pyV1M.js"),[]),"../locales/en/local/pissPlay.json":()=>ue(()=>import("./pissPlay-hDj3RXB4.js"),[]),"../locales/en/local/poppers.json":()=>ue(()=>import("./poppers-DPi1vlVq.js"),[]),"../locales/en/local/spanking.json":()=>ue(()=>import("./spanking-D5ucvdnf.js"),[]),"../locales/en/local/throatTraining.json":()=>ue(()=>import("./throatTraining-C66R2Ubj.js"),[]),"../locales/en/local/tickling.json":()=>ue(()=>import("./tickling-aQu3phvV.js"),[]),"../locales/en/local/titTorture.json":()=>ue(()=>import("./titTorture-B-5XIvPm.js"),[]),"../locales/en/local/vaping.json":()=>ue(()=>import("./vaping-Cw_EBTDr.js"),[]),"../locales/en/online/alcohol.json":()=>ue(()=>import("./alcohol-mxUDnrw5.js"),[]),"../locales/en/online/ballBusting.json":()=>ue(()=>import("./ballBusting-BtcwXD0u.js"),[]),"../locales/en/online/bating.json":()=>ue(()=>import("./bating-DlWklRCC.js"),[]),"../locales/en/online/buttPlay.json":()=>ue(()=>import("./buttPlay-DNlSUs1v.js"),[]),"../locales/en/online/gasMask.json":()=>ue(()=>import("./gasMask-CF8uPBF1.js"),[]),"../locales/en/online/pissPlay.json":()=>ue(()=>import("./pissPlay-D6UuWU9w.js"),[]),"../locales/en/online/poppers.json":()=>ue(()=>import("./poppers-DYE8WgUc.js"),[]),"../locales/en/online/throatTraining.json":()=>ue(()=>import("./throatTraining-CYz7x0-j.js"),[]),"../locales/en/online/titTorture.json":()=>ue(()=>import("./titTorture-VJd7QlDN.js"),[]),"../locales/en/online/vaping.json":()=>ue(()=>import("./vaping-Cn6qK-lN.js"),[]),"../locales/en/translation.json":()=>ue(()=>import("./translation-DY8OiNqY.js"),[]),"../locales/es/local/alcohol.json":()=>ue(()=>import("./alcohol-eOgMZGYI.js"),[]),"../locales/es/local/ballBusting.json":()=>ue(()=>import("./ballBusting-DMROHcXY.js"),[]),"../locales/es/local/bating.json":()=>ue(()=>import("./bating-BIyhCVw0.js"),[]),"../locales/es/local/bondage.json":()=>ue(()=>import("./bondage-cr6DtteZ.js"),[]),"../locales/es/local/breathPlay.json":()=>ue(()=>import("./breathPlay-BURg9OP8.js"),[]),"../locales/es/local/buttPlay.json":()=>ue(()=>import("./buttPlay-DdmCLMQT.js"),[]),"../locales/es/local/footPlay.json":()=>ue(()=>import("./footPlay-hFWj95hS.js"),[]),"../locales/es/local/gasMask.json":()=>ue(()=>import("./gasMask-Bcj5DoFi.js"),[]),"../locales/es/local/humiliation.json":()=>ue(()=>import("./humiliation-na7zWeaI.js"),[]),"../locales/es/local/kissing.json":()=>ue(()=>import("./kissing-CB0VP-KF.js"),[]),"../locales/es/local/pissPlay.json":()=>ue(()=>import("./pissPlay-UsPgHpnt.js"),[]),"../locales/es/local/poppers.json":()=>ue(()=>import("./poppers-hlv7QJE8.js"),[]),"../locales/es/local/spanking.json":()=>ue(()=>import("./spanking-B_mbCmIM.js"),[]),"../locales/es/local/throatTraining.json":()=>ue(()=>import("./throatTraining-DgC8UUt0.js"),[]),"../locales/es/local/tickling.json":()=>ue(()=>import("./tickling-3eKqnoqT.js"),[]),"../locales/es/local/titTorture.json":()=>ue(()=>import("./titTorture-CmAbVlnl.js"),[]),"../locales/es/local/vaping.json":()=>ue(()=>import("./vaping-sEIHH7E5.js"),[]),"../locales/es/online/alcohol.json":()=>ue(()=>import("./alcohol-DHOb8-kr.js"),[]),"../locales/es/online/ballBusting.json":()=>ue(()=>import("./ballBusting-CYCdXDgZ.js"),[]),"../locales/es/online/bating.json":()=>ue(()=>import("./bating-C_-18RGA.js"),[]),"../locales/es/online/buttPlay.json":()=>ue(()=>import("./buttPlay-C4FATzM0.js"),[]),"../locales/es/online/gasMask.json":()=>ue(()=>import("./gasMask-C0h9kj6-.js"),[]),"../locales/es/online/pissPlay.json":()=>ue(()=>import("./pissPlay-Q45xwfeM.js"),[]),"../locales/es/online/poppers.json":()=>ue(()=>import("./poppers-DdRKJtxh.js"),[]),"../locales/es/online/throatTraining.json":()=>ue(()=>import("./throatTraining-UnffRU_V.js"),[]),"../locales/es/online/titTorture.json":()=>ue(()=>import("./titTorture-CrPrYCYf.js"),[]),"../locales/es/online/vaping.json":()=>ue(()=>import("./vaping-BRzgwyKs.js"),[]),"../locales/es/translation.json":()=>ue(()=>import("./translation-VBnZDXE-.js"),[]),"../locales/fr/local/alcohol.json":()=>ue(()=>import("./alcohol-C70_emWC.js"),[]),"../locales/fr/local/ballBusting.json":()=>ue(()=>import("./ballBusting-M8cUQ9qV.js"),[]),"../locales/fr/local/bating.json":()=>ue(()=>import("./bating-BYM-GDc-.js"),[]),"../locales/fr/local/bondage.json":()=>ue(()=>import("./bondage-DzQhYNpa.js"),[]),"../locales/fr/local/breathPlay.json":()=>ue(()=>import("./breathPlay-DKOcasfb.js"),[]),"../locales/fr/local/buttPlay.json":()=>ue(()=>import("./buttPlay-D5GsOhtK.js"),[]),"../locales/fr/local/electric.json":()=>ue(()=>import("./electric-DuoRN1_a.js"),[]),"../locales/fr/local/footPlay.json":()=>ue(()=>import("./footPlay-CQmZIGLH.js"),[]),"../locales/fr/local/humiliation.json":()=>ue(()=>import("./humiliation-CSr078q2.js"),[]),"../locales/fr/local/kissing.json":()=>ue(()=>import("./kissing-CKHo9oqj.js"),[]),"../locales/fr/local/pissPlay.json":()=>ue(()=>import("./pissPlay-CmhfVL8I.js"),[]),"../locales/fr/local/poppers.json":()=>ue(()=>import("./poppers-B30bn8dw.js"),[]),"../locales/fr/local/spanking.json":()=>ue(()=>import("./spanking-D5Brjlga.js"),[]),"../locales/fr/local/throatTraining.json":()=>ue(()=>import("./throatTraining-C5pM1N0y.js"),[]),"../locales/fr/local/tickling.json":()=>ue(()=>import("./tickling-BIx4hqsq.js"),[]),"../locales/fr/local/titTorture.json":()=>ue(()=>import("./titTorture-CsVRpiYC.js"),[]),"../locales/fr/local/vaping.json":()=>ue(()=>import("./vaping-BKBmcz9l.js"),[]),"../locales/fr/online/alcohol.json":()=>ue(()=>import("./alcohol-Dc380shx.js"),[]),"../locales/fr/online/ballBusting.json":()=>ue(()=>import("./ballBusting-4gGsUFBf.js"),[]),"../locales/fr/online/bating.json":()=>ue(()=>import("./bating-UlGM_QXh.js"),[]),"../locales/fr/online/buttPlay.json":()=>ue(()=>import("./buttPlay-CKK7cdVw.js"),[]),"../locales/fr/online/gasMask.json":()=>ue(()=>import("./gasMask-DCZ-6Sqx.js"),[]),"../locales/fr/online/pissPlay.json":()=>ue(()=>import("./pissPlay-uXhaE7LP.js"),[]),"../locales/fr/online/poppers.json":()=>ue(()=>import("./poppers-Ciaf_5HC.js"),[]),"../locales/fr/online/throatTraining.json":()=>ue(()=>import("./throatTraining-dt4emaCF.js"),[]),"../locales/fr/online/titTorture.json":()=>ue(()=>import("./titTorture-DuMCmKhS.js"),[]),"../locales/fr/online/vaping.json":()=>ue(()=>import("./vaping-VGay9Awe.js"),[]),"../locales/fr/translation.json":()=>ue(()=>import("./translation-6VeIus1i.js"),[]),"../locales/languages.json":()=>ue(()=>Promise.resolve().then(()=>yC),void 0)});for(const h in a)if(h.startsWith(`../locales/${s}/${n}/`)){const p=((o=h.split("/").pop())==null?void 0:o.replace(".json",""))||"";p&&(r[p]=await a[h]())}return r}const OA=S0,{customTiles:E0}=Wa,Oo={online:!1,local:!1};function gC(s,n="en",r="online"){const a=[];return Object.entries(s).forEach(([o,h])=>{!h.actions||Object.keys(h.actions).length===0||Object.entries(h.actions).forEach(([p,v],g)=>{!v||v.length===0||v.forEach(S=>{a.push({group:o,intensity:g,action:S,isEnabled:1,tags:[q1("default","Default")],gameMode:r,isCustom:0,locale:n})})})}),a}function _C(s,n,r){return!Array.isArray(s)||s.length===0?!1:s.filter(h=>h.locale===n&&h.gameMode===r&&h.isCustom===0).length>=4}async function bC(s){const n=s||"en",r=["online","local"];try{for(const a of r)if(!Oo[a]){Oo[a]=!0;try{const o=await m0({locale:n,gameMode:a,paginated:!1}),h=Array.isArray(o)?o:[];if(_C(h,n,a))continue;const p=await vC(n,a),v=gC(p,n,a),g=await SC(v,n,a);g.length>0&&await Ex(g)}finally{Oo[a]=!1}}}catch(a){console.error(`Error importing default actions for ${n}:`,a),Oo.online=!1,Oo.local=!1}}async function SC(s,n,r){const a=await E0.where("locale").equals(n).and(h=>h.gameMode===r&&h.isCustom===0).toArray(),o=new Set;return a.forEach(h=>{const p=`${h.group}-${h.intensity}-${h.action}`;o.add(p)}),s.filter(h=>{const p=`${h.group}-${h.intensity}-${h.action}`;return!o.has(p)})}async function Eg(s,n){try{const r=await m0({locale:s,gameMode:n,paginated:!1});if(!Array.isArray(r)||r.length===0)return;const a=r.filter(p=>p.isCustom===0);if(a.length<=1)return;const o=new Map,h=[];if(a.forEach(p=>{const v=`${p.group}-${p.intensity}-${p.action}`;o.has(v)?p.id!==void 0&&h.push(p.id):o.set(v,p.id)}),h.length>0)for(const p of h)await E0.delete(p)}catch(r){console.error(`Error removing duplicate default actions for ${s}/${n}:`,r)}}async function EC(s){await Eg(s,"online"),await Eg(s,"local"),await bC(s)}let fc=null;function TC(s){fc&&clearTimeout(fc),fc=window.setTimeout(()=>{try{EC(s).catch(n=>{console.error("Error during initial default actions import:",n)})}catch(n){console.error("Error during initial default actions import:",n)}fc=null},1e3)}const wC=at.lazy(()=>ue(()=>import("./index-BaBV0p4G.js"),__vite__mapDeps([9,1,2,10,4,11,12,13,3,14,15]))),xC=at.lazy(()=>ue(()=>import("./index-BhZ_N-zB.js"),__vite__mapDeps([16,1,2,17,4,11,18,19,3,20]))),CC=at.lazy(()=>ue(()=>import("./index-CuoQAgDj.js"),__vite__mapDeps([21,1,2,17,4,11,22,10,12,23,24,19,25,18,26,3,27])));function Tg({children:s}){return ot.jsx(hC,{children:ot.jsx(pC,{children:ot.jsx(cC,{children:s})})})}function wg({children:s}){const{id:n}=Cd(),r=t1(),a=n1();return at.useEffect(()=>{if(n&&n!==n.toUpperCase()){const o=a.pathname.replace(n,n.toUpperCase());r(o+a.search+a.hash,{replace:!0})}},[n,r,a]),ot.jsx(ot.Fragment,{children:s})}function AC(){const s=Lx();at.useEffect(()=>(window.authContext=s,()=>{window.authContext=null}),[s]),wc.on("languageChanged",r=>{TC(r)});const n=s.user?ot.jsx(CC,{}):ot.jsx(wC,{});return ot.jsxs(Jb,{children:[ot.jsx(Ph,{path:"/",element:ot.jsx(e1,{replace:!0,to:"/PUBLIC"})}),ot.jsx(Ph,{path:"/:id/cast",element:ot.jsx(wg,{children:ot.jsx(Tg,{children:ot.jsx(at.Suspense,{children:ot.jsx(xC,{})})})})}),ot.jsx(Ph,{path:"/:id",element:ot.jsx(wg,{children:ot.jsx(Tg,{children:ot.jsx(at.Suspense,{children:n})})})})]})}function OC(){return ot.jsxs(Kb,{theme:mC,children:[ot.jsx(Gb,{}),ot.jsx(zS,{dateAdapter:lC,children:ot.jsx(Wb,{children:ot.jsx(AC,{})})})]})}const DC=(s,n,r)=>{const a=s[n];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((o,h)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(h.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var MC=function(n){return{type:"backend",init:function(a,o,h){},read:function(a,o,h){if(typeof n=="function"){if(n.length<3){try{var p=n(a,o);p&&typeof p.then=="function"?p.then(function(v){return h(null,v&&v.default||v)}).catch(h):h(null,p)}catch(v){h(v)}return}n(a,o,h);return}h(null,n&&n[a]&&n[a][o])}}};const{slice:RC,forEach:NC}=[];function kC(s){return NC.call(RC.call(arguments,1),n=>{if(n)for(const r in n)s[r]===void 0&&(s[r]=n[r])}),s}const xg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,LC=function(s,n){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(n);let h=`${s}=${o}`;if(a.maxAge>0){const p=a.maxAge-0;if(Number.isNaN(p))throw new Error("maxAge should be a Number");h+=`; Max-Age=${Math.floor(p)}`}if(a.domain){if(!xg.test(a.domain))throw new TypeError("option domain is invalid");h+=`; Domain=${a.domain}`}if(a.path){if(!xg.test(a.path))throw new TypeError("option path is invalid");h+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(h+="; HttpOnly"),a.secure&&(h+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return h},Cg={create(s,n,r,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),a&&(o.domain=a),document.cookie=LC(s,encodeURIComponent(n),o)},read(s){const n=`${s}=`,r=document.cookie.split(";");for(let a=0;a<r.length;a++){let o=r[a];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove(s){this.create(s,"",-1)}};var UC={name:"cookie",lookup(s){let{lookupCookie:n}=s;if(n&&typeof document<"u")return Cg.read(n)||void 0},cacheUserLanguage(s,n){let{lookupCookie:r,cookieMinutes:a,cookieDomain:o,cookieOptions:h}=n;r&&typeof document<"u"&&Cg.create(r,s,a,o,h)}},zC={name:"querystring",lookup(s){var a;let{lookupQuerystring:n}=s,r;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const p=o.substring(1).split("&");for(let v=0;v<p.length;v++){const g=p[v].indexOf("=");g>0&&p[v].substring(0,g)===n&&(r=p[v].substring(g+1))}}return r}};let Zs=null;const Ag=()=>{if(Zs!==null)return Zs;try{if(Zs=typeof window<"u"&&window.localStorage!==null,!Zs)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Zs=!1}return Zs};var jC={name:"localStorage",lookup(s){let{lookupLocalStorage:n}=s;if(n&&Ag())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupLocalStorage:r}=n;r&&Ag()&&window.localStorage.setItem(r,s)}};let Ws=null;const Og=()=>{if(Ws!==null)return Ws;try{if(Ws=typeof window<"u"&&window.sessionStorage!==null,!Ws)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Ws=!1}return Ws};var BC={name:"sessionStorage",lookup(s){let{lookupSessionStorage:n}=s;if(n&&Og())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupSessionStorage:r}=n;r&&Og()&&window.sessionStorage.setItem(r,s)}},qC={name:"navigator",lookup(s){const n=[];if(typeof navigator<"u"){const{languages:r,userLanguage:a,language:o}=navigator;if(r)for(let h=0;h<r.length;h++)n.push(r[h]);a&&n.push(a),o&&n.push(o)}return n.length>0?n:void 0}},IC={name:"htmlTag",lookup(s){let{htmlTag:n}=s,r;const a=n||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},HC={name:"path",lookup(s){var o;let{lookupFromPathIndex:n}=s;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(o=r[typeof n=="number"?n:0])==null?void 0:o.replace("/",""):void 0}},YC={name:"subdomain",lookup(s){var o,h;let{lookupFromSubdomainIndex:n}=s;const r=typeof n=="number"?n+1:1,a=typeof window<"u"&&((h=(o=window.location)==null?void 0:o.hostname)==null?void 0:h.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[r]}};let T0=!1;try{document.cookie,T0=!0}catch{}const w0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];T0||w0.splice(1,1);const $C=()=>({order:w0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class x0{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,r)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=kC(r,this.options||{},$C()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(UC),this.addDetector(zC),this.addDetector(jC),this.addDetector(BC),this.addDetector(qC),this.addDetector(IC),this.addDetector(HC),this.addDetector(YC)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return n.forEach(a=>{if(this.detectors[a]){let o=this.detectors[a].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),r=r.map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(n,this.options)}))}}x0.type="languageDetector";const PC={fallbackLng:"en",supportedLngs:["en","es","fr"],ns:["translation","errors"],defaultNS:"translation",interpolation:{escapeValue:!1},react:{useSuspense:!0},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],caches:["localStorage","cookie"]}};wc.use(I1).use(x0).use(MC((s,n)=>DC(Object.assign({"./locales/en/translation.json":()=>ue(()=>import("./translation-DY8OiNqY.js"),[]),"./locales/es/translation.json":()=>ue(()=>import("./translation-VBnZDXE-.js"),[]),"./locales/fr/translation.json":()=>ue(()=>import("./translation-6VeIus1i.js"),[])}),`./locales/${s}/${n}.json`,4))).init(PC);const VC=LS.createRoot(document.getElementById("root"));VC.render(ot.jsx(uv.StrictMode,{children:ot.jsx(kx,{children:ot.jsx(uv.Suspense,{children:ot.jsx(OC,{})})})}));OS();export{v0 as A,Tx as B,yA as C,m0 as D,bA as E,_A as F,Ex as G,Z1 as H,p0 as I,wv as J,an as K,zS as L,uC as M,Ax as N,EA as O,TA as P,xx as Q,dC as S,fC as U,ue as _,wA as a,CA as b,SA as c,aA as d,AA as e,eA as f,vA as g,iA as h,vC as i,Ox as j,ax as k,OA as l,sx as m,X1 as n,xA as o,eS as p,JC as q,rx as r,rA as s,ZC as t,Lx as u,WC as v,sA as w,nA as x,tA as y,gA as z};

import{j as a,B as p,b as D,G as s,d as m,e as u,f as k,g as v,L as K,h as T}from"./mui-Bjnq2ocN.js";import{u as P}from"./index-CA7GOAFo.js";import{u as w,a as E,N as G}from"./index-C9M40BR9.js";import{u as U}from"./strings-Bwea5GAd.js";import A from"./languages-KK0t13AM.js";import{u as F,k as M,a as n}from"./vendor-Bf6wU4zJ.js";import q from"./index-Dp1ytBTh.js";import{u as I,T as r}from"./translations-CairTNs2.js";import"./firebase-CsLsfVdN.js";function Y(){const{i18n:o,t:g}=I(),{login:d,user:i}=P(),j=F(),[f]=M(),y=!!f.get("importBoard"),l=j.id??"PUBLIC",N=U(),b=w("sm"),[t,C]=n.useState((i==null?void 0:i.displayName)||""),[x,h]=E("gameSettings",{boardUpdated:!1,roomUpdated:!1,playerDialog:!0,othersDialog:!1,mySound:!0,chatSound:!0,hideBoardActions:!1,locale:"en",gameMode:"online",background:"color",finishRange:[30,70],roomTileCount:40,roomDice:"1d6"}),c=n.useCallback(async e=>{e.preventDefault(),await h({...x,displayName:t,room:l}),await d(t)},[t,d,l,x,h]),L=n.useCallback(async e=>{e.key==="Enter"&&await c(e)},[c]),S=n.useMemo(()=>Object.entries(A).map(([e,B])=>a.jsx(p,{onClick:()=>o.changeLanguage(e),disabled:o.resolvedLanguage===e,children:B.label},e)),[o]);return a.jsxs(a.Fragment,{children:[a.jsx(G,{room:l,playerList:N}),a.jsxs(D,{maxWidth:"sm",sx:{mt:8},children:[a.jsx(s,{container:!0,flexDirection:"column",children:a.jsx(m,{className:"unauthenticated-card",children:a.jsxs(u,{children:[a.jsx("h2",{className:"setup",children:a.jsx(r,{i18nKey:"setup"})}),a.jsxs(k,{component:"form",method:"post",onSubmit:c,className:"settings-box",children:[a.jsx(v,{fullWidth:!0,id:"displayName",label:g("displayName"),value:t,onChange:e=>C(e.target.value),required:!0,autoFocus:!0,onKeyDown:e=>L(e),margin:"normal"}),a.jsx("div",{className:"flex-buttons",children:a.jsx(p,{variant:"contained",type:"submit",children:y?a.jsx(r,{i18nKey:"import"}):a.jsx(r,{i18nKey:"access"})})})]})]})})}),a.jsx(s,{container:!0,sx:{mt:1},children:a.jsx(s,{className:"language",children:a.jsx(m,{className:"unauthenticated-card",children:a.jsxs(u,{className:"translation-card-content",children:[!b&&a.jsx(K,{sx:{mr:1}}),a.jsxs(T,{sx:{mr:1},children:[a.jsx(r,{i18nKey:"language"}),":"]}),S]})})})}),a.jsx(s,{container:!0,sx:{mt:1},children:a.jsx(s,{className:"language",children:a.jsx(m,{className:"unauthenticated-card",children:a.jsx(u,{children:a.jsx(q,{})})})})})]})]})}export{Y as default};

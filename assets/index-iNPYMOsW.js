const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/pwa-action-sheet.entry.js-9KfDw4TJ.js","js/chunk-BoIRgPCP.js","js/chunk-BHSFqGHu.js","js/chunk-DXd3GHw1.js","js/chunk-Bde8qXua.js","js/pwa-camera-modal.entry.js-CiFkDxsA.js","js/pwa-toast.entry.js-DcmHnrIn.js","js/pwa-camera-modal-instance.entry.js-LwF5fVgj.js","js/pwa-camera.entry.js-D6GmIooh.js","js/index.tsx-1wzpvXWL.js","js/chunk-B2YZP62-.js","js/chunk-D5QWNTV5.js","js/chunk-BaJvVaWg.js","js/chunk-C192y7Ui.js","js/chunk-BuXVQPZW.js","js/chunk-BnDmEeUs.js","js/chunk-BQaRRwfD.js","js/chunk-Bp62TkGl.js","js/chunk-Bci0zq1p.js","js/index.tsx-C9o0X81f.js","js/chunk-JK3oC_qz.js","js/chunk-BZoHOHVn.js","js/chunk-elE9Uhv5.js","js/index.tsx-0Gb8yEMT.js","js/chunk-B-GQsBHJ.js","js/chunk-CTMvCc_m.js","js/chunk-B4PEA_xj.js","js/chunk-DgxemKef.js","js/index.tsx-yjkjQdYs.js","js/index.tsx-BIQ16aIU.js","js/index.tsx-B4OvBWN4.js","js/chunk-CNuExR48.js","js/chunk-COV8wOLQ.js","js/chunk-BwXEZKED.js","js/chunk-_XImYCHd.js","js/index.tsx-Dtbnqdvk.js","js/chunk-D030ifrn.js","js/index.tsx-Bcb0bRNt.js","js/chunk-B2EJjyQp.js","js/index.tsx-CsNITus3.js"])))=>i.map(i=>d[i]);
var gb=Object.defineProperty;var _b=(a,t,i)=>t in a?gb(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var Jr=(a,t,i)=>_b(a,typeof t!="symbol"?t+"":t,i);import{_ as yb,u as vb,a as Py,j as pe,c as Eb,r as Tb,F as bb,B as Sb,C as Cb,T as xb,b as Ab,d as wb}from"../js/chunk-BoIRgPCP.js";import{e as Rb,f as Ob,g as Xi,r as re,h as Db,d as Mb,u as rh,B as Nb,i as Lb,j as yf,N as Ub,k as Ib,l as kb,a as Qg}from"../js/chunk-BHSFqGHu.js";import{L as zb,a as G,_ as Hy,C as $y,r as mo,s as at,j as oh,c as pn,b as Ws,m as go,d as jb,S as Vb,e as Pb,f as Nl,g as Js,h as By,i as Hb,D as hi,q as $b,k as Bb,l as qb,n as jf,o as qy,p as Yb,t as Zi,u as Fb,v as Vo,w as Gb,x as Qb,y as Kb,z as Xb,A as Zb,B as Wb,E as Jb,F as Yy,G as eS,H as tS,I as Fy,J as nS,K as iS,M as Gy,N as mt,O as Po,P as In,Q as sS,R as aS,T as sa,U as Qy,V as lS,W as rS,X as oS,Y as uS,Z as uh,$ as El,a0 as Tl,a1 as cS,a2 as fS,a3 as hS,a4 as dS,a5 as pS,a6 as mS,a7 as gS,a8 as _S,a9 as _o,aa as yo,ab as Ky,ac as Xy,ad as ch}from"../js/chunk-Bde8qXua.js";import{D as yS,n as fh,r as vS,a as hh}from"../js/chunk-DXd3GHw1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();const ES="modulepreload",TS=function(a){return"/"+a},Kg={},b=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){let p=function(m){return Promise.all(m.map(_=>Promise.resolve(_).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=f?.nonce||f?.getAttribute("nonce");r=p(i.map(m=>{if(m=TS(m),m in Kg)return;Kg[m]=!0;const _=m.endsWith(".css"),y=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":ES,_||(E.as="script"),E.crossOrigin="",E.href=m,d&&E.setAttribute("nonce",d),document.head.appendChild(E),_)return new Promise((C,A)=>{E.addEventListener("load",C),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return r.then(f=>{for(const d of f||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};var bS=function(){var a=function(t,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=r[u])},a(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");a(t,i);function s(){this.constructor=t}t.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),Zy=function(a,t,i,s){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(_){try{m(s.next(_))}catch(y){f(y)}}function p(_){try{m(s.throw(_))}catch(y){f(y)}}function m(_){_.done?u(_.value):r(_.value).then(d,p)}m((s=s.apply(a,t||[])).next())})},Wy=function(a,t){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,r,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(m){return function(_){return p([m,_])}}function p(m){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,m[0]&&(i=0)),i;)try{if(s=1,r&&(u=m[0]&2?r.return:m[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,m[1])).done)return u;switch(r=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,r=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){i.label=m[1];break}if(m[0]===6&&i.label<u[1]){i.label=u[1],u=m;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(m);break}u[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(a,i)}catch(_){m=[6,_],r=0}finally{s=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Xg=function(a,t,i){if(i||arguments.length===2)for(var s=0,r=t.length,u;s<r;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return a.concat(u||Array.prototype.slice.call(t))},SS="ionicpwaelements",ao,Jy,Ut=!1,Vf=!1,kn=function(a,t){return function(){}},CS=function(a,t){return function(){}},xS="{visibility:hidden}.hydrated{visibility:inherit}",Zg={},AS="http://www.w3.org/2000/svg",wS="http://www.w3.org/1999/xhtml",RS=function(a){return a!=null},dh=function(a){return a=typeof a,a==="object"||a==="function"};function ev(a){var t,i,s;return(s=(i=(t=a.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||i===void 0?void 0:i.getAttribute("content"))!==null&&s!==void 0?s:void 0}var OS=function(a,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var r=null,u=!1,f=!1,d=[],p=function(y){for(var E=0;E<y.length;E++)r=y[E],Array.isArray(r)?p(r):r!=null&&typeof r!="boolean"&&((u=typeof a!="function"&&!dh(r))&&(r=String(r)),u&&f?d[d.length-1].$text$+=r:d.push(u?Pf(null,r):r),f=u)};if(p(i),t){var m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter(function(y){return m[y]}).join(" "))}var _=Pf(a,null);return _.$attrs$=t,d.length>0&&(_.$children$=d),_},Pf=function(a,t){var i={$flags$:0,$tag$:a,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i},DS={},MS=function(a){return a&&a.$tag$===DS},NS=function(a,t){return a!=null&&!dh(a)?t&4?a==="false"?!1:a===""||!!a:t&2?parseFloat(a):t&1?String(a):a:a},LS=function(a){return _i(a).$hostElement$},aD=function(a,t,i){var s=LS(a);return{emit:function(r){return tv(s,t,{bubbles:!0,composed:!0,cancelable:!0,detail:r})}}},tv=function(a,t,i){var s=st.ce(t,i);return a.dispatchEvent(s),s},Wg=new WeakMap,US=function(a,t,i){var s=vo.get(a);i1&&i?(s=s||new CSSStyleSheet,typeof s=="string"?s=t:s.replaceSync(t)):s=t,vo.set(a,s)},IS=function(a,t,i,s){var r,u=nv(t),f=vo.get(u);if(a=a.nodeType===11?a:Wt,f)if(typeof f=="string"){a=a.head||a;var d=Wg.get(a),p=void 0;if(d||Wg.set(a,d=new Set),!d.has(u)){{p=Wt.createElement("style"),p.innerHTML=f;var m=(r=st.$nonce$)!==null&&r!==void 0?r:ev(Wt);m!=null&&p.setAttribute("nonce",m),a.insertBefore(p,a.querySelector("link"))}d&&d.add(u)}}else a.adoptedStyleSheets.includes(f)||(a.adoptedStyleSheets=Xg(Xg([],a.adoptedStyleSheets,!0),[f],!1));return u},kS=function(a){var t=a.$cmpMeta$,i=a.$hostElement$,s=t.$flags$,r=kn("attachStyles",t.$tagName$),u=IS(i.shadowRoot?i.shadowRoot:i.getRootNode(),t);s&10&&(i["s-sc"]=u,i.classList.add(u+"-h")),r()},nv=function(a,t){return"sc-"+a.$tagName$},Jg=function(a,t,i,s,r,u){if(i!==s){var f=t_(a,t),d=t.toLowerCase();if(t==="class"){var p=a.classList,m=e_(i),_=e_(s);p.remove.apply(p,m.filter(function(A){return A&&!_.includes(A)})),p.add.apply(p,_.filter(function(A){return A&&!m.includes(A)}))}else if(t==="style"){for(var y in i)(!s||s[y]==null)&&(y.includes("-")?a.style.removeProperty(y):a.style[y]="");for(var y in s)(!i||s[y]!==i[y])&&(y.includes("-")?a.style.setProperty(y,s[y]):a.style[y]=s[y])}else if(t==="ref")s&&s(a);else if(!f&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):t_($o,d)?t=d.slice(2):t=d[2]+t.slice(3),i&&st.rel(a,t,i,!1),s&&st.ael(a,t,s,!1);else{var E=dh(s);if((f||E&&s!==null)&&!r)try{if(a.tagName.includes("-"))a[t]=s;else{var C=s??"";t==="list"?f=!1:(i==null||a[t]!=C)&&(a[t]=C)}}catch{}s==null||s===!1?(s!==!1||a.getAttribute(t)==="")&&a.removeAttribute(t):(!f||u&4||r)&&!E&&(s=s===!0?"":s,a.setAttribute(t,s))}}},zS=/\s/,e_=function(a){return a?a.split(zS):[]},iv=function(a,t,i,s){var r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,u=a&&a.$attrs$||Zg,f=t.$attrs$||Zg;for(s in u)s in f||Jg(r,s,u[s],void 0,i,t.$flags$);for(s in f)Jg(r,s,u[s],f[s],i,t.$flags$)},ph=function(a,t,i,s){var r=t.$children$[i],u=0,f,d;if(r.$text$!==null)f=r.$elm$=Wt.createTextNode(r.$text$);else{if(Ut||(Ut=r.$tag$==="svg"),f=r.$elm$=Wt.createElementNS(Ut?AS:wS,r.$tag$),Ut&&r.$tag$==="foreignObject"&&(Ut=!1),iv(null,r,Ut),RS(ao)&&f["s-si"]!==ao&&f.classList.add(f["s-si"]=ao),r.$children$)for(u=0;u<r.$children$.length;++u)d=ph(a,r,u),d&&f.appendChild(d);r.$tag$==="svg"?Ut=!1:f.tagName==="foreignObject"&&(Ut=!0)}return f},sv=function(a,t,i,s,r,u){var f=a,d;for(f.shadowRoot&&f.tagName===Jy&&(f=f.shadowRoot);r<=u;++r)s[r]&&(d=ph(null,i,r),d&&(s[r].$elm$=d,f.insertBefore(d,t)))},av=function(a,t,i){for(var s=t;s<=i;++s){var r=a[s];if(r){var u=r.$elm$;lv(r),u&&u.remove()}}},jS=function(a,t,i,s){for(var r=0,u=0,f=t.length-1,d=t[0],p=t[f],m=s.length-1,_=s[0],y=s[m],E;r<=f&&u<=m;)d==null?d=t[++r]:p==null?p=t[--f]:_==null?_=s[++u]:y==null?y=s[--m]:eo(d,_)?(dl(d,_),d=t[++r],_=s[++u]):eo(p,y)?(dl(p,y),p=t[--f],y=s[--m]):eo(d,y)?(dl(d,y),a.insertBefore(d.$elm$,p.$elm$.nextSibling),d=t[++r],y=s[--m]):eo(p,_)?(dl(p,_),a.insertBefore(p.$elm$,d.$elm$),p=t[--f],_=s[++u]):(E=ph(t&&t[u],i,u),_=s[++u],E&&d.$elm$.parentNode.insertBefore(E,d.$elm$));r>f?sv(a,s[m+1]==null?null:s[m+1].$elm$,i,s,u,m):u>m&&av(t,r,f)},eo=function(a,t){return a.$tag$===t.$tag$},dl=function(a,t){var i=t.$elm$=a.$elm$,s=a.$children$,r=t.$children$,u=t.$tag$,f=t.$text$;f===null?(Ut=u==="svg"?!0:u==="foreignObject"?!1:Ut,iv(a,t,Ut),s!==null&&r!==null?jS(i,s,t,r):r!==null?(a.$text$!==null&&(i.textContent=""),sv(i,null,t,r,0,r.length-1)):s!==null&&av(s,0,s.length-1),Ut&&u==="svg"&&(Ut=!1)):a.$text$!==f&&(i.data=f)},lv=function(a){a.$attrs$&&a.$attrs$.ref&&a.$attrs$.ref(null),a.$children$&&a.$children$.map(lv)},VS=function(a,t){var i=a.$hostElement$,s=a.$vnode$||Pf(null,null),r=MS(t)?t:OS(null,null,t);Jy=i.tagName,r.$tag$=null,r.$flags$|=4,a.$vnode$=r,r.$elm$=s.$elm$=i.shadowRoot||i,ao=i["s-sc"],dl(s,r)},rv=function(a,t){t&&!a.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(i){return a.$onRenderResolve$=i}))},Ho=function(a,t){if(a.$flags$|=16,a.$flags$&4){a.$flags$|=512;return}rv(a,a.$ancestorComponent$);var i=function(){return PS(a,t)};return a1(i)},PS=function(a,t){var i=kn("scheduleUpdate",a.$cmpMeta$.$tagName$),s=a.$lazyInstance$,r;return t&&(a.$flags$|=256,a.$queuedListeners$&&(a.$queuedListeners$.map(function(u){var f=u[0],d=u[1];return mh(s,f,d)}),a.$queuedListeners$=void 0)),i(),HS(r,function(){return BS(a,s,t)})},HS=function(a,t){return $S(a)?a.then(t):t()},$S=function(a){return a instanceof Promise||a&&a.then&&typeof a.then=="function"},BS=function(a,t,i){return Zy(void 0,void 0,void 0,function(){var s,r,u,f,d,p,m;return Wy(this,function(_){return r=a.$hostElement$,u=kn("update",a.$cmpMeta$.$tagName$),f=r["s-rc"],i&&kS(a),d=kn("render",a.$cmpMeta$.$tagName$),qS(a,t),f&&(f.map(function(y){return y()}),r["s-rc"]=void 0),d(),u(),p=(s=r["s-p"])!==null&&s!==void 0?s:[],m=function(){return YS(a)},p.length===0?m():(Promise.all(p).then(m),a.$flags$|=4,p.length=0),[2]})})},qS=function(a,t,i){try{t=t.render(),a.$flags$&=-17,a.$flags$|=2,VS(a,t)}catch(s){Xt(s,a.$hostElement$)}return null},YS=function(a){a.$cmpMeta$.$tagName$;var t=a.$hostElement$,i=kn(),s=a.$lazyInstance$,r=a.$ancestorComponent$;a.$flags$&64?i():(a.$flags$|=64,uv(t),mh(s,"componentDidLoad"),i(),a.$onReadyResolve$(t),r||ov()),a.$onInstanceResolve$(t),a.$onRenderResolve$&&(a.$onRenderResolve$(),a.$onRenderResolve$=void 0),a.$flags$&512&&_h(function(){return Ho(a,!1)}),a.$flags$&=-517},lD=function(a){{var t=_i(a),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&Ho(t,!1),i}},ov=function(a){uv(Wt.documentElement),_h(function(){return tv($o,"appload",{detail:{namespace:SS}})})},mh=function(a,t,i){if(a&&a[t])try{return a[t](i)}catch(s){Xt(s)}},uv=function(a){return a.classList.add("hydrated")},FS=function(a,t){return _i(a).$instanceValues$.get(t)},GS=function(a,t,i,s){var r=_i(a),u=r.$instanceValues$.get(t),f=r.$flags$,d=r.$lazyInstance$;i=NS(i,s.$members$[t][0]);var p=Number.isNaN(u)&&Number.isNaN(i),m=i!==u&&!p;(!(f&8)||u===void 0)&&m&&(r.$instanceValues$.set(t,i),d&&(f&18)===2&&Ho(r,!1))},cv=function(a,t,i){if(t.$members$){var s=Object.entries(t.$members$),r=a.prototype;if(s.map(function(f){var d=f[0],p=f[1][0];p&31||i&2&&p&32?Object.defineProperty(r,d,{get:function(){return FS(this,d)},set:function(m){GS(this,d,m,t)},configurable:!0,enumerable:!0}):i&1&&p&64&&Object.defineProperty(r,d,{value:function(){for(var m=[],_=0;_<arguments.length;_++)m[_]=arguments[_];var y=_i(this);return y.$onInstancePromise$.then(function(){var E;return(E=y.$lazyInstance$)[d].apply(E,m)})}})}),i&1){var u=new Map;r.attributeChangedCallback=function(f,d,p){var m=this;st.jmp(function(){var _=u.get(f);if(m.hasOwnProperty(_))p=m[_],delete m[_];else if(r.hasOwnProperty(_)&&typeof m[_]=="number"&&m[_]==p)return;m[_]=p===null&&typeof m[_]=="boolean"?!1:p})},a.observedAttributes=s.filter(function(f){f[0];var d=f[1];return d[0]&15}).map(function(f){var d=f[0],p=f[1],m=p[1]||d;return u.set(m,d),m})}}return a},QS=function(a,t,i,s,r){return Zy(void 0,void 0,void 0,function(){var u,f,d,p,m,_,y;return Wy(this,function(E){switch(E.label){case 0:return(t.$flags$&32)!==0?[3,3]:(t.$flags$|=32,r=n1(i),r.then?(u=CS(),[4,r]):[3,2]);case 1:r=E.sent(),u(),E.label=2;case 2:r.isProxied||(cv(r,i,2),r.isProxied=!0),f=kn("createInstance",i.$tagName$),t.$flags$|=8;try{new r(t)}catch(C){Xt(C)}t.$flags$&=-9,f(),r.style&&(d=r.style,p=nv(i),vo.has(p)||(m=kn("registerStyles",i.$tagName$),US(p,d,!!(i.$flags$&1)),m())),E.label=3;case 3:return _=t.$ancestorComponent$,y=function(){return Ho(t,!0)},_&&_["s-rc"]?_["s-rc"].push(y):y(),[2]}})})},KS=function(a){if((st.$flags$&1)===0){var t=_i(a),i=t.$cmpMeta$,s=kn("connectedCallback",i.$tagName$);if(t.$flags$&1)fv(a,t,i.$listeners$);else{t.$flags$|=1;for(var r=a;r=r.parentNode||r.host;)if(r["s-p"]){rv(t,t.$ancestorComponent$=r);break}i.$members$&&Object.entries(i.$members$).map(function(u){var f=u[0],d=u[1][0];if(d&31&&a.hasOwnProperty(f)){var p=a[f];delete a[f],a[f]=p}}),QS(a,t,i)}s()}},XS=function(a){if((st.$flags$&1)===0){var t=_i(a),i=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(s){return s()}),t.$rmListeners$=void 0),mh(i,"disconnectedCallback")}},ZS=function(a,t){t===void 0&&(t={});var i,s=kn(),r=[],u=t.exclude||[],f=$o.customElements,d=Wt.head,p=d.querySelector("meta[charset]"),m=Wt.createElement("style"),_=[],y,E=!0;Object.assign(st,t),st.$resourcesUrl$=new URL(t.resourcesUrl||"./",Wt.baseURI).href,a.map(function(A){A[1].map(function(k){var U={$flags$:k[0],$tagName$:k[1],$members$:k[2],$listeners$:k[3]};U.$members$=k[2],U.$listeners$=k[3];var Q=U.$tagName$,F=function($){bS(Z,$);function Z(ne){var N=$.call(this,ne)||this;return ne=N,t1(ne,U),U.$flags$&1&&ne.attachShadow({mode:"open"}),N}return Z.prototype.connectedCallback=function(){var ne=this;y&&(clearTimeout(y),y=null),E?_.push(this):st.jmp(function(){return KS(ne)})},Z.prototype.disconnectedCallback=function(){var ne=this;st.jmp(function(){return XS(ne)})},Z.prototype.componentOnReady=function(){return _i(this).$onReadyPromise$},Z}(HTMLElement);U.$lazyBundleId$=A[0],!u.includes(Q)&&!f.get(Q)&&(r.push(Q),f.define(Q,cv(F,U,1)))})});{m.innerHTML=r+xS,m.setAttribute("data-styles","");var C=(i=st.$nonce$)!==null&&i!==void 0?i:ev(Wt);C!=null&&m.setAttribute("nonce",C),d.insertBefore(m,p?p.nextSibling:d.firstChild)}E=!1,_.length?_.map(function(A){return A.connectedCallback()}):st.jmp(function(){return y=setTimeout(ov,30)}),s()},fv=function(a,t,i,s){i&&i.map(function(r){var u=r[0],f=r[1],d=r[2],p=JS(a,u),m=WS(t,d),_=e1(u);st.ael(p,f,m,_),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return st.rel(p,f,m,_)})})},WS=function(a,t){return function(i){try{a.$flags$&256?a.$lazyInstance$[t](i):(a.$queuedListeners$=a.$queuedListeners$||[]).push([t,i])}catch(s){Xt(s)}}},JS=function(a,t){return t&16?Wt.body:a},e1=function(a){return(a&2)!==0},gh=new WeakMap,_i=function(a){return gh.get(a)},rD=function(a,t){return gh.set(t.$lazyInstance$=a,t)},t1=function(a,t){var i={$flags$:0,$hostElement$:a,$cmpMeta$:t,$instanceValues$:new Map};return i.$onInstancePromise$=new Promise(function(s){return i.$onInstanceResolve$=s}),i.$onReadyPromise$=new Promise(function(s){return i.$onReadyResolve$=s}),a["s-p"]=[],a["s-rc"]=[],fv(a,i,t.$listeners$),gh.set(a,i)},t_=function(a,t){return t in a},Xt=function(a,t){return(0,console.error)(a,t)},vf=new Map,n1=function(a,t,i){var s=a.$tagName$.replace(/-/g,"_"),r=a.$lazyBundleId$,u=vf.get(r);if(u)return u[s];{var f=function(d){return vf.set(r,d),d[s]};switch(r){case"pwa-action-sheet":return b(()=>import("../js/pwa-action-sheet.entry.js-9KfDw4TJ.js"),__vite__mapDeps([0,1,2,3,4])).then(f,Xt);case"pwa-camera-modal":return b(()=>import("../js/pwa-camera-modal.entry.js-CiFkDxsA.js"),__vite__mapDeps([5,1,2,3,4])).then(f,Xt);case"pwa-toast":return b(()=>import("../js/pwa-toast.entry.js-DcmHnrIn.js"),__vite__mapDeps([6,1,2,3,4])).then(f,Xt);case"pwa-camera-modal-instance":return b(()=>import("../js/pwa-camera-modal-instance.entry.js-LwF5fVgj.js"),__vite__mapDeps([7,1,2,3,4])).then(f,Xt);case"pwa-camera":return b(()=>import("../js/pwa-camera.entry.js-D6GmIooh.js"),__vite__mapDeps([8,1,2,3,4])).then(f,Xt)}}return b(()=>import("./".concat(r,".entry.js").concat("")),[]).then(function(d){return vf.set(r,d),d[s]},Xt)},vo=new Map,$o=typeof window<"u"?window:{},Wt=$o.document||{head:{}},st={$flags$:0,$resourcesUrl$:"",jmp:function(a){return a()},raf:function(a){return requestAnimationFrame(a)},ael:function(a,t,i,s){return a.addEventListener(t,i,s)},rel:function(a,t,i,s){return a.removeEventListener(t,i,s)},ce:function(a,t){return new CustomEvent(a,t)}},hv=function(a){return Promise.resolve(a)},i1=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),n_=[],dv=[],s1=function(a,t){return function(i){a.push(i),Vf||(Vf=!0,st.$flags$&4?_h(Hf):st.raf(Hf))}},i_=function(a){for(var t=0;t<a.length;t++)try{a[t](performance.now())}catch(i){Xt(i)}a.length=0},Hf=function(){i_(n_),i_(dv),(Vf=n_.length>0)&&st.raf(Hf)},_h=function(a){return hv().then(a)},a1=s1(dv),l1=function(){return hv()},r1=function(a,t){return typeof window>"u"?Promise.resolve():l1().then(function(){return ZS([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)},HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)}})();var Ef={exports:{}},rl={},Tf={exports:{}},bf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function o1(){return s_||(s_=1,function(a){function t(D,q){var X=D.length;D.push(q);e:for(;0<X;){var K=X-1>>>1,he=D[K];if(0<r(he,q))D[K]=q,D[X]=he,X=K;else break e}}function i(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var q=D[0],X=D.pop();if(X!==q){D[0]=X;e:for(var K=0,he=D.length,ie=he>>>1;K<ie;){var de=2*(K+1)-1,fe=D[de],Ne=de+1,lt=D[Ne];if(0>r(fe,X))Ne<he&&0>r(lt,fe)?(D[K]=lt,D[Ne]=X,K=Ne):(D[K]=fe,D[de]=X,K=de);else if(Ne<he&&0>r(lt,X))D[K]=lt,D[Ne]=X,K=Ne;else break e}}return q}function r(D,q){var X=D.sortIndex-q.sortIndex;return X!==0?X:D.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();a.unstable_now=function(){return f.now()-d}}var p=[],m=[],_=1,y=null,E=3,C=!1,A=!1,k=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var q=i(m);q!==null;){if(q.callback===null)s(m);else if(q.startTime<=D)s(m),q.sortIndex=q.expirationTime,t(p,q);else break;q=i(m)}}function ne(D){if(k=!1,Z(D),!A)if(i(p)!==null)A=!0,N||(N=!0,J());else{var q=i(m);q!==null&&ce(ne,q.startTime-D)}}var N=!1,B=-1,P=5,L=-1;function Y(){return U?!0:!(a.unstable_now()-L<P)}function H(){if(U=!1,N){var D=a.unstable_now();L=D;var q=!0;try{e:{A=!1,k&&(k=!1,F(B),B=-1),C=!0;var X=E;try{t:{for(Z(D),y=i(p);y!==null&&!(y.expirationTime>D&&Y());){var K=y.callback;if(typeof K=="function"){y.callback=null,E=y.priorityLevel;var he=K(y.expirationTime<=D);if(D=a.unstable_now(),typeof he=="function"){y.callback=he,Z(D),q=!0;break t}y===i(p)&&s(p),Z(D)}else s(p);y=i(p)}if(y!==null)q=!0;else{var ie=i(m);ie!==null&&ce(ne,ie.startTime-D),q=!1}}break e}finally{y=null,E=X,C=!1}q=void 0}}finally{q?J():N=!1}}}var J;if(typeof $=="function")J=function(){$(H)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ee=j.port2;j.port1.onmessage=H,J=function(){ee.postMessage(null)}}else J=function(){Q(H,0)};function ce(D,q){B=Q(function(){D(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return E},a.unstable_next=function(D){switch(E){case 1:case 2:case 3:var q=3;break;default:q=E}var X=E;E=q;try{return D()}finally{E=X}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(D,q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=E;E=D;try{return q()}finally{E=X}},a.unstable_scheduleCallback=function(D,q,X){var K=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,D={id:_++,callback:q,priorityLevel:D,startTime:X,expirationTime:he,sortIndex:-1},X>K?(D.sortIndex=X,t(m,D),i(p)===null&&D===i(m)&&(k?(F(B),B=-1):k=!0,ce(ne,X-K))):(D.sortIndex=he,t(p,D),A||C||(A=!0,N||(N=!0,J()))),D},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(D){var q=E;return function(){var X=E;E=q;try{return D.apply(this,arguments)}finally{E=X}}}}(bf)),bf}var a_;function u1(){return a_||(a_=1,Tf.exports=o1()),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function c1(){if(l_)return rl;l_=1;var a=u1(),t=Rb(),i=Ob();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,o=n;;){var c=l.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){l=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===l)return d(c),e;if(h===o)return d(c),n;h=h.sibling}throw Error(s(188))}if(l.return!==o.return)l=c,o=h;else{for(var g=!1,v=c.child;v;){if(v===l){g=!0,l=c,o=h;break}if(v===o){g=!0,o=c,l=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===l){g=!0,l=h,o=c;break}if(v===o){g=!0,o=h,l=c;break}v=v.sibling}if(!g)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case N:return"SuspenseList";case L:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case $:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case P:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ce=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},K=[],he=-1;function ie(e){return{current:e}}function de(e){0>he||(e.current=K[he],K[he]=null,he--)}function fe(e,n){he++,K[he]=e.current,e.current=n}var Ne=ie(null),lt=ie(null),an=ie(null),es=ie(null);function ts(e,n){switch(fe(an,n),fe(lt,e),fe(Ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?bg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=bg(n),e=Sg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(Ne),fe(Ne,e)}function _n(){de(Ne),de(lt),de(an)}function ns(e){e.memoizedState!==null&&fe(es,e);var n=Ne.current,l=Sg(n,e.type);n!==l&&(fe(lt,e),fe(Ne,l))}function Pn(e){lt.current===e&&(de(Ne),de(lt)),es.current===e&&(de(es),nl._currentValue=X)}var vi=Object.prototype.hasOwnProperty,Ei=a.unstable_scheduleCallback,Hn=a.unstable_cancelCallback,is=a.unstable_shouldYield,oa=a.unstable_requestPaint,gt=a.unstable_now,ua=a.unstable_getCurrentPriorityLevel,ss=a.unstable_ImmediatePriority,au=a.unstable_UserBlockingPriority,Vl=a.unstable_NormalPriority,Z0=a.unstable_LowPriority,sd=a.unstable_IdlePriority,W0=a.log,J0=a.unstable_setDisableYieldValue,ca=null,xt=null;function $n(e){if(typeof W0=="function"&&J0(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(ca,e)}catch{}}var At=Math.clz32?Math.clz32:nE,eE=Math.log,tE=Math.LN2;function nE(e){return e>>>=0,e===0?32:31-(eE(e)/tE|0)|0}var Pl=256,Hl=4194304;function Ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $l(e,n,l){var o=e.pendingLanes;if(o===0)return 0;var c=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~h,o!==0?c=Ti(o):(g&=v,g!==0?c=Ti(g):l||(l=v&~e,l!==0&&(c=Ti(l))))):(v=o&~h,v!==0?c=Ti(v):g!==0?c=Ti(g):l||(l=o&~e,l!==0&&(c=Ti(l)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:c}function fa(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function iE(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var e=Pl;return Pl<<=1,(Pl&4194048)===0&&(Pl=256),e}function ld(){var e=Hl;return Hl<<=1,(Hl&62914560)===0&&(Hl=4194304),e}function lu(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function ha(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sE(e,n,l,o,c,h){var g=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var v=e.entanglements,T=e.expirationTimes,R=e.hiddenUpdates;for(l=g&~l;0<l;){var I=31-At(l),V=1<<I;v[I]=0,T[I]=-1;var O=R[I];if(O!==null)for(R[I]=null,I=0;I<O.length;I++){var M=O[I];M!==null&&(M.lane&=-536870913)}l&=~V}o!==0&&rd(e,o,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function rd(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-At(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function od(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var o=31-At(l),c=1<<o;c&n|e[o]&n&&(e[o]|=n),l&=~c}}function ru(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ou(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ud(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:$g(e.type))}function aE(e,n){var l=q.p;try{return q.p=e,n()}finally{q.p=l}}var Bn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Bn,_t="__reactProps$"+Bn,as="__reactContainer$"+Bn,uu="__reactEvents$"+Bn,lE="__reactListeners$"+Bn,rE="__reactHandles$"+Bn,cd="__reactResources$"+Bn,da="__reactMarker$"+Bn;function cu(e){delete e[ft],delete e[_t],delete e[uu],delete e[lE],delete e[rE]}function ls(e){var n=e[ft];if(n)return n;for(var l=e.parentNode;l;){if(n=l[as]||l[ft]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=wg(e);e!==null;){if(l=e[ft])return l;e=wg(e)}return n}e=l,l=e.parentNode}return null}function rs(e){if(e=e[ft]||e[as]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function pa(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function os(e){var n=e[cd];return n||(n=e[cd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[da]=!0}var fd=new Set,hd={};function bi(e,n){us(e,n),us(e+"Capture",n)}function us(e,n){for(hd[e]=n,e=0;e<n.length;e++)fd.add(n[e])}var oE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},pd={};function uE(e){return vi.call(pd,e)?!0:vi.call(dd,e)?!1:oE.test(e)?pd[e]=!0:(dd[e]=!0,!1)}function Bl(e,n,l){if(uE(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function ql(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function yn(e,n,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+o)}}var fu,md;function cs(e){if(fu===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);fu=n&&n[1]||"",md=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fu+e+md}var hu=!1;function du(e,n){if(!e||hu)return"";hu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(M){var O=M}Reflect.construct(e,[],V)}else{try{V.call()}catch(M){O=M}e.call(V.prototype)}}else{try{throw Error()}catch(M){O=M}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(M){if(M&&O&&typeof M.stack=="string")return[M.stack,O.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var T=g.split(`
`),R=v.split(`
`);for(c=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;c<R.length&&!R[c].includes("DetermineComponentFrameRoot");)c++;if(o===T.length||c===R.length)for(o=T.length-1,c=R.length-1;1<=o&&0<=c&&T[o]!==R[c];)c--;for(;1<=o&&0<=c;o--,c--)if(T[o]!==R[c]){if(o!==1||c!==1)do if(o--,c--,0>c||T[o]!==R[c]){var I=`
`+T[o].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=o&&0<=c);break}}}finally{hu=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?cs(l):""}function cE(e){switch(e.tag){case 26:case 27:case 5:return cs(e.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return du(e.type,!1);case 11:return du(e.type.render,!1);case 1:return du(e.type,!0);case 31:return cs("Activity");default:return""}}function gd(e){try{var n="";do n+=cE(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fE(e){var n=_d(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yl(e){e._valueTracker||(e._valueTracker=fE(e))}function yd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),o="";return e&&(o=_d(e)?e.checked?"true":"false":e.value),e=o,e!==l?(n.setValue(e),!0):!1}function Fl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var hE=/[\n"\\]/g;function zt(e){return e.replace(hE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pu(e,n,l,o,c,h,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+kt(n)):e.value!==""+kt(n)&&(e.value=""+kt(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?mu(e,g,kt(n)):l!=null?mu(e,g,kt(l)):o!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+kt(v):e.removeAttribute("name")}function vd(e,n,l,o,c,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;l=l!=null?""+kt(l):"",n=n!=null?""+kt(n):l,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function mu(e,n,l){n==="number"&&Fl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function fs(e,n,l,o){if(e=e.options,n){n={};for(var c=0;c<l.length;c++)n["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=n.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&o&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),n=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Ed(e,n,l){if(n!=null&&(n=""+kt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+kt(l):""}function Td(e,n,l,o){if(n==null){if(o!=null){if(l!=null)throw Error(s(92));if(ce(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),n=l}l=kt(n),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function hs(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var dE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(e,n,l){var o=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,l):typeof l!="number"||l===0||dE.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Sd(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&l[c]!==o&&bd(e,c,o)}else for(var h in n)n.hasOwnProperty(h)&&bd(e,h,n[h])}function gu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gl(e){return mE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _u=null;function yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,ps=null;function Cd(e){var n=rs(e);if(n&&(e=n.stateNode)){var l=e[_t]||null;e:switch(e=n.stateNode,n.type){case"input":if(pu(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var o=l[n];if(o!==e&&o.form===e.form){var c=o[_t]||null;if(!c)throw Error(s(90));pu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<l.length;n++)o=l[n],o.form===e.form&&yd(o)}break e;case"textarea":Ed(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&fs(e,!!l.multiple,n,!1)}}}var vu=!1;function xd(e,n,l){if(vu)return e(n,l);vu=!0;try{var o=e(n);return o}finally{if(vu=!1,(ds!==null||ps!==null)&&(Nr(),ds&&(n=ds,e=ps,ps=ds=null,Cd(n),e)))for(n=0;n<e.length;n++)Cd(e[n])}}function ma(e,n){var l=e.stateNode;if(l===null)return null;var o=l[_t]||null;if(o===null)return null;l=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=!1;if(vn)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Eu=!1}var qn=null,Tu=null,Ql=null;function Ad(){if(Ql)return Ql;var e,n=Tu,l=n.length,o,c="value"in qn?qn.value:qn.textContent,h=c.length;for(e=0;e<l&&n[e]===c[e];e++);var g=l-e;for(o=1;o<=g&&n[l-o]===c[h-o];o++);return Ql=c.slice(e,1<o?1-o:void 0)}function Kl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xl(){return!0}function wd(){return!1}function yt(e){function n(l,o,c,h,g){this._reactName=l,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(l=e[v],this[v]=l?l(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xl:wd,this.isPropagationStopped=wd,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),n}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=yt(Si),_a=_({},Si,{view:0,detail:0}),gE=yt(_a),bu,Su,ya,Wl=_({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ya&&(ya&&e.type==="mousemove"?(bu=e.screenX-ya.screenX,Su=e.screenY-ya.screenY):Su=bu=0,ya=e),bu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),Rd=yt(Wl),_E=_({},Wl,{dataTransfer:0}),yE=yt(_E),vE=_({},_a,{relatedTarget:0}),Cu=yt(vE),EE=_({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),TE=yt(EE),bE=_({},Si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SE=yt(bE),CE=_({},Si,{data:0}),Od=yt(CE),xE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RE(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=wE[e])?!!n[e]:!1}function xu(){return RE}var OE=_({},_a,{key:function(e){if(e.key){var n=xE[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?AE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xu,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DE=yt(OE),ME=_({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dd=yt(ME),NE=_({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xu}),LE=yt(NE),UE=_({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),IE=yt(UE),kE=_({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zE=yt(kE),jE=_({},Si,{newState:0,oldState:0}),VE=yt(jE),PE=[9,13,27,32],Au=vn&&"CompositionEvent"in window,va=null;vn&&"documentMode"in document&&(va=document.documentMode);var HE=vn&&"TextEvent"in window&&!va,Md=vn&&(!Au||va&&8<va&&11>=va),Nd=" ",Ld=!1;function Ud(e,n){switch(e){case"keyup":return PE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ms=!1;function $E(e,n){switch(e){case"compositionend":return Id(n);case"keypress":return n.which!==32?null:(Ld=!0,Nd);case"textInput":return e=n.data,e===Nd&&Ld?null:e;default:return null}}function BE(e,n){if(ms)return e==="compositionend"||!Au&&Ud(e,n)?(e=Ad(),Ql=Tu=qn=null,ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Md&&n.locale!=="ko"?null:n.data;default:return null}}var qE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qE[e.type]:n==="textarea"}function zd(e,n,l,o){ds?ps?ps.push(o):ps=[o]:ds=o,n=jr(n,"onChange"),0<n.length&&(l=new Zl("onChange","change",null,l,o),e.push({event:l,listeners:n}))}var Ea=null,Ta=null;function YE(e){_g(e,0)}function Jl(e){var n=pa(e);if(yd(n))return e}function jd(e,n){if(e==="change")return n}var Vd=!1;if(vn){var wu;if(vn){var Ru="oninput"in document;if(!Ru){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),Ru=typeof Pd.oninput=="function"}wu=Ru}else wu=!1;Vd=wu&&(!document.documentMode||9<document.documentMode)}function Hd(){Ea&&(Ea.detachEvent("onpropertychange",$d),Ta=Ea=null)}function $d(e){if(e.propertyName==="value"&&Jl(Ta)){var n=[];zd(n,Ta,e,yu(e)),xd(YE,n)}}function FE(e,n,l){e==="focusin"?(Hd(),Ea=n,Ta=l,Ea.attachEvent("onpropertychange",$d)):e==="focusout"&&Hd()}function GE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(Ta)}function QE(e,n){if(e==="click")return Jl(n)}function KE(e,n){if(e==="input"||e==="change")return Jl(n)}function XE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wt=typeof Object.is=="function"?Object.is:XE;function ba(e,n){if(wt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),o=Object.keys(n);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var c=l[o];if(!vi.call(n,c)||!wt(e[c],n[c]))return!1}return!0}function Bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qd(e,n){var l=Bd(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=n&&o>=n)return{node:l,offset:n-e};e=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Bd(l)}}function Yd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Yd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Fd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Fl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Fl(e.document)}return n}function Ou(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ZE=vn&&"documentMode"in document&&11>=document.documentMode,gs=null,Du=null,Sa=null,Mu=!1;function Gd(e,n,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mu||gs==null||gs!==Fl(o)||(o=gs,"selectionStart"in o&&Ou(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Sa&&ba(Sa,o)||(Sa=o,o=jr(Du,"onSelect"),0<o.length&&(n=new Zl("onSelect","select",null,n,l),e.push({event:n,listeners:o}),n.target=gs)))}function Ci(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var _s={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Nu={},Qd={};vn&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function xi(e){if(Nu[e])return Nu[e];if(!_s[e])return e;var n=_s[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Qd)return Nu[e]=n[l];return e}var Kd=xi("animationend"),Xd=xi("animationiteration"),Zd=xi("animationstart"),WE=xi("transitionrun"),JE=xi("transitionstart"),eT=xi("transitioncancel"),Wd=xi("transitionend"),Jd=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function Gt(e,n){Jd.set(e,n),bi(n,[e])}var ep=new WeakMap;function jt(e,n){if(typeof e=="object"&&e!==null){var l=ep.get(e);return l!==void 0?l:(n={value:e,source:n,stack:gd(n)},ep.set(e,n),n)}return{value:e,source:n,stack:gd(n)}}var Vt=[],ys=0,Uu=0;function er(){for(var e=ys,n=Uu=ys=0;n<e;){var l=Vt[n];Vt[n++]=null;var o=Vt[n];Vt[n++]=null;var c=Vt[n];Vt[n++]=null;var h=Vt[n];if(Vt[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}h!==0&&tp(l,c,h)}}function tr(e,n,l,o){Vt[ys++]=e,Vt[ys++]=n,Vt[ys++]=l,Vt[ys++]=o,Uu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Iu(e,n,l,o){return tr(e,n,l,o),nr(e)}function vs(e,n){return tr(e,null,null,n),nr(e)}function tp(e,n,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var c=!1,h=e.return;h!==null;)h.childLanes|=l,o=h.alternate,o!==null&&(o.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-At(l),e=h.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=l|536870912),h):null}function nr(e){if(50<Qa)throw Qa=0,Hc=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Es={};function tT(e,n,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,l,o){return new tT(e,n,l,o)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,n){var l=e.alternate;return l===null?(l=Rt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function np(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ir(e,n,l,o,c,h){var g=0;if(o=e,typeof e=="function")ku(e)&&(g=1);else if(typeof e=="string")g=ib(e,l,Ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case L:return e=Rt(31,l,n,c),e.elementType=L,e.lanes=h,e;case A:return Ai(l.children,c,h,n);case k:g=8,c|=24;break;case U:return e=Rt(12,l,n,c|2),e.elementType=U,e.lanes=h,e;case ne:return e=Rt(13,l,n,c),e.elementType=ne,e.lanes=h,e;case N:return e=Rt(19,l,n,c),e.elementType=N,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:case $:g=10;break e;case F:g=9;break e;case Z:g=11;break e;case B:g=14;break e;case P:g=16,o=null;break e}g=29,l=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Rt(g,l,n,c),n.elementType=e,n.type=o,n.lanes=h,n}function Ai(e,n,l,o){return e=Rt(7,e,o,n),e.lanes=l,e}function zu(e,n,l){return e=Rt(6,e,null,n),e.lanes=l,e}function ju(e,n,l){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ts=[],bs=0,sr=null,ar=0,Pt=[],Ht=0,wi=null,Tn=1,bn="";function Ri(e,n){Ts[bs++]=ar,Ts[bs++]=sr,sr=e,ar=n}function ip(e,n,l){Pt[Ht++]=Tn,Pt[Ht++]=bn,Pt[Ht++]=wi,wi=e;var o=Tn;e=bn;var c=32-At(o)-1;o&=~(1<<c),l+=1;var h=32-At(n)+c;if(30<h){var g=c-c%5;h=(o&(1<<g)-1).toString(32),o>>=g,c-=g,Tn=1<<32-At(n)+c|l<<c|o,bn=h+e}else Tn=1<<h|l<<c|o,bn=e}function Vu(e){e.return!==null&&(Ri(e,1),ip(e,1,0))}function Pu(e){for(;e===sr;)sr=Ts[--bs],Ts[bs]=null,ar=Ts[--bs],Ts[bs]=null;for(;e===wi;)wi=Pt[--Ht],Pt[Ht]=null,bn=Pt[--Ht],Pt[Ht]=null,Tn=Pt[--Ht],Pt[Ht]=null}var pt=null,Pe=null,Ce=!1,Oi=null,ln=!1,Hu=Error(s(519));function Di(e){var n=Error(s(418,""));throw Aa(jt(n,e)),Hu}function sp(e){var n=e.stateNode,l=e.type,o=e.memoizedProps;switch(n[ft]=e,n[_t]=o,l){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(l=0;l<Xa.length;l++)Te(Xa[l],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":Te("invalid",n),vd(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Yl(n);break;case"select":Te("invalid",n);break;case"textarea":Te("invalid",n),Td(n,o.value,o.defaultValue,o.children),Yl(n)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||o.suppressHydrationWarning===!0||Tg(n.textContent,l)?(o.popover!=null&&(Te("beforetoggle",n),Te("toggle",n)),o.onScroll!=null&&Te("scroll",n),o.onScrollEnd!=null&&Te("scrollend",n),o.onClick!=null&&(n.onclick=Vr),n=!0):n=!1,n||Di(e)}function ap(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:pt=pt.return}}function Ca(e){if(e!==pt)return!1;if(!Ce)return ap(e),Ce=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||sf(e.type,e.memoizedProps)),l=!l),l&&Pe&&Di(e),ap(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){Pe=Kt(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}Pe=null}}else n===27?(n=Pe,li(e.type)?(e=of,of=null,Pe=e):Pe=n):Pe=pt?Kt(e.stateNode.nextSibling):null;return!0}function xa(){Pe=pt=null,Ce=!1}function lp(){var e=Oi;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Oi=null),e}function Aa(e){Oi===null?Oi=[e]:Oi.push(e)}var $u=ie(null),Mi=null,Sn=null;function Yn(e,n,l){fe($u,n._currentValue),n._currentValue=l}function Cn(e){e._currentValue=$u.current,de($u)}function Bu(e,n,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===l)break;e=e.return}}function qu(e,n,l,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=c;for(var T=0;T<n.length;T++)if(v.context===n[T]){h.lanes|=l,v=h.alternate,v!==null&&(v.lanes|=l),Bu(h.return,l,e),o||(g=null);break e}h=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=l,h=g.alternate,h!==null&&(h.lanes|=l),Bu(g,l,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function wa(e,n,l,o){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var v=c.type;wt(c.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(c===es.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}c=c.return}e!==null&&qu(n,e,l,o),n.flags|=262144}function lr(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){Mi=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return rp(Mi,e)}function rr(e,n){return Mi===null&&Ni(e),rp(e,n)}function rp(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},Sn===null){if(e===null)throw Error(s(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return l}var nT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},iT=a.unstable_scheduleCallback,sT=a.unstable_NormalPriority,Ke={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yu(){return{controller:new nT,data:new Map,refCount:0}}function Ra(e){e.refCount--,e.refCount===0&&iT(sT,function(){e.controller.abort()})}var Oa=null,Fu=0,Ss=0,Cs=null;function aT(e,n){if(Oa===null){var l=Oa=[];Fu=0,Ss=Qc(),Cs={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Fu++,n.then(op,op),n}function op(){if(--Fu===0&&Oa!==null){Cs!==null&&(Cs.status="fulfilled");var e=Oa;Oa=null,Ss=0,Cs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function lT(e,n){var l=[],o={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<l.length;c++)(0,l[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),o}var up=D.S;D.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&aT(e,n),up!==null&&up(e,n)};var Li=ie(null);function Gu(){var e=Li.current;return e!==null?e:Ie.pooledCache}function or(e,n){n===null?fe(Li,Li.current):fe(Li,n.pool)}function cp(){var e=Gu();return e===null?null:{parent:Ke._currentValue,pool:e}}var Da=Error(s(460)),fp=Error(s(474)),ur=Error(s(542)),Qu={then:function(){}};function hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cr(){}function dp(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(cr,cr),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mp(e),e;default:if(typeof n.status=="string")n.then(cr,cr);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,mp(e),e}throw Ma=n,Da}}var Ma=null;function pp(){if(Ma===null)throw Error(s(459));var e=Ma;return Ma=null,e}function mp(e){if(e===Da||e===ur)throw Error(s(483))}var Fn=!1;function Ku(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,n,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ae&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=nr(e),tp(e,null,l),n}return tr(e,o,n,l),nr(e)}function Na(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,od(e,l)}}function Zu(e,n){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var c=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var g={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,l=l.next}while(l!==null);h===null?c=h=n:h=h.next=n}else c=h=n;l={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Wu=!1;function La(){if(Wu){var e=Cs;if(e!==null)throw e}}function Ua(e,n,l,o){Wu=!1;var c=e.updateQueue;Fn=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var T=v,R=T.next;T.next=null,g===null?h=R:g.next=R,g=T;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==g&&(v===null?I.firstBaseUpdate=R:v.next=R,I.lastBaseUpdate=T))}if(h!==null){var V=c.baseState;g=0,I=R=T=null,v=h;do{var O=v.lane&-536870913,M=O!==v.lane;if(M?(be&O)===O:(o&O)===O){O!==0&&O===Ss&&(Wu=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var le=e,se=v;O=n;var Me=l;switch(se.tag){case 1:if(le=se.payload,typeof le=="function"){V=le.call(Me,V,O);break e}V=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=se.payload,O=typeof le=="function"?le.call(Me,V,O):le,O==null)break e;V=_({},V,O);break e;case 2:Fn=!0}}O=v.callback,O!==null&&(e.flags|=64,M&&(e.flags|=8192),M=c.callbacks,M===null?c.callbacks=[O]:M.push(O))}else M={lane:O,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(R=I=M,T=V):I=I.next=M,g|=O;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;M=v,v=M.next,M.next=null,c.lastBaseUpdate=M,c.shared.pending=null}}while(!0);I===null&&(T=V),c.baseState=T,c.firstBaseUpdate=R,c.lastBaseUpdate=I,h===null&&(c.shared.lanes=0),ni|=g,e.lanes=g,e.memoizedState=V}}function gp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function _p(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)gp(l[e],n)}var xs=ie(null),fr=ie(0);function yp(e,n){e=Mn,fe(fr,e),fe(xs,n),Mn=e|n.baseLanes}function Ju(){fe(fr,Mn),fe(xs,xs.current)}function ec(){Mn=fr.current,de(xs),de(fr)}var Kn=0,me=null,Oe=null,Fe=null,hr=!1,As=!1,Ui=!1,dr=0,Ia=0,ws=null,rT=0;function Be(){throw Error(s(321))}function tc(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!wt(e[l],n[l]))return!1;return!0}function nc(e,n,l,o,c,h){return Kn=h,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=e===null||e.memoizedState===null?tm:nm,Ui=!1,h=l(o,c),Ui=!1,As&&(h=Ep(n,l,o,c)),vp(e),h}function vp(e){D.H=vr;var n=Oe!==null&&Oe.next!==null;if(Kn=0,Fe=Oe=me=null,hr=!1,Ia=0,ws=null,n)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&lr(e)&&(Je=!0))}function Ep(e,n,l,o){me=e;var c=0;do{if(As&&(ws=null),Ia=0,As=!1,25<=c)throw Error(s(301));if(c+=1,Fe=Oe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}D.H=pT,h=n(l,o)}while(As);return h}function oT(){var e=D.H,n=e.useState()[0];return n=typeof n.then=="function"?ka(n):n,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(me.flags|=1024),n}function ic(){var e=dr!==0;return dr=0,e}function sc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function ac(e){if(hr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}hr=!1}Kn=0,Fe=Oe=me=null,As=!1,Ia=dr=0,ws=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?me.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ge(){if(Oe===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=Fe===null?me.memoizedState:Fe.next;if(n!==null)Fe=n,Oe=e;else{if(e===null)throw me.alternate===null?Error(s(467)):Error(s(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Fe===null?me.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ka(e){var n=Ia;return Ia+=1,ws===null&&(ws=[]),e=dp(ws,e,n),n=me,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?tm:nm),e}function pr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ka(e);if(e.$$typeof===$)return ht(e)}throw Error(s(438,String(e)))}function rc(e){var n=null,l=me.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var o=me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=lc(),me.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),o=0;o<e;o++)l[o]=Y;return n.index++,l}function xn(e,n){return typeof n=="function"?n(e):n}function mr(e){var n=Ge();return oc(n,Oe,e)}function oc(e,n,l){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var c=e.baseQueue,h=o.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,o.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var v=g=null,T=null,R=n,I=!1;do{var V=R.lane&-536870913;if(V!==R.lane?(be&V)===V:(Kn&V)===V){var O=R.revertLane;if(O===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),V===Ss&&(I=!0);else if((Kn&O)===O){R=R.next,O===Ss&&(I=!0);continue}else V={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},T===null?(v=T=V,g=h):T=T.next=V,me.lanes|=O,ni|=O;V=R.action,Ui&&l(h,V),h=R.hasEagerState?R.eagerState:l(h,V)}else O={lane:V,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},T===null?(v=T=O,g=h):T=T.next=O,me.lanes|=V,ni|=V;R=R.next}while(R!==null&&R!==n);if(T===null?g=h:T.next=v,!wt(h,e.memoizedState)&&(Je=!0,I&&(l=Cs,l!==null)))throw l;e.memoizedState=h,e.baseState=g,e.baseQueue=T,o.lastRenderedState=h}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function uc(e){var n=Ge(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var o=l.dispatch,c=l.pending,h=n.memoizedState;if(c!==null){l.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);wt(h,n.memoizedState)||(Je=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,o]}function Tp(e,n,l){var o=me,c=Ge(),h=Ce;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=n();var g=!wt((Oe||c).memoizedState,l);g&&(c.memoizedState=l,Je=!0),c=c.queue;var v=Cp.bind(null,o,c,e);if(za(2048,8,v,[e]),c.getSnapshot!==n||g||Fe!==null&&Fe.memoizedState.tag&1){if(o.flags|=2048,Rs(9,gr(),Sp.bind(null,o,c,l,n),null),Ie===null)throw Error(s(349));h||(Kn&124)!==0||bp(o,n,l)}return l}function bp(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=me.updateQueue,n===null?(n=lc(),me.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Sp(e,n,l,o){n.value=l,n.getSnapshot=o,xp(n)&&Ap(e)}function Cp(e,n,l){return l(function(){xp(n)&&Ap(e)})}function xp(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!wt(e,l)}catch{return!0}}function Ap(e){var n=vs(e,2);n!==null&&Lt(n,e,2)}function cc(e){var n=vt();if(typeof e=="function"){var l=e;if(e=l(),Ui){$n(!0);try{l()}finally{$n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:e},n}function wp(e,n,l,o){return e.baseState=l,oc(e,Oe,typeof o=="function"?o:xn)}function uT(e,n,l,o,c){if(yr(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};D.T!==null?l(!0):h.isTransition=!1,o(h),l=n.pending,l===null?(h.next=n.pending=h,Rp(n,h)):(h.next=l.next,n.pending=l.next=h)}}function Rp(e,n){var l=n.action,o=n.payload,c=e.state;if(n.isTransition){var h=D.T,g={};D.T=g;try{var v=l(c,o),T=D.S;T!==null&&T(g,v),Op(e,n,v)}catch(R){fc(e,n,R)}finally{D.T=h}}else try{h=l(c,o),Op(e,n,h)}catch(R){fc(e,n,R)}}function Op(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){Dp(e,n,o)},function(o){return fc(e,n,o)}):Dp(e,n,l)}function Dp(e,n,l){n.status="fulfilled",n.value=l,Mp(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Rp(e,l)))}function fc(e,n,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=l,Mp(n),n=n.next;while(n!==o)}e.action=null}function Mp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Np(e,n){return n}function Lp(e,n){if(Ce){var l=Ie.formState;if(l!==null){e:{var o=me;if(Ce){if(Pe){t:{for(var c=Pe,h=ln;c.nodeType!==8;){if(!h){c=null;break t}if(c=Kt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Pe=Kt(c.nextSibling),o=c.data==="F!";break e}}Di(o)}o=!1}o&&(n=l[0])}}return l=vt(),l.memoizedState=l.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Np,lastRenderedState:n},l.queue=o,l=Wp.bind(null,me,o),o.dispatch=l,o=cc(!1),h=gc.bind(null,me,!1,o.queue),o=vt(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,l=uT.bind(null,me,c,h,l),c.dispatch=l,o.memoizedState=e,[n,l,!1]}function Up(e){var n=Ge();return Ip(n,Oe,e)}function Ip(e,n,l){if(n=oc(e,n,Np)[0],e=mr(xn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=ka(n)}catch(g){throw g===Da?ur:g}else o=n;n=Ge();var c=n.queue,h=c.dispatch;return l!==n.memoizedState&&(me.flags|=2048,Rs(9,gr(),cT.bind(null,c,l),null)),[o,h,e]}function cT(e,n){e.action=n}function kp(e){var n=Ge(),l=Oe;if(l!==null)return Ip(n,l,e);Ge(),n=n.memoizedState,l=Ge();var o=l.queue.dispatch;return l.memoizedState=e,[n,o,!1]}function Rs(e,n,l,o){return e={tag:e,create:l,deps:o,inst:n,next:null},n=me.updateQueue,n===null&&(n=lc(),me.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,n.lastEffect=e),e}function gr(){return{destroy:void 0,resource:void 0}}function zp(){return Ge().memoizedState}function _r(e,n,l,o){var c=vt();o=o===void 0?null:o,me.flags|=e,c.memoizedState=Rs(1|n,gr(),l,o)}function za(e,n,l,o){var c=Ge();o=o===void 0?null:o;var h=c.memoizedState.inst;Oe!==null&&o!==null&&tc(o,Oe.memoizedState.deps)?c.memoizedState=Rs(n,h,l,o):(me.flags|=e,c.memoizedState=Rs(1|n,h,l,o))}function jp(e,n){_r(8390656,8,e,n)}function Vp(e,n){za(2048,8,e,n)}function Pp(e,n){return za(4,2,e,n)}function Hp(e,n){return za(4,4,e,n)}function $p(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Bp(e,n,l){l=l!=null?l.concat([e]):null,za(4,4,$p.bind(null,n,e),l)}function hc(){}function qp(e,n){var l=Ge();n=n===void 0?null:n;var o=l.memoizedState;return n!==null&&tc(n,o[1])?o[0]:(l.memoizedState=[e,n],e)}function Yp(e,n){var l=Ge();n=n===void 0?null:n;var o=l.memoizedState;if(n!==null&&tc(n,o[1]))return o[0];if(o=e(),Ui){$n(!0);try{e()}finally{$n(!1)}}return l.memoizedState=[o,n],o}function dc(e,n,l){return l===void 0||(Kn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=Qm(),me.lanes|=e,ni|=e,l)}function Fp(e,n,l,o){return wt(l,n)?l:xs.current!==null?(e=dc(e,l,o),wt(e,n)||(Je=!0),e):(Kn&42)===0?(Je=!0,e.memoizedState=l):(e=Qm(),me.lanes|=e,ni|=e,n)}function Gp(e,n,l,o,c){var h=q.p;q.p=h!==0&&8>h?h:8;var g=D.T,v={};D.T=v,gc(e,!1,n,l);try{var T=c(),R=D.S;if(R!==null&&R(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var I=lT(T,o);ja(e,n,I,Nt(e))}else ja(e,n,o,Nt(e))}catch(V){ja(e,n,{then:function(){},status:"rejected",reason:V},Nt())}finally{q.p=h,D.T=g}}function fT(){}function pc(e,n,l,o){if(e.tag!==5)throw Error(s(476));var c=Qp(e).queue;Gp(e,c,n,X,l===null?fT:function(){return Kp(e),l(o)})}function Qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:X},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kp(e){var n=Qp(e).next.queue;ja(e,n,{},Nt())}function mc(){return ht(nl)}function Xp(){return Ge().memoizedState}function Zp(){return Ge().memoizedState}function hT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nt();e=Gn(l);var o=Qn(n,e,l);o!==null&&(Lt(o,n,l),Na(o,n,l)),n={cache:Yu()},e.payload=n;return}n=n.return}}function dT(e,n,l){var o=Nt();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},yr(e)?Jp(n,l):(l=Iu(e,n,l,o),l!==null&&(Lt(l,e,o),em(l,n,o)))}function Wp(e,n,l){var o=Nt();ja(e,n,l,o)}function ja(e,n,l,o){var c={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(yr(e))Jp(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,l);if(c.hasEagerState=!0,c.eagerState=v,wt(v,g))return tr(e,n,c,0),Ie===null&&er(),!1}catch{}finally{}if(l=Iu(e,n,c,o),l!==null)return Lt(l,e,o),em(l,n,o),!0}return!1}function gc(e,n,l,o){if(o={lane:2,revertLane:Qc(),action:o,hasEagerState:!1,eagerState:null,next:null},yr(e)){if(n)throw Error(s(479))}else n=Iu(e,l,o,2),n!==null&&Lt(n,e,2)}function yr(e){var n=e.alternate;return e===me||n!==null&&n===me}function Jp(e,n){As=hr=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function em(e,n,l){if((l&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,od(e,l)}}var vr={readContext:ht,use:pr,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be},tm={readContext:ht,use:pr,useCallback:function(e,n){return vt().memoizedState=[e,n===void 0?null:n],e},useContext:ht,useEffect:jp,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,_r(4194308,4,$p.bind(null,n,e),l)},useLayoutEffect:function(e,n){return _r(4194308,4,e,n)},useInsertionEffect:function(e,n){_r(4,2,e,n)},useMemo:function(e,n){var l=vt();n=n===void 0?null:n;var o=e();if(Ui){$n(!0);try{e()}finally{$n(!1)}}return l.memoizedState=[o,n],o},useReducer:function(e,n,l){var o=vt();if(l!==void 0){var c=l(n);if(Ui){$n(!0);try{l(n)}finally{$n(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=dT.bind(null,me,e),[o.memoizedState,e]},useRef:function(e){var n=vt();return e={current:e},n.memoizedState=e},useState:function(e){e=cc(e);var n=e.queue,l=Wp.bind(null,me,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:hc,useDeferredValue:function(e,n){var l=vt();return dc(l,e,n)},useTransition:function(){var e=cc(!1);return e=Gp.bind(null,me,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var o=me,c=vt();if(Ce){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),Ie===null)throw Error(s(349));(be&124)!==0||bp(o,n,l)}c.memoizedState=l;var h={value:l,getSnapshot:n};return c.queue=h,jp(Cp.bind(null,o,h,e),[e]),o.flags|=2048,Rs(9,gr(),Sp.bind(null,o,h,l,n),null),l},useId:function(){var e=vt(),n=Ie.identifierPrefix;if(Ce){var l=bn,o=Tn;l=(o&~(1<<32-At(o)-1)).toString(32)+l,n=""+n+"R"+l,l=dr++,0<l&&(n+="H"+l.toString(32)),n+=""}else l=rT++,n=""+n+"r"+l.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:mc,useFormState:Lp,useActionState:Lp,useOptimistic:function(e){var n=vt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=gc.bind(null,me,!0,l),l.dispatch=n,[e,n]},useMemoCache:rc,useCacheRefresh:function(){return vt().memoizedState=hT.bind(null,me)}},nm={readContext:ht,use:pr,useCallback:qp,useContext:ht,useEffect:Vp,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:Hp,useMemo:Yp,useReducer:mr,useRef:zp,useState:function(){return mr(xn)},useDebugValue:hc,useDeferredValue:function(e,n){var l=Ge();return Fp(l,Oe.memoizedState,e,n)},useTransition:function(){var e=mr(xn)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:ka(e),n]},useSyncExternalStore:Tp,useId:Xp,useHostTransitionStatus:mc,useFormState:Up,useActionState:Up,useOptimistic:function(e,n){var l=Ge();return wp(l,Oe,e,n)},useMemoCache:rc,useCacheRefresh:Zp},pT={readContext:ht,use:pr,useCallback:qp,useContext:ht,useEffect:Vp,useImperativeHandle:Bp,useInsertionEffect:Pp,useLayoutEffect:Hp,useMemo:Yp,useReducer:uc,useRef:zp,useState:function(){return uc(xn)},useDebugValue:hc,useDeferredValue:function(e,n){var l=Ge();return Oe===null?dc(l,e,n):Fp(l,Oe.memoizedState,e,n)},useTransition:function(){var e=uc(xn)[0],n=Ge().memoizedState;return[typeof e=="boolean"?e:ka(e),n]},useSyncExternalStore:Tp,useId:Xp,useHostTransitionStatus:mc,useFormState:kp,useActionState:kp,useOptimistic:function(e,n){var l=Ge();return Oe!==null?wp(l,Oe,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:rc,useCacheRefresh:Zp},Os=null,Va=0;function Er(e){var n=Va;return Va+=1,Os===null&&(Os=[]),dp(Os,e,n)}function Pa(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Tr(e,n){throw n.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function im(e){var n=e._init;return n(e._payload)}function sm(e){function n(x,S){if(e){var w=x.deletions;w===null?(x.deletions=[S],x.flags|=16):w.push(S)}}function l(x,S){if(!e)return null;for(;S!==null;)n(x,S),S=S.sibling;return null}function o(x){for(var S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function c(x,S){return x=En(x,S),x.index=0,x.sibling=null,x}function h(x,S,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<S?(x.flags|=67108866,S):w):(x.flags|=67108866,S)):(x.flags|=1048576,S)}function g(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,S,w,z){return S===null||S.tag!==6?(S=zu(w,x.mode,z),S.return=x,S):(S=c(S,w),S.return=x,S)}function T(x,S,w,z){var W=w.type;return W===A?I(x,S,w.props.children,z,w.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===P&&im(W)===S.type)?(S=c(S,w.props),Pa(S,w),S.return=x,S):(S=ir(w.type,w.key,w.props,null,x.mode,z),Pa(S,w),S.return=x,S)}function R(x,S,w,z){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=ju(w,x.mode,z),S.return=x,S):(S=c(S,w.children||[]),S.return=x,S)}function I(x,S,w,z,W){return S===null||S.tag!==7?(S=Ai(w,x.mode,z,W),S.return=x,S):(S=c(S,w),S.return=x,S)}function V(x,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=zu(""+S,x.mode,w),S.return=x,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case E:return w=ir(S.type,S.key,S.props,null,x.mode,w),Pa(w,S),w.return=x,w;case C:return S=ju(S,x.mode,w),S.return=x,S;case P:var z=S._init;return S=z(S._payload),V(x,S,w)}if(ce(S)||J(S))return S=Ai(S,x.mode,w,null),S.return=x,S;if(typeof S.then=="function")return V(x,Er(S),w);if(S.$$typeof===$)return V(x,rr(x,S),w);Tr(x,S)}return null}function O(x,S,w,z){var W=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return W!==null?null:v(x,S,""+w,z);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case E:return w.key===W?T(x,S,w,z):null;case C:return w.key===W?R(x,S,w,z):null;case P:return W=w._init,w=W(w._payload),O(x,S,w,z)}if(ce(w)||J(w))return W!==null?null:I(x,S,w,z,null);if(typeof w.then=="function")return O(x,S,Er(w),z);if(w.$$typeof===$)return O(x,S,rr(x,w),z);Tr(x,w)}return null}function M(x,S,w,z,W){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return x=x.get(w)||null,v(S,x,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return x=x.get(z.key===null?w:z.key)||null,T(S,x,z,W);case C:return x=x.get(z.key===null?w:z.key)||null,R(S,x,z,W);case P:var _e=z._init;return z=_e(z._payload),M(x,S,w,z,W)}if(ce(z)||J(z))return x=x.get(w)||null,I(S,x,z,W,null);if(typeof z.then=="function")return M(x,S,w,Er(z),W);if(z.$$typeof===$)return M(x,S,w,rr(S,z),W);Tr(S,z)}return null}function le(x,S,w,z){for(var W=null,_e=null,te=S,ae=S=0,tt=null;te!==null&&ae<w.length;ae++){te.index>ae?(tt=te,te=null):tt=te.sibling;var Se=O(x,te,w[ae],z);if(Se===null){te===null&&(te=tt);break}e&&te&&Se.alternate===null&&n(x,te),S=h(Se,S,ae),_e===null?W=Se:_e.sibling=Se,_e=Se,te=tt}if(ae===w.length)return l(x,te),Ce&&Ri(x,ae),W;if(te===null){for(;ae<w.length;ae++)te=V(x,w[ae],z),te!==null&&(S=h(te,S,ae),_e===null?W=te:_e.sibling=te,_e=te);return Ce&&Ri(x,ae),W}for(te=o(te);ae<w.length;ae++)tt=M(te,x,ae,w[ae],z),tt!==null&&(e&&tt.alternate!==null&&te.delete(tt.key===null?ae:tt.key),S=h(tt,S,ae),_e===null?W=tt:_e.sibling=tt,_e=tt);return e&&te.forEach(function(fi){return n(x,fi)}),Ce&&Ri(x,ae),W}function se(x,S,w,z){if(w==null)throw Error(s(151));for(var W=null,_e=null,te=S,ae=S=0,tt=null,Se=w.next();te!==null&&!Se.done;ae++,Se=w.next()){te.index>ae?(tt=te,te=null):tt=te.sibling;var fi=O(x,te,Se.value,z);if(fi===null){te===null&&(te=tt);break}e&&te&&fi.alternate===null&&n(x,te),S=h(fi,S,ae),_e===null?W=fi:_e.sibling=fi,_e=fi,te=tt}if(Se.done)return l(x,te),Ce&&Ri(x,ae),W;if(te===null){for(;!Se.done;ae++,Se=w.next())Se=V(x,Se.value,z),Se!==null&&(S=h(Se,S,ae),_e===null?W=Se:_e.sibling=Se,_e=Se);return Ce&&Ri(x,ae),W}for(te=o(te);!Se.done;ae++,Se=w.next())Se=M(te,x,ae,Se.value,z),Se!==null&&(e&&Se.alternate!==null&&te.delete(Se.key===null?ae:Se.key),S=h(Se,S,ae),_e===null?W=Se:_e.sibling=Se,_e=Se);return e&&te.forEach(function(mb){return n(x,mb)}),Ce&&Ri(x,ae),W}function Me(x,S,w,z){if(typeof w=="object"&&w!==null&&w.type===A&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case E:e:{for(var W=w.key;S!==null;){if(S.key===W){if(W=w.type,W===A){if(S.tag===7){l(x,S.sibling),z=c(S,w.props.children),z.return=x,x=z;break e}}else if(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===P&&im(W)===S.type){l(x,S.sibling),z=c(S,w.props),Pa(z,w),z.return=x,x=z;break e}l(x,S);break}else n(x,S);S=S.sibling}w.type===A?(z=Ai(w.props.children,x.mode,z,w.key),z.return=x,x=z):(z=ir(w.type,w.key,w.props,null,x.mode,z),Pa(z,w),z.return=x,x=z)}return g(x);case C:e:{for(W=w.key;S!==null;){if(S.key===W)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){l(x,S.sibling),z=c(S,w.children||[]),z.return=x,x=z;break e}else{l(x,S);break}else n(x,S);S=S.sibling}z=ju(w,x.mode,z),z.return=x,x=z}return g(x);case P:return W=w._init,w=W(w._payload),Me(x,S,w,z)}if(ce(w))return le(x,S,w,z);if(J(w)){if(W=J(w),typeof W!="function")throw Error(s(150));return w=W.call(w),se(x,S,w,z)}if(typeof w.then=="function")return Me(x,S,Er(w),z);if(w.$$typeof===$)return Me(x,S,rr(x,w),z);Tr(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,S!==null&&S.tag===6?(l(x,S.sibling),z=c(S,w),z.return=x,x=z):(l(x,S),z=zu(w,x.mode,z),z.return=x,x=z),g(x)):l(x,S)}return function(x,S,w,z){try{Va=0;var W=Me(x,S,w,z);return Os=null,W}catch(te){if(te===Da||te===ur)throw te;var _e=Rt(29,te,null,x.mode);return _e.lanes=z,_e.return=x,_e}finally{}}}var Ds=sm(!0),am=sm(!1),$t=ie(null),rn=null;function Xn(e){var n=e.alternate;fe(Xe,Xe.current&1),fe($t,e),rn===null&&(n===null||xs.current!==null||n.memoizedState!==null)&&(rn=e)}function lm(e){if(e.tag===22){if(fe(Xe,Xe.current),fe($t,e),rn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(rn=e)}}else Zn()}function Zn(){fe(Xe,Xe.current),fe($t,$t.current)}function An(e){de($t),rn===e&&(rn=null),de(Xe)}var Xe=ie(0);function br(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||rf(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _c(e,n,l,o){n=e.memoizedState,l=l(o,n),l=l==null?n:_({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var yc={enqueueSetState:function(e,n,l){e=e._reactInternals;var o=Nt(),c=Gn(o);c.payload=n,l!=null&&(c.callback=l),n=Qn(e,c,o),n!==null&&(Lt(n,e,o),Na(n,e,o))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var o=Nt(),c=Gn(o);c.tag=1,c.payload=n,l!=null&&(c.callback=l),n=Qn(e,c,o),n!==null&&(Lt(n,e,o),Na(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Nt(),o=Gn(l);o.tag=2,n!=null&&(o.callback=n),n=Qn(e,o,l),n!==null&&(Lt(n,e,l),Na(n,e,l))}};function rm(e,n,l,o,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,g):n.prototype&&n.prototype.isPureReactComponent?!ba(l,o)||!ba(c,h):!0}function om(e,n,l,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,o),n.state!==e&&yc.enqueueReplaceState(n,n.state,null)}function Ii(e,n){var l=n;if("ref"in n){l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}if(e=e.defaultProps){l===n&&(l=_({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}var Sr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function um(e){Sr(e)}function cm(e){console.error(e)}function fm(e){Sr(e)}function Cr(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function hm(e,n,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vc(e,n,l){return l=Gn(l),l.tag=3,l.payload={element:null},l.callback=function(){Cr(e,n)},l}function dm(e){return e=Gn(e),e.tag=3,e}function pm(e,n,l,o){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;e.payload=function(){return c(h)},e.callback=function(){hm(n,l,o)}}var g=l.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){hm(n,l,o),typeof c!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function mT(e,n,l,o,c){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=l.alternate,n!==null&&wa(n,l,c,!0),l=$t.current,l!==null){switch(l.tag){case 13:return rn===null?Bc():l.alternate===null&&He===0&&(He=3),l.flags&=-257,l.flags|=65536,l.lanes=c,o===Qu?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([o]):n.add(o),Yc(e,o,c)),!1;case 22:return l.flags|=65536,o===Qu?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([o]):l.add(o)),Yc(e,o,c)),!1}throw Error(s(435,l.tag))}return Yc(e,o,c),Bc(),!1}if(Ce)return n=$t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Hu&&(e=Error(s(422),{cause:o}),Aa(jt(e,l)))):(o!==Hu&&(n=Error(s(423),{cause:o}),Aa(jt(n,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=jt(o,l),c=vc(e.stateNode,o,c),Zu(e,c),He!==4&&(He=2)),!1;var h=Error(s(520),{cause:o});if(h=jt(h,l),Ga===null?Ga=[h]:Ga.push(h),He!==4&&(He=2),n===null)return!0;o=jt(o,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=vc(l.stateNode,o,e),Zu(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ii===null||!ii.has(h))))return l.flags|=65536,c&=-c,l.lanes|=c,c=dm(c),pm(c,e,l,o),Zu(l,c),!1}l=l.return}while(l!==null);return!1}var mm=Error(s(461)),Je=!1;function rt(e,n,l,o){n.child=e===null?am(n,null,l,o):Ds(n,e.child,l,o)}function gm(e,n,l,o,c){l=l.render;var h=n.ref;if("ref"in o){var g={};for(var v in o)v!=="ref"&&(g[v]=o[v])}else g=o;return Ni(n),o=nc(e,n,l,g,h,c),v=ic(),e!==null&&!Je?(sc(e,n,c),wn(e,n,c)):(Ce&&v&&Vu(n),n.flags|=1,rt(e,n,o,c),n.child)}function _m(e,n,l,o,c){if(e===null){var h=l.type;return typeof h=="function"&&!ku(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,ym(e,n,h,o,c)):(e=ir(l.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!wc(e,c)){var g=h.memoizedProps;if(l=l.compare,l=l!==null?l:ba,l(g,o)&&e.ref===n.ref)return wn(e,n,c)}return n.flags|=1,e=En(h,o),e.ref=n.ref,e.return=n,n.child=e}function ym(e,n,l,o,c){if(e!==null){var h=e.memoizedProps;if(ba(h,o)&&e.ref===n.ref)if(Je=!1,n.pendingProps=o=h,wc(e,c))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,wn(e,n,c)}return Ec(e,n,l,o,c)}function vm(e,n,l){var o=n.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=h!==null?h.baseLanes|l:l,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return Em(e,n,o,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&or(n,h!==null?h.cachePool:null),h!==null?yp(n,h):Ju(),lm(n);else return n.lanes=n.childLanes=536870912,Em(e,n,h!==null?h.baseLanes|l:l,l)}else h!==null?(or(n,h.cachePool),yp(n,h),Zn(),n.memoizedState=null):(e!==null&&or(n,null),Ju(),Zn());return rt(e,n,c,l),n.child}function Em(e,n,l,o){var c=Gu();return c=c===null?null:{parent:Ke._currentValue,pool:c},n.memoizedState={baseLanes:l,cachePool:c},e!==null&&or(n,null),Ju(),lm(n),e!==null&&wa(e,n,o,!0),null}function xr(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Ec(e,n,l,o,c){return Ni(n),l=nc(e,n,l,o,void 0,c),o=ic(),e!==null&&!Je?(sc(e,n,c),wn(e,n,c)):(Ce&&o&&Vu(n),n.flags|=1,rt(e,n,l,c),n.child)}function Tm(e,n,l,o,c,h){return Ni(n),n.updateQueue=null,l=Ep(n,o,l,c),vp(e),o=ic(),e!==null&&!Je?(sc(e,n,h),wn(e,n,h)):(Ce&&o&&Vu(n),n.flags|=1,rt(e,n,l,h),n.child)}function bm(e,n,l,o,c){if(Ni(n),n.stateNode===null){var h=Es,g=l.contextType;typeof g=="object"&&g!==null&&(h=ht(g)),h=new l(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=yc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Ku(n),g=l.contextType,h.context=typeof g=="object"&&g!==null?ht(g):Es,h.state=n.memoizedState,g=l.getDerivedStateFromProps,typeof g=="function"&&(_c(n,l,g,o),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&yc.enqueueReplaceState(h,h.state,null),Ua(n,o,h,c),La(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var v=n.memoizedProps,T=Ii(l,v);h.props=T;var R=h.context,I=l.contextType;g=Es,typeof I=="object"&&I!==null&&(g=ht(I));var V=l.getDerivedStateFromProps;I=typeof V=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,I||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||R!==g)&&om(n,h,o,g),Fn=!1;var O=n.memoizedState;h.state=O,Ua(n,o,h,c),La(),R=n.memoizedState,v||O!==R||Fn?(typeof V=="function"&&(_c(n,l,V,o),R=n.memoizedState),(T=Fn||rm(n,l,T,o,O,R,g))?(I||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=R),h.props=o,h.state=R,h.context=g,o=T):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,Xu(e,n),g=n.memoizedProps,I=Ii(l,g),h.props=I,V=n.pendingProps,O=h.context,R=l.contextType,T=Es,typeof R=="object"&&R!==null&&(T=ht(R)),v=l.getDerivedStateFromProps,(R=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==V||O!==T)&&om(n,h,o,T),Fn=!1,O=n.memoizedState,h.state=O,Ua(n,o,h,c),La();var M=n.memoizedState;g!==V||O!==M||Fn||e!==null&&e.dependencies!==null&&lr(e.dependencies)?(typeof v=="function"&&(_c(n,l,v,o),M=n.memoizedState),(I=Fn||rm(n,l,I,o,O,M,T)||e!==null&&e.dependencies!==null&&lr(e.dependencies))?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,M,T),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,M,T)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=M),h.props=o,h.state=M,h.context=T,o=I):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,xr(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=Ds(n,e.child,null,c),n.child=Ds(n,null,l,c)):rt(e,n,l,c),n.memoizedState=h.state,e=n.child):e=wn(e,n,c),e}function Sm(e,n,l,o){return xa(),n.flags|=256,rt(e,n,l,o),n.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bc(e){return{baseLanes:e,cachePool:cp()}}function Sc(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Bt),e}function Cm(e,n,l){var o=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ce){if(c?Xn(n):Zn(),Ce){var v=Pe,T;if(T=v){e:{for(T=v,v=ln;T.nodeType!==8;){if(!v){v=null;break e}if(T=Kt(T.nextSibling),T===null){v=null;break e}}v=T}v!==null?(n.memoizedState={dehydrated:v,treeContext:wi!==null?{id:Tn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},T=Rt(18,null,null,0),T.stateNode=v,T.return=n,n.child=T,pt=n,Pe=null,T=!0):T=!1}T||Di(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return rf(v)?n.lanes=32:n.lanes=536870912,null;An(n)}return v=o.children,o=o.fallback,c?(Zn(),c=n.mode,v=Ar({mode:"hidden",children:v},c),o=Ai(o,c,l,null),v.return=n,o.return=n,v.sibling=o,n.child=v,c=n.child,c.memoizedState=bc(l),c.childLanes=Sc(e,g,l),n.memoizedState=Tc,o):(Xn(n),Cc(n,v))}if(T=e.memoizedState,T!==null&&(v=T.dehydrated,v!==null)){if(h)n.flags&256?(Xn(n),n.flags&=-257,n=xc(e,n,l)):n.memoizedState!==null?(Zn(),n.child=e.child,n.flags|=128,n=null):(Zn(),c=o.fallback,v=n.mode,o=Ar({mode:"visible",children:o.children},v),c=Ai(c,v,l,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,Ds(n,e.child,null,l),o=n.child,o.memoizedState=bc(l),o.childLanes=Sc(e,g,l),n.memoizedState=Tc,n=c);else if(Xn(n),rf(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var R=g.dgst;g=R,o=Error(s(419)),o.stack="",o.digest=g,Aa({value:o,source:null,stack:null}),n=xc(e,n,l)}else if(Je||wa(e,n,l,!1),g=(l&e.childLanes)!==0,Je||g){if(g=Ie,g!==null&&(o=l&-l,o=(o&42)!==0?1:ru(o),o=(o&(g.suspendedLanes|l))!==0?0:o,o!==0&&o!==T.retryLane))throw T.retryLane=o,vs(e,o),Lt(g,e,o),mm;v.data==="$?"||Bc(),n=xc(e,n,l)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=T.treeContext,Pe=Kt(v.nextSibling),pt=n,Ce=!0,Oi=null,ln=!1,e!==null&&(Pt[Ht++]=Tn,Pt[Ht++]=bn,Pt[Ht++]=wi,Tn=e.id,bn=e.overflow,wi=n),n=Cc(n,o.children),n.flags|=4096);return n}return c?(Zn(),c=o.fallback,v=n.mode,T=e.child,R=T.sibling,o=En(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,R!==null?c=En(R,c):(c=Ai(c,v,l,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,v=e.child.memoizedState,v===null?v=bc(l):(T=v.cachePool,T!==null?(R=Ke._currentValue,T=T.parent!==R?{parent:R,pool:R}:T):T=cp(),v={baseLanes:v.baseLanes|l,cachePool:T}),c.memoizedState=v,c.childLanes=Sc(e,g,l),n.memoizedState=Tc,o):(Xn(n),l=e.child,e=l.sibling,l=En(l,{mode:"visible",children:o.children}),l.return=n,l.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=l,n.memoizedState=null,l)}function Cc(e,n){return n=Ar({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ar(e,n){return e=Rt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xc(e,n,l){return Ds(n,e.child,null,l),e=Cc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xm(e,n,l){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bu(e.return,n,l)}function Ac(e,n,l,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=l,h.tailMode=c)}function Am(e,n,l){var o=n.pendingProps,c=o.revealOrder,h=o.tail;if(rt(e,n,o.children,l),o=Xe.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xm(e,l,n);else if(e.tag===19)xm(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(fe(Xe,o),c){case"forwards":for(l=n.child,c=null;l!==null;)e=l.alternate,e!==null&&br(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=n.child,n.child=null):(c=l.sibling,l.sibling=null),Ac(n,!1,c,l,h);break;case"backwards":for(l=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&br(e)===null){n.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Ac(n,!0,l,null,h);break;case"together":Ac(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ni|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(wa(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=En(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=En(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function wc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&lr(e)))}function gT(e,n,l){switch(n.tag){case 3:ts(n,n.stateNode.containerInfo),Yn(n,Ke,e.memoizedState.cache),xa();break;case 27:case 5:ns(n);break;case 4:ts(n,n.stateNode.containerInfo);break;case 10:Yn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Xn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Cm(e,n,l):(Xn(n),e=wn(e,n,l),e!==null?e.sibling:null);Xn(n);break;case 19:var c=(e.flags&128)!==0;if(o=(l&n.childLanes)!==0,o||(wa(e,n,l,!1),o=(l&n.childLanes)!==0),c){if(o)return Am(e,n,l);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),fe(Xe,Xe.current),o)break;return null;case 22:case 23:return n.lanes=0,vm(e,n,l);case 24:Yn(n,Ke,e.memoizedState.cache)}return wn(e,n,l)}function wm(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!wc(e,l)&&(n.flags&128)===0)return Je=!1,gT(e,n,l);Je=(e.flags&131072)!==0}else Je=!1,Ce&&(n.flags&1048576)!==0&&ip(n,ar,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")ku(o)?(e=Ii(o,e),n.tag=1,n=bm(null,n,o,e,l)):(n.tag=0,n=Ec(null,n,o,e,l));else{if(o!=null){if(c=o.$$typeof,c===Z){n.tag=11,n=gm(null,n,o,e,l);break e}else if(c===B){n.tag=14,n=_m(null,n,o,e,l);break e}}throw n=ee(o)||o,Error(s(306,n,""))}}return n;case 0:return Ec(e,n,n.type,n.pendingProps,l);case 1:return o=n.type,c=Ii(o,n.pendingProps),bm(e,n,o,c,l);case 3:e:{if(ts(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var h=n.memoizedState;c=h.element,Xu(e,n),Ua(n,o,null,l);var g=n.memoizedState;if(o=g.cache,Yn(n,Ke,o),o!==h.cache&&qu(n,[Ke],l,!0),La(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Sm(e,n,o,l);break e}else if(o!==c){c=jt(Error(s(424)),n),Aa(c),n=Sm(e,n,o,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Kt(e.firstChild),pt=n,Ce=!0,Oi=null,ln=!0,l=am(n,null,o,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(xa(),o===c){n=wn(e,n,l);break e}rt(e,n,o,l)}n=n.child}return n;case 26:return xr(e,n),e===null?(l=Mg(n.type,null,n.pendingProps,null))?n.memoizedState=l:Ce||(l=n.type,e=n.pendingProps,o=Pr(an.current).createElement(l),o[ft]=n,o[_t]=e,ut(o,l,e),We(o),n.stateNode=o):n.memoizedState=Mg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ns(n),e===null&&Ce&&(o=n.stateNode=Rg(n.type,n.pendingProps,an.current),pt=n,ln=!0,c=Pe,li(n.type)?(of=c,Pe=Kt(o.firstChild)):Pe=c),rt(e,n,n.pendingProps.children,l),xr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ce&&((c=o=Pe)&&(o=qT(o,n.type,n.pendingProps,ln),o!==null?(n.stateNode=o,pt=n,Pe=Kt(o.firstChild),ln=!1,c=!0):c=!1),c||Di(n)),ns(n),c=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,o=h.children,sf(c,h)?o=null:g!==null&&sf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=nc(e,n,oT,null,null,l),nl._currentValue=c),xr(e,n),rt(e,n,o,l),n.child;case 6:return e===null&&Ce&&((e=l=Pe)&&(l=YT(l,n.pendingProps,ln),l!==null?(n.stateNode=l,pt=n,Pe=null,e=!0):e=!1),e||Di(n)),null;case 13:return Cm(e,n,l);case 4:return ts(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ds(n,null,o,l):rt(e,n,o,l),n.child;case 11:return gm(e,n,n.type,n.pendingProps,l);case 7:return rt(e,n,n.pendingProps,l),n.child;case 8:return rt(e,n,n.pendingProps.children,l),n.child;case 12:return rt(e,n,n.pendingProps.children,l),n.child;case 10:return o=n.pendingProps,Yn(n,n.type,o.value),rt(e,n,o.children,l),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Ni(n),c=ht(c),o=o(c),n.flags|=1,rt(e,n,o,l),n.child;case 14:return _m(e,n,n.type,n.pendingProps,l);case 15:return ym(e,n,n.type,n.pendingProps,l);case 19:return Am(e,n,l);case 31:return o=n.pendingProps,l=n.mode,o={mode:o.mode,children:o.children},e===null?(l=Ar(o,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=En(e.child,o),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return vm(e,n,l);case 24:return Ni(n),o=ht(Ke),e===null?(c=Gu(),c===null&&(c=Ie,h=Yu(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=l),c=h),n.memoizedState={parent:o,cache:c},Ku(n),Yn(n,Ke,c)):((e.lanes&l)!==0&&(Xu(e,n),Ua(n,null,null,l),La()),c=e.memoizedState,h=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Yn(n,Ke,o)):(o=h.cache,Yn(n,Ke,o),o!==c.cache&&qu(n,[Ke],l,!0))),rt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Rn(e){e.flags|=4}function Rm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kg(n)){if(n=$t.current,n!==null&&((be&4194048)===be?rn!==null:(be&62914560)!==be&&(be&536870912)===0||n!==rn))throw Ma=Qu,fp;e.flags|=8192}}function wr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ld():536870912,e.lanes|=n,Us|=n)}function Ha(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function je(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(n)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=l,n}function _T(e,n,l){var o=n.pendingProps;switch(Pu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return l=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Cn(Ke),_n(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ca(n)?Rn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lp())),je(n),null;case 26:return l=n.memoizedState,e===null?(Rn(n),l!==null?(je(n),Rm(n,l)):(je(n),n.flags&=-16777217)):l?l!==e.memoizedState?(Rn(n),je(n),Rm(n,l)):(je(n),n.flags&=-16777217):(e.memoizedProps!==o&&Rn(n),je(n),n.flags&=-16777217),null;case 27:Pn(n),l=an.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Rn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return je(n),null}e=Ne.current,Ca(n)?sp(n):(e=Rg(c,o,l),n.stateNode=e,Rn(n))}return je(n),null;case 5:if(Pn(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Rn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return je(n),null}if(e=Ne.current,Ca(n))sp(n);else{switch(c=Pr(an.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(l,{is:o.is}):c.createElement(l)}}e[ft]=n,e[_t]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(ut(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Rn(n)}}return je(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Rn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=an.current,Ca(n)){if(e=n.stateNode,l=n.memoizedProps,o=null,c=pt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ft]=n,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||Tg(e.nodeValue,l)),e||Di(n)}else e=Pr(e).createTextNode(o),e[ft]=n,n.stateNode=e}return je(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ca(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ft]=n}else xa(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),c=!1}else c=lp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(An(n),n):(An(n),null)}if(An(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),wr(n,n.updateQueue),je(n),null;case 4:return _n(),e===null&&Wc(n.stateNode.containerInfo),je(n),null;case 10:return Cn(n.type),je(n),null;case 19:if(de(Xe),c=n.memoizedState,c===null)return je(n),null;if(o=(n.flags&128)!==0,h=c.rendering,h===null)if(o)Ha(c,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=br(e),h!==null){for(n.flags|=128,Ha(c,!1),e=h.updateQueue,n.updateQueue=e,wr(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)np(l,e),l=l.sibling;return fe(Xe,Xe.current&1|2),n.child}e=e.sibling}c.tail!==null&&gt()>Dr&&(n.flags|=128,o=!0,Ha(c,!1),n.lanes=4194304)}else{if(!o)if(e=br(h),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,wr(n,e),Ha(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ce)return je(n),null}else 2*gt()-c.renderingStartTime>Dr&&l!==536870912&&(n.flags|=128,o=!0,Ha(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gt(),n.sibling=null,e=Xe.current,fe(Xe,o?e&1|2:e&1),n):(je(n),null);case 22:case 23:return An(n),ec(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(l&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),l=n.updateQueue,l!==null&&wr(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==l&&(n.flags|=2048),e!==null&&de(Li),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Cn(Ke),je(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function yT(e,n){switch(Pu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Cn(Ke),_n(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Pn(n),null;case 13:if(An(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));xa()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return de(Xe),null;case 4:return _n(),null;case 10:return Cn(n.type),null;case 22:case 23:return An(n),ec(),e!==null&&de(Li),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Cn(Ke),null;case 25:return null;default:return null}}function Om(e,n){switch(Pu(n),n.tag){case 3:Cn(Ke),_n();break;case 26:case 27:case 5:Pn(n);break;case 4:_n();break;case 13:An(n);break;case 19:de(Xe);break;case 10:Cn(n.type);break;case 22:case 23:An(n),ec(),e!==null&&de(Li);break;case 24:Cn(Ke)}}function $a(e,n){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){o=void 0;var h=l.create,g=l.inst;o=h(),g.destroy=o}l=l.next}while(l!==c)}}catch(v){Le(n,n.return,v)}}function Wn(e,n,l){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&e)===e){var g=o.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var T=l,R=v;try{R()}catch(I){Le(c,T,I)}}}o=o.next}while(o!==h)}}catch(I){Le(n,n.return,I)}}function Dm(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{_p(n,l)}catch(o){Le(e,e.return,o)}}}function Mm(e,n,l){l.props=Ii(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Le(e,n,o)}}function Ba(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(c){Le(e,n,c)}}function on(e,n){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(c){Le(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){Le(e,n,c)}else l.current=null}function Nm(e){var n=e.type,l=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break e;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(c){Le(e,e.return,c)}}function Rc(e,n,l){try{var o=e.stateNode;VT(o,e.type,l,n),o[_t]=n}catch(c){Le(e,e.return,c)}}function Lm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&li(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&li(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dc(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=Vr));else if(o!==4&&(o===27&&li(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Dc(e,n,l),e=e.sibling;e!==null;)Dc(e,n,l),e=e.sibling}function Rr(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(o!==4&&(o===27&&li(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Rr(e,n,l),e=e.sibling;e!==null;)Rr(e,n,l),e=e.sibling}function Um(e){var n=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ut(n,o,l),n[ft]=e,n[_t]=l}catch(h){Le(e,e.return,h)}}var On=!1,qe=!1,Mc=!1,Im=typeof WeakSet=="function"?WeakSet:Set,et=null;function vT(e,n){if(e=e.containerInfo,tf=Fr,e=Fd(e),Ou(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var g=0,v=-1,T=-1,R=0,I=0,V=e,O=null;t:for(;;){for(var M;V!==l||c!==0&&V.nodeType!==3||(v=g+c),V!==h||o!==0&&V.nodeType!==3||(T=g+o),V.nodeType===3&&(g+=V.nodeValue.length),(M=V.firstChild)!==null;)O=V,V=M;for(;;){if(V===e)break t;if(O===l&&++R===c&&(v=g),O===h&&++I===o&&(T=g),(M=V.nextSibling)!==null)break;V=O,O=V.parentNode}V=M}l=v===-1||T===-1?null:{start:v,end:T}}else l=null}l=l||{start:0,end:0}}else l=null;for(nf={focusedElem:e,selectionRange:l},Fr=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,c=h.memoizedProps,h=h.memoizedState,o=l.stateNode;try{var le=Ii(l.type,c,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(le,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(se){Le(l,l.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)lf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function km(e,n,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:Jn(e,l),o&4&&$a(5,l);break;case 1:if(Jn(e,l),o&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(g){Le(l,l.return,g)}else{var c=Ii(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Le(l,l.return,g)}}o&64&&Dm(l),o&512&&Ba(l,l.return);break;case 3:if(Jn(e,l),o&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{_p(e,n)}catch(g){Le(l,l.return,g)}}break;case 27:n===null&&o&4&&Um(l);case 26:case 5:Jn(e,l),n===null&&o&4&&Nm(l),o&512&&Ba(l,l.return);break;case 12:Jn(e,l);break;case 13:Jn(e,l),o&4&&Vm(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=RT.bind(null,l),FT(e,l))));break;case 22:if(o=l.memoizedState!==null||On,!o){n=n!==null&&n.memoizedState!==null||qe,c=On;var h=qe;On=o,(qe=n)&&!h?ei(e,l,(l.subtreeFlags&8772)!==0):Jn(e,l),On=c,qe=h}break;case 30:break;default:Jn(e,l)}}function zm(e){var n=e.alternate;n!==null&&(e.alternate=null,zm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&cu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Et=!1;function Dn(e,n,l){for(l=l.child;l!==null;)jm(e,n,l),l=l.sibling}function jm(e,n,l){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(ca,l)}catch{}switch(l.tag){case 26:qe||on(l,n),Dn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qe||on(l,n);var o=ze,c=Et;li(l.type)&&(ze=l.stateNode,Et=!1),Dn(e,n,l),Wa(l.stateNode),ze=o,Et=c;break;case 5:qe||on(l,n);case 6:if(o=ze,c=Et,ze=null,Dn(e,n,l),ze=o,Et=c,ze!==null)if(Et)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(h){Le(l,n,h)}else try{ze.removeChild(l.stateNode)}catch(h){Le(l,n,h)}break;case 18:ze!==null&&(Et?(e=ze,Ag(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ll(e)):Ag(ze,l.stateNode));break;case 4:o=ze,c=Et,ze=l.stateNode.containerInfo,Et=!0,Dn(e,n,l),ze=o,Et=c;break;case 0:case 11:case 14:case 15:qe||Wn(2,l,n),qe||Wn(4,l,n),Dn(e,n,l);break;case 1:qe||(on(l,n),o=l.stateNode,typeof o.componentWillUnmount=="function"&&Mm(l,n,o)),Dn(e,n,l);break;case 21:Dn(e,n,l);break;case 22:qe=(o=qe)||l.memoizedState!==null,Dn(e,n,l),qe=o;break;default:Dn(e,n,l)}}function Vm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(l){Le(n,n.return,l)}}function ET(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Im),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Im),n;default:throw Error(s(435,e.tag))}}function Nc(e,n){var l=ET(e);n.forEach(function(o){var c=OT.bind(null,e,o);l.has(o)||(l.add(o),o.then(c,c))})}function Ot(e,n){var l=n.deletions;if(l!==null)for(var o=0;o<l.length;o++){var c=l[o],h=e,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(li(v.type)){ze=v.stateNode,Et=!1;break e}break;case 5:ze=v.stateNode,Et=!1;break e;case 3:case 4:ze=v.stateNode.containerInfo,Et=!0;break e}v=v.return}if(ze===null)throw Error(s(160));jm(h,g,c),ze=null,Et=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Pm(n,e),n=n.sibling}var Qt=null;function Pm(e,n){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Dt(e),o&4&&(Wn(3,e,e.return),$a(3,e),Wn(5,e,e.return));break;case 1:Ot(n,e),Dt(e),o&512&&(qe||l===null||on(l,l.return)),o&64&&On&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var c=Qt;if(Ot(n,e),Dt(e),o&512&&(qe||l===null||on(l,l.return)),o&4){var h=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){e:{o=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[da]||h[ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),ut(h,o,l),h[ft]=e,We(h),o=h;break e;case"link":var g=Ug("link","href",c).get(o+(l.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){g.splice(v,1);break t}}h=c.createElement(o),ut(h,o,l),c.head.appendChild(h);break;case"meta":if(g=Ug("meta","content",c).get(o+(l.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){g.splice(v,1);break t}}h=c.createElement(o),ut(h,o,l),c.head.appendChild(h);break;default:throw Error(s(468,o))}h[ft]=e,We(h),o=h}e.stateNode=o}else Ig(c,e.type,e.stateNode);else e.stateNode=Lg(c,o,e.memoizedProps);else h!==o?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,o===null?Ig(c,e.type,e.stateNode):Lg(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Rc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ot(n,e),Dt(e),o&512&&(qe||l===null||on(l,l.return)),l!==null&&o&4&&Rc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ot(n,e),Dt(e),o&512&&(qe||l===null||on(l,l.return)),e.flags&32){c=e.stateNode;try{hs(c,"")}catch(M){Le(e,e.return,M)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Rc(e,c,l!==null?l.memoizedProps:c)),o&1024&&(Mc=!0);break;case 6:if(Ot(n,e),Dt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(M){Le(e,e.return,M)}}break;case 3:if(Br=null,c=Qt,Qt=Hr(n.containerInfo),Ot(n,e),Qt=c,Dt(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(M){Le(e,e.return,M)}Mc&&(Mc=!1,Hm(e));break;case 4:o=Qt,Qt=Hr(e.stateNode.containerInfo),Ot(n,e),Dt(e),Qt=o;break;case 12:Ot(n,e),Dt(e);break;case 13:Ot(n,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jc=gt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nc(e,o)));break;case 22:c=e.memoizedState!==null;var T=l!==null&&l.memoizedState!==null,R=On,I=qe;if(On=R||c,qe=I||T,Ot(n,e),qe=I,On=R,Dt(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(l===null||T||On||qe||ki(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){T=l=n;try{if(h=T.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=T.stateNode;var V=T.memoizedProps.style,O=V!=null&&V.hasOwnProperty("display")?V.display:null;v.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(M){Le(T,T.return,M)}}}else if(n.tag===6){if(l===null){T=n;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(M){Le(T,T.return,M)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,Nc(e,l))));break;case 19:Ot(n,e),Dt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Nc(e,o)));break;case 30:break;case 21:break;default:Ot(n,e),Dt(e)}}function Dt(e){var n=e.flags;if(n&2){try{for(var l,o=e.return;o!==null;){if(Lm(o)){l=o;break}o=o.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var c=l.stateNode,h=Oc(e);Rr(e,h,c);break;case 5:var g=l.stateNode;l.flags&32&&(hs(g,""),l.flags&=-33);var v=Oc(e);Rr(e,v,g);break;case 3:case 4:var T=l.stateNode.containerInfo,R=Oc(e);Dc(e,R,T);break;default:throw Error(s(161))}}catch(I){Le(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Jn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)km(e,n.alternate,n),n=n.sibling}function ki(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Wn(4,n,n.return),ki(n);break;case 1:on(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Mm(n,n.return,l),ki(n);break;case 27:Wa(n.stateNode);case 26:case 5:on(n,n.return),ki(n);break;case 22:n.memoizedState===null&&ki(n);break;case 30:ki(n);break;default:ki(n)}e=e.sibling}}function ei(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:ei(c,h,l),$a(4,h);break;case 1:if(ei(c,h,l),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(R){Le(o,o.return,R)}if(o=h,c=o.updateQueue,c!==null){var v=o.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)gp(T[c],v)}catch(R){Le(o,o.return,R)}}l&&g&64&&Dm(h),Ba(h,h.return);break;case 27:Um(h);case 26:case 5:ei(c,h,l),l&&o===null&&g&4&&Nm(h),Ba(h,h.return);break;case 12:ei(c,h,l);break;case 13:ei(c,h,l),l&&g&4&&Vm(c,h);break;case 22:h.memoizedState===null&&ei(c,h,l),Ba(h,h.return);break;case 30:break;default:ei(c,h,l)}n=n.sibling}}function Lc(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ra(l))}function Uc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ra(e))}function un(e,n,l,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)$m(e,n,l,o),n=n.sibling}function $m(e,n,l,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:un(e,n,l,o),c&2048&&$a(9,n);break;case 1:un(e,n,l,o);break;case 3:un(e,n,l,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ra(e)));break;case 12:if(c&2048){un(e,n,l,o),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Le(n,n.return,T)}}else un(e,n,l,o);break;case 13:un(e,n,l,o);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?un(e,n,l,o):qa(e,n):h._visibility&2?un(e,n,l,o):(h._visibility|=2,Ms(e,n,l,o,(n.subtreeFlags&10256)!==0)),c&2048&&Lc(g,n);break;case 24:un(e,n,l,o),c&2048&&Uc(n.alternate,n);break;default:un(e,n,l,o)}}function Ms(e,n,l,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,g=n,v=l,T=o,R=g.flags;switch(g.tag){case 0:case 11:case 15:Ms(h,g,v,T,c),$a(8,g);break;case 23:break;case 22:var I=g.stateNode;g.memoizedState!==null?I._visibility&2?Ms(h,g,v,T,c):qa(h,g):(I._visibility|=2,Ms(h,g,v,T,c)),c&&R&2048&&Lc(g.alternate,g);break;case 24:Ms(h,g,v,T,c),c&&R&2048&&Uc(g.alternate,g);break;default:Ms(h,g,v,T,c)}n=n.sibling}}function qa(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,o=n,c=o.flags;switch(o.tag){case 22:qa(l,o),c&2048&&Lc(o.alternate,o);break;case 24:qa(l,o),c&2048&&Uc(o.alternate,o);break;default:qa(l,o)}n=n.sibling}}var Ya=8192;function Ns(e){if(e.subtreeFlags&Ya)for(e=e.child;e!==null;)Bm(e),e=e.sibling}function Bm(e){switch(e.tag){case 26:Ns(e),e.flags&Ya&&e.memoizedState!==null&&ab(Qt,e.memoizedState,e.memoizedProps);break;case 5:Ns(e);break;case 3:case 4:var n=Qt;Qt=Hr(e.stateNode.containerInfo),Ns(e),Qt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ya,Ya=16777216,Ns(e),Ya=n):Ns(e));break;default:Ns(e)}}function qm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];et=o,Fm(o,e)}qm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Or(e)):Fa(e);break;default:Fa(e)}}function Or(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];et=o,Fm(o,e)}qm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Wn(8,n,n.return),Or(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Or(n));break;default:Or(n)}e=e.sibling}}function Fm(e,n){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:Wn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ra(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,et=o;else e:for(l=e;et!==null;){o=et;var c=o.sibling,h=o.return;if(zm(o),o===l){et=null;break e}if(c!==null){c.return=h,et=c;break e}et=h}}}var TT={getCacheForType:function(e){var n=ht(Ke),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},bT=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ie=null,Ee=null,be=0,we=0,Mt=null,ti=!1,Ls=!1,Ic=!1,Mn=0,He=0,ni=0,zi=0,kc=0,Bt=0,Us=0,Ga=null,Tt=null,zc=!1,jc=0,Dr=1/0,Mr=null,ii=null,ot=0,si=null,Is=null,ks=0,Vc=0,Pc=null,Gm=null,Qa=0,Hc=null;function Nt(){if((Ae&2)!==0&&be!==0)return be&-be;if(D.T!==null){var e=Ss;return e!==0?e:Qc()}return ud()}function Qm(){Bt===0&&(Bt=(be&536870912)===0||Ce?ad():536870912);var e=$t.current;return e!==null&&(e.flags|=32),Bt}function Lt(e,n,l){(e===Ie&&(we===2||we===9)||e.cancelPendingCommit!==null)&&(zs(e,0),ai(e,be,Bt,!1)),ha(e,l),((Ae&2)===0||e!==Ie)&&(e===Ie&&((Ae&2)===0&&(zi|=l),He===4&&ai(e,be,Bt,!1)),cn(e))}function Km(e,n,l){if((Ae&6)!==0)throw Error(s(327));var o=!l&&(n&124)===0&&(n&e.expiredLanes)===0||fa(e,n),c=o?xT(e,n):qc(e,n,!0),h=o;do{if(c===0){Ls&&!o&&ai(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!ST(l)){c=qc(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=e;c=Ga;var T=v.current.memoizedState.isDehydrated;if(T&&(zs(v,g).flags|=256),g=qc(v,g,!1),g!==2){if(Ic&&!T){v.errorRecoveryDisabledLanes|=h,zi|=h,c=4;break e}h=Tt,Tt=c,h!==null&&(Tt===null?Tt=h:Tt.push.apply(Tt,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){zs(e,0),ai(e,n,0,!0);break}e:{switch(o=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ai(o,n,Bt,!ti);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=jc+300-gt(),10<c)){if(ai(o,n,Bt,!ti),$l(o,0,!0)!==0)break e;o.timeoutHandle=Cg(Xm.bind(null,o,l,Tt,Mr,zc,n,Bt,zi,Us,ti,h,2,-0,0),c);break e}Xm(o,l,Tt,Mr,zc,n,Bt,zi,Us,ti,h,0,-0,0)}}break}while(!0);cn(e)}function Xm(e,n,l,o,c,h,g,v,T,R,I,V,O,M){if(e.timeoutHandle=-1,V=n.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(tl={stylesheets:null,count:0,unsuspend:sb},Bm(n),V=lb(),V!==null)){e.cancelPendingCommit=V(ig.bind(null,e,n,h,l,o,c,g,v,T,I,1,O,M)),ai(e,h,g,!R);return}ig(e,n,h,l,o,c,g,v,T)}function ST(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var c=l[o],h=c.getSnapshot;c=c.value;try{if(!wt(h(),c))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ai(e,n,l,o){n&=~kc,n&=~zi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var h=31-At(c),g=1<<h;o[h]=-1,c&=~g}l!==0&&rd(e,l,n)}function Nr(){return(Ae&6)===0?(Ka(0),!1):!0}function $c(){if(Ee!==null){if(we===0)var e=Ee.return;else e=Ee,Sn=Mi=null,ac(e),Os=null,Va=0,e=Ee;for(;e!==null;)Om(e.alternate,e),e=e.return;Ee=null}}function zs(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,HT(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),$c(),Ie=e,Ee=l=En(e.current,null),be=n,we=0,Mt=null,ti=!1,Ls=fa(e,n),Ic=!1,Us=Bt=kc=zi=ni=He=0,Tt=Ga=null,zc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-At(o),h=1<<c;n|=e[c],o&=~h}return Mn=n,er(),l}function Zm(e,n){me=null,D.H=vr,n===Da||n===ur?(n=pp(),we=3):n===fp?(n=pp(),we=4):we=n===mm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mt=n,Ee===null&&(He=1,Cr(e,jt(n,e.current)))}function Wm(){var e=D.H;return D.H=vr,e===null?vr:e}function Jm(){var e=D.A;return D.A=TT,e}function Bc(){He=4,ti||(be&4194048)!==be&&$t.current!==null||(Ls=!0),(ni&134217727)===0&&(zi&134217727)===0||Ie===null||ai(Ie,be,Bt,!1)}function qc(e,n,l){var o=Ae;Ae|=2;var c=Wm(),h=Jm();(Ie!==e||be!==n)&&(Mr=null,zs(e,n)),n=!1;var g=He;e:do try{if(we!==0&&Ee!==null){var v=Ee,T=Mt;switch(we){case 8:$c(),g=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(n=!0);var R=we;if(we=0,Mt=null,js(e,v,T,R),l&&Ls){g=0;break e}break;default:R=we,we=0,Mt=null,js(e,v,T,R)}}CT(),g=He;break}catch(I){Zm(e,I)}while(!0);return n&&e.shellSuspendCounter++,Sn=Mi=null,Ae=o,D.H=c,D.A=h,Ee===null&&(Ie=null,be=0,er()),g}function CT(){for(;Ee!==null;)eg(Ee)}function xT(e,n){var l=Ae;Ae|=2;var o=Wm(),c=Jm();Ie!==e||be!==n?(Mr=null,Dr=gt()+500,zs(e,n)):Ls=fa(e,n);e:do try{if(we!==0&&Ee!==null){n=Ee;var h=Mt;t:switch(we){case 1:we=0,Mt=null,js(e,n,h,1);break;case 2:case 9:if(hp(h)){we=0,Mt=null,tg(n);break}n=function(){we!==2&&we!==9||Ie!==e||(we=7),cn(e)},h.then(n,n);break e;case 3:we=7;break e;case 4:we=5;break e;case 7:hp(h)?(we=0,Mt=null,tg(n)):(we=0,Mt=null,js(e,n,h,7));break;case 5:var g=null;switch(Ee.tag){case 26:g=Ee.memoizedState;case 5:case 27:var v=Ee;if(!g||kg(g)){we=0,Mt=null;var T=v.sibling;if(T!==null)Ee=T;else{var R=v.return;R!==null?(Ee=R,Lr(R)):Ee=null}break t}}we=0,Mt=null,js(e,n,h,5);break;case 6:we=0,Mt=null,js(e,n,h,6);break;case 8:$c(),He=6;break e;default:throw Error(s(462))}}AT();break}catch(I){Zm(e,I)}while(!0);return Sn=Mi=null,D.H=o,D.A=c,Ae=l,Ee!==null?0:(Ie=null,be=0,er(),He)}function AT(){for(;Ee!==null&&!is();)eg(Ee)}function eg(e){var n=wm(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,n===null?Lr(e):Ee=n}function tg(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Tm(l,n,n.pendingProps,n.type,void 0,be);break;case 11:n=Tm(l,n,n.pendingProps,n.type.render,n.ref,be);break;case 5:ac(n);default:Om(l,n),n=Ee=np(n,Mn),n=wm(l,n,Mn)}e.memoizedProps=e.pendingProps,n===null?Lr(e):Ee=n}function js(e,n,l,o){Sn=Mi=null,ac(n),Os=null,Va=0;var c=n.return;try{if(mT(e,c,n,l,be)){He=1,Cr(e,jt(l,e.current)),Ee=null;return}}catch(h){if(c!==null)throw Ee=c,h;He=1,Cr(e,jt(l,e.current)),Ee=null;return}n.flags&32768?(Ce||o===1?e=!0:Ls||(be&536870912)!==0?e=!1:(ti=e=!0,(o===2||o===9||o===3||o===6)&&(o=$t.current,o!==null&&o.tag===13&&(o.flags|=16384))),ng(n,e)):Lr(n)}function Lr(e){var n=e;do{if((n.flags&32768)!==0){ng(n,ti);return}e=n.return;var l=_T(n.alternate,n,Mn);if(l!==null){Ee=l;return}if(n=n.sibling,n!==null){Ee=n;return}Ee=n=e}while(n!==null);He===0&&(He=5)}function ng(e,n){do{var l=yT(e.alternate,e);if(l!==null){l.flags&=32767,Ee=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=l}while(e!==null);He=6,Ee=null}function ig(e,n,l,o,c,h,g,v,T){e.cancelPendingCommit=null;do Ur();while(ot!==0);if((Ae&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Uu,sE(e,l,h,g,v,T),e===Ie&&(Ee=Ie=null,be=0),Is=n,si=e,ks=l,Vc=h,Pc=c,Gm=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,DT(Vl,function(){return og(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=D.T,D.T=null,c=q.p,q.p=2,g=Ae,Ae|=4;try{vT(e,n,l)}finally{Ae=g,q.p=c,D.T=o}}ot=1,sg(),ag(),lg()}}function sg(){if(ot===1){ot=0;var e=si,n=Is,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var o=q.p;q.p=2;var c=Ae;Ae|=4;try{Pm(n,e);var h=nf,g=Fd(e.containerInfo),v=h.focusedElem,T=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&Yd(v.ownerDocument.documentElement,v)){if(T!==null&&Ou(v)){var R=T.start,I=T.end;if(I===void 0&&(I=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(I,v.value.length);else{var V=v.ownerDocument||document,O=V&&V.defaultView||window;if(O.getSelection){var M=O.getSelection(),le=v.textContent.length,se=Math.min(T.start,le),Me=T.end===void 0?se:Math.min(T.end,le);!M.extend&&se>Me&&(g=Me,Me=se,se=g);var x=qd(v,se),S=qd(v,Me);if(x&&S&&(M.rangeCount!==1||M.anchorNode!==x.node||M.anchorOffset!==x.offset||M.focusNode!==S.node||M.focusOffset!==S.offset)){var w=V.createRange();w.setStart(x.node,x.offset),M.removeAllRanges(),se>Me?(M.addRange(w),M.extend(S.node,S.offset)):(w.setEnd(S.node,S.offset),M.addRange(w))}}}}for(V=[],M=v;M=M.parentNode;)M.nodeType===1&&V.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<V.length;v++){var z=V[v];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Fr=!!tf,nf=tf=null}finally{Ae=c,q.p=o,D.T=l}}e.current=n,ot=2}}function ag(){if(ot===2){ot=0;var e=si,n=Is,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var o=q.p;q.p=2;var c=Ae;Ae|=4;try{km(e,n.alternate,n)}finally{Ae=c,q.p=o,D.T=l}}ot=3}}function lg(){if(ot===4||ot===3){ot=0,oa();var e=si,n=Is,l=ks,o=Gm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,Is=si=null,rg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ii=null),ou(l),n=n.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(ca,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=D.T,c=q.p,q.p=2,D.T=null;try{for(var h=e.onRecoverableError,g=0;g<o.length;g++){var v=o[g];h(v.value,{componentStack:v.stack})}}finally{D.T=n,q.p=c}}(ks&3)!==0&&Ur(),cn(e),c=e.pendingLanes,(l&4194090)!==0&&(c&42)!==0?e===Hc?Qa++:(Qa=0,Hc=e):Qa=0,Ka(0)}}function rg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ra(n)))}function Ur(e){return sg(),ag(),lg(),og()}function og(){if(ot!==5)return!1;var e=si,n=Vc;Vc=0;var l=ou(ks),o=D.T,c=q.p;try{q.p=32>l?32:l,D.T=null,l=Pc,Pc=null;var h=si,g=ks;if(ot=0,Is=si=null,ks=0,(Ae&6)!==0)throw Error(s(331));var v=Ae;if(Ae|=4,Ym(h.current),$m(h,h.current,g,l),Ae=v,Ka(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(ca,h)}catch{}return!0}finally{q.p=c,D.T=o,rg(e,n)}}function ug(e,n,l){n=jt(l,n),n=vc(e.stateNode,n,2),e=Qn(e,n,2),e!==null&&(ha(e,2),cn(e))}function Le(e,n,l){if(e.tag===3)ug(e,e,l);else for(;n!==null;){if(n.tag===3){ug(n,e,l);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ii===null||!ii.has(o))){e=jt(l,e),l=dm(2),o=Qn(n,l,2),o!==null&&(pm(l,o,n,e),ha(o,2),cn(o));break}}n=n.return}}function Yc(e,n,l){var o=e.pingCache;if(o===null){o=e.pingCache=new bT;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(l)||(Ic=!0,c.add(l),e=wT.bind(null,e,n,l),n.then(e,e))}function wT(e,n,l){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ie===e&&(be&l)===l&&(He===4||He===3&&(be&62914560)===be&&300>gt()-jc?(Ae&2)===0&&zs(e,0):kc|=l,Us===be&&(Us=0)),cn(e)}function cg(e,n){n===0&&(n=ld()),e=vs(e,n),e!==null&&(ha(e,n),cn(e))}function RT(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),cg(e,l)}function OT(e,n){var l=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),cg(e,l)}function DT(e,n){return Ei(e,n)}var Ir=null,Vs=null,Fc=!1,kr=!1,Gc=!1,ji=0;function cn(e){e!==Vs&&e.next===null&&(Vs===null?Ir=Vs=e:Vs=Vs.next=e),kr=!0,Fc||(Fc=!0,NT())}function Ka(e,n){if(!Gc&&kr){Gc=!0;do for(var l=!1,o=Ir;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var g=o.suspendedLanes,v=o.pingedLanes;h=(1<<31-At(42|e)+1)-1,h&=c&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,pg(o,h))}else h=be,h=$l(o,o===Ie?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||fa(o,h)||(l=!0,pg(o,h));o=o.next}while(l);Gc=!1}}function MT(){fg()}function fg(){kr=Fc=!1;var e=0;ji!==0&&(PT()&&(e=ji),ji=0);for(var n=gt(),l=null,o=Ir;o!==null;){var c=o.next,h=hg(o,n);h===0?(o.next=null,l===null?Ir=c:l.next=c,c===null&&(Vs=l)):(l=o,(e!==0||(h&3)!==0)&&(kr=!0)),o=c}Ka(e)}function hg(e,n){for(var l=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-At(h),v=1<<g,T=c[g];T===-1?((v&l)===0||(v&o)!==0)&&(c[g]=iE(v,n)):T<=n&&(e.expiredLanes|=v),h&=~v}if(n=Ie,l=be,l=$l(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===n&&(we===2||we===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hn(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||fa(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(o!==null&&Hn(o),ou(l)){case 2:case 8:l=au;break;case 32:l=Vl;break;case 268435456:l=sd;break;default:l=Vl}return o=dg.bind(null,e),l=Ei(l,o),e.callbackPriority=n,e.callbackNode=l,n}return o!==null&&o!==null&&Hn(o),e.callbackPriority=2,e.callbackNode=null,2}function dg(e,n){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ur()&&e.callbackNode!==l)return null;var o=be;return o=$l(e,e===Ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Km(e,o,n),hg(e,gt()),e.callbackNode!=null&&e.callbackNode===l?dg.bind(null,e):null)}function pg(e,n){if(Ur())return null;Km(e,n,!0)}function NT(){$T(function(){(Ae&6)!==0?Ei(ss,MT):fg()})}function Qc(){return ji===0&&(ji=ad()),ji}function mg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Gl(""+e)}function gg(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function LT(e,n,l,o,c){if(n==="submit"&&l&&l.stateNode===c){var h=mg((c[_t]||null).action),g=o.submitter;g&&(n=(n=g[_t]||null)?mg(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new Zl("action","action",null,o,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ji!==0){var T=g?gg(c,g):new FormData(c);pc(l,{pending:!0,data:T,method:c.method,action:h},null,T)}}else typeof h=="function"&&(v.preventDefault(),T=g?gg(c,g):new FormData(c),pc(l,{pending:!0,data:T,method:c.method,action:h},h,T))},currentTarget:c}]})}}for(var Kc=0;Kc<Lu.length;Kc++){var Xc=Lu[Kc],UT=Xc.toLowerCase(),IT=Xc[0].toUpperCase()+Xc.slice(1);Gt(UT,"on"+IT)}Gt(Kd,"onAnimationEnd"),Gt(Xd,"onAnimationIteration"),Gt(Zd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(WE,"onTransitionRun"),Gt(JE,"onTransitionStart"),Gt(eT,"onTransitionCancel"),Gt(Wd,"onTransitionEnd"),us("onMouseEnter",["mouseout","mouseover"]),us("onMouseLeave",["mouseout","mouseover"]),us("onPointerEnter",["pointerout","pointerover"]),us("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function _g(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],c=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var g=o.length-1;0<=g;g--){var v=o[g],T=v.instance,R=v.currentTarget;if(v=v.listener,T!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=R;try{h(c)}catch(I){Sr(I)}c.currentTarget=null,h=T}else for(g=0;g<o.length;g++){if(v=o[g],T=v.instance,R=v.currentTarget,v=v.listener,T!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=R;try{h(c)}catch(I){Sr(I)}c.currentTarget=null,h=T}}}}function Te(e,n){var l=n[uu];l===void 0&&(l=n[uu]=new Set);var o=e+"__bubble";l.has(o)||(yg(n,e,2,!1),l.add(o))}function Zc(e,n,l){var o=0;n&&(o|=4),yg(l,e,o,n)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Wc(e){if(!e[zr]){e[zr]=!0,fd.forEach(function(l){l!=="selectionchange"&&(kT.has(l)||Zc(l,!1,e),Zc(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[zr]||(n[zr]=!0,Zc("selectionchange",!1,n))}}function yg(e,n,l,o){switch($g(n)){case 2:var c=ub;break;case 8:c=cb;break;default:c=df}l=c.bind(null,n,l,e),c=void 0,!Eu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,l,{capture:!0,passive:c}):e.addEventListener(n,l,!0):c!==void 0?e.addEventListener(n,l,{passive:c}):e.addEventListener(n,l,!1)}function Jc(e,n,l,o,c){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var v=o.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=o.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=ls(v),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){o=h=g;continue e}v=v.parentNode}}o=o.return}xd(function(){var R=h,I=yu(l),V=[];e:{var O=Jd.get(e);if(O!==void 0){var M=Zl,le=e;switch(e){case"keypress":if(Kl(l)===0)break e;case"keydown":case"keyup":M=DE;break;case"focusin":le="focus",M=Cu;break;case"focusout":le="blur",M=Cu;break;case"beforeblur":case"afterblur":M=Cu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=yE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=LE;break;case Kd:case Xd:case Zd:M=TE;break;case Wd:M=IE;break;case"scroll":case"scrollend":M=gE;break;case"wheel":M=zE;break;case"copy":case"cut":case"paste":M=SE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Dd;break;case"toggle":case"beforetoggle":M=VE}var se=(n&4)!==0,Me=!se&&(e==="scroll"||e==="scrollend"),x=se?O!==null?O+"Capture":null:O;se=[];for(var S=R,w;S!==null;){var z=S;if(w=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||w===null||x===null||(z=ma(S,x),z!=null&&se.push(Za(S,z,w))),Me)break;S=S.return}0<se.length&&(O=new M(O,le,null,l,I),V.push({event:O,listeners:se}))}}if((n&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",O&&l!==_u&&(le=l.relatedTarget||l.fromElement)&&(ls(le)||le[as]))break e;if((M||O)&&(O=I.window===I?I:(O=I.ownerDocument)?O.defaultView||O.parentWindow:window,M?(le=l.relatedTarget||l.toElement,M=R,le=le?ls(le):null,le!==null&&(Me=u(le),se=le.tag,le!==Me||se!==5&&se!==27&&se!==6)&&(le=null)):(M=null,le=R),M!==le)){if(se=Rd,z="onMouseLeave",x="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(se=Dd,z="onPointerLeave",x="onPointerEnter",S="pointer"),Me=M==null?O:pa(M),w=le==null?O:pa(le),O=new se(z,S+"leave",M,l,I),O.target=Me,O.relatedTarget=w,z=null,ls(I)===R&&(se=new se(x,S+"enter",le,l,I),se.target=w,se.relatedTarget=Me,z=se),Me=z,M&&le)t:{for(se=M,x=le,S=0,w=se;w;w=Ps(w))S++;for(w=0,z=x;z;z=Ps(z))w++;for(;0<S-w;)se=Ps(se),S--;for(;0<w-S;)x=Ps(x),w--;for(;S--;){if(se===x||x!==null&&se===x.alternate)break t;se=Ps(se),x=Ps(x)}se=null}else se=null;M!==null&&vg(V,O,M,se,!1),le!==null&&Me!==null&&vg(V,Me,le,se,!0)}}e:{if(O=R?pa(R):window,M=O.nodeName&&O.nodeName.toLowerCase(),M==="select"||M==="input"&&O.type==="file")var W=jd;else if(kd(O))if(Vd)W=KE;else{W=GE;var _e=FE}else M=O.nodeName,!M||M.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&gu(R.elementType)&&(W=jd):W=QE;if(W&&(W=W(e,R))){zd(V,W,l,I);break e}_e&&_e(e,O,R),e==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&mu(O,"number",O.value)}switch(_e=R?pa(R):window,e){case"focusin":(kd(_e)||_e.contentEditable==="true")&&(gs=_e,Du=R,Sa=null);break;case"focusout":Sa=Du=gs=null;break;case"mousedown":Mu=!0;break;case"contextmenu":case"mouseup":case"dragend":Mu=!1,Gd(V,l,I);break;case"selectionchange":if(ZE)break;case"keydown":case"keyup":Gd(V,l,I)}var te;if(Au)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ms?Ud(e,l)&&(ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ae="onCompositionStart");ae&&(Md&&l.locale!=="ko"&&(ms||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ms&&(te=Ad()):(qn=I,Tu="value"in qn?qn.value:qn.textContent,ms=!0)),_e=jr(R,ae),0<_e.length&&(ae=new Od(ae,e,null,l,I),V.push({event:ae,listeners:_e}),te?ae.data=te:(te=Id(l),te!==null&&(ae.data=te)))),(te=HE?$E(e,l):BE(e,l))&&(ae=jr(R,"onBeforeInput"),0<ae.length&&(_e=new Od("onBeforeInput","beforeinput",null,l,I),V.push({event:_e,listeners:ae}),_e.data=te)),LT(V,e,R,l,I)}_g(V,n)})}function Za(e,n,l){return{instance:e,listener:n,currentTarget:l}}function jr(e,n){for(var l=n+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ma(e,l),c!=null&&o.unshift(Za(e,c,h)),c=ma(e,n),c!=null&&o.push(Za(e,c,h))),e.tag===3)return o;e=e.return}return[]}function Ps(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vg(e,n,l,o,c){for(var h=n._reactName,g=[];l!==null&&l!==o;){var v=l,T=v.alternate,R=v.stateNode;if(v=v.tag,T!==null&&T===o)break;v!==5&&v!==26&&v!==27||R===null||(T=R,c?(R=ma(l,h),R!=null&&g.unshift(Za(l,R,T))):c||(R=ma(l,h),R!=null&&g.push(Za(l,R,T)))),l=l.return}g.length!==0&&e.push({event:n,listeners:g})}var zT=/\r\n?/g,jT=/\u0000|\uFFFD/g;function Eg(e){return(typeof e=="string"?e:""+e).replace(zT,`
`).replace(jT,"")}function Tg(e,n){return n=Eg(n),Eg(e)===n}function Vr(){}function De(e,n,l,o,c,h){switch(l){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||hs(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&hs(e,""+o);break;case"className":ql(e,"class",o);break;case"tabIndex":ql(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":ql(e,l,o);break;case"style":Sd(e,o,h);break;case"data":if(n!=="object"){ql(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Gl(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&De(e,n,"name",c.name,c,null),De(e,n,"formEncType",c.formEncType,c,null),De(e,n,"formMethod",c.formMethod,c,null),De(e,n,"formTarget",c.formTarget,c,null)):(De(e,n,"encType",c.encType,c,null),De(e,n,"method",c.method,c,null),De(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Gl(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Vr);break;case"onScroll":o!=null&&Te("scroll",e);break;case"onScrollEnd":o!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=Gl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Bl(e,"popover",o);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Bl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pE.get(l)||l,Bl(e,l,o))}}function ef(e,n,l,o,c,h){switch(l){case"style":Sd(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof o=="string"?hs(e,o):(typeof o=="number"||typeof o=="bigint")&&hs(e,""+o);break;case"onScroll":o!=null&&Te("scroll",e);break;case"onScrollEnd":o!=null&&Te("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Vr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),n=l.slice(2,c?l.length-7:void 0),h=e[_t]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,o,c);break e}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Bl(e,l,o)}}}function ut(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var o=!1,c=!1,h;for(h in l)if(l.hasOwnProperty(h)){var g=l[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,h,g,l,null)}}c&&De(e,n,"srcSet",l.srcSet,l,null),o&&De(e,n,"src",l.src,l,null);return;case"input":Te("invalid",e);var v=h=g=c=null,T=null,R=null;for(o in l)if(l.hasOwnProperty(o)){var I=l[o];if(I!=null)switch(o){case"name":c=I;break;case"type":g=I;break;case"checked":T=I;break;case"defaultChecked":R=I;break;case"value":h=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,n));break;default:De(e,n,o,I,l,null)}}vd(e,h,v,T,R,g,c,!1),Yl(e);return;case"select":Te("invalid",e),o=g=h=null;for(c in l)if(l.hasOwnProperty(c)&&(v=l[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":o=v;default:De(e,n,c,v,l,null)}n=h,l=g,e.multiple=!!o,n!=null?fs(e,!!o,n,!1):l!=null&&fs(e,!!o,l,!0);return;case"textarea":Te("invalid",e),h=c=o=null;for(g in l)if(l.hasOwnProperty(g)&&(v=l[g],v!=null))switch(g){case"value":o=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:De(e,n,g,v,l,null)}Td(e,o,c,h),Yl(e);return;case"option":for(T in l)if(l.hasOwnProperty(T)&&(o=l[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:De(e,n,T,o,l,null)}return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(o=0;o<Xa.length;o++)Te(Xa[o],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in l)if(l.hasOwnProperty(R)&&(o=l[R],o!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,R,o,l,null)}return;default:if(gu(n)){for(I in l)l.hasOwnProperty(I)&&(o=l[I],o!==void 0&&ef(e,n,I,o,l,void 0));return}}for(v in l)l.hasOwnProperty(v)&&(o=l[v],o!=null&&De(e,n,v,o,l,null))}function VT(e,n,l,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,v=null,T=null,R=null,I=null;for(M in l){var V=l[M];if(l.hasOwnProperty(M)&&V!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":T=V;default:o.hasOwnProperty(M)||De(e,n,M,null,o,V)}}for(var O in o){var M=o[O];if(V=l[O],o.hasOwnProperty(O)&&(M!=null||V!=null))switch(O){case"type":h=M;break;case"name":c=M;break;case"checked":R=M;break;case"defaultChecked":I=M;break;case"value":g=M;break;case"defaultValue":v=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(s(137,n));break;default:M!==V&&De(e,n,O,M,o,V)}}pu(e,g,v,T,R,I,h,c);return;case"select":M=g=v=O=null;for(h in l)if(T=l[h],l.hasOwnProperty(h)&&T!=null)switch(h){case"value":break;case"multiple":M=T;default:o.hasOwnProperty(h)||De(e,n,h,null,o,T)}for(c in o)if(h=o[c],T=l[c],o.hasOwnProperty(c)&&(h!=null||T!=null))switch(c){case"value":O=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==T&&De(e,n,c,h,o,T)}n=v,l=g,o=M,O!=null?fs(e,!!l,O,!1):!!o!=!!l&&(n!=null?fs(e,!!l,n,!0):fs(e,!!l,l?[]:"",!1));return;case"textarea":M=O=null;for(v in l)if(c=l[v],l.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:De(e,n,v,null,o,c)}for(g in o)if(c=o[g],h=l[g],o.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":O=c;break;case"defaultValue":M=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&De(e,n,g,c,o,h)}Ed(e,O,M);return;case"option":for(var le in l)if(O=l[le],l.hasOwnProperty(le)&&O!=null&&!o.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:De(e,n,le,null,o,O)}for(T in o)if(O=o[T],M=l[T],o.hasOwnProperty(T)&&O!==M&&(O!=null||M!=null))switch(T){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:De(e,n,T,O,o,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)O=l[se],l.hasOwnProperty(se)&&O!=null&&!o.hasOwnProperty(se)&&De(e,n,se,null,o,O);for(R in o)if(O=o[R],M=l[R],o.hasOwnProperty(R)&&O!==M&&(O!=null||M!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,n));break;default:De(e,n,R,O,o,M)}return;default:if(gu(n)){for(var Me in l)O=l[Me],l.hasOwnProperty(Me)&&O!==void 0&&!o.hasOwnProperty(Me)&&ef(e,n,Me,void 0,o,O);for(I in o)O=o[I],M=l[I],!o.hasOwnProperty(I)||O===M||O===void 0&&M===void 0||ef(e,n,I,O,o,M);return}}for(var x in l)O=l[x],l.hasOwnProperty(x)&&O!=null&&!o.hasOwnProperty(x)&&De(e,n,x,null,o,O);for(V in o)O=o[V],M=l[V],!o.hasOwnProperty(V)||O===M||O==null&&M==null||De(e,n,V,O,o,M)}var tf=null,nf=null;function Pr(e){return e.nodeType===9?e:e.ownerDocument}function bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var af=null;function PT(){var e=window.event;return e&&e.type==="popstate"?e===af?!1:(af=e,!0):(af=null,!1)}var Cg=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,$T=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(e){return xg.resolve(null).then(e).catch(BT)}:Cg;function BT(e){setTimeout(function(){throw e})}function li(e){return e==="head"}function Ag(e,n){var l=n,o=0,c=0;do{var h=l.nextSibling;if(e.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(0<o&&8>o){l=o;var g=e.ownerDocument;if(l&1&&Wa(g.documentElement),l&2&&Wa(g.body),l&4)for(l=g.head,Wa(l),g=l.firstChild;g;){var v=g.nextSibling,T=g.nodeName;g[da]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=v}}if(c===0){e.removeChild(h),ll(n);return}c--}else l==="$"||l==="$?"||l==="$!"?c++:o=l.charCodeAt(0)-48;else o=0;l=h}while(l);ll(n)}function lf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lf(l),cu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function qT(e,n,l,o){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[da])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function YT(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Kt(e.nextSibling),e===null))return null;return e}function rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function FT(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var o=function(){n(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var of=null;function wg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function Rg(e,n,l){switch(n=Pr(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Wa(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);cu(e)}var qt=new Map,Og=new Set;function Hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=q.d;q.d={f:GT,r:QT,D:KT,C:XT,L:ZT,m:WT,X:eb,S:JT,M:tb};function GT(){var e=Nn.f(),n=Nr();return e||n}function QT(e){var n=rs(e);n!==null&&n.tag===5&&n.type==="form"?Kp(n):Nn.r(e)}var Hs=typeof document>"u"?null:document;function Dg(e,n,l){var o=Hs;if(o&&typeof n=="string"&&n){var c=zt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Og.has(c)||(Og.add(c),e={rel:e,crossOrigin:l,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ut(n,"link",e),We(n),o.head.appendChild(n)))}}function KT(e){Nn.D(e),Dg("dns-prefetch",e,null)}function XT(e,n){Nn.C(e,n),Dg("preconnect",e,n)}function ZT(e,n,l){Nn.L(e,n,l);var o=Hs;if(o&&e&&n){var c='link[rel="preload"][as="'+zt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+zt(l.imageSizes)+'"]')):c+='[href="'+zt(e)+'"]';var h=c;switch(n){case"style":h=$s(e);break;case"script":h=Bs(e)}qt.has(h)||(e=_({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qt.set(h,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Ja(h))||n==="script"&&o.querySelector(el(h))||(n=o.createElement("link"),ut(n,"link",e),We(n),o.head.appendChild(n)))}}function WT(e,n){Nn.m(e,n);var l=Hs;if(l&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+zt(o)+'"][href="'+zt(e)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bs(e)}if(!qt.has(h)&&(e=_({rel:"modulepreload",href:e},n),qt.set(h,e),l.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(el(h)))return}o=l.createElement("link"),ut(o,"link",e),We(o),l.head.appendChild(o)}}}function JT(e,n,l){Nn.S(e,n,l);var o=Hs;if(o&&e){var c=os(o).hoistableStyles,h=$s(e);n=n||"default";var g=c.get(h);if(!g){var v={loading:0,preload:null};if(g=o.querySelector(Ja(h)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qt.get(h))&&uf(e,l);var T=g=o.createElement("link");We(T),ut(T,"link",e),T._p=new Promise(function(R,I){T.onload=R,T.onerror=I}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,$r(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(h,g)}}}function eb(e,n){Nn.X(e,n);var l=Hs;if(l&&e){var o=os(l).hoistableScripts,c=Bs(e),h=o.get(c);h||(h=l.querySelector(el(c)),h||(e=_({src:e,async:!0},n),(n=qt.get(c))&&cf(e,n),h=l.createElement("script"),We(h),ut(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function tb(e,n){Nn.M(e,n);var l=Hs;if(l&&e){var o=os(l).hoistableScripts,c=Bs(e),h=o.get(c);h||(h=l.querySelector(el(c)),h||(e=_({src:e,async:!0,type:"module"},n),(n=qt.get(c))&&cf(e,n),h=l.createElement("script"),We(h),ut(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function Mg(e,n,l,o){var c=(c=an.current)?Hr(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=$s(l.href),l=os(c).hoistableStyles,o=l.get(n),o||(o={type:"style",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=$s(l.href);var h=os(c).hoistableStyles,g=h.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=c.querySelector(Ja(e)))&&!h._p&&(g.instance=h,g.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),h||nb(c,e,l,g.state))),n&&o===null)throw Error(s(528,""));return g}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Bs(l),l=os(c).hoistableScripts,o=l.get(n),o||(o={type:"script",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function $s(e){return'href="'+zt(e)+'"'}function Ja(e){return'link[rel="stylesheet"]['+e+"]"}function Ng(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function nb(e,n,l,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ut(n,"link",l),We(n),e.head.appendChild(n))}function Bs(e){return'[src="'+zt(e)+'"]'}function el(e){return"script[async]"+e}function Lg(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+zt(l.href)+'"]');if(o)return n.instance=o,We(o),o;var c=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),We(o),ut(o,"style",c),$r(o,l.precedence,e),n.instance=o;case"stylesheet":c=$s(l.href);var h=e.querySelector(Ja(c));if(h)return n.state.loading|=4,n.instance=h,We(h),h;o=Ng(l),(c=qt.get(c))&&uf(o,c),h=(e.ownerDocument||e).createElement("link"),We(h);var g=h;return g._p=new Promise(function(v,T){g.onload=v,g.onerror=T}),ut(h,"link",o),n.state.loading|=4,$r(h,l.precedence,e),n.instance=h;case"script":return h=Bs(l.src),(c=e.querySelector(el(h)))?(n.instance=c,We(c),c):(o=l,(c=qt.get(h))&&(o=_({},l),cf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),We(c),ut(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,$r(o,l.precedence,e));return n.instance}function $r(e,n,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,g=0;g<o.length;g++){var v=o[g];if(v.dataset.precedence===n)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function uf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Br=null;function Ug(e,n,l){if(Br===null){var o=new Map,c=Br=new Map;c.set(l,o)}else c=Br,o=c.get(l),o||(o=new Map,c.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var h=l[c];if(!(h[da]||h[ft]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var v=o.get(g);v?v.push(h):o.set(g,[h])}}return o}function Ig(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function ib(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var tl=null;function sb(){}function ab(e,n,l){if(tl===null)throw Error(s(475));var o=tl;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=$s(l.href),h=e.querySelector(Ja(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=qr.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=h,We(h);return}h=e.ownerDocument||e,l=Ng(l),(c=qt.get(c))&&uf(l,c),h=h.createElement("link"),We(h);var g=h;g._p=new Promise(function(v,T){g.onload=v,g.onerror=T}),ut(h,"link",l),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=qr.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function lb(){if(tl===null)throw Error(s(475));var e=tl;return e.stylesheets&&e.count===0&&ff(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&ff(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function qr(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Yr=null;function ff(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Yr=new Map,n.forEach(rb,e),Yr=null,qr.call(e))}function rb(e,n){if(!(n.state.loading&4)){var l=Yr.get(e);if(l)var o=l.get(null);else{l=new Map,Yr.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(l.set(g.dataset.precedence,g),o=g)}o&&l.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),h=l.get(g)||o,h===o&&l.set(null,c),l.set(g,c),this.count++,o=qr.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var nl={$$typeof:$,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function ob(e,n,l,o,c,h,g,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lu(0),this.hiddenUpdates=lu(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function zg(e,n,l,o,c,h,g,v,T,R,I,V){return e=new ob(e,n,l,g,v,T,R,V),n=1,h===!0&&(n|=24),h=Rt(3,null,null,n),e.current=h,h.stateNode=e,n=Yu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:l,cache:n},Ku(h),e}function jg(e){return e?(e=Es,e):Es}function Vg(e,n,l,o,c,h){c=jg(c),o.context===null?o.context=c:o.pendingContext=c,o=Gn(n),o.payload={element:l},h=h===void 0?null:h,h!==null&&(o.callback=h),l=Qn(e,o,n),l!==null&&(Lt(l,e,n),Na(l,e,n))}function Pg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function hf(e,n){Pg(e,n),(e=e.alternate)&&Pg(e,n)}function Hg(e){if(e.tag===13){var n=vs(e,67108864);n!==null&&Lt(n,e,67108864),hf(e,67108864)}}var Fr=!0;function ub(e,n,l,o){var c=D.T;D.T=null;var h=q.p;try{q.p=2,df(e,n,l,o)}finally{q.p=h,D.T=c}}function cb(e,n,l,o){var c=D.T;D.T=null;var h=q.p;try{q.p=8,df(e,n,l,o)}finally{q.p=h,D.T=c}}function df(e,n,l,o){if(Fr){var c=pf(o);if(c===null)Jc(e,n,o,Gr,l),Bg(e,o);else if(hb(c,e,n,l,o))o.stopPropagation();else if(Bg(e,o),n&4&&-1<fb.indexOf(e)){for(;c!==null;){var h=rs(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ti(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var T=1<<31-At(g);v.entanglements[1]|=T,g&=~T}cn(h),(Ae&6)===0&&(Dr=gt()+500,Ka(0))}}break;case 13:v=vs(h,2),v!==null&&Lt(v,h,2),Nr(),hf(h,2)}if(h=pf(o),h===null&&Jc(e,n,o,Gr,l),h===c)break;c=h}c!==null&&o.stopPropagation()}else Jc(e,n,o,null,l)}}function pf(e){return e=yu(e),mf(e)}var Gr=null;function mf(e){if(Gr=null,e=ls(e),e!==null){var n=u(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=f(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Gr=e,null}function $g(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case ss:return 2;case au:return 8;case Vl:case Z0:return 32;case sd:return 268435456;default:return 32}default:return 32}}var gf=!1,ri=null,oi=null,ui=null,il=new Map,sl=new Map,ci=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bg(e,n){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(n.pointerId)}}function al(e,n,l,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},n!==null&&(n=rs(n),n!==null&&Hg(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function hb(e,n,l,o,c){switch(n){case"focusin":return ri=al(ri,e,n,l,o,c),!0;case"dragenter":return oi=al(oi,e,n,l,o,c),!0;case"mouseover":return ui=al(ui,e,n,l,o,c),!0;case"pointerover":var h=c.pointerId;return il.set(h,al(il.get(h)||null,e,n,l,o,c)),!0;case"gotpointercapture":return h=c.pointerId,sl.set(h,al(sl.get(h)||null,e,n,l,o,c)),!0}return!1}function qg(e){var n=ls(e.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=f(l),n!==null){e.blockedOn=n,aE(e.priority,function(){if(l.tag===13){var o=Nt();o=ru(o);var c=vs(l,o);c!==null&&Lt(c,l,o),hf(l,o)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=pf(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);_u=o,l.target.dispatchEvent(o),_u=null}else return n=rs(l),n!==null&&Hg(n),e.blockedOn=l,!1;n.shift()}return!0}function Yg(e,n,l){Qr(e)&&l.delete(n)}function db(){gf=!1,ri!==null&&Qr(ri)&&(ri=null),oi!==null&&Qr(oi)&&(oi=null),ui!==null&&Qr(ui)&&(ui=null),il.forEach(Yg),sl.forEach(Yg)}function Kr(e,n){e.blockedOn===n&&(e.blockedOn=null,gf||(gf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,db)))}var Xr=null;function Fg(e){Xr!==e&&(Xr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xr===e&&(Xr=null);for(var n=0;n<e.length;n+=3){var l=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(mf(o||l)===null)continue;break}var h=rs(l);h!==null&&(e.splice(n,3),n-=3,pc(h,{pending:!0,data:c,method:l.method,action:o},o,c))}}))}function ll(e){function n(T){return Kr(T,e)}ri!==null&&Kr(ri,e),oi!==null&&Kr(oi,e),ui!==null&&Kr(ui,e),il.forEach(n),sl.forEach(n);for(var l=0;l<ci.length;l++){var o=ci[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ci.length&&(l=ci[0],l.blockedOn===null);)qg(l),l.blockedOn===null&&ci.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var c=l[o],h=l[o+1],g=c[_t]||null;if(typeof h=="function")g||Fg(l);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[_t]||null)v=g.formAction;else if(mf(c)!==null)continue}else v=g.action;typeof v=="function"?l[o+1]=v:(l.splice(o,3),o-=3),Fg(l)}}}function _f(e){this._internalRoot=e}Zr.prototype.render=_f.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,o=Nt();Vg(l,o,e,n,null,null)},Zr.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vg(e.current,2,null,e,null,null),Nr(),n[as]=null}};function Zr(e){this._internalRoot=e}Zr.prototype.unstable_scheduleHydration=function(e){if(e){var n=ud();e={blockedOn:null,target:e,priority:n};for(var l=0;l<ci.length&&n!==0&&n<ci[l].priority;l++);ci.splice(l,0,e),l===0&&qg(e)}};var Gg=t.version;if(Gg!=="19.1.0")throw Error(s(527,Gg,"19.1.0"));q.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var pb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{ca=Wr.inject(pb),xt=Wr}catch{}}return rl.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,o="",c=um,h=cm,g=fm,v=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=zg(e,1,!1,null,null,l,o,c,h,g,v,null),e[as]=n.current,Wc(e),new _f(n)},rl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var o=!1,c="",h=um,g=cm,v=fm,T=null,R=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(v=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(T=l.unstable_transitionCallbacks),l.formState!==void 0&&(R=l.formState)),n=zg(e,1,!0,n,l??null,o,c,h,g,v,T,R),n.context=jg(null),l=n.current,o=Nt(),o=ru(o),c=Gn(o),c.callback=null,Qn(l,c,o),l=o,n.current.lanes=l,ha(n,l),cn(n),e[as]=n.current,Wc(e),new Zr(n)},rl.version="19.1.0",rl}var r_;function f1(){if(r_)return Ef.exports;r_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ef.exports=c1(),Ef.exports}var h1=f1();const d1=Xi(h1),p1=["localeText"],o_=re.createContext(null),m1=function(t){const{localeText:i}=t,s=yb(t,p1),{adapter:r,localeText:u}=re.useContext(o_)??{adapter:void 0,localeText:void 0},f=vb({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:p,dateFormats:m,dateLibInstance:_,adapterLocale:y,localeText:E}=f,C=re.useMemo(()=>Py({},E,u,i),[E,u,i]),A=re.useMemo(()=>{if(!p)return r||null;const Q=new p({locale:y,formats:m,instance:_});if(!Q.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return Q},[p,y,m,_,r]),k=re.useMemo(()=>A?{minDate:A.date("1900-01-01T00:00:00.000"),maxDate:A.date("2099-12-31T00:00:00.000")}:null,[A]),U=re.useMemo(()=>({utils:A,adapter:A,defaultDates:k,localeText:C}),[k,A,C]);return pe.jsx(o_.Provider,{value:U,children:d})};var u_={};const c_="@firebase/database",f_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv="";function g1(a){pv=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),at(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:oh(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return pn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _1(t)}}catch{}return new y1},Pi=mv("localStorage"),v1=mv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new zb("@firebase/database"),E1=function(){let a=1;return function(){return a++}}(),gv=function(a){const t=jb(a),i=new Vb;i.update(t);const s=i.digest();return Pb.encodeByteArray(s)},Ll=function(...a){let t="";for(let i=0;i<a.length;i++){const s=a[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=Ll.apply(null,s):typeof s=="object"?t+=at(s):t+=s,t+=" "}return t};let pl=null,h_=!0;const T1=function(a,t){G(!0,"Can't turn on custom loggers persistently."),Ks.logLevel=Hb.VERBOSE,pl=Ks.log.bind(Ks)},ct=function(...a){if(h_===!0&&(h_=!1,pl===null&&v1.get("logging_enabled")===!0&&T1()),pl){const t=Ll.apply(null,a);pl(t)}},Ul=function(a){return function(...t){ct(a,...t)}},$f=function(...a){const t="FIREBASE INTERNAL ERROR: "+Ll(...a);Ks.error(t)},zn=function(...a){const t=`FIREBASE FATAL ERROR: ${Ll(...a)}`;throw Ks.error(t),new Error(t)},Ct=function(...a){const t="FIREBASE WARNING: "+Ll(...a);Ks.warn(t)},b1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bo=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},S1=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},ea="[MIN_NAME]",Yi="[MAX_NAME]",Wi=function(a,t){if(a===t)return 0;if(a===ea||t===Yi)return-1;if(t===ea||a===Yi)return 1;{const i=d_(a),s=d_(t);return i!==null?s!==null?i-s===0?a.length-t.length:i-s:-1:s!==null?1:a<t?-1:1}},C1=function(a,t){return a===t?0:a<t?-1:1},ol=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+at(t))},yh=function(a){if(typeof a!="object"||a===null)return at(a);const t=[];for(const s in a)t.push(s);t.sort();let i="{";for(let s=0;s<t.length;s++)s!==0&&(i+=","),i+=at(t[s]),i+=":",i+=yh(a[t[s]]);return i+="}",i},_v=function(a,t){const i=a.length;if(i<=t)return[a];const s=[];for(let r=0;r<i;r+=t)r+t>i?s.push(a.substring(r,i)):s.push(a.substring(r,r+t));return s};function dt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const yv=function(a){G(!Bo(a),"Invalid JSON number");const t=11,i=52,s=(1<<t-1)-1;let r,u,f,d,p;a===0?(u=0,f=0,r=1/a===-1/0?1:0):(r=a<0,a=Math.abs(a),a>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),s),u=d+s,f=Math.round(a*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(a/Math.pow(2,1-s-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=t;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(r?1:0),m.reverse();const _=m.join("");let y="";for(p=0;p<64;p+=8){let E=parseInt(_.substr(p,8),2).toString(16);E.length===1&&(E="0"+E),y=y+E}return y.toLowerCase()},x1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},A1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function w1(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const s=new Error(a+" at "+t._path.toString()+": "+i);return s.code=a.toUpperCase(),s}const R1=new RegExp("^-?(0*)\\d{1,10}$"),O1=-2147483648,D1=2147483647,d_=function(a){if(R1.test(a)){const t=Number(a);if(t>=O1&&t<=D1)return t}return null},aa=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Ct("Exception was thrown by user callback.",i),t},Math.floor(0))}},M1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ml=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,By(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(s=>this.appCheck=s)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,s):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ct(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i,s){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,s):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ct(t)}}class lo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}lo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh="5",vv="v",Ev="s",Tv="r",bv="f",Sv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cv="ls",xv="p",Bf="ac",Av="websocket",wv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(t,i,s,r,u=!1,f="",d=!1,p=!1,m=null){this.secure=i,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Pi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function U1(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Ov(a,t,i){G(typeof t=="string","typeof type must == string"),G(typeof i=="object","typeof params must == object");let s;if(t===Av)s=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===wv)s=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);U1(a)&&(i.ns=a.namespace);const r=[];return dt(i,(u,f)=>{r.push(u+"="+f)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.counters_={}}incrementCounter(t,i=1){pn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return Fb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf={},Cf={};function Eh(a){const t=a.toString();return Sf[t]||(Sf[t]=new I1),Sf[t]}function k1(a,t){const i=a.toString();return Cf[i]||(Cf[i]=t()),Cf[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&aa(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="start",j1="close",V1="pLPCommand",P1="pRTLPCB",Dv="id",Mv="pw",Nv="ser",H1="cb",$1="seg",B1="ts",q1="d",Y1="dframe",Lv=1870,Uv=30,F1=Lv-Uv,G1=25e3,Q1=3e4;class Qs{constructor(t,i,s,r,u,f,d){this.connId=t,this.repoInfo=i,this.applicationId=s,this.appCheckToken=r,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ul(t),this.stats_=Eh(i),this.urlFn=p=>(this.appCheckToken&&(p[Bf]=this.appCheckToken),Ov(i,wv,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new z1(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Q1)),S1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Th((...u)=>{const[f,d,p,m,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===p_)this.id=d,this.password=p;else if(f===j1)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[p_]="t",s[Nv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[H1]=this.scriptTagHolder.uniqueCallbackIdentifier),s[vv]=vh,this.transportSessionId&&(s[Ev]=this.transportSessionId),this.lastSessionId&&(s[Cv]=this.lastSessionId),this.applicationId&&(s[xv]=this.applicationId),this.appCheckToken&&(s[Bf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sv.test(location.hostname)&&(s[Tv]=bv);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qs.forceAllow_=!0}static forceDisallow(){Qs.forceDisallow_=!0}static isAvailable(){return Qs.forceAllow_?!0:!Qs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!x1()&&!A1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=Gb(i),r=_v(s,F1);for(let u=0;u<r.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[Y1]="t",s[Dv]=t,s[Mv]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=at(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Th{constructor(t,i,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=E1(),window[V1+this.uniqueCallbackIdentifier]=t,window[P1+this.uniqueCallbackIdentifier]=i,this.myIFrame=Th.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){ct("frame writing exception"),d.stack&&ct(d.stack),ct(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ct("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Dv]=this.myID,t[Mv]=this.myPW,t[Nv]=this.currentSerial;let i=this.urlFn(t),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uv+s.length<=Lv;){const f=this.pendingSegs.shift();s=s+"&"+$1+r+"="+f.seg+"&"+B1+r+"="+f.ts+"&"+q1+r+"="+f.d,r++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,s){this.pendingSegs.push({seg:t,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},r=setTimeout(s,Math.floor(G1)),u=()=>{clearTimeout(r),s()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{ct("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=16384,X1=45e3;let Eo=null;typeof MozWebSocket<"u"?Eo=MozWebSocket:typeof WebSocket<"u"&&(Eo=WebSocket);class Zt{constructor(t,i,s,r,u,f,d){this.connId=t,this.applicationId=s,this.appCheckToken=r,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ul(this.connId),this.stats_=Eh(i),this.connURL=Zt.connectionURL_(i,f,d,r,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,s,r,u){const f={};return f[vv]=vh,typeof location<"u"&&location.hostname&&Sv.test(location.hostname)&&(f[Tv]=bv),i&&(f[Ev]=i),s&&(f[Cv]=s),r&&(f[Bf]=r),u&&(f[xv]=u),Ov(t,Av,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pi.set("previous_websocket_failure",!0);try{let s;Qb(),this.mySock=new Eo(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&Eo!==null&&!Zt.forceDisallow_}static previouslyFailed(){return Pi.isInMemoryStorage||Pi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Pi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=oh(i);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=_v(i,K1);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(X1))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{static get ALL_TRANSPORTS(){return[Qs,Zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Zt&&Zt.isAvailable();let s=i&&!Zt.previouslyFailed();if(t.webSocketOnly&&(i||Ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zt];else{const r=this.transports_=[];for(const u of bl.ALL_TRANSPORTS)u&&u.isAvailable()&&r.push(u);bl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=6e4,W1=5e3,J1=10*1024,eC=100*1024,xf="t",m_="d",tC="s",g_="r",nC="e",__="o",y_="a",v_="n",E_="p",iC="h";class sC{constructor(t,i,s,r,u,f,d,p,m,_){this.id=t,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ul("c:"+this.id+":"),this.transportManager_=new bl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>eC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>J1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(xf in t){const i=t[xf];i===y_?this.upgradeIfSecondaryHealthy_():i===g_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===__&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=ol("t",t),s=ol("d",t);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:E_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:y_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:v_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=ol("t",t),s=ol("d",t);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=ol(xf,t);if(m_ in t){const s=t[m_];if(i===iC){const r={...s};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(i===v_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===tC?this.onConnectionShutdown_(s):i===g_?this.onReset_(s):i===nC?$f("Server Error: "+s):i===__?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$f("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,s=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),vh!==s&&Ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Z1))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(W1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:E_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{put(t,i,s,r){}merge(t,i,s,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,s){}onDisconnectMerge(t,i,s){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kv=class{constructor(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,i)}}on(t,i,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:s});const r=this.getInitialEvent(t);r&&i.apply(s,r)}off(t,i,s){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let u=0;u<r.length;u++)if(r[u].callback===i&&(!s||s===r[u].context)){r.splice(u,1);return}}validateEventType_(t){G(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends kv{static getInstance(){return new To}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return G(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=32,b_=768;class Re{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function xe(){return new Re("")}function ge(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function mi(a){return a.pieces_.length-a.pieceNum_}function Ue(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Re(a.pieces_,t)}function bh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function aC(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Sl(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function zv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Re(t,0)}function Ye(a,t){const i=[];for(let s=a.pieceNum_;s<a.pieces_.length;s++)i.push(a.pieces_[s]);if(t instanceof Re)for(let s=t.pieceNum_;s<t.pieces_.length;s++)i.push(t.pieces_[s]);else{const s=t.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&i.push(s[r])}return new Re(i,0)}function ye(a){return a.pieceNum_>=a.pieces_.length}function bt(a,t){const i=ge(a),s=ge(t);if(i===null)return t;if(i===s)return bt(Ue(a),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function lC(a,t){const i=Sl(a,0),s=Sl(t,0);for(let r=0;r<i.length&&r<s.length;r++){const u=Wi(i[r],s[r]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function Sh(a,t){if(mi(a)!==mi(t))return!1;for(let i=a.pieceNum_,s=t.pieceNum_;i<=a.pieces_.length;i++,s++)if(a.pieces_[i]!==t.pieces_[s])return!1;return!0}function Yt(a,t){let i=a.pieceNum_,s=t.pieceNum_;if(mi(a)>mi(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[s])return!1;++i,++s}return!0}class rC{constructor(t,i){this.errorPrefix_=i,this.parts_=Sl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Vo(this.parts_[s]);jv(this)}}function oC(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=Vo(t),jv(a)}function uC(a){const t=a.parts_.pop();a.byteLength_-=Vo(t),a.parts_.length>0&&(a.byteLength_-=1)}function jv(a){if(a.byteLength_>b_)throw new Error(a.errorPrefix_+"has a key path longer than "+b_+" bytes ("+a.byteLength_+").");if(a.parts_.length>T_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+T_+") or object contains a cycle "+Vi(a))}function Vi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends kv{static getInstance(){return new Ch}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return G(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=1e3,cC=300*1e3,S_=30*1e3,fC=1.3,hC=3e4,dC="server_kill",C_=3;class Un extends Iv{constructor(t,i,s,r,u,f,d,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Un.nextPersistentConnectionId_++,this.log_=Ul("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ul,this.maxReconnectDelay_=cC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ch.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&To.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,s){const r=++this.requestNumber_,u={r,a:t,b:i};this.log_(at(u)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[r]=s)}get(t){this.initConnection_();const i=new hi,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,s,r){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:r,hashFn:i,query:t,tag:s};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(t){const i=t.query,s=i._path.toString(),r=i._queryIdentifier;this.log_("Listen on "+s+" for "+r);const u={p:s},f="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,m=d.s;Un.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(r))===t&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(s,r),t.onComplete&&t.onComplete(m,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&pn(t,"w")){const s=Ws(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Bb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=S_)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=qb(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,r=>{const u=r.s,f=r.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,s=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(t,i){const s=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,t._queryObject,i)}sendUnlisten_(t,i,s,r){this.log_("Unlisten on "+t+" for "+i);const u={p:t},f="n";r&&(u.q=s,u.t=r),this.sendRequest(f,u)}onDisconnectPut(t,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:s})}onDisconnectMerge(t,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:s})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,s,r){const u={p:i,d:s};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{r&&setTimeout(()=>{r(f.s,f.d)},Math.floor(0))})}put(t,i,s,r){this.putInternal("p",t,i,s,r)}merge(t,i,s,r){this.putInternal("m",t,i,s,r)}putInternal(t,i,s,r,u){this.initConnection_();const f={p:i,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:r}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+at(t));const i=t.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):$f("Unrecognized action received from server: "+at(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hC&&(this.reconnectDelay_=ul),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Un.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,s())},m=function(y){G(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:p,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=E&&E.token,d=new sC(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,s,C=>{Ct(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(dC)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Ct(y),p())}}}interrupt(t){ct("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ct("Resuming connection for reason: "+t),delete this.interruptReasons_[t],jf(this.interruptReasons_)&&(this.reconnectDelay_=ul,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let s;i?s=i.map(u=>yh(u)).join("$"):s="default";const r=this.removeListen_(t,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,i){const s=new Re(t).toString();let r;if(this.listens.has(s)){const u=this.listens.get(s);r=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(t,i){ct("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=C_&&(this.reconnectDelay_=S_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ct("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=C_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+pv.replace(/\./g,"-")]=1,qy()?t["framework.cordova"]=1:Yb()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=To.getInstance().currentlyOnline();return jf(this.interruptReasons_)&&t}}Un.nextPersistentConnectionId_=0;Un.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ve(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const s=new ve(ea,t),r=new ve(ea,i);return this.compare(s,r)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to;class Vv extends qo{static get __EMPTY_NODE(){return to}static set __EMPTY_NODE(t){to=t}compare(t,i){return Wi(t.name,i.name)}isDefinedOn(t){throw Nl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Yi,to)}makePost(t,i){return G(typeof t=="string","KeyIndex indexValue must always be a string."),new ve(t,to)}toString(){return".key"}}const Xs=new Vv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,i,s,r,u=null){this.isReverse_=r,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=i?s(t.key,i):1,r&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class it{constructor(t,i,s,r,u){this.key=t,this.value=i,this.color=s??it.RED,this.left=r??St.EMPTY_NODE,this.right=u??St.EMPTY_NODE}copy(t,i,s,r,u){return new it(t??this.key,i??this.value,s??this.color,r??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let r=this;const u=s(t,r.key);return u<0?r=r.copy(null,null,null,r.left.insert(t,i,s),null):u===0?r=r.copy(null,i,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,i,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return St.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let s,r;if(s=this,i(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(t,s.key)===0){if(s.right.isEmpty())return St.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class pC{copy(t,i,s,r,u){return this}insert(t,i,s){return new it(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class St{constructor(t,i=St.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new St(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(t){return new St(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,it.BLACK,null,null))}get(t){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(t,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(t){let i,s=this.root_,r=null;for(;!s.isEmpty();)if(i=this.comparator_(t,s.key),i===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new no(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new no(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new no(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new no(this.root_,null,this.comparator_,!0,t)}}St.EMPTY_NODE=new pC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(a,t){return Wi(a.name,t.name)}function xh(a,t){return Wi(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf;function gC(a){qf=a}const Pv=function(a){return typeof a=="number"?"number:"+yv(a):"string:"+a},Hv=function(a){if(a.isLeafNode()){const t=a.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&pn(t,".sv"),"Priority must be a string or number.")}else G(a===qf||a.isEmpty(),"priority of unexpected type.");G(a===qf||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_;class nt{static set __childrenNodeConstructor(t){x_=t}static get __childrenNodeConstructor(){return x_}constructor(t,i=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new nt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ye(t)?this:ge(t)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const s=ge(t);return s===null?i:i.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||mi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Pv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=yv(this.value_):t+=this.value_,this.lazyHash_=gv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===nt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof nt.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,s=typeof this.value_,r=nt.VALUE_TYPE_ORDER.indexOf(i),u=nt.VALUE_TYPE_ORDER.indexOf(s);return G(r>=0,"Unknown leaf type: "+i),G(u>=0,"Unknown leaf type: "+s),r===u?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v,Bv;function _C(a){$v=a}function yC(a){Bv=a}class vC extends qo{compare(t,i){const s=t.node.getPriority(),r=i.node.getPriority(),u=s.compareTo(r);return u===0?Wi(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Yi,new nt("[PRIORITY-POST]",Bv))}makePost(t,i){const s=$v(t);return new ve(i,new nt("[PRIORITY-POST]",s))}toString(){return".priority"}}const Ve=new vC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=Math.log(2);class TC{constructor(t){const i=u=>parseInt(Math.log(u)/EC,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const r=s(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bo=function(a,t,i,s){a.sort(t);const r=function(p,m){const _=m-p;let y,E;if(_===0)return null;if(_===1)return y=a[p],E=i?i(y):y,new it(E,y.node,it.BLACK,null,null);{const C=parseInt(_/2,10)+p,A=r(p,C),k=r(C+1,m);return y=a[C],E=i?i(y):y,new it(E,y.node,it.BLACK,A,k)}},u=function(p){let m=null,_=null,y=a.length;const E=function(A,k){const U=y-A,Q=y;y-=A;const F=r(U+1,Q),$=a[U],Z=i?i($):$;C(new it(Z,$.node,k,null,F))},C=function(A){m?(m.left=A,m=A):(_=A,m=A)};for(let A=0;A<p.count;++A){const k=p.nextBitIsOne(),U=Math.pow(2,p.count-(A+1));k?E(U,it.BLACK):(E(U,it.BLACK),E(U,it.RED))}return _},f=new TC(a.length),d=u(f);return new St(s||t,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const qs={};class Ln{static get Default(){return G(qs&&Ve,"ChildrenNode.ts has not been loaded"),Af=Af||new Ln({".priority":qs},{".priority":Ve}),Af}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Ws(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof St?i:null}hasIndex(t){return pn(this.indexSet_,t.toString())}addIndex(t,i){G(t!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const u=i.getIterator(ve.Wrap);let f=u.getNext();for(;f;)r=r||t.isDefinedOn(f.node),s.push(f),f=u.getNext();let d;r?d=bo(s,t.getCompare()):d=qs;const p=t.toString(),m={...this.indexSet_};m[p]=t;const _={...this.indexes_};return _[p]=d,new Ln(_,m)}addToIndexes(t,i){const s=go(this.indexes_,(r,u)=>{const f=Ws(this.indexSet_,u);if(G(f,"Missing index implementation for "+u),r===qs)if(f.isDefinedOn(t.node)){const d=[],p=i.getIterator(ve.Wrap);let m=p.getNext();for(;m;)m.name!==t.name&&d.push(m),m=p.getNext();return d.push(t),bo(d,f.getCompare())}else return qs;else{const d=i.get(t.name);let p=r;return d&&(p=p.remove(new ve(t.name,d))),p.insert(t,t.node)}});return new Ln(s,this.indexSet_)}removeFromIndexes(t,i){const s=go(this.indexes_,r=>{if(r===qs)return r;{const u=i.get(t.name);return u?r.remove(new ve(t.name,u)):r}});return new Ln(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl;class oe{static get EMPTY_NODE(){return cl||(cl=new oe(new St(xh),null,Ln.Default))}constructor(t,i,s){this.children_=t,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&Hv(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cl}updatePriority(t){return this.children_.isEmpty()?this:new oe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?cl:i}}getChild(t){const i=ge(t);return i===null?this:this.getImmediateChild(i).getChild(Ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(G(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const s=new ve(t,i);let r,u;i.isEmpty()?(r=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(s,this.children_));const f=r.isEmpty()?cl:this.priorityNode_;return new oe(r,f,u)}}updateChild(t,i){const s=ge(t);if(s===null)return i;{G(ge(t)!==".priority"||mi(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Ue(t),i);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let s=0,r=0,u=!0;if(this.forEachChild(Ve,(f,d)=>{i[f]=d.val(t),s++,u&&oe.INTEGER_REGEXP_.test(f)?r=Math.max(r,Number(f)):u=!1}),!t&&u&&r<2*s){const f=[];for(const d in i)f[d]=i[d];return f}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Pv(this.getPriority().val())+":"),this.forEachChild(Ve,(i,s)=>{const r=s.hash();r!==""&&(t+=":"+i+":"+r)}),this.lazyHash_=t===""?"":gv(t)}return this.lazyHash_}getPredecessorChildName(t,i,s){const r=this.resolveIndex_(s);if(r){const u=r.getPredecessorKey(new ve(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ve(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ve(i,this.children_.get(i)):null}forEachChild(t,i){const s=this.resolveIndex_(t);return s?s.inorderTraversal(r=>i(r.name,r.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,ve.Wrap);let u=r.peek();for(;u!=null&&i.compare(u,t)<0;)r.getNext(),u=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,ve.Wrap);let u=r.peek();for(;u!=null&&i.compare(u,t)>0;)r.getNext(),u=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Il?-1:0}withIndex(t){if(t===Xs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new oe(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Xs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(Ve),r=i.getIterator(Ve);let u=s.getNext(),f=r.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=r.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Xs?null:this.indexMap_.get(t.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bC extends oe{constructor(){super(new St(xh),oe.EMPTY_NODE,Ln.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return oe.EMPTY_NODE}isEmpty(){return!1}}const Il=new bC;Object.defineProperties(ve,{MIN:{value:new ve(ea,oe.EMPTY_NODE)},MAX:{value:new ve(Yi,Il)}});Vv.__EMPTY_NODE=oe.EMPTY_NODE;nt.__childrenNodeConstructor=oe;gC(Il);yC(Il);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=!0;function Qe(a,t=null){if(a===null)return oe.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new nt(i,Qe(t))}if(!(a instanceof Array)&&SC){const i=[];let s=!1;if(dt(a,(f,d)=>{if(f.substring(0,1)!=="."){const p=Qe(d);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new ve(f,p)))}}),i.length===0)return oe.EMPTY_NODE;const u=bo(i,mC,f=>f.name,xh);if(s){const f=bo(i,Ve.getCompare());return new oe(u,Qe(t),new Ln({".priority":f},{".priority":Ve}))}else return new oe(u,Qe(t),Ln.Default)}else{let i=oe.EMPTY_NODE;return dt(a,(s,r)=>{if(pn(a,s)&&s.substring(0,1)!=="."){const u=Qe(r);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(Qe(t))}}_C(Qe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends qo{constructor(t){super(),this.indexPath_=t,G(!ye(t)&&ge(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const s=this.extractChild(t.node),r=this.extractChild(i.node),u=s.compareTo(r);return u===0?Wi(t.name,i.name):u}makePost(t,i){const s=Qe(t),r=oe.EMPTY_NODE.updateChild(this.indexPath_,s);return new ve(i,r)}maxPost(){const t=oe.EMPTY_NODE.updateChild(this.indexPath_,Il);return new ve(Yi,t)}toString(){return Sl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC extends qo{compare(t,i){const s=t.node.compareTo(i.node);return s===0?Wi(t.name,i.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(t,i){const s=Qe(t);return new ve(i,s)}toString(){return".value"}}const AC=new xC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(a){return{type:"value",snapshotNode:a}}function ta(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function Cl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function xl(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function wC(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.index_=t}updateChild(t,i,s,r,u,f){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(r).equals(s.getChild(r))&&d.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?t.hasChild(i)?f.trackChildChange(Cl(i,d)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(ta(i,s)):f.trackChildChange(xl(i,s,d))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(t,i,s){return s!=null&&(t.isLeafNode()||t.forEachChild(Ve,(r,u)=>{i.hasChild(r)||s.trackChildChange(Cl(r,u))}),i.isLeafNode()||i.forEachChild(Ve,(r,u)=>{if(t.hasChild(r)){const f=t.getImmediateChild(r);f.equals(u)||s.trackChildChange(xl(r,u,f))}else s.trackChildChange(ta(r,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?oe.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.indexedFilter_=new Ah(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Al.getStartPost_(t),this.endPost_=Al.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&s}updateChild(t,i,s,r,u,f){return this.matches(new ve(i,s))||(s=oe.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,s,r,u,f)}updateFullNode(t,i,s){i.isLeafNode()&&(i=oe.EMPTY_NODE);let r=i.withIndex(this.index_);r=r.updatePriority(oe.EMPTY_NODE);const u=this;return i.forEachChild(Ve,(f,d)=>{u.matches(new ve(f,d))||(r=r.updateImmediateChild(f,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,s)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Al(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,s,r,u,f){return this.rangedFilter_.matches(new ve(i,s))||(s=oe.EMPTY_NODE),t.getImmediateChild(i).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,s,r,u,f):this.fullLimitUpdateChild_(t,i,s,u,f)}updateFullNode(t,i,s){let r;if(i.isLeafNode()||i.isEmpty())r=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){r=oe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))r=r.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{r=i.withIndex(this.index_),r=r.updatePriority(oe.EMPTY_NODE);let u;this.reverse_?u=r.getReverseIterator(this.index_):u=r.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:r=r.updateImmediateChild(d.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,s)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,s,r,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(E,C)=>y(C,E)}else f=this.index_.getCompare();const d=t;G(d.numChildren()===this.limit_,"");const p=new ve(i,s),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(d.hasChild(i)){const y=d.getImmediateChild(i);let E=r.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===i||d.hasChild(E.name));)E=r.getChildAfterChild(this.index_,E,this.reverse_);const C=E==null?1:f(E,p);if(_&&!s.isEmpty()&&C>=0)return u?.trackChildChange(xl(i,s,y)),d.updateImmediateChild(i,s);{u?.trackChildChange(Cl(i,y));const k=d.updateImmediateChild(i,oe.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(u?.trackChildChange(ta(E.name,E.node)),k.updateImmediateChild(E.name,E.node)):k}}else return s.isEmpty()?t:_&&f(m,p)>=0?(u!=null&&(u.trackChildChange(Cl(m.name,m.node)),u.trackChildChange(ta(i,s))),d.updateImmediateChild(i,s).updateImmediateChild(m.name,oe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ea}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const t=new wh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function OC(a){return a.loadsAllData()?new Ah(a.getIndex()):a.hasLimit()?new RC(a):new Al(a)}function A_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===Ve?i="$priority":a.index_===AC?i="$value":a.index_===Xs?i="$key":(G(a.index_ instanceof CC,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=at(i),a.startSet_){const s=a.startAfterSet_?"startAfter":"startAt";t[s]=at(a.indexStartValue_),a.startNameSet_&&(t[s]+=","+at(a.indexStartName_))}if(a.endSet_){const s=a.endBeforeSet_?"endBefore":"endAt";t[s]=at(a.indexEndValue_),a.endNameSet_&&(t[s]+=","+at(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function w_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==Ve&&(t.i=a.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Iv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(G(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,s,r){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=Ul("p:rest:"),this.listens_={}}listen(t,i,s,r){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=So.getListenId_(t,s),d={};this.listens_[f]=d;const p=A_(t._queryParams);this.restRequest_(u+".json",p,(m,_)=>{let y=_;if(m===404&&(y=null,m=null),m===null&&this.onDataUpdate_(u,y,!1,s),Ws(this.listens_,f)===d){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",r(E,null)}})}unlisten(t,i){const s=So.getListenId_(t,i);delete this.listens_[s]}get(t){const i=A_(t._queryParams),s=t._path.toString(),r=new hi;return this.restRequest_(s+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,u])=>{r&&r.accessToken&&(i.auth=r.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+$b(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=oh(d.responseText)}catch{Ct("Failed to parse JSON response for "+f+": "+d.responseText)}s(null,p)}else d.status!==401&&d.status!==404&&Ct("Got unsuccessful REST response for "+f+" Status: "+d.status),s(d.status);s=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return{value:null,children:new Map}}function la(a,t,i){if(ye(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const s=ge(t);a.children.has(s)||a.children.set(s,Co());const r=a.children.get(s);t=Ue(t),la(r,t,i)}}function Yf(a,t){if(ye(t))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const i=a.value;return a.value=null,i.forEachChild(Ve,(s,r)=>{la(a,new Re(s),r)}),Yf(a,t)}}else if(a.children.size>0){const i=ge(t);return t=Ue(t),a.children.has(i)&&Yf(a.children.get(i),t)&&a.children.delete(i),a.children.size===0}else return!0}function Ff(a,t,i){a.value!==null?i(t,a.value):MC(a,(s,r)=>{const u=new Re(t.toString()+"/"+s);Ff(r,u,i)})}function MC(a,t){a.children.forEach((i,s)=>{t(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&dt(this.last_,(s,r)=>{i[s]=i[s]-r}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=10*1e3,LC=30*1e3,UC=300*1e3;class IC{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new NC(t);const s=R_+(LC-R_)*Math.random();ml(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),i={};let s=!1;dt(t,(r,u)=>{u>0&&pn(this.statsToReport_,r)&&(i[r]=u,s=!0)}),s&&this.server_.reportStats(i),ml(this.reportStats_.bind(this),Math.floor(Math.random()*2*UC))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function Yv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Oh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,i,s){this.path=t,this.affectedTree=i,this.revert=s,this.type=Jt.ACK_USER_WRITE,this.source=Yv()}operationForChild(t){if(ye(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(t));return new xo(xe(),i,this.revert)}}else return G(ge(this.path)===t,"operationForChild called for unrelated child."),new xo(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(t,i){this.source=t,this.path=i,this.type=Jt.LISTEN_COMPLETE}operationForChild(t){return ye(this.path)?new wl(this.source,xe()):new wl(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,i,s){this.source=t,this.path=i,this.snap=s,this.type=Jt.OVERWRITE}operationForChild(t){return ye(this.path)?new Fi(this.source,xe(),this.snap.getImmediateChild(t)):new Fi(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t,i,s){this.source=t,this.path=i,this.children=s,this.type=Jt.MERGE}operationForChild(t){if(ye(this.path)){const i=this.children.subtree(new Re(t));return i.isEmpty()?null:i.value?new Fi(this.source,xe(),i.value):new Rl(this.source,xe(),i)}else return G(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Rl(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,i,s){this.node_=t,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ye(t))return this.isFullyInitialized()&&!this.filtered_;const i=ge(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zC(a,t,i,s){const r=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&a.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(wC(f.childName,f.snapshotNode))}),fl(a,r,"child_removed",t,s,i),fl(a,r,"child_added",t,s,i),fl(a,r,"child_moved",u,s,i),fl(a,r,"child_changed",t,s,i),fl(a,r,"value",t,s,i),r}function fl(a,t,i,s,r,u){const f=s.filter(d=>d.type===i);f.sort((d,p)=>VC(a,d,p)),f.forEach(d=>{const p=jC(a,d,u);r.forEach(m=>{m.respondsTo(d.type)&&t.push(m.createEvent(p,a.query_))})})}function jC(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function VC(a,t,i){if(t.childName==null||i.childName==null)throw Nl("Should only compare child_ events.");const s=new ve(t.childName,t.snapshotNode),r=new ve(i.childName,i.snapshotNode);return a.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(a,t){return{eventCache:a,serverCache:t}}function gl(a,t,i,s){return Yo(new Gi(t,i,s),a.serverCache)}function Fv(a,t,i,s){return Yo(a.eventCache,new Gi(t,i,s))}function Gf(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Qi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf;const PC=()=>(wf||(wf=new St(C1)),wf);class ke{static fromObject(t){let i=new ke(null);return dt(t,(s,r)=>{i=i.set(new Re(s),r)}),i}constructor(t,i=PC()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:xe(),value:this.value};if(ye(t))return null;{const s=ge(t),r=this.children.get(s);if(r!==null){const u=r.findRootMostMatchingPathAndValue(Ue(t),i);return u!=null?{path:Ye(new Re(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ye(t))return this;{const i=ge(t),s=this.children.get(i);return s!==null?s.subtree(Ue(t)):new ke(null)}}set(t,i){if(ye(t))return new ke(i,this.children);{const s=ge(t),u=(this.children.get(s)||new ke(null)).set(Ue(t),i),f=this.children.insert(s,u);return new ke(this.value,f)}}remove(t){if(ye(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const i=ge(t),s=this.children.get(i);if(s){const r=s.remove(Ue(t));let u;return r.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,r),this.value===null&&u.isEmpty()?new ke(null):new ke(this.value,u)}else return this}}get(t){if(ye(t))return this.value;{const i=ge(t),s=this.children.get(i);return s?s.get(Ue(t)):null}}setTree(t,i){if(ye(t))return i;{const s=ge(t),u=(this.children.get(s)||new ke(null)).setTree(Ue(t),i);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new ke(this.value,f)}}fold(t){return this.fold_(xe(),t)}fold_(t,i){const s={};return this.children.inorderTraversal((r,u)=>{s[r]=u.fold_(Ye(t,r),i)}),i(t,this.value,s)}findOnPath(t,i){return this.findOnPath_(t,xe(),i)}findOnPath_(t,i,s){const r=this.value?s(i,this.value):!1;if(r)return r;if(ye(t))return null;{const u=ge(t),f=this.children.get(u);return f?f.findOnPath_(Ue(t),Ye(i,u),s):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,xe(),i)}foreachOnPath_(t,i,s){if(ye(t))return this;{this.value&&s(i,this.value);const r=ge(t),u=this.children.get(r);return u?u.foreachOnPath_(Ue(t),Ye(i,r),s):new ke(null)}}foreach(t){this.foreach_(xe(),t)}foreach_(t,i){this.children.inorderTraversal((s,r)=>{r.foreach_(Ye(t,s),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,s)=>{s.value&&t(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.writeTree_=t}static empty(){return new tn(new ke(null))}}function _l(a,t,i){if(ye(t))return new tn(new ke(i));{const s=a.writeTree_.findRootMostValueAndPath(t);if(s!=null){const r=s.path;let u=s.value;const f=bt(r,t);return u=u.updateChild(f,i),new tn(a.writeTree_.set(r,u))}else{const r=new ke(i),u=a.writeTree_.setTree(t,r);return new tn(u)}}}function O_(a,t,i){let s=a;return dt(i,(r,u)=>{s=_l(s,Ye(t,r),u)}),s}function D_(a,t){if(ye(t))return tn.empty();{const i=a.writeTree_.setTree(t,new ke(null));return new tn(i)}}function Qf(a,t){return Ji(a,t)!=null}function Ji(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(bt(i.path,t)):null}function M_(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(s,r)=>{t.push(new ve(s,r))}):a.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&t.push(new ve(s,r.value))}),t}function pi(a,t){if(ye(t))return a;{const i=Ji(a,t);return i!=null?new tn(new ke(i)):new tn(a.writeTree_.subtree(t))}}function Kf(a){return a.writeTree_.isEmpty()}function na(a,t){return Gv(xe(),a.writeTree_,t)}function Gv(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let s=null;return t.children.inorderTraversal((r,u)=>{r===".priority"?(G(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=Gv(Ye(a,r),u,i)}),!i.getChild(a).isEmpty()&&s!==null&&(i=i.updateChild(Ye(a,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(a,t){return Zv(t,a)}function HC(a,t,i,s,r){G(s>a.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),a.allWrites.push({path:t,snap:i,writeId:s,visible:r}),r&&(a.visibleWrites=_l(a.visibleWrites,t,i)),a.lastWriteId=s}function $C(a,t){for(let i=0;i<a.allWrites.length;i++){const s=a.allWrites[i];if(s.writeId===t)return s}return null}function BC(a,t){const i=a.allWrites.findIndex(d=>d.writeId===t);G(i>=0,"removeWrite called with nonexistent writeId.");const s=a.allWrites[i];a.allWrites.splice(i,1);let r=s.visible,u=!1,f=a.allWrites.length-1;for(;r&&f>=0;){const d=a.allWrites[f];d.visible&&(f>=i&&qC(d,s.path)?r=!1:Yt(s.path,d.path)&&(u=!0)),f--}if(r){if(u)return YC(a),!0;if(s.snap)a.visibleWrites=D_(a.visibleWrites,s.path);else{const d=s.children;dt(d,p=>{a.visibleWrites=D_(a.visibleWrites,Ye(s.path,p))})}return!0}else return!1}function qC(a,t){if(a.snap)return Yt(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&Yt(Ye(a.path,i),t))return!0;return!1}function YC(a){a.visibleWrites=Qv(a.allWrites,FC,xe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function FC(a){return a.visible}function Qv(a,t,i){let s=tn.empty();for(let r=0;r<a.length;++r){const u=a[r];if(t(u)){const f=u.path;let d;if(u.snap)Yt(i,f)?(d=bt(i,f),s=_l(s,d,u.snap)):Yt(f,i)&&(d=bt(f,i),s=_l(s,xe(),u.snap.getChild(d)));else if(u.children){if(Yt(i,f))d=bt(i,f),s=O_(s,d,u.children);else if(Yt(f,i))if(d=bt(f,i),ye(d))s=O_(s,xe(),u.children);else{const p=Ws(u.children,ge(d));if(p){const m=p.getChild(Ue(d));s=_l(s,xe(),m)}}}else throw Nl("WriteRecord should have .snap or .children")}}return s}function Kv(a,t,i,s,r){if(!s&&!r){const u=Ji(a.visibleWrites,t);if(u!=null)return u;{const f=pi(a.visibleWrites,t);if(Kf(f))return i;if(i==null&&!Qf(f,xe()))return null;{const d=i||oe.EMPTY_NODE;return na(f,d)}}}else{const u=pi(a.visibleWrites,t);if(!r&&Kf(u))return i;if(!r&&i==null&&!Qf(u,xe()))return null;{const f=function(m){return(m.visible||r)&&(!s||!~s.indexOf(m.writeId))&&(Yt(m.path,t)||Yt(t,m.path))},d=Qv(a.allWrites,f,t),p=i||oe.EMPTY_NODE;return na(d,p)}}}function GC(a,t,i){let s=oe.EMPTY_NODE;const r=Ji(a.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(Ve,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(i){const u=pi(a.visibleWrites,t);return i.forEachChild(Ve,(f,d)=>{const p=na(pi(u,new Re(f)),d);s=s.updateImmediateChild(f,p)}),M_(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=pi(a.visibleWrites,t);return M_(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function QC(a,t,i,s,r){G(s||r,"Either existingEventSnap or existingServerSnap must exist");const u=Ye(t,i);if(Qf(a.visibleWrites,u))return null;{const f=pi(a.visibleWrites,u);return Kf(f)?r.getChild(i):na(f,r.getChild(i))}}function KC(a,t,i,s){const r=Ye(t,i),u=Ji(a.visibleWrites,r);if(u!=null)return u;if(s.isCompleteForChild(i)){const f=pi(a.visibleWrites,r);return na(f,s.getNode().getImmediateChild(i))}else return null}function XC(a,t){return Ji(a.visibleWrites,t)}function ZC(a,t,i,s,r,u,f){let d;const p=pi(a.visibleWrites,t),m=Ji(p,xe());if(m!=null)d=m;else if(i!=null)d=na(p,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const _=[],y=f.getCompare(),E=u?d.getReverseIteratorFrom(s,f):d.getIteratorFrom(s,f);let C=E.getNext();for(;C&&_.length<r;)y(C,s)!==0&&_.push(C),C=E.getNext();return _}else return[]}function WC(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Ao(a,t,i,s){return Kv(a.writeTree,a.treePath,t,i,s)}function Mh(a,t){return GC(a.writeTree,a.treePath,t)}function N_(a,t,i,s){return QC(a.writeTree,a.treePath,t,i,s)}function wo(a,t){return XC(a.writeTree,Ye(a.treePath,t))}function JC(a,t,i,s,r,u){return ZC(a.writeTree,a.treePath,t,i,s,r,u)}function Nh(a,t,i){return KC(a.writeTree,a.treePath,t,i)}function Xv(a,t){return Zv(Ye(a.treePath,t),a.writeTree)}function Zv(a,t){return{treePath:a,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,s=t.childName;G(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const u=r.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,xl(s,t.snapshotNode,r.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,Cl(s,r.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,ta(s,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,xl(s,t.snapshotNode,r.oldSnap));else throw Nl("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{getCompleteChild(t){return null}getChildAfterChild(t,i,s){return null}}const Wv=new tx;class Lh{constructor(t,i,s=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new Gi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nh(this.writes_,t,s)}}getChildAfterChild(t,i,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Qi(this.viewCache_),u=JC(this.writes_,r,i,1,s,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(a){return{filter:a}}function ix(a,t){G(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function sx(a,t,i,s,r){const u=new ex;let f,d;if(i.type===Jt.OVERWRITE){const m=i;m.source.fromUser?f=Xf(a,t,m.path,m.snap,s,r,u):(G(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered()&&!ye(m.path),f=Ro(a,t,m.path,m.snap,s,r,d,u))}else if(i.type===Jt.MERGE){const m=i;m.source.fromUser?f=lx(a,t,m.path,m.children,s,r,u):(G(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered(),f=Zf(a,t,m.path,m.children,s,r,d,u))}else if(i.type===Jt.ACK_USER_WRITE){const m=i;m.revert?f=ux(a,t,m.path,s,r,u):f=rx(a,t,m.path,m.affectedTree,s,r,u)}else if(i.type===Jt.LISTEN_COMPLETE)f=ox(a,t,i.path,s,u);else throw Nl("Unknown operation type: "+i.type);const p=u.getChanges();return ax(t,f,p),{viewCache:f,changes:p}}function ax(a,t,i){const s=t.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Gf(a);(i.length>0||!a.eventCache.isFullyInitialized()||r&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(qv(Gf(t)))}}function Jv(a,t,i,s,r,u){const f=t.eventCache;if(wo(s,i)!=null)return t;{let d,p;if(ye(i))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Qi(t),_=m instanceof oe?m:oe.EMPTY_NODE,y=Mh(s,_);d=a.filter.updateFullNode(t.eventCache.getNode(),y,u)}else{const m=Ao(s,Qi(t));d=a.filter.updateFullNode(t.eventCache.getNode(),m,u)}else{const m=ge(i);if(m===".priority"){G(mi(i)===1,"Can't have a priority with additional path components");const _=f.getNode();p=t.serverCache.getNode();const y=N_(s,i,_,p);y!=null?d=a.filter.updatePriority(_,y):d=f.getNode()}else{const _=Ue(i);let y;if(f.isCompleteForChild(m)){p=t.serverCache.getNode();const E=N_(s,i,f.getNode(),p);E!=null?y=f.getNode().getImmediateChild(m).updateChild(_,E):y=f.getNode().getImmediateChild(m)}else y=Nh(s,m,t.serverCache);y!=null?d=a.filter.updateChild(f.getNode(),m,y,_,r,u):d=f.getNode()}}return gl(t,d,f.isFullyInitialized()||ye(i),a.filter.filtersNodes())}}function Ro(a,t,i,s,r,u,f,d){const p=t.serverCache;let m;const _=f?a.filter:a.filter.getIndexedFilter();if(ye(i))m=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const C=p.getNode().updateChild(i,s);m=_.updateFullNode(p.getNode(),C,null)}else{const C=ge(i);if(!p.isCompleteForPath(i)&&mi(i)>1)return t;const A=Ue(i),U=p.getNode().getImmediateChild(C).updateChild(A,s);C===".priority"?m=_.updatePriority(p.getNode(),U):m=_.updateChild(p.getNode(),C,U,A,Wv,null)}const y=Fv(t,m,p.isFullyInitialized()||ye(i),_.filtersNodes()),E=new Lh(r,y,u);return Jv(a,y,i,r,E,d)}function Xf(a,t,i,s,r,u,f){const d=t.eventCache;let p,m;const _=new Lh(r,t,u);if(ye(i))m=a.filter.updateFullNode(t.eventCache.getNode(),s,f),p=gl(t,m,!0,a.filter.filtersNodes());else{const y=ge(i);if(y===".priority")m=a.filter.updatePriority(t.eventCache.getNode(),s),p=gl(t,m,d.isFullyInitialized(),d.isFiltered());else{const E=Ue(i),C=d.getNode().getImmediateChild(y);let A;if(ye(E))A=s;else{const k=_.getCompleteChild(y);k!=null?bh(E)===".priority"&&k.getChild(zv(E)).isEmpty()?A=k:A=k.updateChild(E,s):A=oe.EMPTY_NODE}if(C.equals(A))p=t;else{const k=a.filter.updateChild(d.getNode(),y,A,E,_,f);p=gl(t,k,d.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function L_(a,t){return a.eventCache.isCompleteForChild(t)}function lx(a,t,i,s,r,u,f){let d=t;return s.foreach((p,m)=>{const _=Ye(i,p);L_(t,ge(_))&&(d=Xf(a,d,_,m,r,u,f))}),s.foreach((p,m)=>{const _=Ye(i,p);L_(t,ge(_))||(d=Xf(a,d,_,m,r,u,f))}),d}function U_(a,t,i){return i.foreach((s,r)=>{t=t.updateChild(s,r)}),t}function Zf(a,t,i,s,r,u,f,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,m;ye(i)?m=s:m=new ke(null).setTree(i,s);const _=t.serverCache.getNode();return m.children.inorderTraversal((y,E)=>{if(_.hasChild(y)){const C=t.serverCache.getNode().getImmediateChild(y),A=U_(a,C,E);p=Ro(a,p,new Re(y),A,r,u,f,d)}}),m.children.inorderTraversal((y,E)=>{const C=!t.serverCache.isCompleteForChild(y)&&E.value===null;if(!_.hasChild(y)&&!C){const A=t.serverCache.getNode().getImmediateChild(y),k=U_(a,A,E);p=Ro(a,p,new Re(y),k,r,u,f,d)}}),p}function rx(a,t,i,s,r,u,f){if(wo(r,i)!=null)return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(s.value!=null){if(ye(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Ro(a,t,i,p.getNode().getChild(i),r,u,d,f);if(ye(i)){let m=new ke(null);return p.getNode().forEachChild(Xs,(_,y)=>{m=m.set(new Re(_),y)}),Zf(a,t,i,m,r,u,d,f)}else return t}else{let m=new ke(null);return s.foreach((_,y)=>{const E=Ye(i,_);p.isCompleteForPath(E)&&(m=m.set(_,p.getNode().getChild(E)))}),Zf(a,t,i,m,r,u,d,f)}}function ox(a,t,i,s,r){const u=t.serverCache,f=Fv(t,u.getNode(),u.isFullyInitialized()||ye(i),u.isFiltered());return Jv(a,f,i,s,Wv,r)}function ux(a,t,i,s,r,u){let f;if(wo(s,i)!=null)return t;{const d=new Lh(s,t,r),p=t.eventCache.getNode();let m;if(ye(i)||ge(i)===".priority"){let _;if(t.serverCache.isFullyInitialized())_=Ao(s,Qi(t));else{const y=t.serverCache.getNode();G(y instanceof oe,"serverChildren would be complete if leaf node"),_=Mh(s,y)}_=_,m=a.filter.updateFullNode(p,_,u)}else{const _=ge(i);let y=Nh(s,_,t.serverCache);y==null&&t.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?m=a.filter.updateChild(p,_,y,Ue(i),d,u):t.eventCache.getNode().hasChild(_)?m=a.filter.updateChild(p,_,oe.EMPTY_NODE,Ue(i),d,u):m=p,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Ao(s,Qi(t)),f.isLeafNode()&&(m=a.filter.updateFullNode(m,f,u)))}return f=t.serverCache.isFullyInitialized()||wo(s,xe())!=null,gl(t,m,f,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new Ah(s.getIndex()),u=OC(s);this.processor_=nx(u);const f=i.serverCache,d=i.eventCache,p=r.updateFullNode(oe.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(oe.EMPTY_NODE,d.getNode(),null),_=new Gi(p,f.isFullyInitialized(),r.filtersNodes()),y=new Gi(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Yo(y,_),this.eventGenerator_=new kC(this.query_)}get query(){return this.query_}}function fx(a){return a.viewCache_.serverCache.getNode()}function hx(a,t){const i=Qi(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!ye(t)&&!i.getImmediateChild(ge(t)).isEmpty())?i.getChild(t):null}function I_(a){return a.eventRegistrations_.length===0}function dx(a,t){a.eventRegistrations_.push(t)}function k_(a,t,i){const s=[];if(i){G(t==null,"A cancel should cancel all event registrations.");const r=a.query._path;a.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,r);f&&s.push(f)})}if(t){let r=[];for(let u=0;u<a.eventRegistrations_.length;++u){const f=a.eventRegistrations_[u];if(!f.matches(t))r.push(f);else if(t.hasAnyCallback()){r=r.concat(a.eventRegistrations_.slice(u+1));break}}a.eventRegistrations_=r}else a.eventRegistrations_=[];return s}function z_(a,t,i,s){t.type===Jt.MERGE&&t.source.queryId!==null&&(G(Qi(a.viewCache_),"We should always have a full cache before handling merges"),G(Gf(a.viewCache_),"Missing event cache, even though we have a server cache"));const r=a.viewCache_,u=sx(a.processor_,r,t,i,s);return ix(a.processor_,u.viewCache),G(u.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=u.viewCache,e0(a,u.changes,u.viewCache.eventCache.getNode(),null)}function px(a,t){const i=a.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(u,f)=>{s.push(ta(u,f))}),i.isFullyInitialized()&&s.push(qv(i.getNode())),e0(a,s,i.getNode(),t)}function e0(a,t,i,s){const r=s?[s]:a.eventRegistrations_;return zC(a.eventGenerator_,t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;class mx{constructor(){this.views=new Map}}function gx(a){G(!Oo,"__referenceConstructor has already been defined"),Oo=a}function _x(){return G(Oo,"Reference.ts has not been loaded"),Oo}function yx(a){return a.views.size===0}function Uh(a,t,i,s){const r=t.source.queryId;if(r!==null){const u=a.views.get(r);return G(u!=null,"SyncTree gave us an op for an invalid query."),z_(u,t,i,s)}else{let u=[];for(const f of a.views.values())u=u.concat(z_(f,t,i,s));return u}}function vx(a,t,i,s,r){const u=t._queryIdentifier,f=a.views.get(u);if(!f){let d=Ao(i,r?s:null),p=!1;d?p=!0:s instanceof oe?(d=Mh(i,s),p=!1):(d=oe.EMPTY_NODE,p=!1);const m=Yo(new Gi(d,p,!1),new Gi(s,r,!1));return new cx(t,m)}return f}function Ex(a,t,i,s,r,u){const f=vx(a,t,s,r,u);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,f),dx(f,i),px(f,i)}function Tx(a,t,i,s){const r=t._queryIdentifier,u=[];let f=[];const d=gi(a);if(r==="default")for(const[p,m]of a.views.entries())f=f.concat(k_(m,i,s)),I_(m)&&(a.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=a.views.get(r);p&&(f=f.concat(k_(p,i,s)),I_(p)&&(a.views.delete(r),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!gi(a)&&u.push(new(_x())(t._repo,t._path)),{removed:u,events:f}}function t0(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Zs(a,t){let i=null;for(const s of a.views.values())i=i||hx(s,t);return i}function n0(a,t){if(t._queryParams.loadsAllData())return Fo(a);{const s=t._queryIdentifier;return a.views.get(s)}}function i0(a,t){return n0(a,t)!=null}function gi(a){return Fo(a)!=null}function Fo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do;function bx(a){G(!Do,"__referenceConstructor has already been defined"),Do=a}function Sx(){return G(Do,"Reference.ts has not been loaded"),Do}let Cx=1;class j_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=WC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function s0(a,t,i,s,r){return HC(a.pendingWriteTree_,t,i,s,r),r?kl(a,new Fi(Yv(),t,i)):[]}function Hi(a,t,i=!1){const s=$C(a.pendingWriteTree_,t);if(BC(a.pendingWriteTree_,t)){let u=new ke(null);return s.snap!=null?u=u.set(xe(),!0):dt(s.children,f=>{u=u.set(new Re(f),!0)}),kl(a,new xo(s.path,u,i))}else return[]}function Go(a,t,i){return kl(a,new Fi(Rh(),t,i))}function xx(a,t,i){const s=ke.fromObject(i);return kl(a,new Rl(Rh(),t,s))}function Ax(a,t){return kl(a,new wl(Rh(),t))}function wx(a,t,i){const s=kh(a,i);if(s){const r=zh(s),u=r.path,f=r.queryId,d=bt(u,t),p=new wl(Oh(f),d);return jh(a,u,p)}else return[]}function Wf(a,t,i,s,r=!1){const u=t._path,f=a.syncPointTree_.get(u);let d=[];if(f&&(t._queryIdentifier==="default"||i0(f,t))){const p=Tx(f,t,i,s);yx(f)&&(a.syncPointTree_=a.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!r){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(u,(E,C)=>gi(C));if(_&&!y){const E=a.syncPointTree_.subtree(u);if(!E.isEmpty()){const C=Dx(E);for(let A=0;A<C.length;++A){const k=C[A],U=k.query,Q=r0(a,k);a.listenProvider_.startListening(yl(U),Mo(a,U),Q.hashFn,Q.onComplete)}}}!y&&m.length>0&&!s&&(_?a.listenProvider_.stopListening(yl(t),null):m.forEach(E=>{const C=a.queryToTagMap.get(Qo(E));a.listenProvider_.stopListening(yl(E),C)}))}Mx(a,m)}return d}function Rx(a,t,i,s){const r=kh(a,s);if(r!=null){const u=zh(r),f=u.path,d=u.queryId,p=bt(f,t),m=new Fi(Oh(d),p,i);return jh(a,f,m)}else return[]}function Ox(a,t,i,s){const r=kh(a,s);if(r){const u=zh(r),f=u.path,d=u.queryId,p=bt(f,t),m=ke.fromObject(i),_=new Rl(Oh(d),p,m);return jh(a,f,_)}else return[]}function V_(a,t,i,s=!1){const r=t._path;let u=null,f=!1;a.syncPointTree_.foreachOnPath(r,(E,C)=>{const A=bt(E,r);u=u||Zs(C,A),f=f||gi(C)});let d=a.syncPointTree_.get(r);d?(f=f||gi(d),u=u||Zs(d,xe())):(d=new mx,a.syncPointTree_=a.syncPointTree_.set(r,d));let p;u!=null?p=!0:(p=!1,u=oe.EMPTY_NODE,a.syncPointTree_.subtree(r).foreachChild((C,A)=>{const k=Zs(A,xe());k&&(u=u.updateImmediateChild(C,k))}));const m=i0(d,t);if(!m&&!t._queryParams.loadsAllData()){const E=Qo(t);G(!a.queryToTagMap.has(E),"View does not exist, but we have a tag");const C=Nx();a.queryToTagMap.set(E,C),a.tagToQueryMap.set(C,E)}const _=Dh(a.pendingWriteTree_,r);let y=Ex(d,t,i,_,u,p);if(!m&&!f&&!s){const E=n0(d,t);y=y.concat(Lx(a,t,E))}return y}function Ih(a,t,i){const r=a.pendingWriteTree_,u=a.syncPointTree_.findOnPath(t,(f,d)=>{const p=bt(f,t),m=Zs(d,p);if(m)return m});return Kv(r,t,u,i,!0)}function kl(a,t){return a0(t,a.syncPointTree_,null,Dh(a.pendingWriteTree_,xe()))}function a0(a,t,i,s){if(ye(a.path))return l0(a,t,i,s);{const r=t.get(xe());i==null&&r!=null&&(i=Zs(r,xe()));let u=[];const f=ge(a.path),d=a.operationForChild(f),p=t.children.get(f);if(p&&d){const m=i?i.getImmediateChild(f):null,_=Xv(s,f);u=u.concat(a0(d,p,m,_))}return r&&(u=u.concat(Uh(r,a,s,i))),u}}function l0(a,t,i,s){const r=t.get(xe());i==null&&r!=null&&(i=Zs(r,xe()));let u=[];return t.children.inorderTraversal((f,d)=>{const p=i?i.getImmediateChild(f):null,m=Xv(s,f),_=a.operationForChild(f);_&&(u=u.concat(l0(_,d,p,m)))}),r&&(u=u.concat(Uh(r,a,s,i))),u}function r0(a,t){const i=t.query,s=Mo(a,i);return{hashFn:()=>(fx(t)||oe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?wx(a,i._path,s):Ax(a,i._path);{const u=w1(r,i);return Wf(a,i,null,u)}}}}function Mo(a,t){const i=Qo(t);return a.queryToTagMap.get(i)}function Qo(a){return a._path.toString()+"$"+a._queryIdentifier}function kh(a,t){return a.tagToQueryMap.get(t)}function zh(a){const t=a.indexOf("$");return G(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Re(a.substr(0,t))}}function jh(a,t,i){const s=a.syncPointTree_.get(t);G(s,"Missing sync point for query tag that we're tracking");const r=Dh(a.pendingWriteTree_,t);return Uh(s,i,r,null)}function Dx(a){return a.fold((t,i,s)=>{if(i&&gi(i))return[Fo(i)];{let r=[];return i&&(r=t0(i)),dt(s,(u,f)=>{r=r.concat(f)}),r}})}function yl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(Sx())(a._repo,a._path):a}function Mx(a,t){for(let i=0;i<t.length;++i){const s=t[i];if(!s._queryParams.loadsAllData()){const r=Qo(s),u=a.queryToTagMap.get(r);a.queryToTagMap.delete(r),a.tagToQueryMap.delete(u)}}}function Nx(){return Cx++}function Lx(a,t,i){const s=t._path,r=Mo(a,t),u=r0(a,i),f=a.listenProvider_.startListening(yl(t),r,u.hashFn,u.onComplete),d=a.syncPointTree_.subtree(s);if(r)G(!gi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,_,y)=>{if(!ye(m)&&_&&gi(_))return[Fo(_).query];{let E=[];return _&&(E=E.concat(t0(_).map(C=>C.query))),dt(y,(C,A)=>{E=E.concat(A)}),E}});for(let m=0;m<p.length;++m){const _=p[m];a.listenProvider_.stopListening(yl(_),Mo(a,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Vh(i)}node(){return this.node_}}class Ph{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Ye(this.path_,t);return new Ph(this.syncTree_,i)}node(){return Ih(this.syncTree_,this.path_)}}const Ux=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},P_=function(a,t,i){if(!a||typeof a!="object")return a;if(G(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Ix(a[".sv"],t,i);if(typeof a[".sv"]=="object")return kx(a[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Ix=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:G(!1,"Unexpected server value: "+a)}},kx=function(a,t,i){a.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const s=a.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const r=t.node();if(G(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const f=r.getValue();return typeof f!="number"?s:f+s},zx=function(a,t,i,s){return Hh(t,new Ph(i,a),s)},o0=function(a,t,i){return Hh(a,new Vh(t),i)};function Hh(a,t,i){const s=a.getPriority().val(),r=P_(s,t.getImmediateChild(".priority"),i);let u;if(a.isLeafNode()){const f=a,d=P_(f.getValue(),t,i);return d!==f.getValue()||r!==f.getPriority().val()?new nt(d,Qe(r)):a}else{const f=a;return u=f,r!==f.getPriority().val()&&(u=u.updatePriority(new nt(r))),f.forEachChild(Ve,(d,p)=>{const m=Hh(p,t.getImmediateChild(d),i);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t="",i=null,s={children:{},childCount:0}){this.name=t,this.parent=i,this.node=s}}function Bh(a,t){let i=t instanceof Re?t:new Re(t),s=a,r=ge(i);for(;r!==null;){const u=Ws(s.node.children,r)||{children:{},childCount:0};s=new $h(r,s,u),i=Ue(i),r=ge(i)}return s}function ra(a){return a.node.value}function u0(a,t){a.node.value=t,Jf(a)}function c0(a){return a.node.childCount>0}function jx(a){return ra(a)===void 0&&!c0(a)}function Ko(a,t){dt(a.node.children,(i,s)=>{t(new $h(i,a,s))})}function f0(a,t,i,s){i&&t(a),Ko(a,r=>{f0(r,t,!0)})}function Vx(a,t,i){let s=a.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function zl(a){return new Re(a.parent===null?a.name:zl(a.parent)+"/"+a.name)}function Jf(a){a.parent!==null&&Px(a.parent,a.name,a)}function Px(a,t,i){const s=jx(i),r=pn(a.node.children,t);s&&r?(delete a.node.children[t],a.node.childCount--,Jf(a)):!s&&!r&&(a.node.children[t]=i.node,a.node.childCount++,Jf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=/[\[\].#$\/\u0000-\u001F\u007F]/,$x=/[\[\].#$\u0000-\u001F\u007F]/,Rf=10*1024*1024,qh=function(a){return typeof a=="string"&&a.length!==0&&!Hx.test(a)},h0=function(a){return typeof a=="string"&&a.length!==0&&!$x.test(a)},Bx=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),h0(a)},d0=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Bo(a)||a&&typeof a=="object"&&pn(a,".sv")},No=function(a,t,i,s){s&&t===void 0||Xo(Js(a,"value"),t,i)},Xo=function(a,t,i){const s=i instanceof Re?new rC(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+Vi(s));if(typeof t=="function")throw new Error(a+"contains a function "+Vi(s)+" with contents = "+t.toString());if(Bo(t))throw new Error(a+"contains "+t.toString()+" "+Vi(s));if(typeof t=="string"&&t.length>Rf/3&&Vo(t)>Rf)throw new Error(a+"contains a string greater than "+Rf+" utf8 bytes "+Vi(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,u=!1;if(dt(t,(f,d)=>{if(f===".value")r=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!qh(f)))throw new Error(a+" contains an invalid key ("+f+") "+Vi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);oC(s,f),Xo(a,d,s),uC(s)}),r&&u)throw new Error(a+' contains ".value" child '+Vi(s)+" in addition to actual children.")}},qx=function(a,t){let i,s;for(i=0;i<t.length;i++){s=t[i];const u=Sl(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!qh(u[f]))throw new Error(a+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(lC);let r=null;for(i=0;i<t.length;i++){if(s=t[i],r!==null&&Yt(r,s))throw new Error(a+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},Yx=function(a,t,i,s){const r=Js(a,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const u=[];dt(t,(f,d)=>{const p=new Re(f);if(Xo(r,d,Ye(i,p)),bh(p)===".priority"&&!d0(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),qx(r,u)},Fx=function(a,t,i){if(Bo(t))throw new Error(Js(a,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!d0(t))throw new Error(Js(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},p0=function(a,t,i,s){if(!h0(i))throw new Error(Js(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Gx=function(a,t,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),p0(a,t,i)},$i=function(a,t){if(ge(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},Qx=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!qh(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!Bx(i))throw new Error(Js(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yh(a,t){let i=null;for(let s=0;s<t.length;s++){const r=t[s],u=r.getPath();i!==null&&!Sh(u,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(r)}i&&a.eventLists_.push(i)}function m0(a,t,i){Yh(a,i),g0(a,s=>Sh(s,t))}function jn(a,t,i){Yh(a,i),g0(a,s=>Yt(s,t)||Yt(t,s))}function g0(a,t){a.recursionDepth_++;let i=!0;for(let s=0;s<a.eventLists_.length;s++){const r=a.eventLists_[s];if(r){const u=r.path;t(u)?(Xx(a.eventLists_[s]),a.eventLists_[s]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function Xx(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const s=i.getEventRunner();pl&&ct("event: "+i.toString()),aa(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="repo_interrupt",Wx=25;class Jx{constructor(t,i,s,r){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kx,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Co(),this.transactionQueueTree_=new $h,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function eA(a,t,i){if(a.stats_=Eh(a.repoInfo_),a.forceRestClient_||M1())a.server_=new So(a.repoInfo_,(s,r,u,f)=>{H_(a,s,r,u,f)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>$_(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}a.persistentConnection_=new Un(a.repoInfo_,t,(s,r,u,f)=>{H_(a,s,r,u,f)},s=>{$_(a,s)},s=>{tA(a,s)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(s=>{a.server_.refreshAuthToken(s)}),a.appCheckProvider_.addTokenChangeListener(s=>{a.server_.refreshAppCheckToken(s.token)}),a.statsReporter_=k1(a.repoInfo_,()=>new IC(a.stats_,a.server_)),a.infoData_=new DC,a.infoSyncTree_=new j_({startListening:(s,r,u,f)=>{let d=[];const p=a.infoData_.getNode(s._path);return p.isEmpty()||(d=Go(a.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),Gh(a,"connected",!1),a.serverSyncTree_=new j_({startListening:(s,r,u,f)=>(a.server_.listen(s,u,r,(d,p)=>{const m=f(d,p);jn(a.eventQueue_,s._path,m)}),[]),stopListening:(s,r)=>{a.server_.unlisten(s,r)}})}function _0(a){const i=a.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Fh(a){return Ux({timestamp:_0(a)})}function H_(a,t,i,s,r){a.dataUpdateCount++;const u=new Re(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let f=[];if(r)if(s){const p=go(i,m=>Qe(m));f=Ox(a.serverSyncTree_,u,p,r)}else{const p=Qe(i);f=Rx(a.serverSyncTree_,u,p,r)}else if(s){const p=go(i,m=>Qe(m));f=xx(a.serverSyncTree_,u,p)}else{const p=Qe(i);f=Go(a.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=Zo(a,u)),jn(a.eventQueue_,d,f)}function $_(a,t){Gh(a,"connected",t),t===!1&&iA(a)}function tA(a,t){dt(t,(i,s)=>{Gh(a,i,s)})}function Gh(a,t,i){const s=new Re("/.info/"+t),r=Qe(i);a.infoData_.updateSnapshot(s,r);const u=Go(a.infoSyncTree_,s,r);jn(a.eventQueue_,s,u)}function y0(a){return a.nextWriteId_++}function nA(a,t,i,s,r){Qh(a,"set",{path:t.toString(),value:i,priority:s});const u=Fh(a),f=Qe(i,s),d=Ih(a.serverSyncTree_,t),p=o0(f,d,u),m=y0(a),_=s0(a.serverSyncTree_,t,p,m,!0);Yh(a.eventQueue_,_),a.server_.put(t.toString(),f.val(!0),(E,C)=>{const A=E==="ok";A||Ct("set at "+t+" failed: "+E);const k=Hi(a.serverSyncTree_,m,!A);jn(a.eventQueue_,t,k),ia(a,r,E,C)});const y=S0(a,t);Zo(a,y),jn(a.eventQueue_,y,[])}function iA(a){Qh(a,"onDisconnectEvents");const t=Fh(a),i=Co();Ff(a.onDisconnect_,xe(),(r,u)=>{const f=zx(r,u,a.serverSyncTree_,t);la(i,r,f)});let s=[];Ff(i,xe(),(r,u)=>{s=s.concat(Go(a.serverSyncTree_,r,u));const f=S0(a,r);Zo(a,f)}),a.onDisconnect_=Co(),jn(a.eventQueue_,xe(),s)}function sA(a,t,i){a.server_.onDisconnectCancel(t.toString(),(s,r)=>{s==="ok"&&Yf(a.onDisconnect_,t),ia(a,i,s,r)})}function B_(a,t,i,s){const r=Qe(i);a.server_.onDisconnectPut(t.toString(),r.val(!0),(u,f)=>{u==="ok"&&la(a.onDisconnect_,t,r),ia(a,s,u,f)})}function aA(a,t,i,s,r){const u=Qe(i,s);a.server_.onDisconnectPut(t.toString(),u.val(!0),(f,d)=>{f==="ok"&&la(a.onDisconnect_,t,u),ia(a,r,f,d)})}function lA(a,t,i,s){if(jf(i)){ct("onDisconnect().update() called with empty data.  Don't do anything."),ia(a,s,"ok",void 0);return}a.server_.onDisconnectMerge(t.toString(),i,(r,u)=>{r==="ok"&&dt(i,(f,d)=>{const p=Qe(d);la(a.onDisconnect_,Ye(t,f),p)}),ia(a,s,r,u)})}function rA(a,t,i){let s;ge(t._path)===".info"?s=V_(a.infoSyncTree_,t,i):s=V_(a.serverSyncTree_,t,i),m0(a.eventQueue_,t._path,s)}function q_(a,t,i){let s;ge(t._path)===".info"?s=Wf(a.infoSyncTree_,t,i):s=Wf(a.serverSyncTree_,t,i),m0(a.eventQueue_,t._path,s)}function oA(a){a.persistentConnection_&&a.persistentConnection_.interrupt(Zx)}function Qh(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),ct(i,...t)}function ia(a,t,i,s){t&&aa(()=>{if(i==="ok")t(null);else{const r=(i||"error").toUpperCase();let u=r;s&&(u+=": "+s);const f=new Error(u);f.code=r,t(f)}})}function v0(a,t,i){return Ih(a.serverSyncTree_,t,i)||oe.EMPTY_NODE}function Kh(a,t=a.transactionQueueTree_){if(t||Wo(a,t),ra(t)){const i=T0(a,t);G(i.length>0,"Sending zero length transaction queue"),i.every(r=>r.status===0)&&uA(a,zl(t),i)}else c0(t)&&Ko(t,i=>{Kh(a,i)})}function uA(a,t,i){const s=i.map(m=>m.currentWriteId),r=v0(a,t,s);let u=r;const f=r.hash();for(let m=0;m<i.length;m++){const _=i[m];G(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=bt(t,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const d=u.val(!0),p=t;a.server_.put(p.toString(),d,m=>{Qh(a,"transaction put response",{path:p.toString(),status:m});let _=[];if(m==="ok"){const y=[];for(let E=0;E<i.length;E++)i[E].status=2,_=_.concat(Hi(a.serverSyncTree_,i[E].currentWriteId)),i[E].onComplete&&y.push(()=>i[E].onComplete(null,!0,i[E].currentOutputSnapshotResolved)),i[E].unwatcher();Wo(a,Bh(a.transactionQueueTree_,t)),Kh(a,a.transactionQueueTree_),jn(a.eventQueue_,t,_);for(let E=0;E<y.length;E++)aa(y[E])}else{if(m==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Ct("transaction at "+p.toString()+" failed: "+m);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=m}Zo(a,t)}},f)}function Zo(a,t){const i=E0(a,t),s=zl(i),r=T0(a,i);return cA(a,r,s),s}function cA(a,t,i){if(t.length===0)return;const s=[];let r=[];const f=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],m=bt(i,p.path);let _=!1,y;if(G(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,r=r.concat(Hi(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=Wx)_=!0,y="maxretry",r=r.concat(Hi(a.serverSyncTree_,p.currentWriteId,!0));else{const E=v0(a,p.path,f);p.currentInputSnapshot=E;const C=t[d].update(E.val());if(C!==void 0){Xo("transaction failed: Data returned ",C,p.path);let A=Qe(C);typeof C=="object"&&C!=null&&pn(C,".priority")||(A=A.updatePriority(E.getPriority()));const U=p.currentWriteId,Q=Fh(a),F=o0(A,E,Q);p.currentOutputSnapshotRaw=A,p.currentOutputSnapshotResolved=F,p.currentWriteId=y0(a),f.splice(f.indexOf(U),1),r=r.concat(s0(a.serverSyncTree_,p.path,F,p.currentWriteId,p.applyLocally)),r=r.concat(Hi(a.serverSyncTree_,U,!0))}else _=!0,y="nodata",r=r.concat(Hi(a.serverSyncTree_,p.currentWriteId,!0))}jn(a.eventQueue_,i,r),r=[],_&&(t[d].status=2,function(E){setTimeout(E,Math.floor(0))}(t[d].unwatcher),t[d].onComplete&&(y==="nodata"?s.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):s.push(()=>t[d].onComplete(new Error(y),!1,null))))}Wo(a,a.transactionQueueTree_);for(let d=0;d<s.length;d++)aa(s[d]);Kh(a,a.transactionQueueTree_)}function E0(a,t){let i,s=a.transactionQueueTree_;for(i=ge(t);i!==null&&ra(s)===void 0;)s=Bh(s,i),t=Ue(t),i=ge(t);return s}function T0(a,t){const i=[];return b0(a,t,i),i.sort((s,r)=>s.order-r.order),i}function b0(a,t,i){const s=ra(t);if(s)for(let r=0;r<s.length;r++)i.push(s[r]);Ko(t,r=>{b0(a,r,i)})}function Wo(a,t){const i=ra(t);if(i){let s=0;for(let r=0;r<i.length;r++)i[r].status!==2&&(i[s]=i[r],s++);i.length=s,u0(t,i.length>0?i:void 0)}Ko(t,s=>{Wo(a,s)})}function S0(a,t){const i=zl(E0(a,t)),s=Bh(a.transactionQueueTree_,t);return Vx(s,r=>{Of(a,r)}),Of(a,s),f0(s,r=>{Of(a,r)}),i}function Of(a,t){const i=ra(t);if(i){const s=[];let r=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(G(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(G(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),r=r.concat(Hi(a.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&s.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?u0(t,void 0):i.length=u+1,jn(a.eventQueue_,zl(t),r);for(let f=0;f<s.length;f++)aa(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(a){let t="";const i=a.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let r=i[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function hA(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ct(`Invalid query segment '${i}' in query '${a}'`)}return t}const Y_=function(a,t){const i=dA(a),s=i.namespace;i.domain==="firebase.com"&&zn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||b1();const r=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Rv(i.host,i.secure,s,r,t,"",s!==i.subdomain),path:new Re(i.pathString)}},dA=function(a){let t="",i="",s="",r="",u="",f=!0,d="https",p=443;if(typeof a=="string"){let m=a.indexOf("//");m>=0&&(d=a.substring(0,m-1),a=a.substring(m+2));let _=a.indexOf("/");_===-1&&(_=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),t=a.substring(0,Math.min(_,y)),_<y&&(r=fA(a.substring(_,y)));const E=hA(a.substring(Math.min(a.length,y)));m=t.indexOf(":"),m>=0?(f=d==="https"||d==="wss",p=parseInt(t.substring(m+1),10)):m=t.length;const C=t.slice(0,m);if(C.toLowerCase()==="localhost")i="localhost";else if(C.split(".").length<=2)i=C;else{const A=t.indexOf(".");s=t.substring(0,A).toLowerCase(),i=t.substring(A+1),u=s}"ns"in E&&(u=E.ns)}return{host:t,port:p,domain:i,subdomain:s,secure:f,scheme:d,pathString:r,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pA=function(){let a=0;const t=[];return function(i){const s=i===a;a=i;let r;const u=new Array(8);for(r=7;r>=0;r--)u[r]=F_.charAt(i%64),i=Math.floor(i/64);G(i===0,"Cannot push at time == 0");let f=u.join("");if(s){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)f+=F_.charAt(t[r]);return G(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t,i,s,r){this.eventType=t,this.eventRegistration=i,this.snapshot=s,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class gA{constructor(t,i,s){this.eventRegistration=t,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,i){this._repo=t,this._path=i}cancel(){const t=new hi;return sA(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){$i("OnDisconnect.remove",this._path);const t=new hi;return B_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){$i("OnDisconnect.set",this._path),No("OnDisconnect.set",t,this._path,!1);const i=new hi;return B_(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}setWithPriority(t,i){$i("OnDisconnect.setWithPriority",this._path),No("OnDisconnect.setWithPriority",t,this._path,!1),Fx("OnDisconnect.setWithPriority",i);const s=new hi;return aA(this._repo,this._path,t,i,s.wrapCallback(()=>{})),s.promise}update(t){$i("OnDisconnect.update",this._path),Yx("OnDisconnect.update",t,this._path);const i=new hi;return lA(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(t,i,s,r){this._repo=t,this._path=i,this._queryParams=s,this._orderByCalled=r}get key(){return ye(this._path)?null:bh(this._path)}get ref(){return new yi(this._repo,this._path)}get _queryIdentifier(){const t=w_(this._queryParams),i=yh(t);return i==="{}"?"default":i}get _queryObject(){return w_(this._queryParams)}isEqual(t){if(t=Zi(t),!(t instanceof Xh))return!1;const i=this._repo===t._repo,s=Sh(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return i&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+aC(this._path)}}class yi extends Xh{constructor(t,i){super(t,i,new wh,!1)}get parent(){const t=zv(this._path);return t===null?null:new yi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Lo{constructor(t,i,s){this._node=t,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Re(t),s=Ol(this.ref,t);return new Lo(this._node.getChild(i),s,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>t(new Lo(r,Ol(this.ref,s),Ve)))}hasChild(t){const i=new Re(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ro(a,t){return a=Zi(a),a._checkNotDeleted("ref"),t!==void 0?Ol(a._root,t):a._root}function Ol(a,t){return a=Zi(a),ge(a._path)===null?Gx("child","path",t):p0("child","path",t),new yi(a._repo,Ye(a._path,t))}function G_(a){return a=Zi(a),new yA(a._repo,a._path)}function Q_(a,t){a=Zi(a),$i("push",a._path),No("push",t,a._path,!0);const i=_0(a._repo),s=pA(i),r=Ol(a,s),u=Ol(a,s);let f;return f=Promise.resolve(u),r.then=f.then.bind(f),r.catch=f.then.bind(f,void 0),r}function Df(a){return $i("remove",a._path),C0(a,null)}function C0(a,t){a=Zi(a),$i("set",a._path),No("set",t,a._path,!1);const i=new hi;return nA(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}class Zh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const s=i._queryParams.getIndex();return new mA("value",this,new Lo(t.snapshotNode,new yi(i._repo,i._path),s))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new gA(this,t,i):null}matches(t){return t instanceof Zh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function vA(a,t,i,s,r){let u;if(typeof s=="object"&&(u=void 0,r=s),typeof s=="function"&&(u=s),r&&r.onlyOnce){const p=i,m=(_,y)=>{q_(a._repo,a,d),p(_,y)};m.userCallback=i.userCallback,m.context=i.context,i=m}const f=new _A(i,u||void 0),d=new Zh(f);return rA(a._repo,a,d),()=>q_(a._repo,a,d)}function x0(a,t,i,s){return vA(a,"value",t,i,s)}gx(yi);bx(yi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="FIREBASE_DATABASE_EMULATOR_HOST",eh={};let TA=!1;function bA(a,t,i,s){const r=t.lastIndexOf(":"),u=t.substring(0,r),f=Yy(u);a.repoInfo_=new Rv(t,f,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(a.authTokenProvider_=s)}function SA(a,t,i,s,r){let u=s||a.options.databaseURL;u===void 0&&(a.options.projectId||zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",a.options.projectId),u=`${a.options.projectId}-default-rtdb.firebaseio.com`);let f=Y_(u,r),d=f.repoInfo,p;typeof process<"u"&&u_&&(p=u_[EA]),p?(u=`http://${p}?ns=${d.namespace}`,f=Y_(u,r),d=f.repoInfo):f.repoInfo.secure;const m=new L1(a.name,a.options,t);Qx("Invalid Firebase Database URL",f),ye(f.path)||zn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=xA(d,a,m,new N1(a,i));return new AA(_,a)}function CA(a,t){const i=eh[t];(!i||i[a.key]!==a)&&zn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),oA(a),delete i[a.key]}function xA(a,t,i,s){let r=eh[t.name];r||(r={},eh[t.name]=r);let u=r[a.toURLString()];return u&&zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new Jx(a,TA,i,s),r[a.toURLString()]=u,u}class AA{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(eA(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yi(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(CA(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&zn("Cannot call "+t+" on a deleted database.")}}function A0(a=Kb(),t){const i=Xb(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const s=Zb("database");s&&wA(i,...s)}return i}function wA(a,t,i,s={}){a=Zi(a),a._checkNotDeleted("useEmulator");const r=`${t}:${i}`,u=a._repoInternal;if(a._instanceStarted){if(r===a._repoInternal.repoInfo_.host&&Wb(s,u.repoInfo_.emulatorOptions))return;zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new lo(lo.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:Jb(s.mockUserToken,a.app.options.projectId);f=new lo(d)}Yy(t)&&(eS(t),tS("Database",!0)),bA(u,r,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(a){g1(Fy),Hy(new $y("database",(t,{instanceIdentifier:i})=>{const s=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return SA(s,r,u,i)},"PUBLIC").setMultipleInstances(!0)),mo(c_,f_,a),mo(c_,f_,"esm2020")}Un.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Un.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};RA();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="firebasestorage.googleapis.com",OA="storageBucket",DA=120*1e3,MA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn extends nS{constructor(t,i,s=0){super(Mf(t),`Firebase Storage: ${i} (${Mf(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Mf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hn;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hn||(hn={}));function Mf(a){return"storage/"+a}function NA(){const a="An unknown error occurred, please check the error payload for server response.";return new mn(hn.UNKNOWN,a)}function LA(){return new mn(hn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UA(){return new mn(hn.CANCELED,"User canceled the upload/download.")}function IA(a){return new mn(hn.INVALID_URL,"Invalid URL '"+a+"'.")}function kA(a){return new mn(hn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function K_(a){return new mn(hn.INVALID_ARGUMENT,a)}function R0(){return new mn(hn.APP_DELETED,"The Firebase app was deleted.")}function zA(a){return new mn(hn.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let s;try{s=en.makeFromUrl(t,i)}catch{return new en(t,"")}if(s.path==="")return s;throw kA(t)}static makeFromUrl(t,i){let s=null;const r="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const f="(/(.*))?$",d=new RegExp("^gs://"+r+f,"i"),p={bucket:1,path:3};function m(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",y=i.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${_}/b/${r}/o${E}`,"i"),A={bucket:1,path:3},k=i===w0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,U="([^?#]*)",Q=new RegExp(`^https?://${k}/${r}/${U}`,"i"),$=[{regex:d,indices:p,postModify:u},{regex:C,indices:A,postModify:m},{regex:Q,indices:{bucket:1,path:2},postModify:m}];for(let Z=0;Z<$.length;Z++){const ne=$[Z],N=ne.regex.exec(t);if(N){const B=N[ne.indices.bucket];let P=N[ne.indices.path];P||(P=""),s=new en(B,P),ne.postModify(s);break}}if(s==null)throw IA(t);return s}}class jA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(a,t,i){let s=1,r=null,u=null,f=!1,d=0;function p(){return d===2}let m=!1;function _(...U){m||(m=!0,t.apply(null,U))}function y(U){r=setTimeout(()=>{r=null,a(C,p())},U)}function E(){u&&clearTimeout(u)}function C(U,...Q){if(m){E();return}if(U){E(),_.call(null,U,...Q);return}if(p()||f){E(),_.call(null,U,...Q);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,y($)}let A=!1;function k(U){A||(A=!0,E(),!m&&(r!==null?(U||(d=2),clearTimeout(r),y(0)):U||(d=1)))}return y(0),u=setTimeout(()=>{f=!0,k(!0)},i),k}function PA(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(a){return a!==void 0}function X_(a,t,i,s){if(s<t)throw K_(`Invalid value for '${a}'. Expected ${t} or greater.`);if(s>i)throw K_(`Invalid value for '${a}'. Expected ${i} or less.`)}function $A(a){const t=encodeURIComponent;let i="?";for(const s in a)if(a.hasOwnProperty(s)){const r=t(s)+"="+t(a[s]);i=i+r+"&"}return i=i.slice(0,-1),i}var Uo;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(a,t){const i=a>=500&&a<600,r=[408,429].indexOf(a)!==-1,u=t.indexOf(a)!==-1;return i||r||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,i,s,r,u,f,d,p,m,_,y,E=!0,C=!1){this.url_=t,this.method_=i,this.headers_=s,this.body_=r,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=d,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=y,this.retry=E,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,k)=>{this.resolve_=A,this.reject_=k,this.start_()})}start_(){const t=(s,r)=>{if(r){s(!1,new io(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=d=>{const p=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const d=u.getErrorCode()===Uo.NO_ERROR,p=u.getStatus();if(!d||BA(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Uo.ABORT;s(!1,new io(!1,null,_));return}const m=this.successCodes_.indexOf(p)!==-1;s(!0,new io(m,u))})},i=(s,r)=>{const u=this.resolve_,f=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());HA(p)?u(p):u()}catch(p){f(p)}else if(d!==null){const p=NA();p.serverResponse=d.getErrorText(),this.errorCallback_?f(this.errorCallback_(d,p)):f(p)}else if(r.canceled){const p=this.appDelete_?R0():UA();f(p)}else{const p=LA();f(p)}};this.canceled_?i(!1,new io(!1,null,!0)):this.backoffId_=VA(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&PA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class io{constructor(t,i,s){this.wasSuccessCode=t,this.connection=i,this.canceled=!!s}}function YA(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function FA(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function GA(a,t){t&&(a["X-Firebase-GMPID"]=t)}function QA(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function KA(a,t,i,s,r,u,f=!0,d=!1){const p=$A(a.urlParams),m=a.url+p,_=Object.assign({},a.headers);return GA(_,t),YA(_,i),FA(_,u),QA(_,s),new qA(m,a.method,_,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,r,f,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function ZA(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,i){this._service=t,i instanceof en?this._location=i:this._location=en.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Io(t,i)}get root(){const t=new en(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZA(this._location.path)}get storage(){return this._service}get parent(){const t=XA(this._location.path);if(t===null)return null;const i=new en(this._location.bucket,t);return new Io(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw zA(t)}}function Z_(a,t){const i=t?.[OA];return i==null?null:en.makeFromBucketSpec(i,a)}class WA{constructor(t,i,s,r,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=s,this._url=r,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=w0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DA,this._maxUploadRetryTime=MA,this._requests=new Set,r!=null?this._bucket=en.makeFromBucketSpec(r,this._host):this._bucket=Z_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,t):this._bucket=Z_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){X_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){X_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(By(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Io(this,t)}_makeRequest(t,i,s,r,u=!0){if(this._deleted)return new jA(R0());{const f=KA(t,this._appId,s,r,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,s,r).getPromise()}}const W_="@firebase/storage",J_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="storage";function ew(a,{instanceIdentifier:t}){const i=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),r=a.getProvider("app-check-internal");return new WA(i,s,r,t,Fy)}function tw(){Hy(new $y(JA,ew,"PUBLIC").setMultipleInstances(!0)),mo(W_,J_,""),mo(W_,J_,"esm2020")}tw();var Nf={exports:{}};const nw={},iw=Object.freeze(Object.defineProperty({__proto__:null,default:nw},Symbol.toStringTag,{value:"Module"})),ey=Db(iw);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2025
 * @license MIT
 */var ty;function sw(){return ty||(ty=1,function(a){(function(){var t="input is invalid type",i=typeof window=="object",s=i?window:{};s.JS_SHA256_NO_WINDOW&&(i=!1);var r=!i&&typeof self=="object",u=!s.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";u?s=Mb:r&&(s=self);var f=!s.JS_SHA256_NO_COMMON_JS&&!0&&a.exports,d=!s.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),m=[-2147483648,8388608,32768,128],_=[24,16,8,0],y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],E=["hex","array","digest","arrayBuffer"],C=[];(s.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(N){return Object.prototype.toString.call(N)==="[object Array]"}),d&&(s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(N){return typeof N=="object"&&N.buffer&&N.buffer.constructor===ArrayBuffer});var A=function(N,B){return function(P){return new $(B,!0).update(P)[N]()}},k=function(N){var B=A("hex",N);u&&(B=U(B,N)),B.create=function(){return new $(N)},B.update=function(Y){return B.create().update(Y)};for(var P=0;P<E.length;++P){var L=E[P];B[L]=A(L,N)}return B},U=function(N,B){var P=ey,L=ey.Buffer,Y=B?"sha224":"sha256",H;L.from&&!s.JS_SHA256_NO_BUFFER_FROM?H=L.from:H=function(j){return new L(j)};var J=function(j){if(typeof j=="string")return P.createHash(Y).update(j,"utf8").digest("hex");if(j==null)throw new Error(t);return j.constructor===ArrayBuffer&&(j=new Uint8Array(j)),Array.isArray(j)||ArrayBuffer.isView(j)||j.constructor===L?P.createHash(Y).update(H(j)).digest("hex"):N(j)};return J},Q=function(N,B){return function(P,L){return new Z(P,B,!0).update(L)[N]()}},F=function(N){var B=Q("hex",N);B.create=function(Y){return new Z(Y,N)},B.update=function(Y,H){return B.create(Y).update(H)};for(var P=0;P<E.length;++P){var L=E[P];B[L]=Q(L,N)}return B};function $(N,B){B?(C[0]=C[16]=C[1]=C[2]=C[3]=C[4]=C[5]=C[6]=C[7]=C[8]=C[9]=C[10]=C[11]=C[12]=C[13]=C[14]=C[15]=0,this.blocks=C):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],N?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=N}$.prototype.update=function(N){if(!this.finalized){var B,P=typeof N;if(P!=="string"){if(P==="object"){if(N===null)throw new Error(t);if(d&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!d||!ArrayBuffer.isView(N)))throw new Error(t)}else throw new Error(t);B=!0}for(var L,Y=0,H,J=N.length,j=this.blocks;Y<J;){if(this.hashed&&(this.hashed=!1,j[0]=this.block,this.block=j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),B)for(H=this.start;Y<J&&H<64;++Y)j[H>>>2]|=N[Y]<<_[H++&3];else for(H=this.start;Y<J&&H<64;++Y)L=N.charCodeAt(Y),L<128?j[H>>>2]|=L<<_[H++&3]:L<2048?(j[H>>>2]|=(192|L>>>6)<<_[H++&3],j[H>>>2]|=(128|L&63)<<_[H++&3]):L<55296||L>=57344?(j[H>>>2]|=(224|L>>>12)<<_[H++&3],j[H>>>2]|=(128|L>>>6&63)<<_[H++&3],j[H>>>2]|=(128|L&63)<<_[H++&3]):(L=65536+((L&1023)<<10|N.charCodeAt(++Y)&1023),j[H>>>2]|=(240|L>>>18)<<_[H++&3],j[H>>>2]|=(128|L>>>12&63)<<_[H++&3],j[H>>>2]|=(128|L>>>6&63)<<_[H++&3],j[H>>>2]|=(128|L&63)<<_[H++&3]);this.lastByteIndex=H,this.bytes+=H-this.start,H>=64?(this.block=j[16],this.start=H-64,this.hash(),this.hashed=!0):this.start=H}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var N=this.blocks,B=this.lastByteIndex;N[16]=this.block,N[B>>>2]|=m[B&3],this.block=N[16],B>=56&&(this.hashed||this.hash(),N[0]=this.block,N[16]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=N[10]=N[11]=N[12]=N[13]=N[14]=N[15]=0),N[14]=this.hBytes<<3|this.bytes>>>29,N[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var N=this.h0,B=this.h1,P=this.h2,L=this.h3,Y=this.h4,H=this.h5,J=this.h6,j=this.h7,ee=this.blocks,ce,D,q,X,K,he,ie,de,fe,Ne,lt;for(ce=16;ce<64;++ce)K=ee[ce-15],D=(K>>>7|K<<25)^(K>>>18|K<<14)^K>>>3,K=ee[ce-2],q=(K>>>17|K<<15)^(K>>>19|K<<13)^K>>>10,ee[ce]=ee[ce-16]+D+ee[ce-7]+q<<0;for(lt=B&P,ce=0;ce<64;ce+=4)this.first?(this.is224?(de=300032,K=ee[0]-1413257819,j=K-150054599<<0,L=K+24177077<<0):(de=704751109,K=ee[0]-210244248,j=K-1521486534<<0,L=K+143694565<<0),this.first=!1):(D=(N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10),q=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),de=N&B,X=de^N&P^lt,ie=Y&H^~Y&J,K=j+q+ie+y[ce]+ee[ce],he=D+X,j=L+K<<0,L=K+he<<0),D=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),q=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7),fe=L&N,X=fe^L&B^de,ie=j&Y^~j&H,K=J+q+ie+y[ce+1]+ee[ce+1],he=D+X,J=P+K<<0,P=K+he<<0,D=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),q=(J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7),Ne=P&L,X=Ne^P&N^fe,ie=J&j^~J&Y,K=H+q+ie+y[ce+2]+ee[ce+2],he=D+X,H=B+K<<0,B=K+he<<0,D=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),q=(H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7),lt=B&P,X=lt^B&L^Ne,ie=H&J^~H&j,K=Y+q+ie+y[ce+3]+ee[ce+3],he=D+X,Y=N+K<<0,N=K+he<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+N<<0,this.h1=this.h1+B<<0,this.h2=this.h2+P<<0,this.h3=this.h3+L<<0,this.h4=this.h4+Y<<0,this.h5=this.h5+H<<0,this.h6=this.h6+J<<0,this.h7=this.h7+j<<0},$.prototype.hex=function(){this.finalize();var N=this.h0,B=this.h1,P=this.h2,L=this.h3,Y=this.h4,H=this.h5,J=this.h6,j=this.h7,ee=p[N>>>28&15]+p[N>>>24&15]+p[N>>>20&15]+p[N>>>16&15]+p[N>>>12&15]+p[N>>>8&15]+p[N>>>4&15]+p[N&15]+p[B>>>28&15]+p[B>>>24&15]+p[B>>>20&15]+p[B>>>16&15]+p[B>>>12&15]+p[B>>>8&15]+p[B>>>4&15]+p[B&15]+p[P>>>28&15]+p[P>>>24&15]+p[P>>>20&15]+p[P>>>16&15]+p[P>>>12&15]+p[P>>>8&15]+p[P>>>4&15]+p[P&15]+p[L>>>28&15]+p[L>>>24&15]+p[L>>>20&15]+p[L>>>16&15]+p[L>>>12&15]+p[L>>>8&15]+p[L>>>4&15]+p[L&15]+p[Y>>>28&15]+p[Y>>>24&15]+p[Y>>>20&15]+p[Y>>>16&15]+p[Y>>>12&15]+p[Y>>>8&15]+p[Y>>>4&15]+p[Y&15]+p[H>>>28&15]+p[H>>>24&15]+p[H>>>20&15]+p[H>>>16&15]+p[H>>>12&15]+p[H>>>8&15]+p[H>>>4&15]+p[H&15]+p[J>>>28&15]+p[J>>>24&15]+p[J>>>20&15]+p[J>>>16&15]+p[J>>>12&15]+p[J>>>8&15]+p[J>>>4&15]+p[J&15];return this.is224||(ee+=p[j>>>28&15]+p[j>>>24&15]+p[j>>>20&15]+p[j>>>16&15]+p[j>>>12&15]+p[j>>>8&15]+p[j>>>4&15]+p[j&15]),ee},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var N=this.h0,B=this.h1,P=this.h2,L=this.h3,Y=this.h4,H=this.h5,J=this.h6,j=this.h7,ee=[N>>>24&255,N>>>16&255,N>>>8&255,N&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,L>>>24&255,L>>>16&255,L>>>8&255,L&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255,H>>>24&255,H>>>16&255,H>>>8&255,H&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255];return this.is224||ee.push(j>>>24&255,j>>>16&255,j>>>8&255,j&255),ee},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var N=new ArrayBuffer(this.is224?28:32),B=new DataView(N);return B.setUint32(0,this.h0),B.setUint32(4,this.h1),B.setUint32(8,this.h2),B.setUint32(12,this.h3),B.setUint32(16,this.h4),B.setUint32(20,this.h5),B.setUint32(24,this.h6),this.is224||B.setUint32(28,this.h7),N};function Z(N,B,P){var L,Y=typeof N;if(Y==="string"){var H=[],J=N.length,j=0,ee;for(L=0;L<J;++L)ee=N.charCodeAt(L),ee<128?H[j++]=ee:ee<2048?(H[j++]=192|ee>>>6,H[j++]=128|ee&63):ee<55296||ee>=57344?(H[j++]=224|ee>>>12,H[j++]=128|ee>>>6&63,H[j++]=128|ee&63):(ee=65536+((ee&1023)<<10|N.charCodeAt(++L)&1023),H[j++]=240|ee>>>18,H[j++]=128|ee>>>12&63,H[j++]=128|ee>>>6&63,H[j++]=128|ee&63);N=H}else if(Y==="object"){if(N===null)throw new Error(t);if(d&&N.constructor===ArrayBuffer)N=new Uint8Array(N);else if(!Array.isArray(N)&&(!d||!ArrayBuffer.isView(N)))throw new Error(t)}else throw new Error(t);N.length>64&&(N=new $(B,!0).update(N).array());var ce=[],D=[];for(L=0;L<64;++L){var q=N[L]||0;ce[L]=92^q,D[L]=54^q}$.call(this,B,P),this.update(D),this.oKeyPad=ce,this.inner=!0,this.sharedMemory=P}Z.prototype=new $,Z.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var N=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(N),$.prototype.finalize.call(this)}};var ne=k();ne.sha256=ne,ne.sha224=k(!0),ne.sha256.hmac=F(),ne.sha224.hmac=F(!0),f?a.exports=ne:(s.sha256=ne.sha256,s.sha224=ne.sha224)})()}(Nf)),Nf.exports}var aw=sw();const lw={apiKey:"AIzaSyCKS7tWQRYRWHsawNfN42uAmISdUbJHJJw",authDomain:"blitzout-49b39.firebaseapp.com",projectId:"blitzout-49b39",storageBucket:"blitzout-49b39.appspot.com",messagingSenderId:"852428606926",appId:"1:852428606926:web:17444e6f8dbc2f95f0ef9f",measurementId:"G-93YN1YMTQ7"},rw=iS(lw),nn=Gy(rw);async function ow(a=""){try{const t=mt();return await gS(t),t.currentUser?(await uh(t.currentUser,{displayName:a}),t.currentUser):null}catch(t){return console.error(t),null}}async function uw(a,t,i=""){try{const s=mt(),r=await uS(s,a,t);return await uh(r.user,{displayName:i}),r.user}catch(s){throw console.error("Registration error:",s),s}}async function cw(a,t){try{const i=mt();return(await lS(i,a,t)).user}catch(i){throw console.error("Email login error:",i),i}}async function fw(){try{const a=mt(),t=new rS;return(await oS(a,t)).user}catch(a){throw console.error("Google login error:",a),a}}async function hw(a){try{const t=mt();return await mS(t,a),!0}catch(t){throw console.error("Password reset error:",t),t}}async function dw(a,t){try{const s=mt().currentUser;if(s?.isAnonymous){const r=hS.credential(a,t);return(await dS(s,r)).user}else throw new Error("User is not anonymous or not logged in")}catch(i){throw console.error("Account conversion error:",i),i}}async function pw(){try{const a=mt();return await pS(a),!0}catch(a){throw console.error(a),a}}function uD({newRoom:a,oldRoom:t,newDisplayName:i,oldDisplayName:s,removeOnDisconnect:r=!0}){const u=A0(),d=mt().currentUser?.uid,p=a?.toUpperCase(),m=t?.toUpperCase(),_=ro(u,`rooms/${p}/uids/${d}`),y=ro(u,`rooms/${m}/uids/${d}`),E=ro(u,".info/connected");let C,A;x0(E,k=>{k.val()===!0&&(C=Q_(_),A=Q_(y),(m!==p||s!==i)&&Df(y),r&&(G_(A).remove(),G_(C).remove()),C0(C,{displayName:i,lastActive:Date.now()}))}),document.addEventListener("beforeunload",()=>{A&&Df(A),C&&Df(C)})}function mw(a,t,i={},s={}){if(!a)return;const{enableCache:r=!0,enableDebounce:u=!0}=s,f=a.toUpperCase(),d=Jh("userList",f),p=Date.now();if(r){const _=It.get(d);if(_&&ed(_,d)){_.queryCount++,It.set(d,_),Ft(d,Date.now()-p,!0);const y=Object.keys(_.data).sort().join(","),E=i?Object.keys(i).sort().join(","):"";y!==E&&t(_.data);return}}const m=async()=>{let _=!1;try{await Jo();const y=A0(),E=ro(y,`rooms/${f}/uids`);x0(E,C=>{const A=Date.now(),k=A-p,U=C.val();if(!U)return;if(r){Wh();const $=jl(d);It.set(d,{data:U,timestamp:A,queryCount:1,priority:$})}Ft(d,k,!1,_);const Q=Object.keys(U).sort().join(","),F=i?Object.keys(i).sort().join(","):"";Q!==F&&t(U)},C=>{_=!0,console.error("getUserList error:",C),Ft(d,Date.now()-p,!1,!0)})}catch(y){_=!0,console.error("getUserList connection error:",y),Ft(d,Date.now()-p,!1,!0)}finally{eu()}};u?td(d,m):m()}async function gw(a=""){try{const t=mt();return t.currentUser?(await uh(t.currentUser,{displayName:a}),t.currentUser):null}catch(t){return console.error(t),null}}async function cD(a,t){try{await Po(In(nn,"custom-actions"),{grouping:a,customAction:t,ttl:new Date(Date.now()+5760*60*1e3)})}catch(i){console.error(i)}}async function _w(a){const t=El(In(nn,"game-boards"),Tl("checksum","==",a)),i=await cS(t);return i.size?i.docs[0]:null}async function fD({title:a,gameBoard:t,settings:i}){if(a)try{const s=aw.sha256(t),r=await _w(s);return r?(aS(r.ref,{ttl:new Date(Date.now()+720*60*60*1e3)}),r):await yw({title:a,gameBoard:t,settings:i,checksum:s})}catch(s){console.error(s)}}async function yw({title:a,gameBoard:t,settings:i,checksum:s}){try{return await Po(In(nn,"game-boards"),{title:a,gameBoard:t,settings:i,checksum:s,ttl:new Date(Date.now()+720*60*60*1e3)})}catch(r){console.error(r);return}}async function hD(a){try{const t=sa(nn,"game-boards",a),i=await Qy(t);return i.exists()?i.data():void 0}catch(t){console.error(t);return}}let ny={};const It=new Map,Bi=new Map,iy=15e3,vw=5e3,sy=150,Ew=50,O0=50,Tw=100,di={activeConnections:0,maxConnections:15,connectionQueue:[]},ay=new Map;function Ft(a,t,i,s=!1){const r=ay.get(a)||{queryCount:0,totalLatency:0,cacheHits:0,lastQueryTime:0,avgLatency:0,p95Latency:0,connectionPoolHits:0,networkErrors:0,latencyHistory:[]};if(r.queryCount++,r.totalLatency+=t,r.lastQueryTime=Date.now(),r.avgLatency=r.totalLatency/r.queryCount,r.latencyHistory.push(t),r.latencyHistory.length>20&&r.latencyHistory.shift(),r.latencyHistory.length>=5){const u=[...r.latencyHistory].sort((d,p)=>d-p),f=Math.floor(u.length*.95);r.p95Latency=u[f]}i&&r.cacheHits++,s&&r.networkErrors++,ay.set(a,r)}function jl(a){return a.includes("messages")?"high":a.includes("userList")?"medium":"low"}function bw(a){switch(a){case"high":return vw;case"medium":return iy;case"low":return iy*2}}function Sw(a){switch(a){case"high":return Ew;case"medium":return sy;case"low":return sy*2}}function Wh(){if(It.size<=Tw)return;const a=Array.from(It.entries());a.sort(([,i],[,s])=>{const r={low:0,medium:1,high:2},u=r[i.priority]-r[s.priority];if(u!==0)return u;const f=i.queryCount-s.queryCount;return f!==0?f:i.timestamp-s.timestamp});const t=Math.ceil(It.size*.2);for(let i=0;i<t;i++)It.delete(a[i][0])}function Jo(){return new Promise(a=>{di.activeConnections<di.maxConnections?(di.activeConnections++,a()):di.connectionQueue.push(()=>{di.activeConnections++,a()})})}function eu(){if(di.activeConnections--,di.connectionQueue.length>0){const a=di.connectionQueue.shift();a&&a()}}function Jh(a,t,i){return`${a}:${t||"global"}:${i||""}`}function ed(a,t){const i=jl(t),s=bw(i);return Date.now()-a.timestamp<s}function td(a,t,...i){const s=jl(a),r=Sw(s),u=Bi.get(a);u&&clearTimeout(u);const f=setTimeout(async()=>{try{await Jo(),t(...i)}catch(d){console.error("Query execution error:",d)}finally{eu(),Bi.delete(a)}},r);Bi.set(a,f)}async function dD({room:a,user:t,text:i="",type:s="chat",...r}){const u=["chat","actions","settings","room","media"];if(!u.includes(s)){let p="Invalid message type. Was expecting ";return p+=u.join(", "),p+=` but got ${s}`,console.error(p)}const f={room:a,user:t.uid,text:i,type:s,...r};if(JSON.stringify(f)===JSON.stringify(ny))return;ny=f;const d=Date.now();try{return await Po(In(nn,"chat-rooms",a?.toUpperCase()||"PUBLIC","messages"),{text:i.trim(),ttl:new Date(d+1440*60*1e3),type:s,...r,uid:t.uid,displayName:t.displayName,timestamp:sS()})}catch(p){return console.error(p)}}async function pD(a,t){return fS(sa(nn,`/chat-rooms/${a.toUpperCase()}/messages/${t}`))}function Cw(a,t,i={}){if(!a)return;const{limitCount:s=O0,startAfterDoc:r,enableCache:u=!0,enableDebounce:f=!0}=i,d=a.toUpperCase(),p=Jh("messages",d,`limit:${s}`),m=Date.now();if(u){const y=It.get(p);if(y&&ed(y,p))return y.queryCount++,It.set(p,y),Ft(p,Date.now()-m,!0),t(y.data),()=>{}}const _=()=>{let y=!1,E;try{Jo();const C=new Date;C.setHours(C.getHours()-3);let A=El(In(nn,"chat-rooms",d,"messages"),Tl("timestamp",">",C),_o("timestamp","asc"),yo(s));return r&&(A=El(In(nn,"chat-rooms",d,"messages"),Tl("timestamp",">",C),_o("timestamp","asc"),Ky(r),yo(s))),E=Xy(A,k=>{const U=Date.now(),Q=U-m,F=k.docs.map($=>({id:$.id,...$.data()}));if(u&&F.length>0){Wh();const $=k.docs[k.docs.length-1],Z=jl(p);It.set(p,{data:F,timestamp:U,lastVisible:$,queryCount:1,priority:Z})}Ft(p,Q,!1,y),t(F)},k=>{y=!0,console.error("getMessages error:",k),Ft(p,Date.now()-m,!1,!0)}),E}catch(C){return y=!0,console.error("getMessages connection error:",C),Ft(p,Date.now()-m,!1,!0),()=>{}}finally{eu()}};if(f){let y;return td(p,()=>{y=_()}),()=>{const E=Bi.get(p);E&&(clearTimeout(E),Bi.delete(p)),y&&y()}}return _()}function xw(a,t={}){const{limitCount:i=O0,startAfterDoc:s,enableCache:r=!0,enableDebounce:u=!0}=t,f=Jh("schedule",null,`limit:${i}`),d=Date.now();if(r){const _=It.get(f);if(_&&ed(_,f))return _.queryCount++,It.set(f,_),Ft(f,Date.now()-d,!0),a(_.data),()=>{}}const p=async()=>{let _=!1,y;try{await Jo();const E=new Date;E.setMinutes(E.getMinutes()-5);let C=El(In(nn,"schedule"),Tl("dateTime",">",E),_o("dateTime","asc"),yo(i));return s&&(C=El(In(nn,"schedule"),Tl("dateTime",">",E),_o("dateTime","asc"),Ky(s),yo(i))),y=Xy(C,A=>{const k=Date.now(),U=k-d,Q=A.docs.map(F=>({id:F.id,...F.data()}));if(r&&Q.length>0){Wh();const F=A.docs[A.docs.length-1],$=jl(f);It.set(f,{data:Q,timestamp:k,lastVisible:F,queryCount:1,priority:$})}Ft(f,U,!1,_),a(Q)},A=>{_=!0,console.error("getSchedule error:",A),Ft(f,Date.now()-d,!1,!0)}),y||(()=>{})}catch(E){return _=!0,console.error("getSchedule connection error:",E),Ft(f,Date.now()-d,!1,!0),()=>{}}finally{eu()}};if(u){let _;return td(f,async()=>{_=await p()}),()=>{const y=Bi.get(f);y&&(clearTimeout(y),Bi.delete(f)),_&&_()}}const m=p();return m instanceof Promise?()=>{}:m}async function Aw(a,t,i="PUBLIC"){try{return await Po(In(nn,"schedule"),{dateTime:_S.fromDate(a),url:t,room:i})}catch(s){return console.error(s)}}const mD="None",gD=3e4,ly=500,ue=a=>typeof a=="string",hl=()=>{let a,t;const i=new Promise((s,r)=>{a=s,t=r});return i.resolve=a,i.reject=t,i},ry=a=>a==null?"":""+a,ww=(a,t,i)=>{a.forEach(s=>{t[s]&&(i[s]=t[s])})},Rw=/###/g,oy=a=>a&&a.indexOf("###")>-1?a.replace(Rw,"."):a,uy=a=>!a||ue(a),vl=(a,t,i)=>{const s=ue(t)?t.split("."):t;let r=0;for(;r<s.length-1;){if(uy(a))return{};const u=oy(s[r]);!a[u]&&i&&(a[u]=new i),Object.prototype.hasOwnProperty.call(a,u)?a=a[u]:a={},++r}return uy(a)?{}:{obj:a,k:oy(s[r])}},cy=(a,t,i)=>{const{obj:s,k:r}=vl(a,t,Object);if(s!==void 0||t.length===1){s[r]=i;return}let u=t[t.length-1],f=t.slice(0,t.length-1),d=vl(a,f,Object);for(;d.obj===void 0&&f.length;)u=`${f[f.length-1]}.${u}`,f=f.slice(0,f.length-1),d=vl(a,f,Object),d?.obj&&typeof d.obj[`${d.k}.${u}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${u}`]=i},Ow=(a,t,i,s)=>{const{obj:r,k:u}=vl(a,t,Object);r[u]=r[u]||[],r[u].push(i)},ko=(a,t)=>{const{obj:i,k:s}=vl(a,t);if(i&&Object.prototype.hasOwnProperty.call(i,s))return i[s]},Dw=(a,t,i)=>{const s=ko(a,i);return s!==void 0?s:ko(t,i)},D0=(a,t,i)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in a?ue(a[s])||a[s]instanceof String||ue(t[s])||t[s]instanceof String?i&&(a[s]=t[s]):D0(a[s],t[s],i):a[s]=t[s]);return a},Ys=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Mw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Nw=a=>ue(a)?a.replace(/[&<>"'\/]/g,t=>Mw[t]):a;class Lw{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const i=this.regExpMap.get(t);if(i!==void 0)return i;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const Uw=[" ",",","?","!",";"],Iw=new Lw(20),kw=(a,t,i)=>{t=t||"",i=i||"";const s=Uw.filter(f=>t.indexOf(f)<0&&i.indexOf(f)<0);if(s.length===0)return!0;const r=Iw.getRegExp(`(${s.map(f=>f==="?"?"\\?":f).join("|")})`);let u=!r.test(a);if(!u){const f=a.indexOf(i);f>0&&!r.test(a.substring(0,f))&&(u=!0)}return u},th=(a,t,i=".")=>{if(!a)return;if(a[t])return Object.prototype.hasOwnProperty.call(a,t)?a[t]:void 0;const s=t.split(i);let r=a;for(let u=0;u<s.length;){if(!r||typeof r!="object")return;let f,d="";for(let p=u;p<s.length;++p)if(p!==u&&(d+=i),d+=s[p],f=r[d],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&p<s.length-1)continue;u+=p-u+1;break}r=f}return r},Dl=a=>a?.replace("_","-"),zw={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,t){console?.[a]?.apply?.(console,t)}};class zo{constructor(t,i={}){this.init(t,i)}init(t,i={}){this.prefix=i.prefix||"i18next:",this.logger=t||zw,this.options=i,this.debug=i.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,i,s,r){return r&&!this.debug?null:(ue(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[i](t))}create(t){return new zo(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new zo(this.logger,t)}}var fn=new zo;class tu{constructor(){this.observers={}}on(t,i){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(i)||0;this.observers[s].set(i,r+1)}),this}off(t,i){if(this.observers[t]){if(!i){delete this.observers[t];return}this.observers[t].delete(i)}}emit(t,...i){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([r,u])=>{for(let f=0;f<u;f++)r(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,u])=>{for(let f=0;f<u;f++)r.apply(r,[t,...i])})}}class fy extends tu{constructor(t,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const i=this.options.ns.indexOf(t);i>-1&&this.options.ns.splice(i,1)}getResource(t,i,s,r={}){const u=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,f=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,i],s&&(Array.isArray(s)?d.push(...s):ue(s)&&u?d.push(...s.split(u)):d.push(s)));const p=ko(this.data,d);return!p&&!i&&!s&&t.indexOf(".")>-1&&(t=d[0],i=d[1],s=d.slice(2).join(".")),p||!f||!ue(s)?p:th(this.data?.[t]?.[i],s,u)}addResource(t,i,s,r,u={silent:!1}){const f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let d=[t,i];s&&(d=d.concat(f?s.split(f):s)),t.indexOf(".")>-1&&(d=t.split("."),r=i,i=d[1]),this.addNamespaces(i),cy(this.data,d,r),u.silent||this.emit("added",t,i,s,r)}addResources(t,i,s,r={silent:!1}){for(const u in s)(ue(s[u])||Array.isArray(s[u]))&&this.addResource(t,i,u,s[u],{silent:!0});r.silent||this.emit("added",t,i,s)}addResourceBundle(t,i,s,r,u,f={silent:!1,skipCopy:!1}){let d=[t,i];t.indexOf(".")>-1&&(d=t.split("."),r=s,s=i,i=d[1]),this.addNamespaces(i);let p=ko(this.data,d)||{};f.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?D0(p,s,u):p={...p,...s},cy(this.data,d,p),f.silent||this.emit("added",t,i,s)}removeResourceBundle(t,i){this.hasResourceBundle(t,i)&&delete this.data[t][i],this.removeNamespaces(i),this.emit("removed",t,i)}hasResourceBundle(t,i){return this.getResource(t,i)!==void 0}getResourceBundle(t,i){return i||(i=this.options.defaultNS),this.getResource(t,i)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const i=this.getDataByLanguage(t);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}}var M0={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,t,i,s,r){return a.forEach(u=>{t=this.processors[u]?.process(t,i,s,r)??t}),t}};const hy={},dy=a=>!ue(a)&&typeof a!="boolean"&&typeof a!="number";class jo extends tu{constructor(t,i={}){super(),ww(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,i={interpolation:{}}){const s={...i};return t==null?!1:this.resolve(t,s)?.res!==void 0}extractFromKey(t,i){let s=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let u=i.ns||this.options.defaultNS||[];const f=s&&t.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!kw(t,s,r);if(f&&!d){const p=t.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:t,namespaces:ue(u)?[u]:u};const m=t.split(s);(s!==r||s===r&&this.options.ns.indexOf(m[0])>-1)&&(u=m.shift()),t=m.join(r)}return{key:t,namespaces:ue(u)?[u]:u}}translate(t,i,s){let r=typeof i=="object"?{...i}:i;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const u=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,f=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(t[t.length-1],r),m=p[p.length-1];let _=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const y=r.lng||this.language,E=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return E?u?{res:`${m}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:y,usedNS:m,usedParams:this.getUsedParamsDetails(r)}:`${m}${_}${d}`:u?{res:d,usedKey:d,exactUsedKey:d,usedLng:y,usedNS:m,usedParams:this.getUsedParamsDetails(r)}:d;const C=this.resolve(t,r);let A=C?.res;const k=C?.usedKey||d,U=C?.exactUsedKey||d,Q=["[object Number]","[object Function]","[object RegExp]"],F=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,Z=r.count!==void 0&&!ue(r.count),ne=jo.hasDefaultValue(r),N=Z?this.pluralResolver.getSuffix(y,r.count,r):"",B=r.ordinal&&Z?this.pluralResolver.getSuffix(y,r.count,{ordinal:!1}):"",P=Z&&!r.ordinal&&r.count===0,L=P&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${N}`]||r[`defaultValue${B}`]||r.defaultValue;let Y=A;$&&!A&&ne&&(Y=L);const H=dy(Y),J=Object.prototype.toString.apply(Y);if($&&Y&&H&&Q.indexOf(J)<0&&!(ue(F)&&Array.isArray(Y))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,Y,{...r,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return u?(C.res=j,C.usedParams=this.getUsedParamsDetails(r),C):j}if(f){const j=Array.isArray(Y),ee=j?[]:{},ce=j?U:k;for(const D in Y)if(Object.prototype.hasOwnProperty.call(Y,D)){const q=`${ce}${f}${D}`;ne&&!A?ee[D]=this.translate(q,{...r,defaultValue:dy(L)?L[D]:void 0,joinArrays:!1,ns:p}):ee[D]=this.translate(q,{...r,joinArrays:!1,ns:p}),ee[D]===q&&(ee[D]=Y[D])}A=ee}}else if($&&ue(F)&&Array.isArray(A))A=A.join(F),A&&(A=this.extendTranslation(A,t,r,s));else{let j=!1,ee=!1;!this.isValidLookup(A)&&ne&&(j=!0,A=L),this.isValidLookup(A)||(ee=!0,A=d);const D=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:A,q=ne&&L!==A&&this.options.updateMissing;if(ee||j||q){if(this.logger.log(q?"updateKey":"missingKey",y,m,d,q?L:A),f){const ie=this.resolve(d,{...r,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let ie=0;ie<K.length;ie++)X.push(K[ie]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(r.lng||this.language):X.push(r.lng||this.language);const he=(ie,de,fe)=>{const Ne=ne&&fe!==A?fe:D;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,m,de,Ne,q,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ie,m,de,Ne,q,r),this.emit("missingKey",ie,m,de,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Z?X.forEach(ie=>{const de=this.pluralResolver.getSuffixes(ie,r);P&&r[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(fe=>{he([ie],d+fe,r[`defaultValue${fe}`]||L)})}):he(X,d,L))}A=this.extendTranslation(A,t,r,C,s),ee&&A===d&&this.options.appendNamespaceToMissingKey&&(A=`${m}${_}${d}`),(ee||j)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${_}${d}`:d,j?A:void 0,r))}return u?(C.res=A,C.usedParams=this.getUsedParamsDetails(r),C):A}extendTranslation(t,i,s,r,u){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=ue(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(p){const y=t.match(this.interpolator.nestingRegexp);m=y&&y.length}let _=s.replace&&!ue(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),t=this.interpolator.interpolate(t,_,s.lng||this.language||r.usedLng,s),p){const y=t.match(this.interpolator.nestingRegexp),E=y&&y.length;m<E&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...y)=>u?.[0]===y[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${i[0]}`),null):this.translate(...y,i),s)),s.interpolation&&this.interpolator.reset()}const f=s.postProcess||this.options.postProcess,d=ue(f)?[f]:f;return t!=null&&d?.length&&s.applyPostProcessor!==!1&&(t=M0.handle(d,t,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,i={}){let s,r,u,f,d;return ue(t)&&(t=[t]),t.forEach(p=>{if(this.isValidLookup(s))return;const m=this.extractFromKey(p,i),_=m.key;r=_;let y=m.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const E=i.count!==void 0&&!ue(i.count),C=E&&!i.ordinal&&i.count===0,A=i.context!==void 0&&(ue(i.context)||typeof i.context=="number")&&i.context!=="",k=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);y.forEach(U=>{this.isValidLookup(s)||(d=U,!hy[`${k[0]}-${U}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(hy[`${k[0]}-${U}`]=!0,this.logger.warn(`key "${r}" for languages "${k.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(Q=>{if(this.isValidLookup(s))return;f=Q;const F=[_];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(F,_,Q,U,i);else{let Z;E&&(Z=this.pluralResolver.getSuffix(Q,i.count,i));const ne=`${this.options.pluralSeparator}zero`,N=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(E&&(F.push(_+Z),i.ordinal&&Z.indexOf(N)===0&&F.push(_+Z.replace(N,this.options.pluralSeparator)),C&&F.push(_+ne)),A){const B=`${_}${this.options.contextSeparator}${i.context}`;F.push(B),E&&(F.push(B+Z),i.ordinal&&Z.indexOf(N)===0&&F.push(B+Z.replace(N,this.options.pluralSeparator)),C&&F.push(B+ne))}}let $;for(;$=F.pop();)this.isValidLookup(s)||(u=$,s=this.getResource(Q,U,$,i))}))})}),{res:s,usedKey:r,exactUsedKey:u,usedLng:f,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,i,s,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,i,s,r):this.resourceStore.getResource(t,i,s,r)}getUsedParamsDetails(t={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!ue(t.replace);let r=s?t.replace:t;if(s&&typeof t.count<"u"&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const u of i)delete r[u]}return r}static hasDefaultValue(t){const i="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&i===s.substring(0,i.length)&&t[s]!==void 0)return!0;return!1}}class py{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fn.create("languageUtils")}getScriptPartFromCode(t){if(t=Dl(t),!t||t.indexOf("-")<0)return null;const i=t.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(t){if(t=Dl(t),!t||t.indexOf("-")<0)return t;const i=t.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(t){if(ue(t)&&t.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(t)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let i;return t.forEach(s=>{if(i)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&t.forEach(s=>{if(i)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return i=r;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return i=u;i=this.options.supportedLngs.find(f=>{if(f===u)return f;if(!(f.indexOf("-")<0&&u.indexOf("-")<0)&&(f.indexOf("-")>0&&u.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===u||f.indexOf(u)===0&&u.length>1))return f})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(t,i){if(!t)return[];if(typeof t=="function"&&(t=t(i)),ue(t)&&(t=[t]),Array.isArray(t))return t;if(!i)return t.default||[];let s=t[i];return s||(s=t[this.getScriptPartFromCode(i)]),s||(s=t[this.formatLanguageCode(i)]),s||(s=t[this.getLanguagePartFromCode(i)]),s||(s=t.default),s||[]}toResolveHierarchy(t,i){const s=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],t),r=[],u=f=>{f&&(this.isSupportedCode(f)?r.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return ue(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(t))):ue(t)&&u(this.formatLanguageCode(t)),s.forEach(f=>{r.indexOf(f)<0&&u(this.formatLanguageCode(f))}),r}}const my={zero:0,one:1,two:2,few:3,many:4,other:5},gy={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class jw{constructor(t,i={}){this.languageUtils=t,this.options=i,this.logger=fn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,i){this.rules[t]=i}clearCache(){this.pluralRulesCache={}}getRule(t,i={}){const s=Dl(t==="dev"?"en":t),r=i.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:s,type:r});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let f;try{f=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gy;if(!t.match(/-|_/))return gy;const p=this.languageUtils.getLanguagePartFromCode(t);f=this.getRule(p,i)}return this.pluralRulesCache[u]=f,f}needsPlural(t,i={}){let s=this.getRule(t,i);return s||(s=this.getRule("dev",i)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,i,s={}){return this.getSuffixes(t,s).map(r=>`${i}${r}`)}getSuffixes(t,i={}){let s=this.getRule(t,i);return s||(s=this.getRule("dev",i)),s?s.resolvedOptions().pluralCategories.sort((r,u)=>my[r]-my[u]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(t,i,s={}){const r=this.getRule(t,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",i,s))}}const _y=(a,t,i,s=".",r=!0)=>{let u=Dw(a,t,i);return!u&&r&&ue(i)&&(u=th(a,i,s),u===void 0&&(u=th(t,i,s))),u},Lf=a=>a.replace(/\$/g,"$$$$");class Vw{constructor(t={}){this.logger=fn.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(i=>i),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:i,escapeValue:s,useRawValueToEscape:r,prefix:u,prefixEscaped:f,suffix:d,suffixEscaped:p,formatSeparator:m,unescapeSuffix:_,unescapePrefix:y,nestingPrefix:E,nestingPrefixEscaped:C,nestingSuffix:A,nestingSuffixEscaped:k,nestingOptionsSeparator:U,maxReplaces:Q,alwaysFormat:F}=t.interpolation;this.escape=i!==void 0?i:Nw,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=u?Ys(u):f||"{{",this.suffix=d?Ys(d):p||"}}",this.formatSeparator=m||",",this.unescapePrefix=_?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=E?Ys(E):C||Ys("$t("),this.nestingSuffix=A?Ys(A):k||Ys(")"),this.nestingOptionsSeparator=U||",",this.maxReplaces=Q||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(i,s)=>i?.source===s?(i.lastIndex=0,i):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,i,s,r){let u,f,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=C=>{if(C.indexOf(this.formatSeparator)<0){const Q=_y(i,p,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,s,{...r,...i,interpolationkey:C}):Q}const A=C.split(this.formatSeparator),k=A.shift().trim(),U=A.join(this.formatSeparator).trim();return this.format(_y(i,p,k,this.options.keySeparator,this.options.ignoreJSONStructure),U,s,{...r,...i,interpolationkey:k})};this.resetRegExp();const _=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>Lf(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?Lf(this.escape(C)):Lf(C)}].forEach(C=>{for(d=0;u=C.regex.exec(t);){const A=u[1].trim();if(f=m(A),f===void 0)if(typeof _=="function"){const U=_(t,u,r);f=ue(U)?U:""}else if(r&&Object.prototype.hasOwnProperty.call(r,A))f="";else if(y){f=u[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${t}`),f="";else!ue(f)&&!this.useRawValueToEscape&&(f=ry(f));const k=C.safeValue(f);if(t=t.replace(u[0],k),y?(C.regex.lastIndex+=f.length,C.regex.lastIndex-=u[0].length):C.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,i,s={}){let r,u,f;const d=(p,m)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const y=p.split(new RegExp(`${_}[ ]*{`));let E=`{${y[1]}`;p=y[0],E=this.interpolate(E,f);const C=E.match(/'/g),A=E.match(/"/g);((C?.length??0)%2===0&&!A||A.length%2!==0)&&(E=E.replace(/'/g,'"'));try{f=JSON.parse(E),m&&(f={...m,...f})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,k),`${p}${_}${E}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,p};for(;r=this.nestingRegexp.exec(t);){let p=[];f={...s},f=f.replace&&!ue(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const m=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(m!==-1&&(p=r[1].slice(m).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),r[1]=r[1].slice(0,m)),u=i(d.call(this,r[1].trim(),f),f),u&&r[0]===t&&!ue(u))return u;ue(u)||(u=ry(u)),u||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),u=""),p.length&&(u=p.reduce((_,y)=>this.format(_,y,s.lng,{...s,interpolationkey:r[1].trim()}),u.trim())),t=t.replace(r[0],u),this.regexp.lastIndex=0}return t}}const Pw=a=>{let t=a.toLowerCase().trim();const i={};if(a.indexOf("(")>-1){const s=a.split("(");t=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);t==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):t==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(f=>{if(f){const[d,...p]=f.split(":"),m=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();i[_]||(i[_]=m),m==="false"&&(i[_]=!1),m==="true"&&(i[_]=!0),isNaN(m)||(i[_]=parseInt(m,10))}})}return{formatName:t,formatOptions:i}},yy=a=>{const t={};return(i,s,r)=>{let u=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(u={...u,[r.interpolationkey]:void 0});const f=s+JSON.stringify(u);let d=t[f];return d||(d=a(Dl(s),r),t[f]=d),d(i)}},Hw=a=>(t,i,s)=>a(Dl(i),s)(t);class $w{constructor(t={}){this.logger=fn.create("formatter"),this.options=t,this.init(t)}init(t,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const s=i.cacheInBuiltFormats?yy:Hw;this.formats={number:s((r,u)=>{const f=new Intl.NumberFormat(r,{...u});return d=>f.format(d)}),currency:s((r,u)=>{const f=new Intl.NumberFormat(r,{...u,style:"currency"});return d=>f.format(d)}),datetime:s((r,u)=>{const f=new Intl.DateTimeFormat(r,{...u});return d=>f.format(d)}),relativetime:s((r,u)=>{const f=new Intl.RelativeTimeFormat(r,{...u});return d=>f.format(d,u.range||"day")}),list:s((r,u)=>{const f=new Intl.ListFormat(r,{...u});return d=>f.format(d)})}}add(t,i){this.formats[t.toLowerCase().trim()]=i}addCached(t,i){this.formats[t.toLowerCase().trim()]=yy(i)}format(t,i,s,r={}){const u=i.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(d=>d.indexOf(")")>-1)){const d=u.findIndex(p=>p.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,d)].join(this.formatSeparator)}return u.reduce((d,p)=>{const{formatName:m,formatOptions:_}=Pw(p);if(this.formats[m]){let y=d;try{const E=r?.formatParams?.[r.interpolationkey]||{},C=E.locale||E.lng||r.locale||r.lng||s;y=this.formats[m](d,C,{..._,...r,...E})}catch(E){this.logger.warn(E)}return y}else this.logger.warn(`there was no format function for ${m}`);return d},t)}}const Bw=(a,t)=>{a.pending[t]!==void 0&&(delete a.pending[t],a.pendingCount--)};class qw extends tu{constructor(t,i,s,r={}){super(),this.backend=t,this.store=i,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=fn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,r.backend,r)}queueLoad(t,i,s,r){const u={},f={},d={},p={};return t.forEach(m=>{let _=!0;i.forEach(y=>{const E=`${m}|${y}`;!s.reload&&this.store.hasResourceBundle(m,y)?this.state[E]=2:this.state[E]<0||(this.state[E]===1?f[E]===void 0&&(f[E]=!0):(this.state[E]=1,_=!1,f[E]===void 0&&(f[E]=!0),u[E]===void 0&&(u[E]=!0),p[y]===void 0&&(p[y]=!0)))}),_||(d[m]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(t,i,s){const r=t.split("|"),u=r[0],f=r[1];i&&this.emit("failedLoading",u,f,i),!i&&s&&this.store.addResourceBundle(u,f,s,void 0,void 0,{skipCopy:!0}),this.state[t]=i?-1:2,i&&s&&(this.state[t]=0);const d={};this.queue.forEach(p=>{Ow(p.loaded,[u],f),Bw(p,t),i&&p.errors.push(i),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(m=>{d[m]||(d[m]={});const _=p.loaded[m];_.length&&_.forEach(y=>{d[m][y]===void 0&&(d[m][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(t,i,s,r=0,u=this.retryTimeout,f){if(!t.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:i,fcName:s,tried:r,wait:u,callback:f});return}this.readingCalls++;const d=(m,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(m&&_&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,t,i,s,r+1,u*2,f)},u);return}f(m,_)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const m=p(t,i);m&&typeof m.then=="function"?m.then(_=>d(null,_)).catch(d):d(null,m)}catch(m){d(m)}return}return p(t,i,d)}prepareLoading(t,i,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ue(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ue(i)&&(i=[i]);const u=this.queueLoad(t,i,s,r);if(!u.toLoad.length)return u.pending.length||r(),null;u.toLoad.forEach(f=>{this.loadOne(f)})}load(t,i,s){this.prepareLoading(t,i,{},s)}reload(t,i,s){this.prepareLoading(t,i,{reload:!0},s)}loadOne(t,i=""){const s=t.split("|"),r=s[0],u=s[1];this.read(r,u,"read",void 0,void 0,(f,d)=>{f&&this.logger.warn(`${i}loading namespace ${u} for language ${r} failed`,f),!f&&d&&this.logger.log(`${i}loaded namespace ${u} for language ${r}`,d),this.loaded(t,f,d)})}saveMissing(t,i,s,r,u,f={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${s}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...f,isUpdate:u},m=this.backend.create.bind(this.backend);if(m.length<6)try{let _;m.length===5?_=m(t,i,s,r,p):_=m(t,i,s,r),_&&typeof _.then=="function"?_.then(y=>d(null,y)).catch(d):d(null,_)}catch(_){d(_)}else m(t,i,s,r,d,p)}!t||!t[0]||this.store.addResource(t[0],i,s,r)}}}const vy=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let t={};if(typeof a[1]=="object"&&(t=a[1]),ue(a[1])&&(t.defaultValue=a[1]),ue(a[2])&&(t.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const i=a[3]||a[2];Object.keys(i).forEach(s=>{t[s]=i[s]})}return t},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ey=a=>(ue(a.ns)&&(a.ns=[a.ns]),ue(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),ue(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a),so=()=>{},Yw=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(i=>{typeof a[i]=="function"&&(a[i]=a[i].bind(a))})};class Ml extends tu{constructor(t={},i){if(super(),this.options=Ey(t),this.services={},this.logger=fn,this.modules={external:[]},Yw(this),i&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,i),this;setTimeout(()=>{this.init(t,i)},0)}}init(t={},i){this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(ue(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=vy();this.options={...s,...this.options,...Ey(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?fn.init(r(this.modules.logger),this.options):fn.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=$w;const _=new py(this.options);this.store=new fy(this.options.resources,this.options);const y=this.services;y.logger=fn,y.resourceStore=this.store,y.languageUtils=_,y.pluralResolver=new jw(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(y.formatter=r(m),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new Vw(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new qw(r(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(C,...A)=>{this.emit(C,...A)}),this.modules.languageDetector&&(y.languageDetector=r(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=r(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new jo(this.services,this.options),this.translator.on("*",(C,...A)=>{this.emit(C,...A)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,i||(i=so),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(..._)=>this.store[m](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(..._)=>(this.store[m](..._),this)});const d=hl(),p=()=>{const m=(_,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(y),i(_,y)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(t,i=so){let s=i;const r=ue(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const u=[],f=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(m=>{m!=="cimode"&&u.indexOf(m)<0&&u.push(m)})};r?f(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),this.options.preload?.forEach?.(d=>f(d)),this.services.backendConnector.load(u,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(t,i,s){const r=hl();return typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=void 0),t||(t=this.languages),i||(i=this.options.ns),s||(s=so),this.services.backendConnector.reload(t,i,u=>{r.resolve(),s(u)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&M0.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let i=0;i<this.languages.length;i++){const s=this.languages[i];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,i){this.isLanguageChangingTo=t;const s=hl();this.emit("languageChanging",t);const r=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},u=(d,p)=>{p?this.isLanguageChangingTo===t&&(r(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...m)=>this.t(...m)),i&&i(d,(...m)=>this.t(...m))},f=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const p=ue(d)?d:d&&d[0],m=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(ue(d)?[d]:d);m&&(this.language||r(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,_=>{u(_,m)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(t),s}getFixedT(t,i,s){const r=(u,f,...d)=>{let p;typeof f!="object"?p=this.options.overloadTranslationOptionHandler([u,f].concat(d)):p={...f},p.lng=p.lng||r.lng,p.lngs=p.lngs||r.lngs,p.ns=p.ns||r.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||r.keyPrefix);const m=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(u)?_=u.map(y=>`${p.keyPrefix}${m}${y}`):_=p.keyPrefix?`${p.keyPrefix}${m}${u}`:u,this.t(_,p)};return ue(t)?r.lng=t:r.lngs=t,r.ns=i,r.keyPrefix=s,r}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const f=(d,p)=>{const m=this.services.backendConnector.state[`${d}|${p}`];return m===-1||m===0||m===2};if(i.precheck){const d=i.precheck(this,f);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(s,t)&&(!r||f(u,t)))}loadNamespaces(t,i){const s=hl();return this.options.ns?(ue(t)&&(t=[t]),t.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),i&&i(r)}),s):(i&&i(),Promise.resolve())}loadLanguages(t,i){const s=hl();ue(t)&&(t=[t]);const r=this.options.preload||[],u=t.filter(f=>r.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return u.length?(this.options.preload=r.concat(u),this.loadResources(f=>{s.resolve(),i&&i(f)}),s):(i&&i(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const r=new Intl.Locale(t);if(r&&r.getTextInfo){const u=r.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new py(vy());return t.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},i){return new Ml(t,i)}cloneInstance(t={},i=so){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},u=new Ml(r);if((t.debug!==void 0||t.prefix!==void 0)&&(u.logger=u.logger.clone(t)),["store","services","language"].forEach(d=>{u[d]=this[d]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},s){const d=Object.keys(this.store.data).reduce((p,m)=>(p[m]={...this.store.data[m]},p[m]=Object.keys(p[m]).reduce((_,y)=>(_[y]={...p[m][y]},_),p[m]),p),{});u.store=new fy(d,r),u.services.resourceStore=u.store}return u.translator=new jo(u.services,r),u.translator.on("*",(d,...p)=>{u.emit(d,...p)}),u.init(r,i),u.translator.options=r,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $e=Ml.createInstance();$e.createInstance=Ml.createInstance;$e.createInstance;$e.dir;$e.init;$e.loadResources;$e.reloadResources;$e.use;$e.changeLanguage;$e.getFixedT;const _D=$e.t;$e.exists;$e.setDefaultNamespace;$e.hasLoadedNamespace;$e.loadNamespaces;$e.loadLanguages;function Fw(a={tables:["customTiles","gameBoard"]}){const{tables:t}=a,i=new Set(t),s={timeouts:{},queue:new Set,scheduleSync(r){this.timeouts[r]&&clearTimeout(this.timeouts[r]),this.queue.add(r),this.timeouts[r]=setTimeout(()=>{this.processSyncQueue()},2e3)},processSyncQueue(){if(this.queue.size===0)return;const r=window;r.authContext?.user&&!r.authContext.user.isAnonymous&&r.authContext.syncData(),this.queue.clear(),Object.keys(this.timeouts).forEach(u=>{clearTimeout(this.timeouts[u]),delete this.timeouts[u]})}};return{stack:"dbcore",name:"syncMiddleware",create(r){return{...r,table(u){const f=r.table(u);return i.has(u)?{...f,mutate:async d=>{const p=await f.mutate(d);return["put","add","delete","deleteRange","update"].includes(d.type)&&s.scheduleSync(u),p}}:f}}}}}class Gw extends yS{constructor(){super("blitzedOut");Jr(this,"customTiles");Jr(this,"gameBoard");Jr(this,"customGroups");this.version(2).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive"}),this.version(3).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive",customGroups:"++id, name, label, locale, gameMode, isDefault, createdAt"}),this.version(4).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive",customGroups:"++id, name, label, locale, gameMode, isDefault, createdAt, [name+locale+gameMode]"}).upgrade(async i=>{const s=await i.table("customGroups").toArray(),r=new Set;for(const u of s){const f=`${u.name}-${u.locale}-${u.gameMode}`;r.has(f)?await i.table("customGroups").delete(u.id):r.add(f)}})}}const Ki=new Gw;Ki.use(Fw({tables:["customTiles","gameBoard","customGroups"]}));const{customTiles:dn}=Ki;dn.hook("creating",function(a,t,i){t.locale===void 0&&(t.locale="en"),t.gameMode===void 0&&(t.gameMode="online"),t.isCustom===void 0&&(t.isCustom=1)});const N0=async a=>{const t=a.map(i=>({...i,isEnabled:1}));return await dn.bulkAdd(t)},L0=a=>{const t=["locale","gameMode","group","intensity","tag","isCustom","action"];let i=dn.toCollection();return Object.entries(a).filter(([r])=>t.includes(r)).forEach(([r,u])=>{u==null||u===""||(r==="tag"?i=i.filter(f=>f.tags.includes(u)):i=i.filter(f=>f[r]===u))}),i},nd=async(a={})=>{try{return await L0(a).toArray()}catch(t){return console.error("Error in getTiles:",t),[]}},Qw=async a=>{const{page:t=1,limit:i=50}=a;try{const s=L0(a),r=await s.count(),u=(t-1)*i;return{items:await s.offset(u).limit(i).toArray(),total:r,page:t,limit:i,totalPages:Math.ceil(r/i)}}catch(s){return console.error("Error in getPaginatedTiles:",s),{items:[],total:0,page:t,limit:i,totalPages:0}}},U0=(a="en",t="online")=>dn.where("locale").equals(a).and(i=>i.gameMode===t),Kw=async(a="en",t="online",i=null)=>{let s=U0(a,t);return i&&(s=s.and(u=>u.tags.some(f=>i.includes(f)))),(await s.toArray()).reduce((u,f)=>{const d=f.group;u[d]||(u[d]={count:0,intensities:{}}),u[d].count++;const p=Number(f.intensity);return u[d].intensities[p]||(u[d].intensities[p]=0),u[d].intensities[p]++,u},{})},Xw=(a=null)=>{const t=$e.resolvedLanguage||$e.language||"en";let i=dn.where("locale").equals(t).and(s=>s.isEnabled===1);return a&&(i=i.and(s=>s.gameMode===a)),i.toArray()},I0=async a=>await dn.add({...a,isEnabled:1}),Zw=async(a,t)=>await dn.update(a,t),Ww=async a=>{const t=await dn.get(a);if(!t)throw new Error(`Custom tile with id ${a} not found`);return await dn.update(a,{isEnabled:t.isEnabled?0:1})};async function k0(){try{return await Ki.customTiles.where("isCustom").equals(1).delete(),!0}catch(a){return console.error("Error deleting custom tiles:",a),!1}}const Jw=async a=>{await dn.delete(a)},z0=(a,t="en",i="online")=>U0(t,i).and(s=>s.group===a),eR=async(a,t="en",i="online")=>{try{return await z0(a,t,i).count()}catch(s){return console.error("Error counting tiles by group:",s),0}},tR=async(a,t="en",i="online")=>{try{return await z0(a,t,i).delete()}catch(s){return console.error("Error deleting tiles by group:",s),0}},nR=Object.freeze(Object.defineProperty({__proto__:null,addCustomTile:I0,countTilesByGroup:eR,deleteAllIsCustomTiles:k0,deleteCustomTile:Jw,deleteCustomTilesByGroup:tR,getActiveTiles:Xw,getPaginatedTiles:Qw,getTileCountsByGroup:Kw,getTiles:nd,importCustomTiles:N0,toggleCustomTile:Ww,updateCustomTile:Zw},Symbol.toStringTag,{value:"Module"})),{gameBoard:Vn}=Ki,iR=()=>Vn.orderBy("title").toArray(),yD=async()=>Vn.where("isActive").equals(1)?.first(),sR=async a=>Vn.add(a),aR=async(a,t)=>Vn.update(a.id,{...a,...t}),lR=async a=>{const t={title:a.title===void 0?"":a.title,tiles:a.tiles||[],isActive:a.isActive===void 0?1:a.isActive,tags:a.tags||[],gameMode:a.gameMode||"online"};if(!t?.title?.length&&t?.tiles?.length)return;const i=await Vn.where("title").equals(t.title).first();return Ki.transaction("rw",Ki.gameBoard,async()=>(t.isActive&&await rR(),i?(await aR(i,a),i.id):await sR(t)))},vD=async a=>{const i=(await Vn.toArray()).map(s=>({...s,isActive:s.id===a?1:0}));await Vn.bulkPut(i)},ED=async a=>{await Vn.delete(a)},rR=async()=>{await Vn.where("isActive").equals(1).modify({isActive:0})},{customGroups:gn}=Ki;gn.hook("creating",function(a,t,i){t.id||(t.id=fh()),t.locale===void 0&&(t.locale=$e.resolvedLanguage||$e.language||"en"),t.gameMode===void 0&&(t.gameMode="online"),t.isDefault===void 0&&(t.isDefault=!1);const s=new Date;t.createdAt||(t.createdAt=s),t.updatedAt=s});gn.hook("updating",function(a,t,i,s){a.updatedAt=new Date});const oR=a=>{const t=["locale","gameMode","name","isDefault"];let i=gn.toCollection();return Object.entries(a).filter(([r])=>t.includes(r)).forEach(([r,u])=>{u==null||u===""||(i=i.filter(f=>f[r]===u))}),i},sn=async(a={})=>{try{return await oR(a).toArray()}catch(t){return console.error("Error in getCustomGroups:",t),[]}},uR=async a=>{try{return await gn.get(a)}catch(t){console.error("Error in getCustomGroup:",t);return}},nu=async(a,t="en",i="online")=>{try{return await gn.where("name").equals(a).and(s=>s.locale===t&&s.gameMode===i).first()}catch(s){console.error("Error in getCustomGroupByName:",s);return}},j0=async a=>{try{const t=fh(),i=new Date,s={...a,id:t,locale:a.locale||"en",gameMode:a.gameMode||"online",isDefault:a.isDefault||!1,createdAt:i,updatedAt:i};return await gn.add(s),t}catch(t){console.error("Error in addCustomGroup:",t);return}},cR=async(a,t)=>{try{return await gn.update(a,t)}catch(i){return console.error("Error in updateCustomGroup:",i),0}},V0=async a=>{try{await gn.delete(a)}catch(t){console.error("Error in deleteCustomGroup:",t)}},P0=async()=>{try{return await gn.clear(),!0}catch(a){return console.error("Error deleting all custom groups:",a),!1}},H0=async a=>{try{const t=new Date,i=a.map(s=>({name:s.name||"",label:s.label||"",intensities:s.intensities||[],id:s.id||fh(),locale:s.locale||"en",gameMode:s.gameMode||"online",isDefault:s.isDefault||!1,createdAt:s.createdAt||t,updatedAt:s.updatedAt||t}));return await gn.bulkAdd(i)}catch(t){console.error("Error in importCustomGroups:",t);return}},fR=async(a="en",t="online")=>{try{const i=await sn({locale:a,gameMode:t,isDefault:!0});return i.length>0?i:[]}catch(i){return console.error("Error creating default groups:",i),[]}},hR=async(a,t="en",i="online")=>{try{return(await nu(a,t,i))?.intensities||[]}catch(s){return console.error("Error in getGroupIntensities:",s),[]}},dR=async(a,t="en",i="online",s)=>{try{const r=await nu(a,t,i);return!!(!r||s&&r.id===s)}catch(r){return console.error("Error in isGroupNameUnique:",r),!1}},$0=async a=>{const t=$e.resolvedLanguage||$e.language||"en";return sn({locale:t,gameMode:a||"online"})},id=async(a="en",t="online")=>{try{const i=await sn({locale:a,gameMode:t}),s=new Map;i.forEach(u=>{const f=s.get(u.name)||[];f.push(u),s.set(u.name,f)});let r=0;for(const[,u]of s)if(u.length>1){u.sort((f,d)=>{try{const p=f.createdAt instanceof Date?f.createdAt.getTime():new Date(f.createdAt).getTime(),m=d.createdAt instanceof Date?d.createdAt.getTime():new Date(d.createdAt).getTime();return p-m}catch(p){return console.warn("Date parsing failed in removeDuplicateGroups, using createdAt fallback:",p),f.createdAt.getTime()-d.createdAt.getTime()}});for(let f=1;f<u.length;f++)await V0(u[f].id),r++}return r}catch(i){return console.error("Error in removeDuplicateGroups:",i),0}},pR=async()=>0,mR=async(a="en",t="online")=>{try{return await id(a,t),(await sn({locale:a,gameMode:t})).filter((r,u,f)=>f.findIndex(d=>d.name===r.name)===u)}catch(i){return console.error("Error in getAllAvailableGroups:",i),[]}},gR=async(a="en",t="online")=>{try{const{getTiles:i}=await b(async()=>{const{getTiles:d}=await Promise.resolve().then(()=>nR);return{getTiles:d}},void 0),s=await $0(t),r=await i({locale:a,gameMode:t,isCustom:1}),u=new Set(r.map(d=>d.group));return s.filter(d=>!d.isDefault&&u.has(d.name))}catch(i){return console.error("Error in getCustomGroupsWithTiles:",i),[]}},_R=async()=>{try{const a=await sn({isDefault:!0});return[...new Set(a.map(i=>i.locale))].sort()}catch(a){return console.error("Error getting available locales:",a),["en"]}},yR=async a=>{try{const t={isDefault:!0};a&&(t.locale=a);const i=await sn(t);return[...new Set(i.map(r=>r.gameMode))].sort()}catch(t){return console.error("Error getting available game modes:",t),["online"]}},vR=async(a,t)=>{try{return(await sn({locale:a,gameMode:t,isDefault:!0})).map(s=>s.name).sort()}catch(i){return console.error("Error getting action groups for mode:",i),[]}},ER=async()=>{try{const a=await sn({isDefault:!0});return[...new Set(a.map(i=>i.name))].sort()}catch(a){return console.error("Error getting all action group names:",a),[]}},TR=async()=>{try{const a=await sn({isDefault:!0}),t=new Map;return a.forEach(i=>{t.has(i.name)||t.set(i.name,{locales:new Set,gameModes:new Set,combinations:[]});const s=t.get(i.name);s?(s.locales.add(i.locale),s.gameModes.add(i.gameMode),s.combinations.push({locale:i.locale,gameMode:i.gameMode})):console.error(`Unexpected error: group data not found for group: ${i.name}`)}),Array.from(t.entries()).map(([i,s])=>({groupName:i,locales:Array.from(s.locales).sort(),gameModes:Array.from(s.gameModes).sort(),combinations:s.combinations})).sort((i,s)=>i.groupName.localeCompare(s.groupName))}catch(a){return console.error("Error getting group availability:",a),[]}},TD=Object.freeze(Object.defineProperty({__proto__:null,addCustomGroup:j0,createDefaultGroups:fR,deleteAllCustomGroups:P0,deleteCustomGroup:V0,getActionGroupsForMode:vR,getAllActionGroupNames:ER,getAllAvailableGroups:mR,getAvailableGameModes:yR,getAvailableLocales:_R,getCurrentGroups:$0,getCustomGroup:uR,getCustomGroupByName:nu,getCustomGroups:sn,getCustomGroupsWithTiles:gR,getGroupAvailability:TR,getGroupIntensities:hR,importCustomGroups:H0,isGroupNameUnique:dR,recreateDefaultGroups:pR,removeDuplicateGroups:id,updateCustomGroup:cR},Symbol.toStringTag,{value:"Module"})),iu=Gy();async function bR(){const t=mt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await nd({isCustom:1});return await ch(sa(iu,"user-data",t.uid),{customTiles:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing custom tiles:",i),!1}}async function SR(){const t=mt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await sn();return await ch(sa(iu,"user-data",t.uid),{customGroups:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing custom groups:",i),!1}}async function CR(){const t=mt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await iR();return i.length&&await ch(sa(iu,"user-data",t.uid),{gameBoards:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing game boards:",i),!1}}async function Uf(){return await bR(),await SR(),await CR(),!0}async function B0(){const t=mt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=sa(iu,"user-data",t.uid),s=await Qy(i);if(!s.exists())return!1;const r=s.data();if(r.customTiles!==void 0&&(await k0(),await new Promise(u=>setTimeout(u,ly)),r.customTiles&&r.customTiles.length>0))for(const u of r.customTiles)try{(await nd({gameMode:u.gameMode,group:u.group,intensity:u.intensity,action:u.action})).length===0&&await I0(u)}catch(f){console.error("Error importing custom tile:",u,f)}if(r.customGroups!==void 0&&(await P0(),await new Promise(u=>setTimeout(u,ly)),r.customGroups&&r.customGroups.length>0))try{await H0(r.customGroups)}catch(u){console.error("Error importing custom groups:",u)}if(r.gameBoards&&r.gameBoards.length>0)for(const u of r.gameBoards)await lR({title:u.title,tiles:u.tiles,tags:u.tags||[],gameMode:u.gameMode||"online",isActive:u.isActive||0});return!0}catch(i){return console.error("Error syncing data:",i),!1}}let oo=null;function xR(a=5){nh();const t=a*60*1e3;return oo=window.setInterval(async()=>{const i=mt();i.currentUser&&!i.currentUser.isAnonymous&&await B0()},t),!0}function nh(){return oo?(window.clearInterval(oo),oo=null,!0):!1}const q0=re.createContext(void 0);function AR(a){const[t,i]=re.useState(null),[s,r]=re.useState(!1),[u,f]=re.useState(!0),[d,p]=re.useState(null),[m,_]=re.useState({syncing:!1,lastSync:null}),y=re.useRef(null),E=re.useRef(!1),C=re.useCallback(async P=>{if(y.current&&(clearTimeout(y.current),y.current=null),!t||t.isAnonymous)return!1;try{return _({syncing:!0,lastSync:m.lastSync}),await P(),_({syncing:!1,lastSync:new Date}),!0}catch(L){return console.error("Sync error:",L),L instanceof Error?p(L.message):p("An unknown error occurred"),_({syncing:!1,lastSync:m.lastSync}),!1}},[t,y,_,m.lastSync,p]);async function A(P=""){try{const L=await ow(P);return i(L),L}catch(L){throw p(L.message),L}}async function k(P,L){try{r(!0);const Y=await cw(P,L);return i(Y),Y}catch(Y){throw Y instanceof Error&&p(Y.message),Y}finally{r(!1)}}async function U(){try{r(!0);const P=await fw();return i(P),P}catch(P){throw P instanceof Error&&p(P.message),P}finally{r(!1)}}async function Q(P,L,Y){try{r(!0);const H=await uw(P,L,Y);return i(H),H}catch(H){throw H instanceof Error&&p(H.message),H}finally{r(!1)}}async function F(P){try{return await hw(P),!0}catch(L){throw L instanceof Error&&p(L.message),L}}const $=re.useCallback(async(P,L)=>{try{r(!0);const Y=await dw(P,L);return i(Y),await C(Uf),Y}catch(Y){throw Y instanceof Error&&p(Y.message),Y}finally{r(!1)}},[r,i,C,p]);async function Z(P=""){try{const L=await gw(P);return i(L),L}catch(L){throw L instanceof Error&&p(L.message),L}}const ne=re.useCallback(async()=>{try{if(t&&!t.isAnonymous){const P=C(Uf),L=new Promise(Y=>setTimeout(Y,5e3,!1));await Promise.race([P,L])}await pw(),i(null)}catch(P){throw P instanceof Error&&p(P.message),P}},[t,C,i,p]),N=re.useCallback(async()=>C(Uf),[C]);re.useEffect(()=>{const L=mt().onAuthStateChanged(Y=>{if(i(Y||null),E.current||(E.current=!0,f(!1)),Y&&!Y.isAnonymous){const H=()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{_({syncing:!0,lastSync:null}),B0().then(()=>{_({syncing:!1,lastSync:new Date}),xR()}).catch(J=>{console.error("Error syncing from Firebase:",J),_({syncing:!1,lastSync:null})}).finally(()=>{y.current=null})},1e3)};typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(H,{timeout:5e3}):setTimeout(H,100)}else nh()});return window.authContext={user:null},()=>{L(),y.current&&clearTimeout(y.current),nh(),window.authContext=void 0}},[]),re.useEffect(()=>{window.authContext&&(window.authContext.user=t)},[t]);const B=re.useMemo(()=>({user:t,loading:s,initializing:u,error:d,syncStatus:m,login:A,loginEmail:k,loginGoogle:U,register:Q,updateUser:Z,forgotPassword:F,convertToRegistered:$,logout:ne,syncData:N,isAnonymous:t?.isAnonymous||!1}),[t,s,u,d,m,$,ne,N]);return pe.jsx(q0.Provider,{value:B,...a})}var wR=vS();const Ze=Xi(wR);var uo={exports:{}},RR=uo.exports,Ty;function OR(){return Ty||(Ty=1,function(a,t){(function(i,s){a.exports=s()})(RR,function(){var i="week",s="year";return function(r,u,f){var d=u.prototype;d.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var m=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var _=f(this).startOf(s).add(1,s).date(m),y=f(this).endOf(i);if(_.isBefore(y))return 1}var E=f(this).startOf(s).date(m).startOf(i).subtract(1,"millisecond"),C=this.diff(E,i,!0);return C<0?f(this).startOf("week").week():Math.ceil(C)},d.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})}(uo)),uo.exports}var DR=OR();const MR=Xi(DR);var co={exports:{}},NR=co.exports,by;function LR(){return by||(by=1,function(a,t){(function(i,s){a.exports=s()})(NR,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,u=/\d\d/,f=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,p={},m=function(U){return(U=+U)+(U>68?1900:2e3)},_=function(U){return function(Q){this[U]=+Q}},y=[/[+-]\d\d:?(\d\d)?|Z/,function(U){(this.zone||(this.zone={})).offset=function(Q){if(!Q||Q==="Z")return 0;var F=Q.match(/([+-]|\d\d)/g),$=60*F[1]+(+F[2]||0);return $===0?0:F[0]==="+"?-$:$}(U)}],E=function(U){var Q=p[U];return Q&&(Q.indexOf?Q:Q.s.concat(Q.f))},C=function(U,Q){var F,$=p.meridiem;if($){for(var Z=1;Z<=24;Z+=1)if(U.indexOf($(Z,0,Q))>-1){F=Z>12;break}}else F=U===(Q?"pm":"PM");return F},A={A:[d,function(U){this.afternoon=C(U,!1)}],a:[d,function(U){this.afternoon=C(U,!0)}],Q:[r,function(U){this.month=3*(U-1)+1}],S:[r,function(U){this.milliseconds=100*+U}],SS:[u,function(U){this.milliseconds=10*+U}],SSS:[/\d{3}/,function(U){this.milliseconds=+U}],s:[f,_("seconds")],ss:[f,_("seconds")],m:[f,_("minutes")],mm:[f,_("minutes")],H:[f,_("hours")],h:[f,_("hours")],HH:[f,_("hours")],hh:[f,_("hours")],D:[f,_("day")],DD:[u,_("day")],Do:[d,function(U){var Q=p.ordinal,F=U.match(/\d+/);if(this.day=F[0],Q)for(var $=1;$<=31;$+=1)Q($).replace(/\[|\]/g,"")===U&&(this.day=$)}],w:[f,_("week")],ww:[u,_("week")],M:[f,_("month")],MM:[u,_("month")],MMM:[d,function(U){var Q=E("months"),F=(E("monthsShort")||Q.map(function($){return $.slice(0,3)})).indexOf(U)+1;if(F<1)throw new Error;this.month=F%12||F}],MMMM:[d,function(U){var Q=E("months").indexOf(U)+1;if(Q<1)throw new Error;this.month=Q%12||Q}],Y:[/[+-]?\d+/,_("year")],YY:[u,function(U){this.year=m(U)}],YYYY:[/\d{4}/,_("year")],Z:y,ZZ:y};function k(U){var Q,F;Q=U,F=p&&p.formats;for(var $=(U=Q.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,H,J){var j=J&&J.toUpperCase();return H||F[J]||i[J]||F[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ee,ce,D){return ce||D.slice(1)})})).match(s),Z=$.length,ne=0;ne<Z;ne+=1){var N=$[ne],B=A[N],P=B&&B[0],L=B&&B[1];$[ne]=L?{regex:P,parser:L}:N.replace(/^\[|\]$/g,"")}return function(Y){for(var H={},J=0,j=0;J<Z;J+=1){var ee=$[J];if(typeof ee=="string")j+=ee.length;else{var ce=ee.regex,D=ee.parser,q=Y.slice(j),X=ce.exec(q)[0];D.call(H,X),Y=Y.replace(X,"")}}return function(K){var he=K.afternoon;if(he!==void 0){var ie=K.hours;he?ie<12&&(K.hours+=12):ie===12&&(K.hours=0),delete K.afternoon}}(H),H}}return function(U,Q,F){F.p.customParseFormat=!0,U&&U.parseTwoDigitYear&&(m=U.parseTwoDigitYear);var $=Q.prototype,Z=$.parse;$.parse=function(ne){var N=ne.date,B=ne.utc,P=ne.args;this.$u=B;var L=P[1];if(typeof L=="string"){var Y=P[2]===!0,H=P[3]===!0,J=Y||H,j=P[2];H&&(j=P[2]),p=this.$locale(),!Y&&j&&(p=F.Ls[j]),this.$d=function(q,X,K,he){try{if(["x","X"].indexOf(X)>-1)return new Date((X==="X"?1e3:1)*q);var ie=k(X)(q),de=ie.year,fe=ie.month,Ne=ie.day,lt=ie.hours,an=ie.minutes,es=ie.seconds,ts=ie.milliseconds,_n=ie.zone,ns=ie.week,Pn=new Date,vi=Ne||(de||fe?1:Pn.getDate()),Ei=de||Pn.getFullYear(),Hn=0;de&&!fe||(Hn=fe>0?fe-1:Pn.getMonth());var is,oa=lt||0,gt=an||0,ua=es||0,ss=ts||0;return _n?new Date(Date.UTC(Ei,Hn,vi,oa,gt,ua,ss+60*_n.offset*1e3)):K?new Date(Date.UTC(Ei,Hn,vi,oa,gt,ua,ss)):(is=new Date(Ei,Hn,vi,oa,gt,ua,ss),ns&&(is=he(is).week(ns).toDate()),is)}catch{return new Date("")}}(N,L,B,F),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),J&&N!=this.format(L)&&(this.$d=new Date("")),p={}}else if(L instanceof Array)for(var ee=L.length,ce=1;ce<=ee;ce+=1){P[1]=L[ce-1];var D=F.apply(this,P);if(D.isValid()){this.$d=D.$d,this.$L=D.$L,this.init();break}ce===ee&&(this.$d=new Date(""))}else Z.call(this,ne)}}})}(co)),co.exports}var UR=LR();const IR=Xi(UR);var fo={exports:{}},kR=fo.exports,Sy;function zR(){return Sy||(Sy=1,function(a,t){(function(i,s){a.exports=s()})(kR,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,r,u){var f=r.prototype,d=f.format;u.en.formats=i,f.format=function(p){p===void 0&&(p="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,_=function(y,E){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(C,A,k){var U=k&&k.toUpperCase();return A||E[k]||i[k]||E[U].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Q,F,$){return F||$.slice(1)})})}(p,m===void 0?{}:m);return d.call(this,_)}}})}(fo)),fo.exports}var jR=zR();const VR=Xi(jR);var ho={exports:{}},PR=ho.exports,Cy;function HR(){return Cy||(Cy=1,function(a,t){(function(i,s){a.exports=s()})(PR,function(){return function(i,s,r){s.prototype.isBetween=function(u,f,d,p){var m=r(u),_=r(f),y=(p=p||"()")[0]==="(",E=p[1]===")";return(y?this.isAfter(m,d):!this.isBefore(m,d))&&(E?this.isBefore(_,d):!this.isAfter(_,d))||(y?this.isBefore(m,d):!this.isAfter(m,d))&&(E?this.isAfter(_,d):!this.isBefore(_,d))}}})}(ho)),ho.exports}var $R=HR();const BR=Xi($R);var po={exports:{}},qR=po.exports,xy;function YR(){return xy||(xy=1,function(a,t){(function(i,s){a.exports=s()})(qR,function(){return function(i,s){var r=s.prototype,u=r.format;r.format=function(f){var d=this,p=this.$locale();if(!this.isValid())return u.bind(this)(f);var m=this.$utils(),_=(f||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(y){switch(y){case"Q":return Math.ceil((d.$M+1)/3);case"Do":return p.ordinal(d.$D);case"gggg":return d.weekYear();case"GGGG":return d.isoWeekYear();case"wo":return p.ordinal(d.week(),"W");case"w":case"ww":return m.s(d.week(),y==="w"?1:2,"0");case"W":case"WW":return m.s(d.isoWeek(),y==="W"?1:2,"0");case"k":case"kk":return m.s(String(d.$H===0?24:d.$H),y==="k"?1:2,"0");case"X":return Math.floor(d.$d.getTime()/1e3);case"x":return d.$d.getTime();case"z":return"["+d.offsetName()+"]";case"zzz":return"["+d.offsetName("long")+"]";default:return y}});return u.bind(this)(_)}}})}(po)),po.exports}var FR=YR();const GR=Xi(FR);Ze.extend(VR);Ze.extend(MR);Ze.extend(BR);Ze.extend(GR);const QR={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},KR={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},If=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Ay=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class XR{constructor({locale:t,formats:i}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=QR,this.setLocaleToValue=s=>{const r=this.getCurrentLocaleCode();return r===s.locale()?s:s.locale(r)},this.hasUTCPlugin=()=>typeof Ze.utc<"u",this.hasTimezonePlugin=()=>typeof Ze.tz<"u",this.isSame=(s,r,u)=>{const f=this.setTimezone(r,this.getTimezone(s));return s.format(u)===f.format(u)},this.cleanTimezone=s=>{switch(s){case"default":return;case"system":return Ze.tz.guess();default:return s}},this.createSystemDate=s=>{let r;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const u=Ze.tz.guess();u==="UTC"?r=Ze(s):r=Ze.tz(s,u)}else r=Ze(s);return this.setLocaleToValue(r)},this.createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(If);return this.setLocaleToValue(Ze.utc(s))},this.createTZDate=(s,r)=>{if(!this.hasUTCPlugin())throw new Error(If);if(!this.hasTimezonePlugin())throw new Error(Ay);const u=s!==void 0&&!s.endsWith("Z");return this.setLocaleToValue(Ze(s).tz(this.cleanTimezone(r),u))},this.getLocaleFormats=()=>{const s=Ze.Ls,r=this.locale||"en";let u=s[r];return u===void 0&&(u=s.en),u.formats},this.adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const r=this.getTimezone(s);if(r!=="UTC"){const u=s.tz(this.cleanTimezone(r),!0);if(u.$offset===(s.$offset??0))return s;s.$offset=u.$offset}return s},this.date=(s,r="default")=>s===null?null:r==="UTC"?this.createUTCDate(s):r==="system"||r==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(s):this.createTZDate(s,r),this.getInvalidDate=()=>Ze(new Date("Invalid date")),this.getTimezone=s=>{if(this.hasTimezonePlugin()){const r=s.$x?.$timezone;if(r)return r}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"},this.setTimezone=(s,r)=>{if(this.getTimezone(s)===r)return s;if(r==="UTC"){if(!this.hasUTCPlugin())throw new Error(If);return s.utc()}if(r==="system")return s.local();if(!this.hasTimezonePlugin()){if(r==="default")return s;throw new Error(Ay)}return this.setLocaleToValue(Ze.tz(s,this.cleanTimezone(r)))},this.toJsDate=s=>s.toDate(),this.parse=(s,r)=>s===""?null:Ze(s,r,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=s=>{const r=this.getLocaleFormats(),u=f=>f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(d,p,m)=>p||m.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(f,d,p)=>{const m=p&&p.toUpperCase();return d||r[p]||u(r[m])})},this.isValid=s=>s==null?!1:s.isValid(),this.format=(s,r)=>this.formatByString(s,this.formats[r]),this.formatByString=(s,r)=>this.setLocaleToValue(s).format(r),this.formatNumber=s=>s,this.isEqual=(s,r)=>s===null&&r===null?!0:s===null||r===null?!1:s.toDate().getTime()===r.toDate().getTime(),this.isSameYear=(s,r)=>this.isSame(s,r,"YYYY"),this.isSameMonth=(s,r)=>this.isSame(s,r,"YYYY-MM"),this.isSameDay=(s,r)=>this.isSame(s,r,"YYYY-MM-DD"),this.isSameHour=(s,r)=>s.isSame(r,"hour"),this.isAfter=(s,r)=>s>r,this.isAfterYear=(s,r)=>this.hasUTCPlugin()?!this.isSameYear(s,r)&&s.utc()>r.utc():s.isAfter(r,"year"),this.isAfterDay=(s,r)=>this.hasUTCPlugin()?!this.isSameDay(s,r)&&s.utc()>r.utc():s.isAfter(r,"day"),this.isBefore=(s,r)=>s<r,this.isBeforeYear=(s,r)=>this.hasUTCPlugin()?!this.isSameYear(s,r)&&s.utc()<r.utc():s.isBefore(r,"year"),this.isBeforeDay=(s,r)=>this.hasUTCPlugin()?!this.isSameDay(s,r)&&s.utc()<r.utc():s.isBefore(r,"day"),this.isWithinRange=(s,[r,u])=>s>=r&&s<=u,this.startOfYear=s=>this.adjustOffset(s.startOf("year")),this.startOfMonth=s=>this.adjustOffset(s.startOf("month")),this.startOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).startOf("week")),this.startOfDay=s=>this.adjustOffset(s.startOf("day")),this.endOfYear=s=>this.adjustOffset(s.endOf("year")),this.endOfMonth=s=>this.adjustOffset(s.endOf("month")),this.endOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).endOf("week")),this.endOfDay=s=>this.adjustOffset(s.endOf("day")),this.addYears=(s,r)=>this.adjustOffset(s.add(r,"year")),this.addMonths=(s,r)=>this.adjustOffset(s.add(r,"month")),this.addWeeks=(s,r)=>this.adjustOffset(s.add(r,"week")),this.addDays=(s,r)=>this.adjustOffset(s.add(r,"day")),this.addHours=(s,r)=>this.adjustOffset(s.add(r,"hour")),this.addMinutes=(s,r)=>this.adjustOffset(s.add(r,"minute")),this.addSeconds=(s,r)=>this.adjustOffset(s.add(r,"second")),this.getYear=s=>s.year(),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.getHours=s=>s.hour(),this.getMinutes=s=>s.minute(),this.getSeconds=s=>s.second(),this.getMilliseconds=s=>s.millisecond(),this.setYear=(s,r)=>this.adjustOffset(s.set("year",r)),this.setMonth=(s,r)=>this.adjustOffset(s.set("month",r)),this.setDate=(s,r)=>this.adjustOffset(s.set("date",r)),this.setHours=(s,r)=>this.adjustOffset(s.set("hour",r)),this.setMinutes=(s,r)=>this.adjustOffset(s.set("minute",r)),this.setSeconds=(s,r)=>this.adjustOffset(s.set("second",r)),this.setMilliseconds=(s,r)=>this.adjustOffset(s.set("millisecond",r)),this.getDaysInMonth=s=>s.daysInMonth(),this.getWeekArray=s=>{const r=this.startOfWeek(this.startOfMonth(s)),u=this.endOfWeek(this.endOfMonth(s));let f=0,d=r;const p=[];for(;d<u;){const m=Math.floor(f/7);p[m]=p[m]||[],p[m].push(d),d=this.addDays(d,1),f+=1}return p},this.getWeekNumber=s=>s.week(),this.getYearRange=([s,r])=>{const u=this.startOfYear(s),f=this.endOfYear(r),d=[];let p=u;for(;this.isBefore(p,f);)d.push(p),p=this.addYears(p,1);return d},this.locale=t,this.formats=Py({},KR,i),Ze.extend(IR)}getDayOfWeek(t){return t.day()+1}}function ZR(a,t){let i;try{i=a()}catch{return}return{getItem:r=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),d=(u=i.getItem(r))!=null?u:null;return d instanceof Promise?d.then(f):f(d)},setItem:(r,u)=>i.setItem(r,JSON.stringify(u,void 0)),removeItem:r=>i.removeItem(r)}}const ih=a=>t=>{try{const i=a(t);return i instanceof Promise?i:{then(s){return ih(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return ih(s)(i)}}}},WR=(a,t)=>(i,s,r)=>{let u={storage:ZR(()=>localStorage),partialize:k=>k,version:0,merge:(k,U)=>({...U,...k}),...t},f=!1;const d=new Set,p=new Set;let m=u.storage;if(!m)return a((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...k)},s,r);const _=()=>{const k=u.partialize({...s()});return m.setItem(u.name,{state:k,version:u.version})},y=r.setState;r.setState=(k,U)=>{y(k,U),_()};const E=a((...k)=>{i(...k),_()},s,r);r.getInitialState=()=>E;let C;const A=()=>{var k,U;if(!m)return;f=!1,d.forEach(F=>{var $;return F(($=s())!=null?$:E)});const Q=((U=u.onRehydrateStorage)==null?void 0:U.call(u,(k=s())!=null?k:E))||void 0;return ih(m.getItem.bind(m))(u.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==u.version){if(u.migrate){const $=u.migrate(F.state,F.version);return $ instanceof Promise?$.then(Z=>[!0,Z]):[!0,$]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var $;const[Z,ne]=F;if(C=u.merge(ne,($=s())!=null?$:E),i(C,!0),Z)return _()}).then(()=>{Q?.(C,void 0),C=s(),f=!0,p.forEach(F=>F(C))}).catch(F=>{Q?.(void 0,F)})};return r.persist={setOptions:k=>{u={...u,...k},k.storage&&(m=k.storage)},clearStorage:()=>{m?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>A(),hasHydrated:()=>f,onHydrate:k=>(d.add(k),()=>{d.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},u.skipHydration||A(),C||E},JR=WR;function sh(a){if(!a)return null;try{if(typeof a.toDate=="function")return a.toDate();if(typeof a=="string"){const t=new Date(a);if(isNaN(t.getTime()))throw new Error("Invalid serialized timestamp format");return t}else if(typeof a=="number"){const t=a<3250368e4?a*1e3:a,i=new Date(t);if(isNaN(i.getTime()))throw new Error("Invalid numeric timestamp format");return i}else if(typeof a=="object"&&a.seconds!==void 0){const t=a,i=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);if(isNaN(i.getTime()))throw new Error("Invalid Firestore timestamp object format");return i}else{if(a instanceof Date)return a;throw console.warn("Unsupported timestamp format:",typeof a,a),new Error(`Unsupported timestamp format: ${typeof a}`)}}catch(t){return console.warn("Failed to parse timestamp:",t),null}}function kf(a){return a.sort((t,i)=>{const s=sh(t.timestamp),r=sh(i.timestamp);return!s||!r?0:s.getTime()-r.getTime()})}function su(a){return JSON.parse(JSON.stringify(a)).reverse()}function eO(a,t){return su(a).find(i=>i.type===t)}function tO(a,t,i="ASC"){let s=su(a);return i==="DESC"&&(s=s.reverse()),s.filter(r=>r.type===t)}function bD(a,t){return su(a).find(t)}function nO(a){return su(a)[0]}const iO={messages:[],loading:!0,error:null,room:null,paginationCursor:null},sO=hh()(JR((a,t)=>({...iO,loadMessages:i=>{const r=kf(i);a({messages:r,loading:!1,error:null})},addMessage:i=>{const{messages:s}=t();if(s.find(d=>d.id===i.id))return;const u=[...s,i],f=kf(u);a({messages:f})},updateMessage:(i,s)=>{const{messages:r}=t();let u=!1;const f=r.map(d=>{if(d.id===i){const p={...d,...s};if(Object.keys(s).some(_=>d[_]!==s[_]))return u=!0,p}return d});if(u){const d=kf(f);a({messages:d})}},clearMessages:()=>{a({messages:[],loading:!1,error:null})},setLoading:i=>{const{loading:s}=t();s!==i&&a({loading:i})},setError:i=>{const{error:s}=t();s!==i&&a({error:i})},setRoom:i=>{const{room:s}=t();s!==i&&a({room:i})},setPaginationCursor:i=>{const{paginationCursor:s}=t();s!==i&&a({paginationCursor:i})},getMessagesByType:i=>{const{messages:s}=t(),r=[];for(let u=0;u<s.length;u++)s[u].type===i&&r.push(s[u]);return r},getLatestMessage:()=>{const{messages:i}=t();return nO(i)},getLatestMessageByType:i=>{const{messages:s}=t();return eO(s,i)},getFilteredMessages:i=>{const{messages:s}=t(),r=[];for(let u=0;u<s.length;u++)i(s[u])&&r.push(s[u]);return r},getOrderedMessagesByType:(i,s="ASC")=>{const{messages:r}=t();return tO(r,i,s)}}),{name:"messages-storage",partialize:a=>({messages:a.messages,room:a.room,paginationCursor:a.paginationCursor}),onRehydrateStorage:()=>a=>{if(a){const t=new Date;t.setHours(t.getHours()-24);const i=a.messages.filter(s=>{try{const r=sh(s.timestamp);if(!r)throw console.warn(`Failed to parse timestamp for message ${s.id}:`,typeof s.timestamp,s.timestamp),new Error(`Failed to parse timestamp for message ${s.id}`);return r>t}catch(r){return console.warn(`Failed to parse message timestamp for message ID ${s.id}:`,r.message),!0}});i.length!==a.messages.length&&a.loadMessages(i)}}})),aO=re.createContext(void 0);function lO(a){const{id:t}=rh(),{messages:i,loading:s,loadMessages:r,setLoading:u,setRoom:f,clearMessages:d}=sO();re.useEffect(()=>{if(u(!0),f(t||null),!t){d();return}return Cw(t,m=>{r(m)})},[t,r,u,f,d]);const p={messages:i,isLoading:s};return pe.jsx(aO.Provider,{value:p,...a})}const wy=50,rO=hh((a,t)=>({onlineUsers:{},loading:!1,error:null,room:null,_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,averageUpdateInterval:0},_pendingUpdates:{},_batchTimeout:null,setUsers:i=>{const s=Date.now();a(r=>{const u=s-r._performanceMetrics.lastUpdateTime,f=r._performanceMetrics.updateCount+1,d=(r._performanceMetrics.averageUpdateInterval*r._performanceMetrics.updateCount+u)/f;return{onlineUsers:i,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:s,updateCount:f,averageUpdateInterval:d}}})},addUser:(i,s)=>{const r=t();r._pendingUpdates[i]=s,r._batchTimeout&&clearTimeout(r._batchTimeout);const u=setTimeout(()=>{r.flushPendingUpdates()},wy);a({_batchTimeout:u})},removeUser:i=>{const s=t();s._pendingUpdates[i]=null,s._batchTimeout&&clearTimeout(s._batchTimeout);const r=setTimeout(()=>{s.flushPendingUpdates()},wy);a({_batchTimeout:r})},batchUpdateUsers:i=>a(s=>{const r={...s.onlineUsers};Object.entries(i).forEach(([m,_])=>{if(_===null){const{[m]:y,...E}=r;Object.assign(r,E)}else r[m]=_});const u=Date.now(),f=u-s._performanceMetrics.lastUpdateTime,d=s._performanceMetrics.updateCount+1,p=(s._performanceMetrics.averageUpdateInterval*s._performanceMetrics.updateCount+f)/d;return{onlineUsers:r,_performanceMetrics:{lastUpdateTime:u,updateCount:d,averageUpdateInterval:p}}}),flushPendingUpdates:()=>{const i=t();Object.keys(i._pendingUpdates).length!==0&&(i.batchUpdateUsers(i._pendingUpdates),a(()=>({_pendingUpdates:{}})))},clearUsers:()=>a(()=>({onlineUsers:{},loading:!1,error:null,_pendingUpdates:{}})),setLoading:i=>a(()=>({loading:i})),setError:i=>a(()=>({error:i,loading:!1})),setRoom:i=>a(()=>({room:i})),getUsersByRoom:i=>{const s=t();return s.onlineUsers},getActiveUserCount:()=>{const i=t();return Object.keys(i.onlineUsers).length},getPerformanceMetrics:()=>t()._performanceMetrics})),oO=re.createContext(void 0);function uO(a){const{id:t}=rh(),{onlineUsers:i,setUsers:s,setRoom:r,clearUsers:u,flushPendingUpdates:f}=rO(),d=re.useRef(null),p=re.useRef(t),m=re.useCallback(E=>{E===null?u():s(E)},[s,u]),_=re.useCallback(()=>{d.current&&(d.current(),d.current=null),f()},[f]);re.useEffect(()=>{if(p.current!==t&&(r(t||null),p.current=t),!t){_(),u();return}return _(),mw(t,m),d.current=null,_},[t,r,u,m,_]),re.useEffect(()=>_,[_]);const y=re.useMemo(()=>({onlineUsers:i}),[i]);return pe.jsx(oO.Provider,{value:y,...a})}const Ry=300*1e3,cO=100,fO=hh((a,t)=>({schedule:[],loading:!1,error:null,_cache:{upcomingSchedule:{data:[],timestamp:0,limit:0},roomSchedule:{}},_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,cacheHitRate:0},_pendingUpdates:[],_batchTimeout:null,loadSchedule:i=>{const s=Date.now();a(r=>{const u=r._performanceMetrics.updateCount+1;return{schedule:i,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:s,updateCount:u,cacheHitRate:r._performanceMetrics.cacheHitRate}}}),t().invalidateCache()},addScheduleItem:i=>{const s=t();a(u=>({_pendingUpdates:[...u._pendingUpdates,i]})),s._batchTimeout&&clearTimeout(s._batchTimeout);const r=setTimeout(()=>{t().flushPendingScheduleUpdates()},cO);a(()=>({_batchTimeout:r}))},batchAddScheduleItems:i=>a(s=>{const r=[...s.schedule,...i],u=Date.now(),f=s._performanceMetrics.updateCount+1;return{schedule:r,_performanceMetrics:{lastUpdateTime:u,updateCount:f,cacheHitRate:s._performanceMetrics.cacheHitRate}}}),flushPendingScheduleUpdates:()=>{const i=t();i._pendingUpdates.length!==0&&(i._batchTimeout&&clearTimeout(i._batchTimeout),i.batchAddScheduleItems(i._pendingUpdates),a(()=>({_pendingUpdates:[],_batchTimeout:null})),i.invalidateCache())},removeScheduleItem:i=>{a(s=>({schedule:s.schedule.filter(r=>r.id!==i)})),t().invalidateCache()},clearSchedule:()=>{const i=t();i._batchTimeout&&clearTimeout(i._batchTimeout),a(()=>({schedule:[],loading:!1,error:null,_pendingUpdates:[],_batchTimeout:null})),t().invalidateCache()},invalidateCache:()=>a(()=>({_cache:{upcomingSchedule:{data:[],timestamp:0,limit:0},roomSchedule:{}}})),setLoading:i=>a(()=>({loading:i})),setError:i=>a(()=>({error:i,loading:!1})),getUpcomingSchedule:(i=10)=>{const s=t(),r=Date.now(),u=s._cache.upcomingSchedule;if(u.timestamp>0&&r-u.timestamp<Ry&&u.limit>=i){const m=s._performanceMetrics.updateCount+1,y=(s._performanceMetrics.cacheHitRate*(m-1)+1)/m;return a(E=>({_performanceMetrics:{...E._performanceMetrics,cacheHitRate:y}})),u.data.slice(0,i)}const d=Ze(),p=s.schedule.filter(m=>m.dateTime.isAfter(d)).sort((m,_)=>m.dateTime.valueOf()-_.dateTime.valueOf()).slice(0,Math.max(i,20));return a(m=>({_cache:{...m._cache,upcomingSchedule:{data:p,timestamp:r,limit:Math.max(i,20)}}})),p.slice(0,i)},getScheduleByRoom:i=>{const s=t(),r=Date.now(),u=s._cache.roomSchedule[i];if(u&&u.timestamp>0&&r-u.timestamp<Ry){const p=s._performanceMetrics.updateCount+1,_=(s._performanceMetrics.cacheHitRate*(p-1)+1)/p;return a(y=>({_performanceMetrics:{...y._performanceMetrics,cacheHitRate:_}})),u.data}const d=s.schedule.filter(p=>p.room===i);return a(p=>({_cache:{...p._cache,roomSchedule:{...p._cache.roomSchedule,[i]:{data:d,timestamp:r}}}})),d},getPerformanceMetrics:()=>t()._performanceMetrics})),hO=re.createContext(void 0);function dO(a){const{schedule:t,loadSchedule:i,flushPendingScheduleUpdates:s}=fO(),r=re.useRef(null),u=re.useCallback(m=>{i(m)},[i]),f=re.useCallback(async(m,_,y)=>{try{const E=await Aw(m,_,y);return s(),E||void 0}catch(E){throw console.error("Error adding to schedule:",E),E}},[s]),d=re.useCallback(()=>{r.current&&(r.current(),r.current=null),s()},[s]);re.useEffect(()=>(d(),r.current=xw(u),d),[u,d]),re.useEffect(()=>d,[d]);const p=re.useMemo(()=>({schedule:t,addToSchedule:f}),[t,f]);return pe.jsx(hO.Provider,{value:p,...a})}let ah=Eb({palette:{mode:"dark",background:{default:"#0f172a",paper:"#1e293b"},text:{primary:"#f8fafc",secondary:"#cbd5e1"},divider:"rgba(148, 163, 184, 0.12)",error:{main:"#b91c1c"},warning:{main:"#b45309"},info:{main:"#1d4ed8"},success:{main:"#047857"}},typography:{h1:{fontWeight:700,letterSpacing:"-0.025em"},h2:{fontWeight:700,letterSpacing:"-0.025em"},h3:{fontWeight:600,letterSpacing:"-0.025em"},h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600},button:{fontWeight:500,textTransform:"none"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 16px",transition:"all 0.2s ease-in-out"},contained:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",background:"rgb(75, 75, 75, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"},elevation1:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"},elevation2:{boxShadow:"0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)"},elevation4:{boxShadow:"0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.1)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{borderColor:"#4f46e5"},"&.Mui-focused":{boxShadow:"0 0 0 2px rgba(79, 70, 229, 0.2)"}}}}},MuiCssBaseline:{styleOverrides:{body:{scrollbarWidth:"thin",scrollbarColor:"#4b5563 #1f2937","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#1f2937"},"&::-webkit-scrollbar-thumb":{background:"#4b5563",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#6b7280"}}}}}});ah=Tb(ah);const pO=ah,qi=(a,t,i)=>{const s=a[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((r,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})},Y0="blitzed-out-action-groups-migration",F0="2.0.0",mO=()=>{try{const a=localStorage.getItem(Y0);if(!a)return!1;const t=JSON.parse(a);return t.completed&&t.version===F0}catch(a){return console.error("Error checking migration status:",a),!1}},gO=()=>{const a={version:F0,completed:!0,completedAt:new Date};localStorage.setItem(Y0,JSON.stringify(a))},_O=async(a,t,i)=>{try{const s=await qi(Object.assign({"../locales/en/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-BZAf2NTg.js"),[]),"../locales/en/local/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-JqHlyII6.js"),[]),"../locales/en/local/bating.json":()=>b(()=>import("../js/bating.json-BtWbzEmW.js"),[]),"../locales/en/local/bondage.json":()=>b(()=>import("../js/bondage.json-LgAIGueK.js"),[]),"../locales/en/local/breathPlay.json":()=>b(()=>import("../js/breathPlay.json-CRzY7428.js"),[]),"../locales/en/local/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-BLN-Qmx6.js"),[]),"../locales/en/local/electric.json":()=>b(()=>import("../js/electric.json-Bk_TXWk-.js"),[]),"../locales/en/local/footPlay.json":()=>b(()=>import("../js/footPlay.json-DD_Xn9fn.js"),[]),"../locales/en/local/gasMask.json":()=>b(()=>import("../js/gasMask.json-Cu6WbYgI.js"),[]),"../locales/en/local/humiliation.json":()=>b(()=>import("../js/humiliation.json-D38KZgue.js"),[]),"../locales/en/local/kissing.json":()=>b(()=>import("../js/kissing.json-DW0pyV1M.js"),[]),"../locales/en/local/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-3ya2U2q3.js"),[]),"../locales/en/local/poppers.json":()=>b(()=>import("../js/poppers.json-DPi1vlVq.js"),[]),"../locales/en/local/spanking.json":()=>b(()=>import("../js/spanking.json-3kbIVZK0.js"),[]),"../locales/en/local/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-DtLEE-Re.js"),[]),"../locales/en/local/tickling.json":()=>b(()=>import("../js/tickling.json-aQu3phvV.js"),[]),"../locales/en/local/titTorture.json":()=>b(()=>import("../js/titTorture.json-CDT_2bmN.js"),[]),"../locales/en/local/vaping.json":()=>b(()=>import("../js/vaping.json-Cw_EBTDr.js"),[]),"../locales/en/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-mxUDnrw5.js"),[]),"../locales/en/online/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-BtcwXD0u.js"),[]),"../locales/en/online/bating.json":()=>b(()=>import("../js/bating.json-DlWklRCC.js"),[]),"../locales/en/online/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-DNlSUs1v.js"),[]),"../locales/en/online/gasMask.json":()=>b(()=>import("../js/gasMask.json-CF8uPBF1.js"),[]),"../locales/en/online/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-D6UuWU9w.js"),[]),"../locales/en/online/poppers.json":()=>b(()=>import("../js/poppers.json-DYE8WgUc.js"),[]),"../locales/en/online/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-CYz7x0-j.js"),[]),"../locales/en/online/titTorture.json":()=>b(()=>import("../js/titTorture.json-VJd7QlDN.js"),[]),"../locales/en/online/vaping.json":()=>b(()=>import("../js/vaping.json-Cn6qK-lN.js"),[]),"../locales/es/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-eOgMZGYI.js"),[]),"../locales/es/local/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-sBqY59Kp.js"),[]),"../locales/es/local/bating.json":()=>b(()=>import("../js/bating.json-B8f6WSWo.js"),[]),"../locales/es/local/bondage.json":()=>b(()=>import("../js/bondage.json-cr6DtteZ.js"),[]),"../locales/es/local/breathPlay.json":()=>b(()=>import("../js/breathPlay.json-BURg9OP8.js"),[]),"../locales/es/local/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-mLDjmrwt.js"),[]),"../locales/es/local/electric.json":()=>b(()=>import("../js/electric.json-ySQ7MZhU.js"),[]),"../locales/es/local/footPlay.json":()=>b(()=>import("../js/footPlay.json-hFWj95hS.js"),[]),"../locales/es/local/gasMask.json":()=>b(()=>import("../js/gasMask.json-Bcj5DoFi.js"),[]),"../locales/es/local/humiliation.json":()=>b(()=>import("../js/humiliation.json-na7zWeaI.js"),[]),"../locales/es/local/kissing.json":()=>b(()=>import("../js/kissing.json-CB0VP-KF.js"),[]),"../locales/es/local/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-D0vsOJAi.js"),[]),"../locales/es/local/poppers.json":()=>b(()=>import("../js/poppers.json-hlv7QJE8.js"),[]),"../locales/es/local/spanking.json":()=>b(()=>import("../js/spanking.json-CNxUcjtn.js"),[]),"../locales/es/local/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-bHNxwh4W.js"),[]),"../locales/es/local/tickling.json":()=>b(()=>import("../js/tickling.json-3eKqnoqT.js"),[]),"../locales/es/local/titTorture.json":()=>b(()=>import("../js/titTorture.json-AFCIE4zr.js"),[]),"../locales/es/local/vaping.json":()=>b(()=>import("../js/vaping.json-sEIHH7E5.js"),[]),"../locales/es/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-DHOb8-kr.js"),[]),"../locales/es/online/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-CYCdXDgZ.js"),[]),"../locales/es/online/bating.json":()=>b(()=>import("../js/bating.json-C_-18RGA.js"),[]),"../locales/es/online/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-C4FATzM0.js"),[]),"../locales/es/online/gasMask.json":()=>b(()=>import("../js/gasMask.json-C0h9kj6-.js"),[]),"../locales/es/online/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-Q45xwfeM.js"),[]),"../locales/es/online/poppers.json":()=>b(()=>import("../js/poppers.json-DdRKJtxh.js"),[]),"../locales/es/online/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-UnffRU_V.js"),[]),"../locales/es/online/titTorture.json":()=>b(()=>import("../js/titTorture.json-CrPrYCYf.js"),[]),"../locales/es/online/vaping.json":()=>b(()=>import("../js/vaping.json-BRzgwyKs.js"),[]),"../locales/fr/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-C70_emWC.js"),[]),"../locales/fr/local/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-DS3JnjP8.js"),[]),"../locales/fr/local/bating.json":()=>b(()=>import("../js/bating.json-CAPiAI_C.js"),[]),"../locales/fr/local/bondage.json":()=>b(()=>import("../js/bondage.json-DzQhYNpa.js"),[]),"../locales/fr/local/breathPlay.json":()=>b(()=>import("../js/breathPlay.json-DKOcasfb.js"),[]),"../locales/fr/local/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-BREh-5Of.js"),[]),"../locales/fr/local/electric.json":()=>b(()=>import("../js/electric.json-DuoRN1_a.js"),[]),"../locales/fr/local/footPlay.json":()=>b(()=>import("../js/footPlay.json-CQmZIGLH.js"),[]),"../locales/fr/local/gasMask.json":()=>b(()=>import("../js/gasMask.json-D_g-zyGr.js"),[]),"../locales/fr/local/humiliation.json":()=>b(()=>import("../js/humiliation.json-CSr078q2.js"),[]),"../locales/fr/local/kissing.json":()=>b(()=>import("../js/kissing.json-CKHo9oqj.js"),[]),"../locales/fr/local/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-DVyXQjkC.js"),[]),"../locales/fr/local/poppers.json":()=>b(()=>import("../js/poppers.json-B30bn8dw.js"),[]),"../locales/fr/local/spanking.json":()=>b(()=>import("../js/spanking.json-CkgJa4fc.js"),[]),"../locales/fr/local/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-CuiBxkWK.js"),[]),"../locales/fr/local/tickling.json":()=>b(()=>import("../js/tickling.json-BIx4hqsq.js"),[]),"../locales/fr/local/titTorture.json":()=>b(()=>import("../js/titTorture.json-BtQcgxzM.js"),[]),"../locales/fr/local/vaping.json":()=>b(()=>import("../js/vaping.json-BKBmcz9l.js"),[]),"../locales/fr/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-Dc380shx.js"),[]),"../locales/fr/online/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-4gGsUFBf.js"),[]),"../locales/fr/online/bating.json":()=>b(()=>import("../js/bating.json-UlGM_QXh.js"),[]),"../locales/fr/online/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-CKK7cdVw.js"),[]),"../locales/fr/online/gasMask.json":()=>b(()=>import("../js/gasMask.json-DCZ-6Sqx.js"),[]),"../locales/fr/online/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-uXhaE7LP.js"),[]),"../locales/fr/online/poppers.json":()=>b(()=>import("../js/poppers.json-Ciaf_5HC.js"),[]),"../locales/fr/online/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-dt4emaCF.js"),[]),"../locales/fr/online/titTorture.json":()=>b(()=>import("../js/titTorture.json-DuMCmKhS.js"),[]),"../locales/fr/online/vaping.json":()=>b(()=>import("../js/vaping.json-VGay9Awe.js"),[])}),`../locales/${t}/${i}/${a}.json`,5),r=s.label||a,u=s.type||"action",f=s.actions||{},d=Object.keys(f).filter(_=>_!=="None").map((_,y)=>({id:`${a}-${y+1}`,label:_,value:y+1,isDefault:!0})),p={name:a,label:r,intensities:d,type:u,isDefault:!0,locale:t,gameMode:i},m=[];for(const[_,y]of Object.entries(f)){if(_==="None"||!Array.isArray(y))continue;const E=d.find(C=>C.label===_);if(E)for(const C of y)typeof C=="string"&&C.trim()&&m.push({group:a,intensity:E.value,action:C.trim(),tags:["default"],isEnabled:1,isCustom:0,gameMode:i,locale:t})}return{customGroup:p,customTiles:m}}catch(s){return console.debug(`Failed to import action file ${a} for ${t}/${i}:`,s),null}},yO=async()=>{const a=["en","es","fr"],t=[];for(const i of a)try{await qi(Object.assign({"../locales/en/translation.json":()=>b(()=>import("../js/translation.json-DPlYDcW2.js"),[]),"../locales/es/translation.json":()=>b(()=>import("../js/translation.json-CGlgZLz9.js"),[]),"../locales/fr/translation.json":()=>b(()=>import("../js/translation.json-CXkSgErv.js"),[])}),`../locales/${i}/translation.json`,4),t.push(i)}catch(s){console.debug(`Locale ${i} not found:`,s)}return t},Oy=async a=>{const t=["local","online"],i=[];for(const s of t)try{await qi(Object.assign({"../locales/en/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-BZAf2NTg.js"),[]),"../locales/en/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-mxUDnrw5.js"),[]),"../locales/es/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-eOgMZGYI.js"),[]),"../locales/es/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-DHOb8-kr.js"),[]),"../locales/fr/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-C70_emWC.js"),[]),"../locales/fr/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-Dc380shx.js"),[])}),`../locales/${a}/${s}/alcohol.json`,5),i.push(s)}catch(r){console.debug(`Game mode ${s} not found for locale ${a}:`,r)}return i},vO=async(a,t)=>{const i=Object.assign({"/src/locales/en/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-BZAf2NTg.js"),[]),"/src/locales/en/local/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-JqHlyII6.js"),[]),"/src/locales/en/local/bating.json":()=>b(()=>import("../js/bating.json-BtWbzEmW.js"),[]),"/src/locales/en/local/bondage.json":()=>b(()=>import("../js/bondage.json-LgAIGueK.js"),[]),"/src/locales/en/local/breathPlay.json":()=>b(()=>import("../js/breathPlay.json-CRzY7428.js"),[]),"/src/locales/en/local/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-BLN-Qmx6.js"),[]),"/src/locales/en/local/electric.json":()=>b(()=>import("../js/electric.json-Bk_TXWk-.js"),[]),"/src/locales/en/local/footPlay.json":()=>b(()=>import("../js/footPlay.json-DD_Xn9fn.js"),[]),"/src/locales/en/local/gasMask.json":()=>b(()=>import("../js/gasMask.json-Cu6WbYgI.js"),[]),"/src/locales/en/local/humiliation.json":()=>b(()=>import("../js/humiliation.json-D38KZgue.js"),[]),"/src/locales/en/local/kissing.json":()=>b(()=>import("../js/kissing.json-DW0pyV1M.js"),[]),"/src/locales/en/local/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-3ya2U2q3.js"),[]),"/src/locales/en/local/poppers.json":()=>b(()=>import("../js/poppers.json-DPi1vlVq.js"),[]),"/src/locales/en/local/spanking.json":()=>b(()=>import("../js/spanking.json-3kbIVZK0.js"),[]),"/src/locales/en/local/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-DtLEE-Re.js"),[]),"/src/locales/en/local/tickling.json":()=>b(()=>import("../js/tickling.json-aQu3phvV.js"),[]),"/src/locales/en/local/titTorture.json":()=>b(()=>import("../js/titTorture.json-CDT_2bmN.js"),[]),"/src/locales/en/local/vaping.json":()=>b(()=>import("../js/vaping.json-Cw_EBTDr.js"),[]),"/src/locales/en/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-mxUDnrw5.js"),[]),"/src/locales/en/online/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-BtcwXD0u.js"),[]),"/src/locales/en/online/bating.json":()=>b(()=>import("../js/bating.json-DlWklRCC.js"),[]),"/src/locales/en/online/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-DNlSUs1v.js"),[]),"/src/locales/en/online/gasMask.json":()=>b(()=>import("../js/gasMask.json-CF8uPBF1.js"),[]),"/src/locales/en/online/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-D6UuWU9w.js"),[]),"/src/locales/en/online/poppers.json":()=>b(()=>import("../js/poppers.json-DYE8WgUc.js"),[]),"/src/locales/en/online/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-CYz7x0-j.js"),[]),"/src/locales/en/online/titTorture.json":()=>b(()=>import("../js/titTorture.json-VJd7QlDN.js"),[]),"/src/locales/en/online/vaping.json":()=>b(()=>import("../js/vaping.json-Cn6qK-lN.js"),[]),"/src/locales/es/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-eOgMZGYI.js"),[]),"/src/locales/es/local/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-sBqY59Kp.js"),[]),"/src/locales/es/local/bating.json":()=>b(()=>import("../js/bating.json-B8f6WSWo.js"),[]),"/src/locales/es/local/bondage.json":()=>b(()=>import("../js/bondage.json-cr6DtteZ.js"),[]),"/src/locales/es/local/breathPlay.json":()=>b(()=>import("../js/breathPlay.json-BURg9OP8.js"),[]),"/src/locales/es/local/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-mLDjmrwt.js"),[]),"/src/locales/es/local/electric.json":()=>b(()=>import("../js/electric.json-ySQ7MZhU.js"),[]),"/src/locales/es/local/footPlay.json":()=>b(()=>import("../js/footPlay.json-hFWj95hS.js"),[]),"/src/locales/es/local/gasMask.json":()=>b(()=>import("../js/gasMask.json-Bcj5DoFi.js"),[]),"/src/locales/es/local/humiliation.json":()=>b(()=>import("../js/humiliation.json-na7zWeaI.js"),[]),"/src/locales/es/local/kissing.json":()=>b(()=>import("../js/kissing.json-CB0VP-KF.js"),[]),"/src/locales/es/local/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-D0vsOJAi.js"),[]),"/src/locales/es/local/poppers.json":()=>b(()=>import("../js/poppers.json-hlv7QJE8.js"),[]),"/src/locales/es/local/spanking.json":()=>b(()=>import("../js/spanking.json-CNxUcjtn.js"),[]),"/src/locales/es/local/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-bHNxwh4W.js"),[]),"/src/locales/es/local/tickling.json":()=>b(()=>import("../js/tickling.json-3eKqnoqT.js"),[]),"/src/locales/es/local/titTorture.json":()=>b(()=>import("../js/titTorture.json-AFCIE4zr.js"),[]),"/src/locales/es/local/vaping.json":()=>b(()=>import("../js/vaping.json-sEIHH7E5.js"),[]),"/src/locales/es/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-DHOb8-kr.js"),[]),"/src/locales/es/online/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-CYCdXDgZ.js"),[]),"/src/locales/es/online/bating.json":()=>b(()=>import("../js/bating.json-C_-18RGA.js"),[]),"/src/locales/es/online/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-C4FATzM0.js"),[]),"/src/locales/es/online/gasMask.json":()=>b(()=>import("../js/gasMask.json-C0h9kj6-.js"),[]),"/src/locales/es/online/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-Q45xwfeM.js"),[]),"/src/locales/es/online/poppers.json":()=>b(()=>import("../js/poppers.json-DdRKJtxh.js"),[]),"/src/locales/es/online/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-UnffRU_V.js"),[]),"/src/locales/es/online/titTorture.json":()=>b(()=>import("../js/titTorture.json-CrPrYCYf.js"),[]),"/src/locales/es/online/vaping.json":()=>b(()=>import("../js/vaping.json-BRzgwyKs.js"),[]),"/src/locales/fr/local/alcohol.json":()=>b(()=>import("../js/alcohol.json-C70_emWC.js"),[]),"/src/locales/fr/local/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-DS3JnjP8.js"),[]),"/src/locales/fr/local/bating.json":()=>b(()=>import("../js/bating.json-CAPiAI_C.js"),[]),"/src/locales/fr/local/bondage.json":()=>b(()=>import("../js/bondage.json-DzQhYNpa.js"),[]),"/src/locales/fr/local/breathPlay.json":()=>b(()=>import("../js/breathPlay.json-DKOcasfb.js"),[]),"/src/locales/fr/local/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-BREh-5Of.js"),[]),"/src/locales/fr/local/electric.json":()=>b(()=>import("../js/electric.json-DuoRN1_a.js"),[]),"/src/locales/fr/local/footPlay.json":()=>b(()=>import("../js/footPlay.json-CQmZIGLH.js"),[]),"/src/locales/fr/local/gasMask.json":()=>b(()=>import("../js/gasMask.json-D_g-zyGr.js"),[]),"/src/locales/fr/local/humiliation.json":()=>b(()=>import("../js/humiliation.json-CSr078q2.js"),[]),"/src/locales/fr/local/kissing.json":()=>b(()=>import("../js/kissing.json-CKHo9oqj.js"),[]),"/src/locales/fr/local/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-DVyXQjkC.js"),[]),"/src/locales/fr/local/poppers.json":()=>b(()=>import("../js/poppers.json-B30bn8dw.js"),[]),"/src/locales/fr/local/spanking.json":()=>b(()=>import("../js/spanking.json-CkgJa4fc.js"),[]),"/src/locales/fr/local/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-CuiBxkWK.js"),[]),"/src/locales/fr/local/tickling.json":()=>b(()=>import("../js/tickling.json-BIx4hqsq.js"),[]),"/src/locales/fr/local/titTorture.json":()=>b(()=>import("../js/titTorture.json-BtQcgxzM.js"),[]),"/src/locales/fr/local/vaping.json":()=>b(()=>import("../js/vaping.json-BKBmcz9l.js"),[]),"/src/locales/fr/online/alcohol.json":()=>b(()=>import("../js/alcohol.json-Dc380shx.js"),[]),"/src/locales/fr/online/ballBusting.json":()=>b(()=>import("../js/ballBusting.json-4gGsUFBf.js"),[]),"/src/locales/fr/online/bating.json":()=>b(()=>import("../js/bating.json-UlGM_QXh.js"),[]),"/src/locales/fr/online/buttPlay.json":()=>b(()=>import("../js/buttPlay.json-CKK7cdVw.js"),[]),"/src/locales/fr/online/gasMask.json":()=>b(()=>import("../js/gasMask.json-DCZ-6Sqx.js"),[]),"/src/locales/fr/online/pissPlay.json":()=>b(()=>import("../js/pissPlay.json-uXhaE7LP.js"),[]),"/src/locales/fr/online/poppers.json":()=>b(()=>import("../js/poppers.json-Ciaf_5HC.js"),[]),"/src/locales/fr/online/throatTraining.json":()=>b(()=>import("../js/throatTraining.json-dt4emaCF.js"),[]),"/src/locales/fr/online/titTorture.json":()=>b(()=>import("../js/titTorture.json-DuMCmKhS.js"),[]),"/src/locales/fr/online/vaping.json":()=>b(()=>import("../js/vaping.json-VGay9Awe.js"),[])}),s=[],r=`/src/locales/${a}/${t}/`;for(const u of Object.keys(i))if(u.includes(r)){const f=u.split("/").pop();if(f&&f.endsWith(".json")){const d=f.replace(".json","");try{await i[u](),s.push(d)}catch(p){console.warn(`Found ${d} file for ${a}/${t} but failed to import it:`,p)}}}return s.sort()},EO=async(a,t)=>{const i=await vO(a,t);let s=0,r=0;console.info(`Importing groups for ${a}/${t}: ${i.join(", ")}`);for(const u of i){if(await nu(u,a,t)){console.debug(`Group ${u} already exists for ${a}/${t}, skipping`);continue}const d=await _O(u,a,t);if(d){const{customGroup:p,customTiles:m}=d;try{await j0(p),s++,console.debug(`Successfully imported group: ${u} for ${a}/${t}`),m.length>0&&(await N0(m),r+=m.length)}catch(_){console.error(`Failed to import group ${u} for ${a}/${t}:`,_)}}}return{groupsImported:s,tilesImported:r}},TO=async()=>{try{console.info("Starting action groups migration...");const a=await yO();console.info("Available locales:",a);let t=0,i=0;for(const r of a){const u=await Oy(r);console.info(`Available game modes for ${r}:`,u);for(const f of u)try{const d=await EO(r,f);t+=d.groupsImported,i+=d.tilesImported,console.info(`Imported ${d.groupsImported} groups and ${d.tilesImported} tiles for ${r}/${f}`)}catch(d){console.error(`Error importing groups for ${r}/${f}:`,d)}}console.info(`Migration completed: ${t} groups, ${i} tiles imported`),console.info("Cleaning up duplicate groups...");let s=0;for(const r of a){const u=await Oy(r);for(const f of u){const d=await id(r,f);s+=d}}return s>0&&console.info(`Removed ${s} duplicate groups`),gO(),!0}catch(a){return console.error("Migration failed:",a),!1}},bO=async()=>{try{return mO()?!0:await TO()}catch(a){return console.error("Error in runMigrationIfNeeded:",a),!1}};function zf(){return pe.jsx(bb,{in:!0,timeout:300,children:pe.jsxs(Sb,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",backgroundColor:"#0f172a",color:"#f8fafc",position:"fixed",top:0,left:0,zIndex:9999},children:[pe.jsx(Cb,{size:60,thickness:4,sx:{color:"#4f46e5",mb:3}}),pe.jsx(xb,{variant:"h6",sx:{opacity:.8,fontWeight:400,letterSpacing:"0.02em"},children:"Loading..."})]})})}const SO=re.lazy(()=>b(()=>import("../js/index.tsx-1wzpvXWL.js"),__vite__mapDeps([9,1,2,3,10,11,12,13,14,15,16,17,18,19,20,4,21,22]))),CO=re.lazy(()=>b(()=>import("../js/index.tsx-0Gb8yEMT.js"),__vite__mapDeps([23,1,2,3,24,18,14,25,17,26,27,13,10,4]))),xO=re.lazy(()=>b(()=>import("../js/index.tsx-yjkjQdYs.js"),__vite__mapDeps([28,1,2,3,29,10,24,18,4,30,22,31,11,32,17,12,33,34,15,20,14,26,27,13,25,35,36,16]))),Dy=()=>{Promise.all([b(()=>import("../js/index.tsx-yjkjQdYs.js"),__vite__mapDeps([28,1,2,3,29,10,24,18,4,30,22,31,11,32,17,12,33,34,15,20,14,26,27,13,25,35,36,16])),b(()=>import("../js/index.tsx-Bcb0bRNt.js"),__vite__mapDeps([37,1,2,3,17,10,14,32,24,18,12,33,34,11,15,20,26,31,22,38,4])),b(()=>import("../js/index.tsx-CsNITus3.js"),__vite__mapDeps([39,1,2,3,10,36,38,4])),b(()=>import("../js/chunk-BQaRRwfD.js").then(a=>a.i),__vite__mapDeps([16,1,2,3,11,17,18])),b(()=>import("../js/index.tsx-BIQ16aIU.js"),__vite__mapDeps([29,1,2,3,10,24,18,4])),b(()=>import("../js/index.tsx-B4OvBWN4.js"),__vite__mapDeps([30,1,2,3,22,31,11,32,24,18,17,10,12,33,34,15,20,14,26,27,13,4]))]).catch(console.warn)};if(typeof window<"u"){const a=()=>{"requestIdleCallback"in window?window.requestIdleCallback(Dy,{timeout:1e3}):setTimeout(Dy,100)};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a()}function My({children:a}){return pe.jsx(uO,{children:pe.jsx(dO,{children:pe.jsx(lO,{children:a})})})}function Ny({children:a}){const{id:t}=rh(),i=Ib(),s=kb();return re.useEffect(()=>{if(t&&t!==t.toUpperCase()){const r=s.pathname.replace(t,t.toUpperCase());i(r+s.search+s.hash,{replace:!0})}},[t,i,s]),pe.jsx(pe.Fragment,{children:a})}function AO(){const a=re.useContext(q0);if(re.useEffect(()=>(a&&(window.authContext=a),()=>{window.authContext=null}),[a]),re.useEffect(()=>{bO().catch(console.error)},[]),!a||a.initializing)return pe.jsx(zf,{});const t=a.user?pe.jsx(xO,{}):pe.jsx(SO,{});return pe.jsxs(Lb,{children:[pe.jsx(yf,{path:"/",element:pe.jsx(Ub,{replace:!0,to:"/PUBLIC"})}),pe.jsx(yf,{path:"/:id/cast",element:pe.jsx(Ny,{children:pe.jsx(My,{children:pe.jsx(re.Suspense,{fallback:pe.jsx(zf,{}),children:pe.jsx(CO,{})})})})}),pe.jsx(yf,{path:"/:id",element:pe.jsx(Ny,{children:pe.jsx(My,{children:pe.jsx(re.Suspense,{fallback:pe.jsx(zf,{}),children:t})})})})]})}function wO(){return pe.jsxs(Ab,{theme:pO,children:[pe.jsx(wb,{}),pe.jsx(m1,{dateAdapter:XR,children:pe.jsx(Nb,{children:pe.jsx(AO,{})})})]})}const RO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,OO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},DO=a=>OO[a],MO=a=>a.replace(RO,DO);let lh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:MO};const NO=(a={})=>{lh={...lh,...a}},SD=()=>lh;let G0;const LO=a=>{G0=a},CD=()=>G0,UO={type:"3rdParty",init(a){NO(a.options.react),LO(a)}};var IO=function(t){return{type:"backend",init:function(s,r,u){},read:function(s,r,u){if(typeof t=="function"){if(t.length<3){try{var f=t(s,r);f&&typeof f.then=="function"?f.then(function(d){return u(null,d&&d.default||d)}).catch(u):u(null,f)}catch(d){u(d)}return}t(s,r,u);return}u(null,t&&t[s]&&t[s][r])}}};const{slice:kO,forEach:zO}=[];function jO(a){return zO.call(kO.call(arguments,1),t=>{if(t)for(const i in t)a[i]===void 0&&(a[i]=t[i])}),a}function VO(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(a))}const Ly=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,PO=function(a,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(t);let u=`${a}=${r}`;if(s.maxAge>0){const f=s.maxAge-0;if(Number.isNaN(f))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(f)}`}if(s.domain){if(!Ly.test(s.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${s.domain}`}if(s.path){if(!Ly.test(s.path))throw new TypeError("option path is invalid");u+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(u+="; Partitioned"),u},Uy={create(a,t,i,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+i*60*1e3)),s&&(r.domain=s),document.cookie=PO(a,t,r)},read(a){const t=`${a}=`,i=document.cookie.split(";");for(let s=0;s<i.length;s++){let r=i[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null},remove(a,t){this.create(a,"",-1,t)}};var HO={name:"cookie",lookup(a){let{lookupCookie:t}=a;if(t&&typeof document<"u")return Uy.read(t)||void 0},cacheUserLanguage(a,t){let{lookupCookie:i,cookieMinutes:s,cookieDomain:r,cookieOptions:u}=t;i&&typeof document<"u"&&Uy.create(i,a,s,r,u)}},$O={name:"querystring",lookup(a){let{lookupQuerystring:t}=a,i;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let f=0;f<u.length;f++){const d=u[f].indexOf("=");d>0&&u[f].substring(0,d)===t&&(i=u[f].substring(d+1))}}return i}},BO={name:"hash",lookup(a){let{lookupHash:t,lookupFromHashIndex:i}=a,s;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const u=r.substring(1);if(t){const f=u.split("&");for(let d=0;d<f.length;d++){const p=f[d].indexOf("=");p>0&&f[d].substring(0,p)===t&&(s=f[d].substring(p+1))}}if(s)return s;if(!s&&i>-1){const f=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?f[typeof i=="number"?i:0]?.replace("/",""):void 0}}}return s}};let Fs=null;const Iy=()=>{if(Fs!==null)return Fs;try{if(Fs=typeof window<"u"&&window.localStorage!==null,!Fs)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{Fs=!1}return Fs};var qO={name:"localStorage",lookup(a){let{lookupLocalStorage:t}=a;if(t&&Iy())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(a,t){let{lookupLocalStorage:i}=t;i&&Iy()&&window.localStorage.setItem(i,a)}};let Gs=null;const ky=()=>{if(Gs!==null)return Gs;try{if(Gs=typeof window<"u"&&window.sessionStorage!==null,!Gs)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{Gs=!1}return Gs};var YO={name:"sessionStorage",lookup(a){let{lookupSessionStorage:t}=a;if(t&&ky())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(a,t){let{lookupSessionStorage:i}=t;i&&ky()&&window.sessionStorage.setItem(i,a)}},FO={name:"navigator",lookup(a){const t=[];if(typeof navigator<"u"){const{languages:i,userLanguage:s,language:r}=navigator;if(i)for(let u=0;u<i.length;u++)t.push(i[u]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},GO={name:"htmlTag",lookup(a){let{htmlTag:t}=a,i;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(i=s.getAttribute("lang")),i}},QO={name:"path",lookup(a){let{lookupFromPathIndex:t}=a;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?i[typeof t=="number"?t:0]?.replace("/",""):void 0}},KO={name:"subdomain",lookup(a){let{lookupFromSubdomainIndex:t}=a;const i=typeof t=="number"?t+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[i]}};let Q0=!1;try{document.cookie,Q0=!0}catch{}const K0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Q0||K0.splice(1,1);const XO=()=>({order:K0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class X0{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,i)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=jO(i,this.options||{},XO()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(HO),this.addDetector($O),this.addDetector(qO),this.addDetector(YO),this.addDetector(FO),this.addDetector(GO),this.addDetector(QO),this.addDetector(KO),this.addDetector(BO)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return t.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(i=i.concat(r))}}),i=i.filter(s=>s!=null&&!VO(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}X0.type="languageDetector";const zy={fallbackLng:"en",supportedLngs:["en","es","fr"],ns:["translation","errors"],defaultNS:"translation",interpolation:{escapeValue:!1},react:{useSuspense:!0},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],caches:["localStorage","cookie"]}},ZO=async()=>{const a=localStorage.getItem("i18nextLng")||"en";try{const t=await qi(Object.assign({"./locales/en/translation.json":()=>b(()=>import("../js/translation.json-DPlYDcW2.js"),[]),"./locales/es/translation.json":()=>b(()=>import("../js/translation.json-CGlgZLz9.js"),[]),"./locales/fr/translation.json":()=>b(()=>import("../js/translation.json-CXkSgErv.js"),[])}),`./locales/${a}/translation.json`,4);return{[a]:{translation:t.default||t}}}catch{const t=await b(()=>import("../js/translation.json-DPlYDcW2.js"),[]);return{en:{translation:t.default||t}}}},WO=(a,t)=>t==="translation"?qi(Object.assign({"./locales/en/translation.json":()=>b(()=>import("../js/translation.json-DPlYDcW2.js"),[]),"./locales/es/translation.json":()=>b(()=>import("../js/translation.json-CGlgZLz9.js"),[]),"./locales/fr/translation.json":()=>b(()=>import("../js/translation.json-CXkSgErv.js"),[])}),`./locales/${a}/translation.json`,4):qi(Object.assign({"./locales/en/translation.json":()=>b(()=>import("../js/translation.json-DPlYDcW2.js"),[]),"./locales/es/translation.json":()=>b(()=>import("../js/translation.json-CGlgZLz9.js"),[]),"./locales/fr/translation.json":()=>b(()=>import("../js/translation.json-CXkSgErv.js"),[])}),`./locales/${a}/${t}.json`,4).catch(()=>qi(Object.assign({"./locales/en/translation.json":()=>b(()=>import("../js/translation.json-DPlYDcW2.js"),[])}),`./locales/en/${t}.json`,4)),jy=$e.use(UO).use(X0).use(IO(WO));ZO().then(a=>{jy.init({...zy,resources:a})}).catch(()=>{jy.init(zy)});const Vy=()=>{b(()=>Promise.resolve({}),[]).catch(()=>{}),b(()=>Promise.resolve({}),[]).catch(()=>{})};typeof window<"u"&&("requestIdleCallback"in window?window.requestIdleCallback(Vy,{timeout:2e3}):setTimeout(Vy,1e3));const JO=d1.createRoot(document.getElementById("root"));JO.render(pe.jsx(Qg.StrictMode,{children:pe.jsx(AR,{children:pe.jsx(Qg.Suspense,{children:pe.jsx(wO,{})})})}));r1();export{o_ as $,q0 as A,sn as B,nd as C,fD as D,nu as E,mD as F,dR as G,DS as H,j0 as I,cD as J,hR as K,eR as L,aO as M,tR as N,V0 as O,cR as P,I0 as Q,Zw as R,hO as S,Kw as T,oO as U,Qw as V,Jw as W,Ww as X,N0 as Y,gD as Z,b as _,nO as a,m1 as a0,Ze as a1,aR as a2,vD as a3,ED as a4,iR as a5,nR as a6,TD as a7,uD as b,hD as c,yD as d,bD as e,pD as f,Xw as g,CD as h,$e as i,SD as j,OS as k,eO as l,LS as m,aD as n,tO as o,sh as p,lD as q,rD as r,dD as s,_D as t,lR as u,JR as v,mR as w,cw as x,uw as y,fw as z};

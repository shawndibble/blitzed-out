import{j as e,h as S,f as P,g as X,B as Z,aw as H,ax as _,ay as Q,R as q,aM as fe,d as xe,aN as ye,W as pe,k as ee,aO as je,m as be,aP as ve,aG as ae,F as Ce,a3 as Te,aQ as we,o as Ae,q as Se,a1 as Me,p as Ee,G as Y,D as Ie}from"./mui-CFdxPsB0.js";import{a as c}from"./vendor-Bf6wU4zJ.js";import{C as ke,u as Fe}from"./index-BKE11Gas.js";import{x as le,y as ce,z as Le,B as De,C as te,D as Ne,E as Pe,F as Ke,i as se,l as Oe}from"./index-BoYCg6nK.js";import{b as z,c as J,d as V,u as re,a as Be}from"./index-B4J9anXZ.js";import{T as $e}from"./index-DV7ZzWGL.js";import{f as Re,a as qe}from"./strings-BIn62cSG.js";import{i as W,u as R,T as E}from"./translations-CairTNs2.js";function K(s){return[...Object.entries(s).flatMap(([r,{label:n,actions:l}])=>l?Object.keys(l).filter(p=>p!=="None").map((p,a)=>({group:Re(r),groupLabel:n,value:r,intensity:Number(a+1),translatedIntensity:p,label:`${n} - ${p}`})):[]),{group:W.t("misc"),groupLabel:W.t("misc"),value:"misc",intensity:1,translatedIntensity:W.t("all"),label:`${W.t("misc")} - ${W.t("all")}`}]}function We(s){var r;if(((r=s.match(/\[|\]/g))==null?void 0:r.length)!==2)throw new Error("ctSeparatorError")}function Ge(s,u){const r=(s==null?void 0:s.sort())||[],n=(u==null?void 0:u.sort())||[];return JSON.stringify(r)===JSON.stringify(n)}function Ue(s,u){var y,b,T,o;const r=s.split(`
`).filter(Boolean),n=r[0],l=r[1],f=r.find(v=>v.startsWith("Tags:")),p=((T=(b=(y=f==null?void 0:f.replace("Tags:",""))==null?void 0:y.trim())==null?void 0:b.split(", "))==null?void 0:T.filter(Boolean))||[],a=r.find(v=>v.startsWith("GameMode:")),j=((o=a==null?void 0:a.replace("GameMode:",""))==null?void 0:o.trim())||"online",w=n.replace(/\[|\]/g,""),[x,d]=w.split(" - "),I=K(u[j]||{}).find(v=>v.translatedIntensity===d&&v.group===x);if(!I)throw new Error("ctGroupError");if(!l)throw new Error("ctActionError");return{group:I.value,intensity:I.intensity,action:l,tags:p,gameMode:j,isCustom:1}}function ze(s,u,r){const n=(s==null?void 0:s.split("---"))||[];n.forEach(We);const l=n.map(a=>Ue(a,r)).filter(Boolean),f=[],p=[];return l.forEach(a=>{const j=u.find(w=>w.group===a.group&&w.intensity===a.intensity&&w.action===a.action&&w.gameMode===a.gameMode);j?j&&!Ge(j.tags,a.tags)&&p.push({...j,tags:a.tags}):f.push(a)}),{newUniqueRecords:f,changedTagRecords:p}}function Je({expanded:s,handleChange:u,customTiles:r,mappedGroups:n,setSubmitMessage:l,bulkImport:f}){const p=c.useRef(),{t:a}=R(),[j,w]=c.useState(""),x=()=>{const I=r.filter(y=>y.isCustom).map(({group:y,intensity:b,action:T,tags:o,gameMode:v="online"})=>{const t=K(n[v]||{}).find(m=>(m==null?void 0:m.intensity)===Number(b)&&(m==null?void 0:m.value)===y);let i="";return i+=`[${(t==null?void 0:t.group)||y} - ${(t==null?void 0:t.translatedIntensity)||b}]
`,i+=T,i+=o!=null&&o.length?`
Tags: `+(o==null?void 0:o.join(", ")):"",i+=`
GameMode: ${v}`,i});w(I.join(`
---
`))};async function d(h){const{importData:I}=h.current;let y=[],b=[];try{const{newUniqueRecords:T,changedTagRecords:o}=ze(I.value,r,n);y=T,b=o}catch(T){return l({type:"error",message:a(T.message)})}return!y.length&&!b.length?l({type:"error",message:a("ctNoNewError")}):(y.length&&(y.forEach(async T=>{le(`${T.group} - ${T.intensity}`,T.action)}),f(y)),b.length&&await b.forEach(async T=>{await ce(T.id,T)}),x())}return c.useEffect(()=>{s==="ctImport"&&x()},[s,r]),e.jsxs(z,{expanded:s==="ctImport",onChange:u("ctImport"),children:[e.jsx(J,{"aria-controls":"ctImport-content",id:"ctImport-header",children:e.jsx(S,{children:e.jsx(E,{i18nKey:"importExport"})})}),e.jsxs(V,{children:[e.jsx(S,{variant:"body1",sx:{mb:2},children:e.jsx(E,{i18nKey:"ctImportDescription"})}),e.jsxs(P,{component:"form",method:"post",ref:p,children:[e.jsx(X,{id:"importData",name:"importData",multiline:!0,required:!0,fullWidth:!0,sx:{pb:2},value:j,onChange:h=>w(h.target.value),InputProps:{endAdornment:e.jsx(ke,{text:j}),sx:{alignItems:"flex-start"}}}),e.jsx(Z,{fullWidth:!0,variant:"contained",type:"button",onClick:()=>d(p),children:e.jsx(E,{i18nKey:"import"})})]})]})]})}function ue({gameMode:s,groupFilter:u,intensityFilter:r,groups:n,mappedGroups:l,onGameModeChange:f,onGroupChange:p,onIntensityChange:a,hideAll:j=!1,sx:w={}}){const{t:x}=R(),[d,h]=c.useState([]),I=j?1:"all";c.useEffect(()=>{if(n){const o=Object.keys(n);h(o)}},[n,s]);function y(o){const v=o.target.value;p(v),a(I)}if(!(d!=null&&d.length))return null;const b=d.length===0||d.includes(u)?u:"",T=r==="all"?"all":r;return e.jsxs(P,{sx:{display:"flex",flexWrap:"wrap",gap:2,...w},children:[e.jsxs(H,{sx:{width:125,flexShrink:0},children:[e.jsx(_,{id:"game-mode-filter-label",children:e.jsx(E,{i18nKey:"customTiles.gameMode"})}),e.jsxs(Q,{labelId:"game-mode-filter-label",id:"game-mode-filter",value:s,label:x("customTiles.gameMode","Game Mode"),onChange:o=>{f(o.target.value)},slotProps:{input:{"aria-label":x("customTiles.gameMode","Game Mode")}},children:[e.jsx(q,{value:"online",children:e.jsx(E,{i18nKey:"online"})}),e.jsx(q,{value:"local",children:e.jsx(E,{i18nKey:"local"})})]})]}),e.jsxs(H,{sx:{minWidth:150,flex:1},children:[e.jsx(_,{id:"group-filter-label",children:e.jsx(E,{i18nKey:"group"})}),e.jsx(Q,{labelId:"group-filter-label",id:"group-filter",value:b,label:x("group"),onChange:y,slotProps:{input:{"aria-label":x("group")}},children:d.map(o=>{var v;return e.jsxs(q,{value:o,children:[l!=null&&l[s]&&Array.isArray(K(l[s]))&&((v=K(l[s]).find(A=>A.value===o))==null?void 0:v.groupLabel)||o,!j&&n[o]&&` (${n[o].count})`]},o)})})]}),e.jsxs(H,{sx:{minWidth:200,flex:1},disabled:!b,children:[e.jsx(_,{id:"intensity-filter-label",children:e.jsx(E,{i18nKey:"customTiles.intensityLevel",children:"Intensity Level"})}),e.jsxs(Q,{labelId:"intensity-filter-label",id:"intensity-filter",value:T,label:x("customTiles.intensityLevel","Intensity Level"),onChange:o=>a(o.target.value),slotProps:{input:{"aria-label":x("customTiles.intensityLevel","Intensity Level")}},children:[!j&&e.jsx(q,{value:"all",children:e.jsx(E,{i18nKey:"all",children:"All"})},"all"),b&&n&&n[b]&&Object.entries(n[b].intensities||{}).sort(([o],[v])=>Number(o)-Number(v)).map(([o,v])=>{var A;return e.jsxs(q,{value:Number(o),children:[l!=null&&l[s]&&Array.isArray(K(l[s]))?((A=K(l[s]).find(t=>t.value===b&&t.intensity===Number(o)))==null?void 0:A.translatedIntensity)||`Level ${o}`:`Level ${o}`,!j&&v!==void 0?` (${v})`:""]},o)})]})]})]})}function de(){const[s,u]=c.useState(()=>{try{const n=localStorage.getItem("gameSettings");return n?JSON.parse(n):{locale:"en",gameMode:"online"}}catch(n){return console.error("Error parsing game settings from localStorage:",n),{locale:"en",gameMode:"online"}}});return c.useEffect(()=>{const n=l=>{if(l.key==="gameSettings")try{const f=JSON.parse(l.newValue);u(f)}catch(f){console.error("Error parsing updated game settings:",f)}};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[]),{settings:s,updateSettings:n=>{const l={...s,...n};localStorage.setItem("gameSettings",JSON.stringify(l)),u(l)}}}function Ve({setSubmitMessage:s,boardUpdated:u,customTiles:r,mappedGroups:n,expanded:l,handleChange:f,tagList:p,updateTileId:a,setUpdateTileId:j}){const{t:w}=R(),{settings:x}=de(),[d,h]=c.useState({gameMode:x.gameMode||"online",group:"",intensity:null,action:"",tags:[]}),[I,y]=c.useState({});c.useEffect(()=>{if(!n||!n[d.gameMode]){y({}),h(t=>({...t,group:"",intensity:null}));return}try{const t={};n[d.gameMode]&&K(n[d.gameMode]).forEach(m=>{const{value:k,label:F,intensity:C}=m;t[k]||(t[k]={label:F,intensities:{}}),C!==void 0&&(t[k].intensities[C]=!0)}),y(t),setTimeout(()=>{h(i=>{if(!i.group||!t[i.group]){const m=Object.keys(t)[0];let k=null;return m&&t[m]&&Object.keys(t[m].intensities).length>0&&(k=Number(Object.keys(t[m].intensities)[0])),{...i,group:m||"",intensity:k||null}}return i})},0)}catch(t){console.error("Error processing groups:",t),y({})}},[d.gameMode,n]),c.useEffect(()=>{const i=(Array.isArray(r)?r:[]).find(({id:m})=>m===a);if(i){const m=i.gameMode||x.gameMode;h({gameMode:m,group:i.group||"",intensity:i.intensity||null,action:i.action||"",tags:i.tags||[]})}else h(m=>({...m,gameMode:x.gameMode,group:"",intensity:null}))},[a,x.gameMode,r]);function b(t,i,m){return(Array.isArray(r)?r:[]).find(F=>F.group===t&&F.intensity===i&&F.action===m)}function T(){j(null),h({gameMode:x.gameMode,group:"",intensity:null,action:"",tags:[]})}async function o(){const t=document.querySelector('input[name="tags"]'),i=[...d.tags];t&&t.value.trim()&&(i.push(t.value.trim()),t.value="");const{gameMode:m,group:k,intensity:F,action:C}=d;if(!m||!k||!F||!C)return s({message:w("allFieldsRequired","All fields are required"),type:"error"});if(a==null&&b(k,F,C))return s({message:w("actionExists"),type:"error"});const D={group:k,intensity:F,action:C,tags:i,gameMode:m};if(a===null){let N=`${k} - Level ${F}`;if(Array.isArray(K(n==null?void 0:n[m]))){const B=K(n[m]).find(G=>G.value===k&&G.intensity===Number(F));B!=null&&B.label&&(N=B.label)}le(N,C),Le(D)}else ce(a,D);return u(),s({message:w("customAdded"),type:"success"})}const v=t=>{switch(t.key){case",":case"Enter":{t.preventDefault(),t.stopPropagation(),t.target.value.length>0&&(h({...d,tags:[...d.tags,t.target.value]}),t.target.value="");break}}},A=t=>{t.target.value.length>0&&(h({...d,tags:[...d.tags,t.target.value]}),t.target.value=""),setTimeout(()=>{const i=document.querySelector(".MuiAutocomplete-popper");i&&(i.style.display="none")},150)};return I[d.group]?e.jsxs(z,{expanded:l==="ctAdd",onChange:f("ctAdd"),children:[e.jsx(J,{"aria-controls":"ctAdd-content",id:"ctAdd-header",children:e.jsx(S,{children:e.jsx(E,{i18nKey:a?"ctUpdate":"ctAdd"})})}),e.jsx(V,{children:e.jsxs(P,{component:"form",method:"post",className:"settings-box",children:[e.jsx(ue,{gameMode:d.gameMode,groupFilter:d.group,intensityFilter:d.intensity,groups:I,mappedGroups:n,onGameModeChange:t=>{h(i=>({...i,gameMode:t,group:"",intensity:null}))},onGroupChange:t=>{h(i=>({...i,group:t,intensity:null}))},onIntensityChange:t=>{h(i=>({...i,intensity:t}))},hideAll:!0,sx:{mb:2}}),e.jsx(X,{id:"action",name:"action",required:!0,fullWidth:!0,label:w("action"),sx:{pb:2},value:d.action,onChange:t=>{h({...d,action:t.target.value})}}),e.jsx(fe,{id:"tags",name:"tags",disableCloseOnSelect:!0,multiple:!0,freeSolo:!0,options:p,value:d.tags,onChange:(t,i)=>{h({...d,tags:i})},renderInput:t=>(t.inputProps.onKeyDown=v,t.inputProps.onBlur=A,e.jsx(X,{...t,label:w("tags")})),sx:{pb:2},clearOnBlur:!0,blurOnSelect:!0,openOnFocus:!0,disablePortal:!1,componentsProps:{popper:{modifiers:[{name:"preventOverflow",options:{altAxis:!0,altBoundary:!0,padding:8}}]}}}),e.jsxs(P,{display:"flex",justifyContent:"space-evenly",children:[e.jsx(Z,{variant:"contained",type:"button",onClick:()=>T(),children:e.jsx(E,{i18nKey:"clear"})}),e.jsx(Z,{variant:"contained",type:"button",onClick:o,children:e.jsx(E,{i18nKey:a?"ctUpdate":"ctAdd"})})]})]})})]}):null}function He({expanded:s,handleChange:u}){return e.jsxs(e.Fragment,{children:[e.jsxs(z,{expanded:s==="help1",onChange:u("help1"),children:[e.jsx(J,{"aria-controls":"help1-content",id:"help1-header",children:e.jsx(S,{children:e.jsx(E,{i18nKey:"ctExplained"})})}),e.jsx(V,{children:e.jsxs(E,{i18nKey:"ctExplainedDescription",children:[e.jsx(S,{sx:{mb:2},children:"Custom tiles let you add your own variations to the game board. Utilize this dialog to add and remove tiles as you see fit."}),e.jsx(S,{sx:{mb:2},children:"Custom tiles are added based on the kink and intensity you pick from the drop down. As such, you need to have that kink and intensity (or a higher intensity) selected for your custom tiles to show on the board."}),e.jsx(S,{children:"Miscellaneous tiles are the only exception to the above. Regardless of what other options you pick, Miscellaneous tiles will show as their own group. If you use this option, ensure that you add multiple tiles to minimize repeats."})]})})]}),e.jsxs(z,{expanded:s==="help2",onChange:u("help2"),children:[e.jsx(J,{"aria-controls":"help2-content",id:"help2-header",children:e.jsx(S,{children:e.jsx(E,{i18nKey:"ctIdeas"})})}),e.jsx(V,{children:e.jsxs(E,{i18nKey:"ctIdeasDescription",children:[e.jsx(S,{variant:"h6",children:"Add new Activities"}),e.jsx(S,{variant:"subtitle2",sx:{mb:2},children:"Come up with new activities that are not part of the existing list"}),e.jsx(S,{variant:"h6",children:"Add harder tiles to easier intensities"}),e.jsx(S,{variant:"subtitle2",sx:{mb:1},children:"When you pick higher intensity levels, the game will use the earlier intensity level and gradual move to whatyou picked. If you want harder tiles early on, add several to lower intensities."}),e.jsx(S,{variant:"subtitle2",sx:{mb:2},children:"Example: You play Poppers - Advanced. Add advanced tiles to Poppers - Beginner"}),e.jsx(S,{variant:"h6",children:"Combine activities into a single tile"}),e.jsx(S,{variant:"subtitle2",sx:{mb:1},children:"Combine multiple activites together in a single tile that normally would not go together."}),e.jsx(S,{variant:"subtitle2",sx:{mb:2},children:"Example: Spit roast. Use a toy in your throat and ass at the same time."}),e.jsx(S,{variant:"h6",children:"Miscellaneous custom tiles"}),e.jsx(S,{variant:"subtitle2",sx:{mb:1},children:"Miscellaneous tiles allow you to add your own tiles without including other groups. Be aware, you will want to add several options to this group to minimize repeats."})]})})]})]})}function _e({tagList:s,boardUpdated:u,mappedGroups:r,updateTile:n,refreshTrigger:l}){var ne;const{t:f,i18n:p}=R(),{settings:a}=de(),[j,w]=c.useState(null),[x,d]=c.useState(a.gameMode||"online"),[h,I]=c.useState(""),[y,b]=c.useState(""),[T,o]=c.useState(1),[v,A]=c.useState(!0),[t,i]=c.useState({items:[],total:0,totalPages:1}),[m,k]=c.useState({}),F=10;c.useEffect(()=>{async function g(){var L;try{A(!0);const M=await De(p.resolvedLanguage,x,j);k(M);const O=Object.keys(M),$=O.includes(h);(!h||!$)&&O.length>0?(I(O[0]),b("all")):$&&y!=="all"&&(Object.keys(((L=M[h])==null?void 0:L.intensities)||{}).includes(String(y))||b("all"))}catch(M){console.error("Error loading groups:",M)}finally{A(!1)}}g()},[x,p.resolvedLanguage,j]),c.useEffect(()=>{let g=!0;async function L(){try{A(!0);const M={group:h,intensity:y==="all"?null:y,tag:j,gameMode:x,locale:a.locale,page:T,limit:F,paginated:!0},O=await te(M);g&&(i(O),setTimeout(()=>{g&&A(!1)},300))}catch(M){console.error("Error loading tiles:",M),g&&A(!1)}}return h?L():A(!1),()=>{g=!1}},[h,y,j,x,T,F,l,a.locale]);function C(g){A(!0),w(j===g?null:g)}function D(g,L){A(!0),o(L)}async function N(g){await Ne(g),u();const L={group:h,intensity:y==="all"?"":y,tag:j,gameMode:x,locale:a.locale,page:T,limit:F,paginated:!0},M=await te(L);i(M)}async function B(g){await Pe(g),u(),i(L=>({...L,items:L.items.map(M=>M.id===g?{...M,isEnabled:!M.isEnabled}:M)}))}function G(g){n(g);const L=document.querySelector(".MuiDialogContent-root");L&&(L.scrollTop=0)}const ge=(ne=t.items)==null?void 0:ne.map(({id:g,group:L,intensity:M,action:O,tags:$,isEnabled:ie=!0,isCustom:he=!0})=>{var oe;return e.jsxs(xe,{sx:{my:2},children:[e.jsx(ye,{title:O,slotProps:{title:{variant:"body1"},subheader:{variant:"body2"},action:{"aria-label":f("customTiles.actions")}},subheader:r!=null&&r[x]&&Array.isArray(K(r[x]))?(oe=K(r[x]).find(({value:U,intensity:me})=>U===L&&me===Number(M)))==null?void 0:oe.label:`${L} - Level ${M}`,action:e.jsxs(e.Fragment,{children:[e.jsx(pe,{checked:!!ie,onChange:()=>B(g),slotProps:{input:{"aria-label":f("customTiles.toggleTile")}}}),!!he&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{onClick:()=>G(g),"aria-label":f("customTiles.update"),children:e.jsx(je,{})}),e.jsx(ee,{onClick:()=>N(g),"aria-label":f("customTiles.delete"),children:e.jsx(be,{})})]})]}),sx:{pb:0}}),e.jsx(ve,{children:$==null?void 0:$.map(U=>e.jsx(ae,{label:U,sx:{m:.5}},U))})]},g)});return e.jsxs(P,{children:[e.jsx(P,{children:s==null?void 0:s.map(g=>e.jsx(ae,{label:g,sx:{m:.5},color:j===g?"primary":"default",onClick:()=>C(g)},g))}),e.jsx(P,{sx:{display:"flex",flexDirection:"column",gap:2,my:2,transition:"all 0.3s ease-in-out"},children:e.jsx(ue,{gameMode:x,groupFilter:h,intensityFilter:y,groups:m,mappedGroups:r,onGameModeChange:g=>{d(g),I(""),b(""),o(1)},onGroupChange:g=>{I(g),o(1)},onIntensityChange:g=>{b(g),o(1)}})}),e.jsxs(P,{sx:{position:"relative",minHeight:"200px"},children:[e.jsx(Ce,{in:v,timeout:300,children:e.jsx(P,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0)",zIndex:1,borderRadius:1},children:e.jsx(Te,{})})}),e.jsx(P,{sx:{opacity:v?.3:1,transition:"opacity 0.3s ease-in-out",pointerEvents:v?"none":"auto"},children:t.items.length===0?e.jsx(S,{variant:"body1",sx:{textAlign:"center",my:4},children:e.jsx(E,{i18nKey:"customTiles.noTilesFound",children:"No tiles found with the selected filters."})}):e.jsxs(e.Fragment,{children:[ge,t.totalPages>1&&e.jsx(P,{sx:{display:"flex",justifyContent:"center",mt:3,mb:2},children:e.jsx(we,{count:t.totalPages,page:T,onChange:D,color:"primary"})}),e.jsx(S,{variant:"body2",sx:{textAlign:"center",mt:2,color:"text.secondary"},children:e.jsxs(E,{i18nKey:"customTiles.showingTiles",values:{shown:t.items.length,total:t.total},children:["Showing ",{shown:t.items.length}," of ",{total:t.total}," tiles"]})})]})})]})]})}function it({boardUpdated:s,setOpen:u,open:r=!1}){const{t:n,i18n:l}=R(),f=re(),p=re("md"),[a,j]=c.useState({message:"",type:"info"}),[w,x]=c.useState("ctAdd"),[d,h]=c.useState(null),[I,y]=c.useState(0),[b,T]=c.useState({online:{},local:{}}),[o,v]=c.useState(!0),A=c.useCallback(()=>{y(C=>C+1)},[]),t=C=>(D,N)=>{x(N?C:!1)};c.useEffect(()=>{async function C(){v(!0);try{const[D,N]=await Promise.all([se(l.resolvedLanguage,"online"),se(l.resolvedLanguage,"local")]);T({online:D,local:N})}catch(D){console.error("Error loading game mode actions:",D)}finally{v(!1)}}C()},[l.resolvedLanguage]);const i=Fe(()=>te({paginated:!1,locale:l.resolvedLanguage})),m=c.useMemo(()=>i?Array.isArray(i)?i.map(({tags:C})=>C).flat().filter((C,D,N)=>C&&N.indexOf(C)===D).sort():[]:[],[i]),k=c.useCallback(async C=>{await Ke(C),s(),A()},[s,A]);if(!i||o)return null;const F=()=>{const C=e.jsxs(e.Fragment,{children:[e.jsx(He,{expanded:w,handleChange:t}),e.jsx(Ve,{setSubmitMessage:j,boardUpdated:()=>{s(),A()},customTiles:i,mappedGroups:b,expanded:w,handleChange:t,tagList:m,updateTileId:d,setUpdateTileId:h}),e.jsx(Je,{expanded:w,handleChange:t,customTiles:i,mappedGroups:b,setSubmitMessage:j,bulkImport:k})]}),D=Array.isArray(i)&&i.length>0&&e.jsx(P,{children:e.jsx(_e,{tagList:m,boardUpdated:()=>{s(),A()},mappedGroups:b,updateTile:N=>{h(N),x("ctAdd")},refreshTrigger:I})});return p?e.jsxs(e.Fragment,{children:[C,D&&e.jsxs(e.Fragment,{children:[e.jsx(Ie,{sx:{my:2}}),D]})]}):e.jsxs(Y,{container:!0,spacing:2,children:[e.jsx(Y,{size:{xs:12,md:6},children:C}),e.jsx(Y,{size:{xs:12,md:6},children:D})]})};return e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{fullScreen:f,open:r,onClose:()=>u(!1),maxWidth:p?"sm":"lg",fullWidth:!0,children:[e.jsxs(Se,{children:[e.jsx(E,{i18nKey:"manageTiles"}),e.jsx(ee,{"aria-label":n("close"),onClick:()=>u(!1),sx:{position:"absolute",right:8,top:8,color:C=>C.palette.grey[500]},children:e.jsx(Me,{})})]}),e.jsx(Ee,{children:F()})]}),e.jsx($e,{open:!!a.message,close:()=>j({message:"",type:"info"}),type:a.type,children:a.message})]})}function ot(s={},u={}){const r=Be("gameSettings")[0],[n,l]=c.useState({...s,...r,...u}),{messages:f}=qe();return c.useEffect(()=>{const p=Oe(f,"room");p!=null&&p.settings&&l(a=>({...a,...JSON.parse(p.settings)}))},[f]),[n,l]}function at(s){const{i18n:u}=R(),[r,n]=c.useState({}),[l,f]=c.useState(!0),p=async()=>{if(!s)return;f(!0);const a=await se(u.resolvedLanguage,s);n(a),f(!1)};return c.useEffect(()=>{p()},[u.resolvedLanguage,s]),{actionsList:r,isLoading:l}}export{it as C,at as a,ot as u};

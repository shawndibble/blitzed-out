const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/chunk-OMzf5Ydg.js","js/chunk-DZhIv2T0.js","js/chunk-xjysiaKD.js","js/chunk-fXMDno_C.js","js/chunk-B4gS_ZlC.js","js/syncOrchestrator.ts-BKtsMiJt.js","js/chunk-qSjB6ZnJ.js","js/pwa-action-sheet.entry.js-5jvA9XDi.js","js/pwa-camera-modal.entry.js-BzFE_NLB.js","js/pwa-toast.entry.js-BJ3VXnrZ.js","js/pwa-camera-modal-instance.entry.js-BY45wz0J.js","js/pwa-camera.entry.js-TC21sI9Q.js"])))=>i.map(i=>d[i]);
import{u as de,j as c,i as zi,R as Rt,r as _,ah as Ht,ai as H,aj as Ct,S as Ge,a3 as he,ak as kn,al as Z,t as Y,ae as pt,am as Pe,I as Xe,W as gi,h as yp,a8 as qt,an as Zt,aa as Ft,a4 as Zr,s as Mc,ao as oc,ap as uc,aq as cc,ar as Bt,as as xp,at as DA,au as OA,D as Wn,av as dc,M as ge,aw as Zn,ax as ln,ay as ke,a6 as nt,az as mt,aA as fc,aB as wt,aC as It,a1 as Vw,aD as zA,aE as Gw,Q as ut,O as gt,aF as ct,aG as Fl,aH as Ni,aI as NA,aJ as qw,a7 as hc,a5 as mc,aK as IA,ac as bp,ab as Fr,aL as PA,aM as Nv,aN as BA,X as vp,aO as UA,aP as wp,aQ as $A,aR as Fw,aS as Rc,aT as VA,aU as GA,aV as qA,aW as FA,aX as Iv,aY as HA,aZ as KA,a_ as YA,a$ as Hw,F as XA,b0 as Kw,b1 as WA,b2 as QA,b3 as ZA,U as Rl,b4 as JA,b5 as eE,d as lo,a2 as tE,$ as nE,b6 as iE,E as rE,b7 as aE,b8 as sE,b9 as vl,ba as lE,bb as oE,bc as uE,bd as bh,be as cE,bf as dE,bg as fE,bh as hE,T as mE}from"../js/chunk-DZhIv2T0.js";import{g as pE,a as ni,n as oo,o as gE,C as Lc,z as Dc,A as rs,D as Yw,F as Xw,H as Ww,I as yE}from"../js/chunk-fXMDno_C.js";import{d as ei,r as Qw,_ as jn,g as qn,u as Sp,a as Zw,c as xE,l as bE,b as fr,w as vE,e as wE,f as SE,h as Jw,i as eS,j as tS,k as nS,m as hm,p as iS,n as _E,o as jE,S as CE,q as kE,s as gr,A as TE,t as Yr,v as AE,x as EE,y as rS,z as ME,B as cn,C as RE,D as aS,E as sS,F as lS,G as _p,H as oS,I as Ll,J as Oc,K as LE,L as DE,M as OE,N as zE,O as NE,P as IE,Q as PE,R as vh,T as BE,U as UE}from"../js/chunk-OMzf5Ydg.js";import{a as jp,u as hi,n as Ku,b as uS,c as Hl}from"../js/chunk-xjysiaKD.js";import{G as cS,C as Cp,A as $E,a as VE,b as GE,D as qE,c as FE,d as zc,e as HE,M as KE,f as dS,g as YE,E as mm,V as XE,h as fS,L as WE,i as pc,j as QE,P as uo,k as Kl,l as Yl,m as hS,H as mi,n as hs,o as Nc,p as Pv,q as Bv,r as ZE,S as Ic,s as JE,T as e2,t as t2,u as n2,v as gc,w as i2,x as r2,y as a2,z as mS,B as s2,F as kp,W as l2,I as o2,J as u2,K as c2,N as d2,O as f2,Q as h2,R as m2,U as p2,X as g2,Y as y2,Z as Uv,_ as x2,$ as b2,a0 as v2,a1 as w2,a2 as S2,a3 as _2,a4 as j2,a5 as $v,a6 as C2,a7 as k2,a8 as T2,a9 as A2,aa as E2}from"../js/chunk-B4gS_ZlC.js";(function(){try{var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};e.SENTRY_RELEASE={id:"228b3897547e8d7784948f184e0b3f41c489f7a8"}}catch(t){}})();try{(function(){var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5bfab2e8-b732-4abf-8039-bbe7481934e4",e._sentryDebugIdIdentifier="sentry-dbid-5bfab2e8-b732-4abf-8039-bbe7481934e4")})()}catch(e){}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Tp(){const{t:e}=de();return c.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:`linear-gradient(
          135deg,
          rgba(15, 23, 42, 0.9) 0%,
          rgba(30, 41, 59, 0.95) 20%,
          rgba(51, 65, 85, 0.9) 40%,
          rgba(30, 41, 59, 0.95) 60%,
          rgba(15, 23, 42, 0.9) 80%,
          rgba(2, 6, 23, 0.95) 100%
        )`,zIndex:9999,fontFamily:"'Roboto Fallback', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif"},children:[c.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255, 255, 255, 0.1)",borderLeft:"4px solid #0abde3",borderRadius:"50%",animation:"app-skeleton-spin 1.4s linear infinite",marginBottom:"24px"}}),c.jsxs("div",{style:{fontSize:"clamp(1.25rem, 4vw, 3rem)",fontWeight:600,letterSpacing:"-0.025em",color:"#0abde3",textAlign:"center",fontFamily:"'Roboto Fallback', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.8)"},children:[e("loading"),"..."]})]})}const M2=["en","es","fr","zh","hi"],R2="2.3.0",L2="blitzed-out-action-groups-migration",D2="blitzed-out-background-migration",pm="blitzed-out-migration-in-progress",O2="blitzed-out-current-language-migration",z2="blitzed-out-background-migration-in-progress",gm=30*1e3,N2=300*1e3,I2=10,P2=1e3,B2=5e3,U2=["local","online"],sV=Object.freeze({__proto__:null,BACKGROUND_MIGRATION_DELAY:I2,BACKGROUND_MIGRATION_IN_PROGRESS_KEY:z2,BACKGROUND_MIGRATION_KEY:D2,CURRENT_LANGUAGE_MIGRATION_KEY:O2,GAME_MODES:U2,IDLE_CALLBACK_TIMEOUT:B2,MIGRATION_IN_PROGRESS_KEY:pm,MIGRATION_KEY:L2,MIGRATION_TIMEOUT:gm,MIGRATION_VERSION:R2,QUEUE_BACKGROUND_MIGRATION_DELAY:P2,STALE_LOCK_TIMEOUT:N2,SUPPORTED_LANGUAGES:M2}),{customTiles:Tn}=ei;Tn.hook("creating",function(e,t,n){t.isCustom===void 0&&(t.isCustom=1),(!t.group_id||!t.group_id.trim())&&t.isCustom===1&&console.warn(`Custom tile missing group_id (sync may fail): ${t.action} (group_id: ${t.group_id})`)});const pS=async e=>{const t=e.map(n=>({...n,isEnabled:1}));return await Tn.bulkAdd(t)},gS=e=>{const t=["locale","gameMode","group","group_id","intensity","tag","isCustom","isEnabled","action"];let n=Tn.toCollection();return Object.entries(e).filter(([s])=>t.includes(s)).forEach(([s,l])=>{if(!(l==null||l===""))if(s==="tag")n=n.filter(o=>o.tags.includes(l));else if(s==="group"||s==="group_id")n=n.filter(o=>o.group_id===l);else if(s==="intensity"){const o=Number(l);n=n.filter(d=>d.intensity===o)}else n=n.filter(o=>o[s]===l)}),n},Pt=async(e={})=>{try{if(typeof window!="undefined"){const t=localStorage.getItem(pm);if(t)try{const n=JSON.parse(t);if(Date.now()-new Date(n.startedAt).getTime()<gm){let s=0;const l=Math.ceil(gm/50);for(;localStorage.getItem(pm)&&s<l;)await new Promise(o=>setTimeout(o,50)),s++}}catch(n){}}return await Qw(ei,async()=>await gS(e).toArray(),(t,n)=>{console.error(`Error in getTiles: ${t}`,n)})}catch(t){return console.error("Final error in getTiles:",t),[]}},ym=async e=>{const{page:t=1,limit:n=50}=e;try{const r=gS(e),s=await r.count(),l=(t-1)*n;return{items:await r.offset(l).limit(n).toArray(),total:s,page:t,limit:n,totalPages:Math.ceil(s/n)}}catch(r){return console.error("Error in getPaginatedTiles:",r),{items:[],total:0,page:t,limit:n,totalPages:0}}},Ap=async(e="en",t="online",n=null)=>{try{const{getCustomGroups:r}=await jn(async()=>{const{getCustomGroups:d}=await import("../js/chunk-OMzf5Ydg.js").then(function(h){return h.a0});return{getCustomGroups:d}},__vite__mapDeps([0,1,2,3,4])),s=await r({locale:e,gameMode:t}),l=new Set(s.map(d=>d.id));if(l.size===0)return{};let o=[];for(const d of l){const h=await Tn.where("group_id").equals(d).toArray();o.push(...h)}if(n){const d=Array.isArray(n)?n:[n];o=o.filter(h=>h.tags.some(m=>d.includes(m)))}return o.reduce((d,h)=>{const m=h.group_id;d[m]||(d[m]={count:0,intensities:{}}),d[m].count++;const g=Number(h.intensity);return d[m].intensities[g]||(d[m].intensities[g]=0),d[m].intensities[g]++,d},{})}catch(r){return console.error("Error in getTileCountsByGroup:",r),{}}},Pc=async(e=null,t=null)=>{const n=t||zi.resolvedLanguage||zi.language||"en",r=await Tn.where("isEnabled").equals(1).toArray();if(e||t){const{getCustomGroups:s}=await jn(async()=>{const{getCustomGroups:h}=await import("../js/chunk-OMzf5Ydg.js").then(function(m){return m.a0});return{getCustomGroups:h}},__vite__mapDeps([0,1,2,3,4])),l={};e&&(l.gameMode=e),t&&(l.locale=n);const o=await s(l),d=new Set(o.map(h=>h.id));return r.filter(h=>h.group_id&&d.has(h.group_id))}return r},Ep=async e=>await Tn.add({...e,isEnabled:1}),Jr=async(e,t)=>await Tn.update(e,t),yS=async e=>{const t=await Tn.get(e);if(!t)throw new Error(`Custom tile with id ${e} not found`);const n=t.isEnabled?0:1;return await Tn.update(e,{isEnabled:n})};async function xS(){try{return await ei.customTiles.where("isCustom").equals(1).delete(),!0}catch(e){return console.error("Error deleting custom tiles:",e),!1}}const Mp=async e=>{await Tn.delete(e)},xm=async(e,t="en",n="online")=>{try{const{getCustomGroupByName:r}=await jn(async()=>{const{getCustomGroupByName:l}=await import("../js/chunk-OMzf5Ydg.js").then(function(o){return o.a0});return{getCustomGroupByName:l}},__vite__mapDeps([0,1,2,3,4])),s=await r(e,t,n);return s?await vS(s.id,t,n):0}catch(r){return console.error("Error counting tiles by group:",r),0}},bS=async(e,t="en",n="online")=>{try{const{getCustomGroupByName:r}=await jn(async()=>{const{getCustomGroupByName:l}=await import("../js/chunk-OMzf5Ydg.js").then(function(o){return o.a0});return{getCustomGroupByName:l}},__vite__mapDeps([0,1,2,3,4])),s=await r(e,t,n);return s?await wS(s.id,t,n):0}catch(r){return console.error("Error deleting tiles by group:",r),0}},$2=async e=>{try{return e.length===0?[]:await Qw(ei,async()=>await Tn.where("group_id").anyOf(e).toArray(),(t,n)=>{console.error(`Error in getTilesByGroupIds: ${t}`,n)})}catch(t){return console.error("Final error in getTilesByGroupIds:",t),[]}},vS=async(e,t="en",n="online")=>{try{return await Tn.where("group_id").equals(e).count()}catch(r){return console.error("Error counting tiles by group ID:",r),0}},wS=async(e,t="en",n="online")=>{try{return await Tn.where("group_id").equals(e).delete()}catch(r){return console.error("Error deleting tiles by group ID:",r),0}},lV=Object.freeze({__proto__:null,addCustomTile:Ep,countTilesByGroup:xm,countTilesByGroupId:vS,deleteAllIsCustomTiles:xS,deleteCustomTile:Mp,deleteCustomTilesByGroup:bS,deleteCustomTilesByGroupId:wS,getActiveTiles:Pc,getPaginatedTiles:ym,getTileCountsByGroup:Ap,getTiles:Pt,getTilesByGroupIds:$2,importCustomTiles:pS,toggleCustomTile:yS,updateCustomTile:Jr}),{gameBoard:Ii}=ei,SS=()=>Ii.orderBy("title").toArray(),Bc=async()=>{var e;return(e=Ii.where("isActive").equals(1))==null?void 0:e.first()},V2=async e=>Ii.add(e),bm=async(e,t)=>Ii.update(e.id,{...e,...t}),Uc=async e=>{var t,n;const r={title:e.title===void 0?"":e.title,tiles:e.tiles||[],isActive:e.isActive===void 0?1:e.isActive,tags:e.tags||[],gameMode:e.gameMode||"online"};if(!((t=r==null?void 0:r.title)!=null&&t.length)&&((n=r==null?void 0:r.tiles)!=null&&n.length))return;const s=await Ii.where("title").equals(r.title).first();return ei.transaction("rw",ei.gameBoard,async()=>(r.isActive&&await F2(),s?(await bm(s,e),s.id):await V2(r)))},G2=async e=>{const n=(await Ii.toArray()).map(r=>({...r,isActive:r.id===e?1:0}));await Ii.bulkPut(n)},q2=async e=>{await Ii.delete(e)},F2=async()=>{await Ii.where("isActive").equals(1).modify({isActive:0})},co=pE(),oV=xS;async function H2(){try{const e=await Pt({}),t=new Map;e.forEach(n=>{const r=`${n.group_id}|${n.intensity}|${n.action}`;t.has(r)||t.set(r,[]),t.get(r).push(n)});for(const[,n]of t)if(n.length>1){n.sort((o,d)=>(o.id||0)-(d.id||0));const r=n[0],s=n.slice(1),l=s.some(o=>o.isEnabled===0);for(const o of s)o.id&&await Mp(o.id);l&&r.isEnabled===1&&await Jr(r.id,{isEnabled:0})}return!0}catch(e){return console.error("Error cleaning up duplicate tiles:",e),!1}}async function uV(){try{const t=(await qn({isDefault:!1})).map(n=>Zw(n.id));return await Promise.all(t),!0}catch(e){return console.error("Error deleting user custom groups:",e),!1}}async function cV(){try{const n=(await Pt({isCustom:0,isEnabled:0})).filter(r=>r.id).map(r=>Jr(r.id,{isEnabled:1}));return await Promise.all(n),!0}catch(e){return console.error("Error resetting disabled default tiles:",e),!1}}async function dV(e){try{const t=await Pt({isCustom:0}),n=new Map;t.forEach(s=>{const l=`${s.group_id}|${s.intensity}|${s.action}`;n.set(l,s.id)});const r=[];return e.forEach(s=>{const l=`${s.group_id}|${s.intensity}|${s.action}`,o=n.get(l);o&&r.push(Jr(o,{isEnabled:0}))}),await Promise.all(r),!0}catch(t){return console.error("Error applying disabled defaults:",t),!1}}async function K2(){const t=ni().currentUser;if(!t)return console.error("No user logged in"),!1;try{const n=await Pt({isCustom:1}),r=await Pt({isCustom:0,isEnabled:0}),s=100;return r.length>s&&(console.warn(`⚠️  Attempting to sync ${r.length} disabled defaults, which seems excessive.`),console.warn("This may indicate corrupted local data. Limiting to first 100 disabled defaults."),r.splice(s)),await Lc(oo(co,"user-data",t.uid),{customTiles:n,disabledDefaults:r,lastUpdated:new Date},{merge:!0}),!0}catch(n){return console.error("Error syncing custom tiles:",n),!1}}async function Y2(){const t=ni().currentUser;if(!t)return console.error("No user logged in"),!1;try{const n=await qn({isDefault:!1});return await Lc(oo(co,"user-data",t.uid),{customGroups:n,lastUpdated:new Date},{merge:!0}),!0}catch(n){return console.error("Error syncing custom groups:",n),!1}}async function X2(){const t=ni().currentUser;if(!t)return console.error("No user logged in"),!1;try{const n=await SS();return n.length&&await Lc(oo(co,"user-data",t.uid),{gameBoards:n,lastUpdated:new Date},{merge:!0}),!0}catch(n){return console.error("Error syncing game boards:",n),!1}}async function W2(){const t=ni().currentUser;if(!t)return console.error("No user logged in"),!1;try{const{settings:n}=Sp.getState(),{localPlayers:r,...s}=n,l=Object.fromEntries(Object.entries(s).filter(([,o])=>o!==void 0));return await Lc(oo(co,"user-data",t.uid),{settings:l,lastUpdated:new Date},{merge:!0}),!0}catch(n){return console.error("Error syncing settings:",n),!1}}async function Yu(){return await K2(),await Y2(),await X2(),await W2(),!0}async function Q2(){const t=ni().currentUser;if(!t)return{success:!1,conflicts:["No user logged in"]};try{const n=oo(co,"user-data",t.uid),r=await gE(n),s=await Pt({isCustom:1}),l=await qn({isDefault:!1}),o=[];if(!r.exists())return await Yu(),{success:!0};const d=r.data(),h=d.customTiles||[],m=d.customGroups||[];return s.length>0&&h.length>0&&o.push(`Custom tiles: Local has ${s.length}, Firebase has ${h.length}`),l.length>0&&m.length>0&&o.push(`Custom groups: Local has ${l.length}, Firebase has ${m.length}`),o.length>0?{success:!1,conflicts:o}:{success:await yc()}}catch(n){return console.error("Error in intelligent sync:",n),{success:!1,conflicts:["Sync failed due to error"]}}}async function yc(e={}){const{SyncOrchestrator:t}=await jn(async()=>{const{SyncOrchestrator:n}=await import("../js/syncOrchestrator.ts-BKtsMiJt.js");return{SyncOrchestrator:n}},__vite__mapDeps([5,0,1,2,3,4]));return await t.syncFromFirebase(e)}let Xu=null;function Vv(e=5){Tl();const t=e*60*1e3;return Xu=window.setInterval(async()=>{const n=ni();n.currentUser&&!n.currentUser.isAnonymous&&await yc()},t),!0}function Tl(){return Xu?(window.clearInterval(Xu),Xu=null,!0):!1}window.cleanupTiles=H2;const fo=Rt.createContext(void 0);function Z2(e){const[t,n]=_.useState(null),[r,s]=_.useState(!1),[l,o]=_.useState(!0),[d,h]=_.useState(null),[m,g]=_.useState({syncing:!1,lastSync:null}),p=_.useRef(null),x=_.useRef(!1),v=_.useCallback(async D=>{if(p.current&&(clearTimeout(p.current),p.current=null),!t||t.isAnonymous)return!1;try{return g({syncing:!0,lastSync:m.lastSync}),await D(),g({syncing:!1,lastSync:new Date}),!0}catch(P){return console.error("Sync error:",P),P instanceof Error?h(P.message):h("An unknown error occurred"),g({syncing:!1,lastSync:m.lastSync}),!1}},[t,p,g,m.lastSync,h]);async function w(D=""){try{h(null);const P=await nS(D);if(!P){const G=new Error("Login failed: No user returned from Firebase");return hm("auth_context_no_user",G,{authentication:{step:"auth_context_no_user",displayName:D}}),h(G.message),null}return n(P),P}catch(P){const G=fr(P),K=P instanceof Error?P:new Error(String(P||"Unknown error"));throw hm("auth_context_login_failed",K,{authentication:{step:"auth_context_login_failed",displayName:D}}),h(G),P}}async function S(D,P){try{s(!0);const G=await tS(D,P);return n(G),G}catch(G){const K=fr(G);throw h(K),G}finally{s(!1)}}async function k(){try{s(!0);const D=await eS();return n(D),D}catch(D){const P=fr(D);throw h(P),D}finally{s(!1)}}async function C(D,P,G){try{s(!0);const K=await Jw(D,P,G);return n(K),K}catch(K){const F=fr(K);throw h(F),K}finally{s(!1)}}async function A(D){try{return await wE(D),!0}catch(P){const G=fr(P);throw h(G),P}}const j=_.useCallback(async(D,P)=>{try{s(!0);const G=await xE(D,P);return n(G),await v(Yu),G}catch(G){throw G instanceof Error&&h(G.message),G}finally{s(!1)}},[s,n,v,h]);async function R(D=""){try{const P=await SE(D);return n(P),P}catch(P){const G=fr(P);throw h(G),P}}const M=_.useCallback(async()=>{try{if(t&&!t.isAnonymous){const D=v(Yu),P=new Promise(G=>setTimeout(G,5e3,!1));await Promise.race([D,P])}await bE(),n(null)}catch(D){const P=fr(D);throw h(P),D}},[t,v,n,h]),E=_.useCallback(async()=>{try{await vE(),n(null),window.location.reload()}catch(D){const P=fr(D);throw h(P),D}},[n,h]),O=_.useCallback(async()=>v(Yu),[v]),N=_.useCallback(async()=>{if(!t||t.isAnonymous)return{success:!1,conflicts:["User not logged in or is anonymous"]};try{g({syncing:!0,lastSync:m.lastSync});const D=await Q2();return g({syncing:!1,lastSync:new Date}),D}catch(D){return console.error("Intelligent sync error:",D),g({syncing:!1,lastSync:m.lastSync}),D instanceof Error&&h(D.message),{success:!1,conflicts:["Sync failed due to error"]}}},[t,m.lastSync]);_.useEffect(()=>{const P=ni().onAuthStateChanged(G=>{if(n(G||null),x.current||(x.current=!0,o(!1)),G&&!G.isAnonymous){const K=()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{g({syncing:!0,lastSync:null});let F;try{F=yc?yc():Promise.resolve(!1)}catch(ne){console.warn("syncDataFromFirebase is not available:",ne),F=Promise.resolve(!1)}(!F||typeof F.then!="function")&&(F=Promise.resolve(!1)),F.then(()=>{g({syncing:!1,lastSync:new Date}),Vv&&Vv()}).catch(ne=>{console.error("Error syncing from Firebase:",ne),g({syncing:!1,lastSync:null})}).finally(()=>{p.current=null})},3e3)};typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(K,{timeout:1e4}):setTimeout(K,5e3)}else Tl&&Tl()});return window.authContext={user:null},()=>{typeof P=="function"&&P(),p.current&&clearTimeout(p.current),Tl&&Tl(),window.authContext=void 0}},[]),_.useEffect(()=>{const D=window;D.authContext&&(D.authContext.user=t)},[t]);const q=_.useMemo(()=>({user:t,loading:r,initializing:l,error:d,syncStatus:m,login:w,loginEmail:S,loginGoogle:k,register:C,updateUser:R,forgotPassword:A,convertToRegistered:j,logout:M,wipeAllData:E,syncData:O,intelligentSync:N,isAnonymous:(t==null?void 0:t.isAnonymous)||!1}),[t,r,l,d,m,j,M,E,O,N]);return c.jsx(fo.Provider,{value:q,...e})}function as(e){if(!e)return null;try{if(typeof e.toDate=="function")return e.toDate();if(typeof e=="string"){const t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid serialized timestamp format");return t}else if(typeof e=="number"){const t=e<3250368e4?e*1e3:e,n=new Date(t);if(isNaN(n.getTime()))throw new Error("Invalid numeric timestamp format");return n}else if(typeof e=="object"&&e.seconds!==void 0){const t=e,n=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);if(isNaN(n.getTime()))throw new Error("Invalid Firestore timestamp object format");return n}else{if(e instanceof Date)return e;throw console.warn("Unsupported timestamp format:",typeof e,e),new Error(`Unsupported timestamp format: ${typeof e}`)}}catch(t){return console.warn("Failed to parse timestamp:",t),null}}function wh(e){return e.sort((t,n)=>{const r=as(t.timestamp),s=as(n.timestamp);return!r||!s?0:r.getTime()-s.getTime()})}function $c(e){return JSON.parse(JSON.stringify(e)).reverse()}function Xr(e,t){return $c(e).find(n=>n.type===t)}function _S(e,t,n="ASC"){let r=$c(e);return n==="DESC"&&(r=r.reverse()),r.filter(s=>s.type===t)}function J2(e,t){return $c(e).find(t)}function eM(e){return $c(e)[0]}const tM={messages:[],loading:!0,error:null,room:null,paginationCursor:null},nM=jp()(iS((e,t)=>({...tM,loadMessages:n=>{const s=wh(n);e({messages:s,loading:!1,error:null})},addMessage:n=>{const{messages:r}=t();if(r.find(d=>d.id===n.id))return;const l=[...r,n],o=wh(l);e({messages:o})},updateMessage:(n,r)=>{const{messages:s}=t();let l=!1;const o=s.map(d=>{if(d.id===n){const h={...d,...r};if(Object.keys(r).some(g=>d[g]!==r[g]))return l=!0,h}return d});if(l){const d=wh(o);e({messages:d})}},clearMessages:()=>{e({messages:[],loading:!1,error:null})},setLoading:n=>{const{loading:r}=t();r!==n&&e({loading:n})},setError:n=>{const{error:r}=t();r!==n&&e({error:n})},setRoom:n=>{const{room:r}=t();r!==n&&e({room:n})},setPaginationCursor:n=>{const{paginationCursor:r}=t();r!==n&&e({paginationCursor:n})},getMessagesByType:n=>{const{messages:r}=t(),s=[];for(let l=0;l<r.length;l++)r[l].type===n&&s.push(r[l]);return s},getLatestMessage:()=>{const{messages:n}=t();return eM(n)},getLatestMessageByType:n=>{const{messages:r}=t();return Xr(r,n)},getFilteredMessages:n=>{const{messages:r}=t(),s=[];for(let l=0;l<r.length;l++)n(r[l])&&s.push(r[l]);return s},getOrderedMessagesByType:(n,r="ASC")=>{const{messages:s}=t();return _S(s,n,r)}}),{name:"messages-storage",partialize:e=>({messages:e.messages,room:e.room,paginationCursor:e.paginationCursor}),onRehydrateStorage:()=>e=>{if(e){const t=new Date;t.setHours(t.getHours()-24);const n=e.messages.filter(r=>{try{const s=as(r.timestamp);if(!s)throw console.warn(`Failed to parse timestamp for message ${r.id}:`,typeof r.timestamp,r.timestamp),new Error(`Failed to parse timestamp for message ${r.id}`);return s>t}catch(s){return console.warn(`Failed to parse message timestamp for message ID ${r.id}:`,s.message),!0}});n.length!==e.messages.length&&e.loadMessages(n)}}})),jS=Rt.createContext(void 0);function Gv(e){const{id:t}=Ht(),{messages:n,loading:r,loadMessages:s,setLoading:l,setRoom:o,clearMessages:d}=nM();_.useEffect(()=>{if(l(!0),o(t||null),!t){d();return}return _E(t,m=>{s(m)})},[t,s,l,o,d]);const h={messages:n,isLoading:r};return c.jsx(jS.Provider,{value:h,...e})}const qv=e=>Symbol.iterator in e,Fv=e=>"entries"in e,Hv=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,l]of n)if(!r.has(s)||!Object.is(l,r.get(s)))return!1;return!0},iM=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),l=r.next();for(;!s.done&&!l.done;){if(!Object.is(s.value,l.value))return!1;s=n.next(),l=r.next()}return!!s.done&&!!l.done};function rM(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:qv(e)&&qv(t)?Fv(e)&&Fv(t)?Hv(e,t):iM(e,t):Hv({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function aM(e){const t=Rt.useRef(void 0);return n=>{const r=e(n);return rM(t.current,r)?t.current:t.current=r}}const Kv=50,vm=jp((e,t)=>({onlineUsers:{},loading:!1,error:null,room:null,_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,averageUpdateInterval:0},_pendingUpdates:{},_batchTimeout:null,setUsers:n=>{const r=Date.now();e(s=>{const l=r-s._performanceMetrics.lastUpdateTime,o=s._performanceMetrics.updateCount+1,d=(s._performanceMetrics.averageUpdateInterval*s._performanceMetrics.updateCount+l)/o;return{onlineUsers:n,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:r,updateCount:o,averageUpdateInterval:d}}})},addUser:(n,r)=>{const s=t();s._pendingUpdates[n]=r,s._batchTimeout&&clearTimeout(s._batchTimeout);const l=setTimeout(()=>{s.flushPendingUpdates()},Kv);e({_batchTimeout:l})},removeUser:n=>{const r=t();r._pendingUpdates[n]=null,r._batchTimeout&&clearTimeout(r._batchTimeout);const s=setTimeout(()=>{r.flushPendingUpdates()},Kv);e({_batchTimeout:s})},batchUpdateUsers:n=>e(r=>{const s={...r.onlineUsers};Object.entries(n).forEach(([m,g])=>{if(g===null){const{[m]:p,...x}=s;Object.assign(s,x)}else s[m]=g});const l=Date.now(),o=l-r._performanceMetrics.lastUpdateTime,d=r._performanceMetrics.updateCount+1,h=(r._performanceMetrics.averageUpdateInterval*r._performanceMetrics.updateCount+o)/d;return{onlineUsers:s,_performanceMetrics:{lastUpdateTime:l,updateCount:d,averageUpdateInterval:h}}}),flushPendingUpdates:()=>{const n=t();Object.keys(n._pendingUpdates).length!==0&&(n.batchUpdateUsers(n._pendingUpdates),e(()=>({_pendingUpdates:{}})))},clearUsers:()=>e(()=>({onlineUsers:{},loading:!1,error:null,_pendingUpdates:{}})),setLoading:n=>e(()=>({loading:n})),setError:n=>e(()=>({error:n,loading:!1})),setRoom:n=>e(()=>({room:n})),getUsersByRoom:n=>{const r=t();return r.onlineUsers},getActiveUserCount:()=>{const n=t();return Object.keys(n.onlineUsers).length},getPerformanceMetrics:()=>t()._performanceMetrics}));function sM(e){if(!e||typeof e!="object")return!1;const t=e;return typeof t.displayName=="string"&&typeof t.uid=="string"&&(t.lastSeen instanceof Date||typeof t.lastSeen=="number"||typeof t.lastSeen=="string")}const lM=Rt.createContext(void 0);function Yv(e){const{id:t}=Ht(),n=vm(A=>A.onlineUsers),r=_.useRef(null),s=_.useRef(void 0),l=_.useRef(n);_.useEffect(()=>{l.current=n},[n]);const o=_.useRef(()=>{}),{setUsers:d,clearUsers:h,setRoom:m,flushPendingUpdates:g}=vm(aM(A=>({setUsers:A.setUsers,clearUsers:A.clearUsers,setRoom:A.setRoom,flushPendingUpdates:A.flushPendingUpdates}))),p=_.useRef(d),x=_.useRef(h),v=_.useRef(m),w=_.useRef(g);_.useEffect(()=>{p.current=d,x.current=h,v.current=m,w.current=g},[d,h,m,g]),_.useEffect(()=>{o.current=A=>{if(A===null){x.current();return}const j={};Object.entries(A).forEach(([R,M])=>{if(sM(M)){const E={...M,lastSeen:M.lastSeen instanceof Date?M.lastSeen:new Date(M.lastSeen)};j[R]=E}}),p.current(j)}},[]);const S=_.useCallback(A=>{var j;(j=o.current)==null||j.call(o,A)},[]),k=_.useCallback(()=>{r.current&&(r.current(),r.current=null),w.current()},[]);_.useEffect(()=>{if(s.current!==t&&(v.current(t||null),s.current=t),!t){k(),x.current();return}k();const A=jE(t,S,l.current);return r.current=A||null,k},[t,S,k]),_.useEffect(()=>k,[k]);const C=_.useMemo(()=>({onlineUsers:n}),[n]);return c.jsx(lM.Provider,{value:C,...e})}function oM({onSuccess:e,onSwitchToRegister:t,onSwitchToForgotPassword:n,isLinking:r=!1}){const{t:s}=de(),[l,o]=_.useState(""),[d,h]=_.useState(""),[m,g]=_.useState(""),[p,x]=_.useState(!1),v=async w=>{w.preventDefault(),g(""),x(!0);try{await tS(l,d),e&&e()}catch(S){console.error("Login error:",S),g(S.message||"Failed to sign in")}finally{x(!1)}};return c.jsxs(H,{component:"form",onSubmit:v,sx:{mt:1},children:[m&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:m}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:s("email"),name:"email",autoComplete:"email",autoFocus:!0,value:l,onChange:w=>o(w.target.value)}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:s("password"),type:"password",id:"password",autoComplete:"current-password",value:d,onChange:w=>h(w.target.value)}),c.jsx(he,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:p,children:p?c.jsx(kn,{size:24}):r?c.jsx(Z,{i18nKey:"linkAccount",children:"Link Account"}):c.jsx(Z,{i18nKey:"signIn"})}),c.jsxs(Y,{align:"center",children:[c.jsx(he,{onClick:t,variant:"text",children:c.jsx(Z,{i18nKey:"needAccount"})})," | ",c.jsx(he,{onClick:n,variant:"text",children:c.jsx(Z,{i18nKey:"forgotPassword"})})]})]})}function uM({onSuccess:e,onSwitchToLogin:t,isAnonymous:n=!1}){const{t:r}=de(),[s,l]=_.useState(""),[o,d]=_.useState(""),[h,m]=_.useState(""),[g,p]=_.useState(""),[x,v]=_.useState(""),[w,S]=_.useState(!1),k=async C=>{if(C.preventDefault(),v(""),h!==g){v(r("passwordsDoNotMatch")||"Passwords do not match");return}S(!0);try{await Jw(o==null?void 0:o.trim(),h,s==null?void 0:s.trim()),e&&e()}catch(A){console.error("Registration error:",A),v(A.message||"Failed to create account")}finally{S(!1)}};return c.jsxs(H,{component:"form",onSubmit:k,sx:{mt:1},children:[x&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:x}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,id:"displayName",label:r("displayName"),name:"displayName",autoComplete:"name",autoFocus:!0,value:s,onChange:C=>l(C.target.value)}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:r("email"),name:"email",autoComplete:"email",value:o,onChange:C=>d(C.target.value)}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:r("password"),type:"password",id:"password",autoComplete:"new-password",value:h,onChange:C=>m(C.target.value)}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:r("confirmPassword"),type:"password",id:"confirmPassword",autoComplete:"new-password",value:g,onChange:C=>p(C.target.value)}),c.jsx(he,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:w,children:w?c.jsx(kn,{size:24}):n?c.jsx(Z,{i18nKey:"linkAccount"}):c.jsx(Z,{i18nKey:"createAccount"})}),c.jsx(Y,{align:"center",children:c.jsx(he,{onClick:t,variant:"text",children:c.jsx(Z,{i18nKey:"alreadyHaveAccount"})})})]})}function cM({onSuccess:e,isLinking:t=!1}){const[n,r]=_.useState(""),[s,l]=_.useState(!1),o=async()=>{r(""),l(!0);try{await eS(),e&&e()}catch(d){r(d.message||"Failed to sign in with Google")}finally{l(!1)}};return c.jsxs(H,{sx:{mt:2,mb:2},children:[n&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:n}),c.jsx(pt,{sx:{mb:2},children:c.jsx(Y,{variant:"body2",color:"text.secondary",children:c.jsx(Z,{i18nKey:"or",children:"OR"})})}),c.jsx(he,{fullWidth:!0,variant:"outlined",startIcon:c.jsx(cS,{}),onClick:o,disabled:s,sx:{mb:1},"aria-busy":s,"aria-live":"polite",children:s?c.jsx(kn,{size:24}):t?Pe("linkWithGoogle","Link with Google"):Pe("signInWithGoogle","Sign in with Google")})]})}function Rp(){const e=_.useContext(fo);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function pi({close:e}){return c.jsx(Xe,{"aria-label":"close",onClick:e,sx:{position:"absolute",right:8,top:8},children:c.jsx(Cp,{})})}function un(e="sm"){const t=gi();return yp(t.breakpoints.down(e))}function CS({children:e,open:t,close:n=null,isMobile:r=null,title:s=null,isLoading:l=!1,maxWidth:o="md",fullWidth:d=!1,ariaLabelledby:h,ariaDescribedby:m,actions:g}){const p=un(),x=r!==null?r:p;return l?null:c.jsxs(qt,{fullScreen:x,open:t,maxWidth:o,fullWidth:d,"aria-labelledby":h,"aria-describedby":m,disableRestoreFocus:!0,children:[c.jsxs(Zt,{children:[s,typeof n=="function"&&c.jsx(pi,{close:n})]}),c.jsx(Ft,{children:e}),g&&c.jsx(Zr,{sx:{p:2,gap:1},children:g})]})}function dM({onToggleForm:e}){const[t,n]=_.useState(""),[r,s]=_.useState(""),[l,o]=_.useState(!1),[d,h]=_.useState(!1),{forgotPassword:m}=Rp(),g=async p=>{p.preventDefault(),s(""),o(!1),h(!0);try{await m(t),o(!0)}catch(x){s(x.message||"Failed to send reset email")}finally{h(!1)}};return c.jsxs(H,{component:"form",onSubmit:g,sx:{mt:1},children:[r&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:r}),l&&c.jsx(Ct,{severity:"success",sx:{mb:2},children:c.jsx(Z,{i18nKey:"resetEmailSent"})}),c.jsx(Ge,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:c.jsx(Z,{i18nKey:"email"}),name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:p=>n(p.target.value)}),c.jsx(he,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:d,children:d?c.jsx(kn,{size:24}):c.jsx(Z,{i18nKey:"sendResetLink"})}),c.jsx(H,{sx:{textAlign:"center"},children:c.jsx(he,{variant:"text",onClick:()=>e("login"),children:c.jsx(Z,{i18nKey:"backToLogin"})})})]})}function kS({open:e,close:t,initialView:n="login"}){const[r,s]=_.useState(n),{isAnonymous:l}=Rp(),{t:o}=de(),d=()=>{switch(r){case"login":return o(l?"linkAccount":"signIn");case"register":return o("createAccount");case"reset":return o("resetPassword");default:return o("Authentication")}};return c.jsxs(CS,{title:d(),open:e,close:t,children:[r==="login"&&c.jsxs(c.Fragment,{children:[c.jsx(oM,{onSwitchToRegister:()=>s("register"),onSwitchToForgotPassword:()=>s("reset"),onSuccess:t,isLinking:l}),c.jsx(cM,{onSuccess:t,isLinking:l})]}),r==="reset"&&c.jsx(dM,{onToggleForm:s}),r==="register"&&c.jsx(uM,{onSwitchToLogin:()=>s("login"),onSuccess:t,isAnonymous:l})]})}const ss=Mc(e=>c.jsx(oc,{disableGutters:!0,elevation:0,square:!0,...e}))(({theme:e})=>({border:`1px solid ${e.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),ls=Mc(uc)(({theme:e})=>({padding:e.spacing(2),borderTop:`1px solid ${e.palette.divider}`})),os=Mc(e=>c.jsx(cc,{expandIcon:c.jsx($E,{sx:{fontSize:"0.9rem"}}),...e}))(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:e.spacing(1)}}));function TS(){const{t:e}=de(),[t,n]=_.useState(!1),r=s=>(l,o)=>{n(o?s:!1)};return c.jsxs(H,{className:"game-guide",children:[c.jsx(H,{className:"hero-section",children:c.jsxs(Z,{i18nKey:"gameDesc",children:[c.jsx(Y,{component:"h1",variant:"h4",className:"hero-title gradient-text-flame",children:"Transform Your Intimate Adventures - Blitzed Out Adult Board Game"}),c.jsx(Y,{variant:"body1",className:"hero-subtitle",children:"Blitzed Out is a customizable adult experience platform. Whether you're exploring solo, spicing things up as a couple, or hosting an unforgettable party — this is your playground."}),c.jsx(Y,{variant:"body1",className:"hero-subtitle",children:"Create personalized experiences with endless customization, join private rooms, or discover new adventures with a vibrant community."})]})}),c.jsx(pt,{className:"section-divider"}),c.jsxs(H,{className:"features-section",children:[c.jsx(Y,{component:"h2",variant:"h6",className:"section-title",children:c.jsx(Z,{i18nKey:"whySpecialTitle"})}),c.jsxs(H,{className:"features-grid",children:[c.jsx(H,{className:"feature-item",children:c.jsxs(Z,{i18nKey:"customizationFeature",children:[c.jsx(H,{className:"feature-icon",children:"🎲"}),c.jsx(Y,{component:"h3",variant:"subtitle1",className:"feature-title",children:"Unlimited Customization"}),c.jsx(Y,{variant:"body2",className:"feature-description",children:"Create your perfect experience with custom boards, actions, and intensity levels tailored to your desires."})]})}),c.jsx(H,{className:"feature-item",children:c.jsxs(Z,{i18nKey:"privacyFeature",children:[c.jsx(H,{className:"feature-icon",children:"🔒"}),c.jsx(Y,{component:"h3",variant:"subtitle1",className:"feature-title",children:"Complete Privacy Control"}),c.jsx(Y,{variant:"body2",className:"feature-description",children:"Private rooms, local play options, and anonymous sessions. Your privacy and comfort come first."})]})}),c.jsx(H,{className:"feature-item",children:c.jsxs(Z,{i18nKey:"varietyFeature",children:[c.jsx(H,{className:"feature-icon",children:"🌟"}),c.jsx(Y,{component:"h3",variant:"subtitle1",className:"feature-title",children:"Endless Variety"}),c.jsx(Y,{variant:"body2",className:"feature-description",children:"From gentle exploration to intense adventures — with community-created content and regular updates."})]})})]})]}),c.jsxs(ss,{expanded:t==="panel1",onChange:r("panel1"),className:"about-accordion",children:[c.jsx(os,{"aria-controls":"panel1-content",id:"panel1-header",children:c.jsx(Y,{component:"h3",className:"accordion-title",children:c.jsx(Z,{i18nKey:"gettingStartedTitle"})})}),c.jsxs(ls,{children:[c.jsx(Y,{variant:"body1",sx:{mb:2},children:e("gettingStartedMainText")}),c.jsx(Y,{variant:"body2",className:"helpful-tip",children:e("gettingStartedTip")})]})]})]})}function AS(){const e=Rt.useContext(CE);if(!e)throw new Error("ScheduleContext's value is undefined.");return e}const fM="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;window.__castScriptLoading=window.__castScriptLoading||!1;function hM(){const[e,t]=_.useState(!1),[n,r]=_.useState(null),{id:s}=Ht(),l=_.useRef(null),[o,d]=_.useState(!1),[h,m]=_.useState(!1),g=_.useCallback((v=!1)=>{t(!1),r(null),v&&m(!1)},[]),p=_.useCallback(v=>{try{const w=`${window.location.origin}/${s}/cast`;v.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:w})}catch(w){console.error("Error sending cast message:",w)}},[s]);_.useEffect(()=>{const v=()=>{var S,k,C,A;try{if(!((S=window==null?void 0:window.cast)!=null&&S.framework))return;if(window.__castApiInitialized){d(!0),w();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:(A=(C=(k=window.chrome)==null?void 0:k.cast)==null?void 0:C.AutoJoinPolicy)==null?void 0:A.ORIGIN_SCOPED}),window.__castApiInitialized=!0,d(!0),w()}catch(j){console.error("Error initializing Cast API:",j)}},w=()=>{var S,k,C;try{const A=(k=(S=window.cast)==null?void 0:S.framework)==null?void 0:k.CastContext.getInstance();if(!A)return;const j=A.getCurrentSession();if(j&&(t(!0),r(j),s&&p(j)),!((C=window==null?void 0:window.cast)!=null&&C.framework))return;A.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,R=>{var M,E,O,N,q,D;const P=A.getCurrentSession();switch(R.sessionState){case((E=(M=window.cast)==null?void 0:M.framework)==null?void 0:E.SessionState.SESSION_STARTED):case((N=(O=window.cast)==null?void 0:O.framework)==null?void 0:N.SessionState.SESSION_RESUMED):h||(t(!0),r(P),P&&s&&p(P));break;case((D=(q=window.cast)==null?void 0:q.framework)==null?void 0:D.SessionState.SESSION_ENDED):g(!0);break;default:R.sessionState==="SESSION_ENDING"&&g();break}})}catch(A){console.error("Error setting up session listener:",A)}};if(window.chrome&&window.chrome.cast&&window.cast)v();else if(window.__onGCastApiAvailable=function(S){S&&v()},!document.querySelector('script[src*="cast_sender.js"]')&&!window.__castScriptLoading){window.__castScriptLoading=!0;const S=document.createElement("script");S.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",S.onload=()=>{window.__castScriptLoading=!1},S.onerror=()=>{window.__castScriptLoading=!1,console.error("Failed to load Cast SDK")},document.head.appendChild(S)}return()=>{}},[s,p,h,g]);const x=()=>{var v,w,S,k;if(!o){console.warn("Cast API not ready yet");return}if(e){m(!0),g();try{const C=(w=(v=window.cast)==null?void 0:v.framework)==null?void 0:w.CastContext.getInstance();C&&C.endCurrentSession(!0),n&&n.endSession(!0)}catch(C){}}else{m(!1);try{const C=(k=(S=window.cast)==null?void 0:S.framework)==null?void 0:k.CastContext.getInstance();C&&C.requestSession().catch(A=>console.error("Error requesting cast session:",A))}catch(C){console.error("Error requesting cast session:",C)}}};return _.useEffect(()=>{e&&n&&s&&p(n)},[s,e,n,p]),o?c.jsx(Bt,{title:e?Pe("stopCasting"):Pe("startCasting"),children:c.jsx(Xe,{ref:l,onClick:x,color:e?"primary":"default",children:e?c.jsx(VE,{}):c.jsx(GE,{})})}):null}const mM={light:FE,dark:qE};function pM({size:e="medium",tooltip:t,"aria-label":n}){const{resolvedThemeMode:r,toggleTheme:s}=kE(),{t:l}=de(),o=mM[r],d=()=>{s()},h=()=>t||(r==="light"?l("theme.switchToDark","Switch to dark theme"):l("theme.switchToLight","Switch to light theme")),m=()=>n||`Toggle theme, currently ${r}`;return c.jsx(Bt,{title:h(),arrow:!0,children:c.jsx(Xe,{onClick:d,size:e,"aria-label":m(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:c.jsx(o,{})})})}function gM(e){const t=e==null?void 0:e.replace(/([A-Z])/g," $1").trim();return t?t.charAt(0).toUpperCase()+t.slice(1):""}function Dl(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function ES(e){var t;const n=(e==null?void 0:e.split(/\r?\n/))||[];return(t=n[n.length-1])==null?void 0:t.split(":")[1]}function MS(e,t){var n;const r=new RegExp(`\\d+\\s${t}`,"g");return(n=e.match(r))==null?void 0:n.filter((s,l,o)=>o.indexOf(s)===l)}function Je(e){return(e==null?void 0:e.toUpperCase())==="PUBLIC"}function Xt(e){return e==="online"}function xr({children:e,open:t,close:n,type:r="error",hideCloseButton:s=!1,vertical:l="bottom",horizontal:o="center",disableAutoHide:d=!1}){const{t:h}=de(),m=(p,x)=>{x!=="clickaway"&&n()},g=!s&&c.jsx(Xe,{size:"small","aria-label":h("close"),onClick:m,children:c.jsx(Cp,{fontSize:"small"})});return c.jsx(xp,{children:c.jsx(DA,{open:t,autoHideDuration:d?6e4:4e3,onClose:m,action:g,anchorOrigin:{vertical:l,horizontal:o},TransitionComponent:OA,children:c.jsx(Ct,{onClose:s?void 0:m,severity:r,sx:{width:"100%"},children:e})})})}function yM(e){const t=e==null?void 0:e.split(".");return!t||(t==null?void 0:t.length)<2?!1:t==null?void 0:t[t.length-1]}function xM(e){const t=yM(e);return typeof t=="string"&&["mp4","webm","mkv","flv","avi","mov","wmv","mpg","mv4"].includes(t)}function bM(e){return e?e!=null&&e.startsWith("http")?e:xM(e)?`/videos/${e}`:`/images/${e}`:""}function RS(e){return new URL(e).hostname.replace("www.","").replace(".com","").replace(".net","").replace(".gg","")}function vM(e){if(!e||typeof e!="string")return!1;try{const t=e.trim();if(!t)return!1;const n=new URL(t);if(!["http:","https:"].includes(n.protocol))return!1;let r;try{r=decodeURIComponent(n.pathname)}catch(s){return!1}return!(r.includes("../")||r.includes("..\\")||!n.hostname||n.hostname.includes("..")||n.pathname==="/"&&!n.search&&!n.hash)}catch(t){return!1}}function wM({title:e,date:t,url:n,description:r="",location:s="",baseUrl:l="https://blitzedout.com/PUBLIC",downloadIcs:o,buttonSx:d={}}){const h=gi(),{t:m}=de(),[g,p]=_.useState(null),x=!!g,v=M=>{p(M.currentTarget)},w=()=>{p(null)},S=()=>e||m("calendar.gameTitle"),k=()=>{o(S(),t,n,C()),w()},C=()=>{let M=`${S()}`;return l&&(M+=`
${l}`),n&&(M+=`

${m("calendar.videoLink")}: ${n}`),r&&(M+=`

${r}`),M},A=()=>{const M=t.toISOString().replace(/-|:|\.\d+/g,""),E=new Date(t.getTime()+3600*1e3).toISOString().replace(/-|:|\.\d+/g,""),O="https://calendar.google.com/calendar/render",N=new URLSearchParams({action:"TEMPLATE",text:S(),dates:`${M}/${E}`,details:C()});return(s||n)&&N.append("location",s||n||""),`${O}?${N.toString()}`},j=()=>{const M="https://outlook.live.com/calendar/0/deeplink/compose",E=new URLSearchParams({path:"/calendar/action/compose",rru:"addevent",subject:S(),startdt:t.toISOString(),enddt:new Date(t.getTime()+36e5).toISOString(),body:C()});return(s||n)&&E.append("location",s||n||""),`${M}?${E.toString()}`},R=()=>{const M=Math.floor(t.getTime()/1e3),E=Math.floor((t.getTime()+3600*1e3)/1e3),O="https://calendar.yahoo.com/",N=new URLSearchParams({v:"60",title:S(),st:M.toString(),et:E.toString(),desc:C()});return(s||n)&&N.append("in_loc",s||n||""),`${O}?${N.toString()}`};return c.jsxs(c.Fragment,{children:[c.jsx(he,{variant:"outlined",size:"small",startIcon:c.jsx(zc,{fontSize:"small"}),onClick:v,"aria-controls":x?"calendar-menu":void 0,"aria-haspopup":"true","aria-expanded":x?"true":void 0,sx:{borderColor:Wn(h.palette.secondary.main,.3),color:h.palette.secondary.main,"&:hover":{borderColor:h.palette.secondary.main,backgroundColor:Wn(h.palette.secondary.main,.05)},...d},children:m("calendar.addToCalendar")}),c.jsxs(dc,{id:"calendar-menu",anchorEl:g,open:x,onClose:w,MenuListProps:{"aria-labelledby":"calendar-button",dense:!0},children:[c.jsxs(ge,{onClick:k,children:[c.jsx(Zn,{children:c.jsx(HE,{fontSize:"small"})}),c.jsx(ln,{children:m("calendar.downloadIcs")})]}),c.jsxs(ge,{component:"a",href:A(),target:"_blank",rel:"noopener noreferrer",onClick:w,children:[c.jsx(Zn,{children:c.jsx(cS,{fontSize:"small"})}),c.jsx(ln,{children:m("calendar.googleCalendar")})]}),c.jsxs(ge,{component:"a",href:j(),target:"_blank",rel:"noopener noreferrer",onClick:w,children:[c.jsx(Zn,{children:c.jsx(KE,{fontSize:"small"})}),c.jsx(ln,{children:m("calendar.outlookCalendar")})]}),c.jsxs(ge,{component:"a",href:R(),target:"_blank",rel:"noopener noreferrer",onClick:w,children:[c.jsx(Zn,{children:c.jsx(dS,{fontSize:"small"})}),c.jsx(ln,{children:m("calendar.yahooCalendar")})]}),c.jsxs(ge,{onClick:k,children:[c.jsx(Zn,{children:c.jsx(YE,{fontSize:"small"})}),c.jsx(ln,{children:m("calendar.appleCalendar")})]})]})]})}const SM=(e,t,n,r)=>{const s=new Date(t.getTime()+36e5),l=m=>m.toISOString().replace(/-|:|\.\d+/g,"").slice(0,15)+"Z",o=l(t),d=l(s);let h=["BEGIN:VCALENDAR","VERSION:2.0","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`DTSTART:${o}`,`DTEND:${d}`,`SUMMARY:${e}`,`DESCRIPTION:${(r==null?void 0:r.replace(/\n/g,"\\n"))||e}`,"STATUS:CONFIRMED"];return n&&h.push(`URL:${n}`),h=h.concat(["END:VEVENT","END:VCALENDAR"]),h.join(`\r
`)},_M=(e,t,n,r)=>{const s=SM(e,t,n,r),l=new Blob([s],{type:"text/calendar;charset=utf-8"}),o=document.createElement("a");o.href=URL.createObjectURL(l),o.download=`blitzed-out-game-${t.toISOString().split("T")[0]}.ics`,document.body.appendChild(o),o.click(),document.body.removeChild(o)},jM=e=>{try{const{href:t}=new URL(e),n=RS(e);return c.jsx(he,{href:t,target:"_blank",rel:"noreferrer",variant:"outlined",size:"small",startIcon:e.includes("meet")||e.includes("zoom")?c.jsx(XE,{}):c.jsx(fS,{}),children:n})}catch(t){return null}};function CM({game:e}){const t=gi(),{t:n}=de(),r=e.dateTime.toDate(),s=new Date().toDateString()===r.toDateString(),l=r.getTime()-new Date().getTime()<1440*60*1e3&&r>new Date;return c.jsxs(ke,{container:!0,spacing:2,alignItems:"center",children:[c.jsx(ke,{size:12,children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(mm,{fontSize:"small",color:s?"secondary":"action",sx:{opacity:s?1:.7}}),c.jsxs(H,{sx:{display:"flex",gap:2},children:[c.jsx(Y,{variant:"body2",fontWeight:s?"bold":"normal",children:r.toLocaleString([],{weekday:"short",month:"short",day:"numeric"})}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:r.toLocaleString([],{hour:"numeric",minute:"2-digit"})})]}),l&&c.jsx(nt,{label:n("soon"),size:"small",color:"primary",sx:{height:20,fontSize:"0.7rem",ml:1,borderRadius:1,fontWeight:"bold",backgroundColor:Wn(t.palette.success.main,.8)}})]})}),c.jsx(ke,{size:12,children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.url?jM(e.url):c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",fontSize:"0.85rem"},children:n("noLinkProvided")}),c.jsx(wM,{title:n("calendar.gameTitle"),date:r,url:e.url,downloadIcs:_M,buttonSx:{ml:1}})]})})]})}function LS({open:e,close:t,isMobile:n}){const{t:r}=de(),[s,l]=_.useState(""),{schedule:o,addToSchedule:d}=AS(),h=gr().add(2,"week"),m=gi(),g=_.useCallback(()=>{l(null)},[]),p=_.useCallback(x=>{x.preventDefault();const v=x.currentTarget,w=v.elements.namedItem("date-time"),S=new Date(w.value),C=v.elements.namedItem("link").value;if(!S||!(S instanceof Date)){l(r("scheduleValidation.selectDateTime"));return}if(S<gr().toDate()){l(r("scheduleValidation.selectFutureDateTime"));return}if(o.find(A=>A.dateTime.toDate().toUTCString()===S.toUTCString())){l(r("scheduleValidation.gameAlreadyScheduled"));return}if(S>h.toDate()){l(r("scheduleValidation.selectWithinTwoWeeks"));return}if(C&&!C.startsWith("http")){l(r("scheduleValidation.enterValidUrl"));return}d(S,C),v.reset()},[o,d,h,r]);return c.jsx(c.Fragment,{children:c.jsxs(WE,{dateAdapter:TE,children:[c.jsx(qt,{fullScreen:n,open:e,onClose:t,maxWidth:"md",children:c.jsxs("form",{onSubmit:p,children:[c.jsxs(Zt,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(zc,{color:"primary"}),c.jsx(Y,{variant:"h5",component:"span",fontWeight:"bold",children:c.jsx(Z,{i18nKey:"schedule"})}),c.jsx(pi,{close:t})]}),c.jsxs(Ft,{children:[c.jsxs(mt,{elevation:3,sx:{mb:4,background:Wn(m.palette.primary.main,.05),border:`1px solid ${Wn(m.palette.primary.main,.1)}`,borderRadius:2,overflow:"visible",position:"relative"},children:[c.jsx(fc,{title:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(mm,{color:"primary"}),c.jsx(Y,{variant:"h6",fontWeight:"bold",children:r("upcomingGames")})]}),sx:{pb:1,borderBottom:`1px solid ${Wn(m.palette.divider,.1)}`}}),c.jsx(wt,{sx:{p:2},children:o.length?c.jsx(It,{spacing:2,children:o==null?void 0:o.map(x=>c.jsx(Vw,{elevation:1,sx:{p:1.5,borderRadius:1.5},children:c.jsx(CM,{game:x})},x.id))}):c.jsxs(H,{sx:{p:3,textAlign:"center",color:Wn(m.palette.text.primary,.6),borderRadius:1,background:Wn(m.palette.background.paper,.5)},children:[c.jsx(Y,{variant:"body1",children:r("noPlannedGames")}),c.jsx(Y,{variant:"body2",sx:{mt:1,fontSize:"0.85rem"},children:r("scheduleFirstGame")})]})})]}),c.jsxs(mt,{elevation:2,sx:{background:Wn(m.palette.background.paper,.7),borderRadius:2},children:[c.jsx(fc,{title:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(pc,{color:"secondary"}),c.jsx(Y,{variant:"h6",fontWeight:"bold",children:c.jsx(Z,{i18nKey:"scheduleGame"})})]}),sx:{pb:1,borderBottom:`1px solid ${Wn(m.palette.divider,.1)}`}}),c.jsx(wt,{children:c.jsxs(It,{spacing:3,sx:{mt:1},children:[c.jsx(QE,{name:"date-time",label:r("dateTime"),closeOnSelect:!1,disablePast:!0,maxDate:h,timeSteps:{minutes:30},sx:{width:"100%"},slotProps:{textField:{variant:"outlined",fullWidth:!0}}}),c.jsx(Ge,{label:r("camUrl"),variant:"outlined",name:"link",fullWidth:!0,placeholder:"https://...",helperText:r("optionalLinkHelper")}),c.jsx(he,{variant:"contained",type:"submit",fullWidth:!0,size:"large",startIcon:c.jsx(mm,{}),sx:{mt:2,py:1.2,borderRadius:1.5,fontWeight:"bold",textTransform:"none",boxShadow:m.shadows[4],"&:hover":{boxShadow:m.shadows[8]}},children:c.jsx(Z,{i18nKey:"schedule"})})]})})]})]})]})}),c.jsx(xr,{open:!!s,close:g,children:s})]})})}const Xl={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};function kM({open:e,onClose:t,onConfirm:n,onCancel:r,title:s,message:l,confirmText:o,cancelText:d,severity:h="info",confirmColor:m="primary"}){const{t:g}=de(),p=un(),x=()=>{r?r():t()},v=async()=>{try{await n(),t()}catch(w){console.error("Confirmation action failed:",w)}};return c.jsxs(qt,{open:e,onClose:t,fullScreen:p,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[c.jsx(Zt,{id:"confirmation-dialog-title",children:s}),c.jsxs(Ft,{children:[h!=="info"&&c.jsxs(Ct,{severity:h,sx:{mb:2},children:[h==="warning"&&g("warning"),h==="error"&&g("error"),h==="success"&&g("success")]}),c.jsx(zA,{id:"confirmation-dialog-description",children:l})]}),c.jsxs(Zr,{sx:{p:2,gap:1},children:[c.jsx(he,{onClick:x,variant:"outlined",fullWidth:p,children:d||g("cancel")}),c.jsx(he,{onClick:v,variant:"contained",color:m,fullWidth:p,autoFocus:!0,children:o||g("confirm")})]})]})}function TM({open:e,onClose:t,onRebuildBoard:n,onKeepBoard:r,fromLanguage:s,toLanguage:l}){var o,d;const{t:h}=de(),m=((o=Xl[s])==null?void 0:o.label)||s,g=((d=Xl[l])==null?void 0:d.label)||l,p=()=>{n(),t()},x=()=>{r(),t()};return c.jsx(kM,{open:e,onClose:t,onConfirm:p,onCancel:x,title:c.jsx(Z,{i18nKey:"languageChangeTitle"}),message:c.jsxs(c.Fragment,{children:[c.jsx(Z,{i18nKey:"languageChangeMessage",values:{fromLanguage:m,toLanguage:g}}),c.jsx("br",{}),c.jsx("br",{}),c.jsx(Z,{i18nKey:"languageChangeExplanation"})]}),confirmText:h("rebuildBoardAction"),cancelText:h("keepCurrentBoard"),severity:"info",confirmColor:"primary"})}function AM(e){const{t}=zi;let n=`### ${t("roomSettings")}\r
`;return Object.entries(e).forEach(([r,s])=>{if(r!=="room"){if(r==="roomBackgroundURL"&&s!==""){n+=`* ${t(r)}: [${RS(s)}:link:](${s})\r
`;return}if(r==="roomRealtime"){n+=`* ${t("playerList")}: ${t(s?"delayed":"realtime")}\r
`;return}s!==""&&(n+=`* ${t(r)}: ${s}\r
`)}}),n}function EM(e){const t={};return Object.entries(e).forEach(([n,r])=>{n.startsWith("room")&&!["roomUpdated","roomBackground","roomBackgroundURL"].includes(n)&&(t[n]=r)}),e.roomBackgroundURL&&e.roomBackgroundURL.trim()!==""&&(t.roomBackgroundURL=e.roomBackgroundURL),t}async function MM(e,t,n){let r=e;return t!==void 0&&t.length>0&&(r=await n(t)),r}function DS(e,t){const n=EM(e);return Yr({room:e.room,user:t,text:AM(n),type:"room",settings:JSON.stringify(n)})}const Xv=50,wm=100,Sm=50,Wv=1,Qv=10,_m=1,xc=10,RM=["none","all","default","undefined","null"],jm=["solo","foreplay","sex","consumption"],LM=(e,t="en",n="online",r)=>{const s=[],l=[];if(!e||e.trim().length===0)return s.push("Group name is required"),{isValid:!1,errors:s,warnings:l};const o=e.trim();return o.length>Xv&&s.push(`Group name must be ${Xv} characters or less`),RM.includes(o.toLowerCase())&&s.push(`"${o}" is a reserved name and cannot be used`),/^[a-zA-Z0-9_-]+$/.test(o)||s.push("Group name can only contain letters, numbers, hyphens, and underscores"),/^[a-zA-Z]/.test(o)||s.push("Group name must start with a letter"),{isValid:s.length===0,errors:s,warnings:l}},OS=e=>{const t=[],n=[];return!e||e.trim().length===0?(t.push(Pe("groupLabelRequired")),{isValid:!1,errors:t,warnings:n}):(e.trim().length>wm&&t.push(`Group label must be ${wm} characters or less`),{isValid:t.length===0,errors:t,warnings:n})},DM=e=>{const t=[],n=[];if(!e||e.length===0)return t.push("At least one intensity level is required"),{isValid:!1,errors:t,warnings:n};e.length<_m&&t.push(`At least ${_m} intensity level is required`),e.length>xc&&t.push(`Maximum ${xc} intensity levels allowed`);const r=new Set,s=new Set;for(let d=0;d<e.length;d++){const h=e[d];if((!h.id||h.id.trim().length===0)&&t.push(`Intensity level ${d+1} is missing an ID`),!h.label||h.label.trim().length===0)t.push(`Intensity level ${d+1} is missing a label`);else{const m=h.label.trim();m.length>Sm&&t.push(`Intensity level ${d+1} label must be ${Sm} characters or less`),s.has(m.toLowerCase())?t.push(`Intensity label "${m}" is used multiple times`):s.add(m.toLowerCase())}typeof h.value!="number"||!Number.isInteger(h.value)?t.push(`Intensity level ${d+1} must have a valid integer value`):((h.value<Wv||h.value>Qv)&&t.push(`Intensity level ${d+1} value must be between ${Wv} and ${Qv}`),r.has(h.value)?t.push(`Intensity value ${h.value} is used multiple times`):r.add(h.value))}const l=Array.from(r).sort((d,h)=>d-h);let o=l[0];for(const d of l){if(d!==o){n.push("Intensity values are not sequential. Consider using values like 1, 2, 3, 4 for better user experience");break}o++}return{isValid:t.length===0,errors:t,warnings:n}},OM=async(e,t)=>{const n=[],r=[],s=LM(e.name,e.locale||"en",e.gameMode||"online");n.push(...s.errors),r.push(...s.warnings||[]);const l=OS(e.label);n.push(...l.errors),r.push(...l.warnings||[]);const o=DM(e.intensities);if(n.push(...o.errors),r.push(...o.warnings||[]),s.isValid&&e.name)try{await EE(e.name,e.locale||"en",e.gameMode||"online",t)||n.push(`A group with the name "${e.name}" already exists for this locale and game mode`)}catch(d){r.push("Could not verify group name uniqueness"),console.warn("Failed to check group name uniqueness:",d instanceof Error?d.message:"Unknown error")}return{isValid:n.length===0,errors:n,warnings:r}},Zv=async(e,t="en",n="online")=>{const r=[],s=[];if(!e.group_id||e.group_id.trim().length===0)return r.push("Tile must belong to a group"),{isValid:!1,errors:r,warnings:s};try{const l=await AE(e.group_id);if(!l)return r.push(`Group with ID "${e.group_id}" does not exist`),{isValid:!1,errors:r,warnings:s};const o=l.intensities.map(d=>d.value);o.includes(e.intensity)||r.push(`Intensity ${e.intensity} is not valid for group "${l.name}". Valid intensities: ${o.join(", ")}`),(!e.action||e.action.trim().length===0)&&r.push("Tile action is required")}catch(l){r.push(`Error validating tile: ${l}`)}return{isValid:r.length===0,errors:r,warnings:s}};function zM(e,t){return e!==null&&typeof e=="object"&&typeof t=="string"&&t in e}async function NM(e,t,n){const r=e.selectedActions||{},s=Object.entries(n).filter(([m])=>r[m]).reduce((m,[g,p])=>{const x=r[g].levels||[],v=Object.keys(p.actions);return m[g]=x.map(w=>v[w]).filter(Boolean),m},{}),{getCustomGroups:l}=await jn(async()=>{const{getCustomGroups:m}=await import("../js/chunk-OMzf5Ydg.js").then(function(g){return g.a0});return{getCustomGroups:m}},__vite__mapDeps([0,1,2,3,4])),o=await l({}),d=new Map(o.map(m=>[m.id,m.name]));return((t==null?void 0:t.filter(m=>{if(!m.isCustom)return!1;const g=d.get(m.group_id||"");if(!g)return!1;const p=s[g];return p&&p.length>=Number(m.intensity)}))||[]).length}async function IM(e,t,n,r){const{t:s}=zi;let l=`### ${zi.t("gameSettingsHeading")}\r
`;r&&(l+=`##### ${r}\r
`),l+=`--- \r
`;const o=e.selectedActions||{};if(Object.entries(n).forEach(([m,g])=>{if(!o[m])return;const{role:p,variation:x,levels:v}=o[m],w=p||e.role||"sub";if(v&&v.length>0){l+=g==null?void 0:g.label;let S=null;x?S=s(x):Xt(e.gameMode)||(S=zM(g,w)?g[w]:s(w)),S&&(l+=`: ${S}`),l+=`\r
`;const k=(g==null?void 0:g.intensities)||{};v.forEach(C=>{let A=k[C];if(!A&&(g!=null&&g.actions)&&typeof g.actions=="object"){const j=Object.keys(g.actions);C<j.length&&C>0&&(A=j[C])}A||(A=`Level ${C}`),l+=`* ${A}\r
`}),l+=`\r
`}}),e.customGroups&&Array.isArray(e.customGroups)){for(const m of e.customGroups)if(m.groupName&&m.intensity)try{const g=await ME(m.groupName,e.locale||"en",e.gameMode||"online"),p=(g==null?void 0:g.label)||m.groupName;l+=`* ${p}: Level ${m.intensity} (Custom)\r
`}catch(g){console.error(`Error loading custom group ${m.groupName}:`,g),l+=`* ${m.groupName}: Level ${m.intensity} (Custom)\r
`}}if(l.endsWith(`--- \r
`))return"";const{finishRange:d}=e;if(l+=`--- \r
`,d){const m=d[0],g=d[1]-d[0],p=100-d[1],v=[m>0?{percent:m,text:s("noCum")}:null,g>0?{percent:g,text:s("ruined")}:null,p>0?{percent:p,text:s("cum")}:null].filter(w=>w!==null);v.length===1&&v[0].percent===100?l+=`* ${s("finishSlider")} ${v[0].text.replace(":","")} \r
`:v.length>0&&(l+=`* ${s("finishSlider")} \r
\r
`,v.forEach(w=>{const S=w.percent===100?w.text.replace(":",""):`${w.text} ${w.percent}%`;l+=`  - ${S} \r
`}))}const h=await NM(e,t,n);return h&&(l+=`* ${s("customTilesLabel")}: ${h} \r
`),l}function PM(e){const t={};return Object.entries(e).forEach(([n,r])=>{!["displayName","background","boardUpdated","chatSound","mySound","otherSound","othersDialog","playerDialog","readRoll","hideBoardActions","advancedSettings"].includes(n)&&!n.startsWith("room")&&(t[n]=r)}),t}async function Lp({title:e,formData:t,user:n,actionsList:r,tiles:s,customTiles:l=[],reason:o=""}){const d=JSON.stringify(PM(t)),h=await rS({title:e,gameBoard:JSON.stringify(s),settings:d}),m=await IM(t,l,r,o);if(!(!(h!=null&&h.id)||m===""))return Yr({room:(t==null?void 0:t.room)||"PUBLIC",user:n,text:m,type:"settings",gameBoardId:h.id,boardSize:s.length,gameMode:t.gameMode})}function An(){const e=_.useContext(fo);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Cm(e){for(let t=e.length-1;t>0;t-=1){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}function Jv(e,t){return(e==null?void 0:e.length)!==(t==null?void 0:t.length)?!1:e.every((n,r)=>n===t[r])}var BM=Object.defineProperty,UM=(e,t,n)=>t in e?BM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,e0=(e,t,n)=>UM(e,typeof t!="symbol"?t+"":t,n);const{t:Va}=zi;class $M{constructor(t){e0(this,"bags",new Map),e0(this,"originalTiles",new Map);const n=new Map;t.forEach(r=>{const s=`${r.group_id}-${r.intensity}`;n.has(s)||n.set(s,[]),n.get(s).push(r)}),n.forEach((r,s)=>{const l=[...r];Cm(l),this.bags.set(s,l),this.originalTiles.set(s,[...r])})}getTile(t,n){const r=`${t}-${n}`;let s=this.bags.get(r);if(!s||s.length===0){const l=this.originalTiles.get(r);if(!l||l.length===0)return null;s=[...l],Cm(s),this.bags.set(r,s)}return s.pop()||null}}function VM(e,t,n=[]){return e.filter(r=>{const s=r.action,l=n.find(o=>o.id===r.group_id);return(l==null?void 0:l.type)==="consumption"||(l==null?void 0:l.type)==="solo"?!0:t==="vers"?s.includes("{sub}")&&s.includes("{dom}")||s.includes("{player}"):!s.match(/{(dom|sub)}/)||s.includes(`{${t}}`)})}const t0=new Map;function GM(e,t,n){const r=`${e}-${t}-${n}`,s=t0.get(r);if(s!==void 0)return s;const l=e/t,o=Math.floor(n/l)+1;return t0.set(r,o),o}function zS(e,t,n,r,s,l){if(!e.length)return{title:"",description:""};const o=e[0],d=n[o.name];if(!d||!d.levels||d.levels.length===0)return{title:"",description:""};if(d.variation){const v=d.variation==="appendSome"?.4:d.variation==="appendMost"?.9:1;if(d.variation!=="standalone"&&Math.random()>v)return{title:"",description:""}}const h=Math.max(...o.intensities.map(v=>v.value)),m=GM(s,h,r),g=d.levels;let p;g.includes(m)?p=m:p=g.reduce((v,w)=>Math.abs(w-m)<Math.abs(v-m)?w:v);let x=t.getTile(o.id,p);if(!x){const v=g.filter(w=>w!==p);for(const w of v)if(x=t.getTile(o.id,w),x)break;if(!x)return{title:"",description:""}}return{title:o.label,description:x.action,standalone:d.variation==="standalone",role:l.role||"sub"}}function qM(e,t,n,r,s,l,o){if(e.standalone||!t.length||!e.description)return e.description||"";const d=zS(t,n,r,s,l,o);return d.description?`${d.description.trim().replace(/([^.,!?])$/,"$1.")} ${e.description}`:e.description}async function FM(e,t,n,r){const s=n.selectedActions||{},l=new $M(t),o=e.filter(g=>{const p=s[g.name];return p&&p.levels&&p.levels.length>0&&(!p.variation||p.variation==="standalone")}),d=e.filter(g=>{const p=s[g.name];return p&&p.levels&&p.levels.length>0&&(p.variation==="appendSome"||p.variation==="appendMost")});Cm(o);let h=0;const m=[];for(let g=1;g<=r;g++){const p=o.length>0?[o[h%o.length]]:[];h++;const x=zS(p,l,s,g,r,n),v=qM(x,d,l,s,g,r,n);m.push({title:x.title,description:v.trim(),role:x.role})}return m}function Sh(e,t){const n={title:Va("start"),description:Va("start")},{finishRange:r=[33,66]}=t,s=`${Va("noCum")} ${r[0]}%\r
${Va("ruined")} ${r[1]-r[0]}%\r
${Va("cum")} ${100-r[1]}%`,l={title:Va("finish"),description:s};return[n,...e.map(o=>({title:o.title,description:o.description})),l]}async function HM(e,t,n,r=40){try{const s=await qn({locale:t,gameMode:n}),l=s.map(j=>j.id),d=(l.length>0?await Pt({}):[]).filter(j=>j.group_id&&l.includes(j.group_id)),h=e.selectedActions||{},m=Object.keys(h).filter(j=>{var R;return((R=h[j])==null?void 0:R.levels)&&h[j].levels.length>0}),g=s.filter(j=>m.includes(j.name)),p=s.map(j=>j.name),x=m.filter(j=>!p.includes(j)),v=e.role||"sub",S=VM(d,v,s).filter(j=>s.find(R=>R.id===j.group_id));if(!g.length||!S.length)return{board:Sh([],e),metadata:{totalTiles:r+2,tilesWithContent:2,selectedGroups:m,missingGroups:x,availableTileCount:S.length}};const k=await FM(g,S,e,r),C=k.filter(j=>j.description.trim().length>0).length,A=Sh(k,e);return{board:A,metadata:{totalTiles:A.length,tilesWithContent:C+2,selectedGroups:m,missingGroups:x,availableTileCount:S.length}}}catch(s){return console.error("Error building game board:",s),{board:Sh([],e),metadata:{totalTiles:2,tilesWithContent:2,selectedGroups:[],missingGroups:[],availableTileCount:0}}}}function Dp(){const e=hi(Bc),[t,n]=cn(),{i18n:r}=de(),s=_.useCallback(async l=>{var o,d;const h=l!=null&&l.roomUpdate||l!=null&&l.boardUpdated?l:{...t,...l,selectedActions:{...t.selectedActions,...l.selectedActions}};let{gameMode:m,boardUpdated:g}=h;const{roomTileCount:p=40,finishRange:x,room:v}=h,w=Je(v||"");if(!l||!x)return{gameMode:m};w&&!Xt(m||"")&&(m="online",g=!0);const S=m||"online",k=r.resolvedLanguage||"en",C=w?40:p||40,A=await HM(h,k,S,C);return A.metadata.missingGroups.length>0&&console.warn("Missing groups for board building:",A.metadata.missingGroups),A.metadata.tilesWithContent<C/2&&console.warn("Low tile content ratio:",{tilesWithContent:A.metadata.tilesWithContent,totalTiles:A.metadata.totalTiles,availableTileCount:A.metadata.availableTileCount}),(l!=null&&l.boardUpdated||g||((d=(o=e==null?void 0:e.tiles)==null?void 0:o.length)!=null?d:0)!==A.board.length)&&(await n(h),await Uc({title:(e==null?void 0:e.title)||"",tiles:A.board})),{settingsBoardUpdated:g,gameMode:m,newBoard:A.board,metadata:A.metadata}},[e,r.resolvedLanguage,t,n]);return _.useCallback(l=>s(l),[s])}var KM=Object.defineProperty,YM=(e,t,n)=>t in e?KM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NS=(e,t,n)=>YM(e,typeof t!="symbol"?t+"":t,n);const IS=class Al{constructor(){NS(this,"currentSession",null)}static getInstance(){return Al.instance||(Al.instance=new Al),Al.instance}async createSession(t,n,r){try{this.validateSessionInput(t,n,r);const s=Ku(),l=Date.now(),o=n.map(m=>{var g,p;return{...m,location:(g=m.location)!=null?g:0,isFinished:(p=m.isFinished)!=null?p:!1}}),d={id:s,roomId:t,players:o,currentPlayerIndex:0,isActive:!0,createdAt:l,updatedAt:l,settings:{...r}},h={sessionId:d.id,roomId:d.roomId,players:d.players,currentPlayerIndex:d.currentPlayerIndex,isActive:d.isActive,createdAt:d.createdAt,updatedAt:d.updatedAt,settings:d.settings};return await ei.localPlayerSessions.add(h),this.currentSession=d,d}catch(s){throw new Error(`Failed to create local player session: ${s instanceof Error?s.message:"Unknown error"}`)}}async getSession(t){try{if(!t)throw new Error("Session ID is required");const n=await ei.localPlayerSessions.where("sessionId").equals(t).first();return n?this.convertDbSessionToSession(n):null}catch(n){throw new Error(`Failed to get session: ${n instanceof Error?n.message:"Unknown error"}`)}}async updateSession(t,n){var r;try{if(!t)throw new Error("Session ID is required");const s=await this.getSession(t);if(!s)throw new Error("Session not found");const l={...s,...n,id:t,createdAt:s.createdAt,updatedAt:Date.now()},o={roomId:l.roomId,players:l.players,currentPlayerIndex:l.currentPlayerIndex,isActive:l.isActive,updatedAt:l.updatedAt,settings:l.settings};return await ei.localPlayerSessions.where("sessionId").equals(t).modify(o),((r=this.currentSession)==null?void 0:r.id)===t&&(this.currentSession=l),l}catch(s){throw new Error(`Failed to update session: ${s instanceof Error?s.message:"Unknown error"}`)}}async advanceLocalTurn(t){try{if(!t)throw new Error("Session ID is required");const n=await this.getSession(t);if(!n)throw new Error("Session not found");if(!n.isActive)throw new Error("Cannot advance turn on inactive session");if(n.players.length===0)throw new Error("No players in session");const r=(n.currentPlayerIndex+1)%n.players.length,s=n.players.map((o,d)=>({...o,isActive:d===r}));return(await this.updateSession(t,{players:s,currentPlayerIndex:r})).players[r]}catch(n){throw new Error(`Failed to advance turn: ${n instanceof Error?n.message:"Unknown error"}`)}}getCurrentSession(){return this.currentSession}async updatePlayerPosition(t,n,r,s=!1){try{if(!t)throw new Error("Session ID is required");if(!n)throw new Error("Player ID is required");if(r<0)throw new Error("Location must be non-negative");const l=await this.getSession(t);if(!l)throw new Error("Session not found");if(!l.isActive)throw new Error("Cannot update player position on inactive session");const o=l.players.findIndex(h=>h.id===n);if(o===-1)throw new Error(`Player with ID ${n} not found in session`);const d=[...l.players];return d[o]={...d[o],location:r,isFinished:s},await this.updateSession(t,{players:d}),d[o]}catch(l){throw new Error(`Failed to update player position: ${l instanceof Error?l.message:"Unknown error"}`)}}clearCurrentSession(){this.currentSession=null}validateSessionInput(t,n,r){if(!t||typeof t!="string")throw new Error("Valid room ID is required");if(!Array.isArray(n)||n.length<2||n.length>4)throw new Error("Session must have between 2 and 4 players");n.forEach((h,m)=>{if(!h.id||typeof h.id!="string")throw new Error(`Player at index ${m} must have a valid ID`);if(!h.name||typeof h.name!="string")throw new Error(`Player at index ${m} must have a valid name`);if(!["sub","dom","vers"].includes(h.role))throw new Error(`Player at index ${m} must have a valid role`);if(typeof h.location!="undefined"&&(typeof h.location!="number"||h.location<0))throw new Error(`Player at index ${m} must have a valid location (non-negative number)`)});const s=n.map(h=>h.id),l=new Set(s);if(s.length!==l.size)throw new Error("All players must have unique IDs");const o=n.map(h=>h.name.toLowerCase()),d=new Set(o);if(o.length!==d.size)throw new Error("All players must have unique names");if(!r||typeof r!="object")throw new Error("Valid settings object is required")}convertDbSessionToSession(t){return{id:t.sessionId,roomId:t.roomId,players:t.players,currentPlayerIndex:t.currentPlayerIndex,isActive:t.isActive,createdAt:t.createdAt,updatedAt:t.updatedAt,settings:t.settings}}};NS(IS,"instance");let XM=IS;const $r=XM.getInstance(),PS=jp()(iS((e,t)=>({session:null,error:null,isLoading:!1,hasLocalPlayers:()=>{const n=t().session;return(n==null?void 0:n.isActive)===!0&&n.players.length>0},isLocalPlayerRoom:()=>{const n=t().session;return(n==null?void 0:n.isActive)===!0},getCurrentPlayer:()=>{const n=t().session;if(!(n!=null&&n.isActive)||!n.players||n.players.length===0)return null;const r=n.currentPlayerIndex||0,s=n.players[r];if(!s)return null;const l={...s};return typeof l.location!="number"&&(l.location=0),typeof l.isFinished!="boolean"&&(l.isFinished=!1),l},setSession:n=>{const r=n?t()._migrateSession(n):null;e({session:r,error:null})},_migrateSession:n=>{if(!n||!n.players)return n;const r=n.players.map(s=>({...s,location:typeof s.location=="number"?s.location:0,isFinished:typeof s.isFinished=="boolean"?s.isFinished:!1,sound:s.sound||""}));return{...n,players:r}},clearSession:()=>{$r.clearCurrentSession(),e({session:null,error:null})},setError:n=>{e({error:n,isLoading:!1})},setLoading:n=>{e({isLoading:n})},initSession:async(n,r,s)=>{try{e({isLoading:!0,error:null});const l=await $r.createSession(n,r,s);e({session:l,isLoading:!1,error:null})}catch(l){const o=l instanceof Error?l.message:"Failed to create session";e({error:o,isLoading:!1,session:null})}},loadSession:async n=>{try{e({isLoading:!0,error:null});const r=await $r.getSession(n);e({session:r,isLoading:!1,error:null})}catch(r){const s=r instanceof Error?r.message:"Failed to load session";e({error:s,isLoading:!1,session:null})}},nextLocalPlayer:async()=>{try{e({isLoading:!0,error:null});const n=t().session;if(!n)throw new Error("No active session");await $r.advanceLocalTurn(n.id);const r=await $r.getSession(n.id);e({session:r,isLoading:!1,error:null})}catch(n){const r=n instanceof Error?n.message:"Failed to advance turn";e({error:r,isLoading:!1})}},updateSessionSettings:async n=>{try{e({isLoading:!0,error:null});const r=t().session;if(!r)throw new Error("No active session");const s=await $r.updateSession(r.id,{settings:n});e({session:s,isLoading:!1,error:null})}catch(r){const s=r instanceof Error?r.message:"Failed to update session settings";e({error:s,isLoading:!1})}}}),{name:"local-player-store",partialize:e=>({session:e.session}),onRehydrateStorage:()=>e=>{e&&(e.isLoading=!1,e.error=null)}}));function ms(){var e;const{session:t,error:n,isLoading:r,hasLocalPlayers:s,isLocalPlayerRoom:l,getCurrentPlayer:o,setSession:d,clearSession:h,setError:m,setLoading:g,initSession:p,loadSession:x,nextLocalPlayer:v,updateSessionSettings:w}=PS(),S=_.useMemo(()=>(t==null?void 0:t.players)||[],[t==null?void 0:t.players]),k=o(),C=(e=t==null?void 0:t.currentPlayerIndex)!=null?e:-1,A=t==null?void 0:t.settings,j=_.useCallback(async(K,F,ne)=>{await p(K,F,ne)},[p]),R=_.useCallback(async K=>{await x(K)},[x]),M=_.useCallback(async()=>{await v()},[v]),E=_.useCallback(()=>{h()},[h]),O=_.useCallback(async K=>{await w(K)},[w]),N=_.useCallback(K=>K>=0&&K<S.length?S[K]:null,[S]),q=_.useCallback(K=>S.find(F=>F.id===K)||null,[S]),D=_.useCallback(K=>{const F=q(K);return(F==null?void 0:F.isActive)===!0},[q]),P=_.useCallback(()=>{if(S.length===0)return null;const K=(C+1)%S.length;return N(K)},[S,C,N]),G=_.useCallback(()=>{if(S.length===0)return null;const K=C===0?S.length-1:C-1;return N(K)},[S,C,N]);return{session:t,localPlayers:S,currentPlayer:k,currentPlayerIndex:C,sessionSettings:A,error:n,isLoading:r,hasLocalPlayers:s(),isLocalPlayerRoom:l(),playerCount:S.length,isValidSession:(t==null?void 0:t.isActive)===!0&&S.length>=2,createLocalSession:j,loadLocalSession:R,clearLocalSession:E,advanceToNextPlayer:M,updateSettings:O,getPlayerByIndex:N,getPlayerById:q,isPlayerActive:D,getNextPlayer:P,getPreviousPlayer:G,setSession:d,setError:m,setLoading:g}}function ea(){const e=Rt.useContext(jS);if(!e)throw new Error("MessagesContext's value is undefined.");return e}function WM(){const{id:e}=Ht(),t=Gw();return n=>{const r=e!==void 0&&(e==null?void 0:e.toUpperCase())!==(n==null?void 0:n.toUpperCase()),s=(n==null?void 0:n.replace(/^\/+/,""))||"PUBLIC";r&&t(`/${s}`)}}function QM(e){var t;const n=(t=e.roomBackgroundURL)==null?void 0:t.trim();n!==e.roomBackgroundURL&&(e.roomBackgroundURL=n||""),e.roomBackgroundURL&&!vM(e.roomBackgroundURL)&&(e.roomBackgroundURL="")}function ZM(e){const t={...e},n={};return e.selectedActions&&Object.entries(e.selectedActions).forEach(([r,s])=>{s&&s.levels&&s.levels.length>0&&(n[r]=s)}),Object.keys(t).forEach(r=>{const s=t[r];s&&typeof s=="object"&&s.type&&jm.includes(s.type)&&delete t[r]}),t.selectedActions=n,t}function Op(){const{user:e,updateUser:t}=An(),{id:n}=Ht(),{t:r}=de(),s=Dp(),[l,o]=cn(),d=hi(()=>Pc(l==null?void 0:l.gameMode)),h=hi(Bc),m=WM(),{messages:g}=ea(),{createLocalSession:p}=ms(),x=_.useCallback(w=>{var S;const k=(S=n||"")==null?void 0:S.toUpperCase(),C=(w.room||"").toUpperCase(),A=k!==C,j=!!(w.room&&!Je(w.room)),R=j&&w.roomTileCount!==(l==null?void 0:l.roomTileCount);return{roomChanged:A,isPrivateRoom:j,privateBoardSizeChanged:R}},[n,l==null?void 0:l.roomTileCount]),v=_.useCallback(async(w,S)=>{const{displayName:k}=w,C=await MM(e,k,t);QM(w);const{settingsBoardUpdated:A,gameMode:j,newBoard:R=[]}=await s(w),{roomChanged:M,isPrivateRoom:E,privateBoardSizeChanged:O}=x(w);if(!C)return;E&&(w.roomUpdated||!g.find(P=>P.type==="room"))&&await DS(w,C),(h==null?void 0:h.tiles)!==R&&await Uc({title:r("settingsGenerated"),tiles:R,isActive:1,gameMode:j}),(A||M||O)&&!g.some(P=>{var G;return P.type==="settings"&&P.uid===C.uid&&Date.now()-(((G=P.timestamp)==null?void 0:G.toMillis())||0)<5e3})&&await Lp({formData:w,user:C,customTiles:d,actionsList:S,title:"Settings Generated Board",tiles:R});const q=w;if(q.hasLocalPlayers&&q.localPlayersData&&q.localPlayerSessionSettings)try{await p(w.room,q.localPlayersData,q.localPlayerSessionSettings)}catch(P){console.error("Error creating local session:",P)}const D=ZM(w);o({...D,boardUpdated:!1,roomUpdated:!1,gameMode:j}),m(w.room)},[e,t,s,x,g,h,r,d,o,m,p]);return _.useCallback((w,S)=>v(w,S),[v])}const BS="None";function Vc(e,t=!1){const{i18n:n}=de(),[r,s]=_.useState({}),[l,o]=_.useState(!0);return _.useEffect(()=>{(async()=>{if(!e){s({}),o(!1);return}o(!0);try{const h=n.resolvedLanguage||"en";let m;if(t){m=await RE(e);const p=await Ap(h,e,null);m=m.map(x=>{var v,w;if((v=p==null?void 0:p[x.id])!=null&&v.intensities){const S=Object.keys(p[x.id].intensities).map(Number),k=((w=x.intensities)==null?void 0:w.filter(C=>S.includes(C.value)))||[];return{...x,intensities:k}}return x})}else m=await aS(h,e);const g={};for(const p of m){const x={[BS]:[]},v={};p.intensities&&Array.isArray(p.intensities)&&p.intensities.sort((w,S)=>w.value-S.value).forEach(w=>{x[w.label]=[],v[w.value]=w.label}),g[p.name]={label:p.label||p.name,type:p.type||"action",actions:x,intensities:v}}s(g)}catch(h){console.error("Error loading unified actions:",{error:h,locale:n.resolvedLanguage,gameMode:e,showOnlyGroupsWithTiles:t}),s({})}finally{o(!1)}})()},[e,n.resolvedLanguage,t]),{actionsList:r,isLoading:l}}function JM(e,t=!1,n=!1){if(t)return e;const r={...e};return n||delete r.useRoomBackground,r}function eR(e){return e?"roomBackground":"background"}function tR(e){return e?"roomBackgroundURL":"backgroundURL"}function nR({formData:e,setFormData:t,backgrounds:n,isRoom:r=!1,isPrivateRoom:s=!1}){const{t:l}=de(),o=eR(r),d=tR(r),h=_.useMemo(()=>JM(n,r,s),[n,r,s]),m=e==null?void 0:e[o],[g,p]=_.useState(m||""),x=()=>[c.jsx(ge,{value:"",children:l(s?"useRoomBackground":"customTiles.color")},"empty"),...Object.entries(h).map(([k,C])=>c.jsx(ge,{value:k,children:C},k))],v=S=>{const k=S.target.value,C={...e,[o]:k};if(k!=="custom"){const A={...C,[d]:""};r&&(A.roomUpdated=!0),t(A),p(k);return}r&&(C.roomUpdated=!0),t(C),p(k)};_.useEffect(()=>{const S=m&&h[m]?m:"";g!==S&&p(S)},[g,m,h]);const w=S=>{const k={...e,[o]:"custom",[d]:S.target.value};r&&(k.roomUpdated=!0),t(k)};return c.jsxs(c.Fragment,{children:[c.jsxs(ut,{fullWidth:!0,margin:"normal",children:[c.jsx(gt,{id:"background-label",children:l("background")}),c.jsx(ct,{labelId:"background-label",id:"background",label:l("background"),value:g,onChange:v,displayEmpty:!0,children:x()})]}),g==="custom"&&c.jsx(Ge,{sx:{mt:2},label:l("url"),value:(e==null?void 0:e[d])||"",fullWidth:!0,onChange:w,helperText:c.jsxs(c.Fragment,{children:[l("supportedSites"),c.jsx("br",{}),l("requiresEmbeddedUrl")]})})]})}var iR=Object.defineProperty,rR=(e,t,n)=>t in e?iR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aR=(e,t,n)=>rR(e,t+"",n);class sR{constructor(){aR(this,"voiceLoadPromise")}async waitForVoices(){return this.voiceLoadPromise?this.voiceLoadPromise:(this.voiceLoadPromise=new Promise(t=>{let n=window.speechSynthesis.getVoices();if(n.length>0){t(n);return}const r=()=>{n=window.speechSynthesis.getVoices(),n.length>0&&(window.speechSynthesis.removeEventListener("voiceschanged",r),t(n))};window.speechSynthesis.addEventListener("voiceschanged",r),setTimeout(()=>{window.speechSynthesis.removeEventListener("voiceschanged",r),t(window.speechSynthesis.getVoices())},3e3)}),this.voiceLoadPromise)}async getAvailableVoicesAsync(){return(await this.waitForVoices()).map(n=>({name:n.name,displayName:`${n.name} (${n.lang})`}))}async getPreferredVoiceAsync(){const t=await this.getAvailableVoicesAsync();return t.length>0?t[0].name:null}async speak(t,n,r=0){return new Promise((s,l)=>{if(!("speechSynthesis"in window)){l(new Error("Speech synthesis not supported"));return}const o=new SpeechSynthesisUtterance(t);if(o.pitch=r,n){const h=window.speechSynthesis.getVoices().find(m=>m.name===n);h&&(o.voice=h)}o.onend=()=>s(),o.onerror=d=>l(new Error(`Speech failed: ${d.error}`)),window.speechSynthesis.speak(o)})}stop(){var t;(t=window.speechSynthesis)!=null&&t.speaking&&window.speechSynthesis.cancel()}isAvailable(){return"speechSynthesis"in window}}const Wl=new sR,lR=()=>{const[e,t]=_.useState(!1),[n,r]=_.useState(!1),[s,l]=_.useState(null),o=_.useCallback(()=>{Wl.stop(),t(!1),r(!1)},[]),d=_.useCallback(async(h,m={})=>{try{r(!0),l(null),o(),t(!0),await Wl.speak(h,m.voice,m.pitch),r(!1),t(!1)}catch(g){const p=g instanceof Error?g.message:"TTS failed";l(p),t(!1),r(!1),console.error("TTS Error:",g)}},[o]);return _.useEffect(()=>()=>{o()},[o]),{speak:d,stop:o,isPlaying:e,error:s,isLoading:n}};function oR({formData:e,setFormData:t,onVoiceChange:n}){const{t:r}=de(),[s,l]=_.useState([]),[o,d]=_.useState(!0),{speak:h}=lR(),m=e.voicePreference||"",g=_.useCallback(w=>{const S={...e,voicePreference:w};t(S),n==null||n(w)},[e,t,n]);_.useEffect(()=>{let w=!0;return(async()=>{try{if(w){d(!0);const k=await Wl.getAvailableVoicesAsync();if(w){const C=k.filter(A=>A.displayName.includes("Google")||A.name.includes("Google"));if(l(C),!m&&C.length>0){const A=await Wl.getPreferredVoiceAsync();A&&C.some(j=>j.name===A)&&w?g(A):w&&g(C[0].name)}d(!1)}}}catch(k){console.error("Failed to load voices:",k),w&&d(!1)}})(),()=>{w=!1}},[m,g]);const p=w=>{g(w.target.value)},x=async()=>{const w=m||(s.length>0?s[0].name:"");if(!w)return;const S=r("tts.sampleText","Take a drink and enjoy the game.");try{await h(S,{voice:w,pitch:-2})}catch(k){console.error("Failed to play sample:",k)}},v=w=>w.displayName.replace(/^Google\s+/i,"");return o?c.jsx(H,{sx:{py:1},children:c.jsx(Y,{variant:"body2",color:"text.secondary",children:r("loadingVoices","Loading voices...")})}):s.length===0?c.jsx(H,{sx:{py:1},children:c.jsx(Y,{variant:"body2",color:"text.secondary",children:r("noVoicesAvailable","No voices available for this language")})}):c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,py:1},children:[c.jsxs(ut,{fullWidth:!0,size:"small",children:[c.jsx(gt,{id:"voice-select-label",children:r("voiceSelection","Voice")}),c.jsx(ct,{labelId:"voice-select-label",value:m,label:r("voiceSelection","Voice"),onChange:p,children:s.map(w=>c.jsx(ge,{value:w.name,children:v(w)},w.name))})]}),c.jsx(Bt,{title:r("playSample","Play sample"),children:c.jsx(Xe,{onClick:x,color:"primary",disabled:!m,size:"small",children:c.jsx(uo,{})})})]})}function uR({boardUpdated:e}){const{i18n:t}=de(),[n,r]=_.useState(t.resolvedLanguage||"en"),[s,l]=_.useState(!1);async function o(h){l(!0),r(h);try{await t.changeLanguage(h),e()}catch(m){console.error("Error changing language:",m),await t.changeLanguage(h),e()}finally{l(!1)}}const d=Object.entries(Xl).map(([h,m])=>c.jsx(ge,{value:h,children:m.label},h));return c.jsx(H,{sx:{minWidth:120,mt:1,mb:2},children:c.jsxs(ut,{fullWidth:!0,children:[c.jsxs(gt,{id:"language-label",sx:{display:"flex",alignItems:"center"},children:[c.jsx(Kl,{sx:{mr:1}}),c.jsx(Z,{i18nKey:"language"})]}),c.jsx(ct,{labelId:"language-label",id:"language-select",value:n,disabled:s,label:c.jsxs(c.Fragment,{children:[c.jsx(Kl,{}),c.jsx(Z,{i18nKey:"language"})]}),onChange:h=>o(h.target.value),endAdornment:s&&c.jsx(kn,{size:20}),MenuProps:{disableScrollLock:!0,BackdropProps:{invisible:!0},PaperProps:{style:{backdropFilter:"none",WebkitBackdropFilter:"none"}}},children:d})]})})}function US({trueCondition:e,onChange:t,yesLabel:n,noLabel:r=null,sx:s={}}){const l=r!=null?r:n;return c.jsx(H,{sx:{display:"flex",justifyContent:"center",my:1,...s},children:c.jsx(Fl,{control:c.jsx(Ni,{checked:e||!1,onChange:t}),label:Pe(e?n:l)})})}function hr({field:e,formData:t,handleSwitch:n}){return c.jsx(US,{trueCondition:t[e],onChange:r=>n(r,e),yesLabel:e,sx:{justifyContent:"left"}})}function cR({formData:e,setFormData:t,boardUpdated:n}){const[r,s]=cn(),l=!!(e.room&&!Je(e.room)),{t:o}=de(),d={useRoomBackground:o("useRoomBackground"),color:o("color"),gray:o("gray"),"metronome.gif":o("hypnoDick"),"pink-spiral.gif":o("pinkSpiral"),custom:o("customURL")};function h(g,p){t({...e,[p]:g.target.checked}),s({...r,[p]:g.target.checked})}function m(g){s({...r,voicePreference:g})}return c.jsxs(c.Fragment,{children:[c.jsx(uR,{boardUpdated:n}),c.jsx(Y,{variant:"h5",children:c.jsx(Z,{i18nKey:"dialog"})}),c.jsx(hr,{field:"playerDialog",formData:e,handleSwitch:h}),c.jsx(hr,{field:"othersDialog",formData:e,handleSwitch:h}),c.jsx(pt,{}),c.jsx(Y,{variant:"h5",sx:{mt:2},children:c.jsx(Z,{i18nKey:"sounds"})}),c.jsx(hr,{field:"mySound",formData:e,handleSwitch:h}),c.jsx(hr,{field:"otherSound",formData:e,handleSwitch:h}),c.jsx(hr,{field:"chatSound",formData:e,handleSwitch:h}),c.jsx(hr,{field:"readRoll",formData:e,handleSwitch:h}),e.readRoll&&c.jsx(oR,{formData:e,setFormData:t,onVoiceChange:m}),c.jsx(pt,{}),c.jsx(Y,{variant:"h5",sx:{mt:2,textTransform:"capitalize"},children:c.jsx(Z,{i18nKey:"misc"})}),c.jsx(hr,{field:"hideBoardActions",formData:e,handleSwitch:h}),c.jsx(hr,{field:"advancedSettings",formData:e,handleSwitch:h}),c.jsx(nR,{formData:e,setFormData:t,backgrounds:d,isPrivateRoom:l}),c.jsx(pt,{})]})}function dR({formData:e,setFormData:t}){const n=(s,l)=>{t({...e,finishRange:l,boardUpdated:!0})},r=(e==null?void 0:e.finishRange)||[30,70];return c.jsxs(H,{children:[c.jsx(pt,{}),c.jsx(Y,{id:"finish-slider",sx:{my:1},children:c.jsx(Z,{i18nKey:"finishSlider"})}),c.jsx(NA,{"aria-labelledby":"finish-slider",value:r,onChange:n,valueLabelDisplay:"off"}),c.jsxs(H,{display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"center",children:[c.jsxs(Y,{whiteSpace:"nowrap",children:[c.jsx(Z,{i18nKey:"noCum"})," ",r[0],"%"]}),c.jsxs(Y,{whiteSpace:"nowrap",children:[c.jsx(Z,{i18nKey:"ruined"})," ",r[1]-r[0],"%"]}),c.jsxs(Y,{whiteSpace:"nowrap",children:[c.jsx(Z,{i18nKey:"cum"})," ",100-r[1],"%"]})]}),c.jsx(pt,{sx:{my:1}})]})}function n0({children:e}){return c.jsx(ke,{size:{xs:12,md:5},children:e})}function _h({children:e,title:t,subtitle:n,defaultExpanded:r=!1,hasSelectedOptions:s=!1,...l}){const o=gi();return c.jsxs(oc,{defaultExpanded:r,...l,sx:{backgroundColor:"inherit",backgroundImage:"none",boxShadow:"none"},children:[c.jsx(cc,{expandIcon:c.jsx(Yl,{}),sx:{px:0},children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[c.jsxs(Y,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,minWidth:"fit-content"},children:[t,":",s&&c.jsx(H,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:o.palette.primary.main,flexShrink:0}})]}),c.jsx(Y,{sx:{pt:.5,ml:2,flex:1},children:n})]})}),c.jsx(uc,{sx:{px:0},children:c.jsx(ke,{container:!0,columnSpacing:2,justifyContent:"space-evenly",className:"columned-grid",children:e})})]})}function zp({actionName:e,actionLabel:t,selectedLevels:n,availableLevels:r,intensityNames:s={},onChange:l,disabled:o=!1,showValueGlow:d=!1}){const{t:h}=de(),m=gi(),g=`${e}-intensity-label`,p=d&&n.length>0,x=p?{boxShadow:`0 0 8px ${m.palette.primary.main}`}:{},v=p?{backgroundColor:"var(--color-surface)",borderRadius:"8px",padding:"0 8px"}:{},w=C=>{const j=C.target.value.filter(R=>!isNaN(R)).sort((R,M)=>R-M);l(j)},S=C=>{C.stopPropagation(),l([])},k=C=>C.length===0?h("none"):C.map(A=>s[A]||`${h("level")} ${A}`).join(", ");return r.length===0?c.jsx(c.Fragment,{}):c.jsxs(ut,{margin:"normal",fullWidth:!0,disabled:o,children:[c.jsx(gt,{id:g,sx:v,children:t}),c.jsx(ct,{labelId:g,id:e,label:t,multiple:!0,value:n,onChange:w,renderValue:k,sx:x,endAdornment:n.length>0&&c.jsx(Xe,{size:"small",onClick:S,sx:{position:"absolute",right:24,top:"50%",transform:"translateY(-50%)",zIndex:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:c.jsx(hS,{fontSize:"small"})}),children:r.map(C=>c.jsxs(ge,{value:C,children:[c.jsx(qw,{checked:n.includes(C)}),c.jsx(ln,{primary:s[C]||`${h("level")} ${C}`})]},C))})]})}const $S=_.forwardRef(({value:e,onChange:t,label:n,options:r,defaultValue:s=null,sx:l,helpIcon:o=!1,fullWidth:d=!0,...h},m)=>{const g=_.useMemo(()=>r.map(p=>typeof p=="string"?c.jsx(ge,{value:p,children:Pe(p)},p):c.jsx(ge,{value:p.value,children:p.label},p.value)),[r]);return c.jsxs(ut,{fullWidth:d,margin:"normal",sx:l,...h,ref:m,children:[c.jsxs(gt,{id:`${n}Label`,children:[c.jsx(Z,{i18nKey:n}),!!o&&c.jsx(mi,{sx:{ml:1,fontSize:16}})]}),c.jsx(ct,{labelId:`${n}Label`,id:n,label:c.jsxs(c.Fragment,{children:[c.jsx(Z,{i18nKey:n}),!!o&&c.jsx(mi,{sx:{ml:1,fontSize:16}})]}),value:e||s||"",onChange:t,children:g})]})});function fR({option:e,settings:t,setSettings:n,actionsFolder:r,type:s,showVariation:l=!1,showRole:o=!1}){var d,h,m,g,p,x;const{t:v}=de(),w=`${e}label`,S=(d=r[e])==null?void 0:d.label;function k(M,E,O){var N,q,D;const P=(N=t.selectedActions)==null?void 0:N[E];n({...t,selectedActions:{...t.selectedActions,[E]:{...P,type:s,levels:(q=P==null?void 0:P.levels)!=null?q:[],[O]:(D=M==null?void 0:M.target)==null?void 0:D.value}},boardUpdated:!0})}function C(M,E){var O;const N=(O=t.selectedActions)==null?void 0:O[E];n({...t,selectedActions:{...t.selectedActions,[E]:{...N,type:s,levels:M}},boardUpdated:!0})}let A=12;(l||o)&&(A=6);let j=["dom","vers","sub"];(h=r[e])!=null&&h.dom&&(j=[{label:r[e].dom,value:"dom"},{label:v("vers"),value:"vers"},{label:r[e].sub,value:"sub"}]);const R=()=>{var M,E;const O=r[e],N=O!=null&&O.intensities?Object.keys(O.intensities).map(Number).filter(D=>D>0).sort((D,P)=>D-P):[1,2,3,4],q=((E=(M=t.selectedActions)==null?void 0:M[e])==null?void 0:E.levels)||[];return c.jsx(zp,{actionName:e,actionLabel:(O==null?void 0:O.label)||e,selectedLevels:q,availableLevels:N,intensityNames:(O==null?void 0:O.intensities)||{},onChange:D=>C(D,e),showValueGlow:!0})};return c.jsxs(ke,{container:!0,justifyContent:"center",children:[c.jsx(ke,{size:A,children:R()}),!!o&&c.jsx(ke,{size:6,children:c.jsx($S,{sx:{ml:1},value:(g=(m=t.selectedActions)==null?void 0:m[e])==null?void 0:g.role,onChange:M=>k(M,e,"role"),label:`${v("role")}: ${S}`,options:j,defaultValue:t.role||"sub"})}),!!l&&c.jsx(ke,{size:6,children:c.jsx(Bt,{placement:"top",title:c.jsxs(Z,{i18nKey:"variationTooltip",children:[c.jsx(Y,{variant:"subtitle2",children:"Standalone = Its own tile. "}),c.jsx(Y,{variant:"subtitle2",children:"Append Some = 50% chance."}),c.jsx(Y,{variant:"subtitle2",children:"Append Most = 90% chance."})]}),arrow:!0,children:c.jsxs(ut,{fullWidth:!0,margin:"normal",sx:{ml:1},children:[c.jsxs(gt,{id:`${w}Variation`,children:[`${S} ${v("variation")}`,c.jsx(mi,{sx:{ml:1,fontSize:16}})]}),c.jsxs(ct,{labelId:`${w}Variation`,id:`${e}Variation`,label:c.jsxs(c.Fragment,{children:[S," ",v("variation"),c.jsx(mi,{sx:{ml:1,fontSize:16}})]}),value:((x=(p=t.selectedActions)==null?void 0:p[e])==null?void 0:x.variation)||"standalone",onChange:M=>k(M,e,"variation"),children:[c.jsx(ge,{value:"standalone",children:c.jsx(Z,{i18nKey:"standalone"})}),c.jsx(ge,{value:"appendSome",children:c.jsx(Z,{i18nKey:"appendSome"})}),c.jsx(ge,{value:"appendMost",children:c.jsx(Z,{i18nKey:"appendMost"})})]})]})})})]},e)}function hR({formData:e,setFormData:t}){return c.jsxs(It,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",sx:{mt:1},children:[c.jsx(Y,{children:c.jsx(Z,{i18nKey:"solo"})}),c.jsx(Bt,{title:c.jsx(Y,{variant:"subtitle2",children:c.jsx(Z,{i18nKey:"soloTooltip"})}),arrow:!0,children:c.jsx(mi,{sx:{fontSize:15}})}),c.jsx(Ni,{id:"gameMode",checked:!Xt(e.gameMode),onChange:n=>t({...e,gameMode:n.target.checked?"local":"online",boardUpdated:!0}),inputProps:{"aria-label":"Game Type"}}),c.jsx(Y,{children:c.jsx(Z,{i18nKey:"gameMode.local"})}),c.jsx(Bt,{title:c.jsx(Y,{variant:"subtitle2",children:c.jsx(Z,{i18nKey:"localTooltip"})}),arrow:!0,children:c.jsx(mi,{sx:{fontSize:15}})})]})}function mR({formData:e}){const[t,n]=_.useState(!1);return _.useEffect(()=>{const r=Object.values(e).filter(l=>typeof l=="object"&&(l==null?void 0:l.type)==="consumption"&&(l==null?void 0:l.levels)&&l.levels.length>0).length,s=Object.values(e).filter(l=>typeof l=="object"&&(l==null?void 0:l.levels)&&l.levels.length>0).length;n(r>1&&r>=s-r)},[e]),t?c.jsx(Ct,{severity:"warning",children:c.jsx(Z,{i18nKey:"consumptionWarning"})}):null}function pR({formData:e,setFormData:t,actionsList:n}){const{t:r}=de(),{hasLocalPlayers:s}=PS(),l=!Xt(e.gameMode),o=!s();function d(g){return Object.keys(n).filter(p=>{var x;return((x=n[p])==null?void 0:x.type)===g}).some(p=>{var x;const v=(x=e.selectedActions)==null?void 0:x[p];return(v==null?void 0:v.levels)&&v.levels.length>0})}function h(g,p={}){return Object.keys(n).filter(x=>{var v;return((v=n[x])==null?void 0:v.type)===g}).map(x=>c.jsx(n0,{children:c.jsx(fR,{option:x,settings:e,setSettings:t,actionsFolder:n,type:g,...p})},x))}const m=g=>{const p=JSON.parse(JSON.stringify(e));return Object.keys(p).forEach(x=>{p.role=g,x.includes("role")&&(p[x]=g)}),p};return c.jsxs(H,{maxWidth:"97%",children:[c.jsx(hR,{formData:e,setFormData:t}),Je(e==null?void 0:e.room)&&!Xt(e.gameMode)&&c.jsx(ke,{container:!0,alignContent:"center",justifyContent:"space-evenly",children:c.jsx(ke,{sx:{py:3},children:c.jsx(Y,{variant:"h5",children:c.jsx(Z,{i18nKey:"privateRequired"})})})}),l?c.jsxs(c.Fragment,{children:[c.jsx(ke,{container:!0,columnSpacing:2,justifyContent:"space-evenly",children:o&&c.jsx(n0,{children:c.jsx($S,{value:e.role,onChange:g=>t({...m(g.target.value),boardUpdated:!0}),label:"mainRole",options:["dom","vers","sub"],defaultValue:"sub"})})}),c.jsx(_h,{title:r("consumption"),subtitle:r("consumptionSubtitle"),hasSelectedOptions:d("consumption"),children:h("consumption",{showVariation:!0})}),c.jsx(_h,{title:r("foreplay"),subtitle:r("foreplaySubtitle"),hasSelectedOptions:d("foreplay"),children:h("foreplay",{showRole:o})}),c.jsx(_h,{title:r("sex"),subtitle:r("sexSubtitle"),hasSelectedOptions:d("sex"),children:h("sex",{showRole:o})})]}):c.jsxs(c.Fragment,{children:[c.jsx(ke,{container:!0,columnSpacing:2,justifyContent:"space-evenly",children:h("consumption",{showVariation:!0})}),c.jsx(pt,{}),c.jsx(ke,{container:!0,columnSpacing:2,justifyContent:"center",children:h("solo")})]}),c.jsx(dR,{setFormData:t,formData:e}),c.jsx(mR,{formData:e})]})}const Np=[{name:"Simple (1-3)",intensities:[{label:"intensityLabels.beginner",value:1,isDefault:!0},{label:"intensityLabels.intermediate",value:2,isDefault:!0},{label:"intensityLabels.advanced",value:3,isDefault:!0}]},{name:"Basic (1-4)",intensities:[{label:"intensityLabels.light",value:1,isDefault:!0},{label:"intensityLabels.medium",value:2,isDefault:!0},{label:"intensityLabels.intense",value:3,isDefault:!0},{label:"intensityLabels.extreme",value:4,isDefault:!0}]},{name:"Extended (1-5)",intensities:[{label:"intensityLabels.veryLight",value:1,isDefault:!0},{label:"intensityLabels.light",value:2,isDefault:!0},{label:"intensityLabels.medium",value:3,isDefault:!0},{label:"intensityLabels.intense",value:4,isDefault:!0},{label:"intensityLabels.veryIntense",value:5,isDefault:!0}]}];function gR({formState:e,validation:t,currentEditingGroup:n,locale:r,onFormStateChange:s,generateGroupName:l,updateIntensityLabel:o,addIntensity:d,removeIntensity:h,handleTemplateChange:m}){const{t:g}=de(),{label:p,type:x,localGameMode:v,selectedTemplateIndex:w,intensityLabels:S}=e,k=R=>{s({label:R})},C=R=>{s({type:R})},A=R=>{s({localGameMode:R})},j=R=>{s({selectedTemplateIndex:R}),m(R)};return c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:3},children:[!t.isValid&&c.jsx(Ct,{severity:"error",children:t.errors.map((R,M)=>c.jsx("div",{children:R},M))}),c.jsxs(H,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[c.jsx(Y,{variant:"h6",sx:{mb:2},children:g("customGroups.groupInformation")}),c.jsxs(Ge,{select:!0,label:g("customGroups.gameMode"),value:v,onChange:R=>A(R.target.value),helperText:g("customGroups.gameModeHelp"),fullWidth:!0,sx:{mb:2},children:[c.jsx(ge,{value:"online",children:g("gameMode.online")}),c.jsx(ge,{value:"local",children:g("gameMode.local")})]}),c.jsxs(Ge,{select:!0,label:g("customGroups.groupType"),value:x,onChange:R=>C(R.target.value),helperText:g("customGroups.groupTypeHelp"),fullWidth:!0,required:!0,error:p.trim().length>0&&!x,sx:{mb:2},children:[c.jsx(ge,{value:"",children:c.jsx("em",{children:g("groupTypes.selectType")})}),c.jsx(ge,{value:"solo",children:g("groupTypes.solo")}),v==="local"&&[c.jsx(ge,{value:"foreplay",children:g("groupTypes.foreplay")},"foreplay"),c.jsx(ge,{value:"sex",children:g("groupTypes.sex")},"sex")],c.jsx(ge,{value:"consumption",children:g("groupTypes.consumption")})]}),c.jsx(Ge,{label:g("customGroups.groupLabel"),value:p,onChange:R=>k(R.target.value),placeholder:"e.g., My Custom Group",helperText:g("customGroups.groupLabelHelp",{maxLength:wm}),fullWidth:!0,required:!0,error:p.trim().length>0&&!OS(p).isValid,sx:{mb:2}}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[c.jsxs(Y,{variant:"body2",color:"text.secondary",children:[c.jsx("strong",{children:g("customGroups.locale")})," ",r]}),n?c.jsxs(Y,{variant:"body2",color:"text.secondary",children:[c.jsx("strong",{children:g("customGroups.internalId")})," ",n.name," (locked)"]}):c.jsxs(Y,{variant:"body2",color:"text.secondary",children:[c.jsx("strong",{children:g("customGroups.internalId")})," ",p?l(p):g("customGroups.autoGenerated")]})]})]}),c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[c.jsx(Y,{variant:"body2",sx:{fontWeight:"medium",minWidth:"auto"},children:g("customGroups.quickStart")}),c.jsx(Ge,{select:!0,value:w,onChange:R=>j(Number(R.target.value)),size:"small",sx:{minWidth:200},label:g("customGroups.chooseTemplate"),children:Np.map((R,M)=>c.jsx(ge,{value:M,children:R.name==="Basic (1-4)"?g("templateBasic"):R.name==="Simple (1-3)"?g("templateSimple"):R.name==="Extended (1-5)"?g("templateExtended"):R.name},M))}),c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.75rem"},children:g("customGroups.selectTemplateDescription")})]}),c.jsxs(H,{children:[c.jsxs(Y,{variant:"h6",sx:{mb:2},children:[g("customGroups.intensityLabels")," (",S.length,"/",xc,")"]}),c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:g("customGroups.customizeIntensityDescription")}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[S.map((R,M)=>c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsx(Y,{variant:"body2",sx:{minWidth:"30px",fontWeight:"bold",color:"primary.main"},children:M+1}),c.jsx(Ge,{label:g("customGroups.levelInputLabel",{level:M+1}),value:R,onChange:E=>o(M,E.target.value),size:"small",sx:{flex:1},inputProps:{maxLength:Sm}}),c.jsx(Xe,{onClick:()=>h(M),disabled:S.length<=_m,color:"error",size:"small",children:c.jsx(hs,{})})]},M)),c.jsx(he,{startIcon:c.jsx(pc,{}),onClick:d,disabled:S.length>=xc,variant:"outlined",size:"small",sx:{alignSelf:"flex-start",mt:1},children:g("customGroups.addIntensityLevel")})]})]})]})}function yR({existingGroups:e,loadingGroups:t,tileCounts:n,onEditGroup:r,onDeleteGroup:s}){const{t:l}=de();return t?c.jsx(Y,{children:l("Loading groups...")}):e.length===0?c.jsx(Y,{color:"text.secondary",sx:{textAlign:"center",py:4},children:l("customGroups.noCustomGroupsFound")}):c.jsx(H,{children:c.jsx(hc,{children:e.map((o,d)=>c.jsxs(_.Fragment,{children:[c.jsxs(mc,{children:[c.jsx(ln,{primary:o.label,secondary:c.jsxs(H,{component:"span",sx:{display:"block"},children:[c.jsxs(Y,{variant:"body2",color:"text.secondary",component:"span",sx:{display:"block"},children:[l("customGroups.intensityLevelsCount",{count:o.intensities.length}),": ",o.intensities.map(h=>h.label).join(", ")]}),c.jsx(Y,{variant:"body2",color:"text.secondary",component:"span",sx:{display:"block",mt:.5},children:l("customGroups.customTilesCount",{count:n[o.id]||0})})]})}),c.jsxs(IA,{children:[c.jsx(Xe,{edge:"end","aria-label":"edit",onClick:()=>r(o),sx:{mr:1},children:c.jsx(Nc,{})}),c.jsx(Xe,{edge:"end","aria-label":"delete",onClick:()=>s(o.id),color:"error",children:c.jsx(hs,{})})]})]}),d<e.length-1&&c.jsx(pt,{})]},o.id))})})}function xR({open:e,pendingDeleteGroup:t,onClose:n,onConfirm:r}){var s;const{t:l}=de();return c.jsxs(qt,{open:e,onClose:n,children:[c.jsx(Zt,{children:l("customGroups.confirmDelete")}),c.jsx(Ft,{children:c.jsx(Y,{children:((s=t==null?void 0:t.tileCount)!=null?s:0)>0?l("customGroups.deleteGroupWithTiles",{name:t==null?void 0:t.name,count:t==null?void 0:t.tileCount}):l("customGroups.deleteGroupConfirm",{name:t==null?void 0:t.name})})}),c.jsxs(Zr,{children:[c.jsx(he,{onClick:n,children:l("cancel")}),c.jsx(he,{onClick:r,color:"error",variant:"contained",children:l("delete")})]})]})}const i0=e=>{const t=Np.findIndex(n=>n.intensities.length===e.length);return t>=0?t:0};function bR({open:e,onClose:t,onGroupCreated:n,onGroupUpdated:r,editingGroup:s,locale:l,gameMode:o}){const{t:d}=de(),[h,m]=_.useState({label:"",type:"",localGameMode:o,selectedTemplateIndex:0,intensityLabels:[d("intensityLabels.beginner"),d("intensityLabels.intermediate"),d("intensityLabels.advanced")]}),[g,p]=_.useState({selectedTab:0,isLoading:!0,currentEditingGroup:null,validation:{isValid:!0,errors:[]},isSubmitting:!1}),[x,v]=_.useState([]),[w,S]=_.useState({}),[k,C]=_.useState(!1),[A,j]=_.useState(null),R=_.useCallback(async()=>{try{const U=await qn({locale:l,isDefault:!1});v(U);const W={};await Promise.all(U.map(async ae=>{const z=await xm(ae.name,l,"online"),ce=await xm(ae.name,l,"local");W[ae.id]=z+ce})),S(W)}catch(U){console.error("Error reloading groups:",U)}},[l]);_.useEffect(()=>{(async()=>{if(e){p(W=>({...W,isLoading:!0}));try{await R()}catch(W){console.error("Error loading groups:",W)}finally{p(W=>({...W,isLoading:!1}))}}})()},[e,l,R]);const M=U=>U.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_").substring(0,20)||`group_${Ku(6).toLowerCase()}`,E=U=>U==="online"?["solo","consumption"]:["solo","foreplay","sex","consumption"];_.useEffect(()=>{if(s){const U=s.gameMode||o,W=E(U),ae=s.type||"";p(z=>({...z,currentEditingGroup:s})),m({label:s.label,type:W.includes(ae)?ae:"",localGameMode:U,selectedTemplateIndex:i0(s.intensities),intensityLabels:s.intensities.map(z=>z.label)})}else if(g.currentEditingGroup){const U=g.currentEditingGroup.gameMode||o,W=E(U),ae=g.currentEditingGroup.type||"";m({label:g.currentEditingGroup.label,type:W.includes(ae)?ae:"",localGameMode:U,selectedTemplateIndex:i0(g.currentEditingGroup.intensities),intensityLabels:g.currentEditingGroup.intensities.map(z=>z.label)})}else p(U=>({...U,currentEditingGroup:null})),m({label:"",type:"",localGameMode:o,selectedTemplateIndex:0,intensityLabels:[d("intensityLabels.beginner"),d("intensityLabels.intermediate"),d("intensityLabels.advanced")]});p(U=>({...U,validation:{isValid:!0,errors:[]}}))},[s,g.currentEditingGroup,e,o,d]),_.useEffect(()=>{const U=E(h.localGameMode);h.type&&!U.includes(h.type)&&m(W=>({...W,type:""}))},[h.localGameMode,h.type]);const O=U=>{const W=Np[U];m(ae=>({...ae,selectedTemplateIndex:U,intensityLabels:W.intensities.map(z=>d(z.label))}))},N=(U,W)=>{const ae=[...h.intensityLabels];ae[U]=W,m(z=>({...z,intensityLabels:ae}))},q=()=>{h.intensityLabels.length>=5||m(U=>({...U,intensityLabels:[...U.intensityLabels,d("customGroups.levelLabel",{level:U.intensityLabels.length+1})]}))},D=U=>{h.intensityLabels.length<=2||m(W=>({...W,intensityLabels:W.intensityLabels.filter((ae,z)=>z!==U)}))};_.useEffect(()=>{(async()=>{var W;if(!h.label.trim()&&!h.type&&h.intensityLabels.length===0){p(I=>({...I,validation:{isValid:!0,errors:[]}}));return}const ae=[];if(h.type&&!jm.includes(h.type)&&ae.push(d("typeValidationError",{types:jm.join(", ")})),h.label.trim()&&!h.type&&ae.push(d("typeRequiredError")),ae.length>0){p(I=>({...I,validation:{isValid:!1,errors:ae}}));return}const z=h.intensityLabels.map((I,Se)=>({id:Ku(),label:I,value:Se+1,isDefault:!1})),ce={name:g.currentEditingGroup?g.currentEditingGroup.name:M(h.label),label:h.label.trim(),intensities:z,type:h.type||void 0,locale:l,gameMode:h.localGameMode,isDefault:!1},fe=await OM(ce,(W=g.currentEditingGroup)==null?void 0:W.id);p(I=>({...I,validation:fe}))})()},[h.label,h.type,h.intensityLabels,h.localGameMode,l,g.currentEditingGroup,d]);const P=U=>{p(W=>({...W,currentEditingGroup:U,selectedTab:1})),m(W=>({...W,label:U.label,intensityLabels:U.intensities.map(ae=>ae.label)}))},G=async U=>{const W=x.find(z=>z.id===U);if(!W)return;const ae=w[U]||0;j({id:U,name:W.label,tileCount:ae}),C(!0)},K=async()=>{if(!A)return;const{id:U,tileCount:W}=A,ae=x.find(z=>z.id===U);if(ae)try{W>0&&await bS(ae.name,l,o),await Zw(U),await R(),r==null||r(null)}catch(z){console.error("Error deleting group:",z)}finally{C(!1),j(null)}},F=async()=>{if(!(!g.validation.isValid||g.isSubmitting)){p(U=>({...U,isSubmitting:!0}));try{const U=h.intensityLabels.map((ae,z)=>({id:Ku(),label:ae,value:z+1,isDefault:!1})),W={name:g.currentEditingGroup?g.currentEditingGroup.name:M(h.label),label:h.label.trim(),intensities:U,type:h.type||void 0,locale:l,gameMode:h.localGameMode,isDefault:!1};if(g.currentEditingGroup)await sS(g.currentEditingGroup.id,W),r==null||r(g.currentEditingGroup);else{const ae=await lS(W);ae&&(n==null||n({...W,id:ae,createdAt:new Date,updatedAt:new Date,isDefault:!1,locale:l,gameMode:h.localGameMode}))}ne(),t()}catch(U){console.error("Error saving custom group:",U),p(W=>({...W,validation:{isValid:!1,errors:[d("failedToSaveGroup",{error:U})]}}))}finally{p(U=>({...U,isSubmitting:!1}))}}},ne=()=>{p(U=>({...U,currentEditingGroup:null,validation:{isValid:!0,errors:[]}})),m({label:"",type:"",localGameMode:o,selectedTemplateIndex:0,intensityLabels:[d("intensityLabels.beginner"),d("intensityLabels.intermediate"),d("intensityLabels.advanced")]})},$=U=>{m(W=>({...W,...U}))};return c.jsxs(c.Fragment,{children:[c.jsxs(qt,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,sx:{"& .MuiDialog-paper":{minHeight:"600px"}},children:[c.jsxs(Zt,{children:[d("customGroups.manageCustomGroups"),c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mt:1},children:d("customGroups.createNewGroupsDescription")}),c.jsxs(bp,{value:g.selectedTab,onChange:(U,W)=>{p(ae=>({...ae,selectedTab:W})),W===1&&!g.currentEditingGroup&&ne()},sx:{mt:2,borderBottom:1,borderColor:"divider"},children:[c.jsx(Fr,{label:d("customGroups.existingGroups")}),c.jsx(Fr,{label:g.currentEditingGroup?d("customGroups.editGroup"):d("customGroups.createNew")})]})]}),c.jsxs(Ft,{dividers:!0,children:[g.selectedTab===0&&c.jsx(yR,{existingGroups:x,loadingGroups:g.isLoading,tileCounts:w,onEditGroup:P,onDeleteGroup:G}),g.selectedTab===1&&c.jsx(gR,{formState:h,validation:g.validation,currentEditingGroup:g.currentEditingGroup,locale:l,onFormStateChange:$,generateGroupName:M,updateIntensityLabel:N,addIntensity:q,removeIntensity:D,handleTemplateChange:O})]}),c.jsxs(Zr,{children:[c.jsx(he,{onClick:t,disabled:g.isSubmitting,children:d("cancel")}),c.jsx(he,{onClick:F,variant:"contained",disabled:!g.validation.isValid||g.isSubmitting,children:g.isSubmitting?d("customGroups.saving"):g.currentEditingGroup?d("customGroups.updateGroup"):d("customGroups.createGroup")})]})]}),c.jsx(xR,{open:k,pendingDeleteGroup:A,onClose:()=>C(!1),onConfirm:K})]})}const VS=(e,t)=>{const n=t||zi.resolvedLanguage||zi.language||"en",r=hi(()=>qn({locale:n,gameMode:e}),[n,e]);return{groups:_.useMemo(()=>r?r.map(l=>({...l,hasNoTiles:!1,isAvailableForSetup:!0})):[],[r]),loading:r===void 0,error:null,isEmpty:r?r.length===0:!0}};function vR({value:e,onChange:t,locale:n,gameMode:r,includeDefault:s=!0,disabled:l=!1,refreshTrigger:o=0}){const{t:d}=de(),{groups:h,loading:m}=VS(r,n),g=s?h:h.filter(p=>!p.isDefault);return m?c.jsxs(ut,{fullWidth:!0,disabled:!0,children:[c.jsx(gt,{children:d("customGroups.loadingGroups")}),c.jsx(ct,{value:"",children:c.jsx(ge,{value:"",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(kn,{size:16}),c.jsx("span",{children:d("customGroups.loadingGroups")})]})})})]}):c.jsx(H,{children:c.jsxs(ut,{fullWidth:!0,disabled:l,children:[c.jsx(gt,{id:"group-label",children:d("group")}),c.jsx(ct,{labelId:"group-label",value:e,onChange:p=>t(p.target.value),label:d("group"),children:g.length===0?c.jsx(ge,{value:"",disabled:!0,children:c.jsx(Y,{color:"text.secondary",children:d("customGroups.noGroupsAvailable",{locale:n,gameMode:r})})}):g.map(p=>c.jsx(ge,{value:p.id,children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx("span",{children:p.label}),p.isDefault&&c.jsx(nt,{label:d("default"),size:"small",variant:"outlined"})]})},p.id))})]})})}function wR({setSubmitMessage:e,boardUpdated:t,customTiles:n,mappedGroups:r,expanded:s,handleChange:l,tagList:o,updateTileId:d,setUpdateTileId:h,sharedFilters:m,setSharedFilters:g}){const{t:p}=de(),{settings:x}=_p(),[v,w]=_.useState({action:"",tags:[p("custom")]}),[S,k]=_.useState(!1),[C,A]=_.useState(""),[j,R]=_.useState(0),{groups:M}=VS(m.gameMode,x.locale||"en");_.useEffect(()=>{if(M.length>0&&!m.groupName){const F=M[0];g({...m,groupName:F.name,intensity:""})}},[M,m,g]);const E=M.find(F=>F.name===m.groupName);_.useEffect(()=>{const ne=setTimeout(async()=>{if(!E||!m.intensity||!v.action){A("");return}try{const $=await Zv({group_id:E.id,intensity:Number(m.intensity),action:v.action,tags:v.tags,isCustom:1},x.locale||"en",m.gameMode);$.isValid?A(""):A($.errors.join(", "))}catch($){console.error("Error validating tile:",$),A("")}},300);return()=>clearTimeout(ne)},[E,m.intensity,m.gameMode,v.action,v.tags,x.locale]),_.useEffect(()=>{const ne=(Array.isArray(n)?n:[]).find(({id:$})=>$===d);if(ne){const $=M.find(U=>U.id===ne.group_id);g({...m,groupName:($==null?void 0:$.name)||"",intensity:ne.intensity?ne.intensity.toString():""}),w({action:ne.action||"",tags:ne.tags||[p("custom")]})}else if(!m.groupName&&M.length>0){const $=M[0];g({...m,groupName:$.name,intensity:""})}},[d,n,M,p,g,m]);function O(F,ne,$){return(Array.isArray(n)?n:[]).find(W=>W.group_id===F&&W.intensity===ne&&W.action===$)}function N(){h(null),g({gameMode:x.gameMode,groupName:"",intensity:""}),w({action:"",tags:[p("custom")]}),A("")}const q=F=>{g({...m,groupName:F.name,intensity:""}),k(!1),R(ne=>ne+1)},D=()=>{R(F=>F+1)};async function P(){const F=document.querySelector('input[name="tags"]'),ne=[...v.tags];F&&F.value.trim()&&(ne.push(F.value.trim()),F.value="");const{gameMode:$,intensity:U}=m,{action:W}=v;if(!$||!E||!U||!W)return e({message:p("allFieldsRequired","All fields are required"),type:"error"});if(C)return e({message:C,type:"error"});if(d==null&&O(E.id,U,W))return e({message:p("actionExists"),type:"error"});const ae={group_id:E.id,intensity:Number(U),action:W,tags:ne,isCustom:1};try{const z=await Zv(ae,x.locale||"en",$);if(!z.isValid)return e({message:z.errors.join(", "),type:"error"});if(d===null){const ce=`${E.name} - Level ${U}`;oS(ce,W),await Ep(ae)}else await Jr(d,ae);return t(),w({action:"",tags:[p("custom")]}),e({message:p(d?"customUpdated":"customAdded"),type:"success"})}catch(z){return console.error("Error saving custom tile:",z),e({message:p("errorSavingTile"),type:"error"})}}const G=F=>{switch(F.key){case",":case"Enter":{F.preventDefault(),F.stopPropagation(),F.currentTarget.value.length>0&&(w(ne=>({...ne,tags:[...ne.tags,F.currentTarget.value]})),F.currentTarget.value="");break}}},K=F=>{F.target.value.length>0&&(w(ne=>({...ne,tags:[...ne.tags,F.target.value]})),F.target.value=""),setTimeout(()=>{const ne=document.querySelector(".MuiAutocomplete-popper");ne&&(ne.style.display="none")},150)};return c.jsxs(c.Fragment,{children:[c.jsxs(ss,{expanded:s==="ctAdd",onChange:l("ctAdd"),className:"about-accordion",children:[c.jsx(os,{"aria-controls":"ctAdd-content",id:"ctAdd-header",children:c.jsx(Y,{className:"accordion-title",children:c.jsx(Z,{i18nKey:d?"ctUpdate":"ctAdd"})})}),c.jsx(ls,{children:c.jsxs(H,{component:"form",method:"post",className:"settings-box",children:[c.jsxs(ut,{fullWidth:!0,sx:{mb:2},children:[c.jsx(gt,{children:p("customTiles.gameMode")}),c.jsxs(ct,{value:m.gameMode,onChange:F=>{g({gameMode:F.target.value,groupName:"",intensity:""})},label:p("customTiles.gameMode"),children:[c.jsx(ge,{value:"online",children:p("solo")}),c.jsx(ge,{value:"local",children:p("local")})]})]}),c.jsx(vR,{value:(E==null?void 0:E.id)||"",onChange:F=>{const ne=M.find($=>$.id===F);g({...m,groupName:(ne==null?void 0:ne.name)||"",intensity:""})},locale:x.locale||"en",gameMode:m.gameMode,refreshTrigger:j}),c.jsxs(ut,{fullWidth:!0,sx:{mt:2},children:[c.jsx(gt,{children:p("customTiles.intensityLevel")}),c.jsx(ct,{value:m.intensity,onChange:F=>{g({...m,intensity:F.target.value})},label:p("customTiles.intensityLevel"),children:E==null?void 0:E.intensities.map(F=>c.jsxs(ge,{value:F.value.toString(),children:[F.label," (Level ",F.value,")"]},F.value))})]}),C&&c.jsx(H,{sx:{mt:1,mb:2},children:c.jsx(Y,{color:"error",variant:"body2",children:C})}),c.jsx(Ge,{id:"action",name:"action",required:!0,fullWidth:!0,label:p("action"),sx:{mt:2,pb:2},value:v.action,onChange:F=>{w({...v,action:F.target.value})},onKeyUp:F=>{F.key==="Enter"&&P()}}),c.jsx(PA,{id:"tags",disableCloseOnSelect:!0,multiple:!0,freeSolo:!0,options:o,value:v.tags,onChange:(F,ne)=>{w({...v,tags:ne})},renderInput:F=>(F.inputProps.onKeyDown=G,F.inputProps.onBlur=K,c.jsx(Ge,{...F,label:p("tags")})),sx:{pb:2},clearOnBlur:!0,blurOnSelect:!0,openOnFocus:!0,disablePortal:!1,componentsProps:{popper:{modifiers:[{name:"preventOverflow",options:{altAxis:!0,altBoundary:!0,padding:8}}]}}}),c.jsxs(H,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:{xs:"stretch",sm:"space-evenly"},gap:1,children:[c.jsx(he,{variant:"outlined",type:"button",onClick:()=>k(!0),children:p("manageGroups.title")}),c.jsx(he,{variant:"contained",type:"button",onClick:()=>N(),children:c.jsx(Z,{i18nKey:"clear"})}),c.jsx(he,{variant:"contained",type:"button",onClick:P,children:c.jsx(Z,{i18nKey:d?"ctUpdate":"ctAdd"})})]})]})})]}),c.jsx(bR,{open:S,onClose:()=>k(!1),onGroupCreated:q,onGroupUpdated:D,locale:x.locale||"en",gameMode:m.gameMode})]})}function SR({expanded:e,handleChange:t}){const n=un(),[r,s]=_.useState({}),[l,o]=_.useState({}),d=p=>{s(x=>({...x,[p]:!x[p]}))},h=p=>{o(x=>({...x,[p]:!x[p]}))},m=[{id:"custom-actions",icon:c.jsx(Pv,{}),title:"Custom Actions",description:"Add your own personalized activities to the game",tip:"Think of custom tiles as your personal touch - add activities that match your style and preferences perfectly.",color:"primary"},{id:"category-intensity",icon:c.jsx(Ic,{}),title:"Category & Intensity Rules",description:"Tiles appear based on your game settings",tip:"Your tiles only show up when you select their category and intensity level (or higher) in game settings.",color:"secondary"}],g=[{id:"new-activities",icon:c.jsx(JE,{}),title:"New Activities",description:"Create unique actions not in the default list",tips:["Think outside the box - what creative activities would make your game more exciting?",'Add themed tiles like "Movie Night Actions" or "Kitchen Adventures"',"Create seasonal tiles for holidays or special occasions","Design role-play scenarios with specific character actions"],color:"primary"},{id:"intensity-boost",icon:c.jsx(e2,{}),title:"Early Intensity Boost",description:"Add advanced tiles to beginner levels",tips:["Pro tip: Add exciting advanced tiles to lower intensities to start games with more energy.","Copy your favorite advanced tiles and add them to beginner categories",'Create "gateway" tiles that introduce advanced concepts gradually',"Mix easy and challenging elements in the same tile for variety"],color:"secondary"},{id:"mix-match",icon:c.jsx(t2,{}),title:"Mix & Match",description:"Combine different activities into one tile",tips:["Mix activities that don't usually go together for unexpected combinations.","Combine physical actions with mental challenges or games","Create multi-step tiles that build on each other","Blend different intensity levels within a single creative tile"],color:"success"},{id:"custom-groups",icon:c.jsx(n2,{}),title:"Custom Groups",description:"Create your own tile categories with unique intensities",tips:['Design completely custom groups like "Couples Yoga" or "Adventure Challenges"',"Set your own intensity progression from gentle to wild","Create themed collections that tell a story or follow a theme","Build niche categories that perfectly match your interests"],color:"warning"},{id:"share-creations",icon:c.jsx(gc,{}),title:"Share & Discover",description:"Import/export tiles to share with others",tips:["Export your best tile collections to share with friends or partners","Import creative tiles from others to expand your game options","Create themed tile packs and share them in communities","Backup your custom tiles by exporting them regularly"],color:"info"}];return c.jsxs(c.Fragment,{children:[c.jsxs(ss,{expanded:e==="help1",onChange:t("help1"),className:"about-accordion",children:[c.jsx(os,{"aria-controls":"help1-content",id:"help1-header",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[c.jsx(Pv,{color:"primary"}),c.jsx(Y,{className:"accordion-title",children:c.jsx(Z,{i18nKey:"ctExplained"})})]})}),c.jsx(ls,{sx:{p:0},children:c.jsx(hc,{dense:!0,children:m.map((p,x)=>c.jsxs(H,{children:[c.jsxs(mc,{sx:{cursor:"pointer",borderRadius:1,"&:hover":{bgcolor:"action.hover",transform:"translateX(4px)",transition:"all 0.2s ease-in-out"},transition:"all 0.2s ease-in-out"},onClick:()=>h(p.id),children:[c.jsx(Zn,{sx:{minWidth:n?36:40},children:c.jsx(H,{sx:{color:`${p.color}.main`,display:"flex",alignItems:"center"},children:p.icon})}),c.jsx(ln,{primary:c.jsx(Y,{variant:"subtitle2",sx:{fontWeight:500,fontSize:n?"0.9rem":"1rem"},children:p.title}),secondary:c.jsx(Y,{variant:"body2",sx:{fontSize:n?"0.8rem":"0.85rem",color:"text.secondary"},children:p.description})}),c.jsx(Xe,{size:"small",sx:{ml:1},children:l[p.id]?c.jsx(Bv,{}):c.jsx(Yl,{})})]}),c.jsx(Nv,{in:l[p.id],timeout:"auto",unmountOnExit:!0,children:c.jsx(H,{sx:{ml:n?4:6,mr:2,mb:1,p:1.5,bgcolor:"action.selected",borderRadius:1,borderLeft:3,borderLeftColor:`${p.color}.main`},children:c.jsxs(Y,{variant:"body2",sx:{fontSize:n?"0.8rem":"0.85rem",fontStyle:"italic",color:"text.secondary"},children:["💡 ",p.tip]})})}),x<m.length-1&&c.jsx(pt,{variant:"inset",sx:{ml:n?4:6}})]},p.id))})})]}),c.jsxs(ss,{expanded:e==="help2",onChange:t("help2"),className:"about-accordion",children:[c.jsx(os,{"aria-controls":"help2-content",id:"help2-header",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[c.jsx(ZE,{color:"primary"}),c.jsx(Y,{className:"accordion-title",children:c.jsx(Z,{i18nKey:"ctIdeas"})})]})}),c.jsx(ls,{sx:{p:0},children:c.jsx(hc,{dense:!0,children:g.map((p,x)=>c.jsxs(H,{children:[c.jsxs(mc,{sx:{cursor:"pointer",borderRadius:1,"&:hover":{bgcolor:"action.hover",transform:"translateX(4px)",transition:"all 0.2s ease-in-out"},transition:"all 0.2s ease-in-out"},onClick:()=>d(p.id),children:[c.jsx(Zn,{sx:{minWidth:n?36:40},children:c.jsx(H,{sx:{color:`${p.color}.main`,display:"flex",alignItems:"center"},children:p.icon})}),c.jsx(ln,{primary:c.jsx(Y,{variant:"subtitle2",sx:{fontWeight:500,fontSize:n?"0.9rem":"1rem"},children:p.title}),secondary:c.jsx(Y,{variant:"body2",sx:{fontSize:n?"0.8rem":"0.85rem",color:"text.secondary"},children:p.description})}),c.jsx(Xe,{size:"small",sx:{ml:1},children:r[p.id]?c.jsx(Bv,{}):c.jsx(Yl,{})})]}),c.jsx(Nv,{in:r[p.id],timeout:"auto",unmountOnExit:!0,children:c.jsx(H,{sx:{ml:n?4:6,mr:2,mb:1,p:1.5,bgcolor:"action.selected",borderRadius:1,borderLeft:3,borderLeftColor:`${p.color}.main`},children:p.tips.map((v,w)=>c.jsx(Y,{variant:"body2",sx:{fontSize:n?"0.8rem":"0.85rem",fontStyle:w===0?"italic":"normal",color:"text.secondary",mb:w<p.tips.length-1?1:0,"&:before":w===0?{content:'"💡 "'}:{content:'"• "'}},children:v},w))})}),x<g.length-1&&c.jsx(pt,{variant:"inset",sx:{ml:n?4:6}})]},p.id))})})]})]})}function Ql({text:e,copiedText:t=null,icon:n=null,tooltip:r=null}){const{t:s}=de(),[l,o]=_.useState(!1),d=t||s("copied"),h=n||c.jsx(i2,{}),m=()=>{navigator.clipboard.writeText(e),o(!0)},g=()=>o(!1);return c.jsxs(c.Fragment,{children:[c.jsx(Bt,{title:r||s("copyToClipboard"),children:c.jsx(Xe,{onClick:m,children:h})}),c.jsx(xr,{open:l,close:g,type:"success",children:d})]})}function GS(e,t,n){const r=`default-${t}-${n}-${e}`;let s=0;for(let o=0;o<r.length;o++){const d=r.charCodeAt(o);s=(s<<5)-s+d,s=s&s}const l=Math.abs(s).toString(16).padStart(8,"0");return`default_${t}_${n}_${e}_${l}`.slice(0,50)}function Ip(e){const t=JSON.parse(JSON.stringify(e)),n=r=>{if(Array.isArray(r))return r.map(n);if(r!==null&&typeof r=="object"){const s={};return Object.keys(r).sort().forEach(l=>{s[l]=n(r[l])}),s}return r};return JSON.stringify(n(t))}async function Pp(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n);return`sha256-${Array.from(new Uint8Array(r)).map(o=>o.toString(16).padStart(2,"0")).join("")}`}async function qS(e){const t=(e.intensities||[]).map(s=>({value:s.value,label:s.label})).sort((s,l)=>s.value-l.value),n={name:e.name,gameMode:e.gameMode,type:e.type,intensities:t},r=Ip(n);return await Pp(r)}async function FS(e,t){const n=(e.tags||[]).sort(),r={action:e.action,groupName:t,intensity:e.intensity,gameMode:"online",tags:n},s=Ip(r);return await Pp(s)}async function _R(e,t,n,r){const l=Ip({action:e,groupName:t,intensity:n,gameMode:r});return await Pp(l)}const jR="2.0.0",r0=100;class km extends Error{constructor(t,n){super(t),this.cause=n,this.name="ImportExportError"}}async function CR(e,t){const n={success:!1,importedGroups:0,importedTiles:0,importedDisabledDefaults:0,skippedItems:0,errors:[],warnings:[]},r=[...new Set(e.data.customGroups.map(m=>m.locale))],s=[...new Set(e.data.customGroups.map(m=>m.gameMode))],l=[];for(const m of r)for(const g of s){const p=await qn({locale:m,gameMode:g});l.push(...p)}const o=new Map(l.map(m=>[m.name,m])),d=new Map(l.map(m=>[m.name,m.id])),h=new Map;for(const m of l){const g=await Pt({group_id:m.id});for(const p of g){const x=`${p.action}_${p.intensity}_${m.id}`;h.set(x,p)}}return{groupMap:o,groupIdMap:d,existingTileMap:h,result:n,importData:e,options:t}}async function kR(e){const t=await qS(e);return{name:e.name,label:e.label,gameMode:e.gameMode,locale:e.locale,type:e.type,intensities:e.intensities.map(n=>({value:n.value,label:n.label})),contentHash:t}}async function TR(e,t){const n=await FS(e,t.name);return{action:e.action,groupName:t.name,intensity:e.intensity,tags:e.tags||[],gameMode:t.gameMode,locale:t.locale,isEnabled:e.isEnabled!==0,contentHash:n}}async function AR(e,t){const n=await _R(e.action,t.name,e.intensity,t.gameMode);return{action:e.action,groupName:t.name,intensity:e.intensity,gameMode:t.gameMode,contentHash:n}}async function ER(e){for(const t of e.importData.data.customGroups)try{const n=e.groupMap.get(t.name);if(n){if(await qS(n)===t.contentHash){e.result.skippedItems++,e.result.warnings.push(`Skipped identical group: ${t.name}`);continue}await sS(n.id,jh(t)),e.result.warnings.push(`Updated existing group: ${t.name}`);continue}const r=await lS(jh(t));if(e.result.importedGroups++,r){const s={...jh(t),id:r,createdAt:new Date,updatedAt:new Date};e.groupMap.set(t.name,s),e.groupIdMap.set(t.name,r)}}catch(n){const r=n instanceof Error?n.message:String(n);e.result.errors.push(`Failed to import group ${t.name}: ${r}`)}}async function MR(e){const t=[];for(let n=0;n<e.importData.data.customTiles.length;n+=r0)t.push(e.importData.data.customTiles.slice(n,n+r0));for(const n of t){const r=[];for(const s of n)try{let l=e.groupIdMap.get(s.groupName),o=e.groupMap.get(s.groupName);if(!l||!o){const m=GS(s.groupName,s.locale,s.gameMode),p=(await qn({locale:s.locale,gameMode:s.gameMode})).find(x=>x.id===m);if(p)l=m,o=p,e.groupIdMap.set(s.groupName,l),e.groupMap.set(s.groupName,o);else{e.result.warnings.push(`Skipped tile for missing group: ${s.groupName} (${s.locale}/${s.gameMode})`);continue}}if(!o.intensities.some(m=>m.value===s.intensity)){e.result.warnings.push(`Skipped tile with invalid intensity ${s.intensity} for group ${s.groupName}`);continue}const d=`${s.action}_${s.intensity}_${l}`,h=e.existingTileMap.get(d);if(h){if(await FS(h,o.name)===s.contentHash){e.result.skippedItems++,e.result.warnings.push(`Skipped identical tile: ${s.action}`);continue}if(h.id!==void 0){await Jr(h.id,a0(s,l)),e.result.warnings.push(`Updated existing tile: ${s.action}`);continue}}r.push({data:a0(s,l),tile:s})}catch(l){const o=l instanceof Error?l.message:String(l);e.result.errors.push(`Failed to import tile ${s.action}: ${o}`)}for(const{data:s,tile:l}of r)try{await Ep(s),e.result.importedTiles++}catch(o){const d=o instanceof Error?o.message:String(o);e.result.errors.push(`Failed to add tile ${l.action}: ${d}`)}}}async function RR(e){for(const t of e.importData.data.disabledDefaultTiles)try{let n=e.groupIdMap.get(t.groupName);if(!n){const s=GS(t.groupName,"en",t.gameMode),o=(await qn({locale:"en",gameMode:t.gameMode})).find(d=>d.id===s);if(o)n=s,e.groupIdMap.set(t.groupName,n),e.groupMap.set(t.groupName,o);else{e.result.warnings.push(`Skipped disabled default for missing group: ${t.groupName}`);continue}}const r=await Pt({group_id:n,isCustom:0,intensity:t.intensity,action:t.action});if(r.length>0){const s=r[0];s.id!==void 0&&(await Jr(s.id,{...s,isEnabled:0}),e.result.importedDisabledDefaults++)}else e.result.warnings.push(`Default tile not found to disable: ${t.action} (${t.groupName})`)}catch(n){const r=n instanceof Error?n.message:String(n);e.result.errors.push(`Failed to disable default tile ${t.action}: ${r}`)}}function jh(e){return{name:e.name,label:e.label,intensities:e.intensities.map((t,n)=>({id:`${e.name}-${t.value}`,label:t.label,value:t.value,isDefault:!1})),type:e.type,isDefault:!1,locale:e.locale,gameMode:e.gameMode}}function a0(e,t){return{group_id:t,intensity:e.intensity,action:e.action,tags:e.tags,isEnabled:e.isEnabled?1:0,isCustom:1}}function LR(e){return e&&typeof e=="object"&&e.formatVersion&&e.data&&Array.isArray(e.data.customGroups)&&Array.isArray(e.data.customTiles)}async function Gc(e={},t){try{const{includeDisabledDefaults:n=!1,singleGroupName:r}=e,s="en",l="online";t==null||t("Analyzing exportable data",0,100);const o=await qn({locale:s,gameMode:l,isDefault:!1}),d=await Pt({isCustom:1}),h=n?await Pt({isCustom:0,isEnabled:0}):[],m=new Set(o.map(N=>N.id)),g=new Set(d.map(N=>N.group_id).filter(Boolean)),p=new Set(h.map(N=>N.group_id).filter(Boolean)),x=new Set([...m,...g,...p]),w=(await qn({locale:s,gameMode:l})).filter(N=>x.has(N.id)),S=r?w.filter(N=>N.name===r):w,k=new Map(S.map(N=>[N.id,N])),C=new Set(S.map(N=>N.id));t==null||t("Processing groups",20,100);const A=[];for(const N of S.filter(q=>!q.isDefault))A.push(await kR(N));t==null||t("Processing custom tiles",50,100);const j=[],R=d.filter(N=>N.group_id&&C.has(N.group_id));for(const N of R){const q=k.get(N.group_id);q&&j.push(await TR(N,q))}t==null||t("Processing disabled defaults",80,100);const M=[],E=h.filter(N=>N.group_id&&C.has(N.group_id));for(const N of E){const q=k.get(N.group_id);q&&M.push(await AR(N,q))}const O={formatVersion:jR,exportedAt:new Date().toISOString(),data:{customGroups:A,customTiles:j,disabledDefaultTiles:M}};return t==null||t("Finalizing export",100,100),JSON.stringify(O,null,2)}catch(n){throw new km("Export failed",n)}}async function DR(e,t={},n){var r,s;try{let l;if(typeof e=="string"?l=JSON.parse(e):l=e,!LR(l))throw new km("Invalid import data format");const o={validateContent:(r=t.validateContent)!=null?r:!0,preserveDisabledDefaults:(s=t.preserveDisabledDefaults)!=null?s:!1};n==null||n("Preparing import",0,100);const d=await CR(l,o);return n==null||n("Importing groups",25,100),await ER(d),n==null||n("Importing tiles",75,100),await MR(d),o.preserveDisabledDefaults&&l.data.disabledDefaultTiles.length>0&&(n==null||n("Importing disabled defaults",85,100),await RR(d)),d.result.success=d.result.errors.length===0,n==null||n("Import complete",100,100),d.result}catch(l){throw new km("Import failed",l)}}async function Tm(e,t,n){return ei.customGroups.where("[name+locale+gameMode]").between(["",e,t],["￿",e,t]).toArray()}async function OR(e="en",t="online",n=!1,r="all"){const s=r==="disabled"?[]:(await Tm(e,t)).filter(S=>!S.isDefault),l=r==="disabled"?[]:await Pt({isCustom:1}),o=await(async()=>r==="disabled"?await Pt({isCustom:0,isEnabled:0}):r==="custom"?[]:n?await Pt({isCustom:0,isEnabled:0}):[])(),d=new Set(s.map(S=>S.id)),h=new Set(l.map(S=>S.group_id).filter(Boolean)),m=new Set(o.map(S=>S.group_id).filter(Boolean)),g=new Set([...d,...h,...m]),v=(await Tm(e,t)).filter(S=>g.has(S.id)).filter((S,k,C)=>C.findIndex(A=>A.name===S.name)===k),w=[];for(const S of v){let k=0,C=0,A=0;r!=="disabled"&&!S.isDefault&&(k=1),r!=="disabled"&&(C=l.filter(R=>R.group_id===S.id).length),r!=="custom"&&(A=o.filter(R=>R.group_id===S.id).length);const j=k+C+A;j>0&&w.push({name:S.name,label:S.label||S.name,exportCount:{customGroups:k,customTiles:C,disabledDefaults:A,total:j}})}return w.sort((S,k)=>S.exportCount.total!==k.exportCount.total?k.exportCount.total-S.exportCount.total:S.name.localeCompare(k.name))}async function zR(e="en",t="online",n={}){try{const r={singleGroupName:n.singleGroup,includeDisabledDefaults:!1};return await Gc(r)}catch(r){const s=r instanceof Error?r.message:String(r);throw new Error(`Export failed: ${s}`)}}async function NR(e,t="en",n="online"){return Gc({singleGroupName:e,includeDisabledDefaults:!0})}async function IR(e="en",t="online"){try{const n=await zR(e,t,{exportScope:"all"}),r=JSON.parse(n);return r.data.disabledDefaultTiles=[],JSON.stringify(r,null,2)}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`Export failed: ${r}`)}}async function PR(e="en",t="online"){try{const r=await Gc({includeDisabledDefaults:!0}),s=JSON.parse(r);return s.data.customGroups=[],s.data.customTiles=[],JSON.stringify(s,null,2)}catch(n){const r=n instanceof Error?n.message:String(n);throw new Error(`Export failed: ${r}`)}}function BR({expanded:e,handleChange:t,customTiles:n,mappedGroups:r,setSubmitMessage:s,bulkImport:l,onImportSuccess:o}){const d=_.useRef(null),{t:h}=de(),{settings:m}=_p(),[g,p]=_.useState(""),[x,v]=_.useState(null),[w,S]=_.useState("all"),[k,C]=_.useState(""),[A,j]=_.useState([]),[R,M]=_.useState(new Map),E=D=>{const P=[];return D.customGroups>0&&P.push(`${D.customGroups} ${D.customGroups===1?"group":"groups"}`),D.customTiles>0&&P.push(`${D.customTiles} ${D.customTiles===1?"tile":"tiles"}`),D.disabledDefaults>0&&P.push(`${D.disabledDefaults} disabled`),P.length>0?`(${P.join(", ")})`:""},O=_.useCallback(async()=>{try{let D;const P=m.locale||"en",G=m.gameMode||"online";switch(w){case"single":if(!k){s({message:h("errors.selectGroupToExport"),type:"error"});return}D=await NR(k,P,G);break;case"custom":D=await IR(P,G);break;case"disabled":D=await PR(P,G);break;default:D=await Gc({includeDisabledDefaults:!0});break}p(D),s({message:"Export successful!",type:"success"})}catch(D){console.error("Error exporting data:",D),s({message:`Export failed: ${D instanceof Error?D.message:String(D)}`,type:"error"})}},[w,k,m.locale,m.gameMode,s,h]);async function N(D){if(!D.current)return;const G=D.current.importData.value;if(!G.trim())return s({type:"error",message:h("enterDataToImport")});try{s({type:"info",message:"Importing data..."});const K=await DR(G,{validateContent:!0,preserveDisabledDefaults:!0});if(v(K),K.success){if(K.importedTiles>0){const ne=await Pt({isCustom:1}),$=await qn({}),U=new Map($.map(W=>[W.id,W]));ne.slice(-K.importedTiles).forEach(async W=>{const ae=U.get(W.group_id||""),z=(ae==null?void 0:ae.name)||"Unknown Group",ce=ae==null?void 0:ae.intensities.find(I=>I.value===W.intensity),fe=(ce==null?void 0:ce.label)||`Level ${W.intensity+1}`;oS(`${z} - ${fe}`,W.action)})}let F="Import successful!";K.importedGroups>0&&(F+=` Imported ${K.importedGroups} groups.`),K.importedTiles>0&&(F+=` Imported ${K.importedTiles} tiles.`),K.importedDisabledDefaults>0&&(F+=` Imported ${K.importedDisabledDefaults} disabled defaults.`),K.skippedItems>0&&(F+=` Skipped ${K.skippedItems} items.`),s({type:"success",message:F}),await O(),o==null||o()}else s({type:"error",message:`Import failed: ${K.errors.join(", ")}`})}catch(K){console.error("Import error:",K),s({type:"error",message:`Import failed: ${K.message||K}`}),v(null)}}const q=_.useCallback(async()=>{try{const D=w==="single"||w==="all",P=await Tm(m.locale||"en","online"),G=new Map;P.forEach(F=>{G.set(F.name,F.id)}),M(G);const K=await OR(m.locale||"en","online",D,w);j(K)}catch(D){console.error("Error loading available groups:",D)}},[m.locale,w]);return _.useEffect(()=>{e==="ctImport"&&(q(),O())},[e,n,O,q,w]),c.jsxs(ss,{expanded:e==="ctImport",onChange:t("ctImport"),className:"about-accordion",children:[c.jsx(os,{"aria-controls":"ctImport-content",id:"ctImport-header",children:c.jsx(Y,{className:"accordion-title",children:c.jsx(Z,{i18nKey:"importExport"})})}),c.jsx(ls,{children:c.jsxs(H,{component:"form",method:"post",className:"settings-box",ref:d,children:[c.jsxs(ut,{fullWidth:!0,sx:{mb:2},children:[c.jsx(gt,{children:h("export.scope")}),c.jsxs(ct,{value:w,onChange:D=>S(D.target.value),label:h("export.scope"),children:[c.jsx(ge,{value:"all",children:h("exportScope.all")}),c.jsx(ge,{value:"custom",children:h("exportScope.custom")}),c.jsx(ge,{value:"single",children:h("exportScope.single")}),c.jsx(ge,{value:"disabled",children:h("exportScope.disabled")})]})]}),w==="single"&&c.jsxs(ut,{fullWidth:!0,sx:{mb:2},children:[c.jsx(gt,{children:h("export.selectGroup")}),c.jsx(ct,{value:k,onChange:D=>C(D.target.value),label:h("export.selectGroup"),children:A.map((D,P)=>c.jsxs(ge,{value:D.name,children:[D.label," ",E(D.exportCount)]},R.get(D.name)||`${D.name}-${m.locale}-${m.gameMode}-${P}`))})]}),c.jsx(Ge,{name:"importData",label:h("importExport"),multiline:!0,rows:8,fullWidth:!0,variant:"outlined",placeholder:h("placeholder.importData"),value:g,onChange:D=>p(D.target.value),sx:{mb:2}}),c.jsxs(H,{sx:{display:"flex",gap:2,mb:2},children:[c.jsx(he,{variant:"contained",onClick:()=>N(d),children:h("import")}),c.jsx(Ql,{text:g})]}),x&&c.jsxs(H,{sx:{mt:2},children:[c.jsx(Ct,{severity:x.success?"success":"error",children:x.success?h("importMessages.importSuccess"):h("importMessages.importFailed")}),x.warnings.length>0&&c.jsxs(Ct,{severity:"warning",sx:{mt:1},children:[c.jsx(Y,{variant:"subtitle2",children:"Warnings:"}),x.warnings.map((D,P)=>c.jsxs(Y,{variant:"body2",children:["• ",D]},P))]}),x.errors.length>0&&c.jsxs(Ct,{severity:"error",sx:{mt:1},children:[c.jsx(Y,{variant:"subtitle2",children:"Errors:"}),x.errors.map((D,P)=>c.jsxs(Y,{variant:"body2",children:["• ",D]},P))]})]})]})})]})}function UR(e){return Object.entries(e).flatMap(([t,{label:n,actions:r}])=>r?Object.keys(r).filter(l=>l!==BS).map((l,o)=>({group:gM(t),groupLabel:n,value:t,intensity:Number(o+1),translatedIntensity:l,label:`${n} - ${l}`})):[])}function $R({gameMode:e,groupFilter:t,intensityFilter:n,groups:r,mappedGroups:s,dexieGroups:l,onGameModeChange:o,onGroupChange:d,onIntensityChange:h,hideAll:m=!1,sx:g={}}){const{t:p}=de(),[x,v]=_.useState([]),w=_.useMemo(()=>{if(!(s!=null&&s[e]))return[];const j=UR(s[e]);return Array.isArray(j)?j:[]},[s,e]),S=_.useCallback(j=>{if(l!=null&&l[j])return l[j].label||j;const R=w.find(M=>M.value===j);return R!=null&&R.groupLabel?R.groupLabel:j},[l,w]);_.useEffect(()=>{let j=[];l&&Object.keys(l).length>0?j=Object.keys(l):r&&Object.keys(r).length>0&&(j=Object.keys(r)),v(j)},[r,l,e]);function k(j){const R=j.target.value;d(R)}if(!(x!=null&&x.length))return null;const C=x.length===0||x.includes(t)?t:"",A=n==="all"?"all":n;return c.jsxs(H,{sx:{display:"flex",flexWrap:"wrap",gap:2,...g},children:[c.jsxs(ut,{sx:{width:125,flexShrink:0},children:[c.jsx(gt,{id:"game-mode-filter-label",children:c.jsx(Z,{i18nKey:"customTiles.gameMode"})}),c.jsxs(ct,{labelId:"game-mode-filter-label",id:"game-mode-filter",value:e,label:p("customTiles.gameMode","Game Mode"),onChange:j=>{o(j.target.value)},slotProps:{input:{"aria-label":p("customTiles.gameMode","Game Mode")}},children:[c.jsx(ge,{value:"online",children:c.jsx(Z,{i18nKey:"gameMode.online"})}),c.jsx(ge,{value:"local",children:c.jsx(Z,{i18nKey:"gameMode.local"})})]})]}),c.jsxs(ut,{sx:{minWidth:150,flex:1},children:[c.jsx(gt,{id:"group-filter-label",children:c.jsx(Z,{i18nKey:"group"})}),c.jsx(ct,{labelId:"group-filter-label",id:"group-filter",value:C,label:p("group"),onChange:k,slotProps:{input:{"aria-label":p("group")}},children:x.map(j=>c.jsxs(ge,{value:j,children:[S(j),!m&&r&&r[j]&&` (${r[j].count})`]},j))})]}),c.jsxs(ut,{sx:{minWidth:200,flex:1},disabled:!C,children:[c.jsx(gt,{id:"intensity-filter-label",children:c.jsx(Z,{i18nKey:"customTiles.intensityLevel",children:"Intensity Level"})}),c.jsxs(ct,{labelId:"intensity-filter-label",id:"intensity-filter",value:A,label:p("customTiles.intensityLevel","Intensity Level"),onChange:j=>h(j.target.value),slotProps:{input:{"aria-label":p("customTiles.intensityLevel","Intensity Level")}},children:[!m&&c.jsx(ge,{value:"all",children:c.jsx(Z,{i18nKey:"all",children:"All"})},"all"),C&&l&&l[C]&&l[C].intensities.sort((j,R)=>j.value-R.value).map(j=>{const R=r&&r[C]&&r[C].intensities&&r[C].intensities[j.value]||0;return c.jsxs(ge,{value:j.value,children:[j.label,m?"":` (${R})`]},j.value)})]})]})]})}function VR({tagList:e,boardUpdated:t,mappedGroups:n,updateTile:r,refreshTrigger:s,sharedFilters:l,setSharedFilters:o}){var d,h,m,g;const{t:p,i18n:x}=de(),{settings:v}=_p(),[w,S]=_.useState(null),k=l.gameMode,C=l.groupName,A=l.intensity||"all",[j,R]=_.useState(1),[M,E]=_.useState(!0),[O,N]=_.useState({items:[],total:0,totalPages:1}),[q,D]=_.useState({}),[P,G]=_.useState({}),K=10;_.useEffect(()=>{async function ce(){try{E(!0);const[fe,I]=await Promise.all([aS(x.resolvedLanguage,k),Ap(x.resolvedLanguage,k,w)]),Se={};fe.forEach(Oe=>{Se[Oe.name]=Oe}),G(Se);const Ee={};fe.forEach(Oe=>{const it=I[Oe.id]||I[Oe.name]||{count:0,intensities:{}};Ee[Oe.name]={label:Oe.label||Oe.name,count:it.count,intensities:it.intensities}}),D(Ee);const Te=fe.map(Oe=>Oe.name),Ze=Te.includes(C);if((!C||!Ze)&&Te.length>0)o({...l,groupName:Te[0],intensity:""});else if(Ze&&A!=="all"){const Oe=fe.find(it=>it.name===C);Oe&&(Oe.intensities.map(En=>En.value).includes(Number(A))||o({...l,intensity:""}))}}catch(fe){console.error("Error loading groups and counts:",fe)}finally{E(!1)}}ce()},[k,x.resolvedLanguage,w,C,A,o,l]),_.useEffect(()=>{let ce=!0;async function fe(){var I;try{E(!0);const Te={group:((I=P[C])==null?void 0:I.id)||C,tag:w,intensity:A==="all"||A===""?null:A,page:j,limit:K,paginated:!0},Ze=await ym(Te);ce&&(N(Ze),setTimeout(()=>{ce&&E(!1)},300))}catch(Se){console.error("Error loading tiles:",Se),ce&&E(!1)}}return C&&Object.keys(P).length>0?fe():E(!1),()=>{ce=!1}},[C,A,w,k,j,K,s,v.locale,P]);function F(ce){E(!0),S(w===ce?null:ce)}function ne(ce,fe){E(!0),R(fe)}async function $(ce){var fe;await Mp(ce),t();const Se={group:((fe=P[C])==null?void 0:fe.id)||C,tag:w,intensity:A==="all"||A===""?null:A,page:j,limit:K,paginated:!0},Ee=await ym(Se);N(Ee)}async function U(ce){await yS(ce),t(),N(fe=>({...fe,items:fe.items.map(I=>I.id===ce?{...I,isEnabled:!I.isEnabled}:I)}))}function W(ce){r(ce);const fe=document.querySelector(".MuiDialogContent-root");fe&&(fe.scrollTop=0)}function ae(ce,fe){const I=Object.entries(P).find(([Se,Ee])=>Ee.id===ce);if(I){const[Se,Ee]=I,Te=Ee.label||Se,Ze=Ee.intensities.find(it=>it.value===Number(fe)),Oe=(Ze==null?void 0:Ze.label)||`Level ${Number(fe)+1}`;return`${Te} - ${Oe}`}return`Unknown Group - Level ${Number(fe)+1}`}const z=(d=O.items)==null?void 0:d.map(({id:ce,group_id:fe,intensity:I,action:Se,tags:Ee,isEnabled:Te=!0,isCustom:Ze=!0})=>c.jsxs(mt,{sx:{my:2},children:[c.jsx(fc,{title:Se,slotProps:{title:{variant:"body1"},subheader:{variant:"body2"},action:{"aria-label":p("customTiles.actions")}},subheader:ae(fe||"",I),action:c.jsxs(c.Fragment,{children:[c.jsx(Ni,{checked:!!Te,onChange:()=>ce!==void 0&&U(ce),slotProps:{input:{"aria-label":p("customTiles.toggleTile")}}}),!!Ze&&c.jsxs(c.Fragment,{children:[c.jsx(Xe,{onClick:()=>ce!==void 0&&W(ce),"aria-label":p("customTiles.update"),children:c.jsx(Nc,{})}),c.jsx(Xe,{onClick:()=>ce!==void 0&&$(ce),"aria-label":p("customTiles.delete"),children:c.jsx(hs,{})})]})]}),sx:{pb:0}}),c.jsx(BA,{children:Ee==null?void 0:Ee.map(Oe=>c.jsx(nt,{label:Oe==="default"?p("default"):Oe,sx:{m:.5}},Oe))})]},ce));return c.jsxs(H,{children:[c.jsx(H,{children:e==null?void 0:e.map(ce=>c.jsx(nt,{label:ce,sx:{m:.5},color:w===ce?"primary":"default",onClick:()=>F(ce)},ce))}),c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:2,my:2,transition:"all 0.3s ease-in-out"},children:c.jsx($R,{gameMode:k,groupFilter:C,intensityFilter:A,groups:q,mappedGroups:n,dexieGroups:P,onGameModeChange:ce=>{o({gameMode:ce,groupName:"",intensity:""}),R(1)},onGroupChange:ce=>{const fe={...l,groupName:ce,intensity:""};o(fe),R(1)},onIntensityChange:ce=>{o({...l,intensity:ce==="all"?"":ce.toString()}),R(1)}})}),c.jsxs(H,{sx:{position:"relative",minHeight:"200px"},children:[c.jsx(vp,{in:M,timeout:300,children:c.jsx(H,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0)",zIndex:1,borderRadius:1},children:c.jsx(kn,{})})}),c.jsx(H,{sx:{opacity:M?.3:1,transition:"opacity 0.3s ease-in-out",pointerEvents:M?"none":"auto"},children:((h=O.items)==null?void 0:h.length)===0?c.jsx(Y,{variant:"body1",sx:{textAlign:"center",my:4},children:c.jsx(Z,{i18nKey:"customTiles.noTilesFound",children:"No tiles found with the selected filters."})}):c.jsxs(c.Fragment,{children:[z,O.totalPages>1&&c.jsx(H,{sx:{display:"flex",justifyContent:"center",mt:3,mb:2},children:c.jsx(UA,{count:O.totalPages,page:j,onChange:ne,color:"primary"})}),c.jsx(Y,{variant:"body2",sx:{textAlign:"center",mt:2,color:"text.secondary"},children:c.jsxs(Z,{i18nKey:"customTiles.showingTiles",values:{shown:((m=O.items)==null?void 0:m.length)||0,total:O.total},children:["Showing ",{shown:((g=O.items)==null?void 0:g.length)||0}," of ",{total:O.total}," tiles"]})})]})})]})]})}function HS({boardUpdated:e,setOpen:t,open:n=!1}){const{t:r,i18n:s}=de(),l=un(),o=un("md"),[d,h]=_.useState({message:"",type:"info"}),[m,g]=_.useState("ctAdd"),[p,x]=_.useState(null),[v,w]=_.useState(0),[S,k]=_.useState({online:{},local:{},solo:{}}),[C,A]=_.useState(!0),[j,R]=_.useState({gameMode:"online",groupName:"",intensity:""}),M=_.useCallback(()=>{w(P=>P+1)},[]),E=P=>(G,K)=>{g(K?P:"")};_.useEffect(()=>{async function P(){A(!0);try{const[G,K,F]=await Promise.all([Ll(s.resolvedLanguage,"online"),Ll(s.resolvedLanguage,"local"),Ll(s.resolvedLanguage,"solo")]);k({online:G,local:K,solo:F})}catch(G){console.error("Error loading game mode actions:",G)}finally{A(!1)}}P()},[s.resolvedLanguage]);const O=hi(()=>Pt({locale:s.resolvedLanguage})),N=_.useMemo(()=>O?Array.isArray(O)?O.map(({tags:P})=>P).flat().filter((P,G,K)=>P&&K.indexOf(P)===G).sort():[]:[],[O]),q=_.useCallback(async P=>{await pS(P),e(),M()},[e,M]);if(!O||C)return null;const D=()=>{const P=c.jsxs(c.Fragment,{children:[c.jsx(SR,{expanded:m,handleChange:E}),c.jsx(wR,{setSubmitMessage:h,boardUpdated:()=>{e(),M()},customTiles:O,mappedGroups:S,expanded:m,handleChange:E,tagList:N,updateTileId:p,setUpdateTileId:x,sharedFilters:j,setSharedFilters:R}),c.jsx(BR,{expanded:m,handleChange:E,customTiles:O,mappedGroups:S,setSubmitMessage:h,bulkImport:q,onImportSuccess:M})]}),G=c.jsx(H,{children:c.jsx(VR,{tagList:N,boardUpdated:()=>{e(),M()},mappedGroups:S,updateTile:K=>{x(K),g("ctAdd")},refreshTrigger:v,sharedFilters:j,setSharedFilters:R})});return o?c.jsxs(c.Fragment,{children:[P,G&&c.jsxs(c.Fragment,{children:[c.jsx(pt,{sx:{my:2}}),G]})]}):c.jsxs(ke,{container:!0,spacing:2,children:[c.jsx(ke,{size:{xs:12,md:6},children:P}),c.jsx(ke,{size:{xs:12,md:6},children:G})]})};return c.jsxs(c.Fragment,{children:[c.jsxs(qt,{fullScreen:l,open:n,onClose:()=>t(!1),maxWidth:o?"sm":"lg",fullWidth:!0,disableRestoreFocus:!0,children:[c.jsxs(Zt,{children:[c.jsx(Z,{i18nKey:"manageTiles"}),c.jsx(Xe,{"aria-label":r("close"),onClick:()=>t(!1),sx:{position:"absolute",right:8,top:8,color:P=>P.palette.grey[500]},children:c.jsx(Cp,{})})]}),c.jsx(Ft,{children:D()})]}),c.jsx(xr,{open:!!d.message,close:()=>h({message:"",type:"info"}),type:d.type,children:d.message})]})}function GR({formData:e,setFormData:t}){const{t:n}=de(),r=s=>{const l=s.target.value.trim();t({...e,roomBackgroundURL:l,roomUpdated:!0})};return c.jsx(Ge,{sx:{mt:2},label:n("roomBackgroundURL"),value:(e==null?void 0:e.roomBackgroundURL)||"",fullWidth:!0,onChange:r,helperText:n("supportedSites"),placeholder:n("roomBackgroundPlaceholder"),type:"url",inputMode:"url",autoComplete:"off",spellCheck:!1,autoCapitalize:"none"})}function qR({formData:e,setFormData:t}){const{t:n}=de(),r={"1d4":2.5,"1d6":3.5,"2d4":5},s=e!=null&&e.roomTileCount?Math.floor(e.roomTileCount/r[e.roomDice||"1d6"]):16,l=Array.from({length:7},(o,d)=>(d+2)*10).map(o=>c.jsx(ge,{value:o,children:o},o));return c.jsxs(H,{children:[c.jsx(Y,{variant:"subtitle1",sx:{mb:2,fontWeight:"medium"},children:c.jsx(Z,{i18nKey:"gameSpeed"})}),c.jsxs(H,{sx:{display:"flex",gap:2,alignItems:"flex-end",flexWrap:"wrap"},children:[c.jsxs(ut,{sx:{minWidth:120,flex:1},children:[c.jsx(gt,{id:"diceRole-label",children:c.jsx(Z,{i18nKey:"roomDice"})}),c.jsxs(ct,{labelId:"diceRole-label",id:"diceRole-select",value:(e==null?void 0:e.roomDice)||"1d4",label:n("roomDice"),onChange:o=>t({...e,roomDice:o.target.value,roomUpdated:!0}),children:[c.jsx(ge,{value:"1d4",children:"1d4"}),c.jsx(ge,{value:"1d6",children:"1d6"}),c.jsx(ge,{value:"2d4",children:"2d4"})]})]}),c.jsxs(ut,{sx:{minWidth:120,flex:1},children:[c.jsx(gt,{id:"tile-count-label",children:c.jsx(Z,{i18nKey:"roomTileCount"})}),c.jsx(ct,{labelId:"tile-count-label",id:"tile-count-select",value:String((e==null?void 0:e.roomTileCount)||40),label:n("roomTileCount"),onChange:o=>t({...e,roomTileCount:Number(o.target.value),roomUpdated:!0}),children:l})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mb:1},children:c.jsx(Z,{i18nKey:"averageRolls"})}),c.jsx(nt,{label:s,color:"primary",variant:"outlined",sx:{minWidth:50,fontWeight:"bold"}})]})]})]})}function FR({formData:e,setFormData:t}){const n=_.useCallback(()=>{t({...e,roomRealtime:!e.roomRealtime,roomUpdated:!0})},[e,t]);return c.jsxs(H,{children:[c.jsx(Y,{variant:"subtitle1",sx:{mb:2,fontWeight:"medium"},children:c.jsx(Z,{i18nKey:"playerListOptions"})}),c.jsx(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs(It,{direction:"row",spacing:2,alignItems:"center",children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(Y,{variant:"body2",color:"text.secondary",children:c.jsx(Z,{i18nKey:"realtime"})}),c.jsx(Bt,{title:c.jsx(Y,{variant:"subtitle2",children:c.jsx(Z,{i18nKey:"realtimeTooltip"})}),arrow:!0,children:c.jsx(mi,{sx:{fontSize:16,color:"text.secondary"}})})]}),c.jsx(Fl,{control:c.jsx(Ni,{checked:!!e.roomRealtime,onChange:n,inputProps:{"aria-label":Pe("playerList")}}),label:"",sx:{margin:0}}),c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(Y,{variant:"body2",color:"text.secondary",children:c.jsx(Z,{i18nKey:"delayed"})}),c.jsx(Bt,{title:c.jsx(Y,{variant:"subtitle2",children:c.jsx(Z,{i18nKey:"delayedTooltip"})}),arrow:!0,children:c.jsx(mi,{sx:{fontSize:16,color:"text.secondary"}})})]})]})})]})}function HR({formData:e,setFormData:t}){var n;const{id:r}=Ht(),{t:s}=de(),l=g=>{let p;g.target.checked&&Je(r)?p=uS("123456789ABCDEFGHJKLMNPQRSTUVWXYZ",5)():r&&g.target.checked&&!Je(r)?p=r:p="PUBLIC",t({...e,room:p.toUpperCase(),gameMode:Je(p)?"online":e.gameMode})},o=_.useCallback(g=>{t({...e,room:g.currentTarget.value,boardUpdated:!0})},[e,t]),d=_.useCallback(g=>{g.key==="Enter"&&t({...e,room:g.currentTarget.value,boardUpdated:!0})},[e,t]),h=_.useCallback(g=>{const p=g.target.value.toUpperCase();g.target.value=p},[]),m=!Je(e.room);return c.jsxs(c.Fragment,{children:[c.jsxs(It,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",sx:{width:"100%"},children:[c.jsx(Y,{children:c.jsx(Z,{i18nKey:"public"})}),c.jsx(Ni,{id:"showPrivate",checked:m,onChange:l,slotProps:{input:{"aria-label":s("room")}}}),c.jsx(Y,{children:c.jsx(Z,{i18nKey:"private"})}),c.jsx(Bt,{title:c.jsx(Y,{variant:"subtitle2",children:c.jsx(Z,{i18nKey:"privateOptions"})}),arrow:!0,children:c.jsx(mi,{sx:{fontSize:15}})})]}),m&&c.jsx(Ge,{fullWidth:!0,id:"privateRoom",label:s("privateRoom"),defaultValue:(n=e.room)==null?void 0:n.toUpperCase(),margin:"normal",onBlur:o,onKeyDown:d,onChange:h,inputProps:{style:{textTransform:"uppercase"}}})]})}const KR=Mc(wt)(`
  &:last-child {
    padding-bottom: 8px;
  }
`);function YR({player:e,index:t,isActive:n,canEdit:r=!0,canDelete:s=!0,onEdit:l,onDelete:o,onRoleChange:d}){const{t:h}=de(),[m,g]=_.useState(null),[p,x]=_.useState(null),v=E=>{g(E.currentTarget)},w=()=>{g(null)},S=E=>{E.stopPropagation(),x(E.currentTarget)},k=()=>{x(null)},C=()=>{w(),l==null||l(e)},A=()=>{w(),o==null||o(e.id)},j=E=>{k(),d==null||d(e.id,E)},R=E=>E.split(" ").map(O=>O.charAt(0)).join("").toUpperCase().slice(0,2)||"P",M=E=>{switch(E){case"dom":return"primary";case"sub":return"secondary";case"vers":return"default";default:return"default"}};return c.jsxs(mt,{sx:{border:n?"2px solid":"1px solid",borderColor:n?"primary.main":"divider",bgcolor:n?"action.selected":"background.paper",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",elevation:2}},children:[c.jsx(KR,{children:c.jsxs(H,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[c.jsx(wp,{sx:{bgcolor:n?"primary.main":"grey.500",marginTop:.5,width:24,height:24,fontWeight:"bold"},children:R(e.name)}),c.jsx(H,{sx:{flexGrow:1,minWidth:0},children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[c.jsx(Y,{variant:"h6",component:"h3",sx:{fontWeight:n?600:500,color:n?"primary.main":"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexGrow:1},children:e.name||h("localPlayers.defaultPlayerName",{number:t+1})}),c.jsx(nt,{label:h(`roles.${e.role}`),size:"small",variant:"outlined",color:M(e.role),onClick:r?S:void 0,sx:{cursor:r?"pointer":"default","&:hover":r?{bgcolor:"action.hover"}:{}}}),n&&c.jsx(nt,{label:h("localPlayers.currentPlayer"),size:"small",color:"primary",icon:c.jsx(r2,{})})]})}),(r||s)&&c.jsx(Xe,{size:"small",onClick:v,"aria-label":h("localPlayers.playerActions",{name:e.name}),children:c.jsx(dS,{})})]})}),c.jsxs(dc,{anchorEl:m,open:!!m,onClose:w,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[r&&c.jsxs(ge,{onClick:C,children:[c.jsx(Zn,{children:c.jsx(Nc,{fontSize:"small"})}),c.jsx(ln,{children:h("localPlayers.editPlayer")})]}),s&&c.jsxs(ge,{onClick:A,sx:{color:"error.main"},children:[c.jsx(Zn,{children:c.jsx(hs,{fontSize:"small",sx:{color:"error.main"}})}),c.jsx(ln,{children:h("localPlayers.deletePlayer")})]})]}),c.jsx(dc,{anchorEl:p,open:!!p,onClose:k,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},children:["dom","sub","vers"].map(E=>c.jsx(ge,{onClick:()=>j(E),selected:e.role===E,children:c.jsx(nt,{label:h(`roles.${E}`),size:"small",variant:e.role===E?"filled":"outlined",color:M(E)})},E))})]})}const KS=[{id:"tritone",name:"Tri-tone",frequency:1318,type:"sine",duration:400,category:"classic",frequencies:[1318,1568,1175]},{id:"rebound",name:"Rebound",frequency:800,type:"triangle",duration:350,category:"classic"},{id:"chime",name:"Chime",frequency:1e3,type:"sine",duration:500,category:"classic",frequencies:[1e3,1200,1400]},{id:"boop",name:"Boop",frequency:600,type:"sine",duration:150,category:"classic"},{id:"breeze",name:"Breeze",frequency:400,type:"triangle",duration:600,category:"classic",frequencies:[400,500,600,500]},{id:"pong",name:"Pong",frequency:1100,type:"square",duration:200,category:"classic"},{id:"glass",name:"Glass",frequency:1800,type:"sine",duration:300,category:"classic",frequencies:[1800,1600,1400]},{id:"funk",name:"Funk",frequency:220,type:"sawtooth",duration:400,category:"classic"}],YS=[{id:"c4",name:"C Note",frequency:261.63,type:"sine",duration:300,category:"musical"},{id:"d4",name:"D Note",frequency:293.66,type:"sine",duration:300,category:"musical"},{id:"e4",name:"E Note",frequency:329.63,type:"sine",duration:300,category:"musical"},{id:"f4",name:"F Note",frequency:349.23,type:"sine",duration:300,category:"musical"},{id:"g4",name:"G Note",frequency:392,type:"sine",duration:300,category:"musical"},{id:"ascending",name:"Ascending",frequency:261.63,type:"triangle",duration:800,category:"musical",frequencies:[261.63,293.66,329.63,349.23]},{id:"descending",name:"Descending",frequency:523.25,type:"triangle",duration:800,category:"musical",frequencies:[523.25,466.16,415.3,369.99]},{id:"chord",name:"Major Chord",frequency:261.63,type:"sine",duration:600,category:"musical",frequencies:[261.63,329.63,392]},{id:"arpeggio",name:"Arpeggio",frequency:261.63,type:"triangle",duration:1e3,category:"musical",frequencies:[261.63,329.63,392,523.25]}],XS=[{id:"bell",name:"Bell",frequency:800,type:"sine",duration:200,category:"notification"},{id:"ding",name:"Ding",frequency:1200,type:"square",duration:150,category:"notification"},{id:"chirp",name:"Chirp",frequency:1500,type:"sine",duration:80,category:"notification"},{id:"beep",name:"Beep",frequency:600,type:"sine",duration:100,category:"notification"},{id:"tick",name:"Tick",frequency:2e3,type:"square",duration:50,category:"notification"},{id:"ping",name:"Ping",frequency:1800,type:"triangle",duration:120,category:"notification"},{id:"bubble",name:"Bubble",frequency:800,type:"sine",duration:200,category:"notification",frequencies:[800,1200]},{id:"pop",name:"Pop",frequency:1e3,type:"square",duration:80,category:"notification"}],WS=[{id:"buzz",name:"Buzz",frequency:400,type:"sawtooth",duration:250,category:"game"},{id:"whoosh",name:"Whoosh",frequency:200,type:"sawtooth",duration:500,category:"game",frequencies:[200,150,100]},{id:"bloop",name:"Bloop",frequency:300,type:"sine",duration:400,category:"game",frequencies:[300,400,350]},{id:"zap",name:"Zap",frequency:1500,type:"square",duration:120,category:"game",frequencies:[1500,1e3,500]},{id:"bounce",name:"Bounce",frequency:500,type:"triangle",duration:300,category:"game",frequencies:[500,700,600,800]},{id:"powerup",name:"Power Up",frequency:440,type:"square",duration:600,category:"game",frequencies:[440,523,659,784]},{id:"coin",name:"Coin",frequency:1046,type:"square",duration:300,category:"game",frequencies:[1046,1318]},{id:"fanfare",name:"Fanfare",frequency:523,type:"triangle",duration:1200,category:"game",frequencies:[523,659,784,1046]}],XR=[{id:"classic",name:"Classic System Alerts",sounds:KS},{id:"musical",name:"Musical Notes & Melodies",sounds:YS},{id:"notification",name:"Notification Alerts",sounds:XS},{id:"game",name:"Game & Action Sounds",sounds:WS}],Am=[...KS,...YS,...XS,...WS];async function QS(e){try{if(!e||!e.frequency||!e.type||!e.duration)return!1;const t=window.AudioContext||window.webkitAudioContext;if(!t)return!1;const n=new t;if(e.frequencies&&e.frequencies.length>1)return WR(n,e);const r=n.createOscillator(),s=n.createGain();return r.connect(s),s.connect(n.destination),r.frequency.value=e.frequency,r.type=e.type,s.gain.setValueAtTime?(s.gain.setValueAtTime(.3,n.currentTime),s.gain.exponentialRampToValueAtTime(.01,n.currentTime+e.duration/1e3)):s.gain.value=.3,r.start(),r.stop(n.currentTime+e.duration/1e3),setTimeout(()=>{n.close()},e.duration+100),!0}catch(t){return console.warn("Sound playback failed:",t),!1}}async function WR(e,t){try{const n=t.frequencies,r=t.duration/n.length,s=e.createGain();return s.connect(e.destination),s.gain.setValueAtTime?s.gain.setValueAtTime(.3,e.currentTime):s.gain.value=.3,n.forEach((l,o)=>{const d=e.createOscillator(),h=e.createGain();d.connect(h),h.connect(s),d.frequency.value=l,d.type=t.type;const m=e.currentTime+o*r/1e3,g=m+r/1e3;h.gain.setValueAtTime?(h.gain.setValueAtTime(1,m),h.gain.exponentialRampToValueAtTime(.01,g)):h.gain.value=1,d.start(m),d.stop(g)}),setTimeout(()=>{e.close()},t.duration+100),!0}catch(n){return console.warn("Melody playback failed:",n),!1}}function Ou(){return Am[Math.floor(Math.random()*Am.length)]}function ZS(e){return e&&Am.find(t=>t.id===e)||null}function QR({selectedSoundId:e,onSoundChange:t,label:n="Turn Sound"}){const r=async()=>{if(!e)return;const l=ZS(e);if(l)try{await QS(l)||console.error("Failed to play sound")}catch(o){console.error("Failed to play sound:",o)}},s=l=>{t(l.target.value)};return c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,py:1},children:[c.jsxs(ut,{fullWidth:!0,size:"small",children:[c.jsx(gt,{id:"sound-select-label",children:n}),c.jsxs(ct,{labelId:"sound-select-label",value:e||"",label:n,onChange:s,children:[c.jsx(ge,{value:"",children:c.jsxs(H,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(a2,{fontSize:"small"}),"No sound"]})}),XR.map(l=>[c.jsx($A,{sx:{fontWeight:"bold"},children:l.name},`header-${l.id}`),...l.sounds.map(o=>c.jsx(ge,{value:o.id,sx:{pl:3},children:o.name},o.id))])]})]}),c.jsx(Bt,{title:"Play sample",children:c.jsx(Xe,{onClick:r,color:"primary",disabled:!e,size:"small",children:c.jsx(uo,{})})})]})}function ZR({open:e,player:t,existingPlayers:n,onSubmit:r,onCancel:s}){const{t:l}=de(),[o,d]=_.useState({name:"",role:"vers",sound:Ou().id}),[h,m]=_.useState({}),[g,p]=_.useState(!1);_.useEffect(()=>{d(t?{name:t.name,role:t.role,sound:t.sound||Ou().id}:{name:"",role:"vers",sound:Ou().id}),m({})},[t,e]);const x=_.useCallback(()=>{const M={},E=o.name.trim();return E?E.length<2?M.name=l("localPlayers.form.errors.nameTooShort"):E.length>20?M.name=l("localPlayers.form.errors.nameTooLong"):n.some(N=>N.id!==(t==null?void 0:t.id)&&N.name.toLowerCase()===E.toLowerCase())&&(M.name=l("localPlayers.form.errors.nameDuplicate")):M.name=l("localPlayers.form.errors.nameRequired"),(!o.role||!["dom","sub","vers"].includes(o.role))&&(M.role=l("localPlayers.form.errors.roleRequired")),m(M),Object.keys(M).length===0},[o,n,t,l]),v=_.useCallback(M=>{const E=M.target.value;d(O=>({...O,name:E})),h.name&&m(O=>({...O,name:void 0}))},[h.name]),w=_.useCallback(M=>{const E=M.target.value;d(O=>({...O,role:E})),h.role&&m(O=>({...O,role:void 0}))},[h.role]),S=_.useCallback(M=>{d(E=>({...E,sound:M}))},[]),k=_.useCallback(async()=>{if(x()){p(!0);try{const M={name:o.name.trim(),role:o.role,sound:o.sound};await r(M)}catch(M){console.error("Error submitting player form:",M)}finally{p(!1)}}},[o,x,r]),C=_.useCallback(()=>{d({name:"",role:"vers",sound:Ou().id}),m({}),s()},[s]),A=_.useCallback(M=>M.split(" ").map(E=>E.charAt(0)).join("").toUpperCase().slice(0,2)||"P",[]),j=M=>{switch(M){case"dom":return"primary";case"sub":return"secondary";case"vers":return"default";default:return"default"}},R=!!t;return c.jsxs(qt,{open:e,onClose:C,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[c.jsx(Zt,{children:l(R?"localPlayers.form.editPlayerTitle":"localPlayers.form.addPlayerTitle")}),c.jsxs(Ft,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,p:2,bgcolor:"action.hover",borderRadius:1},children:[c.jsx(wp,{sx:{bgcolor:"primary.main",width:56,height:56,fontSize:"1.5rem",fontWeight:"bold"},children:A(o.name||"P")}),c.jsxs(H,{sx:{direction:"row"},children:[c.jsx(Y,{variant:"h6",children:o.name||l("localPlayers.form.previewName")}),c.jsx(H,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:c.jsx(nt,{label:l(`roles.${o.role}`),size:"small",color:j(o.role),variant:"outlined"})})]})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:3},children:[c.jsx(Ge,{label:l("localPlayers.form.nameLabel"),value:o.name,onChange:v,error:!!h.name,helperText:h.name||l("localPlayers.form.nameHelper"),placeholder:l("localPlayers.form.namePlaceholder"),fullWidth:!0,autoFocus:!R,inputProps:{maxLength:20}}),c.jsxs(ut,{fullWidth:!0,error:!!h.role,children:[c.jsx(gt,{children:l("localPlayers.form.roleLabel")}),c.jsxs(ct,{value:o.role,onChange:w,label:l("localPlayers.form.roleLabel"),children:[c.jsx(ge,{value:"dom",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(nt,{label:l("roles.dom"),size:"small",color:"primary",variant:"outlined"}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:l("localPlayers.form.roleDescriptions.dom")})]})}),c.jsx(ge,{value:"sub",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(nt,{label:l("roles.sub"),size:"small",color:"secondary",variant:"outlined"}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:l("localPlayers.form.roleDescriptions.sub")})]})}),c.jsx(ge,{value:"vers",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(nt,{label:l("roles.vers"),size:"small",color:"default",variant:"outlined"}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:l("localPlayers.form.roleDescriptions.vers")})]})})]}),h.role&&c.jsx(Y,{variant:"caption",color:"error",sx:{mt:1,ml:1.5},children:h.role})]}),c.jsx(QR,{selectedSoundId:o.sound,onSoundChange:S,label:l("localPlayers.form.soundLabel","Turn Sound")}),c.jsx(Ct,{severity:"info",sx:{mt:1},children:c.jsx(Y,{variant:"body2",children:l("localPlayers.form.helpText")})})]})]}),c.jsxs(Zr,{sx:{p:3,pt:1},children:[c.jsx(he,{onClick:C,disabled:g,children:l("cancel")}),c.jsx(he,{onClick:k,variant:"contained",disabled:g||!o.name.trim(),children:l(g?"localPlayers.form.saving":R?"localPlayers.form.saveChanges":"localPlayers.form.addPlayer")})]})]})}function JS({roomId:e,isPrivateRoom:t,onComplete:n,onCancel:r,initialPlayers:s=[],initialSettings:l}){const{t:o}=de();console.debug("Setting up local players for room:",e);const[d,h]=_.useState(s),[m,g]=_.useState(!1),[p,x]=_.useState(null),[v,w]=_.useState(!1),[S,k]=_.useState(!1),[C,A]=_.useState(null),[j]=_.useState(l||{showTurnTransitions:!0,enableTurnSounds:!0,showPlayerAvatars:!0}),R=_.useCallback(()=>{const $=d.length>=2&&d.length<=4,U=d.every(z=>z.name.trim().length>0),W=new Set(d.map(z=>z.name.toLowerCase())).size===d.length,ae=$&&U&&W;return g(ae),d.length<2?x(o("localPlayers.errors.minimumPlayers")):d.length>4?x(o("localPlayers.errors.maximumPlayers")):x(U?W?null:o("localPlayers.errors.duplicateNames"):o("localPlayers.errors.emptyNames")),ae},[d,o]);_.useEffect(()=>{s.length>0&&h(s)},[]),_.useEffect(()=>{R()},[R]);const M=_.useCallback(()=>`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),E=_.useCallback(()=>o("localPlayers.defaultPlayerName",{number:d.length+1}),[d.length,o]),O=_.useCallback(()=>{d.length>=4||(A(null),k(!0))},[d.length]),N=_.useCallback($=>{h(U=>U.filter(ae=>ae.id!==$).map((ae,z)=>({...ae,order:z,isActive:z===0})))},[]),q=_.useCallback(($,U)=>{h(W=>W.map(ae=>ae.id===$?{...ae,...U}:ae))},[]),D=_.useCallback(($,U)=>{q($,{role:U})},[q]),P=_.useCallback($=>{A($),k(!0)},[]),G=_.useCallback(async $=>{if(C)q(C.id,$);else{const U={id:M(),name:$.name||E(),role:$.role||"vers",order:d.length,isActive:d.length===0,deviceId:"current_device",location:0,isFinished:!1,sound:$.sound};h(W=>[...W,U])}k(!1),A(null)},[C,q,M,E,d.length]),K=_.useCallback(()=>{k(!1),A(null)},[]),F=_.useCallback(async()=>{if(R()){w(!0),x(null);try{await n(d,j)}catch($){x($ instanceof Error?$.message:o("localPlayers.errors.sessionCreation"))}finally{w(!1)}}},[d,j,R,n,o]),ne=_.useCallback(()=>{r()},[r]);return t?c.jsxs(mt,{children:[c.jsx(fc,{title:c.jsx(Y,{variant:"h5",component:"h2",children:c.jsx(Z,{i18nKey:"localPlayers.setupTitle"})}),subheader:c.jsx(Y,{variant:"body2",color:"text.secondary",children:c.jsx(Z,{i18nKey:"localPlayers.setupSubtitle"})})}),c.jsxs(wt,{children:[p&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:p}),c.jsxs(H,{sx:{mb:3},children:[c.jsxs(H,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(Y,{variant:"h6",children:c.jsx(Z,{i18nKey:"localPlayers.playersTitle"})}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:o("localPlayers.playersCount",{count:d.length})})]}),d.length===0?c.jsxs(H,{sx:{textAlign:"center",py:4,border:"2px dashed",borderColor:"divider",borderRadius:1,bgcolor:"action.hover"},children:[c.jsx(Y,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:c.jsx(Z,{i18nKey:"localPlayers.noPlayersYet"})}),c.jsx(he,{variant:"contained",startIcon:c.jsx(pc,{}),onClick:O,children:c.jsx(Z,{i18nKey:"localPlayers.addFirstPlayer"})})]}):c.jsxs(c.Fragment,{children:[c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:2},children:d.map(($,U)=>c.jsx(YR,{player:$,index:U,isActive:$.isActive,canEdit:!0,canDelete:d.length>1,onEdit:P,onDelete:N,onRoleChange:D},$.id))}),d.length<4&&c.jsx(H,{sx:{display:"flex",justifyContent:"center",mt:2},children:c.jsx(Fw,{size:"small",color:"primary",onClick:O,"aria-label":"Add player",children:c.jsx(pc,{})})})]})]}),c.jsxs(H,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[c.jsx(he,{variant:"outlined",onClick:ne,disabled:v,children:c.jsx(Z,{i18nKey:"cancel"})}),c.jsx(he,{variant:"contained",onClick:F,disabled:!m||v,children:v?c.jsx(Z,{i18nKey:"localPlayers.creatingSession"}):c.jsx(Z,{i18nKey:"localPlayers.startSession"})})]})]}),c.jsx(ZR,{open:S,player:C,existingPlayers:d,onSubmit:G,onCancel:K})]}):c.jsx(mt,{children:c.jsx(wt,{children:c.jsx(Ct,{severity:"warning",children:c.jsx(Y,{children:c.jsx(Z,{i18nKey:"localPlayers.privateRoomRequired"})})})})})}function JR({roomId:e="PRIVATE",isPrivateRoom:t=!0}){const{t:n}=de(),{localPlayers:r,hasLocalPlayers:s,session:l,sessionSettings:o,clearLocalSession:d,updateSettings:h,createLocalSession:m}=ms(),[g,p]=_.useState(!1),[x,v]=_.useState(null),w=_.useCallback(()=>{p(!0),v(null)},[]),S=_.useCallback(()=>{p(!1),v(null)},[]),k=_.useCallback(async(j,R)=>{try{await m(e,j,R),p(!1),v(null)}catch(M){v(M instanceof Error?M.message:"Failed to save local player configuration")}},[e,m]),C=_.useCallback(async()=>{try{await d(),v(null)}catch(j){v(j instanceof Error?j.message:"Failed to clear local session")}},[d]),A=_.useCallback(async(j,R)=>{if(o)try{const M={...o,[j]:R};await h(M),v(null)}catch(M){v(M instanceof Error?M.message:"Failed to update settings")}},[o,h]);return g?c.jsxs(H,{children:[x&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:x}),c.jsx(JS,{roomId:e,isPrivateRoom:t,onComplete:k,onCancel:S,initialPlayers:r,initialSettings:o})]}):c.jsxs(H,{children:[x&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:x}),s?c.jsxs(H,{children:[c.jsxs(H,{sx:{mb:3},children:[c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:1,mb:2},children:r.map(j=>c.jsxs(H,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1,borderRadius:1,bgcolor:j.isActive?"primary.50":"background.default",border:j.isActive?"1px solid":"1px solid transparent",borderColor:j.isActive?"primary.main":"transparent"},children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsxs(Y,{variant:"body2",color:"text.secondary",children:["#",j.order+1]}),c.jsx(Y,{variant:"body1",fontWeight:j.isActive?"bold":"normal",children:j.name}),c.jsx(nt,{label:n(`roles.${j.role}`),size:"small",variant:"outlined"})]}),j.isActive&&c.jsx(nt,{label:n("localPlayerSettings.players.currentTurn"),color:"primary",size:"small"})]},j.id))}),c.jsxs(H,{sx:{display:"flex",gap:1},children:[c.jsx(he,{variant:"outlined",startIcon:c.jsx(Nc,{}),onClick:w,size:"small",children:c.jsx(Z,{i18nKey:"localPlayerSettings.session.editButton"})}),c.jsx(he,{variant:"outlined",color:"error",startIcon:c.jsx(hS,{}),onClick:C,size:"small",children:c.jsx(Z,{i18nKey:"localPlayerSettings.session.clearButton"})})]})]}),(l==null?void 0:l.settings)&&c.jsxs(H,{sx:{mt:3,p:2,borderRadius:1,bgcolor:"action.hover"},children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(Ic,{sx:{color:"text.secondary"}}),c.jsx(Y,{variant:"subtitle1",component:"h4",children:c.jsx(Z,{i18nKey:"localPlayerSettings.settings.title"})})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsx(Fl,{control:c.jsx(Ni,{checked:l.settings.showTurnTransitions,onChange:j=>A("showTurnTransitions",j.target.checked)}),label:n("localPlayerSettings.settings.showTurnTransitions")}),c.jsx(Fl,{control:c.jsx(Ni,{checked:l.settings.enableTurnSounds,onChange:j=>A("enableTurnSounds",j.target.checked)}),label:n("localPlayerSettings.settings.playTurnSounds")})]})]})]}):c.jsxs(H,{sx:{textAlign:"center",py:2},children:[c.jsx(mS,{sx:{fontSize:48,color:"text.secondary",mb:2}}),c.jsx(Y,{variant:"body1",color:"text.secondary",paragraph:!0,children:c.jsx(Z,{i18nKey:"localPlayerSettings.noPlayers.description"})}),c.jsx(he,{variant:"contained",startIcon:c.jsx(uo,{}),onClick:w,size:"large",children:c.jsx(Z,{i18nKey:"localPlayerSettings.noPlayers.setupButton"})})]})]})}function eL({formData:e,setFormData:t}){const{t:n}=de();return c.jsxs(H,{sx:{p:2},children:[c.jsx(mt,{variant:"outlined",sx:{mb:3},children:c.jsxs(wt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(s2,{sx:{color:"primary.main"}}),c.jsx(Y,{variant:"h6",component:"h3",children:n("roomType")})]}),c.jsx(HR,{formData:e,setFormData:t})]})}),!Je(e.room)&&c.jsxs(c.Fragment,{children:[c.jsx(mt,{variant:"outlined",sx:{mb:3},children:c.jsxs(wt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(mS,{sx:{color:"primary.main"}}),c.jsx(Y,{variant:"h6",component:"h3",children:n("localPlayerSettings.title")})]}),c.jsx(JR,{roomId:e.room,isPrivateRoom:!Je(e.room)})]})}),c.jsx(mt,{variant:"outlined",sx:{mb:3},children:c.jsxs(wt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(kp,{sx:{color:"primary.main"}}),c.jsx(Y,{variant:"h6",component:"h3",children:n("gameConfiguration")})]}),c.jsx(H,{sx:{mb:3},children:c.jsx(qR,{formData:e,setFormData:t})}),c.jsx(H,{sx:{p:2,borderRadius:1,bgcolor:"action.hover"},children:c.jsx(FR,{formData:e,setFormData:t})})]})}),c.jsx(mt,{variant:"outlined",sx:{mb:3},children:c.jsxs(wt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(l2,{sx:{color:"primary.main"}}),c.jsx(Y,{variant:"h6",component:"h3",children:n("visualSettings")})]}),c.jsx(GR,{formData:e,setFormData:t})]})})]})]})}function Ol({children:e,value:t,index:n,style:r,...s}){return c.jsx("div",{role:"tabpanel",hidden:t!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,style:{height:"100%",overflow:"hidden"},...s,children:t===n&&c.jsx(H,{sx:{p:3,height:"100%",overflow:"auto",WebkitOverflowScrolling:"touch",...r},children:e})})}function Bp(e={},t={}){const[n]=cn(),r={...e,...n,selectedActions:(n==null?void 0:n.selectedActions)||{},finishRange:(n==null?void 0:n.finishRange)||[30,70],...t},[s,l]=_.useState(r),{messages:o}=ea(),[d,h]=_.useState(!1);return _.useEffect(()=>{const m=Xr(o,"room");if(m!=null&&m.settings)try{const g=JSON.parse(m.settings);l(p=>d?p.selectedActions&&Object.keys(p.selectedActions).length>0?{...p,...g,selectedActions:p.selectedActions}:{...p,...g}:(h(!0),{...p,...g}))}catch(g){console.error("Error parsing message settings:",g)}else d||h(!0)},[o,d]),[s,l]}const e_=({levels:e})=>!!(e!=null&&e.length)&&e.some(t=>t>0);function tL(e){return Object.values(e).some(e_)}function nL(e,t){const n=e.selectedActions||{};return Object.entries(n).reduce((r,[s,l])=>{var o;if(s in t){const d=(o=l==null?void 0:l.variation)!=null&&o.startsWith("append")?"withAppend":"withoutAppend";r[d][s]=l}return r},{withAppend:{},withoutAppend:{}})}function iL(e){return Object.keys(e).length>0&&Object.values(e).some(e_)}function rL(e,t){const{withAppend:n,withoutAppend:r}=nL(e,t);return tL(r)?Je(e.room)&&!Xt(e.gameMode)?"privateRequired":null:iL(n)?"appendWithAction":"pickSomething"}function Up({closeDialog:e,initialTab:t=0,onOpenSetupWizard:n}){const{user:r}=An(),{t:s}=de(),[l,o]=cn(),[d,h]=_.useState(t),[m,g]=_.useState(null),[p,x]=_.useState(!1),[v,w]=Bp(),S=Op(),{isLoading:k,actionsList:C}=Vc(v==null?void 0:v.gameMode,!0),A=(O,N)=>{h(N)},j=()=>o({...l,boardUpdated:!0}),R=_.useCallback(async O=>{O.preventDefault();const{displayName:N,...q}=v,D=rL(q,C);return D?(g(s(D)),null):(await S(v,C),typeof e=="function"&&e(),null)},[v,C,s,g,S,e]),M=_.useCallback(O=>{w(N=>({...N,displayName:O.target.value}))},[w]),E=_.useCallback(O=>{O.key==="Enter"&&(w(N=>({...N,displayName:O.target.value})),R(O))},[R,w]);return!v.room||k?c.jsxs(H,{children:[c.jsxs(Y,{variant:"h2",children:[c.jsx(Z,{i18nKey:"loading"}),"..."]}),c.jsx(Y,{variant:"body1",children:c.jsx(Z,{i18nKey:"clearStorage"})})]}):c.jsxs(H,{component:"form",method:"post",onSubmit:R,className:"settings-box",children:[c.jsx(Ge,{fullWidth:!0,id:"displayName",label:s("displayName"),defaultValue:(r==null?void 0:r.displayName)||v.displayName||"",required:!0,autoFocus:!0,onBlur:M,onKeyDown:E,margin:"normal"}),c.jsx(H,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(bp,{value:d,onChange:A,"aria-label":s("gameSettings"),centered:!0,children:[c.jsx(Fr,{label:s("gameboard"),...Dl(0)}),c.jsx(Fr,{label:s("room"),...Dl(1)}),c.jsx(Fr,{label:s("application"),...Dl(2)})]})}),c.jsx(Ol,{value:d,index:0,style:{p:0},children:c.jsx(pR,{formData:v,setFormData:w,actionsList:C})}),c.jsx(Ol,{value:d,index:1,style:{p:0,pt:1},children:c.jsx(eL,{formData:v,setFormData:w})}),c.jsx(Ol,{value:d,index:2,style:{p:0,pt:1},children:c.jsx(cR,{formData:v,setFormData:w,boardUpdated:j})}),c.jsxs("div",{className:"flex-buttons",children:[c.jsxs("div",{className:"left-buttons",children:[n&&c.jsx(he,{variant:"outlined",type:"button",onClick:n,children:c.jsx(Z,{i18nKey:"setupWizard.title"})}),d===0&&c.jsx(he,{variant:"outlined",type:"button",onClick:()=>x(!0),children:c.jsx(Z,{i18nKey:"customTilesLabel",children:"Game Tiles"})})]}),c.jsx(he,{variant:"contained",type:"submit",children:c.jsx(Z,{i18nKey:"update"})})]}),p&&c.jsx(HS,{open:p,setOpen:x,boardUpdated:j,actionsList:C}),c.jsx(xr,{open:!!m,close:()=>g(null),children:m})]})}function aL({open:e,close:t,isMobile:n=!1}){const r=un(),s=n||r,[l]=Rc();return l.get("importBoard")?null:c.jsxs(qt,{fullScreen:s,open:e,maxWidth:"md",children:[c.jsxs(Zt,{children:[c.jsx(Z,{i18nKey:"gameSettingsHeading"}),typeof t=="function"&&c.jsx(pi,{close:t})]}),c.jsx(Ft,{children:c.jsx(Up,{closeDialog:typeof t=="function"?t:void 0,initialTab:2})})]})}const sL=(e,t)=>{const{gameMode:n,isNaked:r}=e,s=Xt(n);return s&&["foreplay","sex"].includes(t.type)||!s&&r&&["solo","foreplay"].includes(t.type)||!s&&!r&&["solo","sex"].includes(t.type)},lL=e=>{const t={...e},n=e.selectedActions||{},r={};return Object.entries(n).forEach(([s,l])=>{sL(e,l)||(r[s]=l)}),t.selectedActions=r,t},t_=(e,t,n)=>{const r=e.selectedActions||{};return Object.entries(r).map(([s,l])=>{const o=t.find(d=>d.value===s);return l.type!==n||!o?null:s}).filter(s=>!!s)},oL=(e,t,n)=>{const r={...e},s={...r.selectedActions};return Object.keys(s).forEach(l=>{s[l].type===t&&!n.includes(l)&&delete s[l]}),r.selectedActions=s,r},n_=(e,t,n)=>{n(r=>{const s=oL(r,t,e),l={...s.selectedActions};return e.forEach(o=>{if(l[o])return;let d={type:t,levels:[1]};t==="consumption"&&(d={...d,variation:s.isAppend?"appendMost":"standalone"}),l[o]=d}),{...s,selectedActions:l}})},i_=(e,t,n,r,s=null)=>{r(l=>{const o={...l.selectedActions||{}};return e.length===0?delete o[t]:o[t]={...o[t]||{},type:n,levels:e,...!!s&&{variation:s}},{...l,selectedActions:o}})},uL=e=>!!(e&&Object.keys(e).some(t=>{const n=e[t];return(n==null?void 0:n.levels)&&n.levels.length>0&&(n==null?void 0:n.variation)!=="appendMost"}));function us({children:e,justifyContent:t="space-evenly"}){return c.jsx(H,{sx:{mt:3,display:"flex",flexDirection:"row",justifyContent:t,alignItems:"center"},children:e})}function r_(){return c.jsxs(Y,{variant:"h6",sx:{mt:2},children:[c.jsx(Z,{i18nKey:"setIntensityLevel"}),c.jsx(Bt,{title:c.jsx(Y,{variant:"body1",children:c.jsx(Z,{i18nKey:"intensityTooltip"})}),arrow:!0,sx:{ml:1},children:c.jsx(mi,{sx:{ml:.5,fontSize:15}})})]})}function a_({onChange:e,values:t,options:n,label:r}){const s=_.useCallback(o=>{var d;return(d=n==null?void 0:n.find(h=>h.value===o))==null?void 0:d.label},[n]),l=_.useCallback(o=>c.jsx(H,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:o==null?void 0:o.map(d=>c.jsx(nt,{label:s(d)},d))}),[s]);return c.jsxs(ut,{fullWidth:!0,children:[c.jsx(gt,{id:`${r}-label`,children:r}),c.jsx(ct,{labelId:`${r}-label`,id:`${r}`,multiple:!0,value:t,onChange:e,fullWidth:!0,input:c.jsx(VA,{label:r}),renderValue:l,children:n==null?void 0:n.map(({label:o,value:d})=>c.jsxs(ge,{value:d,children:[c.jsx(qw,{checked:t.includes(d)}),c.jsx(ln,{primary:o})]},d))})]})}const cL=4,dL=e=>Xt(e==null?void 0:e.gameMode)?"solo":e.isNaked?"sex":"foreplay";function fL({formData:e,setFormData:t,options:n,actionsList:r}){const s=dL(e),l=n(s),d=t_(e,l,s)||[],h=m=>{const{value:g}=m.target,p=typeof g=="string"?g.split(","):g;p.length<=cL&&n_(p,s,t)};return c.jsxs(c.Fragment,{children:[c.jsx(Y,{variant:"h6",sx:{my:2},children:c.jsx(Z,{i18nKey:"pickActions"})}),c.jsx(a_,{onChange:h,values:d,options:l,label:Pe("actionsLabel")}),d.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(r_,{}),d.map(m=>{var g,p;const x=r[m],v=x!=null&&x.intensities?Object.keys(x.intensities).map(Number).filter(S=>S>0).sort((S,k)=>S-k):[1,2,3,4],w=((p=(g=e.selectedActions)==null?void 0:g[m])==null?void 0:p.levels)||[];return c.jsx(zp,{actionName:m,actionLabel:(x==null?void 0:x.label)||m,selectedLevels:w,availableLevels:v,intensityNames:(x==null?void 0:x.intensities)||{},onChange:S=>i_(S,m,s,t)},m)})]})]})}const hL=2;function mL({formData:e,setFormData:t,options:n,actionsList:r}){const s="consumption",l=n(s),d=t_(e,l,s)||[],h=g=>{const{value:p}=g.target,x=typeof p=="string"?p.split(","):p;x.length<=hL&&n_(x,s,t)},m=(g,p)=>{const x=g.target.checked?"appendMost":"standalone",v=g.target.checked,w={...e.selectedActions};p.forEach(k=>{w[k]&&(w[k]={...w[k],variation:x})});const S={...e,isAppend:v,selectedActions:w};t(S)};return c.jsxs(c.Fragment,{children:[c.jsx(Y,{variant:"h6",sx:{my:2},children:c.jsx(Z,{i18nKey:"pickConsumptions"})}),c.jsx(a_,{onChange:h,values:d,options:l,label:Pe("consumables")}),!!d.length&&c.jsxs(c.Fragment,{children:[c.jsx(r_,{}),d.map(g=>{var p,x;const v=r[g],w=v!=null&&v.intensities?Object.keys(v.intensities).map(Number).filter(k=>k>0).sort((k,C)=>k-C):[1,2,3,4],S=((x=(p=e.selectedActions)==null?void 0:p[g])==null?void 0:x.levels)||[];return c.jsx(zp,{actionName:g,actionLabel:(v==null?void 0:v.label)||g,selectedLevels:S,availableLevels:w,intensityNames:(v==null?void 0:v.intensities)||{},onChange:k=>i_(k,g,s,t,e.isAppend?"appendMost":"standalone")},g)}),c.jsx(Y,{variant:"h6",sx:{mt:2},children:c.jsx(Z,{i18nKey:"standaloneOrCombine"})}),c.jsx(US,{trueCondition:e.isAppend,onChange:g=>m(g,d),yesLabel:"combineWithActions"})]})]})}function pL({gameMode:e,onPresetSelect:t,selectedPreset:n,actionsList:r,showTitle:s=!0}){const{t:l}=de(),o={solo:[{id:"popperbating",name:l("presetPopperbating"),actions:["bating"],consumptions:["poppers"],intensities:{bating:2,poppers:1}},{id:"smoking-tits",name:l("presetSmokingTits"),actions:["titTorture"],consumptions:["vaping"],intensities:{titTorture:2,vaping:1}},{id:"exploration-solo",name:l("presetExplorationSolo"),actions:["throatTraining","buttPlay","titTorture","ballBusting"],consumptions:[],intensities:{throatTraining:1,buttPlay:1,titTorture:1,ballBusting:1}},{id:"ball-busting",name:l("presetBallBusting"),actions:["ballBusting","bating"],consumptions:["poppers"],intensities:{ballBusting:2,bating:2}}],foreplay:[{id:"romantic-start",name:l("presetRomanticStart"),actions:["kissing","stripping","confessions"],consumptions:["alcohol"],intensities:{kissing:2,stripping:1,confessions:1,alcohol:1}},{id:"degrading",name:l("presetDegrading"),actions:["humiliation","footPlay","confessions"],consumptions:["poppers"],intensities:{humiliation:2,footPlay:2,confessions:3,poppers:2}},{id:"body-worship",name:l("presetBodyWorship"),actions:["bodyWorship","kissing","footPlay"],consumptions:[],intensities:{bodyWorship:2,kissing:1,footPlay:2}},{id:"control-breath",name:l("presetControlBreath"),actions:["breathPlay","bondage","humiliation"],consumptions:["poppers"],intensities:{breathPlay:2,bondage:2,humiliation:1,poppers:1}}],sex:[{id:"gentle-sex",name:l("presetGentleSex"),actions:["throatTraining","bating","buttPlay"],consumptions:["alcohol"],intensities:{throatTraining:1,bating:1,buttPlay:1,alcohol:1}},{id:"fisting",name:l("presetFisting"),actions:["buttPlay"],consumptions:["poppers"],intensities:{buttPlay:4,poppers:4}},{id:"bdsm",name:l("presetBdsm"),actions:["pissPlay","throatTraining","spanking","titTorture"],consumptions:[],intensities:{pissPlay:2,throatTraining:2,spanking:2,titTorture:2}},{id:"breath-control",name:l("presetBreathControl"),actions:["bating"],consumptions:["gasMask"],intensities:{bating:2,gasMask:2}}]},d=o[e]||o.solo,h=m=>{t(m)};return c.jsxs(H,{children:[s&&c.jsx(Y,{variant:"h6",gutterBottom:!0,children:l("quickStart")}),c.jsx(ke,{container:!0,spacing:2,children:d.map(m=>c.jsx(ke,{size:{xs:12,sm:6,lg:3},children:c.jsx(mt,{sx:{cursor:"pointer",border:n===m.id?2:1,borderColor:n===m.id?"primary.main":"divider",backgroundColor:n===m.id?"primary.dark":"background.paper",transition:"all 0.2s ease-in-out",height:"100%",boxShadow:1,"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:3,backgroundColor:n===m.id?"primary.dark":"action.hover"}},onClick:()=>h(m),children:c.jsxs(wt,{sx:{p:2.5},children:[c.jsx(Y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:m.name}),c.jsxs(H,{children:[m.actions.map((g,p)=>{var x;return c.jsx(nt,{label:((x=r[g])==null?void 0:x.label)||g,size:"small",variant:"outlined",sx:{mr:.5,mb:.5,borderColor:"primary.main",color:"primary.main","&:hover":{backgroundColor:"primary.50"}}},`action-${p}`)}),m.consumptions.map((g,p)=>{var x;return c.jsx(nt,{label:((x=r[g])==null?void 0:x.label)||g,size:"small",color:"secondary",variant:"outlined",sx:{mr:.5,mb:.5,borderColor:"secondary.main",color:"secondary.main","&:hover":{backgroundColor:"secondary.50"}}},`consumption-${p}`)})]})]})})},m.id))})]})}function gL({formData:e,setFormData:t,nextStep:n,prevStep:r,actionsList:s,isActionsLoading:l=!1}){const{t:o}=de(),[d,h]=_.useState(""),[m,g]=_.useState(!1),[p,x]=_.useState(!0);function v(M){return Object.keys(s).filter(E=>{var O;return((O=s[E])==null?void 0:O.type)===M})}_.useEffect(()=>{const M=lL(e);t(M)},[]),_.useEffect(()=>{e.selectedActions&&Object.keys(e.selectedActions).length>0&&(g(!0),x(!1))},[]);const w=M=>v(M).map(E=>{var O;return{value:E,label:(O=s[E])==null?void 0:O.label}});let S;e.gameMode==="online"?S="solo":e.gameMode==="local"&&!e.isNaked?S="foreplay":S="sex";const k=(M,E,O,N)=>{M.forEach(q=>{var D;if(s[q]){const P=((D=O.intensities)==null?void 0:D[q])||E,K=Object.keys(s[q].intensities||{}).filter(F=>F!=="None").length;N[q]={type:s[q].type,levels:Array.from({length:Math.min(P,K)},(F,ne)=>ne+1)}}})},C=M=>{h(M.id);const E={};k(M.actions,2,M,E),k(M.consumptions,1,M,E),t({...e,selectedActions:E}),x(!1),g(!0)},A=(M,E)=>{x(E),E&&g(!1)},j=(M,E)=>{g(E),E&&x(!1)},R=!uL(e.selectedActions);return l?c.jsxs(H,{children:[c.jsxs(H,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,gap:2},children:[c.jsx(kn,{size:48}),c.jsx(Y,{variant:"h6",color:"text.secondary",children:o("loadingAvailableActions")})]}),c.jsx(H,{sx:{mt:4},children:c.jsxs(us,{children:[c.jsx(he,{disabled:!0,children:c.jsx(Z,{i18nKey:"previous"})}),c.jsx(he,{variant:"contained",disabled:!0,size:"large",children:c.jsx(Z,{i18nKey:"next"})})]})})]}):c.jsxs(H,{children:[c.jsxs(oc,{expanded:p,onChange:A,sx:{backgroundColor:"background.default",borderTop:1,borderBottom:1,borderColor:"divider",borderLeft:"none",borderRight:"none",borderRadius:0,"&:before":{display:"none"},boxShadow:"none"},children:[c.jsx(cc,{expandIcon:c.jsx(Yl,{}),"aria-controls":"quickstart-content",id:"quickstart-header",sx:{backgroundColor:"background.default"},children:c.jsxs(It,{direction:"row",alignItems:"center",spacing:1,children:[c.jsx(uo,{}),c.jsx(Y,{variant:"h6",children:o("quickStart")})]})}),c.jsx(uc,{sx:{pb:1},children:c.jsx(pL,{gameMode:S,onPresetSelect:C,selectedPreset:d,actionsList:s,showTitle:!1})})]}),c.jsxs(oc,{expanded:m,onChange:j,sx:{backgroundColor:"background.default",borderTop:p?"none":1,borderBottom:1,borderColor:"divider",borderLeft:"none",borderRight:"none",borderRadius:0,marginTop:p?-1:0,"&:before":{display:"none"},boxShadow:"none"},children:[c.jsx(cc,{expandIcon:c.jsx(Yl,{}),"aria-controls":"customization-content",id:"customization-header",sx:{backgroundColor:"background.default"},children:c.jsxs(It,{direction:"row",alignItems:"center",spacing:1,children:[c.jsx(kp,{}),c.jsx(Y,{variant:"h6",children:o("customizeActions")})]})}),c.jsxs(uc,{children:[c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:o("customizeActionsDesc")}),c.jsx(fL,{formData:e,setFormData:t,options:w,actionsList:s}),c.jsx(pt,{sx:{my:3}}),c.jsx(mL,{formData:e,setFormData:t,options:w,actionsList:s})]})]}),c.jsx(H,{sx:{mt:4},children:c.jsxs(us,{children:[c.jsx(he,{onClick:()=>r(Je(e.room)?3:1),children:c.jsx(Z,{i18nKey:"previous"})}),c.jsx(he,{variant:"contained",disabled:R,onClick:n,size:"large",children:c.jsx(Z,{i18nKey:"next"})})]})})]})}function yL({currentStep:e,isPublicRoom:t,onStepClick:n}){const{t:r}=de(),s=gi(),l=yp(s.breakpoints.down("md")),o=t?[{label:String(r("roomSelection","Room Selection")),wizardStep:1},{label:String(r("actionsSelection","Actions Selection")),wizardStep:4},{label:String(r("finishSetup","Finish Setup")),wizardStep:5}]:[{label:String(r("roomSelection","Room Selection")),wizardStep:1},{label:String(r("localPlayersStep.title","Local Players")),wizardStep:2},{label:String(r("gameModeSelection","Game Mode Selection")),wizardStep:3},{label:String(r("actionsSelection","Actions Selection")),wizardStep:4},{label:String(r("finishSetup","Finish Setup")),wizardStep:5}],d=o.findIndex(m=>m.wizardStep===e),h=m=>{if(n){const g=o[m].wizardStep;n(g)}};return c.jsx(GA,{activeStep:d,alternativeLabel:!l,orientation:"horizontal",sx:{...l&&{"& .MuiStepLabel-label":{display:"none"}}},children:o.map((m,g)=>c.jsx(qA,{children:c.jsx(FA,{onClick:()=>h(g),sx:{cursor:n?"pointer":"default","&:hover":n?{"& .MuiStepLabel-label":{color:"primary.main"}}:{}},children:l?null:m.label})},g))})}function xL({formData:e,setFormData:t,prevStep:n,actionsList:r,close:s}){const l=[100,100],o=[0,0],[d,h]=_.useState(Jv((e==null?void 0:e.finishRange)||[],o)),[m,g]=_.useState(!1),p=Op(),{t:x}=de(),{id:v}=Ht();_.useEffect(()=>{let k={...e,boardUpdated:!0};(!d||!Jv(e.finishRange||[],l))&&(k.finishRange=l),t(k)},[]);const w=async()=>{var k;g(!0);try{await p(e,r);const C=v!==void 0&&(v==null?void 0:v.toUpperCase())!==((k=e.room)==null?void 0:k.toUpperCase());typeof s=="function"&&(C?(Iv.flushSync(()=>{s()}),await new Promise(A=>requestAnimationFrame(()=>requestAnimationFrame(A)))):s())}catch(C){console.error("Error submitting settings:",C),typeof s=="function"&&Iv.flushSync(()=>{s()})}finally{g(!1)}},S=[{id:"noOrgasm",title:"noOrgasm",description:x("noOrgasmDesc"),isSelected:!d},{id:"yesOrgasm",title:"yesOrgasm",description:x("yesOrgasmDesc"),isSelected:d}];return c.jsxs(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column"},children:[c.jsx(Y,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(Z,{i18nKey:"WillYouOrgasm"})}),c.jsx(ke,{container:!0,spacing:2,sx:{mb:4},children:S.map(k=>c.jsx(ke,{size:{xs:12,sm:6},children:c.jsx(mt,{sx:{cursor:"pointer",border:k.isSelected?"3px solid":"1px solid",borderColor:k.isSelected?"primary.main":"divider",backgroundColor:k.isSelected?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%",transform:k.isSelected?"scale(1.02)":"scale(1)","&:hover":{borderColor:"primary.main",transform:"scale(1.02)",boxShadow:2}},onClick:()=>{const C=k.id==="yesOrgasm";t({...e,finishRange:C?o:l}),h(C)},children:c.jsx(wt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(Y,{variant:"h6",sx:{fontWeight:600},children:x(k.title)}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:k.description}),k.isSelected&&c.jsx(nt,{label:x("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},k.id))}),c.jsx(H,{sx:{flexGrow:1}}),c.jsxs(us,{children:[c.jsx(he,{onClick:n,disabled:m,children:c.jsx(Z,{i18nKey:"previous"})}),c.jsx(he,{variant:"contained",onClick:w,disabled:m,startIcon:m?c.jsx(kn,{size:20}):null,size:"large",sx:{px:4},children:c.jsx(Z,{i18nKey:"buildGame"})})]})]})}function bL({formData:e,setFormData:t,nextStep:n,prevStep:r}){const{t:s}=de(),l=!!e.hasLocalPlayers;_.useEffect(()=>{l&&t(p=>({...p,gameMode:"local",roomRealtime:!1}))},[l,t]);const[o,d]=_.useState(!Xt(e==null?void 0:e.gameMode)&&!l);_.useEffect(()=>{d(!Xt(e==null?void 0:e.gameMode)&&!l)},[e==null?void 0:e.gameMode,l]);const h=[{id:"local",title:"yesInteracting",description:s("physicalInteractionDesc"),isSelected:!Xt(e==null?void 0:e.gameMode)},{id:"online",title:"noInteracting",description:s("soloOnlinePlayDesc"),isSelected:Xt(e==null?void 0:e.gameMode)}],m=[{value:"dom",label:"Dominant",description:s("dominantRoleDesc")},{value:"vers",label:"Switch",description:s("switchRoleDesc")},{value:"sub",label:"Submissive",description:s("submissiveRoleDesc")}],g=[{id:"clothed",title:"noNaked",description:s("foreplayClothedDesc"),isSelected:!e.isNaked},{id:"naked",title:"yesNaked",description:s("intimateNudityDesc"),isSelected:e.isNaked}];return c.jsxs(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column"},children:[!l&&c.jsxs(c.Fragment,{children:[c.jsx(Y,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(Z,{i18nKey:"playingWithPeople"})}),c.jsx(ke,{container:!0,spacing:2,sx:{mb:3},children:h.map(p=>c.jsx(ke,{size:{xs:12,sm:6},children:c.jsx(mt,{role:"button",tabIndex:0,sx:{cursor:"pointer",border:p.isSelected?"3px solid":"1px solid",borderColor:p.isSelected?"primary.main":"divider",backgroundColor:p.isSelected?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:()=>t({...e,gameMode:p.id==="local"?"local":"online",roomRealtime:p.id!=="local"}),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),t({...e,gameMode:p.id==="local"?"local":"online",roomRealtime:p.id!=="local"}))},children:c.jsx(wt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(Y,{variant:"h6",sx:{fontWeight:600},children:s(p.title)}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:p.description}),p.isSelected&&c.jsx(nt,{label:s("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},p.id))})]}),l&&c.jsx(Y,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(Z,{i18nKey:"gameModeSelection"})}),o&&c.jsxs(H,{sx:{mb:3},children:[c.jsx(Y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:c.jsx(Z,{i18nKey:"yourRole"})}),c.jsx(ke,{container:!0,spacing:2,sx:{mb:3},children:m.map(p=>c.jsx(ke,{size:{xs:12,sm:4},children:c.jsx(mt,{role:"button",tabIndex:0,sx:{cursor:"pointer",border:e.role===p.value?"2px solid":"1px solid",borderColor:e.role===p.value?"primary.main":"divider",backgroundColor:e.role===p.value?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:()=>t({...e,role:p.value}),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),t({...e,role:p.value}))},children:c.jsx(wt,{sx:{p:2.5},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(Y,{variant:"subtitle1",sx:{fontWeight:600},children:s(p.value)}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:p.description}),e.role===p.value&&c.jsx(nt,{label:s("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},p.value))})]}),!Xt(e==null?void 0:e.gameMode)&&c.jsxs(H,{sx:{mb:3},children:[c.jsx(Y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:c.jsx(Z,{i18nKey:"areYouNaked"})}),c.jsx(ke,{container:!0,spacing:2,children:g.map(p=>c.jsx(ke,{size:{xs:12,sm:6},children:c.jsx(mt,{role:"button",tabIndex:0,sx:{cursor:"pointer",border:p.isSelected?"2px solid":"1px solid",borderColor:p.isSelected?"primary.main":"divider",backgroundColor:p.isSelected?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:()=>t({...e,isNaked:p.id==="naked"}),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),t({...e,isNaked:p.id==="naked"}))},children:c.jsx(wt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(Y,{variant:"h6",sx:{fontWeight:600},children:s(p.title)}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:p.description}),p.isSelected&&c.jsx(nt,{label:s("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},p.id))})]}),c.jsx(H,{sx:{flexGrow:1}}),c.jsxs(us,{children:[c.jsx(he,{onClick:r,children:c.jsx(Z,{i18nKey:"previous"})}),c.jsx(he,{variant:"contained",onClick:n,children:c.jsx(Z,{i18nKey:"next"})})]})]})}function vL({formData:e,setFormData:t,nextStep:n,prevStep:r}){const{t:s}=de(),{hasLocalPlayers:l,clearLocalSession:o}=ms(),[d,h]=_.useState(!1),[m,g]=_.useState(null),p=e.room!=="PUBLIC",x=_.useCallback(()=>{h(!0),g(null)},[]),v=_.useCallback(()=>{l&&o(),t(k=>({...k,hasLocalPlayers:!1,localPlayersData:void 0,localPlayerSessionSettings:void 0,gameMode:k.gameMode==="local"?"online":k.gameMode})),n()},[l,o,n,t]),w=_.useCallback(async(k,C)=>{try{t({...e,localPlayersData:k,localPlayerSessionSettings:C,hasLocalPlayers:!0}),h(!1),n()}catch(A){g(A instanceof Error?A.message:"Failed to save local player configuration")}},[e,t,n]),S=_.useCallback(()=>{h(!1),g(null)},[]);return _.useEffect(()=>{if(!p){const k=setTimeout(()=>{n()},100);return()=>clearTimeout(k)}},[p,n]),p?d?c.jsx(vp,{in:!0,children:c.jsxs(H,{children:[m&&c.jsx(Ct,{severity:"error",sx:{mb:2},children:m}),c.jsx(JS,{roomId:e.room||"PRIVATE",isPrivateRoom:p,onComplete:w,onCancel:S,initialPlayers:e.localPlayersData,initialSettings:e.localPlayerSessionSettings})]})}):c.jsxs(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column"},children:[c.jsx(Y,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(Z,{i18nKey:"localPlayersStep.title"})}),c.jsx(Y,{variant:"body1",color:"text.secondary",sx:{mb:3},children:c.jsx(Z,{i18nKey:"localPlayersStep.subtitle"})}),c.jsxs(ke,{container:!0,spacing:2,sx:{mb:3},children:[c.jsx(ke,{size:{xs:12,sm:6},children:c.jsx(mt,{sx:{cursor:"pointer",border:"1px solid",borderColor:"divider",backgroundColor:"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:x,children:c.jsx(wt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(Y,{variant:"h6",sx:{fontWeight:600},children:c.jsx(Z,{i18nKey:"localPlayersStep.setupOption.title"})}),c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{whiteSpace:"pre-line",textAlign:"left",width:"100%",lineHeight:1.8,mb:2},children:c.jsx(Z,{i18nKey:"localPlayersStep.setupOption.description"})}),c.jsx(he,{variant:"outlined",fullWidth:!0,size:"large",sx:{mt:2},"data-testid":"localPlayersStep.setupOption.button",onClick:x,children:s("localPlayersStep.setupOption.button")})]})})})}),c.jsx(ke,{size:{xs:12,sm:6},children:c.jsx(mt,{sx:{cursor:"pointer",border:"1px solid",borderColor:"divider",backgroundColor:"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:v,children:c.jsx(wt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(Y,{variant:"h6",sx:{fontWeight:600},children:c.jsx(Z,{i18nKey:"localPlayersStep.skipOption.title"})}),c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{whiteSpace:"pre-line",textAlign:"left",width:"100%",lineHeight:1.8,mb:2},children:c.jsx(Z,{i18nKey:"localPlayersStep.skipOption.description"})}),c.jsx(he,{variant:"outlined",fullWidth:!0,size:"large",sx:{mt:2},"data-testid":"localPlayersStep.skipOption.button",onClick:v,children:s("localPlayersStep.skipOption.button")})]})})})})]}),l&&c.jsx(Ct,{severity:"info",sx:{mb:3},children:c.jsx(Y,{variant:"body2",children:c.jsx(Z,{i18nKey:"localPlayersStep.currentStatus.hasPlayers"})})}),c.jsx(H,{sx:{flexGrow:1}}),c.jsxs(us,{children:[c.jsx(he,{onClick:r,children:c.jsx(Z,{i18nKey:"previous"})}),c.jsx(he,{variant:"contained",onClick:v,children:c.jsx(Z,{i18nKey:"skip"})})]})]}):c.jsx(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:c.jsx(Y,{variant:"h6",color:"text.secondary",children:s("localPlayersStep.publicRoomMessage","Local players are not available for public rooms. Continuing...")})})}function s0({isPublic:e,onClick:t,isSelected:n}){const{t:r}=de();return c.jsx(mt,{sx:{cursor:"pointer",border:n?"3px solid":"1px solid",borderColor:n?"primary.main":"grey.300",backgroundColor:n?"primary.50":"background.paper",transform:n?"scale(1.02)":"scale(1)",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",boxShadow:n?4:2,transform:"scale(1.02)"}},onClick:t,children:c.jsx(wt,{sx:{p:3},children:c.jsxs(It,{direction:"row",spacing:3,alignItems:"center",children:[c.jsx(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:56,height:56,borderRadius:"50%",backgroundColor:n?"primary.main":"primary.50",color:n?"primary.contrastText":"primary.main",transition:"all 0.2s ease-in-out"},children:e?c.jsx(o2,{sx:{fontSize:28},"aria-label":"Public"}):c.jsx(u2,{sx:{fontSize:28},"aria-label":"Private"})}),c.jsxs(It,{spacing:.5,flex:1,children:[c.jsxs(It,{direction:"row",alignItems:"center",spacing:1,children:[c.jsx(Y,{variant:"h6",component:"h3",sx:{fontWeight:600},children:c.jsx(Z,{i18nKey:e?"public":"private"})}),n&&c.jsx(nt,{label:r("selected"),size:"small",color:"primary",sx:{fontSize:"0.75rem",fontWeight:500,height:20}})]}),c.jsx(Y,{variant:"body1",color:"text.secondary",sx:{fontSize:"0.95rem"},children:c.jsx(Z,{i18nKey:e?"publicRoomBenefit":"privateRoomBenefit"})})]})]})})})}function wL({formData:e,setFormData:t,nextStep:n}){var r;const{t:s}=de(),{id:l}=Ht(),[o,d]=_.useState(!Je(e.room||l)),[h,m]=_.useState(((r=e.room)==null?void 0:r.toUpperCase())||"");_.useEffect(()=>{const R=e.room||l,M=!Je(R);d(M),m((R==null?void 0:R.toUpperCase())||"")},[l,e.room,o]);const g=async R=>{try{const M=Dc(),E=rs(M,`rooms/${R}/uids`);return(await Yw(E)).exists()}catch(M){return!1}},p=_.useCallback(async()=>{const R=uS("123456789ABCDEFGHJKLMNPQRSTUVWXYZ",5);let M,E=0;const O=10;do if(M=R(),E++,E>=O)break;while(await g(M));return M},[]),x=_.useCallback(()=>{t({...e,room:"PUBLIC",gameMode:"online",roomRealtime:!0}),d(!1)},[e,t]),v=_.useCallback(async()=>{const R=await p();t({...e,room:R,gameMode:"online",roomRealtime:!1}),m(R.toUpperCase()),d(!0)},[e,t,p]),w=_.useCallback(R=>{t({...e,room:R,boardUpdated:!0})},[e,t]),S=_.useCallback(R=>{const M=R.target.value.toUpperCase();m(M)},[]),k=_.useCallback(()=>{w(h)},[w,h]),C=_.useCallback(R=>{R.key==="Enter"&&w(h)},[w,h]),A=Je(e.room||l);function j(){n(A?3:1)}return c.jsxs(H,{sx:{m:1},children:[c.jsx(Y,{variant:"h5",gutterBottom:!0,textAlign:"center",children:c.jsx(Z,{i18nKey:"chooseRoomType"})}),c.jsx(Y,{variant:"body1",color:"text.secondary",textAlign:"center",sx:{mb:3},children:c.jsx(Z,{i18nKey:"roomTypeDescription"})}),c.jsxs(It,{spacing:2,sx:{mb:3},children:[c.jsx(s0,{isPublic:!0,onClick:x,isSelected:A}),c.jsx(s0,{isPublic:!1,onClick:v,isSelected:!A})]}),o&&c.jsxs(H,{sx:{p:3,borderRadius:2,backgroundColor:"primary.50",mb:2},children:[c.jsx(Y,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:s("privateRoomCode")}),c.jsx(Ge,{fullWidth:!0,id:"privateRoom",value:h,onBlur:k,onKeyDown:C,onChange:S,inputProps:{style:{textTransform:"uppercase",fontFamily:"monospace",fontSize:"1.25rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.2em"}},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"background.paper","& fieldset":{borderColor:"divider",borderWidth:2},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main",borderWidth:2}}}}),c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mt:1.5,textAlign:"center"},children:s("privateRoomCodeHelp")})]}),c.jsx(us,{children:c.jsx(he,{variant:"contained",onClick:j,size:"large",children:c.jsx(Z,{i18nKey:"next"})})})]})}function SL({close:e}){const{id:t}=Ht(),[n,r]=_.useState(1),s={room:t||"PUBLIC"},[l,o]=Bp({gameMode:"online",roomRealtime:!0,actions:[],consumption:[],role:"sub",boardUpdated:!1,room:t||"PUBLIC",selectedActions:{}},s),{actionsList:d,isLoading:h}=Vc(l.gameMode,!0),m=Je(l.room);_.useEffect(()=>{m&&(n===2||n===3)&&r(4)},[n,m]);const g=k=>{if(!Number.isInteger(k))return r(n+1);r(n+(k||1))},p=k=>{m&&(k===2||k===3)||r(k)},x=k=>{if(!Number.isInteger(k))return r(n-1);r(n-(k||1))},v=()=>r(0),w=()=>{Je(l.room)||l.gameMode==="online"?r(4):r(1)},S=()=>{const k=Je(l.room);switch(n){case 1:return c.jsx(wL,{formData:l,setFormData:o,nextStep:g});case 2:return k?null:c.jsx(vL,{formData:l,setFormData:o,nextStep:g,prevStep:x});case 3:return k?null:c.jsx(bL,{formData:l,setFormData:o,nextStep:g,prevStep:x});case 4:return c.jsx(gL,{formData:l,setFormData:o,nextStep:g,prevStep:x,actionsList:d,isActionsLoading:h});case 5:return c.jsx(xL,{formData:l,setFormData:o,prevStep:x,actionsList:d,close:e});default:return null}};return n===0?c.jsx(Up,{closeDialog:e,onOpenSetupWizard:w}):c.jsxs(H,{children:[c.jsx(H,{sx:{width:"100%",mt:2,mb:4},children:c.jsx(yL,{currentStep:n,isPublicRoom:m,onStepClick:p})}),S(),c.jsx(pt,{sx:{mt:3}}),c.jsx(he,{onClick:v,children:c.jsx(Z,{i18nKey:"advancedSetup"})})]})}function s_({open:e,close:t=null}){const n=un(),[r]=Rc();return r.get("importBoard")?null:c.jsxs(qt,{fullScreen:n,open:e,maxWidth:"md",children:[c.jsxs(Zt,{children:[c.jsx(Z,{i18nKey:"gameSettingsHeading"}),typeof t=="function"&&c.jsx(pi,{close:t})]}),c.jsx(Ft,{children:c.jsx(SL,{close:typeof t=="function"?t:void 0})})]})}function _L({open:e,close:t,setAlert:n,board:r}){const{t:s}=de(),[l,o]=_.useState(""),[d,h]=_.useState(r.title||"");function m(w){try{return d.length?w.map((S,k)=>{const[C,...A]=S.split(`
`).filter(R=>R);if(C===void 0)throw n({message:s("importNoEmpty")});if(!/^\[.+\]$/.test(C))throw n({message:s("importInvalidTitle",{entry:k+1})});if(!A.length)throw n({message:s("importMissingDescription",{entry:k+1})});return{title:C==null?void 0:C.replace(/\[|\]/g,""),description:A.join(`
`)}}):(n({message:s("importTitleRequired")}),null)}catch(S){return null}}const g=async()=>{const w=l.split(/~+/).filter(k=>k),S=m(w);if(!S)return null;try{if(JSON.stringify(r.tiles)===JSON.stringify(S))return n({message:s("importNoChange")}),null}catch(k){return n({message:s("error"),type:"error"}),null}return bm({...r,title:d,tiles:S}),n({message:s("saved"),type:"success"}),t(),null},p=()=>{var w;const S=(w=r==null?void 0:r.tiles)==null?void 0:w.map(k=>{if(!k)return"";const C=k.title||"",A=k.description||"";return`[${C}]
${A}`}).filter(Boolean);o((S==null?void 0:S.join(`
~~
`))||"")},x=w=>{h(w.target.value)},v=async w=>{if(!w.target.value.length)return n({message:s("importTitleRequired")}),null;bm({...r,title:w.target.value})};return _.useEffect(()=>{e&&p()},[e]),_.useEffect(()=>{h(r.title||"")},[r.title]),c.jsxs(c.Fragment,{children:[c.jsx(Ge,{fullWidth:!0,label:s("title"),value:d,onChange:x,onBlur:v}),c.jsx(Ge,{sx:{mt:2},multiline:!0,fullWidth:!0,value:l,onChange:w=>o(w.target.value),InputProps:{endAdornment:c.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"sticky",top:0},children:[c.jsx(Bt,{title:s("save"),children:c.jsx(Xe,{size:"small",onClick:g,"aria-label":s("save"),children:c.jsx(c2,{color:"success"})})}),c.jsx(Ql,{text:l}),c.jsx(Ql,{text:`${window.location.href}?importBoard=${r.id}`,copiedText:s("copiedLink"),icon:c.jsx(gc,{}),tooltip:s("copyShareLink")})]}),sx:{alignItems:"flex-start"}}})]})}function jL({open:e,close:t,isMobile:n}){var r;const s=hi(SS),[l,o]=_.useState(null),[d,h]=_.useState(0),[m,g]=_.useState(0),p=cn()[0],{user:x}=An();if(!s)return null;const v=O=>{if(!O||!O.length)return null;const N=O[O.length-1];return N!=null&&N.description?N.description.match(/\d+%/g):null},w=O=>{o(O)};async function S({title:O,tiles:N}){const q=N.map(({title:K})=>`* ${K} 
`);q.pop(),q.shift();let D=`### ${Pe("activated")}: ${O}
`;D+=`---
`,D+=[...new Set(q)].join(" "),D+=`---
`;const P=v(N);P&&P.length===3&&(D+=`* ${Pe("finishSlider")} ${P[0]}  | ${P[1]} | ${P[2]}`);const G=await rS({title:O,gameBoard:JSON.stringify(N),settings:JSON.stringify(p)});G!=null&&G.id&&await Yr({room:(p==null?void 0:p.room)||"PUBLIC",user:x,text:D,type:"settings",gameBoardId:G.id,boardSize:N.length,gameMode:p==null?void 0:p.gameMode})}const k=async()=>{const O=await Uc({isActive:0})||0;g(O)},C=O=>{G2(O.id),S(O),o({message:Pe("boardEnabled"),type:"success"})},A=O=>{O!==0&&h(O)},j=()=>{typeof d=="number"&&q2(d),h(0)},R=O=>(N,q)=>{g(q?O:0)},M=O=>!O.tiles||O.tiles.length!==((p==null?void 0:p.roomTileCount)||40),E=O=>M(O)?Pe("boardWrongSize",{size:(p==null?void 0:p.roomTileCount)||40}):O.isActive?Pe("boardActive"):Pe("enableBoard");return c.jsxs(c.Fragment,{children:[c.jsxs(qt,{fullScreen:n,open:e,onClose:t,PaperProps:{sx:{maxHeight:"100%",height:"100%"}},children:[c.jsxs(Zt,{children:[c.jsx(Z,{i18nKey:"manageGameBoards"}),c.jsx(pi,{close:t})]}),c.jsxs(Ft,{style:{overflowY:"scroll"},children:[c.jsxs(H,{sx:{mb:1},children:[c.jsx(he,{variant:"outlined",onClick:k,endIcon:c.jsx(d2,{}),sx:{float:"right"},children:c.jsx(Z,{i18nKey:"add"})}),c.jsx(Y,{children:c.jsx(Z,{i18nKey:"gameBoardDescription"})})]}),s.map(O=>{var N;return c.jsxs(ss,{expanded:m===O.id,onChange:R(O.id||0),children:[c.jsxs(os,{children:[c.jsxs(H,{children:[c.jsx(Y,{variant:"body1",children:O.title}),c.jsx(Y,{variant:"body2",children:Pe("tilesCount",{count:((N=O.tiles)==null?void 0:N.length)||0})})]}),c.jsxs(H,{style:{marginLeft:"auto"},justifyContent:"flex-end",children:[c.jsx(Bt,{title:E(O),children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(Ni,{checked:!!O.isActive,disabled:!!O.isActive||M(O),onChange:()=>C(O),size:"small"})})}),c.jsx(Bt,{title:Pe("delete"),children:c.jsx("span",{style:{display:"inline-block"},children:c.jsx(Xe,{onClick:()=>A(O.id||0),size:"small",component:"span",children:c.jsx(hs,{color:"error"})})})})]})]}),c.jsx(ls,{children:c.jsx(_L,{open:e,close:()=>R(O.id||0)(null,!1),setAlert:w,board:O})})]},O.id)})]})]}),c.jsx(xr,{open:!!(l!=null&&l.message),type:(l==null?void 0:l.type)||"error",close:()=>o(null),children:l==null?void 0:l.message}),c.jsxs(qt,{open:!!d,onClose:()=>h(0),children:[c.jsxs(Zt,{children:[Pe("deleteBoard"),c.jsx(pi,{close:()=>h(0)})]}),c.jsx(Ft,{children:c.jsx(Y,{variant:"body1",children:Pe("confirmDeleteBoard",{title:(r=s.find(O=>O.id===d))==null?void 0:r.title})})}),c.jsxs(Zr,{children:[c.jsx(he,{onClick:()=>h(0),children:Pe("cancel")}),c.jsx(he,{onClick:j,children:Pe("delete")})]})]})]})}function CL({open:e,close:t=null}){const[n]=Bp(),{isLoading:r,actionsList:s}=Vc(n==null?void 0:n.gameMode);return r?null:c.jsx(HS,{setOpen:t||(()=>{}),boardUpdated:()=>null,actionsList:s,open:e})}function kL(){const{id:e}=Ht(),{user:t,wipeAllData:n,isAnonymous:r}=Rp(),s=un(),{i18n:l}=de(),[o,d]=_.useState(!1),h=_.useCallback(U=>d(U),[]),m=cn()[0],[g,p]=_.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1,linkAccount:!1,appSettings:!1,languageChange:!1}),x=_.useCallback((U,W)=>p(ae=>({...ae,[U]:W})),[]),v=_.useCallback(async()=>{await n(),h(!1)},[n,h]),w=U=>window.open(U,"_blank","noreferrer"),S=_.useMemo(()=>c.jsx(HA,{children:c.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),[]),{setLocale:k,updateSettings:C}=Sp(),[A,j]=_.useState(!1),[R,M]=_.useState(null),E=Op(),{actionsList:O}=Vc(m==null?void 0:m.gameMode),N=_.useCallback(async U=>{const W=U.target.value,ae=l.resolvedLanguage||"en";if(ae!==W){j(!0);try{await l.changeLanguage(W),k(W),await new Promise(z=>{const ce=()=>{l.off("languageChanged",ce),z(void 0)};l.on("languageChanged",ce),setTimeout(()=>{l.off("languageChanged",ce),z(void 0)},500)}),M({from:ae,to:W}),x("languageChange",!0)}catch(z){console.error("Error changing language:",z),await l.changeLanguage(W),k(W),await new Promise(ce=>{const fe=()=>{l.off("languageChanged",fe),ce(void 0)};l.on("languageChanged",fe),setTimeout(()=>{l.off("languageChanged",fe),ce(void 0)},500)}),M({from:ae,to:W}),x("languageChange",!0)}finally{j(!1)}}},[l,k,x]),q=_.useCallback(async U=>{if(U&&O)try{await E({...m,boardUpdated:!0},O)}catch(W){console.error("Error rebuilding board:",W),C({boardUpdated:!0})}M(null)},[E,m,O,C]),D=_.useCallback(async()=>{await q(!0)},[q]),P=_.useCallback(async()=>{await q(!1)},[q]),G=_.useCallback(()=>{M(null),x("languageChange",!1)},[x]),K=_.useMemo(()=>Object.entries(Xl).map(([U,W])=>c.jsx(ge,{value:U,children:W.label},U)),[]),ne=_.useMemo(()=>{const U=[{key:"gameBoard",title:c.jsx(Z,{i18nKey:"gameBoards"}),icon:c.jsx(m2,{}),onClick:()=>x("gameBoard",!0)},{key:"customTiles",title:c.jsx(Z,{i18nKey:"customTilesLabel"}),icon:c.jsx(p2,{}),onClick:()=>x("customTiles",!0)},{key:"cast",title:c.jsx(Z,{i18nKey:"tvMode"}),icon:c.jsx(g2,{}),onClick:()=>w(`/${e==null?void 0:e.toUpperCase()}/cast`)},{key:"schedule",title:c.jsx(Z,{i18nKey:"schedule"}),icon:c.jsx(zc,{}),onClick:()=>x("schedule",!0)},{key:"discord",title:"Discord",icon:S,onClick:()=>w("https://discord.gg/mSPBE2hFef")},{key:"about",title:c.jsx(Z,{i18nKey:"about"}),icon:c.jsx(y2,{}),onClick:()=>x("about",!0)}];return t&&(U.unshift({key:"appSettings",title:c.jsx(Z,{i18nKey:"appSettings"}),icon:c.jsx(kp,{}),onClick:()=>x("appSettings",!0)}),U.unshift({key:"settings",title:c.jsx(Z,{i18nKey:m.advancedSettings?"settings":"setupWizard.title"}),icon:c.jsx(Ic,{}),onClick:()=>x("settings",!0)}),r&&U.push({key:"linkAccount",title:c.jsx(Z,{i18nKey:"linkAccount"}),icon:c.jsx(fS,{}),onClick:()=>x("linkAccount",!0)}),U.push({key:"resetApp",title:c.jsx(Z,{i18nKey:"resetApp"}),icon:c.jsx(f2,{}),onClick:()=>v()})),U},[t,e,r,m.advancedSettings,S,v,x]).map(({key:U,title:W,icon:ae,onClick:z})=>c.jsx(mc,{disablePadding:!0,onClick:z,children:c.jsxs(KA,{children:[c.jsx(Zn,{children:ae}),c.jsx(ln,{primary:W})]})},U)),$=(U,W,ae={})=>c.jsx(U,{open:g[W],close:()=>x(W.toString(),!1),isMobile:s,...ae});return c.jsxs(c.Fragment,{children:[c.jsx(Xe,{onClick:()=>h(!0),"aria-label":"open menu",children:c.jsx(h2,{})}),c.jsx(YA,{anchor:"right",open:o,onClose:()=>h(!1),children:c.jsxs(H,{role:"presentation",onClick:()=>h(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[c.jsx(hc,{sx:{flexGrow:1},children:ne}),c.jsx(H,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2},children:c.jsxs(ut,{fullWidth:!0,size:"small",sx:{maxWidth:200},children:[c.jsxs(gt,{id:"drawer-language-label",sx:{display:"flex",alignItems:"center","& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:[c.jsx(Kl,{sx:{mr:.5,fontSize:"1rem"}}),c.jsx(Z,{i18nKey:"language"})]}),c.jsx(ct,{labelId:"drawer-language-label",id:"drawer-language-select",value:l.resolvedLanguage||"en",disabled:A,label:c.jsxs(c.Fragment,{children:[c.jsx(Kl,{sx:{fontSize:"1rem"}}),c.jsx(Z,{i18nKey:"language"})]}),onChange:N,size:"small",MenuProps:{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},children:K})]})})]})}),g.settings&&$(s_,"settings"),g.appSettings&&$(aL,"appSettings"),g.about&&c.jsx(CS,{open:g.about,close:()=>x("about",!1),children:c.jsx(TS,{})}),g.gameBoard&&$(jL,"gameBoard"),g.schedule&&$(LS,"schedule"),g.customTiles&&$(CL,"customTiles"),g.linkAccount&&$(kS,"linkAccount"),R&&c.jsx(TM,{open:g.languageChange,onClose:G,onRebuildBoard:D,onKeepBoard:P,fromLanguage:R.from,toLanguage:R.to})]})}function TL(e,t,n){const r=e.charAt(0)==="#"?e.substring(1,7):e,s=parseInt(r.substring(0,2),16),l=parseInt(r.substring(2,4),16),o=parseInt(r.substring(4,6),16);return s*.299+l*.587+o*.114>186?n:t}function AL(e){let t=0,n;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);let r="#";for(n=0;n<3;n+=1){const s=t>>n*8&255;r+=`00${s.toString(16)}`.slice(-2)}return r}function EL(e,t,n){var r,s,l,o;const d=AL(t),h=n==="small"?18:24;return{sx:{bgcolor:d,width:h,height:h,fontSize:n==="small"?10:12,color:TL(d,"#FFFFFF","#000000")},children:`${((r=e==null?void 0:e.split(" ")[0])==null?void 0:r[0])||""}${(o=(l=(s=e==null?void 0:e.split(" "))==null?void 0:s[1])==null?void 0:l[0])!=null?o:""}`}}function ML({uid:e,displayName:t,size:n}){const r=_.useMemo(()=>EL(t,e,n),[t,e,n]);return c.jsx(Bt,{title:t,children:c.jsx(wp,{...r,className:"player-online"})})}const qc=_.memo(ML);function RL(e){const t=_S(e,"actions","DESC");return[...new Map(t.map(n=>[n.uid,n])).values()]}function $p(){const{user:e}=An(),{messages:t,isLoading:n}=ea(),{onlineUsers:r}=vm();return _.useMemo(()=>{if(n||!e)return[];const l=RL(t);return Object.values(r).map(o=>{var d,h,m;const g=(d=l.find(S=>S.uid===o.uid))==null?void 0:d.text,p=/(?:#)[\d]*(?=:)/gs;let x=0;if(g&&g.match(p)){const S=g.match(p);S&&S[0]&&(x=Number(S[0].replace("#","")))}const v=x>0?x-1:x,w=!!(g!=null&&g.includes(Pe("finish")));return{displayName:o.displayName||"Unknown",uid:o.uid,isSelf:o.uid===e.uid,location:((h=o.gameState)==null?void 0:h.location)||v,isFinished:((m=o.gameState)==null?void 0:m.isFinished)||w,status:o.status||"away",lastActivity:o.lastSeen||new Date(0)}}).sort((o,d)=>o.isSelf?-1:d.isSelf?1:o.status==="active"&&d.status!=="active"?-1:d.status==="active"&&o.status!=="active"?1:o.displayName.localeCompare(d.displayName))},[e,r,t,n])}function l_(){const e=$p(),{localPlayers:t,hasLocalPlayers:n,isLocalPlayerRoom:r}=ms();return _.useMemo(()=>{const l=[],o=e.map(d=>({...d,isLocal:!1}));return l.push(...o),n&&r?t.map(h=>({displayName:h.name,uid:`local-${h.id}`,isSelf:h.isActive,location:h.location,isFinished:h.isFinished,status:"active",lastActivity:new Date,isLocal:!0,localId:h.id,role:h.role,order:h.order})).sort((h,m)=>h.order-m.order):l},[e,t,n,r])}function Em(e){return e.isLocal===!0}function LL({isOpen:e,onClose:t,playerList:n,anchorEl:r}){const{t:s}=de(),l=_.useRef(null);return _.useEffect(()=>{e&&l.current&&l.current.focus()},[e]),c.jsx(Hw,{open:e,anchorEl:r,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{zIndex:1300},slotProps:{paper:{sx:{borderRadius:2,boxShadow:3,p:{xs:1.5,sm:2},backgroundColor:"background.paper"}}},disableRestoreFocus:!0,disableEnforceFocus:!0,children:c.jsxs(H,{ref:l,role:"dialog","aria-label":s("online"),"aria-modal":"true",tabIndex:-1,onKeyDown:o=>{o.key==="Escape"&&t()},children:[c.jsxs(Y,{variant:"subtitle2",sx:{mb:1.5,color:"text.secondary",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:.5},children:[n.some(o=>"isLocal"in o&&Em(o))?s("players"):s("online")," ","(",n.length,")"]}),c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:{xs:1,sm:1.5},alignItems:"flex-start"},children:n.map(o=>{const d="isLocal"in o&&o.isLocal,h=n.some(m=>"isLocal"in m&&Em(m));return c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:{xs:.75,sm:1},width:"auto"},children:[c.jsx(qc,{uid:o.uid,displayName:o.displayName,size:"medium"}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:.25,minWidth:0},children:[c.jsxs(Y,{variant:"body2",sx:{fontSize:{xs:"0.8125rem",sm:"0.875rem"},color:o.isSelf?"primary.main":"text.primary",fontWeight:o.isSelf?600:400,whiteSpace:"nowrap"},children:[o.displayName,o.isSelf&&c.jsxs(Y,{component:"span",sx:{ml:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"},color:"text.secondary"},children:["(",s("you"),")"]})]}),d&&!h&&c.jsx(nt,{label:s("localPlayer"),size:"small",color:"secondary",variant:"outlined",sx:{fontSize:"0.625rem",height:"16px",alignSelf:"flex-start"}})]})]},o.uid)})})]})})}const o_=_.forwardRef(({playerList:e,onClick:t,innerRef:n,...r},s)=>{const l=s||n;return t?c.jsxs(XA,{...r,ref:l,onClick:t,sx:{display:"flex",alignItems:"center",borderRadius:1,px:.5,py:.25,minWidth:44,minHeight:44,color:"text.primary",fontSize:"inherit",fontWeight:500,"&:hover":{backgroundColor:"action.hover"},"&:focus":{backgroundColor:"action.focus"}},children:[c.jsx(Uv,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),e.length]}):c.jsxs("div",{...r,ref:l,style:{display:"flex",alignItems:"center",color:"var(--mui-palette-text-primary)",fontWeight:500},children:[c.jsx(Uv,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),e.length]})});o_.displayName="PlayersOnline";function Wu({room:e,playerList:t=[]}){const{t:n}=de(),[r,s]=_.useState(!1),[l,o]=_.useState(!1),[d,h]=_.useState(!1),{schedule:m}=AS(),g=un(),p=_.useRef(null),x=()=>{s(!0),h(!0)},v=()=>{o(!l)},w=()=>{o(!1)};return c.jsx(Kw,{position:"fixed",children:c.jsxs(WA,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[c.jsxs("div",{className:"site-name",children:[c.jsx(H,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:fM}),c.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),c.jsx("div",{children:c.jsxs("div",{className:"nav-room-name",children:[c.jsx("h2",{children:Je(e)||e===void 0?n("public"):e}),c.jsx(o_,{playerList:t,onClick:v,ref:p,"aria-label":n("online"),"aria-expanded":l,"aria-haspopup":"dialog"}),c.jsx(Xe,{onClick:x,"aria-label":"schedule game",sx:{ml:2},children:c.jsx(QA,{color:"primary",badgeContent:d?null:m.length,children:c.jsx(zc,{})})}),r&&c.jsx(xp,{children:c.jsx(LS,{open:r,close:()=>s(!1),isMobile:g})}),t.length>0&&c.jsx(LL,{isOpen:l,onClose:w,playerList:t,anchorEl:p.current})]})}),c.jsxs("div",{className:"menu-drawer",children:[c.jsx(pM,{size:"medium","aria-label":"Toggle between light and dark theme"}),c.jsx(hM,{}),c.jsx(kL,{})]})]})})}function DL(){var e;const{i18n:t,t:n}=de(),{login:r,user:s,error:l}=An(),[o,d]=_.useState(!1),[h,m]=_.useState("login"),[g,p]=_.useState(!1),[x,v]=_.useState(!1),[w,S]=_.useState(null),k=()=>{m("login"),d(!0)},C=()=>{m("register"),d(!0)},A=Ht(),[j]=Rc(),R=!!j.get("importBoard"),M=(e=A.id)!=null?e:"PUBLIC",E=$p(),[O,N]=_.useState((s==null?void 0:s.displayName)||""),[q,D]=cn(),P=_.useCallback(async $=>{$.preventDefault();try{v(!0),S(null),await D({...q,displayName:O,room:M}),await r(O)}catch(U){const W=U instanceof Error?U.message:"Unknown error occurred";hm("unauthenticated_app_submit",U,{authentication:{step:"unauthenticated_app_submit",displayName:O,room:M}}),S(W);const ae=navigator.userAgent.toLowerCase(),z=ae.includes("firefox"),ce=ae.includes("mobile")||ae.includes("fennec")||ae.includes("fxios")||ae.includes("android")||ae.includes("iphone");z&&ce&&S(`${W}. If you're using a mobile browser, try refreshing the page or temporarily disabling uBlock Origin.`)}finally{v(!1)}},[O,r,M,q,D]),G=_.useCallback(async $=>{$.key==="Enter"&&await P($)},[P]),K=t.resolvedLanguage||"en",F=_.useCallback(async $=>{const U=$.target.value;p(!0);try{await t.changeLanguage(U)}catch(W){console.error("Error changing language:",W),await t.changeLanguage(U)}finally{p(!1)}},[t]),ne=_.useMemo(()=>Object.entries(Xl).map(([$,U])=>c.jsx(ge,{value:$,children:U.label},$)),[]);return c.jsxs(c.Fragment,{children:[c.jsx(Wu,{room:M,playerList:E}),c.jsxs("main",{className:"unauthenticated-container gradient-background-vibrant",children:[c.jsx(ZA,{maxWidth:"lg",sx:{pt:8},component:"section",children:c.jsxs(ke,{container:!0,spacing:4,justifyContent:"center",alignItems:"stretch",children:[c.jsx(ke,{size:{xs:12,md:6,lg:4},children:c.jsx(mt,{className:"unauthenticated-card main-setup-card",children:c.jsxs(wt,{children:[c.jsx("h1",{className:"setup",children:c.jsx(Z,{i18nKey:"setup"})}),c.jsx(Y,{className:"setup-subtitle",variant:"body1",children:c.jsx(Z,{i18nKey:"setupSubtitle"})}),c.jsxs(H,{component:"form",method:"post",onSubmit:P,className:"settings-box",children:[c.jsx(Ge,{fullWidth:!0,id:"displayName",label:n("displayName"),value:O,onChange:$=>N($.target.value),required:!0,autoFocus:!0,onKeyDown:$=>G($),margin:"normal"}),(w||l)&&c.jsx(H,{sx:{mt:2,p:2,borderRadius:1,backgroundColor:"error.main",color:"error.contrastText"},children:c.jsxs(Y,{variant:"body2",children:[c.jsx("strong",{children:"Error:"})," ",w||l]})}),c.jsx(he,{variant:"contained",type:"submit",fullWidth:!0,className:"jump-in-button",size:"large",disabled:x,startIcon:x?c.jsx(kn,{size:20}):c.jsx(x2,{}),sx:{mt:2,py:1.25,fontSize:"1.1rem",fontWeight:600,touchAction:"manipulation",cursor:x?"default":"pointer",userSelect:"none","&:focus":{outline:"2px solid",outlineColor:"primary.main",outlineOffset:"2px"}},onClick:async $=>{await P($)},children:x?c.jsx(Z,{i18nKey:"loadingEllipsis"}):R?c.jsx(Z,{i18nKey:"import"}):c.jsx(Z,{i18nKey:"anonymousLogin"})}),c.jsx(pt,{sx:{my:3},children:c.jsx(Y,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:c.jsx(Z,{i18nKey:"or"})})}),c.jsxs(H,{className:"auth-button-container",children:[c.jsx(he,{variant:"outlined",startIcon:c.jsx(b2,{}),onClick:k,size:"medium",children:c.jsx(Z,{i18nKey:"signIn"})}),c.jsx(he,{variant:"outlined",onClick:C,size:"medium",children:c.jsx(Z,{i18nKey:"createAccount"})})]})]})]})})}),c.jsx(ke,{size:{md:12,lg:8},children:c.jsx(mt,{className:"unauthenticated-card",children:c.jsx(wt,{children:c.jsx(TS,{})})})})]})}),c.jsx("footer",{className:"footer-language-container",children:c.jsxs(H,{className:"footer-language-selector",children:[c.jsx(Kl,{sx:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)"}}),c.jsx(ut,{size:"small",sx:{minWidth:120},children:c.jsx(ct,{value:K,disabled:g,onChange:F,size:"small",variant:"standard",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem","& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.5)"},"&:before":{borderBottomColor:"rgba(255, 255, 255, 0.3)"},"&:hover:before":{borderBottomColor:"rgba(255, 255, 255, 0.5)"}},endAdornment:g&&c.jsx(kn,{size:14}),children:ne})})]})})]}),c.jsx(kS,{open:o,close:()=>d(!1),initialView:h})]})}function OL(e){let t="";for(const r of String(e)){const s=r.codePointAt(0);s>=0&&s<=31||s===127||s>=128&&s<=159||s===8232||s===8233||(t+=r)}return`url("${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}")`}const l0=e=>e&&/\.(jpe?g|png|webp|bmp|svg|gif|avif|tiff?|heic|heif|jfif)(\?.*)?$/i.test(e)?"image":"video";function zL({url:e}){const[t,n]=_.useState(l0(e)),[r,s]=_.useState(e);if(_.useEffect(()=>{s(e),n(l0(e))},[e]),!r)return null;const l=()=>{var d,h;const m=(d=r!=null?r:e)!=null?d:"";let g=!1;try{const v=new URL(m);g=v.host==="imgur.com"||v.host==="i.imgur.com"}catch(v){g=!1}if(g){const v=(h=m.match(/(?:i\.)?imgur\.com\/([a-zA-Z0-9]+)(?:\.[a-z]+)?/))==null?void 0:h[1];if(v){const w=`https://i.imgur.com/${v}.jpg`;s(w),n("image");return}}const x=`${m.replace(/\.(mp4|webm|ogg|mov)(\?.*)?$/i,"")}.jpg`;s(x),n("image")},o=()=>{var d,h;const m=(d=r!=null?r:e)!=null?d:"";let g=!1;try{const p=new URL(m);g=p.host==="imgur.com"||p.host==="i.imgur.com"}catch(p){g=!1}if(g){const p=(h=m.match(/(?:i\.)?imgur\.com\/([a-zA-Z0-9]+)(?:\.[a-z]+)?/))==null?void 0:h[1];if(p){const x=["jpg","png","gif","jpeg","webp"],v=r==null?void 0:r.split(".").pop(),S=x.indexOf(v||"")+1;if(S<x.length){const k=x[S],C=`https://i.imgur.com/${p}.${k}`;s(C)}}}else{const p=["jpg","png","gif","jpeg","webp"],x=r==null?void 0:r.split(".").pop(),w=p.indexOf(x||"")+1;if(w<p.length&&r){const S=p[w],C=`${r.replace(/\.[^.]+(\?.*)?$/,"")}.${S}`;s(C)}}};return t==="video"?c.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,src:r||void 0,className:"video-background",onError:l,preload:"auto",crossOrigin:"anonymous",controls:!0}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"image-background",style:{backgroundImage:r?OL(r):void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"100%",position:"absolute",top:0,left:0}}),c.jsx("img",{src:r||void 0,onError:o,style:{display:"none"},alt:""})]})}function NL({images:e,className:t,zoomDuration:n=3e3,zoomScale:r=1.4}){const{t:s}=de(),[l,o]=_.useState(0),[d,h]=_.useState(0),[m,g]=_.useState(new Set),[p,x]=_.useState(new Set),[v,w]=_.useState(!1),S=_.useRef(null),k=_.useRef(new Map);_.useEffect(()=>{w(!1),g(new Set),x(new Set),k.current.clear(),o(0),h(0)},[e]),_.useEffect(()=>{if(e.length===0)return;const R=E=>new Promise(O=>{if(k.current.has(E)||p.has(E)){O();return}const N=new Image;N.onload=()=>{k.current.set(E,N),g(q=>{const D=new Set(q).add(E);return!v&&E===e[0]&&w(!0),D}),O()},N.onerror=()=>{x(q=>new Set(q).add(E)),O()},N.src=E});(async()=>{const E=Math.min(5,e.length),O=[];for(let N=0;N<E;N++){const q=(l+N)%e.length;O.push(R(e[q]))}await Promise.all(O)})()},[e,l,p,v]),_.useEffect(()=>{if(e.length===0||e.length===1)return;const R=()=>{S.current=window.setInterval(()=>{o(E=>(E+1)%e.length),h(E=>E+1)},n)},M=window.setTimeout(R,2e3);return()=>{window.clearTimeout(M),S.current&&(window.clearInterval(S.current),S.current=null)}},[e.length,n]),_.useEffect(()=>()=>{S.current&&(window.clearInterval(S.current),S.current=null)},[]);const C=e[l]||"",A=m.has(C)||k.current.has(C),j=p.has(C);return _.useEffect(()=>{if(j&&e.length>1&&!e.every(M=>p.has(M))){const M=(l+1)%e.length;o(M),h(E=>E+1)}},[j,l,e.length,e,p]),e.length===0?null:c.jsxs("div",{className:Hl("image-slideshow-container",t),"aria-hidden":!0,children:[c.jsx("div",{className:"image-slideshow-fallback"}),!v&&e.length>0&&c.jsx("div",{className:"loading-message",children:s("loadingImages")}),A&&!j&&c.jsx("div",{className:"image-slideshow-slide",style:{backgroundImage:`url(${C})`,animationDuration:`${n}ms`,"--zoom-scale":r}},d)]})}function Ch(e){return e.replace(/&amp;/g,"&")}const u_=["r.jina.ai","api.allorigins.win/get?url=","corsproxy.io/?"],IL=(e,t=0)=>{const n=u_[t];if(n==="api.allorigins.win/get?url=")return`https://${n}${encodeURIComponent(e)}`;if(n==="corsproxy.io/?")return`https://${n}${encodeURIComponent(e)}`;const r=e.replace(/^https?:\/\//,""),s=e.startsWith("https://")?"https":"http";return`https://${n}/${s}://${r}`};async function PL(e,t,n){var r,s,l,o,d,h,m,g,p,x,v;const w=new Set;let S=null;const k=[j=>`https://www.reddit.com/r/${e}/top.json?limit=100&t=year&raw_json=1${j?`&after=${j}`:""}`,j=>`https://www.reddit.com/r/${e}/hot.json?limit=100&raw_json=1${j?`&after=${j}`:""}`],C=async j=>{try{const R=await fetch(j,{signal:n,credentials:"omit",mode:"cors",headers:{"User-Agent":"BlitzedOut/1.0",Accept:"application/json, text/plain, */*","Accept-Language":"en-US,en;q=0.9"}});if(R.ok){const M=await R.text();try{return JSON.parse(M)}catch(E){const O=M.indexOf("{"),N=M.lastIndexOf("}");if(O!==-1&&N!==-1&&N>O)try{return JSON.parse(M.slice(O,N+1))}catch(q){return null}return null}}}catch(R){if(R instanceof DOMException&&R.name==="AbortError")throw R}for(let R=0;R<u_.length;R++)try{const M=await fetch(IL(j,R),{signal:n,credentials:"omit",mode:"cors",headers:{"User-Agent":"BlitzedOut/1.0",Accept:"application/json, text/plain, */*"}});if(!M.ok)continue;const E=await M.text();let O;try{const N=JSON.parse(E);O=N.contents?JSON.parse(N.contents):N}catch(N){const q=E.indexOf("{"),D=E.lastIndexOf("}");if(q!==-1&&D!==-1&&D>q)try{O=JSON.parse(E.slice(q,D+1))}catch(P){continue}else continue}if(O)return O}catch(M){if(M instanceof DOMException&&M.name==="AbortError")throw M;continue}return null};let A=0;for(;w.size<t&&A<k.length;){S=null;for(let j=0;j<5&&w.size<t;j+=1){const R=k[A](S),M=await C(R);if(!M)break;const E=(s=(r=M==null?void 0:M.data)==null?void 0:r.children)!=null?s:[];S=(o=(l=M==null?void 0:M.data)==null?void 0:l.after)!=null?o:null;for(const O of E){const N=O==null?void 0:O.data;if(!N)continue;const q=N.url_overridden_by_dest,D=N.post_hint;if(N.is_gallery&&N.media_metadata&&N.gallery_data){const G=N.gallery_data.items||[];for(const K of G){const F=N.media_metadata[K.media_id],ne=((d=F==null?void 0:F.s)==null?void 0:d.u)||((h=F==null?void 0:F.s)==null?void 0:h.gif)||((m=F==null?void 0:F.s)==null?void 0:m.mp4);if(typeof ne=="string"){const $=ne.startsWith("http")?ne:`https:${ne}`;/\.(jpe?g|png|gif|webp)(\?.*)?$/i.test($)&&w.add(Ch($))}}continue}if(D==="image"&&typeof q=="string"&&/\.(jpe?g|png|gif|webp)(\?.*)?$/i.test(q)){w.add(Ch(q));continue}const P=(v=(x=(p=(g=N.preview)==null?void 0:g.images)==null?void 0:p[0])==null?void 0:x.source)==null?void 0:v.url;if(P){const G=P.startsWith("http")?P:`https:${P}`;w.add(Ch(G))}}if(!S)break}A+=1}return Array.from(w).slice(0,t)}async function BL(e,t){const n=e.maxImages||150;return{images:await PL(e.subreddit,n,t),source:`r/${e.subreddit}`}}function c_(e){try{const t=new URL(e);return/(^|\.)reddit\.com$/i.test(t.hostname)&&/\/r\//i.test(t.pathname)}catch(t){return!1}}function UL(e){var t;try{const r=new URL(e).pathname.match(/\/r\/([^/]+)/i);return(t=r==null?void 0:r[1])!=null?t:null}catch(n){return null}}const $L=3e5,o0=new Map,kh=new Map;async function VL(e,t){const n=JSON.stringify(e),r=Date.now(),s=o0.get(n);if(s&&r-s.fetchedAt<$L)return s.result;const l=kh.get(n);if(l)try{return await l}catch(d){}const o=BL(e,t).then(d=>(o0.set(n,{fetchedAt:Date.now(),result:d}),d)).finally(()=>{kh.delete(n)});return kh.set(n,o),o}function GL(e){const{t}=de(),[n,r]=_.useState([]),[s,l]=_.useState(!1),[o,d]=_.useState(null),[h,m]=_.useState(null),g=_.useRef(null),p=_.useRef(null),x=_.useRef(null);return _.useEffect(()=>{if(g.current&&g.current.abort(),p.current&&(clearTimeout(p.current),p.current=null),x.current&&(clearTimeout(x.current),x.current=null),r([]),d(null),m(null),!e||!c_(e)){l(!1);return}const v=UL(e);if(!v){d("invalidRedditUrl"),l(!1);return}const w={subreddit:v,maxImages:150};l(!0);const S=new AbortController;g.current=S;const k=async(C=0)=>{try{const A=await VL(w,S.signal);if(S.signal.aborted)return;r(A.images),m(A.source),d(null),l(!1)}catch(A){if(S.signal.aborted)return;if(C<2){const R=Math.pow(2,C)*1e3;x.current=setTimeout(()=>{S.signal.aborted||k(C+1)},R);return}d("redditBlocked"),r([]),m(null),l(!1)}};return p.current=setTimeout(k,300),()=>{S.abort(),p.current&&(clearTimeout(p.current),p.current=null),x.current&&(clearTimeout(x.current),x.current=null)}},[e]),_.useEffect(()=>()=>{g.current&&g.current.abort(),p.current&&(clearTimeout(p.current),p.current=null),x.current&&(clearTimeout(x.current),x.current=null)},[]),{images:n,isLoading:s,error:o?t(o):null,source:h}}function qL({url:e}){const{t}=de(),n=gi(),{images:r,isLoading:s,error:l}=GL(e);return s?c.jsxs("div",{className:"slideshow-container slideshow-loading","aria-hidden":!0,children:[c.jsx("div",{className:"image-slideshow-fallback"}),c.jsx("div",{className:"loading-message",children:t("loadingRedditImages")})]}):l?c.jsxs("div",{className:"slideshow-container slideshow-error","aria-hidden":!0,children:[c.jsx("div",{className:"image-slideshow-fallback"}),c.jsxs("div",{className:"error-message",style:{position:"absolute",bottom:"20px",right:"20px",background:Wn(n.palette.background.paper,.7),color:n.palette.text.primary,padding:"12px 16px",borderRadius:"8px",fontSize:"14px",maxWidth:"300px",zIndex:1e3},children:[c.jsx("strong",{children:t("redditBackgroundNote")}),c.jsx("br",{}),t("redditBlocked")]})]}):r.length===0?c.jsx("div",{className:"slideshow-container slideshow-empty","aria-hidden":!0,children:c.jsx("div",{className:"image-slideshow-fallback"})}):c.jsx(NL,{images:r})}function Mm({url:e=null,isVideo:t=null}){const n=e&&/\.(mp4|webm|ogg|mov|gif)(\?.*)?$/i.test(e),r=e?c_(e):!1,s=e==="color"||e==="gray"||(e==null?void 0:e.includes("/color"))||(e==null?void 0:e.includes("/gray")),l=e&&!s&&(t||!t&&e),o=!t&&r&&e;return c.jsxs(H,{className:Hl("main-container",!l&&"default-background"),role:"presentation",sx:{backgroundImage:!t&&e&&!s&&!r?`url(${e})`:"none"},children:[t&&!r&&(n?c.jsx(zL,{url:e}):c.jsx("iframe",{src:e||void 0,title:"video",width:"100%",height:"100%",allow:"autoplay; fullscreen; encrypted-media; picture-in-picture",sandbox:"allow-same-origin allow-scripts allow-presentation",style:{border:"none"}})),o?c.jsx(qL,{url:e}):null]})}const Th=()=>{const e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||null},FL=()=>{const e=document;return!!(e.fullscreenEnabled||e.webkitFullscreenEnabled||e.mozFullScreenEnabled||e.msFullscreenEnabled)},HL=async e=>{const t=e;if(t.requestFullscreen)return t.requestFullscreen();if(t.webkitRequestFullscreen)return t.webkitRequestFullscreen();if(t.mozRequestFullScreen)return t.mozRequestFullScreen();if(t.msRequestFullscreen)return t.msRequestFullscreen();throw new Error("Fullscreen API is not supported on this device/browser")},KL=async()=>{const e=document;if(e.exitFullscreen)return e.exitFullscreen();if(e.webkitExitFullscreen)return e.webkitExitFullscreen();if(e.mozCancelFullScreen)return e.mozCancelFullScreen();if(e.msExitFullscreen)return e.msExitFullscreen();throw new Error("Exit fullscreen is not supported on this device/browser")},YL=()=>"onfullscreenchange"in document?"fullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"fullscreenchange";function XL(){const e=FL(),[t,n]=_.useState(()=>e?Th()!=null:!1);_.useEffect(()=>{if(!e){n(!1);return}const s=()=>{n(Th()!=null)},l=YL();return document.addEventListener(l,s),()=>{document.removeEventListener(l,s)}},[e]);const r=_.useCallback(()=>{if(!e){console.warn("Fullscreen API is not supported on this device/browser (likely iOS Safari)");return}Th()==null?HL(document.documentElement).catch(l=>{console.error("Error attempting to enable fullscreen:",l),navigator.userAgent.includes("Safari")&&navigator.userAgent.includes("Mobile")&&console.warn("Note: iOS Safari does not support the Fullscreen API")}):KL().catch(l=>{console.error("Error attempting to exit fullscreen:",l)})},[e]);return{isFullscreen:t,toggleFullscreen:r,isSupported:e}}function WL(e){const t=/vimeo\.com\/(\d+)/,n=e.match(t);return`https://player.vimeo.com/video/${n?n[1]:""}?autoplay=1&loop=1&autostart=true`}function QL(e){const t=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|[^#]*[?&]v=|youtu\.be\/)([^"&?/ ]{11})|^(?:[^"&?/ ]{11})$)/,n=e.match(t);return`https://www.youtube.com/embed/${n?n[1]:""}?autoplay=1&loop=1&autostart=true&mute=1&playsinline=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&iv_load_policy=3`}function ZL(e){const t=/drive\.google\.com\/file\/d\/([^/]+)/,n=e.match(t);return`https://drive.google.com/file/d/${n?n[1]:""}/preview?loop=1`}function JL(e){const t=/dropbox\.com\/s\/([^/]+)/,n=e.match(t);return`https://www.dropbox.com/s/${n?n[1]:""}?raw=1`}function eD(e){return`https://pornhub.com/embed/${new URL(e).searchParams.get("viewkey")||""}?autoplay=1&loop=1&autostart=true&playsinline=1`}function tD(e){const t=e.split("-");return`https://xhamster.com/xembed.php?video=${t[t.length-1]}?autoplay=1&loop=1&autostart=true&playsinline=1`}function nD(e){const t=/media1?\.tenor\.com\/(?:m\/)?([a-zA-Z0-9_-]+)\/[^/]*\.(mp4|gif|webp|webm)/,n=e.match(t);if(n){const l=n[2].toLowerCase();return{url:e,isVideo:["mp4","webm"].includes(l)}}const r=/tenor\.com\/view\/[^/]*-(\d+)/,s=e.match(r);return s?{url:`https://tenor.com/embed/${s[1]}`,isVideo:!0}:{url:e,isVideo:!1}}function iD(e){const t=/giphy\.com\/gifs\/[^/]*-([a-zA-Z0-9]+)/,n=e.match(t);return`https://media.giphy.com/media/${n?n[1]:""}/giphy.gif`}function rD(e){return/\d+\.media\.tumblr\.com\/.*\.(gif|mp4|webm)(\?.*)?$/i.test(e),e}function aD(e){const t=/(?:gfycat\.com|redgifs\.com)\/(?:watch\/)?([a-zA-Z0-9]+)/,n=e.match(t),r=n?n[1]:"";return jt(e,["redgifs.com"])?`https://files.redgifs.com/${r}.mp4`:`https://giant.gfycat.com/${r}.mp4`}function sD(e){const t=/redtube\.com\/(\d+)/,n=e.match(t);return`https://embed.redtube.com/?id=${n?n[1]:""}&autoplay=true&auto_play=1&playsinline=1&controls=1`}function lD(e){const t=/youporn\.com\/watch\/(\d+)/,n=e.match(t);return`https://www.youporn.com/embed/${n?n[1]:""}?autoplay=1&playsinline=1`}function oD(e){const t=/tube8\.com\/[^/]+\/[^/]+\/(\d+)/,n=e.match(t);return`https://www.tube8.com/embed/${n?n[1]:""}?autoplay=1&playsinline=1`}function uD(e){return`https://twitframe.com/show?url=${encodeURIComponent(e)}`}function cD(e){try{const o=new URL(e);if((o.host==="discordapp.net"||o.host.endsWith(".discordapp.net"))&&o.pathname.startsWith("/external/")&&(o.pathname.includes("/https/i.imgur.com/")||o.pathname.includes("/https/imgur.com/")))return e}catch(o){console.debug("URL parsing failed for Discord proxy check:",o)}try{const o=new URL(e);if(o.host==="i.imgur.com"&&(o.search||o.pathname.match(/\.[a-zA-Z0-9]+$/)))return e}catch(o){console.debug("URL parsing failed for direct link check:",o)}let t="",n=!1;try{const o=new URL(e);n=o.host==="imgur.com"||o.host==="i.imgur.com"}catch(o){return console.debug("URL parsing failed for Imgur processing:",o),""}if(!n)return"";if(e.includes("/gallery/")){const o=e.match(/imgur\.com\/gallery\/[^#]*#([a-zA-Z0-9]+)/);if(o)t=o[1];else{const d=e.match(/imgur\.com\/gallery\/.*-([a-zA-Z0-9]+)/);if(d)t=d[1];else return console.debug("Could not extract image ID from gallery URL, returning original:",e),e}}else{const o=/imgur\.com\/([a-zA-Z0-9]+)(?:\.(mp4|mov|avi|webm|mkv|flv|wmv|jpg|jpeg|png|gif|gifv|webp|bmp|tiff|svg))?|images-ext-\d+\.discordapp\.net\/external\/[^/]+\/https\/i\.imgur\.com\/([a-zA-Z0-9]+)\.(mp4|mov|avi|webm|mkv|flv|wmv|jpg|jpeg|png|gif|gifv|webp|bmp|tiff|svg)/,d=e.match(o);t=d?d[1]||d[3]:""}if(!t)return"";const r=e.match(/\.([a-zA-Z0-9]+)(?:\?.*)?$/);let s="jpg";if(r&&r[1]){let o=r[1].toLowerCase();const d={gifv:"mp4"};d[o]&&(o=d[o]),["jpg","jpeg","png","gif","webp","mp4","mov","avi","webm","mkv","flv","wmv","bmp","tiff","svg"].includes(o)&&(s=o)}return`https://i.imgur.com/${t}.${s}`}function Rm(e){return/\.(mp4|webm|ogg|mov)(\?.*)?$/.test(e)}function dD(e){return jt(e,["media.discordapp.net","cdn.discordapp.com"])&&!Rm(e)}function jt(e,t){try{const n=new URL(e);return t.some(r=>n.host===r||n.host.endsWith("."+r))}catch(n){return console.debug("URL parsing failed in isValidHost, rejecting for security:",n),!1}}function d_(e){let t=null,n=!0;if(!e)return{url:"",isVideo:!1};switch(!0){case jt(e,["vimeo.com"]):t=WL(e);break;case jt(e,["youtube.com","youtu.be"]):t=QL(e);break;case jt(e,["drive.google.com"]):t=ZL(e);break;case jt(e,["pornhub.com"]):t=eD(e);break;case jt(e,["xhamster.com"]):t=tD(e);break;case jt(e,["dropbox.com"]):t=JL(e);break;case jt(e,["imgur.com","i.imgur.com"]):t=cD(e);break;case jt(e,["tenor.com"]):{const r=nD(e);t=r.url,n=r.isVideo;break}case jt(e,["giphy.com"]):t=iD(e),n=!0;break;case(jt(e,["tumblr.com","media.tumblr.com"])||/\d+\.media\.tumblr\.com/.test(e)):t=rD(e),n=t?Rm(t):!1;break;case jt(e,["gfycat.com","redgifs.com"]):t=aD(e),n=!0;break;case jt(e,["redtube.com"]):t=sD(e);break;case jt(e,["youporn.com"]):t=lD(e);break;case jt(e,["tube8.com"]):t=oD(e);break;case jt(e,["twitter.com","x.com"]):t=uD(e),n=!1;break;case jt(e,["thisvid.com"]):t=e;break;case jt(e,["boyfriendtv.com"]):t=e;break;case dD(e):t=e,n=!1;break;case Rm(e):t=e;break;default:t=bM(e),n=!1;break}return{url:t,isVideo:n}}function fD(e,t){const{background:n,backgroundURL:r,roomBackgroundURL:s}=e;let l=null;return n?n==="custom"?l=r||null:n==="useRoomBackground"?!Je(t)&&s?l=s:l="color":l=n:l="color",l||(l="color"),l==="color"||l==="gray"?{url:l,isVideo:!1}:d_(l)}function hD(e){const t=Xr(e,"room");let n=!1,r="";if(t){let s,l;try{const h=JSON.parse(t.settings||"{}");s=h.roomBackground,l=h.roomBackgroundURL}catch(h){}let o=null;s==="custom"&&l?o=l:s&&s!=="useAppBackground"?o=s:l&&(o=l);const d=d_(o);n=!!d.isVideo,d.url&&(r=d.url)}return["color","gray"].some(s=>r.includes(s))&&(r=""),{isVideo:n,url:r}}function mD(e){return{uid:e.uid,displayName:e.displayName,isSelf:e.isSelf,isFinished:e.isFinished}}function f_(e){const[t,n]=_.useState(null),r=l_(),s=_.useMemo(()=>r.map(o=>`${o.uid}-${o.displayName}-${o.isFinished}-${o.isSelf}`).join("|"),[r]),l=_.useMemo(()=>e?`${e.uid}-${e.displayName||""}`:null,[e]);return _.useEffect(()=>{if(!e){n(null);return}if(r.length<=1){n(null);return}const o=r.filter(p=>!p.isFinished);if(o.length<=1){n(null);return}let d=-1;d=o.findIndex(p=>p.uid===e.uid),d===-1&&(d=o.findIndex(p=>p.displayName===e.displayName)),d===-1&&(d=0);const h=(d+1)%o.length,m=o[h],g=mD(m);n(g)},[l,s]),t}const pD="actions",gD=e=>{var t,n;const{text:r,displayName:s}=e;if(!s)return{};const l=r==null?void 0:r.split(`
`),[o,d]=(l==null?void 0:l.slice(1))||[],h=(t=o==null?void 0:o.split(":")[1])==null?void 0:t.trim(),m=(n=d==null?void 0:d.split(":")[1])==null?void 0:n.trim();return{displayName:s,type:h,activity:m}};function yD(){const{id:e}=Ht(),[t,n]=_.useState(""),[r,s]=_.useState(!1),[l,o]=_.useState(!1),[d,h]=_.useState(!1),{messages:m,isLoading:g}=ea(),{isVideo:p,url:x}=hD(m),v=Xr(m,pD),w=f_(v),{isFullscreen:S,toggleFullscreen:k,isSupported:C}=XL();_.useEffect(()=>{ni().currentUser||nS("Cast Viewer").catch(O=>{console.error("Anonymous login failed:",O)})},[e]),_.useEffect(()=>{if(!p||!x)return;const E=()=>{const q=document.querySelectorAll("video"),D=document.querySelectorAll("iframe");q.forEach(P=>{P.paused&&(P.muted=!0,P.play().catch(()=>{h(!0)}))}),D.forEach(P=>{if(P.src)try{const G=new URL(P.src,window.location.origin),K=G.searchParams;let F=!1;K.get("autoplay")!=="1"&&(K.set("autoplay","1"),F=!0),K.get("mute")!=="1"&&(K.set("mute","1"),F=!0),F&&(G.search=K.toString(),P.src=G.toString())}catch(G){if(!P.src.includes("autoplay=1")){const K=P.src.includes("?")?"&":"?";P.src+=`${K}autoplay=1&mute=1`}}})},O=setTimeout(E,500),N=setTimeout(E,2e3);return()=>{clearTimeout(O),clearTimeout(N)}},[p,x,m.length]),_.useEffect(()=>{var E,O;const N=(O=(E=window.cast)==null?void 0:E.framework)==null?void 0:O.CastReceiverContext,q=navigator.userAgent,D=q.includes("CrKey")||q.includes("TV"),P=window.self!==window.top,G=N||D||window.location.search.includes("chromecast")||window.location.search.includes("receiver");return G&&(document.body.classList.add("cast-receiver-mode"),document.body.classList.remove("theme-light"),o(!0)),P&&document.body.classList.add("in-iframe"),()=>{G&&document.body.classList.remove("cast-receiver-mode"),P&&document.body.classList.remove("in-iframe")}},[]),_.useEffect(()=>{if(g)return;const E=m[m.length-1];(E==null?void 0:E.type)==="settings"&&(s(!0),n(`${E.displayName} ${Pe("changedSettings")}`))},[m,g]);const A=()=>{document.querySelectorAll("video").forEach(O=>{O.paused&&O.play().catch(console.error)}),h(!1)};if(!v)return c.jsxs(H,{className:"flex-column cast-main-container",style:{backgroundImage:!p&&x?`url(${x})`:"none"},children:[!!x&&c.jsx(Mm,{url:x,isVideo:p}),d&&c.jsx(H,{onClick:A,className:"user-interaction-overlay",children:"Click to enable autoplay"}),c.jsx(ke,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",className:"cast-container cast-grid-container",children:c.jsx(ke,{container:!0,justifyContent:"center",children:c.jsxs("div",{className:"action-box-large responsive-cast-box",children:[c.jsxs(Y,{variant:"h2",className:"cast-title",children:["blitzedout.com/",e]}),g?c.jsx(Y,{variant:"h4",className:"cast-loading-text",children:"Connecting to game..."}):c.jsx(Y,{variant:"h4",className:"cast-ready-text",children:"Ready for game to start"})]})})})]});const{displayName:j,type:R,activity:M}=gD(v);return c.jsxs(H,{className:"flex-column cast-main-container",onClick:d?A:void 0,style:{backgroundImage:!p&&x?`url(${x})`:"none",cursor:d?"pointer":"default"},children:[!!x&&c.jsx(Mm,{url:x,isVideo:p}),c.jsxs(H,{display:"flex",justifyContent:"space-between",className:"cast-header-bar",children:[c.jsx(H,{flex:"1",children:!l&&!S&&C&&c.jsx(he,{variant:"text",onClick:k,className:"cast-fullscreen-button",children:Pe("fullscreen")})}),c.jsx(H,{textAlign:"center",flex:"1",children:!!(w!=null&&w.displayName)&&c.jsx(Y,{variant:"h4",className:"cast-next-player",children:c.jsx(Z,{i18nKey:"nextPlayersTurn",values:{player:w.displayName}})})},w==null?void 0:w.displayName),c.jsx(H,{flex:"1",textAlign:"right",className:"text-stroke",children:M&&c.jsxs(Y,{variant:"h4",className:"cast-room-url",children:["blitzedout.com/",e]})})]}),c.jsx(ke,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",className:"cast-container cast-grid-container-adjusted",children:c.jsx(ke,{container:!0,justifyContent:"center",children:M?c.jsxs(ke,{size:12,className:"action-box-responsive responsive-cast-box",children:[c.jsx(Y,{variant:"h3",className:"cast-type-text",children:`${R} ${Pe("for")} ${j}`}),c.jsx(H,{className:"cast-divider",children:c.jsx(pt,{})}),c.jsx(Y,{variant:"h1",className:"cast-activity-text",children:M})]}):c.jsx("div",{className:"action-box-responsive responsive-cast-box",children:c.jsxs(Y,{variant:"h1",className:"cast-room-main",children:["blitzedout.com/",e]})})})},m.length),c.jsx(xr,{open:!!r,close:()=>s(!1),hideCloseButton:!0,children:c.jsx(Y,{variant:"h5",className:"cast-alert-text",children:t})})]})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var cs;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(cs||(cs={}));class ts extends Error{constructor(t,n,r){super(t),this.message=t,this.code=n,this.data=r}}const xD=e=>{var t,n;return e!=null&&e.androidBridge?"android":!((n=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},bD=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},r=n.Plugins=n.Plugins||{},s=()=>t!==null?t.name:xD(e),l=()=>s()!=="web",o=p=>{const x=m.get(p);return!!(x!=null&&x.platforms.has(s())||d(p))},d=p=>{var x;return(x=n.PluginHeaders)===null||x===void 0?void 0:x.find(v=>v.name===p)},h=p=>e.console.error(p),m=new Map,g=(p,x={})=>{const v=m.get(p);if(v)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),v.proxy;const w=s(),S=d(p);let k;const C=async()=>(!k&&w in x?k=typeof x[w]=="function"?k=await x[w]():k=x[w]:t!==null&&!k&&"web"in x&&(k=typeof x.web=="function"?k=await x.web():k=x.web),k),A=(N,q)=>{var D,P;if(S){const G=S==null?void 0:S.methods.find(K=>q===K.name);if(G)return G.rtype==="promise"?K=>n.nativePromise(p,q.toString(),K):(K,F)=>n.nativeCallback(p,q.toString(),K,F);if(N)return(D=N[q])===null||D===void 0?void 0:D.bind(N)}else{if(N)return(P=N[q])===null||P===void 0?void 0:P.bind(N);throw new ts(`"${p}" plugin is not implemented on ${w}`,cs.Unimplemented)}},j=N=>{let q;const D=(...P)=>{const G=C().then(K=>{const F=A(K,N);if(F){const ne=F(...P);return q=ne==null?void 0:ne.remove,ne}else throw new ts(`"${p}.${N}()" is not implemented on ${w}`,cs.Unimplemented)});return N==="addListener"&&(G.remove=async()=>q()),G};return D.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(D,"name",{value:N,writable:!1,configurable:!1}),D},R=j("addListener"),M=j("removeListener"),E=(N,q)=>{const D=R({eventName:N},q),P=async()=>{const K=await D;M({eventName:N,callbackId:K},q)},G=new Promise(K=>D.then(()=>K({remove:P})));return G.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},G},O=new Proxy({},{get(N,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?E:R;case"removeListener":return M;default:return j(q)}}});return r[p]=O,m.set(p,{name:p,proxy:O,platforms:new Set([...Object.keys(x),...S?[w]:[]])}),O};return n.convertFileSrc||(n.convertFileSrc=p=>p),n.getPlatform=s,n.handleError=h,n.isNativePlatform=l,n.isPluginAvailable=o,n.registerPlugin=g,n.Exception=ts,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},vD=e=>e.Capacitor=bD(e),Lm=vD(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),Vp=Lm.registerPlugin;class Gp{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,n){let r=!1;this.listeners[t]||(this.listeners[t]=[],r=!0),this.listeners[t].push(n);const l=this.windowListeners[t];l&&!l.registered&&this.addWindowListener(l),r&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n,r){const s=this.listeners[t];if(!s){if(r){let l=this.retainedEventArguments[t];l||(l=[]),l.push(n),this.retainedEventArguments[t]=l}return}s.forEach(l=>l(n))}hasListeners(t){var n;return!!(!((n=this.listeners[t])===null||n===void 0)&&n.length)}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(t="not implemented"){return new Lm.Exception(t,cs.Unimplemented)}unavailable(t="not available"){return new Lm.Exception(t,cs.Unavailable)}async removeListener(t,n){const r=this.listeners[t];if(!r)return;const s=r.indexOf(n);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const n=this.retainedEventArguments[t];n&&(delete this.retainedEventArguments[t],n.forEach(r=>{this.notifyListeners(t,r)}))}}const u0=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),c0=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class wD extends Gp{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(r=>{if(r.length<=0)return;let[s,l]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=c0(s).trim(),l=c0(l).trim(),n[s]=l}),n}async setCookie(t){try{const n=u0(t.key),r=u0(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,l=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${l}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Vp("CapacitorCookies",{web:()=>new wD});const SD=async e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(e)}),_D=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,l,o)=>(s[l]=e[t[o]],s),{})},jD=(e,t=!0)=>e?Object.entries(e).reduce((r,s)=>{const[l,o]=s;let d,h;return Array.isArray(o)?(h="",o.forEach(m=>{d=t?encodeURIComponent(m):m,h+=`${l}=${d}&`}),h.slice(0,-1)):(d=t?encodeURIComponent(o):o,h=`${l}=${d}`),`${r}&${h}`},"").substr(1):null,CD=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),s=_D(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[o,d]of Object.entries(e.data||{}))l.set(o,d);n.body=l.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const l=new FormData;if(e.data instanceof FormData)e.data.forEach((d,h)=>{l.append(h,d)});else for(const d of Object.keys(e.data))l.append(d,e.data[d]);n.body=l;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(s.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class kD extends Gp{async request(t){const n=CD(t,t.webFetchExtra),r=jD(t.params,t.shouldEncodeUrlParams),s=r?`${t.url}?${r}`:t.url,l=await fetch(s,n),o=l.headers.get("content-type")||"";let{responseType:d="text"}=l.ok?t:{};o.includes("application/json")&&(d="json");let h,m;switch(d){case"arraybuffer":case"blob":m=await l.blob(),h=await SD(m);break;case"json":h=await l.json();break;case"document":case"text":default:h=await l.text()}const g={};return l.headers.forEach((p,x)=>{g[x]=p}),{data:h,headers:g,status:l.status,url:l.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Vp("CapacitorHttp",{web:()=>new kD});var Ka;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Ka||(Ka={}));var zl;(function(e){e.Rear="REAR",e.Front="FRONT"})(zl||(zl={}));var Dm;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(Dm||(Dm={}));class TD extends Gp{async getPhoto(t){return new Promise(async(n,r)=>{if(t.webUseInput||t.source===Ka.Photos)this.fileInputExperience(t,n,r);else if(t.source===Ka.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=t.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async l=>{l.detail===0?this.fileInputExperience(t,n,r):this.cameraExperience(t,n,r)})}else this.cameraExperience(t,n,r)})}async pickImages(t){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(t,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=t.direction===zl.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async l=>{const o=l.detail;o===null?r(new ts("User cancelled photos app")):o instanceof Error?r(o):n(await this._getCameraPhoto(o,t)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch(l){this.fileInputExperience(t,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,n,r)}fileInputExperience(t,n,r){let s=document.querySelector("#_capacitor-camera-input");const l=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const d=s.files[0];let h="jpeg";if(d.type==="image/png"?h="png":d.type==="image/gif"&&(h="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const m=new FileReader;m.addEventListener("load",()=>{if(t.resultType==="dataUrl")n({dataUrl:m.result,format:h});else if(t.resultType==="base64"){const g=m.result.split(",")[1];n({base64String:g,format:h})}l()}),m.readAsDataURL(d)}else n({webPath:URL.createObjectURL(d),format:h}),l()}),s.addEventListener("cancel",o=>{r(new ts("User cancelled photos app")),l()})),s.accept="image/*",s.capture=!0,t.source===Ka.Photos||t.source===Ka.Prompt?s.removeAttribute("capture"):t.direction===zl.Front?s.capture="user":t.direction===zl.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(t,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var l;(l=r.parentNode)===null||l===void 0||l.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",l=>{const o=[];for(let d=0;d<r.files.length;d++){const h=r.files[d];let m="jpeg";h.type==="image/png"?m="png":h.type==="image/gif"&&(m="gif"),o.push({webPath:URL.createObjectURL(h),format:m})}t({photos:o}),s()}),r.addEventListener("cancel",l=>{n(new ts("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(t,n){return new Promise((r,s)=>{const l=new FileReader,o=t.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(t),format:o,saved:!1}):(l.readAsDataURL(t),l.onloadend=()=>{const d=l.result;n.resultType==="dataUrl"?r({dataUrl:d,format:o,saved:!1}):r({base64String:d.split(",")[1],format:o,saved:!1})},l.onerror=d=>{s(d)})})}async checkPermissions(){if(typeof navigator=="undefined"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(t){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const AD=Vp("Camera",{web:()=>new TD}),ED=e=>{const t=e.length-22;return 4*Math.ceil(t/3)*.5624896334383812/1e6};function MD({room:e,isTransparent:t}){const{user:n}=An(),[r,s]=_.useState(""),[l,o]=_.useState(""),{t:d}=de(),h=p=>{s(p.target.value)},m=p=>{p.preventDefault(),Yr({room:e,user:n,text:r,type:"chat"}),s("")},g=async()=>{let p="";try{p=await AD.getPhoto({quality:90,allowEditing:!0,resultType:Dm.Base64})}catch(x){return console.warn("Failed to take photo:",!1,x),""}return p.base64String&&ED(p.base64String)>5?o("File too large! Max size is 5MB. If you need to send a larger file, please use a link from another site."):Yr({room:e,user:n,type:"media",image:p})};return c.jsxs(c.Fragment,{children:[c.jsx("form",{onSubmit:m,className:`message-input-container ${t?"transparent":""}`,children:c.jsx(Ge,{multiline:!0,placeholder:d("messageInput"),fullWidth:!0,value:r,onChange:h,onKeyDown:p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),m(p))},required:!0,inputProps:{minLength:1},InputProps:{startAdornment:c.jsx(Rl,{position:"start",children:c.jsx(Xe,{type:"button",color:"primary",onClick:g,children:c.jsx(w2,{})})}),endAdornment:c.jsx(Rl,{position:"end",children:c.jsx(Xe,{type:"submit",color:"primary",disabled:r.length<1,children:c.jsx(v2,{})})})},helperText:c.jsx(Z,{i18nKey:"markdown"})})}),c.jsx(xr,{open:!!l,close:()=>o(""),children:l})]})}function qp(e,t=!0){const[n,r]=_.useState(e),[s,l]=_.useState(t),o=_.useCallback(()=>l(d=>!d),[]);return _.useEffect(()=>{if(n===-1&&r(0),n<=0||s)return;const d=setInterval(()=>{r(h=>h-1)},1e3);return()=>clearInterval(d)},[n,s]),{timeLeft:n,setTimeLeft:r,togglePause:o,isPaused:s}}function h_({textString:e,preventParentClose:t,noPadding:n=!1}){const[r,s]=_.useState(!1),l=un(),[o,d]=e.split(" ");let h=parseInt(o,10);(Number.isNaN(h)||h<0)&&(h=0);const{timeLeft:m,setTimeLeft:g,togglePause:p,isPaused:x}=qp(h,!0);_.useEffect(()=>p(),[p]);const v=()=>{t(),s(!0),g(h),x&&p()};_.useEffect(()=>{r&&m<=0&&s(!1)},[r,m]);const w=()=>s(!1);return c.jsxs(c.Fragment,{children:[c.jsx(he,{onClick:v,sx:{p:n?0:1},color:"secondary",children:e}),c.jsxs(qt,{open:r,onClose:w,fullScreen:l,maxWidth:"xs","aria-labelledby":"countdown-dialog-title",children:[c.jsx(Zt,{id:"countdown-dialog-title",sx:{pr:6},children:c.jsx(pi,{close:w})}),c.jsx(Ft,{children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2,py:1},children:[c.jsxs(H,{sx:{position:"relative",display:"inline-flex"},children:[c.jsx(kn,{variant:"determinate",value:Math.max(0,Math.min(100,m/h*100)),size:96,thickness:4,color:"primary",sx:{"& .MuiCircularProgress-circle":{transition:"stroke-dashoffset 1000ms linear"}}}),c.jsx(H,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(Y,{variant:"h3","aria-live":"polite",children:m})})]}),c.jsx(Y,{variant:"body2",color:"text.secondary",children:d}),c.jsxs(H,{sx:{display:"flex",gap:1},children:[c.jsx(Xe,{onClick:p,color:"primary","aria-label":x?"resume countdown":"pause countdown",children:x?c.jsx(uo,{}):c.jsx(S2,{})}),c.jsx(Xe,{onClick:()=>g(h),color:"primary","aria-label":"restart countdown",children:c.jsx(_2,{})})]})]})})]})]})}function Ah({children:e,title:t,onClick:n,disabled:r}){return c.jsx(ke,{size:{xs:12,sm:6},container:!0,children:c.jsx(mt,{sx:{width:"100%"},children:c.jsx(JA,{sx:{height:"100%",display:"inline-flex",alignItems:"flex-start",justifyContent:"flex-start"},onClick:n,disabled:r,children:c.jsxs(wt,{sx:{width:"100%",color:r?"gray":"white"},children:[c.jsx(Y,{variant:"h5",children:t}),c.jsx(pt,{sx:{mb:2}}),e]})})})})}function RD(){const{t:e}=de(),{id:t}=Ht(),{user:n}=An();return _.useCallback(async()=>{const s=`${e("restartingGame")}
#1: ${e("start")}
${e("action")}: ${e("start")}`;await Yr({room:t,user:n,text:s,type:"actions"})},[t,n,e])}function m_({isOpen:e=!1,close:t}){const{t:n}=de(),[r,s]=_.useState(!1),l=RD(),o=un(),d=Dp(),[h]=cn(),m=_.useCallback(()=>{l(),t()},[l,t]),g=_.useCallback(async()=>{await d({...h,boardUpdated:!0}),l(),t()},[d,h,l,t]),p=_.useCallback(()=>{s(!0),t()},[t]),x=_.useCallback(()=>{s(!1),l()},[l]);return c.jsxs(c.Fragment,{children:[c.jsx(qt,{open:e,onClose:t,fullScreen:o,"aria-labelledby":"modal-game-over",children:c.jsxs(Ft,{children:[c.jsx(Y,{variant:"h4",textAlign:"center",sx:{mb:2,px:2},children:c.jsx(Z,{i18nKey:"gameOverPlayAgain"})}),c.jsx(pi,{close:t}),c.jsxs(ke,{container:!0,spacing:2,alignItems:"stretch",children:[c.jsx(Ah,{title:n("sameBoard"),onClick:m,children:c.jsx(Z,{i18nKey:"sameBoardDescription"})}),c.jsx(Ah,{title:n("rebuildBoard"),onClick:g,children:c.jsx(Z,{i18nKey:"rebuildBoardDescription"})}),c.jsx(Ah,{title:n("changeSettings"),onClick:p,children:c.jsx(Z,{i18nKey:"changeSettingsDescription"})})]})]})}),!!r&&c.jsxs(qt,{fullScreen:o,open:r,maxWidth:"md",children:[c.jsxs(Zt,{children:[c.jsx(Z,{i18nKey:"gameSettingsHeading"}),c.jsx(pi,{close:x})]}),c.jsx(Ft,{children:c.jsx(Up,{closeDialog:x})})]})]})}function LD({open:e,text:t="",displayName:n="",handleClose:r,stopAutoClose:s=()=>null,nextPlayer:l=null,isMyMessage:o=!1}){const{t:d}=de(),h=un(),[m,g]=_.useState(!1),p=t==null?void 0:t.match(/#\d*:.*(?=\n)/gs),x=ES(t)||"",v=MS(t,d("seconds")),w=20,{timeLeft:S,togglePause:k}=qp(w,!1),[C,A]=_.useState(!0),j=l==null?void 0:l.displayName,R=_.useCallback(()=>{k(),s(),A(!1)},[k,s,A]),M=_.useCallback(()=>{R(),g(!0)},[R]),E=_.useCallback(()=>{g(!1)},[]);return c.jsxs("div",{children:[c.jsxs(qt,{open:e,onClose:r,fullScreen:h,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"transition-dialog-title","aria-describedby":"transition-dialog-description",children:[c.jsxs(Zt,{id:"transition-dialog-title",sx:{pr:6},children:[`${p} ${d("for")} ${n}`,c.jsx(pi,{close:r})]}),c.jsx(H,{sx:{px:3},children:c.jsx(eE,{variant:"determinate",value:Math.max(0,Math.min(100,S/w*100)),sx:{height:4,borderRadius:2,mb:1,"& .MuiLinearProgress-bar":{transition:"transform 1000ms linear"}},"aria-label":d("autoCloseProgress")})}),c.jsxs(Ft,{children:[c.jsx(Y,{id:"transition-dialog-description",variant:"h4",sx:{mt:1,mb:1},children:x}),c.jsx(Y,{variant:"caption",display:"block",sx:{mb:2},children:C?c.jsx(Z,{i18nKey:"autoCloseModal",values:{timeLeft:S}}):c.jsx(Z,{i18nKey:"autoCloseStopped"})}),(v==null?void 0:v.length)&&c.jsxs(H,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[c.jsx(Z,{i18nKey:"timers"}),v.map(O=>c.jsx(h_,{textString:O,preventParentClose:R},O))]}),!!l&&c.jsxs(H,{textAlign:"center",children:[c.jsx(pt,{sx:{my:2}}),c.jsx(Y,{variant:"body1",children:l.isSelf?c.jsx(Z,{i18nKey:"yourTurn"}):c.jsx(Z,{i18nKey:"nextPlayersTurn",values:{player:j}})})]}),!!o&&t.includes(d("finish"))&&c.jsxs(H,{textAlign:"center",children:[c.jsx(pt,{sx:{my:2}}),c.jsx(he,{onClick:M,children:c.jsx(Y,{children:d("playAgain")})})]})]})]}),c.jsx(m_,{isOpen:m,close:E})]})}const DD="/audio/roll-dice-DysgIh_A.mp3",OD="/audio/message-CBVROrdp.mp3";function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bc.apply(null,arguments)}function zD(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ND(e){_.useEffect(e,[])}var ID=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function d0(e,t){var n={},r=n.volume,s=r===void 0?1:r,l=n.playbackRate,o=l===void 0?1:l,d=n.soundEnabled,h=d===void 0?!0:d,m=n.interrupt,g=m===void 0?!1:m,p=n.onload,x=zD(n,ID),v=Rt.useRef(null),w=Rt.useRef(!1),S=Rt.useState(null),k=S[0],C=S[1],A=Rt.useState(null),j=A[0],R=A[1],M=function(){typeof p=="function"&&p.call(this),w.current&&C(this.duration()*1e3),R(this)};ND(function(){return jn(()=>import("../js/chunk-qSjB6ZnJ.js").then(function(D){return D.h}),__vite__mapDeps([6,1,2])).then(function(D){if(!w.current){var P;v.current=(P=D.Howl)!==null&&P!==void 0?P:D.default.Howl,w.current=!0,new v.current(bc({src:Array.isArray(e)?e:[e],volume:s,rate:o,onload:M},x))}}),function(){w.current=!1}}),Rt.useEffect(function(){v.current&&j&&R(new v.current(bc({src:Array.isArray(e)?e:[e],volume:s,onload:M},x)))},[JSON.stringify(e)]),Rt.useEffect(function(){j&&(j.volume(s),x.sprite||j.rate(o))},[j,s,o]);var E=Rt.useCallback(function(D){typeof D=="undefined"&&(D={}),!(!j||!h&&!D.forceSoundEnabled)&&(g&&j.stop(),D.playbackRate&&j.rate(D.playbackRate),j.play(D.id))},[j,h,g]),O=Rt.useCallback(function(D){j&&j.stop(D)},[j]),N=Rt.useCallback(function(D){j&&j.pause(D)},[j]),q=[E,{sound:j,stop:O,pause:N,duration:k}];return q}async function PD(e,t){try{await Wl.speak(e,t,-2)}catch(n){console.error("TTS failed:",n)}}var Qu={exports:{}},BD=Qu.exports,f0;function UD(){return f0||(f0=1,(function(e,t){(function(n,r){e.exports=r()})(BD,(function(){return function(n,r,s){n=n||{};var l=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(m,g,p,x){return l.fromToBase(m,g,p,x)}s.en.relativeTime=o,l.fromToBase=function(m,g,p,x,v){for(var w,S,k,C=p.$locale().relativeTime||o,A=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],j=A.length,R=0;R<j;R+=1){var M=A[R];M.d&&(w=x?s(m).diff(p,M.d,!0):p.diff(m,M.d,!0));var E=(n.rounding||Math.round)(Math.abs(w));if(k=w>0,E<=M.r||!M.r){E<=1&&R>0&&(M=A[R-1]);var O=C[M.l];v&&(E=v(""+E)),S=typeof O=="string"?O.replace("%d",E):O(E,g,M.l,k);break}}if(g)return S;var N=k?C.future:C.past;return typeof N=="function"?N(S):N.replace("%s",S)},l.to=function(m,g){return d(m,g,this,!0)},l.from=function(m,g){return d(m,g,this)};var h=function(m){return m.$u?s.utc():s()};l.toNow=function(m){return this.to(h(this),m)},l.fromNow=function(m){return this.from(h(this),m)}}}))})(Qu)),Qu.exports}var $D=UD();const VD=lo($D);var Zu={exports:{}},GD=Zu.exports,h0;function qD(){return h0||(h0=1,(function(e,t){(function(n,r){e.exports=r(Oc())})(GD,(function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=r(n),l={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(o){return o+"º"}};return s.default.locale(l,null,!0),l}))})(Zu)),Zu.exports}qD();var Ju={exports:{}},FD=Ju.exports,m0;function HD(){return m0||(m0=1,(function(e,t){(function(n,r){e.exports=r(Oc())})(FD,(function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=r(n),l={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return s.default.locale(l,null,!0),l}))})(Ju)),Ju.exports}HD();var ec={exports:{}},KD=ec.exports,p0;function YD(){return p0||(p0=1,(function(e,t){(function(n,r){e.exports=r(Oc())})(KD,(function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=r(n),l={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,d){return d==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,d){var h=100*o+d;return h<600?"凌晨":h<900?"早上":h<1100?"上午":h<1300?"中午":h<1800?"下午":"晚上"}};return s.default.locale(l,null,!0),l}))})(ec)),ec.exports}YD();var tc={exports:{}},XD=tc.exports,g0;function WD(){return g0||(g0=1,(function(e,t){(function(n,r){e.exports=r(Oc())})(XD,(function(n){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var s=r(n),l={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(o){return o},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return s.default.locale(l,null,!0),l}))})(tc)),tc.exports}WD();gr.extend(VD);const p_=e=>{switch(e){case"zh":return"zh-cn";case"es":return"es";case"fr":return"fr";case"hi":return"hi";default:return"en"}},QD=e=>{const t=p_(e);gr.locale(t)},ZD=(e,t)=>{const n=p_(t);return gr(e).locale(n)};function JD(){const{i18n:e}=de(),{user:t}=An(),{messages:n}=ea(),[r,s]=_.useState(!1),[l]=d0(DD),[o]=d0(OD),[d]=cn(),{playerDialog:h,othersDialog:m,mySound:g,otherSound:p,chatSound:x,readRoll:v,voicePreference:w}=d||{},S=_.useMemo(()=>[...n].pop(),[n]),k=_.useCallback(async N=>{if(N)try{await PD(N,w)}catch(q){console.error("Failed to speak text:",q)}},[w]),C=_.useMemo(()=>{if(!(S!=null&&S.timestamp))return!1;const N=as(S.timestamp);return N?gr(N).diff(gr(),"seconds")>=-2:!1},[S]),A=_.useMemo(()=>(S==null?void 0:S.uid)===(t==null?void 0:t.uid),[S,t]),j=!!(h&&A),R=!!(m&&!A),M=(A&&g||!A&&p)&&(S==null?void 0:S.type)==="actions",E=A&&v&&(S==null?void 0:S.type)==="actions",O=x&&(S==null?void 0:S.type)==="chat";return _.useEffect(()=>{if(QD(e.resolvedLanguage||e.language),C&&(S==null?void 0:S.type)==="actions"&&(j||R)&&s(S),C&&S){if(M&&l(),E){const N=ES(S==null?void 0:S.text);k(N)}O&&o()}},[e.resolvedLanguage,e.language,S,A,j,R,M,E,O,l,o,k,C]),{message:r,setMessage:s,isMyMessage:!!A}}const eO=()=>{const{t:e}=de(),{message:t,setMessage:n,isMyMessage:r}=JD(),s=f_(t),l=_.useRef(void 0);_.useEffect(()=>(t&&(l.current=setTimeout(()=>n(!1),21e3)),()=>{l.current&&clearTimeout(l.current)}),[t,n]);const o=_.useCallback(()=>{l.current&&clearTimeout(l.current),n(!1)},[n]),d=_.useCallback(()=>{l.current&&clearTimeout(l.current)},[]);return!t||typeof t!="object"||!t.text||t.text.includes(e("start"))?null:c.jsx(LD,{text:t==null?void 0:t.text,displayName:t==null?void 0:t.displayName,open:!0,handleClose:o,stopAutoClose:d,nextPlayer:s,isMyMessage:r})},tO=({selectedRoll:e,handleMenuItemClick:t})=>{const[n,r]=_.useState(!1),s=_.useRef(null),l=()=>{r(h=>!h)},o=h=>{var m;h.target instanceof Node&&((m=s.current)!=null&&m.contains(h.target))||r(!1)},d=new Map;return d.set("restart",Pe("restart")).set("manual",Pe("manual")).set("30",Pe("auto30")).set("60",Pe("auto60")).set("90",Pe("auto90")).set("custom",Pe("setTimer")),c.jsxs(c.Fragment,{children:[c.jsx(he,{size:"small","aria-controls":n?"split-button-menu":void 0,"aria-expanded":n?"true":void 0,"aria-label":"select roll options","aria-haspopup":"menu",onClick:l,ref:s,children:c.jsx(j2,{})}),c.jsx(tE,{sx:{zIndex:1},open:n,anchorEl:s.current,transition:!0,disablePortal:!0,placement:"top-end",children:({TransitionProps:h})=>c.jsx(nE,{...h,style:{transformOrigin:"right bottom"},children:c.jsx(Vw,{children:c.jsx(iE,{onClickAway:o,children:c.jsx(rE,{id:"split-button-menu",autoFocusItem:!0,children:Array.from(d).map(([m,g])=>c.jsx(ge,{selected:m===e,onClick:()=>t(m),children:g},m))})})})})})]})},Ga=10,nO=({isOpen:e,onClose:t,onSubmit:n})=>{const{t:r}=de(),s=un(),[l,o]=_.useState(30),[d,h]=_.useState(!1),[m,g]=_.useState(!1),[p,x]=_.useState(20),[v,w]=_.useState(60),S={"& input[type=number]":{MozAppearance:"textfield"},"& input[type=number]::-webkit-outer-spin-button, & input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}},k=j=>({input:{endAdornment:j,inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}}),C=()=>{if(m){let j=Number.parseInt(String(p),10),R=Number.parseInt(String(v),10);Number.isNaN(j)?(j=d?1:Ga,x(j)):!d&&j<Ga&&(j=Ga),Number.isNaN(R)||R<j?(R=j,w(R)):R===0&&(R=180,w(R)),d&&(j*=60,R*=60);const M=Math.floor(Math.random()*(R-j+1))+j;n(M,{isRange:!0,min:j,max:R})}else{let j=Number.parseInt(String(l),10);Number.isNaN(j)?(j=d?1:Ga,o(j)):d?j*=60:j<Ga&&(j=Ga),n(j,{isRange:!1})}t()},A=()=>{o(j=>{const R=Number.parseFloat(String(j));return Number.isNaN(R)||R<=0?j:d?(R*60).toString():(R/60).toString()}),x(j=>{const R=Number.parseFloat(String(j));return Number.isNaN(R)||R<=0?j:d?(R*60).toString():(R/60).toString()}),w(j=>{const R=Number.parseFloat(String(j));return Number.isNaN(R)||R<=0?j:d?(R*60).toString():(R/60).toString()}),h(j=>!j)};return c.jsxs(qt,{open:e,onClose:t,fullScreen:s,maxWidth:"xs","aria-labelledby":"custom-timer-dialog-title",children:[c.jsx(Zt,{id:"custom-timer-dialog-title",children:r("setTimer")}),c.jsxs(Ft,{children:[c.jsx(H,{sx:{mb:2},children:c.jsx(Fl,{control:c.jsx(Ni,{checked:m,onChange:j=>g(j.target.checked)}),label:r("useRandomRange")})}),m?c.jsxs(H,{children:[c.jsx(Y,{variant:"subtitle2",children:r("randomTimerRange")}),c.jsxs(H,{sx:{display:"flex",gap:2,my:2},children:[c.jsx(Ge,{label:r("minValue"),type:"number",value:p,onChange:j=>{const R=parseInt(j.target.value,10);x(R)},fullWidth:!0,sx:S,slotProps:k(c.jsx(Rl,{position:"end",children:r(d?"minutes":"seconds")}))}),c.jsx(Y,{variant:"body1",sx:{alignSelf:"center"},children:"-"}),c.jsx(Ge,{label:r("maxValue"),type:"number",value:v,onChange:j=>{const R=parseInt(j.target.value,10);w(Math.max(Number(p),R))},fullWidth:!0,sx:S,slotProps:k(c.jsx(Rl,{position:"end",children:r(d?"minutes":"seconds")}))})]}),c.jsxs(he,{onClick:A,variant:"outlined",size:"small",children:[r(d?"minutes":"seconds"),c.jsx($v,{sx:{ml:1}})]})]}):c.jsx(Ge,{autoFocus:!0,type:"number",value:l,onChange:j=>o(j.target.value),fullWidth:!0,sx:S,slotProps:k(c.jsx(Rl,{position:"end",children:c.jsxs(he,{onClick:A,variant:"text",children:[r(d?"minutes":"seconds"),c.jsx($v,{sx:{ml:1}})]})}))})]}),c.jsxs(Zr,{sx:{p:2,gap:1},children:[c.jsx(he,{onClick:t,variant:"outlined",fullWidth:s,children:r("cancel")}),c.jsx(he,{onClick:C,variant:"contained",autoFocus:!0,fullWidth:s,children:r("set")})]})]})},Fp=_.createContext({});function ho(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const Hp=typeof window!="undefined",Kp=Hp?_.useLayoutEffect:_.useEffect,Fc=_.createContext(null);function Yp(e,t){e.indexOf(t)===-1&&e.push(t)}function Xp(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Pi=(e,t,n)=>n>t?t:n<e?e:n;let Wp=()=>{};const Bi={},g_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function y_(e){return typeof e=="object"&&e!==null}const x_=e=>/^0[^.\s]+$/u.test(e);function Qp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Gn=e=>e,iO=(e,t)=>n=>t(e(n)),mo=(...e)=>e.reduce(iO),Zl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Zp{constructor(){this.subscriptions=[]}add(t){return Yp(this.subscriptions,t),()=>Xp(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let l=0;l<s;l++){const o=this.subscriptions[l];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ci=e=>e*1e3,di=e=>e/1e3;function b_(e,t){return t?e*(1e3/t):0}const v_=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,rO=1e-7,aO=12;function sO(e,t,n,r,s){let l,o,d=0;do o=t+(n-t)/2,l=v_(o,r,s)-e,l>0?n=o:t=o;while(Math.abs(l)>rO&&++d<aO);return o}function po(e,t,n,r){if(e===t&&n===r)return Gn;const s=l=>sO(l,0,1,e,n);return l=>l===0||l===1?l:v_(s(l),t,r)}const w_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S_=e=>t=>1-e(1-t),__=po(.33,1.53,.69,.99),Jp=S_(__),j_=w_(Jp),C_=e=>(e*=2)<1?.5*Jp(e):.5*(2-Math.pow(2,-10*(e-1))),eg=e=>1-Math.sin(Math.acos(e)),k_=S_(eg),T_=w_(eg),lO=po(.42,0,1,1),oO=po(0,0,.58,1),A_=po(.42,0,.58,1),uO=e=>Array.isArray(e)&&typeof e[0]!="number",E_=e=>Array.isArray(e)&&typeof e[0]=="number",cO={linear:Gn,easeIn:lO,easeInOut:A_,easeOut:oO,circIn:eg,circInOut:T_,circOut:k_,backIn:Jp,backInOut:j_,backOut:__,anticipate:C_},dO=e=>typeof e=="string",y0=e=>{if(E_(e)){Wp(e.length===4);const[t,n,r,s]=e;return po(t,n,r,s)}else if(dO(e))return cO[e];return e},zu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fO(e,t){let n=new Set,r=new Set,s=!1,l=!1;const o=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){o.has(g)&&(m.schedule(g),e()),g(d)}const m={schedule:(g,p=!1,x=!1)=>{const w=x&&s?n:r;return p&&o.add(g),w.has(g)||w.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(d=g,s){l=!0;return}s=!0,[n,r]=[r,n],n.forEach(h),n.clear(),s=!1,l&&(l=!1,m.process(g))}};return m}const hO=40;function M_(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,o=zu.reduce((j,R)=>(j[R]=fO(l),j),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:g,update:p,preRender:x,render:v,postRender:w}=o,S=()=>{const j=Bi.useManualTiming?s.timestamp:performance.now();n=!1,Bi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(j-s.timestamp,hO),1)),s.timestamp=j,s.isProcessing=!0,d.process(s),h.process(s),m.process(s),g.process(s),p.process(s),x.process(s),v.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(S))},k=()=>{n=!0,r=!0,s.isProcessing||e(S)};return{schedule:zu.reduce((j,R)=>{const M=o[R];return j[R]=(E,O=!1,N=!1)=>(n||k(),M.schedule(E,O,N)),j},{}),cancel:j=>{for(let R=0;R<zu.length;R++)o[zu[R]].cancel(j)},state:s,steps:o}}const{schedule:et,cancel:Ui,state:Nt,steps:Eh}=M_(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Gn,!0);let nc;function mO(){nc=void 0}const on={now:()=>(nc===void 0&&on.set(Nt.isProcessing||Bi.useManualTiming?Nt.timestamp:performance.now()),nc),set:e=>{nc=e,queueMicrotask(mO)}},R_=e=>t=>typeof t=="string"&&t.startsWith(e),tg=R_("--"),pO=R_("var(--"),ng=e=>pO(e)?gO.test(e.split("/*")[0].trim()):!1,gO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jl={...ps,transform:e=>Pi(0,1,e)},Nu={...ps,default:1},Nl=e=>Math.round(e*1e5)/1e5,ig=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yO(e){return e==null}const xO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rg=(e,t)=>n=>!!(typeof n=="string"&&xO.test(n)&&n.startsWith(e)||t&&!yO(n)&&Object.prototype.hasOwnProperty.call(n,t)),L_=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,l,o,d]=r.match(ig);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(o),alpha:d!==void 0?parseFloat(d):1}},bO=e=>Pi(0,255,e),Mh={...ps,transform:e=>Math.round(bO(e))},Gr={test:rg("rgb","red"),parse:L_("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Mh.transform(e)+", "+Mh.transform(t)+", "+Mh.transform(n)+", "+Nl(Jl.transform(r))+")"};function vO(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Om={test:rg("#"),parse:vO,transform:Gr.transform},go=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pr=go("deg"),fi=go("%"),je=go("px"),wO=go("vh"),SO=go("vw"),x0={...fi,parse:e=>fi.parse(e)/100,transform:e=>fi.transform(e*100)},Ya={test:rg("hsl","hue"),parse:L_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+fi.transform(Nl(t))+", "+fi.transform(Nl(n))+", "+Nl(Jl.transform(r))+")"},vt={test:e=>Gr.test(e)||Om.test(e)||Ya.test(e),parse:e=>Gr.test(e)?Gr.parse(e):Ya.test(e)?Ya.parse(e):Om.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Gr.transform(e):Ya.transform(e),getAnimatableNone:e=>{const t=vt.parse(e);return t.alpha=0,vt.transform(t)}},_O=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jO(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(ig))==null?void 0:t.length)||0)+(((n=e.match(_O))==null?void 0:n.length)||0)>0}const D_="number",O_="color",CO="var",kO="var(",b0="${}",TO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function eo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(TO,h=>(vt.test(h)?(r.color.push(l),s.push(O_),n.push(vt.parse(h))):h.startsWith(kO)?(r.var.push(l),s.push(CO),n.push(h)):(r.number.push(l),s.push(D_),n.push(parseFloat(h))),++l,b0)).split(b0);return{values:n,split:d,indexes:r,types:s}}function z_(e){return eo(e).values}function N_(e){const{split:t,types:n}=eo(e),r=t.length;return s=>{let l="";for(let o=0;o<r;o++)if(l+=t[o],s[o]!==void 0){const d=n[o];d===D_?l+=Nl(s[o]):d===O_?l+=vt.transform(s[o]):l+=s[o]}return l}}const AO=e=>typeof e=="number"?0:vt.test(e)?vt.getAnimatableNone(e):e;function EO(e){const t=z_(e);return N_(e)(t.map(AO))}const yr={test:jO,parse:z_,createTransformer:N_,getAnimatableNone:EO};function Rh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function MO({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,l=0,o=0;if(!t)s=l=o=n;else{const d=n<.5?n*(1+t):n+t-n*t,h=2*n-d;s=Rh(h,d,e+1/3),l=Rh(h,d,e),o=Rh(h,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(o*255),alpha:r}}function vc(e,t){return n=>n>0?t:e}const at=(e,t,n)=>e+(t-e)*n,Lh=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},RO=[Om,Gr,Ya],LO=e=>RO.find(t=>t.test(e));function v0(e){const t=LO(e);if(!t)return!1;let n=t.parse(e);return t===Ya&&(n=MO(n)),n}const w0=(e,t)=>{const n=v0(e),r=v0(t);if(!n||!r)return vc(e,t);const s={...n};return l=>(s.red=Lh(n.red,r.red,l),s.green=Lh(n.green,r.green,l),s.blue=Lh(n.blue,r.blue,l),s.alpha=at(n.alpha,r.alpha,l),Gr.transform(s))},zm=new Set(["none","hidden"]);function DO(e,t){return zm.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function OO(e,t){return n=>at(e,t,n)}function ag(e){return typeof e=="number"?OO:typeof e=="string"?ng(e)?vc:vt.test(e)?w0:IO:Array.isArray(e)?I_:typeof e=="object"?vt.test(e)?w0:zO:vc}function I_(e,t){const n=[...e],r=n.length,s=e.map((l,o)=>ag(l)(l,t[o]));return l=>{for(let o=0;o<r;o++)n[o]=s[o](l);return n}}function zO(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=ag(e[s])(e[s],t[s]));return s=>{for(const l in r)n[l]=r[l](s);return n}}function NO(e,t){var s;const n=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const o=t.types[l],d=e.indexes[o][r[o]],h=(s=e.values[d])!=null?s:0;n[l]=h,r[o]++}return n}const IO=(e,t)=>{const n=yr.createTransformer(t),r=eo(e),s=eo(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?zm.has(e)&&!s.values.length||zm.has(t)&&!r.values.length?DO(e,t):mo(I_(NO(r,s),s.values),n):vc(e,t)};function P_(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?at(e,t,n):ag(e)(e,t)}const PO=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>et.update(t,n),stop:()=>Ui(t),now:()=>Nt.isProcessing?Nt.timestamp:on.now()}},B_=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)r+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wc=2e4;function sg(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<wc;)t+=n,r=e.next(t);return t>=wc?1/0:t}function BO(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(sg(r),wc);return{type:"keyframes",ease:l=>r.next(s*l).value/t,duration:di(s)}}const UO=5;function U_(e,t,n){const r=Math.max(t-UO,0);return b_(n-e(r),t-r)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dh=.001;function $O({duration:e=ot.duration,bounce:t=ot.bounce,velocity:n=ot.velocity,mass:r=ot.mass}){let s,l,o=1-t;o=Pi(ot.minDamping,ot.maxDamping,o),e=Pi(ot.minDuration,ot.maxDuration,di(e)),o<1?(s=m=>{const g=m*o,p=g*e,x=g-n,v=Nm(m,o),w=Math.exp(-p);return Dh-x/v*w},l=m=>{const p=m*o*e,x=p*n+n,v=Math.pow(o,2)*Math.pow(m,2)*e,w=Math.exp(-p),S=Nm(Math.pow(m,2),o);return(-s(m)+Dh>0?-1:1)*((x-v)*w)/S}):(s=m=>{const g=Math.exp(-m*e),p=(m-n)*e+1;return-Dh+g*p},l=m=>{const g=Math.exp(-m*e),p=(n-m)*(e*e);return g*p});const d=5/e,h=GO(s,l,d);if(e=ci(e),isNaN(h))return{stiffness:ot.stiffness,damping:ot.damping,duration:e};{const m=Math.pow(h,2)*r;return{stiffness:m,damping:o*2*Math.sqrt(r*m),duration:e}}}const VO=12;function GO(e,t,n){let r=n;for(let s=1;s<VO;s++)r=r-e(r)/t(r);return r}function Nm(e,t){return e*Math.sqrt(1-t*t)}const qO=["duration","bounce"],FO=["stiffness","damping","mass"];function S0(e,t){return t.some(n=>e[n]!==void 0)}function HO(e){let t={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...e};if(!S0(e,FO)&&S0(e,qO))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,l=2*Pi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ot.mass,stiffness:s,damping:l}}else{const n=$O(e);t={...t,...n,mass:ot.mass},t.isResolvedFromDuration=!0}return t}function Sc(e=ot.visualDuration,t=ot.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const l=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:g,duration:p,velocity:x,isResolvedFromDuration:v}=HO({...n,velocity:-di(n.velocity||0)}),w=x||0,S=m/(2*Math.sqrt(h*g)),k=o-l,C=di(Math.sqrt(h/g)),A=Math.abs(k)<5;r||(r=A?ot.restSpeed.granular:ot.restSpeed.default),s||(s=A?ot.restDelta.granular:ot.restDelta.default);let j;if(S<1){const M=Nm(C,S);j=E=>{const O=Math.exp(-S*C*E);return o-O*((w+S*C*k)/M*Math.sin(M*E)+k*Math.cos(M*E))}}else if(S===1)j=M=>o-Math.exp(-C*M)*(k+(w+C*k)*M);else{const M=C*Math.sqrt(S*S-1);j=E=>{const O=Math.exp(-S*C*E),N=Math.min(M*E,300);return o-O*((w+S*C*k)*Math.sinh(N)+M*k*Math.cosh(N))/M}}const R={calculatedDuration:v&&p||null,next:M=>{const E=j(M);if(v)d.done=M>=p;else{let O=M===0?w:0;S<1&&(O=M===0?ci(w):U_(j,M,E));const N=Math.abs(O)<=r,q=Math.abs(o-E)<=s;d.done=N&&q}return d.value=d.done?o:E,d},toString:()=>{const M=Math.min(sg(R),wc),E=B_(O=>R.next(M*O).value,M,30);return M+"ms "+E},toTransition:()=>{}};return R}Sc.applyToOptions=e=>{const t=BO(e,100,Sc);return e.ease=t.ease,e.duration=ci(t.duration),e.type="keyframes",e};function Im({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:o,min:d,max:h,restDelta:m=.5,restSpeed:g}){const p=e[0],x={done:!1,value:p},v=N=>d!==void 0&&N<d||h!==void 0&&N>h,w=N=>d===void 0?h:h===void 0||Math.abs(d-N)<Math.abs(h-N)?d:h;let S=n*t;const k=p+S,C=o===void 0?k:o(k);C!==k&&(S=C-p);const A=N=>-S*Math.exp(-N/r),j=N=>C+A(N),R=N=>{const q=A(N),D=j(N);x.done=Math.abs(q)<=m,x.value=x.done?C:D};let M,E;const O=N=>{v(x.value)&&(M=N,E=Sc({keyframes:[x.value,w(x.value)],velocity:U_(j,N,x.value),damping:s,stiffness:l,restDelta:m,restSpeed:g}))};return O(0),{calculatedDuration:null,next:N=>{let q=!1;return!E&&M===void 0&&(q=!0,R(N),O(N)),M!==void 0&&N>=M?E.next(N-M):(!q&&R(N),x)}}}function KO(e,t,n){const r=[],s=n||Bi.mix||P_,l=e.length-1;for(let o=0;o<l;o++){let d=s(e[o],e[o+1]);if(t){const h=Array.isArray(t)?t[o]||Gn:t;d=mo(h,d)}r.push(d)}return r}function $_(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const l=e.length;if(Wp(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=KO(t,r,s),h=d.length,m=g=>{if(o&&g<e[0])return t[0];let p=0;if(h>1)for(;p<e.length-2&&!(g<e[p+1]);p++);const x=Zl(e[p],e[p+1],g);return d[p](x)};return n?g=>m(Pi(e[0],e[l-1],g)):m}function YO(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Zl(0,t,r);e.push(at(n,1,s))}}function XO(e){const t=[0];return YO(t,e.length-1),t}function WO(e,t){return e.map(n=>n*t)}function QO(e,t){return e.map(()=>t||A_).splice(0,e.length-1)}function Il({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=uO(r)?r.map(y0):y0(r),l={done:!1,value:t[0]},o=WO(n&&n.length===t.length?n:XO(t),e),d=$_(o,t,{ease:Array.isArray(s)?s:QO(t,s)});return{calculatedDuration:e,next:h=>(l.value=d(h),l.done=h>=e,l)}}const ZO=e=>e!==null;function lg(e,{repeat:t,repeatType:n="loop"},r,s=1){const l=e.filter(ZO),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const JO={decay:Im,inertia:Im,tween:Il,keyframes:Il,spring:Sc};function V_(e){typeof e.type=="string"&&(e.type=JO[e.type])}class og{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const ez=e=>e/100;class ug extends og{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;V_(t);const{type:n=Il,repeat:r=0,repeatDelay:s=0,repeatType:l,velocity:o=0}=t;let{keyframes:d}=t;const h=n||Il;h!==Il&&typeof d[0]!="number"&&(this.mixKeyframes=mo(ez,P_(d[0],d[1])),d=[0,100]);const m=h({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...d].reverse(),velocity:-o})),m.calculatedDuration===null&&(m.calculatedDuration=sg(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:l,mirroredGenerator:o,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:p,repeatType:x,repeatDelay:v,type:w,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let j=this.currentTime,R=r;if(p){const N=Math.min(this.currentTime,s)/d;let q=Math.floor(N),D=N%1;!D&&N>=1&&(D=1),D===1&&q--,q=Math.min(q,p+1),!!(q%2)&&(x==="reverse"?(D=1-D,v&&(D-=v/d)):x==="mirror"&&(R=o)),j=Pi(0,1,D)*d}const M=A?{done:!1,value:g[0]}:R.next(j);l&&(M.value=l(M.value));let{done:E}=M;!A&&h!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return O&&w!==Im&&(M.value=lg(g,this.options,k,this.speed)),S&&S(M.value),O&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return di(this.calculatedDuration)}get time(){return di(this.currentTime)}set time(t){var n;t=ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(on.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=di(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=PO,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(l=(s=this.options).onPlay)==null||l.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n!=null?n:r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function tz(e){var t;for(let n=1;n<e.length;n++)(t=e[n])!=null||(e[n]=e[n-1])}const qr=e=>e*180/Math.PI,Pm=e=>{const t=qr(Math.atan2(e[1],e[0]));return Bm(t)},nz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Pm,rotateZ:Pm,skewX:e=>qr(Math.atan(e[1])),skewY:e=>qr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Bm=e=>(e=e%360,e<0&&(e+=360),e),_0=Pm,j0=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),C0=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),iz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j0,scaleY:C0,scale:e=>(j0(e)+C0(e))/2,rotateX:e=>Bm(qr(Math.atan2(e[6],e[5]))),rotateY:e=>Bm(qr(Math.atan2(-e[2],e[0]))),rotateZ:_0,rotate:_0,skewX:e=>qr(Math.atan(e[4])),skewY:e=>qr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Um(e){return e.includes("scale")?1:0}function $m(e,t){if(!e||e==="none")return Um(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=iz,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nz,s=d}if(!s)return Um(t);const l=r[t],o=s[1].split(",").map(az);return typeof l=="function"?l(o):o[l]}const rz=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return $m(n,t)};function az(e){return parseFloat(e.trim())}const gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ys=new Set(gs),k0=e=>e===ps||e===je,sz=new Set(["x","y","z"]),lz=gs.filter(e=>!sz.has(e));function oz(e){const t=[];return lz.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Hr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$m(t,"x"),y:(e,{transform:t})=>$m(t,"y")};Hr.translateX=Hr.x;Hr.translateY=Hr.y;const Kr=new Set;let Vm=!1,Gm=!1,qm=!1;function G_(){if(Gm){const e=Array.from(Kr).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=oz(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([l,o])=>{var d;(d=r.getValue(l))==null||d.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Gm=!1,Vm=!1,Kr.forEach(e=>e.complete(qm)),Kr.clear()}function q_(){Kr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Gm=!0)})}function uz(){qm=!0,q_(),G_(),qm=!1}class cg{constructor(t,n,r,s,l,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=l,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Kr.add(this),Vm||(Vm=!0,et.read(q_),et.resolveKeyframes(G_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),o=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,o);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=o),s&&l===void 0&&s.set(t[0])}tz(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Kr.delete(this)}cancel(){this.state==="scheduled"&&(Kr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const cz=e=>e.startsWith("--");function dz(e,t,n){cz(t)?e.style.setProperty(t,n):e.style[t]=n}const fz=Qp(()=>window.ScrollTimeline!==void 0),hz={};function mz(e,t){const n=Qp(e);return()=>{var r;return(r=hz[t])!=null?r:n()}}const F_=mz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),El=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,T0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function H_(e,t){if(e)return typeof e=="function"?F_()?B_(e,t):"ease-out":E_(e)?El(e):Array.isArray(e)?e.map(n=>H_(n,t)||T0.easeOut):T0[e]}function pz(e,t,n,{delay:r=0,duration:s=300,repeat:l=0,repeatType:o="loop",ease:d="easeOut",times:h}={},m=void 0){const g={[t]:n};h&&(g.offset=h);const p=H_(d,s);Array.isArray(p)&&(g.easing=p);const x={delay:r,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:l+1,direction:o==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),e.animate(g,x)}function K_(e){return typeof e=="function"&&"applyToOptions"in e}function gz({type:e,...t}){var n,r;return K_(e)&&F_()?e.applyToOptions(t):((n=t.duration)!=null||(t.duration=300),(r=t.ease)!=null||(t.ease="easeOut"),t)}class yz extends og{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:l,allowFlatten:o=!1,finalKeyframe:d,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=o,this.options=t,Wp(typeof t.type!="string");const m=gz(t);this.animation=pz(n,r,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=lg(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):dz(n,r,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return di(Number(t))}get time(){return di(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&fz()?(this.animation.timeline=t,Gn):n(this)}}const Y_={anticipate:C_,backInOut:j_,circInOut:T_};function xz(e){return e in Y_}function bz(e){typeof e.ease=="string"&&xz(e.ease)&&(e.ease=Y_[e.ease])}const A0=10;class vz extends yz{constructor(t){bz(t),V_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){var m;const{motionValue:n,onUpdate:r,onComplete:s,element:l,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new ug({...o,autoplay:!1}),h=ci((m=this.finishedTime)!=null?m:this.time);n.setWithVelocity(d.sample(h-A0).value,d.sample(h).value,A0),d.stop()}}const E0=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yr.test(e)||e==="0")&&!e.startsWith("url("));function wz(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Sz(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],o=E0(s,t),d=E0(l,t);return!o||!d?!1:wz(e)||(n==="spring"||K_(n))&&r}function Fm(e){e.duration=0,e.type}const _z=new Set(["opacity","clipPath","filter","transform"]),jz=Qp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cz(e){var g;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:l,type:o}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=t.owner.getProps();return jz()&&n&&_z.has(n)&&(n!=="transform"||!m)&&!h&&!r&&s!=="mirror"&&l!==0&&o!=="inertia"}const kz=40;class Tz extends og{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:o="loop",keyframes:d,name:h,motionValue:m,element:g,...p}){var w;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=on.now();const x={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:l,repeatType:o,name:h,motionValue:m,element:g,...p},v=(g==null?void 0:g.KeyframeResolver)||cg;this.keyframeResolver=new v(d,(S,k,C)=>this.onKeyframesResolved(S,k,x,!C),h,m,g),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:l,type:o,velocity:d,delay:h,isHandoff:m,onUpdate:g}=r;this.resolvedAt=on.now(),Sz(t,l,o,d)||((Bi.instantAnimations||!h)&&(g==null||g(lg(t,r,n))),t[0]=t[t.length-1],Fm(r),r.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},v=!m&&Cz(x)?new vz({...x,element:x.motionValue.owner.current}):new ug(x);v.finished.then(()=>this.notifyFinished()).catch(Gn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),uz()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Az=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ez(e){const t=Az.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n!=null?n:r}`,s]}function X_(e,t,n=1){const[r,s]=Ez(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const o=l.trim();return g_(o)?parseFloat(o):o}return ng(s)?X_(s,t,n+1):s}function dg(e,t){var n,r;return(r=(n=e==null?void 0:e[t])!=null?n:e==null?void 0:e.default)!=null?r:e}const W_=new Set(["width","height","top","left","right","bottom",...gs]),Mz={test:e=>e==="auto",parse:e=>e},Q_=e=>t=>t.test(e),Z_=[ps,je,fi,pr,SO,wO,Mz],M0=e=>Z_.find(Q_(e));function Rz(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||x_(e):!0}const Lz=new Set(["brightness","contrast","saturate","opacity"]);function Dz(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(ig)||[];if(!r)return e;const s=n.replace(r,"");let l=Lz.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+s+")"}const Oz=/\b([a-z-]*)\(.*?\)/gu,Hm={...yr,getAnimatableNone:e=>{const t=e.match(Oz);return t?t.map(Dz).join(" "):e}},R0={...ps,transform:Math.round},zz={rotate:pr,rotateX:pr,rotateY:pr,rotateZ:pr,scale:Nu,scaleX:Nu,scaleY:Nu,scaleZ:Nu,skew:pr,skewX:pr,skewY:pr,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:Jl,originX:x0,originY:x0,originZ:je},fg={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...zz,zIndex:R0,fillOpacity:Jl,strokeOpacity:Jl,numOctaves:R0},Nz={...fg,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Hm,WebkitFilter:Hm},J_=e=>Nz[e];function ej(e,t){let n=J_(e);return n!==Hm&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Iz=new Set(["auto","none","0"]);function Pz(e,t,n){let r=0,s;for(;r<e.length&&!s;){const l=e[r];typeof l=="string"&&!Iz.has(l)&&eo(l).values.length&&(s=e[r]),r++}if(s&&n)for(const l of t)e[l]=ej(n,s)}class Bz extends cg{constructor(t,n,r,s,l){super(t,n,r,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),ng(m))){const g=X_(m,n.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!W_.has(r)||t.length!==2)return;const[s,l]=t,o=M0(s),d=M0(l);if(o!==d)if(k0(o)&&k0(d))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else Hr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||Rz(t[s]))&&r.push(s);r.length&&Pz(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Hr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,o=r[l];r[l]=Hr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function Uz(e,t,n){var r;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const l=(r=n==null?void 0:n[e])!=null?r:s.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const tj=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function nj(e){return y_(e)&&"offsetHeight"in e}const L0=30,$z=e=>!isNaN(parseFloat(e)),Pl={current:void 0};class Vz{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const s=on.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=on.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$z(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Zp);const r=this.events[t].add(n);return t==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Pl.current&&Pl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>L0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,L0);return b_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wr(e,t){return new Vz(e,t)}const{schedule:hg}=M_(queueMicrotask,!1),Xn={x:!1,y:!1};function ij(){return Xn.x||Xn.y}function Gz(e){return e==="x"||e==="y"?Xn[e]?null:(Xn[e]=!0,()=>{Xn[e]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function rj(e,t){const n=Uz(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function D0(e){return!(e.pointerType==="touch"||ij())}function qz(e,t,n={}){const[r,s,l]=rj(e,n),o=d=>{if(!D0(d))return;const{target:h}=d,m=t(h,d);if(typeof m!="function"||!h)return;const g=p=>{D0(p)&&(m(p),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(d=>{d.addEventListener("pointerenter",o,s)}),l}const aj=(e,t)=>t?e===t?!0:aj(e,t.parentElement):!1,mg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Fz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Hz(e){return Fz.has(e.tagName)||e.tabIndex!==-1}const ic=new WeakSet;function O0(e){return t=>{t.key==="Enter"&&e(t)}}function Oh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Kz=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=O0(()=>{if(ic.has(n))return;Oh(n,"down");const s=O0(()=>{Oh(n,"up")}),l=()=>Oh(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function z0(e){return mg(e)&&!ij()}function Yz(e,t,n={}){const[r,s,l]=rj(e,n),o=d=>{const h=d.currentTarget;if(!z0(d))return;ic.add(h);const m=t(h,d),g=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),ic.has(h)&&ic.delete(h),z0(v)&&typeof m=="function"&&m(v,{success:w})},p=v=>{g(v,h===window||h===document||n.useGlobalTarget||aj(h,v.target))},x=v=>{g(v,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",x,s)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",o,s),nj(d)&&(d.addEventListener("focus",m=>Kz(m,s)),!Hz(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function sj(e){return y_(e)&&"ownerSVGElement"in e}function Xz(e){return sj(e)&&e.tagName==="svg"}function Wz(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],l=e[2+n],o=e[3+n],d=$_(s,l,o);return t?d(r):d}const Vt=e=>!!(e&&e.getVelocity),Qz=[...Z_,vt,yr],Zz=e=>Qz.find(Q_(e)),Hc=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Jz extends _.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=nj(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function eN({children:e,isPresent:t,anchorX:n,root:r}){const s=_.useId(),l=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=_.useContext(Hc);return _.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:p,right:x}=o.current;if(t||!l.current||!h||!m)return;const v=n==="left"?`left: ${p}`:`right: ${x}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const S=r!=null?r:document.head;return S.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(w)&&S.removeChild(w)}},[t]),c.jsx(Jz,{isPresent:t,childRef:l,sizeRef:o,children:_.cloneElement(e,{ref:l})})}const tN=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:o,anchorX:d,root:h})=>{const m=ho(nN),g=_.useId();let p=!0,x=_.useMemo(()=>(p=!1,{id:g,initial:t,isPresent:n,custom:s,onExitComplete:v=>{m.set(v,!0);for(const w of m.values())if(!w)return;r&&r()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[n,m,r]);return l&&p&&(x={...x}),_.useMemo(()=>{m.forEach((v,w)=>m.set(w,!1))},[n]),_.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(eN,{isPresent:n,anchorX:d,root:h,children:e})),c.jsx(Fc.Provider,{value:x,children:e})};function nN(){return new Map}function lj(e=!0){const t=_.useContext(Fc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,l=_.useId();_.useEffect(()=>{if(e)return s(l)},[e]);const o=_.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,o]:[!0]}const Iu=e=>e.key||"";function N0(e){const t=[];return _.Children.forEach(e,n=>{_.isValidElement(n)&&t.push(n)}),t}const oj=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:l="sync",propagate:o=!1,anchorX:d="left",root:h})=>{const[m,g]=lj(o),p=_.useMemo(()=>N0(e),[e]),x=o&&!m?[]:p.map(Iu),v=_.useRef(!0),w=_.useRef(p),S=ho(()=>new Map),[k,C]=_.useState(p),[A,j]=_.useState(p);Kp(()=>{v.current=!1,w.current=p;for(let E=0;E<A.length;E++){const O=Iu(A[E]);x.includes(O)?S.delete(O):S.get(O)!==!0&&S.set(O,!1)}},[A,x.length,x.join("-")]);const R=[];if(p!==k){let E=[...p];for(let O=0;O<A.length;O++){const N=A[O],q=Iu(N);x.includes(q)||(E.splice(O,0,N),R.push(N))}return l==="wait"&&R.length&&(E=R),j(N0(E)),C(p),null}const{forceRender:M}=_.useContext(Fp);return c.jsx(c.Fragment,{children:A.map(E=>{const O=Iu(E),N=o&&!m?!1:p===A||x.includes(O),q=()=>{if(S.has(O))S.set(O,!0);else return;let D=!0;S.forEach(P=>{P||(D=!1)}),D&&(M==null||M(),j(w.current),o&&(g==null||g()),r&&r())};return c.jsx(tN,{isPresent:N,initial:!v.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:h,onExitComplete:N?void 0:q,anchorX:d,children:E},O)})})},uj=_.createContext({strict:!1}),I0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ds={};for(const e in I0)ds[e]={isEnabled:t=>I0[e].some(n=>!!t[n])};function iN(e){for(const t in e)ds[t]={...ds[t],...e[t]}}const rN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _c(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rN.has(e)}let cj=e=>!_c(e);function aN(e){typeof e=="function"&&(cj=t=>t.startsWith("on")?!_c(t):e(t))}try{aN(require("@emotion/is-prop-valid").default)}catch(e){}function sN(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(cj(s)||n===!0&&_c(s)||!t&&!_c(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Kc=_.createContext({});function Yc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function to(e){return typeof e=="string"||Array.isArray(e)}const pg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],gg=["initial",...pg];function Xc(e){return Yc(e.animate)||gg.some(t=>to(e[t]))}function dj(e){return!!(Xc(e)||e.variants)}function lN(e,t){if(Xc(e)){const{initial:n,animate:r}=e;return{initial:n===!1||to(n)?n:void 0,animate:to(r)?r:void 0}}return e.inherit!==!1?t:{}}function oN(e){const{initial:t,animate:n}=lN(e,_.useContext(Kc));return _.useMemo(()=>({initial:t,animate:n}),[P0(t),P0(n)])}function P0(e){return Array.isArray(e)?e.join(" "):e}const no={};function uN(e){for(const t in e)no[t]=e[t],tg(t)&&(no[t].isCSSVariable=!0)}function fj(e,{layout:t,layoutId:n}){return ys.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!no[e]||e==="opacity")}const cN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dN=gs.length;function fN(e,t,n){let r="",s=!0;for(let l=0;l<dN;l++){const o=gs[l],d=e[o];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(o.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=tj(d,fg[o]);if(!h){s=!1;const g=cN[o]||o;r+=`${g}(${m}) `}n&&(t[o]=m)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function yg(e,t,n){const{style:r,vars:s,transformOrigin:l}=e;let o=!1,d=!1;for(const h in t){const m=t[h];if(ys.has(h)){o=!0;continue}else if(tg(h)){s[h]=m;continue}else{const g=tj(m,fg[h]);h.startsWith("origin")?(d=!0,l[h]=g):r[h]=g}}if(t.transform||(o||n?r.transform=fN(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${h} ${m} ${g}`}}const xg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hj(e,t,n){for(const r in t)!Vt(t[r])&&!fj(r,n)&&(e[r]=t[r])}function hN({transformTemplate:e},t){return _.useMemo(()=>{const n=xg();return yg(n,t,e),Object.assign({},n.vars,n.style)},[t])}function mN(e,t){const n=e.style||{},r={};return hj(r,n,e),Object.assign(r,hN(e,t)),r}function pN(e,t){const n={},r=mN(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const gN={offset:"stroke-dashoffset",array:"stroke-dasharray"},yN={offset:"strokeDashoffset",array:"strokeDasharray"};function xN(e,t,n=1,r=0,s=!0){e.pathLength=1;const l=s?gN:yN;e[l.offset]=je.transform(-r);const o=je.transform(t),d=je.transform(n);e[l.array]=`${o} ${d}`}function mj(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:l=1,pathOffset:o=0,...d},h,m,g){var v,w;if(yg(e,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x}=e;p.transform&&(x.transform=p.transform,delete p.transform),(x.transform||p.transformOrigin)&&(x.transformOrigin=(v=p.transformOrigin)!=null?v:"50% 50%",delete p.transformOrigin),x.transform&&(x.transformBox=(w=g==null?void 0:g.transformBox)!=null?w:"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&xN(p,s,l,o,!1)}const pj=()=>({...xg(),attrs:{}}),gj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function bN(e,t,n,r){const s=_.useMemo(()=>{const l=pj();return mj(l,t,gj(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};hj(l,e.style,e),s.style={...l,...s.style}}return s}const vN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bg(e){return typeof e!="string"||e.includes("-")?!1:!!(vN.indexOf(e)>-1||/[A-Z]/u.test(e))}function wN(e,t,n,{latestValues:r},s,l=!1){const d=(bg(e)?bN:pN)(t,r,s,e),h=sN(t,typeof e=="string",l),m=e!==_.Fragment?{...h,...d,ref:n}:{},{children:g}=t,p=_.useMemo(()=>Vt(g)?g.get():g,[g]);return _.createElement(e,{...m,children:p})}function B0(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function vg(e,t,n,r){if(typeof t=="function"){const[s,l]=B0(r);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=B0(r);t=t(n!==void 0?n:e.custom,s,l)}return t}function rc(e){return Vt(e)?e.get():e}function SN({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:_N(n,r,s,e),renderState:t()}}function _N(e,t,n,r){const s={},l=r(e,{});for(const x in l)s[x]=rc(l[x]);let{initial:o,animate:d}=e;const h=Xc(e),m=dj(e);t&&m&&!h&&e.inherit!==!1&&(o===void 0&&(o=t.initial),d===void 0&&(d=t.animate));let g=n?n.initial===!1:!1;g=g||o===!1;const p=g?d:o;if(p&&typeof p!="boolean"&&!Yc(p)){const x=Array.isArray(p)?p:[p];for(let v=0;v<x.length;v++){const w=vg(e,x[v]);if(w){const{transitionEnd:S,transition:k,...C}=w;for(const A in C){let j=C[A];if(Array.isArray(j)){const R=g?j.length-1:0;j=j[R]}j!==null&&(s[A]=j)}for(const A in S)s[A]=S[A]}}}return s}const yj=e=>(t,n)=>{const r=_.useContext(Kc),s=_.useContext(Fc),l=()=>SN(e,t,r,s);return n?l():ho(l)};function wg(e,t,n){var l;const{style:r}=e,s={};for(const o in r)(Vt(r[o])||t.style&&Vt(t.style[o])||fj(o,e)||((l=n==null?void 0:n.getValue(o))==null?void 0:l.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const jN=yj({scrapeMotionValuesFromProps:wg,createRenderState:xg});function xj(e,t,n){const r=wg(e,t,n);for(const s in e)if(Vt(e[s])||Vt(t[s])){const l=gs.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[l]=e[s]}return r}const CN=yj({scrapeMotionValuesFromProps:xj,createRenderState:pj}),kN=Symbol.for("motionComponentSymbol");function Xa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function TN(e,t,n){return _.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xa(n)&&(n.current=r))},[t])}const Sg=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AN="framerAppearId",bj="data-"+Sg(AN),vj=_.createContext({});function EN(e,t,n,r,s){var S,k;const{visualElement:l}=_.useContext(Kc),o=_.useContext(uj),d=_.useContext(Fc),h=_.useContext(Hc).reducedMotion,m=_.useRef(null);r=r||o.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,p=_.useContext(vj);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&MN(m.current,n,s,p);const x=_.useRef(!1);_.useInsertionEffect(()=>{g&&x.current&&g.update(n,d)});const v=n[bj],w=_.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,v)));return Kp(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),_.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),w.current=!1),g.enteringChildren=void 0)}),g}function MN(e,t,n,r){const{layoutId:s,layout:l,drag:o,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wj(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!o||d&&Xa(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:h,layoutRoot:m})}function wj(e){if(e)return e.options.allowProjection!==!1?e.projection:wj(e.parent)}function zh(e,{forwardMotionProps:t=!1}={},n,r){var d,h;n&&iN(n);const s=bg(e)?CN:jN;function l(m,g){let p;const x={..._.useContext(Hc),...m,layoutId:RN(m)},{isStatic:v}=x,w=oN(m),S=s(m,v);if(!v&&Hp){LN();const k=DN(x);p=k.MeasureLayout,w.visualElement=EN(e,S,x,r,k.ProjectionNode)}return c.jsxs(Kc.Provider,{value:w,children:[p&&w.visualElement?c.jsx(p,{visualElement:w.visualElement,...x}):null,wN(e,m,TN(S,w.visualElement,g),S,v,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${(h=(d=e.displayName)!=null?d:e.name)!=null?h:""})`}`;const o=_.forwardRef(l);return o[kN]=e,o}function RN({layoutId:e}){const t=_.useContext(Fp).id;return t&&e!==void 0?t+"-"+e:e}function LN(e,t){_.useContext(uj).strict}function DN(e){const{drag:t,layout:n}=ds;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ON(e,t){if(typeof Proxy=="undefined")return zh;const n=new Map,r=(l,o)=>zh(l,o,e,t),s=(l,o)=>r(l,o);return new Proxy(s,{get:(l,o)=>o==="create"?r:(n.has(o)||n.set(o,zh(o,void 0,e,t)),n.get(o))})}function Sj({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function zN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Nh(e){return e===void 0||e===1}function Km({scale:e,scaleX:t,scaleY:n}){return!Nh(e)||!Nh(t)||!Nh(n)}function Vr(e){return Km(e)||_j(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _j(e){return U0(e.x)||U0(e.y)}function U0(e){return e&&e!=="0%"}function jc(e,t,n){const r=e-n,s=t*r;return n+s}function $0(e,t,n,r,s){return s!==void 0&&(e=jc(e,s,r)),jc(e,n,r)+t}function Ym(e,t=0,n=1,r,s){e.min=$0(e.min,t,n,r,s),e.max=$0(e.max,t,n,r,s)}function jj(e,{x:t,y:n}){Ym(e.x,t.translate,t.scale,t.originPoint),Ym(e.y,n.translate,n.scale,n.originPoint)}const V0=.999999999999,G0=1.0000000000001;function IN(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,o;for(let d=0;d<s;d++){l=n[d],o=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Qa(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jj(e,o)),r&&Vr(l.latestValues)&&Qa(e,l.latestValues))}t.x<G0&&t.x>V0&&(t.x=1),t.y<G0&&t.y>V0&&(t.y=1)}function Wa(e,t){e.min=e.min+t,e.max=e.max+t}function q0(e,t,n,r,s=.5){const l=at(e.min,e.max,s);Ym(e,t,n,l,r)}function Qa(e,t){q0(e.x,t.x,t.scaleX,t.scale,t.originX),q0(e.y,t.y,t.scaleY,t.scale,t.originY)}function Cj(e,t){return Sj(NN(e.getBoundingClientRect(),t))}function PN(e,t,n){const r=Cj(e,n),{scroll:s}=t;return s&&(Wa(r.x,s.offset.x),Wa(r.y,s.offset.y)),r}const F0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Za=()=>({x:F0(),y:F0()}),H0=()=>({min:0,max:0}),ht=()=>({x:H0(),y:H0()}),Xm={current:null},kj={current:!1};function BN(){if(kj.current=!0,!!Hp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xm.current=e.matches;e.addEventListener("change",t),t()}else Xm.current=!1}const UN=new WeakMap;function $N(e,t,n){for(const r in t){const s=t[r],l=n[r];if(Vt(s))e.addValue(r,s);else if(Vt(l))e.addValue(r,Wr(s,{owner:e}));else if(l!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,Wr(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const K0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VN{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:l,visualState:o},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=on.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,et.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Xc(n),this.isVariantNode=dj(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in p){const v=p[x];h[x]!==void 0&&Vt(v)&&v.set(h[x])}}mount(t){var n;this.current=t,UN.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),kj.current||BN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xm.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ui(this.notifyUpdate),Ui(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){var n;this.children.add(t),(n=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ys.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ds){const n=ds[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<K0.length;r++){const s=K0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,o=t[l];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=$N(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var s;let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!=null?s:this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(g_(r)||x_(r))?r=parseFloat(r):!Zz(r)&&yr.test(n)&&(r=ej(t,n)),this.setBaseTarget(t,Vt(r)?r.get():r)),Vt(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=vg(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Vt(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Zp),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){hg.render(this.render)}}class Tj extends VN{constructor(){super(...arguments),this.KeyframeResolver=Bz}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Aj(e,{style:t,vars:n},r,s){const l=e.style;let o;for(o in t)l[o]=t[o];s==null||s.applyProjectionStyles(l,r);for(o in n)l.setProperty(o,n[o])}function GN(e){return window.getComputedStyle(e)}class qN extends Tj{constructor(){super(...arguments),this.type="html",this.renderInstance=Aj}readValueFromInstance(t,n){var r;if(ys.has(n))return(r=this.projection)!=null&&r.isProjecting?Um(n):rz(t,n);{const s=GN(t),l=(tg(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Cj(t,n)}build(t,n,r){yg(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return wg(t,n,r)}}const Ej=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FN(e,t,n,r){Aj(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Ej.has(s)?s:Sg(s),t.attrs[s])}class HN extends Tj{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ys.has(n)){const r=J_(n);return r&&r.default||0}return n=Ej.has(n)?n:Sg(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xj(t,n,r)}build(t,n,r){mj(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){FN(t,n,r,s)}mount(t){this.isSVGTag=gj(t.tagName),super.mount(t)}}const KN=(e,t)=>bg(e)?new HN(t):new qN(t,{allowProjection:e!==_.Fragment});function ns(e,t,n){const r=e.getProps();return vg(r,t,n!==void 0?n:r.custom,e)}const Wm=e=>Array.isArray(e);function YN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wr(n))}function XN(e){return Wm(e)?e[e.length-1]||0:e}function WN(e,t){const n=ns(e,t);let{transitionEnd:r={},transition:s={},...l}=n||{};l={...l,...r};for(const o in l){const d=XN(l[o]);YN(e,o,d)}}function QN(e){return!!(Vt(e)&&e.add)}function Qm(e,t){const n=e.getValue("willChange");if(QN(n))return n.add(t);if(!n&&Bi.WillChange){const r=new Bi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function Mj(e){return e.props[bj]}const ZN=e=>e!==null;function JN(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(ZN),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const e3={type:"spring",stiffness:500,damping:25,restSpeed:10},t3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),n3={type:"keyframes",duration:.8},i3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},r3=(e,{keyframes:t})=>t.length>2?n3:ys.has(e)?e.startsWith("scale")?t3(t[1]):e3:i3;function a3({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:o,repeatDelay:d,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const _g=(e,t,n,r={},s,l)=>o=>{const d=dg(r,e)||{},h=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-ci(h);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{o(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};a3(d)||Object.assign(g,r3(e,g)),g.duration&&(g.duration=ci(g.duration)),g.repeatDelay&&(g.repeatDelay=ci(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let p=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Fm(g),g.delay===0&&(p=!0)),(Bi.instantAnimations||Bi.skipAnimations)&&(p=!0,Fm(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,p&&!l&&t.get()!==void 0){const x=JN(g.keyframes,d);if(x!==void 0){et.update(()=>{g.onUpdate(x),g.onComplete()});return}}return d.isSync?new ug(g):new Tz(g)};function s3({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Rj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var g;let{transition:l=e.getDefaultTransition(),transitionEnd:o,...d}=t;r&&(l=r);const h=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const p in d){const x=e.getValue(p,(g=e.latestValues[p])!=null?g:null),v=d[p];if(v===void 0||m&&s3(m,p))continue;const w={delay:n,...dg(l||{},p)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===S&&!w.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const A=Mj(e);if(A){const j=window.MotionHandoffAnimation(A,p,et);j!==null&&(w.startTime=j,k=!0)}}Qm(e,p),x.start(_g(p,x,v,e.shouldReduceMotion&&W_.has(p)?{type:!1}:w,e,k));const C=x.animation;C&&h.push(C)}return o&&Promise.all(h).then(()=>{et.update(()=>{o&&WN(e,o)})}),h}function Lj(e,t,n,r=0,s=1){const l=Array.from(e).sort((m,g)=>m.sortNodePosition(g)).indexOf(t),o=e.size,d=(o-1)*r;return typeof n=="function"?n(l,o):s===1?l*r:d-l*r}function Zm(e,t,n={}){var h;const r=ns(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const l=r?()=>Promise.all(Rj(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:x}=s;return l3(e,t,m,g,p,x,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,g]=d==="beforeChildren"?[l,o]:[o,l];return m().then(()=>g())}else return Promise.all([l(),o(n.delay)])}function l3(e,t,n=0,r=0,s=0,l=1,o){const d=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),d.push(Zm(h,t,{...o,delay:n+(typeof r=="function"?0:r)+Lj(e.variantChildren,h,r,s,l)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(d)}function o3(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(l=>Zm(e,l,n));r=Promise.all(s)}else if(typeof t=="string")r=Zm(e,t,n);else{const s=typeof t=="function"?ns(e,t,n.custom):t;r=Promise.all(Rj(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Dj(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const u3=gg.length;function Oj(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Oj(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<u3;n++){const r=gg[n],s=e.props[r];(to(s)||s===!1)&&(t[r]=s)}return t}const c3=[...pg].reverse(),d3=pg.length;function f3(e){return t=>Promise.all(t.map(({animation:n,options:r})=>o3(e,n,r)))}function h3(e){let t=f3(e),n=Y0(),r=!0;const s=h=>(m,g)=>{var x;const p=ns(e,g,h==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(p){const{transition:v,transitionEnd:w,...S}=p;m={...m,...S,...w}}return m};function l(h){t=h(e)}function o(h){const{props:m}=e,g=Oj(e.parent)||{},p=[],x=new Set;let v={},w=1/0;for(let k=0;k<d3;k++){const C=c3[k],A=n[C],j=m[C]!==void 0?m[C]:g[C],R=to(j),M=C===h?A.isActive:null;M===!1&&(w=k);let E=j===g[C]&&j!==m[C]&&R;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),A.protectedKeys={...v},!A.isActive&&M===null||!j&&!A.prevProp||Yc(j)||typeof j=="boolean")continue;const O=m3(A.prevProp,j);let N=O||C===h&&A.isActive&&!E&&R||k>w&&R,q=!1;const D=Array.isArray(j)?j:[j];let P=D.reduce(s(C),{});M===!1&&(P={});const{prevResolvedValues:G={}}=A,K={...G,...P},F=U=>{N=!0,x.has(U)&&(q=!0,x.delete(U)),A.needsAnimating[U]=!0;const W=e.getValue(U);W&&(W.liveStyle=!1)};for(const U in K){const W=P[U],ae=G[U];if(v.hasOwnProperty(U))continue;let z=!1;Wm(W)&&Wm(ae)?z=!Dj(W,ae):z=W!==ae,z?W!=null?F(U):x.add(U):W!==void 0&&x.has(U)?F(U):A.protectedKeys[U]=!0}A.prevProp=j,A.prevResolvedValues=P,A.isActive&&(v={...v,...P}),r&&e.blockInitialAnimation&&(N=!1);const ne=E&&O;N&&(!ne||q)&&p.push(...D.map(U=>{const W={type:C};if(typeof U=="string"&&r&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:ae}=e,z=ns(ae,U);if(ae.enteringChildren&&z){const{delayChildren:ce}=z.transition||{};W.delay=Lj(ae.enteringChildren,e,ce)}}return{animation:U,options:W}}))}if(x.size){const k={};if(typeof m.initial!="boolean"){const C=ns(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(k.transition=C.transition)}x.forEach(C=>{const A=e.getBaseTarget(C),j=e.getValue(C);j&&(j.liveStyle=!0),k[C]=A!=null?A:null}),p.push({animation:k})}let S=!!p.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(p):Promise.resolve()}function d(h,m){var p;if(n[h].isActive===m)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(h,m)}),n[h].isActive=m;const g=o(h);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:o,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Y0(),r=!0}}}function m3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Dj(t,e):!1}function Br(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y0(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class br{constructor(t){this.isMounted=!1,this.node=t}update(){}}class p3 extends br{constructor(t){super(t),t.animationState||(t.animationState=h3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let g3=0;class y3 extends br{constructor(){super(...arguments),this.id=g3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const x3={animation:{Feature:p3},exit:{Feature:y3}};function io(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function yo(e){return{point:{x:e.pageX,y:e.pageY}}}const b3=e=>t=>mg(t)&&e(t,yo(t));function Bl(e,t,n,r){return io(e,t,b3(n),r)}const zj=1e-4,v3=1-zj,w3=1+zj,Nj=.01,S3=0-Nj,_3=0+Nj;function Qt(e){return e.max-e.min}function j3(e,t,n){return Math.abs(e-t)<=n}function X0(e,t,n,r=.5){e.origin=r,e.originPoint=at(t.min,t.max,e.origin),e.scale=Qt(n)/Qt(t),e.translate=at(n.min,n.max,e.origin)-e.originPoint,(e.scale>=v3&&e.scale<=w3||isNaN(e.scale))&&(e.scale=1),(e.translate>=S3&&e.translate<=_3||isNaN(e.translate))&&(e.translate=0)}function Ul(e,t,n,r){X0(e.x,t.x,n.x,r?r.originX:void 0),X0(e.y,t.y,n.y,r?r.originY:void 0)}function W0(e,t,n){e.min=n.min+t.min,e.max=e.min+Qt(t)}function C3(e,t,n){W0(e.x,t.x,n.x),W0(e.y,t.y,n.y)}function Q0(e,t,n){e.min=t.min-n.min,e.max=e.min+Qt(t)}function $l(e,t,n){Q0(e.x,t.x,n.x),Q0(e.y,t.y,n.y)}function $n(e){return[e("x"),e("y")]}const Ij=({current:e})=>e?e.ownerDocument.defaultView:null,Z0=(e,t)=>Math.abs(e-t);function k3(e,t){const n=Z0(e.x,t.x),r=Z0(e.y,t.y);return Math.sqrt(n**2+r**2)}class Pj{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Ph(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=k3(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:S}=x,{timestamp:k}=Nt;this.history.push({...S,timestamp:k});const{onStart:C,onMove:A}=this.handlers;v||(C&&C(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Ih(v,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ph(x.type==="pointercancel"?this.lastMoveEventInfo:Ih(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,C),S&&S(x,C)},!mg(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const d=yo(t),h=Ih(d,this.transformPagePoint),{point:m}=h,{timestamp:g}=Nt;this.history=[{...m,timestamp:g}];const{onSessionStart:p}=n;p&&p(t,Ph(h,this.history)),this.removeListeners=mo(Bl(this.contextWindow,"pointermove",this.handlePointerMove),Bl(this.contextWindow,"pointerup",this.handlePointerUp),Bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ui(this.updatePoint)}}function Ih(e,t){return t?{point:t(e.point)}:e}function J0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ph({point:e},t){return{point:e,delta:J0(e,Bj(t)),offset:J0(e,T3(t)),velocity:A3(t,.1)}}function T3(e){return e[0]}function Bj(e){return e[e.length-1]}function A3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Bj(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>ci(t)));)n--;if(!r)return{x:0,y:0};const l=di(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const o={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function E3(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?at(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?at(n,e,r.max):Math.min(e,n)),e}function e1(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function M3(e,{top:t,left:n,bottom:r,right:s}){return{x:e1(e.x,n,s),y:e1(e.y,t,r)}}function t1(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function R3(e,t){return{x:t1(e.x,t.x),y:t1(e.y,t.y)}}function L3(e,t){let n=.5;const r=Qt(e),s=Qt(t);return s>r?n=Zl(t.min,t.max-r,e.min):r>s&&(n=Zl(e.min,e.max-s,t.min)),Pi(0,1,n)}function D3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Jm=.35;function O3(e=Jm){return e===!1?e=0:e===!0&&(e=Jm),{x:n1(e,"left","right"),y:n1(e,"top","bottom")}}function n1(e,t,n){return{min:i1(e,t),max:i1(e,n)}}function i1(e,t){return typeof e=="number"?e:e[t]||0}const z3=new WeakMap;class N3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(yo(p).point)},o=(p,x)=>{const{drag:v,dragPropagation:w,onDragStart:S}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gz(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$n(C=>{let A=this.getAxisMotionValue(C).get()||0;if(fi.test(A)){const{projection:j}=this.visualElement;if(j&&j.layout){const R=j.layout.layoutBox[C];R&&(A=Qt(R)*(parseFloat(A)/100))}}this.originPoint[C]=A}),S&&et.postRender(()=>S(p,x)),Qm(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},d=(p,x)=>{this.latestPointerEvent=p,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:S,onDrag:k}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=x;if(w&&this.currentDirection===null){this.currentDirection=I3(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),k&&k(p,x)},h=(p,x)=>{this.latestPointerEvent=p,this.latestPanInfo=x,this.stop(p,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>$n(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Pj(t,{onSessionStart:l,onStart:o,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Ij(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:d}=this.getProps();d&&et.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Pu(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=E3(o,this.constraints[t],this.elastic[t])),l.set(o)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&Xa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=M3(r.layoutBox,t):this.constraints=!1,this.elastic=O3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$n(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=D3(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xa(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=PN(r,s.root,this.visualElement.getTransformPagePoint());let o=R3(s.layout.layoutBox,l);if(n){const d=n(zN(o));this.hasMutatedConstraints=!!d,d&&(o=Sj(d))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:o,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=$n(g=>{if(!Pu(g,n,this.currentDirection))return;let p=h&&h[g]||{};o&&(p={min:0,max:0});const x=s?200:1e6,v=s?40:1e7,w={type:"inertia",velocity:r?t[g]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Qm(this.visualElement,t),r.start(_g(t,r,0,n,this.visualElement,!1))}stopAnimation(){$n(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$n(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){$n(n=>{const{drag:r}=this.getProps();if(!Pu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:d}=s.layout.layoutBox[n];l.set(t[n]-at(o,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};$n(o=>{const d=this.getAxisMotionValue(o);if(d&&this.constraints!==!1){const h=d.get();s[o]=L3({min:h,max:h},this.constraints[o])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$n(o=>{if(!Pu(o,t,null))return;const d=this.getAxisMotionValue(o),{min:h,max:m}=this.constraints[o];d.set(at(h,m,s[o]))})}addListeners(){if(!this.visualElement.current)return;z3.set(this.visualElement,this);const t=this.visualElement.current,n=Bl(t,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Xa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const o=io(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&($n(g=>{const p=this.getAxisMotionValue(g);p&&(this.originPoint[g]+=h[g].translate,p.set(p.get()+h[g].translate))}),this.visualElement.render())}));return()=>{o(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:o=Jm,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:o,dragMomentum:d}}}function Pu(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function I3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class P3 extends br{constructor(t){super(t),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new N3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const r1=e=>(t,n)=>{e&&et.postRender(()=>e(t,n))};class B3 extends br{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(t){this.session=new Pj(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ij(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:r1(t),onStart:r1(n),onMove:r,onEnd:(l,o)=>{delete this.session,s&&et.postRender(()=>s(l,o))}}}mount(){this.removePointerDownListener=Bl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ac={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const n=a1(e,t.target.x),r=a1(e,t.target.y);return`${n}% ${r}%`}},U3={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=yr.parse(e);if(s.length>5)return r;const l=yr.createTransformer(e),o=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,h=n.y.scale*t.y;s[0+o]/=d,s[1+o]/=h;const m=at(d,h,.5);return typeof s[2+o]=="number"&&(s[2+o]/=m),typeof s[3+o]=="number"&&(s[3+o]/=m),l(s)}};let Bh=!1;class $3 extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=t;uN(V3),l&&(n.group&&n.group.add(l),r&&r.register&&s&&r.register(l),Bh&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ac.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:l}=this.props,{projection:o}=r;return o&&(o.isPresent=l,Bh=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?o.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?o.promote():o.relegate()||et.postRender(()=>{const d=o.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Bh=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Uj(e){const[t,n]=lj(),r=_.useContext(Fp);return c.jsx($3,{...e,layoutGroup:r,switchLayoutGroup:_.useContext(vj),isPresent:t,safeToRemove:n})}const V3={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:U3};function G3(e,t,n){const r=Vt(e)?e:Wr(e);return r.start(_g("",r,t,n)),r.animation}const q3=(e,t)=>e.depth-t.depth;class F3{constructor(){this.children=[],this.isDirty=!1}add(t){Yp(this.children,t),this.isDirty=!0}remove(t){Xp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(q3),this.isDirty=!1,this.children.forEach(t)}}function H3(e,t){const n=on.now(),r=({timestamp:s})=>{const l=s-n;l>=t&&(Ui(r),e(l-t))};return et.setup(r,!0),()=>Ui(r)}const $j=["TopLeft","TopRight","BottomLeft","BottomRight"],K3=$j.length,s1=e=>typeof e=="string"?parseFloat(e):e,l1=e=>typeof e=="number"||je.test(e);function Y3(e,t,n,r,s,l){var o,d,h,m;s?(e.opacity=at(0,(o=n.opacity)!=null?o:1,X3(r)),e.opacityExit=at((d=t.opacity)!=null?d:1,0,W3(r))):l&&(e.opacity=at((h=t.opacity)!=null?h:1,(m=n.opacity)!=null?m:1,r));for(let g=0;g<K3;g++){const p=`border${$j[g]}Radius`;let x=o1(t,p),v=o1(n,p);if(x===void 0&&v===void 0)continue;x||(x=0),v||(v=0),x===0||v===0||l1(x)===l1(v)?(e[p]=Math.max(at(s1(x),s1(v),r),0),(fi.test(v)||fi.test(x))&&(e[p]+="%")):e[p]=v}(t.rotate||n.rotate)&&(e.rotate=at(t.rotate||0,n.rotate||0,r))}function o1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const X3=Vj(0,.5,k_),W3=Vj(.5,.95,Gn);function Vj(e,t,n){return r=>r<e?0:r>t?1:n(Zl(e,t,r))}function u1(e,t){e.min=t.min,e.max=t.max}function Un(e,t){u1(e.x,t.x),u1(e.y,t.y)}function c1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function d1(e,t,n,r,s){return e-=t,e=jc(e,1/n,r),s!==void 0&&(e=jc(e,1/s,r)),e}function Q3(e,t=0,n=1,r=.5,s,l=e,o=e){if(fi.test(t)&&(t=parseFloat(t),t=at(o.min,o.max,t/100)-o.min),typeof t!="number")return;let d=at(l.min,l.max,r);e===l&&(d-=t),e.min=d1(e.min,t,n,d,s),e.max=d1(e.max,t,n,d,s)}function f1(e,t,[n,r,s],l,o){Q3(e,t[n],t[r],t[s],t.scale,l,o)}const Z3=["x","scaleX","originX"],J3=["y","scaleY","originY"];function h1(e,t,n,r){f1(e.x,t,Z3,n?n.x:void 0,r?r.x:void 0),f1(e.y,t,J3,n?n.y:void 0,r?r.y:void 0)}function m1(e){return e.translate===0&&e.scale===1}function Gj(e){return m1(e.x)&&m1(e.y)}function p1(e,t){return e.min===t.min&&e.max===t.max}function eI(e,t){return p1(e.x,t.x)&&p1(e.y,t.y)}function g1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qj(e,t){return g1(e.x,t.x)&&g1(e.y,t.y)}function y1(e){return Qt(e.x)/Qt(e.y)}function x1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class tI{constructor(){this.members=[]}add(t){Yp(this.members,t),t.scheduleRender()}remove(t){if(Xp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nI(e,t,n){let r="";const s=e.x.translate/t.x,l=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||l||o)&&(r=`translate3d(${s}px, ${l}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:p,rotateY:x,skewX:v,skewY:w}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),p&&(r+=`rotateX(${p}deg) `),x&&(r+=`rotateY(${x}deg) `),v&&(r+=`skewX(${v}deg) `),w&&(r+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,h=e.y.scale*t.y;return(d!==1||h!==1)&&(r+=`scale(${d}, ${h})`),r||"none"}const Uh=["","X","Y","Z"],iI=1e3;let rI=0;function $h(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Fj(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Mj(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(s||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Fj(r)}function Hj({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},d=t==null?void 0:t()){this.id=rI++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lI),this.nodes.forEach(dI),this.nodes.forEach(fI),this.nodes.forEach(oI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new F3)}addEventListener(o,d){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zp),this.eventHandlers.get(o).add(d)}notifyListeners(o,...d){const h=this.eventHandlers.get(o);h&&h.notify(...d)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=sj(o)&&!Xz(o),this.instance=o;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),e){let g,p=0;const x=()=>this.root.updateBlockedByResize=!1;et.read(()=>{p=window.innerWidth}),e(o,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,g&&g(),g=H3(x,250),ac.hasAnimatedSinceResize&&(ac.hasAnimatedSinceResize=!1,this.nodes.forEach(w1)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:p,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||yI,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=m.getProps(),C=!this.targetLayout||!qj(this.targetLayout,v),A=!p&&x;if(this.options.layoutRoot||this.resumeFrom||A||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...dg(w,"layout"),onPlay:S,onComplete:k};(m.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,A)}else p||w1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ui(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hI),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fj(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const p=this.path[g];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(v1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cI),this.nodes.forEach(aI),this.nodes.forEach(sI)):this.nodes.forEach(v1),this.clearAllSnapshots();const d=on.now();Nt.delta=Pi(0,1e3/60,d-Nt.timestamp),Nt.timestamp=d,Nt.isProcessing=!0,Eh.update.process(Nt),Eh.preRender.process(Nt),Eh.render.process(Nt),Nt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uI),this.sharedNodes.forEach(mI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qt(this.snapshot.measuredBox.x)&&!Qt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(d=!1),d&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Gj(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;o&&this.instance&&(d||Vr(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return o&&(h=this.removeTransform(h)),xI(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:o}=this.options;if(!o)return ht();const d=o.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(bI))){const{scroll:g}=this.root;g&&(Wa(d.x,g.offset.x),Wa(d.y,g.offset.y))}return d}removeElementScroll(o){var h;const d=ht();if(Un(d,o),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:p,options:x}=g;g!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&Un(d,o),Wa(d.x,p.offset.x),Wa(d.y,p.offset.y))}return d}applyTransform(o,d=!1){const h=ht();Un(h,o);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qa(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vr(g.latestValues)&&Qa(h,g.latestValues)}return Vr(this.latestValues)&&Qa(h,this.latestValues),h}removeTransform(o){const d=ht();Un(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Vr(m.latestValues))continue;Km(m.latestValues)&&m.updateSnapshot();const g=ht(),p=m.measurePageBox();Un(g,p),h1(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Vr(this.latestValues)&&h1(d,this.latestValues),d}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Nt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:p}=this.options;if(!(!this.layout||!(g||p))){if(this.resolvedRelativeTargetAt=Nt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),$l(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),C3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),jj(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),$l(this.relativeTargetOrigin,this.target,v.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Km(this.parent.latestValues)||_j(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),d=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Nt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Un(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;IN(this.layoutCorrected,this.treeScale,this.path,d),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ht());const{target:v}=o;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c1(this.prevProjectionDelta.x,this.projectionDelta.x),c1(this.prevProjectionDelta.y,this.projectionDelta.y)),Ul(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==x||!x1(this.projectionDelta.x,this.prevProjectionDelta.x)||!x1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Za(),this.projectionDelta=Za(),this.projectionDeltaWithTransform=Za()}setAnimationOrigin(o,d=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},p=Za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=ht(),v=h?h.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,k=this.getStack(),C=!k||k.members.length<=1,A=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(gI));this.animationProgress=0;let j;this.mixTargetDelta=R=>{const M=R/1e3;S1(p.x,o.x,M),S1(p.y,o.y,M),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($l(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pI(this.relativeTarget,this.relativeTargetOrigin,x,M),j&&eI(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ht()),Un(j,this.relativeTarget)),S&&(this.animationValues=g,Y3(g,m,this.latestValues,M,A,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var d,h,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ui(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{ac.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wr(0)),this.currentAnimation=G3(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),o.onUpdate&&o.onUpdate(g)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:g}=o;if(!(!d||!h||!m)){if(this!==o&&this.layout&&m&&Kj(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||ht();const p=Qt(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+p;const x=Qt(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+x}Un(d,h),Qa(d,g),Ul(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(o,d){this.sharedNodes.has(o)||this.sharedNodes.set(o,new tI),this.sharedNodes.get(o).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var d;const{layoutId:o}=this.options;return o?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:o}=this.options;return o?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let d=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&$h("z",o,m,this.animationValues);for(let g=0;g<Uh.length;g++)$h(`rotate${Uh[g]}`,o,m,this.animationValues),$h(`skew${Uh[g]}`,o,m,this.animationValues);o.render();for(const g in m)o.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);o.scheduleRender()}applyProjectionStyles(o,d){var w,S;if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=rc(d==null?void 0:d.pointerEvents)||"",o.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=rc(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(o.transform=h?h({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let p=nI(this.projectionDeltaWithTransform,this.treeScale,g);h&&(p=h(g,p)),o.transform=p;const{x,y:v}=this.projectionDelta;o.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,m.animationValues?o.opacity=m===this?(S=(w=g.opacity)!=null?w:this.latestValues.opacity)!=null?S:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in no){if(g[k]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:j}=no[k],R=p==="none"?g[k]:C(g[k],m);if(A){const M=A.length;for(let E=0;E<M;E++)o[A[E]]=R}else j?this.options.visualElement.renderState.vars[k]=R:o[k]=R}this.options.layoutId&&(o.pointerEvents=m===this?rc(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var d;return(d=o.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(b1),this.root.sharedNodes.clear()}}}function aI(e){e.updateLayout()}function sI(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:l}=e.options,o=t.source!==e.layout.source;l==="size"?$n(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],v=Qt(x);x.min=r[p].min,x.max=x.min+v}):Kj(l,t.layoutBox,r)&&$n(p=>{const x=o?t.measuredBox[p]:t.layoutBox[p],v=Qt(r[p]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const d=Za();Ul(d,r,t.layoutBox);const h=Za();o?Ul(h,e.applyTransform(s,!0),t.measuredBox):Ul(h,r,t.layoutBox);const m=!Gj(d);let g=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:v}=p;if(x&&v){const w=ht();$l(w,t.layoutBox,x.layoutBox);const S=ht();$l(S,r,v.layoutBox),qj(w,S)||(g=!0),p.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lI(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uI(e){e.clearSnapshot()}function b1(e){e.clearMeasurements()}function v1(e){e.isLayoutDirty=!1}function cI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function w1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dI(e){e.resolveTargetDelta()}function fI(e){e.calcProjection()}function hI(e){e.resetSkewAndRotation()}function mI(e){e.removeLeadSnapshot()}function S1(e,t,n){e.translate=at(t.translate,0,n),e.scale=at(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _1(e,t,n,r){e.min=at(t.min,n.min,r),e.max=at(t.max,n.max,r)}function pI(e,t,n,r){_1(e.x,t.x,n.x,r),_1(e.y,t.y,n.y,r)}function gI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yI={duration:.45,ease:[.4,0,.1,1]},j1=e=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),C1=j1("applewebkit/")&&!j1("chrome/")?Math.round:Gn;function k1(e){e.min=C1(e.min),e.max=C1(e.max)}function xI(e){k1(e.x),k1(e.y)}function Kj(e,t,n){return e==="position"||e==="preserve-aspect"&&!j3(y1(t),y1(n),.2)}function bI(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const vI=Hj({attachResizeListener:(e,t)=>io(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vh={current:void 0},Yj=Hj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Vh.current){const e=new vI({});e.mount(window),e.setOptions({layoutScroll:!0}),Vh.current=e}return Vh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),wI={pan:{Feature:B3},drag:{Feature:P3,ProjectionNode:Yj,MeasureLayout:Uj}};function T1(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=r[s];l&&et.postRender(()=>l(t,yo(t)))}class SI extends br{mount(){const{current:t}=this.node;t&&(this.unmount=qz(t,(n,r)=>(T1(this.node,r,"Start"),s=>T1(this.node,s,"End"))))}unmount(){}}class _I extends br{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(n){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mo(io(this.node.current,"focus",()=>this.onFocus()),io(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A1(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=r[s];l&&et.postRender(()=>l(t,yo(t)))}class jI extends br{mount(){const{current:t}=this.node;t&&(this.unmount=Yz(t,(n,r)=>(A1(this.node,r,"Start"),(s,{success:l})=>A1(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ep=new WeakMap,Gh=new WeakMap,CI=e=>{const t=ep.get(e.target);t&&t(e)},kI=e=>{e.forEach(CI)};function TI({root:e,...t}){const n=e||document;Gh.has(n)||Gh.set(n,{});const r=Gh.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(kI,{root:e,...t})),r[s]}function AI(e,t,n){const r=TI(t);return ep.set(e,n),r.observe(e),()=>{ep.delete(e),r.unobserve(e)}}const EI={some:0,all:1};class MI extends br{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:l}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:EI[s]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:p}=this.node.getProps(),x=m?g:p;x&&x(h)};return AI(this.node.current,o,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(RI(t,n))&&this.startObserver()}unmount(){}}function RI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const LI={inView:{Feature:MI},tap:{Feature:jI},focus:{Feature:_I},hover:{Feature:SI}},DI={layout:{ProjectionNode:Yj,MeasureLayout:Uj}},OI={...x3,...LI,...wI,...DI},Ja=ON(OI,KN);function tp(e){const t=ho(()=>Wr(e)),{isStatic:n}=_.useContext(Hc);if(n){const[,r]=_.useState(e);_.useEffect(()=>t.on("change",r),[])}return t}function Xj(e,t){const n=tp(t()),r=()=>n.set(t());return r(),Kp(()=>{const s=()=>et.preRender(r,!1,!0),l=e.map(o=>o.on("change",s));return()=>{l.forEach(o=>o()),Ui(r)}}),n}function zI(e){Pl.current=[],e();const t=Xj(Pl.current,e);return Pl.current=void 0,t}function NI(e,t,n,r){if(typeof e=="function")return zI(e);const s=typeof t=="function"?t:Wz(t,n,r);return Array.isArray(e)?E1(e,s):E1([e],([l])=>s(l))}function E1(e,t){const n=ho(()=>[]);return Xj(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}const II=({children:e,className:t})=>{const n=gi(),r=yp(n.breakpoints.down("md")),{settings:s,updateSettings:l}=Sp(),[o,d]=_.useState(!1),[h,m]=_.useState(!1),g=_.useRef(null),[p,x]=_.useState({x:0,y:0,width:0,height:0}),v=!s.hasSeenRollButton&&!h;_.useEffect(()=>{if(v&&g.current){const S=()=>{const k=g.current.getBoundingClientRect();x({x:k.left,y:k.top,width:k.width,height:k.height})};return S(),window.addEventListener("resize",S),window.addEventListener("scroll",S),()=>{window.removeEventListener("resize",S),window.removeEventListener("scroll",S)}}},[v]),_.useEffect(()=>{if(v){const S=setTimeout(()=>{d(!0)},1500);return()=>{clearTimeout(S)}}},[v]);const w=()=>{s.hasSeenRollButton||(m(!0),d(!1),l({hasSeenRollButton:!0}))};return v?c.jsxs(c.Fragment,{children:[c.jsx(oj,{children:v&&c.jsx(xp,{children:c.jsx(Ja.div,{initial:{opacity:1,background:`radial-gradient(
                  circle at ${p.x+p.width/2}px ${p.y+p.height/2}px,
                  transparent 0px,
                  transparent ${Math.max(p.width,p.height)*(r?5.5:11.25)}px,
                  rgba(0, 0, 0, 0.2) ${Math.max(p.width,p.height)*(r?6.5:13.5)}px,
                  rgba(0, 0, 0, 0.5) ${Math.max(p.width,p.height)*(r?8:16.5)}px,
                  rgba(0, 0, 0, 0.7) ${Math.max(p.width,p.height)*(r?10:21)}px,
                  rgba(0, 0, 0, 0.8) 100%
                )`},animate:o?{opacity:1,background:`radial-gradient(
                  circle at ${p.x+p.width/2}px ${p.y+p.height/2}px,
                  transparent 0px,
                  transparent ${Math.max(p.width,p.height)*(r?.55:1.125)}px,
                  rgba(0, 0, 0, 0.2) ${Math.max(p.width,p.height)*(r?.65:1.35)}px,
                  rgba(0, 0, 0, 0.5) ${Math.max(p.width,p.height)*(r?.8:1.65)}px,
                  rgba(0, 0, 0, 0.7) ${Math.max(p.width,p.height)*(r?1:2.1)}px,
                  rgba(0, 0, 0, 0.8) 100%
                )`}:{},exit:{opacity:0},transition:{duration:1.8,ease:[.25,.46,.45,.94]},onClick:w,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,cursor:"pointer",pointerEvents:o?"auto":"none"}})})}),c.jsx(Ja.div,{ref:g,className:t,onClick:w,animate:{scale:[1,1.05,1],boxShadow:["0 0 0 0 rgba(25, 118, 210, 0.8), 0 0 40px rgba(25, 118, 210, 0.6), 0 0 80px rgba(25, 118, 210, 0.4), 0 0 120px rgba(25, 118, 210, 0.2)","0 0 0 12px rgba(25, 118, 210, 0), 0 0 60px rgba(25, 118, 210, 0.8), 0 0 120px rgba(25, 118, 210, 0.6), 0 0 180px rgba(25, 118, 210, 0.3)","0 0 0 0 rgba(25, 118, 210, 0), 0 0 40px rgba(25, 118, 210, 0.6), 0 0 80px rgba(25, 118, 210, 0.4), 0 0 120px rgba(25, 118, 210, 0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},whileHover:{scale:1.02,transition:{duration:.2}},style:{borderRadius:4,position:"relative",zIndex:9999},children:e})]}):c.jsx("div",{className:t,children:e})};function PI(e){return/^-?\d+$/.test(String(e))}function qh(e,t,n){let r=0;for(let s=0;s<Number(e);s+=1)r+=Math.floor(Math.random()*Number(t))+1;n(r)}const BI=_.memo(function({setRollValue:t,dice:n,isEndOfBoard:r}){const{t:s}=de(),[l,o]=_.useState(!1),[d,h]=_.useState("manual"),[m,g]=_.useState(0),[p,x]=_.useState(s("roll")),{timeLeft:v,setTimeLeft:w,togglePause:S,isPaused:k}=qp(m),[C,A]=_.useState(!1),[j,R]=_.useState({isRange:!1,min:30,max:120}),M=_.useCallback(G=>{t(G)},[t]),[E,O]=n.split("d"),N=()=>{if(d==="manual"){qh(E,O,M),o(!0),setTimeout(()=>o(!1),4e3);return}k&&v===m&&qh(E,O,M),S()},q=_.useCallback(G=>{if(G==="restart"){M(-1);return}if(h(String(G)),G==="custom"){A(!0);return}if(PI(G)){k||S();const K=Number(G);g(K),w(K)}},[k,w,S,M]),D=()=>{A(!1)},P=(G,K={isRange:!1})=>{k||S(),g(G),w(G),R({...j,...K}),h("custom"),A(!1)};return _.useEffect(()=>{r&&S()},[r,S]),_.useEffect(()=>{if(l)x(s("wait"));else if(d==="manual")x(s("roll"));else if(k)x(`${s("play")} (${v})`);else if(v>0)x(`${s("pause")} (${v})`);else if(v===0&&!k&&d!=="manual"){qh(E,O,M);let G;if(j.isRange){const{min:K,max:F}=j;G=Math.floor(Math.random()*(F-K+1))+K}else G=m;g(G),w(G),x(`${s("pause")} (${G})`)}},[l,d,v,k,m,j,s,E,O,M,w]),c.jsxs(c.Fragment,{children:[c.jsx(II,{className:"dice-roller",children:c.jsxs(aE,{variant:"contained",children:[c.jsxs(he,{"aria-label":s("roll"),onClick:N,disabled:l,size:"large",children:[c.jsx(C2,{sx:{mr:1}}),p]}),c.jsx(tO,{selectedRoll:d,handleMenuItemClick:q})]})}),c.jsx(nO,{isOpen:C,onClose:D,onSubmit:P})]})});function UI({playerName:e,show:t,onComplete:n,duration:r=3e3}){const s=gi();return _.useEffect(()=>{if(t){const l=setTimeout(n,r);return()=>clearTimeout(l)}},[t,r,n]),c.jsx(vp,{in:t,timeout:300,children:c.jsx(H,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:s.zIndex.modal-1,bgcolor:"rgba(0, 0, 0, 0.8)",borderRadius:2,p:3,textAlign:"center"},children:c.jsxs(Y,{variant:"h5",sx:{color:"white",fontWeight:600},children:[e,"'s Turn"]})})})}const{t:es}=zi;function M1(e){return e.replace(/(?:^|\.\s|!\s)(\w)/g,t=>t.toUpperCase())}function R1(e,t,n){if(!e||e.length===0)return es("anotherPlayer");const r=e.filter(l=>n&&l.name===n?!1:t==="sub"?l.role==="sub"||l.role==="vers":t==="dom"?l.role==="dom"||l.role==="vers":!1);if(r.length===0)return es("anotherPlayer");const s=Math.floor(Math.random()*r.length);return r[s].name}function $I(e,t,n){const r=Math.random(),s=e.includes("{dom}")&&e.includes("{sub}"),l=t==="vers";function o(d){if(d==="{player}")return!0;const h=d==="{dom}"||d==="{sub}";if(!l&&d===`{${t}}`||!s&&l&&h)return!0;if(s&&l){const m=d==="{dom}"&&r<.5,g=d==="{sub}"&&r>=.5;return m||g}return!1}return e.replace(/{(player|dom|sub)}/g,d=>o(d)?n:d)}function Wj(e,t,n,r,s){let l=e;if(s)return l=l.replace(/{player}/g,es("theCurrentPlayer")),l=l.replace(/{dom}/g,es("aDominant")),l=l.replace(/{sub}/g,es("aSubmissive")),M1(l);if(r&&r.length>0)l=l.replace(/{player}/g,n),t==="dom"&&l.includes("{dom}")?l=l.replace(/{dom}/,n):t==="sub"&&l.includes("{sub}")?l=l.replace(/{sub}/,n):t==="vers"&&(l.includes("{dom}")&&l.includes("{sub}")?Math.random()<.5&&l.includes("{dom}")?l=l.replace(/{dom}/,n):l.includes("{sub}")&&(l=l.replace(/{sub}/,n)):l.includes("{dom}")?l=l.replace(/{dom}/,n):l.includes("{sub}")&&(l=l.replace(/{sub}/,n))),l=l.replace(/{dom}/g,()=>R1(r,"dom",n)),l=l.replace(/{sub}/g,()=>R1(r,"sub",n));else{if(l=$I(e,t,n),!l.includes(n)&&t!=="vers"&&(l.includes("{dom}")||l.includes("{sub}"))){const d=new RegExp(`\\{${t}\\}`);l.match(d)?l=l.replace(d,n):l=l.replace(/{(dom|sub)}/,n)}l=l.replace(/{(dom|sub)}/g,es("anotherPlayer"))}return M1(l)}function VI(e){var t;const n=e.filter(l=>l).map(l=>l.split(": ")),r=[];n.forEach((l,o)=>{if(Number(l[1])===0)return;const d=Array(Number(l[1])).fill(o);r.push(...d)});const s=r[Math.floor(Math.random()*r.length)];return((t=n.map(([l])=>l)[s])==null?void 0:t.replace(/(\r\n|\n|\r)/gm,""))||""}function GI(e,t,n,r){if(!e)return"";const s=e.split("%");return s.length<=1?Wj(e,t||"",n||"",r,!1):VI(s)}function qI(e,t,n=[]){const{user:r}=An(),{t:s}=de(),[l]=cn(),o=$p(),{currentPlayer:d,hasLocalPlayers:h,isLocalPlayerRoom:m,advanceToNextPlayer:g,session:p}=ms(),x=n.length,v=(R,M=0)=>({id:M,title:R.title||"",description:R.description,index:M,players:[],current:null,isTransparent:!1,className:""}),[w,S]=_.useState(n[0]?v(n[0],0):v({title:"",description:""},0)),k=x-1,C=_.useRef(0),A=_.useCallback(async(R,M,E,O)=>{if(!R){console.error("Tile not found at location:",E);return}let N="";const q=h&&m,D=q&&d?d.name:(r==null?void 0:r.displayName)||"",P=q&&d?d.role:l.role||"sub",G=GI(R.description||"",P,D,q&&p?p.players:void 0);M!==-1&&(N+=`${s("roll")}: ${M}
`),N+=`#${E+1}: ${R.title||s("unknownTile")}
`,N+=`${s("action")}: ${G}`;const K={room:e,user:q&&d?{...r,displayName:d.name}:r,text:O?O+N:N,type:"actions"};try{await Yr(K)||console.error("Failed to send message - no result returned")}catch(F){console.error("Failed to send message:",F)}q&&M!==-1&&setTimeout(()=>{g()},100)},[e,r,s,l.role,h,m,d,g,p]),j=_.useCallback(R=>{var M;if(typeof R!="number"||isNaN(R))return console.warn("Invalid rollNumber detected, ignoring move:",R),{newLocation:0};if(R===-1)return{preMessage:`${s("restartingGame")}
`,newLocation:0};const E=h&&m;let O=0;if(E&&d?O=typeof d.location=="number"?d.location:0:O=((M=o.find(q=>q.isSelf))==null?void 0:M.location)||0,(typeof O!="number"||isNaN(O))&&(console.warn("Invalid currentLocation detected, defaulting to 0:",O),O=0),O===k)return{preMessage:`${s("alreadyFinished")}
`,newLocation:R};const N=R+O;return N>=k?{newLocation:k}:{newLocation:N}},[s,o,k,h,m,d]);return _.useEffect(()=>{let R;Array.isArray(t.value)?R=t.value[0]:R=t.value;const M=t.time;if(typeof R!="number"||isNaN(R)||R===0||M<=C.current){(typeof R!="number"||isNaN(R))&&console.warn("Invalid rollNumber in useEffect:",R,"rollValue:",t);return}C.current=M;const{preMessage:E,newLocation:O}=j(R);if(typeof O!="number"||isNaN(O)){console.error("Invalid newLocation calculated:",O,"rollNumber:",R);return}if(O>=0&&O<n.length&&n[O]){if(S(v(n[O],O)),h&&m&&d&&p){const q=O===n.length-1;$r.updatePlayerPosition(p.id,d.id,O,q).catch(D=>{console.error("Failed to update local player position:",D)})}A(n[O],R,O,E).catch(q=>{console.error("Failed to send roll message:",q)})}else console.error(`Invalid location or missing tile: ${O}, gameBoard length: ${n.length}, tile exists:`,!!n[O])},[t,n,A,j,h,m,d,p]),{tile:w,playerList:o}}async function FI({newRoom:e,oldRoom:t,newDisplayName:n,removeOnDisconnect:r=!0}){const l=ni().currentUser;if(!l){console.warn("Cannot set presence: user not authenticated");return}const o=Dc();try{const d=(t||"").toUpperCase(),h=(e||"").toUpperCase();if(t&&d!==h){const p=rs(o,`users/${l.uid}`);await Xw(p)}const m=rs(o,`users/${l.uid}`),g={displayName:n||"Unknown",isAnonymous:l.isAnonymous,room:h,joinedAt:Date.now(),lastSeen:Date.now()};await Ww(m,g),r&&yE(m).remove()}catch(d){console.error("Error setting user presence:",d)}}async function L1(){const t=ni().currentUser;if(!t)return;const n=Dc(),r=rs(n,`users/${t.uid}`);try{const s=rs(n,`users/${t.uid}`),l=await Yw(s);if(l.exists()){const d={...l.val(),lastSeen:Date.now()};await Ww(r,d)}else console.warn("No existing user data found, skipping heartbeat update")}catch(s){console.error("Error updating presence heartbeat:",s)}}async function D1(){const t=ni().currentUser;if(!t)return;const n=Dc(),r=rs(n,`users/${t.uid}`);try{await Xw(r)}catch(s){console.error("Error removing user presence:",s)}}function O1(){const e=setInterval(()=>{L1()},6e4);return L1(),()=>{clearInterval(e)}}function HI(e,t){const{user:{displayName:n}}=An(),[r,s]=_.useState(null),[l,o]=_.useState(n||"");_.useEffect(()=>{let d=null;return r!==e||n!==l?(FI({newRoom:e,oldRoom:r,newDisplayName:n||"",removeOnDisconnect:(e==null?void 0:e.toUpperCase())==="PUBLIC"}).then(()=>{e&&(d=O1())}).catch(h=>{console.error("Failed to set presence:",h)}),s(e),o(n||"")):e&&!d&&(d=O1()),()=>{d&&d()}},[e,n,r,l,t]),_.useEffect(()=>{const d=()=>{D1()};return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d),D1()}},[])}function KI(e,t){const n=_.useRef(void 0);return _.useCallback((...r)=>{n.current&&clearTimeout(n.current),n.current=setTimeout(()=>e(...r),t)},[e,t])}function YI(e,t){const{i18n:r,t:s}=de(),{user:l}=An(),[o,d]=cn(),h=hi(()=>Pc(o==null?void 0:o.gameMode)),{messages:m,isLoading:g}=ea(),[p,x]=_.useState("1d6"),[v,w]=_.useState(""),S=Dp(),k=_.useRef(!1),C=_.useRef(!0),A=_.useCallback(async(M,E=null)=>{if(!k.current){k.current=!0;try{const{gameMode:O,newBoard:N}=await S(M),q={formData:{...o,...M},user:l,customTiles:h,actionsList:await Ll(r.resolvedLanguage,O||"online"),tiles:N,title:s("settingsGenerated")};E&&(q.reason=s("rebuiltBoard",{messageUser:E})),await Lp(q)}finally{setTimeout(()=>{k.current=!1},500)}}},[o,l,h,r.resolvedLanguage,s,S]),j=_.useCallback(async()=>{(o==null?void 0:o.room)!==e&&(await d({...o,room:e}),await A({...o,roomUpdated:!0,room:e}))},[o,e,d,A]),R=KI(j,200);return _.useEffect(()=>{if(!(g||!m.length))try{const M=Xr(m,"room");if(M){const E=JSON.parse(M.settings),{roomDice:O,roomBackgroundURL:N,roomTileCount:q}=E;let D="1d6";!Je(e)&&O&&(D=O),x(D),w(N||"");const P=as(M.timestamp),K=(P?Date.now()-P.getTime():1/0)<300*1e3;M.uid!==(l==null?void 0:l.uid)&&q&&(t==null?void 0:t.length)&&q!==(t==null?void 0:t.length)&&K&&!k.current&&A(E,M.displayName)}}catch(M){console.error("Error processing room message:",M)}},[m,g,e,l,t,A]),_.useEffect(()=>{var M,E;if(!g)try{const O=Xr(m,"room");if(O||!Je(e)&&!O||Je(e)&&!Xt((o==null?void 0:o.gameMode)||""))return;if(C.current){C.current=!1,(M=o==null?void 0:o.roomBackgroundURL)!=null&&M.length&&w(o.roomBackgroundURL);return}const N=e!==(o==null?void 0:o.room),q=o&&typeof o.room!="undefined",D=t==null?void 0:t.length,P=!k.current;if(q&&N&&D&&P){R();return}(E=o==null?void 0:o.roomBackgroundURL)!=null&&E.length&&w(o.roomBackgroundURL)}catch(O){console.error("Error in room change effect:",O)}},[e,o,t,m,g,R]),{roller:p,roomBgUrl:v}}function XI(e,t){const[n,r]=_.useState(null),[s,l]=_.useState(!1),[o,d]=Rc(),h=o.get("importBoard"),{t:m}=de(),g=_.useCallback(()=>{r(null)},[]),p=_.useCallback(w=>{try{const S=JSON.parse(w);return Array.isArray(S)?S:null}catch(S){return console.warn("Failed to parse game board JSON:",!1,S),null}},[]),x=_.useCallback(w=>{try{return w?JSON.parse(w):{}}catch(S){return console.warn("Failed to parse settings JSON:",!1,S),{}}},[]),v=_.useCallback(async()=>{if(d({}),!!h){l(!0);try{const w=await LE(h);if(!(w!=null&&w.gameBoard)){r(m("failedBoardImport"));return}const S=p(w.gameBoard);if(!S){r(m("failedBoardImport"));return}const k=(w==null?void 0:w.title)!==m("settingsGenerated")?w.title:m("importedBoard");Uc({...w,title:k,tiles:S,isActive:1});const C=x(w==null?void 0:w.settings),j=new URL(window.location.href).pathname.split("/").pop()||"",R={...e,...C};j.toUpperCase()==="PUBLIC"&&C.gameMode==="local"&&(R.gameMode="online"),t(R),n!==m("updated")&&r(m("updated"))}finally{l(!1)}}},[h,p,x,e,t,m,n,d]);return _.useEffect(()=>{h&&v()},[h,v]),[n,g,s||!!h]}function WI({tab1:e,tab2:t}){const[n,r]=_.useState(0),{t:s}=de(),l=(o,d)=>{r(d)};return c.jsxs(c.Fragment,{children:[c.jsx(Kw,{position:"fixed",sx:{top:"auto",bottom:0},children:c.jsxs(bp,{value:n,onChange:l,indicatorColor:"secondary",variant:"fullWidth",children:[c.jsx(Fr,{label:s("game"),...Dl(0)}),c.jsx(Fr,{label:s("messages"),...Dl(1)})]})}),c.jsxs(H,{sx:{paddingTop:"4rem",paddingBottom:"48px",height:"100vh",display:"flex",flexDirection:"column"},children:[c.jsx(Ol,{value:n,index:0,style:{flex:1,overflow:"hidden",p:0},children:e}),c.jsx(Ol,{value:n,index:1,style:{flex:1,overflow:"hidden",p:1},children:t})]})]})}function QI(e,t,n,r){if(!e&&t===40)return!0;if(!n)return!1;const{roomTileCount:s}=n;return t!==s?!1:t===r}function ZI(e,t,n){const{id:r}=Ht(),[s,l]=_.useState(!1),{i18n:o}=de(),[d]=cn(),h=hi(()=>Pc(d==null?void 0:d.gameMode)),m=hi(Bc),g=_.useCallback(async()=>{var p;if(!d||n||s||!((p=m==null?void 0:m.tiles)!=null&&p.length)||r===void 0)return;const x=!Je(r||""),v={...d,room:r},w=Xr(t,"room");x&&!w&&await DS(v,e),l(!0);const S=QI(x,m.tiles.length,w,d.roomTileCount);if(!J2(t,C=>C.type==="settings"&&C.uid===e.uid)&&S){const C=await Ll(o.resolvedLanguage,d.gameMode);await Lp({formData:v,user:e,customTiles:h,actionsList:C,tiles:m.tiles,title:m.title})}},[m,h,o.resolvedLanguage,n,t,r,d,s,e]);_.useEffect(()=>{g()},[g])}const JI=45,e4=6;function t4(e,t,n){return e!=="settings"&&e!=="room"||typeof t!="string"?null:e==="settings"?n("updatedGameSettings"):e==="room"?n("updatedRoomSettings"):null}function n4(e,t){if(!(t!=null&&t.trim())||!(e!=null&&e.trim()))return!1;const n=`${e} ${t}`;return n.length>JI?!0:n.split(/\s+/).length>e4}var Fh,z1;function i4(){if(z1)return Fh;z1=1;var e=function(l){return l instanceof RegExp},t=function(o){var d=/[\\^$.*+?()[\]{}|]/g,h=RegExp(d.source);return o&&h.test(o)?o.replace(d,"\\$&"):o},n=function(l){return typeof l=="string"},r=function(l){var o=[];return l.forEach(function(d){Array.isArray(d)?o=o.concat(d):o.push(d)}),o};function s(l,o,d){var h=0,m=0;if(l==="")return l;if(!l||!n(l))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var g=o;e(g)||(g=new RegExp("("+t(g)+")","gi"));for(var p=l.split(g),x=1,v=p.length;x<v;x+=2){if(p[x]===void 0||p[x-1]===void 0){console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");continue}m=p[x].length,h+=p[x-1].length,p[x]=d(p[x],x,h),h+=m}return p}return Fh=function(o,d,h){return Array.isArray(o)||(o=[o]),r(o.map(function(m){return n(m)?s(m,d,h):m}))},Fh}var r4=i4();const N1=lo(r4);function a4({text:e}){const{t}=de();return _.useMemo(()=>{const r=MS(e,t("seconds"));let s=e;return r==null||r.forEach(l=>{l&&(s=N1(s,l,(o,d)=>c.jsx(h_,{textString:l,preventParentClose:()=>null,noPadding:!0},o+d)))}),N1(s,`
`,(l,o)=>c.jsx("br",{},`br${o}`))},[e,t])}const s4=_.memo(a4);function l4({room:e,id:t}){return c.jsx(Bt,{title:c.jsx(Z,{i18nKey:"delete"}),children:c.jsx(Xe,{onClick:()=>DE(e,t),"aria-label":"delete",size:"small",sx:{p:.5,ml:1,opacity:.6,transition:"all 0.2s ease","&:hover":{opacity:1,color:"error.main",backgroundColor:"rgba(255, 82, 82, 0.1)",transform:"scale(1.1)"}},children:c.jsx(hs,{fontSize:"small"})})})}function o4(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const u4=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,c4=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,d4={};function I1(e,t){return(d4.jsx?c4:u4).test(e)}const f4=/[ \t\n\f\r]/g;function h4(e){return typeof e=="object"?e.type==="text"?P1(e.value):!1:P1(e)}function P1(e){return e.replace(f4,"")===""}class xo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}xo.prototype.normal={};xo.prototype.property={};xo.prototype.space=void 0;function Qj(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new xo(n,r,t)}function np(e){return e.toLowerCase()}class dn{constructor(t,n){this.attribute=n,this.property=t}}dn.prototype.attribute="";dn.prototype.booleanish=!1;dn.prototype.boolean=!1;dn.prototype.commaOrSpaceSeparated=!1;dn.prototype.commaSeparated=!1;dn.prototype.defined=!1;dn.prototype.mustUseProperty=!1;dn.prototype.number=!1;dn.prototype.overloadedBoolean=!1;dn.prototype.property="";dn.prototype.spaceSeparated=!1;dn.prototype.space=void 0;let m4=0;const Ce=ta(),bt=ta(),ip=ta(),ue=ta(),Qe=ta(),is=ta(),Sn=ta();function ta(){return 2**++m4}const rp=Object.freeze({__proto__:null,boolean:Ce,booleanish:bt,commaOrSpaceSeparated:Sn,commaSeparated:is,number:ue,overloadedBoolean:ip,spaceSeparated:Qe}),Hh=Object.keys(rp);class jg extends dn{constructor(t,n,r,s){let l=-1;if(super(t,n),B1(this,"space",s),typeof r=="number")for(;++l<Hh.length;){const o=Hh[l];B1(this,Hh[l],(r&rp[o])===rp[o])}}}jg.prototype.defined=!0;function B1(e,t,n){n&&(e[t]=n)}function xs(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const l=new jg(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[np(r)]=r,n[np(l.attribute)]=r}return new xo(t,n,e.space)}const Zj=xs({properties:{ariaActiveDescendant:null,ariaAtomic:bt,ariaAutoComplete:null,ariaBusy:bt,ariaChecked:bt,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Qe,ariaCurrent:null,ariaDescribedBy:Qe,ariaDetails:null,ariaDisabled:bt,ariaDropEffect:Qe,ariaErrorMessage:null,ariaExpanded:bt,ariaFlowTo:Qe,ariaGrabbed:bt,ariaHasPopup:null,ariaHidden:bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qe,ariaLevel:ue,ariaLive:null,ariaModal:bt,ariaMultiLine:bt,ariaMultiSelectable:bt,ariaOrientation:null,ariaOwns:Qe,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:bt,ariaReadOnly:bt,ariaRelevant:null,ariaRequired:bt,ariaRoleDescription:Qe,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:bt,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Jj(e,t){return t in e?e[t]:t}function eC(e,t){return Jj(e,t.toLowerCase())}const p4=xs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:is,acceptCharset:Qe,accessKey:Qe,action:null,allow:null,allowFullScreen:Ce,allowPaymentRequest:Ce,allowUserMedia:Ce,alt:null,as:null,async:Ce,autoCapitalize:null,autoComplete:Qe,autoFocus:Ce,autoPlay:Ce,blocking:Qe,capture:null,charSet:null,checked:Ce,cite:null,className:Qe,cols:ue,colSpan:null,content:null,contentEditable:bt,controls:Ce,controlsList:Qe,coords:ue|is,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ce,defer:Ce,dir:null,dirName:null,disabled:Ce,download:ip,draggable:bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ce,formTarget:null,headers:Qe,height:ue,hidden:ip,high:ue,href:null,hrefLang:null,htmlFor:Qe,httpEquiv:Qe,id:null,imageSizes:null,imageSrcSet:null,inert:Ce,inputMode:null,integrity:null,is:null,isMap:Ce,itemId:null,itemProp:Qe,itemRef:Qe,itemScope:Ce,itemType:Qe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ce,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:Ce,muted:Ce,name:null,nonce:null,noModule:Ce,noValidate:Ce,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ce,optimum:ue,pattern:null,ping:Qe,placeholder:null,playsInline:Ce,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ce,referrerPolicy:null,rel:Qe,required:Ce,reversed:Ce,rows:ue,rowSpan:ue,sandbox:Qe,scope:null,scoped:Ce,seamless:Ce,selected:Ce,shadowRootClonable:Ce,shadowRootDelegatesFocus:Ce,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:Ce,useMap:null,value:bt,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qe,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ce,declare:Ce,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:Ce,noHref:Ce,noShade:Ce,noWrap:Ce,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:bt,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ce,disableRemotePlayback:Ce,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:eC}),g4=xs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Sn,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Qe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:Ce,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:is,g2:is,glyphName:is,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Sn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Sn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Sn,rev:Sn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Sn,requiredFeatures:Sn,requiredFonts:Sn,requiredFormats:Sn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Sn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Sn,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Sn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Jj}),tC=xs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),nC=xs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:eC}),iC=xs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),y4={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},x4=/[A-Z]/g,U1=/-[a-z]/g,b4=/^data[-\w.:]+$/i;function v4(e,t){const n=np(t);let r=t,s=dn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&b4.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(U1,S4);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!U1.test(l)){let o=l.replace(x4,w4);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}s=jg}return new s(r,t)}function w4(e){return"-"+e.toLowerCase()}function S4(e){return e.charAt(1).toUpperCase()}const _4=Qj([Zj,p4,tC,nC,iC],"html"),Cg=Qj([Zj,g4,tC,nC,iC],"svg");function j4(e){return e.join(" ").trim()}var qa={},Kh,$1;function C4(){if($1)return Kh;$1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,d=/^\s+|\s+$/g,h=`
`,m="/",g="*",p="",x="comment",v="declaration";Kh=function(S,k){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];k=k||{};var C=1,A=1;function j(K){var F=K.match(t);F&&(C+=F.length);var ne=K.lastIndexOf(h);A=~ne?K.length-ne:A+K.length}function R(){var K={line:C,column:A};return function(F){return F.position=new M(K),N(),F}}function M(K){this.start=K,this.end={line:C,column:A},this.source=k.source}M.prototype.content=S;function E(K){var F=new Error(k.source+":"+C+":"+A+": "+K);if(F.reason=K,F.filename=k.source,F.line=C,F.column=A,F.source=S,!k.silent)throw F}function O(K){var F=K.exec(S);if(F){var ne=F[0];return j(ne),S=S.slice(ne.length),F}}function N(){O(n)}function q(K){var F;for(K=K||[];F=D();)F!==!1&&K.push(F);return K}function D(){var K=R();if(!(m!=S.charAt(0)||g!=S.charAt(1))){for(var F=2;p!=S.charAt(F)&&(g!=S.charAt(F)||m!=S.charAt(F+1));)++F;if(F+=2,p===S.charAt(F-1))return E("End of comment missing");var ne=S.slice(2,F-2);return A+=2,j(ne),S=S.slice(F),A+=2,K({type:x,comment:ne})}}function P(){var K=R(),F=O(r);if(F){if(D(),!O(s))return E("property missing ':'");var ne=O(l),$=K({type:v,property:w(F[0].replace(e,p)),value:ne?w(ne[0].replace(e,p)):p});return O(o),$}}function G(){var K=[];q(K);for(var F;F=P();)F!==!1&&(K.push(F),q(K));return K}return N(),G()};function w(S){return S?S.replace(d,p):p}return Kh}var V1;function k4(){if(V1)return qa;V1=1;var e=qa&&qa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qa,"__esModule",{value:!0}),qa.default=n;var t=e(C4());function n(r,s){var l=null;if(!r||typeof r!="string")return l;var o=(0,t.default)(r),d=typeof s=="function";return o.forEach(function(h){if(h.type==="declaration"){var m=h.property,g=h.value;d?s(m,g,h):g&&(l=l||{},l[m]=g)}}),l}return qa}var Sl={},G1;function T4(){if(G1)return Sl;G1=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(m){return!m||n.test(m)||e.test(m)},o=function(m,g){return g.toUpperCase()},d=function(m,g){return"".concat(g,"-")},h=function(m,g){return g===void 0&&(g={}),l(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(s,d):m=m.replace(r,d),m.replace(t,o))};return Sl.camelCase=h,Sl}var _l,q1;function A4(){if(q1)return _l;q1=1;var e=_l&&_l.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(k4()),n=T4();function r(s,l){var o={};return!s||typeof s!="string"||(0,t.default)(s,function(d,h){d&&h&&(o[(0,n.camelCase)(d,l)]=h)}),o}return r.default=r,_l=r,_l}var E4=A4();const M4=lo(E4),rC=aC("end"),kg=aC("start");function aC(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function R4(e){const t=kg(e),n=rC(e);if(t&&n)return{start:t,end:n}}function Vl(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?F1(e.position):"start"in e||"end"in e?F1(e):"line"in e||"column"in e?ap(e):""}function ap(e){return H1(e&&e.line)+":"+H1(e&&e.column)}function F1(e){return ap(e&&e.start)+"-"+ap(e&&e.end)}function H1(e){return e&&typeof e=="number"?e:1}class Kt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",l={},o=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?s=t:!l.cause&&t&&(o=!0,s=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const h=r.indexOf(":");h===-1?l.ruleId=r:(l.source=r.slice(0,h),l.ruleId=r.slice(h+1))}if(!l.place&&l.ancestors&&l.ancestors){const h=l.ancestors[l.ancestors.length-1];h&&(l.place=h.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=Vl(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=o&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Kt.prototype.file="";Kt.prototype.name="";Kt.prototype.reason="";Kt.prototype.message="";Kt.prototype.stack="";Kt.prototype.column=void 0;Kt.prototype.line=void 0;Kt.prototype.ancestors=void 0;Kt.prototype.cause=void 0;Kt.prototype.fatal=void 0;Kt.prototype.place=void 0;Kt.prototype.ruleId=void 0;Kt.prototype.source=void 0;const Tg={}.hasOwnProperty,L4=new Map,D4=/[A-Z]/g,O4=new Set(["table","tbody","thead","tfoot","tr"]),z4=new Set(["td","th"]),sC="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function N4(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=q4(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=G4(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Cg:_4,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},l=lC(s,e,void 0);return l&&typeof l!="string"?l:s.create(e,s.Fragment,{children:l||void 0},void 0)}function lC(e,t,n){if(t.type==="element")return I4(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return P4(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return U4(e,t,n);if(t.type==="mdxjsEsm")return B4(e,t);if(t.type==="root")return $4(e,t,n);if(t.type==="text")return V4(e,t)}function I4(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Cg,e.schema=s),e.ancestors.push(t);const l=uC(e,t.tagName,!1),o=F4(e,t);let d=Eg(e,t);return O4.has(t.tagName)&&(d=d.filter(function(h){return typeof h=="string"?!h4(h):!0})),oC(e,o,l,t),Ag(o,d),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function P4(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ro(e,t.position)}function B4(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ro(e,t.position)}function U4(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Cg,e.schema=s),e.ancestors.push(t);const l=t.name===null?e.Fragment:uC(e,t.name,!0),o=H4(e,t),d=Eg(e,t);return oC(e,o,l,t),Ag(o,d),e.ancestors.pop(),e.schema=r,e.create(t,l,o,n)}function $4(e,t,n){const r={};return Ag(r,Eg(e,t)),e.create(t,e.Fragment,r,n)}function V4(e,t){return t.value}function oC(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Ag(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function G4(e,t,n){return r;function r(s,l,o,d){const m=Array.isArray(o.children)?n:t;return d?m(l,o,d):m(l,o)}}function q4(e,t){return n;function n(r,s,l,o){const d=Array.isArray(l.children),h=kg(r);return t(s,l,o,d,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function F4(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Tg.call(t.properties,s)){const l=K4(e,s,t.properties[s]);if(l){const[o,d]=l;e.tableCellAlignToStyle&&o==="align"&&typeof d=="string"&&z4.has(t.tagName)?r=d:n[o]=d}}if(r){const l=n.style||(n.style={});l[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function H4(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const l=r.data.estree.body[0];l.type;const o=l.expression;o.type;const d=o.properties[0];d.type,Object.assign(n,e.evaluater.evaluateExpression(d.argument))}else ro(e,t.position);else{const s=r.name;let l;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const d=r.value.data.estree.body[0];d.type,l=e.evaluater.evaluateExpression(d.expression)}else ro(e,t.position);else l=r.value===null?!0:r.value;n[s]=l}return n}function Eg(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:L4;for(;++r<t.children.length;){const l=t.children[r];let o;if(e.passKeys){const h=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(h){const m=s.get(h)||0;o=h+"-"+m,s.set(h,m+1)}}const d=lC(e,l,o);d!==void 0&&n.push(d)}return n}function K4(e,t,n){const r=v4(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?o4(n):j4(n)),r.property==="style"){let s=typeof n=="object"?n:Y4(e,String(n));return e.stylePropertyNameCase==="css"&&(s=X4(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?y4[r.property]||r.property:r.attribute,n]}}function Y4(e,t){try{return M4(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new Kt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=sC+"#cannot-parse-style-attribute",s}}function uC(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let l=-1,o;for(;++l<s.length;){const d=I1(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};o=o?{type:"MemberExpression",object:o,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}r=o}else r=I1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Tg.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);ro(e)}function ro(e,t){const n=new Kt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=sC+"#cannot-handle-mdx-estrees-without-createevaluater",n}function X4(e){const t={};let n;for(n in e)Tg.call(e,n)&&(t[W4(n)]=e[n]);return t}function W4(e){let t=e.replace(D4,Q4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Q4(e){return"-"+e.toLowerCase()}const Yh={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Z4={};function Mg(e,t){const n=Z4,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cC(e,r,s)}function cC(e,t,n){if(J4(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return K1(e.children,t,n)}return Array.isArray(e)?K1(e,t,n):""}function K1(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=cC(e[s],t,n);return r.join("")}function J4(e){return!!(e&&typeof e=="object")}const Y1=document.createElement("i");function Rg(e){const t="&"+e+";";Y1.innerHTML=t;const n=Y1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Cn(e,t,n,r){const s=e.length;let l=0,o;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);l<r.length;)o=r.slice(l,l+1e4),o.unshift(t,0),e.splice(...o),l+=1e4,t+=1e4}function Vn(e,t){return e.length>0?(Cn(e,e.length,0,t),e):t}const X1={}.hasOwnProperty;function dC(e){const t={};let n=-1;for(;++n<e.length;)eP(t,e[n]);return t}function eP(e,t){let n;for(n in t){const s=(X1.call(e,n)?e[n]:void 0)||(e[n]={}),l=t[n];let o;if(l)for(o in l){X1.call(s,o)||(s[o]=[]);const d=l[o];tP(s[o],Array.isArray(d)?d:d?[d]:[])}}}function tP(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Cn(e,0,0,r)}function fC(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ti(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Wt=vr(/[A-Za-z]/),Gt=vr(/[\dA-Za-z]/),nP=vr(/[#-'*+\--9=?A-Z^-~]/);function Cc(e){return e!==null&&(e<32||e===127)}const sp=vr(/\d/),iP=vr(/[\dA-Fa-f]/),rP=vr(/[!-/:-@[-`{-~]/);function xe(e){return e!==null&&e<-2}function Ye(e){return e!==null&&(e<0||e===32)}function De(e){return e===-2||e===-1||e===32}const Wc=vr(new RegExp("\\p{P}|\\p{S}","u")),Qr=vr(/\s/);function vr(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function bs(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const l=e.charCodeAt(n);let o="";if(l===37&&Gt(e.charCodeAt(n+1))&&Gt(e.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(o=String.fromCharCode(l));else if(l>55295&&l<57344){const d=e.charCodeAt(n+1);l<56320&&d>56319&&d<57344?(o=String.fromCharCode(l,d),s=1):o="�"}else o=String.fromCharCode(l);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+s+1,o=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Ne(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let l=0;return o;function o(h){return De(h)?(e.enter(n),d(h)):t(h)}function d(h){return De(h)&&l++<s?(e.consume(h),d):(e.exit(n),t(h))}}const aP={tokenize:sP};function sP(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ne(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),l(d)}function l(d){const h=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=h),n=h,o(d)}function o(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return xe(d)?(e.consume(d),e.exit("chunkText"),l):(e.consume(d),o)}}const lP={tokenize:oP},W1={tokenize:uP};function oP(e){const t=this,n=[];let r=0,s,l,o;return d;function d(j){if(r<n.length){const R=n[r];return t.containerState=R[1],e.attempt(R[0].continuation,h,m)(j)}return m(j)}function h(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&A();const R=t.events.length;let M=R,E;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){E=t.events[M][1].end;break}C(r);let O=R;for(;O<t.events.length;)t.events[O][1].end={...E},O++;return Cn(t.events,M+1,0,t.events.slice(R)),t.events.length=O,m(j)}return d(j)}function m(j){if(r===n.length){if(!s)return x(j);if(s.currentConstruct&&s.currentConstruct.concrete)return w(j);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(W1,g,p)(j)}function g(j){return s&&A(),C(r),x(j)}function p(j){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,w(j)}function x(j){return t.containerState={},e.attempt(W1,v,w)(j)}function v(j){return r++,n.push([t.currentConstruct,t.containerState]),x(j)}function w(j){if(j===null){s&&A(),C(0),e.consume(j);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),S(j)}function S(j){if(j===null){k(e.exit("chunkFlow"),!0),C(0),e.consume(j);return}return xe(j)?(e.consume(j),k(e.exit("chunkFlow")),r=0,t.interrupt=void 0,d):(e.consume(j),S)}function k(j,R){const M=t.sliceStream(j);if(R&&M.push(null),j.previous=l,l&&(l.next=j),l=j,s.defineSkip(j.start),s.write(M),t.parser.lazy[j.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<o&&(!s.events[E][1].end||s.events[E][1].end.offset>o))return;const O=t.events.length;let N=O,q,D;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(q){D=t.events[N][1].end;break}q=!0}for(C(r),E=O;E<t.events.length;)t.events[E][1].end={...D},E++;Cn(t.events,N+1,0,t.events.slice(O)),t.events.length=E}}function C(j){let R=n.length;for(;R-- >j;){const M=n[R];t.containerState=M[1],M[0].exit.call(t,e)}n.length=j}function A(){s.write([null]),l=void 0,s=void 0,t.containerState._closeFlow=void 0}}function uP(e,t,n){return Ne(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fs(e){if(e===null||Ye(e)||Qr(e))return 1;if(Wc(e))return 2}function Qc(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const l=e[s].resolveAll;l&&!r.includes(l)&&(t=l(t,n),r.push(l))}return t}const lp={name:"attention",resolveAll:cP,tokenize:dP};function cP(e,t){let n=-1,r,s,l,o,d,h,m,g;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;h=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},x={...e[n][1].start};Q1(p,-h),Q1(x,h),o={type:h>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},d={type:h>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:x},l={type:h>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:h>1?"strong":"emphasis",start:{...o.start},end:{...d.end}},e[r][1].end={...o.start},e[n][1].start={...d.end},m=[],e[r][1].end.offset-e[r][1].start.offset&&(m=Vn(m,[["enter",e[r][1],t],["exit",e[r][1],t]])),m=Vn(m,[["enter",s,t],["enter",o,t],["exit",o,t],["enter",l,t]]),m=Vn(m,Qc(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),m=Vn(m,[["exit",l,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(g=2,m=Vn(m,[["enter",e[n][1],t],["exit",e[n][1],t]])):g=0,Cn(e,r-1,n-r+3,m),n=r+m.length-g-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function dP(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=fs(r);let l;return o;function o(h){return l=h,e.enter("attentionSequence"),d(h)}function d(h){if(h===l)return e.consume(h),d;const m=e.exit("attentionSequence"),g=fs(h),p=!g||g===2&&s||n.includes(h),x=!s||s===2&&g||n.includes(r);return m._open=!!(l===42?p:p&&(s||!x)),m._close=!!(l===42?x:x&&(g||!p)),t(h)}}function Q1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const fP={name:"autolink",tokenize:hP};function hP(e,t,n){let r=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),l}function l(v){return Wt(v)?(e.consume(v),o):v===64?n(v):m(v)}function o(v){return v===43||v===45||v===46||Gt(v)?(r=1,d(v)):m(v)}function d(v){return v===58?(e.consume(v),r=0,h):(v===43||v===45||v===46||Gt(v))&&r++<32?(e.consume(v),d):(r=0,m(v))}function h(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||Cc(v)?n(v):(e.consume(v),h)}function m(v){return v===64?(e.consume(v),g):nP(v)?(e.consume(v),m):n(v)}function g(v){return Gt(v)?p(v):n(v)}function p(v){return v===46?(e.consume(v),r=0,g):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):x(v)}function x(v){if((v===45||Gt(v))&&r++<63){const w=v===45?x:p;return e.consume(v),w}return n(v)}}const bo={partial:!0,tokenize:mP};function mP(e,t,n){return r;function r(l){return De(l)?Ne(e,s,"linePrefix")(l):s(l)}function s(l){return l===null||xe(l)?t(l):n(l)}}const hC={continuation:{tokenize:gP},exit:yP,name:"blockQuote",tokenize:pP};function pP(e,t,n){const r=this;return s;function s(o){if(o===62){const d=r.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),l}return n(o)}function l(o){return De(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function gP(e,t,n){const r=this;return s;function s(o){return De(o)?Ne(e,l,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):l(o)}function l(o){return e.attempt(hC,t,n)(o)}}function yP(e){e.exit("blockQuote")}const mC={name:"characterEscape",tokenize:xP};function xP(e,t,n){return r;function r(l){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(l),e.exit("escapeMarker"),s}function s(l){return rP(l)?(e.enter("characterEscapeValue"),e.consume(l),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(l)}}const pC={name:"characterReference",tokenize:bP};function bP(e,t,n){const r=this;let s=0,l,o;return d;function d(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),h}function h(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),l=31,o=Gt,g(p))}function m(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),l=6,o=iP,g):(e.enter("characterReferenceValue"),l=7,o=sp,g(p))}function g(p){if(p===59&&s){const x=e.exit("characterReferenceValue");return o===Gt&&!Rg(r.sliceSerialize(x))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(p)&&s++<l?(e.consume(p),g):n(p)}}const Z1={partial:!0,tokenize:wP},J1={concrete:!0,name:"codeFenced",tokenize:vP};function vP(e,t,n){const r=this,s={partial:!0,tokenize:M};let l=0,o=0,d;return h;function h(E){return m(E)}function m(E){const O=r.events[r.events.length-1];return l=O&&O[1].type==="linePrefix"?O[2].sliceSerialize(O[1],!0).length:0,d=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(E)}function g(E){return E===d?(o++,e.consume(E),g):o<3?n(E):(e.exit("codeFencedFenceSequence"),De(E)?Ne(e,p,"whitespace")(E):p(E))}function p(E){return E===null||xe(E)?(e.exit("codeFencedFence"),r.interrupt?t(E):e.check(Z1,S,R)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===null||xe(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(E)):De(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ne(e,v,"whitespace")(E)):E===96&&E===d?n(E):(e.consume(E),x)}function v(E){return E===null||xe(E)?p(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===null||xe(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(E)):E===96&&E===d?n(E):(e.consume(E),w)}function S(E){return e.attempt(s,R,k)(E)}function k(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),C}function C(E){return l>0&&De(E)?Ne(e,A,"linePrefix",l+1)(E):A(E)}function A(E){return E===null||xe(E)?e.check(Z1,S,R)(E):(e.enter("codeFlowValue"),j(E))}function j(E){return E===null||xe(E)?(e.exit("codeFlowValue"),A(E)):(e.consume(E),j)}function R(E){return e.exit("codeFenced"),t(E)}function M(E,O,N){let q=0;return D;function D(ne){return E.enter("lineEnding"),E.consume(ne),E.exit("lineEnding"),P}function P(ne){return E.enter("codeFencedFence"),De(ne)?Ne(E,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):G(ne)}function G(ne){return ne===d?(E.enter("codeFencedFenceSequence"),K(ne)):N(ne)}function K(ne){return ne===d?(q++,E.consume(ne),K):q>=o?(E.exit("codeFencedFenceSequence"),De(ne)?Ne(E,F,"whitespace")(ne):F(ne)):N(ne)}function F(ne){return ne===null||xe(ne)?(E.exit("codeFencedFence"),O(ne)):N(ne)}}}function wP(e,t,n){const r=this;return s;function s(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Xh={name:"codeIndented",tokenize:_P},SP={partial:!0,tokenize:jP};function _P(e,t,n){const r=this;return s;function s(m){return e.enter("codeIndented"),Ne(e,l,"linePrefix",5)(m)}function l(m){const g=r.events[r.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?o(m):n(m)}function o(m){return m===null?h(m):xe(m)?e.attempt(SP,o,h)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||xe(m)?(e.exit("codeFlowValue"),o(m)):(e.consume(m),d)}function h(m){return e.exit("codeIndented"),t(m)}}function jP(e,t,n){const r=this;return s;function s(o){return r.parser.lazy[r.now().line]?n(o):xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),s):Ne(e,l,"linePrefix",5)(o)}function l(o){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(o):xe(o)?s(o):n(o)}}const CP={name:"codeText",previous:TP,resolve:kP,tokenize:AP};function kP(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function TP(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function AP(e,t,n){let r=0,s,l;return o;function o(p){return e.enter("codeText"),e.enter("codeTextSequence"),d(p)}function d(p){return p===96?(e.consume(p),r++,d):(e.exit("codeTextSequence"),h(p))}function h(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),h):p===96?(l=e.enter("codeTextSequence"),s=0,g(p)):xe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("codeTextData"),m(p))}function m(p){return p===null||p===32||p===96||xe(p)?(e.exit("codeTextData"),h(p)):(e.consume(p),m)}function g(p){return p===96?(e.consume(p),s++,g):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(l.type="codeTextData",m(p))}}class EP{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n==null?Number.POSITIVE_INFINITY:n;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&jl(this.left,r),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),jl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),jl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);jl(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);jl(this.left,n.reverse())}}}function jl(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function gC(e){const t={};let n=-1,r,s,l,o,d,h,m;const g=new EP(e);for(;++n<g.length;){for(;n in t;)n=t[n];if(r=g.get(n),n&&r[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(h=r[1]._tokenizer.events,l=0,l<h.length&&h[l][1].type==="lineEndingBlank"&&(l+=2),l<h.length&&h[l][1].type==="content"))for(;++l<h.length&&h[l][1].type!=="content";)h[l][1].type==="chunkText"&&(h[l][1]._isInFirstContentOfListItem=!0,l++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,MP(g,n)),n=t[n],m=!0);else if(r[1]._container){for(l=n,s=void 0;l--;)if(o=g.get(l),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),o[1].type="lineEnding",s=l);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;s&&(r[1].end={...g.get(s)[1].start},d=g.slice(s,n),d.unshift(r),g.splice(s,n-s+1,d))}}return Cn(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function MP(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const l=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const d=o.events,h=[],m={};let g,p,x=-1,v=n,w=0,S=0;const k=[S];for(;v;){for(;e.get(++s)[1]!==v;);l.push(s),v._tokenizer||(g=r.sliceStream(v),v.next||g.push(null),p&&o.defineSkip(v.start),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(g),v._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=n;++x<d.length;)d[x][0]==="exit"&&d[x-1][0]==="enter"&&d[x][1].type===d[x-1][1].type&&d[x][1].start.line!==d[x][1].end.line&&(S=x+1,k.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(o.events=[],v?(v._tokenizer=void 0,v.previous=void 0):k.pop(),x=k.length;x--;){const C=d.slice(k[x],k[x+1]),A=l.pop();h.push([A,A+C.length-1]),e.splice(A,2,C)}for(h.reverse(),x=-1;++x<h.length;)m[w+h[x][0]]=w+h[x][1],w+=h[x][1]-h[x][0]-1;return m}const RP={resolve:DP,tokenize:OP},LP={partial:!0,tokenize:zP};function DP(e){return gC(e),e}function OP(e,t){let n;return r;function r(d){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?l(d):xe(d)?e.check(LP,o,l)(d):(e.consume(d),s)}function l(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function o(d){return e.consume(d),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function zP(e,t,n){const r=this;return s;function s(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Ne(e,l,"linePrefix")}function l(o){if(o===null||xe(o))return n(o);const d=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function yC(e,t,n,r,s,l,o,d,h){const m=h||Number.POSITIVE_INFINITY;let g=0;return p;function p(C){return C===60?(e.enter(r),e.enter(s),e.enter(l),e.consume(C),e.exit(l),x):C===null||C===32||C===41||Cc(C)?n(C):(e.enter(r),e.enter(o),e.enter(d),e.enter("chunkString",{contentType:"string"}),S(C))}function x(C){return C===62?(e.enter(l),e.consume(C),e.exit(l),e.exit(s),e.exit(r),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===62?(e.exit("chunkString"),e.exit(d),x(C)):C===null||C===60||xe(C)?n(C):(e.consume(C),C===92?w:v)}function w(C){return C===60||C===62||C===92?(e.consume(C),v):v(C)}function S(C){return!g&&(C===null||C===41||Ye(C))?(e.exit("chunkString"),e.exit(d),e.exit(o),e.exit(r),t(C)):g<m&&C===40?(e.consume(C),g++,S):C===41?(e.consume(C),g--,S):C===null||C===32||C===40||Cc(C)?n(C):(e.consume(C),C===92?k:S)}function k(C){return C===40||C===41||C===92?(e.consume(C),S):S(C)}}function xC(e,t,n,r,s,l){const o=this;let d=0,h;return m;function m(v){return e.enter(r),e.enter(s),e.consume(v),e.exit(s),e.enter(l),g}function g(v){return d>999||v===null||v===91||v===93&&!h||v===94&&!d&&"_hiddenFootnoteSupport"in o.parser.constructs?n(v):v===93?(e.exit(l),e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):xe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||xe(v)||d++>999?(e.exit("chunkString"),g(v)):(e.consume(v),h||(h=!De(v)),v===92?x:p)}function x(v){return v===91||v===92||v===93?(e.consume(v),d++,p):p(v)}}function bC(e,t,n,r,s,l){let o;return d;function d(x){return x===34||x===39||x===40?(e.enter(r),e.enter(s),e.consume(x),e.exit(s),o=x===40?41:x,h):n(x)}function h(x){return x===o?(e.enter(s),e.consume(x),e.exit(s),e.exit(r),t):(e.enter(l),m(x))}function m(x){return x===o?(e.exit(l),h(o)):x===null?n(x):xe(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Ne(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===o||x===null||xe(x)?(e.exit("chunkString"),m(x)):(e.consume(x),x===92?p:g)}function p(x){return x===o||x===92?(e.consume(x),g):g(x)}}function Gl(e,t){let n;return r;function r(s){return xe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):De(s)?Ne(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const NP={name:"definition",tokenize:PP},IP={partial:!0,tokenize:BP};function PP(e,t,n){const r=this;let s;return l;function l(v){return e.enter("definition"),o(v)}function o(v){return xC.call(r,e,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function d(v){return s=ti(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),h):n(v)}function h(v){return Ye(v)?Gl(e,m)(v):m(v)}function m(v){return yC(e,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function g(v){return e.attempt(IP,p,p)(v)}function p(v){return De(v)?Ne(e,x,"whitespace")(v):x(v)}function x(v){return v===null||xe(v)?(e.exit("definition"),r.parser.defined.push(s),t(v)):n(v)}}function BP(e,t,n){return r;function r(d){return Ye(d)?Gl(e,s)(d):n(d)}function s(d){return bC(e,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return De(d)?Ne(e,o,"whitespace")(d):o(d)}function o(d){return d===null||xe(d)?t(d):n(d)}}const UP={name:"hardBreakEscape",tokenize:$P};function $P(e,t,n){return r;function r(l){return e.enter("hardBreakEscape"),e.consume(l),s}function s(l){return xe(l)?(e.exit("hardBreakEscape"),t(l)):n(l)}}const VP={name:"headingAtx",resolve:GP,tokenize:qP};function GP(e,t){let n=e.length-2,r=3,s,l;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},l={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Cn(e,r,n-r+1,[["enter",s,t],["enter",l,t],["exit",l,t],["exit",s,t]])),e}function qP(e,t,n){let r=0;return s;function s(g){return e.enter("atxHeading"),l(g)}function l(g){return e.enter("atxHeadingSequence"),o(g)}function o(g){return g===35&&r++<6?(e.consume(g),o):g===null||Ye(g)?(e.exit("atxHeadingSequence"),d(g)):n(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),h(g)):g===null||xe(g)?(e.exit("atxHeading"),t(g)):De(g)?Ne(e,d,"whitespace")(g):(e.enter("atxHeadingText"),m(g))}function h(g){return g===35?(e.consume(g),h):(e.exit("atxHeadingSequence"),d(g))}function m(g){return g===null||g===35||Ye(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),m)}}const FP=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ew=["pre","script","style","textarea"],HP={concrete:!0,name:"htmlFlow",resolveTo:XP,tokenize:WP},KP={partial:!0,tokenize:ZP},YP={partial:!0,tokenize:QP};function XP(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function WP(e,t,n){const r=this;let s,l,o,d,h;return m;function m(I){return g(I)}function g(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),x):I===47?(e.consume(I),l=!0,S):I===63?(e.consume(I),s=3,r.interrupt?t:z):Wt(I)?(e.consume(I),o=String.fromCharCode(I),k):n(I)}function x(I){return I===45?(e.consume(I),s=2,v):I===91?(e.consume(I),s=5,d=0,w):Wt(I)?(e.consume(I),s=4,r.interrupt?t:z):n(I)}function v(I){return I===45?(e.consume(I),r.interrupt?t:z):n(I)}function w(I){const Se="CDATA[";return I===Se.charCodeAt(d++)?(e.consume(I),d===Se.length?r.interrupt?t:G:w):n(I)}function S(I){return Wt(I)?(e.consume(I),o=String.fromCharCode(I),k):n(I)}function k(I){if(I===null||I===47||I===62||Ye(I)){const Se=I===47,Ee=o.toLowerCase();return!Se&&!l&&ew.includes(Ee)?(s=1,r.interrupt?t(I):G(I)):FP.includes(o.toLowerCase())?(s=6,Se?(e.consume(I),C):r.interrupt?t(I):G(I)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(I):l?A(I):j(I))}return I===45||Gt(I)?(e.consume(I),o+=String.fromCharCode(I),k):n(I)}function C(I){return I===62?(e.consume(I),r.interrupt?t:G):n(I)}function A(I){return De(I)?(e.consume(I),A):D(I)}function j(I){return I===47?(e.consume(I),D):I===58||I===95||Wt(I)?(e.consume(I),R):De(I)?(e.consume(I),j):D(I)}function R(I){return I===45||I===46||I===58||I===95||Gt(I)?(e.consume(I),R):M(I)}function M(I){return I===61?(e.consume(I),E):De(I)?(e.consume(I),M):j(I)}function E(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),h=I,O):De(I)?(e.consume(I),E):N(I)}function O(I){return I===h?(e.consume(I),h=null,q):I===null||xe(I)?n(I):(e.consume(I),O)}function N(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Ye(I)?M(I):(e.consume(I),N)}function q(I){return I===47||I===62||De(I)?j(I):n(I)}function D(I){return I===62?(e.consume(I),P):n(I)}function P(I){return I===null||xe(I)?G(I):De(I)?(e.consume(I),P):n(I)}function G(I){return I===45&&s===2?(e.consume(I),$):I===60&&s===1?(e.consume(I),U):I===62&&s===4?(e.consume(I),ce):I===63&&s===3?(e.consume(I),z):I===93&&s===5?(e.consume(I),ae):xe(I)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(KP,fe,K)(I)):I===null||xe(I)?(e.exit("htmlFlowData"),K(I)):(e.consume(I),G)}function K(I){return e.check(YP,F,fe)(I)}function F(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),ne}function ne(I){return I===null||xe(I)?K(I):(e.enter("htmlFlowData"),G(I))}function $(I){return I===45?(e.consume(I),z):G(I)}function U(I){return I===47?(e.consume(I),o="",W):G(I)}function W(I){if(I===62){const Se=o.toLowerCase();return ew.includes(Se)?(e.consume(I),ce):G(I)}return Wt(I)&&o.length<8?(e.consume(I),o+=String.fromCharCode(I),W):G(I)}function ae(I){return I===93?(e.consume(I),z):G(I)}function z(I){return I===62?(e.consume(I),ce):I===45&&s===2?(e.consume(I),z):G(I)}function ce(I){return I===null||xe(I)?(e.exit("htmlFlowData"),fe(I)):(e.consume(I),ce)}function fe(I){return e.exit("htmlFlow"),t(I)}}function QP(e,t,n){const r=this;return s;function s(o){return xe(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),l):n(o)}function l(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function ZP(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(bo,t,n)}}const JP={name:"htmlText",tokenize:eB};function eB(e,t,n){const r=this;let s,l,o;return d;function d(z){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(z),h}function h(z){return z===33?(e.consume(z),m):z===47?(e.consume(z),M):z===63?(e.consume(z),j):Wt(z)?(e.consume(z),N):n(z)}function m(z){return z===45?(e.consume(z),g):z===91?(e.consume(z),l=0,w):Wt(z)?(e.consume(z),A):n(z)}function g(z){return z===45?(e.consume(z),v):n(z)}function p(z){return z===null?n(z):z===45?(e.consume(z),x):xe(z)?(o=p,U(z)):(e.consume(z),p)}function x(z){return z===45?(e.consume(z),v):p(z)}function v(z){return z===62?$(z):z===45?x(z):p(z)}function w(z){const ce="CDATA[";return z===ce.charCodeAt(l++)?(e.consume(z),l===ce.length?S:w):n(z)}function S(z){return z===null?n(z):z===93?(e.consume(z),k):xe(z)?(o=S,U(z)):(e.consume(z),S)}function k(z){return z===93?(e.consume(z),C):S(z)}function C(z){return z===62?$(z):z===93?(e.consume(z),C):S(z)}function A(z){return z===null||z===62?$(z):xe(z)?(o=A,U(z)):(e.consume(z),A)}function j(z){return z===null?n(z):z===63?(e.consume(z),R):xe(z)?(o=j,U(z)):(e.consume(z),j)}function R(z){return z===62?$(z):j(z)}function M(z){return Wt(z)?(e.consume(z),E):n(z)}function E(z){return z===45||Gt(z)?(e.consume(z),E):O(z)}function O(z){return xe(z)?(o=O,U(z)):De(z)?(e.consume(z),O):$(z)}function N(z){return z===45||Gt(z)?(e.consume(z),N):z===47||z===62||Ye(z)?q(z):n(z)}function q(z){return z===47?(e.consume(z),$):z===58||z===95||Wt(z)?(e.consume(z),D):xe(z)?(o=q,U(z)):De(z)?(e.consume(z),q):$(z)}function D(z){return z===45||z===46||z===58||z===95||Gt(z)?(e.consume(z),D):P(z)}function P(z){return z===61?(e.consume(z),G):xe(z)?(o=P,U(z)):De(z)?(e.consume(z),P):q(z)}function G(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(e.consume(z),s=z,K):xe(z)?(o=G,U(z)):De(z)?(e.consume(z),G):(e.consume(z),F)}function K(z){return z===s?(e.consume(z),s=void 0,ne):z===null?n(z):xe(z)?(o=K,U(z)):(e.consume(z),K)}function F(z){return z===null||z===34||z===39||z===60||z===61||z===96?n(z):z===47||z===62||Ye(z)?q(z):(e.consume(z),F)}function ne(z){return z===47||z===62||Ye(z)?q(z):n(z)}function $(z){return z===62?(e.consume(z),e.exit("htmlTextData"),e.exit("htmlText"),t):n(z)}function U(z){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(z),e.exit("lineEnding"),W}function W(z){return De(z)?Ne(e,ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ae(z)}function ae(z){return e.enter("htmlTextData"),o(z)}}const Lg={name:"labelEnd",resolveAll:rB,resolveTo:aB,tokenize:sB},tB={tokenize:lB},nB={tokenize:oB},iB={tokenize:uB};function rB(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Cn(e,0,e.length,n),e}function aB(e,t){let n=e.length,r=0,s,l,o,d;for(;n--;)if(s=e[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(o=n);const h={type:e[l][1].type==="labelLink"?"link":"image",start:{...e[l][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[l][1].start},end:{...e[o][1].end}},g={type:"labelText",start:{...e[l+r+2][1].end},end:{...e[o-2][1].start}};return d=[["enter",h,t],["enter",m,t]],d=Vn(d,e.slice(l+1,l+r+3)),d=Vn(d,[["enter",g,t]]),d=Vn(d,Qc(t.parser.constructs.insideSpan.null,e.slice(l+r+4,o-3),t)),d=Vn(d,[["exit",g,t],e[o-2],e[o-1],["exit",m,t]]),d=Vn(d,e.slice(o+1)),d=Vn(d,[["exit",h,t]]),Cn(e,l,e.length,d),e}function sB(e,t,n){const r=this;let s=r.events.length,l,o;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){l=r.events[s][1];break}return d;function d(x){return l?l._inactive?p(x):(o=r.parser.defined.includes(ti(r.sliceSerialize({start:l.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),h):n(x)}function h(x){return x===40?e.attempt(tB,g,o?g:p)(x):x===91?e.attempt(nB,g,o?m:p)(x):o?g(x):p(x)}function m(x){return e.attempt(iB,g,p)(x)}function g(x){return t(x)}function p(x){return l._balanced=!0,n(x)}}function lB(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),s}function s(p){return Ye(p)?Gl(e,l)(p):l(p)}function l(p){return p===41?g(p):yC(e,o,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function o(p){return Ye(p)?Gl(e,h)(p):g(p)}function d(p){return n(p)}function h(p){return p===34||p===39||p===40?bC(e,m,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):g(p)}function m(p){return Ye(p)?Gl(e,g)(p):g(p)}function g(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function oB(e,t,n){const r=this;return s;function s(d){return xC.call(r,e,l,o,"reference","referenceMarker","referenceString")(d)}function l(d){return r.parser.defined.includes(ti(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(d):n(d)}function o(d){return n(d)}}function uB(e,t,n){return r;function r(l){return e.enter("reference"),e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),s}function s(l){return l===93?(e.enter("referenceMarker"),e.consume(l),e.exit("referenceMarker"),e.exit("reference"),t):n(l)}}const cB={name:"labelStartImage",resolveAll:Lg.resolveAll,tokenize:dB};function dB(e,t,n){const r=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),l}function l(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),o):n(d)}function o(d){return d===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(d):t(d)}}const fB={name:"labelStartLink",resolveAll:Lg.resolveAll,tokenize:hB};function hB(e,t,n){const r=this;return s;function s(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),l}function l(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const Wh={name:"lineEnding",tokenize:mB};function mB(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Ne(e,t,"linePrefix")}}const sc={name:"thematicBreak",tokenize:pB};function pB(e,t,n){let r=0,s;return l;function l(m){return e.enter("thematicBreak"),o(m)}function o(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),h(m)):r>=3&&(m===null||xe(m))?(e.exit("thematicBreak"),t(m)):n(m)}function h(m){return m===s?(e.consume(m),r++,h):(e.exit("thematicBreakSequence"),De(m)?Ne(e,d,"whitespace")(m):d(m))}}const sn={continuation:{tokenize:bB},exit:wB,name:"list",tokenize:xB},gB={partial:!0,tokenize:SB},yB={partial:!0,tokenize:vB};function xB(e,t,n){const r=this,s=r.events[r.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,o=0;return d;function d(v){const w=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:sp(v)){if(r.containerState.type||(r.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(sc,n,m)(v):m(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(v)}return n(v)}function h(v){return sp(v)&&++o<10?(e.consume(v),h):(!r.interrupt||o<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),m(v)):n(v)}function m(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(bo,r.interrupt?n:g,e.attempt(gB,x,p))}function g(v){return r.containerState.initialBlankLine=!0,l++,x(v)}function p(v){return De(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),x):n(v)}function x(v){return r.containerState.size=l+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function bB(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(bo,s,l);function s(d){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Ne(e,t,"listItemIndent",r.containerState.size+1)(d)}function l(d){return r.containerState.furtherBlankLines||!De(d)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(d)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(yB,t,o)(d))}function o(d){return r.containerState._closeFlow=!0,r.interrupt=void 0,Ne(e,e.attempt(sn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function vB(e,t,n){const r=this;return Ne(e,s,"listItemIndent",r.containerState.size+1);function s(l){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(l):n(l)}}function wB(e){e.exit(this.containerState.type)}function SB(e,t,n){const r=this;return Ne(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const o=r.events[r.events.length-1];return!De(l)&&o&&o[1].type==="listItemPrefixWhitespace"?t(l):n(l)}}const tw={name:"setextUnderline",resolveTo:_B,tokenize:jB};function _B(e,t){let n=e.length,r,s,l;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!l&&e[n][1].type==="definition"&&(l=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",l?(e.splice(s,0,["enter",o,t]),e.splice(l+1,0,["exit",e[r][1],t]),e[r][1].end={...e[l][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function jB(e,t,n){const r=this;let s;return l;function l(m){let g=r.events.length,p;for(;g--;)if(r.events[g][1].type!=="lineEnding"&&r.events[g][1].type!=="linePrefix"&&r.events[g][1].type!=="content"){p=r.events[g][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),s=m,o(m)):n(m)}function o(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),De(m)?Ne(e,h,"lineSuffix")(m):h(m))}function h(m){return m===null||xe(m)?(e.exit("setextHeadingLine"),t(m)):n(m)}}const CB={tokenize:kB};function kB(e){const t=this,n=e.attempt(bo,r,e.attempt(this.parser.constructs.flowInitial,s,Ne(e,e.attempt(this.parser.constructs.flow,s,e.attempt(RP,s)),"linePrefix")));return n;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEndingBlank"),e.consume(l),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const TB={resolveAll:wC()},AB=vC("string"),EB=vC("text");function vC(e){return{resolveAll:wC(e==="text"?MB:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],l=n.attempt(s,o,d);return o;function o(g){return m(g)?l(g):d(g)}function d(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),h}function h(g){return m(g)?(n.exit("data"),l(g)):(n.consume(g),h)}function m(g){if(g===null)return!0;const p=s[g];let x=-1;if(p)for(;++x<p.length;){const v=p[x];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function wC(e){return t;function t(n,r){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return e?e(n,r):n}}function MB(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let l=s.length,o=-1,d=0,h;for(;l--;){const m=s[l];if(typeof m=="string"){for(o=m.length;m.charCodeAt(o-1)===32;)d++,o--;if(o)break;o=-1}else if(m===-2)h=!0,d++;else if(m!==-1){l++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(d=0),d){const m={type:n===e.length||h||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?o:r.start._bufferIndex+o,_index:r.start._index+l,line:r.end.line,column:r.end.column-d,offset:r.end.offset-d},end:{...r.end}};r.end={...m.start},r.start.offset===r.end.offset?Object.assign(r,m):(e.splice(n,0,["enter",m,t],["exit",m,t]),n+=2)}n++}return e}const RB={42:sn,43:sn,45:sn,48:sn,49:sn,50:sn,51:sn,52:sn,53:sn,54:sn,55:sn,56:sn,57:sn,62:hC},LB={91:NP},DB={[-2]:Xh,[-1]:Xh,32:Xh},OB={35:VP,42:sc,45:[tw,sc],60:HP,61:tw,95:sc,96:J1,126:J1},zB={38:pC,92:mC},NB={[-5]:Wh,[-4]:Wh,[-3]:Wh,33:cB,38:pC,42:lp,60:[fP,JP],91:fB,92:[UP,mC],93:Lg,95:lp,96:CP},IB={null:[lp,TB]},PB={null:[42,95]},BB={null:[]},UB=Object.freeze({__proto__:null,attentionMarkers:PB,contentInitial:LB,disable:BB,document:RB,flow:OB,flowInitial:DB,insideSpan:IB,string:zB,text:NB});function $B(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let o=[],d=[];const h={attempt:O(M),check:O(E),consume:A,enter:j,exit:R,interrupt:O(E,{interrupt:!0})},m={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:x,sliceStream:v,write:p};let g=t.tokenize.call(m,h);return t.resolveAll&&l.push(t),m;function p(P){return o=Vn(o,P),k(),o[o.length-1]!==null?[]:(N(t,0),m.events=Qc(l,m.events,m),m.events)}function x(P,G){return GB(v(P),G)}function v(P){return VB(o,P)}function w(){const{_bufferIndex:P,_index:G,line:K,column:F,offset:ne}=r;return{_bufferIndex:P,_index:G,line:K,column:F,offset:ne}}function S(P){s[P.line]=P.column,D()}function k(){let P;for(;r._index<o.length;){const G=o[r._index];if(typeof G=="string")for(P=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===P&&r._bufferIndex<G.length;)C(G.charCodeAt(r._bufferIndex));else C(G)}}function C(P){g=g(P)}function A(P){xe(P)?(r.line++,r.column=1,r.offset+=P===-3?2:1,D()):P!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),m.previous=P}function j(P,G){const K=G||{};return K.type=P,K.start=w(),m.events.push(["enter",K,m]),d.push(K),K}function R(P){const G=d.pop();return G.end=w(),m.events.push(["exit",G,m]),G}function M(P,G){N(P,G.from)}function E(P,G){G.restore()}function O(P,G){return K;function K(F,ne,$){let U,W,ae,z;return Array.isArray(F)?fe(F):"tokenize"in F?fe([F]):ce(F);function ce(Te){return Ze;function Ze(Oe){const it=Oe!==null&&Te[Oe],En=Oe!==null&&Te.null,xi=[...Array.isArray(it)?it:it?[it]:[],...Array.isArray(En)?En:En?[En]:[]];return fe(xi)(Oe)}}function fe(Te){return U=Te,W=0,Te.length===0?$:I(Te[W])}function I(Te){return Ze;function Ze(Oe){return z=q(),ae=Te,Te.partial||(m.currentConstruct=Te),Te.name&&m.parser.constructs.disable.null.includes(Te.name)?Ee():Te.tokenize.call(G?Object.assign(Object.create(m),G):m,h,Se,Ee)(Oe)}}function Se(Te){return P(ae,z),ne}function Ee(Te){return z.restore(),++W<U.length?I(U[W]):$}}}function N(P,G){P.resolveAll&&!l.includes(P)&&l.push(P),P.resolve&&Cn(m.events,G,m.events.length-G,P.resolve(m.events.slice(G),m)),P.resolveTo&&(m.events=P.resolveTo(m.events,m))}function q(){const P=w(),G=m.previous,K=m.currentConstruct,F=m.events.length,ne=Array.from(d);return{from:F,restore:$};function $(){r=P,m.previous=G,m.currentConstruct=K,m.events.length=F,d=ne,D()}}function D(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function VB(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,l=t.end._bufferIndex;let o;if(n===s)o=[e[n].slice(r,l)];else{if(o=e.slice(n,s),r>-1){const d=o[0];typeof d=="string"?o[0]=d.slice(r):o.shift()}l>0&&o.push(e[s].slice(0,l))}return o}function GB(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const l=e[n];let o;if(typeof l=="string")o=l;else switch(l){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&s)continue;o=" ";break}default:o=String.fromCharCode(l)}s=l===-2,r.push(o)}return r.join("")}function qB(e){const r={constructs:dC([UB,...(e||{}).extensions||[]]),content:s(aP),defined:[],document:s(lP),flow:s(CB),lazy:{},string:s(AB),text:s(EB)};return r;function s(l){return o;function o(d){return $B(r,l,d)}}}function FB(e){for(;!gC(e););return e}const nw=/[\0\t\n\r]/g;function HB(){let e=1,t="",n=!0,r;return s;function s(l,o,d){const h=[];let m,g,p,x,v;for(l=t+(typeof l=="string"?l.toString():new TextDecoder(o||void 0).decode(l)),p=0,t="",n&&(l.charCodeAt(0)===65279&&p++,n=void 0);p<l.length;){if(nw.lastIndex=p,m=nw.exec(l),x=m&&m.index!==void 0?m.index:l.length,v=l.charCodeAt(x),!m){t=l.slice(p);break}if(v===10&&p===x&&r)h.push(-3),r=void 0;else switch(r&&(h.push(-5),r=void 0),p<x&&(h.push(l.slice(p,x)),e+=x-p),v){case 0:{h.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,h.push(-2);e++<g;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:r=!0,e=1}p=x+1}return d&&(r&&h.push(-5),t&&h.push(t),h.push(null)),h}}const KB=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function YB(e){return e.replace(KB,XB)}function XB(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return fC(n.slice(l?2:1),l?16:10)}return Rg(n)||e}const SC={}.hasOwnProperty;function WB(e,t,n){return typeof t!="string"&&(n=t,t=void 0),QB(n)(FB(qB(n).document().write(HB()(e,t,!0))))}function QB(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(_s),autolinkProtocol:q,autolinkEmail:q,atxHeading:l(wo),blockQuote:l(En),characterEscape:q,characterReference:q,codeFenced:l(xi),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:l(xi,o),codeText:l(vs,o),codeTextData:q,data:q,codeFlowValue:q,definition:l(ws),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:l(Ss),hardBreakEscape:l(So),hardBreakTrailing:l(So),htmlFlow:l(fn,o),htmlFlowData:q,htmlText:l(fn,o),htmlTextData:q,image:l(id),label:o,link:l(_s),listItem:l(na),listItemValue:x,listOrdered:l(js,p),listUnordered:l(js),paragraph:l(rd),reference:I,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:l(wo),strong:l(_o),thematicBreak:l(sd)},exit:{atxHeading:h(),atxHeadingSequence:M,autolink:h(),autolinkEmail:it,autolinkProtocol:Oe,blockQuote:h(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:Te,characterReference:Ze,codeFenced:h(k),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:D,codeIndented:h(C),codeText:h(ne),codeTextData:D,data:D,definition:h(),definitionDestinationString:R,definitionLabelString:A,definitionTitleString:j,emphasis:h(),hardBreakEscape:h(G),hardBreakTrailing:h(G),htmlFlow:h(K),htmlFlowData:D,htmlText:h(F),htmlTextData:D,image:h(U),label:ae,labelText:W,lineEnding:P,link:h($),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Se,resourceDestinationString:z,resourceTitleString:ce,resource:fe,setextHeading:h(N),setextHeadingLineSequence:O,setextHeadingText:E,strong:h(),thematicBreak:h()}};_C(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ie){let oe={type:"root",children:[]};const ye={stack:[oe],tokenStack:[],config:t,enter:d,exit:m,buffer:o,resume:g,data:n},we=[];let Ue=-1;for(;++Ue<ie.length;)if(ie[Ue][1].type==="listOrdered"||ie[Ue][1].type==="listUnordered")if(ie[Ue][0]==="enter")we.push(Ue);else{const hn=we.pop();Ue=s(ie,hn,Ue)}for(Ue=-1;++Ue<ie.length;){const hn=t[ie[Ue][0]];SC.call(hn,ie[Ue][1].type)&&hn[ie[Ue][1].type].call(Object.assign({sliceSerialize:ie[Ue][2].sliceSerialize},ye),ie[Ue][1])}if(ye.tokenStack.length>0){const hn=ye.tokenStack[ye.tokenStack.length-1];(hn[1]||iw).call(ye,void 0,hn[0])}for(oe.position={start:mr(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:mr(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<t.transforms.length;)oe=t.transforms[Ue](oe)||oe;return oe}function s(ie,oe,ye){let we=oe-1,Ue=-1,hn=!1,bi,Jt,ii,mn;for(;++we<=ye;){const kt=ie[we];switch(kt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{kt[0]==="enter"?Ue++:Ue--,mn=void 0;break}case"lineEndingBlank":{kt[0]==="enter"&&(bi&&!mn&&!Ue&&!ii&&(ii=we),mn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mn=void 0}if(!Ue&&kt[0]==="enter"&&kt[1].type==="listItemPrefix"||Ue===-1&&kt[0]==="exit"&&(kt[1].type==="listUnordered"||kt[1].type==="listOrdered")){if(bi){let Mn=we;for(Jt=void 0;Mn--;){const Fn=ie[Mn];if(Fn[1].type==="lineEnding"||Fn[1].type==="lineEndingBlank"){if(Fn[0]==="exit")continue;Jt&&(ie[Jt][1].type="lineEndingBlank",hn=!0),Fn[1].type="lineEnding",Jt=Mn}else if(!(Fn[1].type==="linePrefix"||Fn[1].type==="blockQuotePrefix"||Fn[1].type==="blockQuotePrefixWhitespace"||Fn[1].type==="blockQuoteMarker"||Fn[1].type==="listItemIndent"))break}ii&&(!Jt||ii<Jt)&&(bi._spread=!0),bi.end=Object.assign({},Jt?ie[Jt][1].start:kt[1].end),ie.splice(Jt||we,0,["exit",bi,kt[2]]),we++,ye++}if(kt[1].type==="listItemPrefix"){const Mn={type:"listItem",_spread:!1,start:Object.assign({},kt[1].start),end:void 0};bi=Mn,ie.splice(we,0,["enter",Mn,kt[2]]),we++,ye++,ii=void 0,mn=!0}}}return ie[oe][1]._spread=hn,ye}function l(ie,oe){return ye;function ye(we){d.call(this,ie(we),we),oe&&oe.call(this,we)}}function o(){this.stack.push({type:"fragment",children:[]})}function d(ie,oe,ye){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([oe,ye||void 0]),ie.position={start:mr(oe.start),end:void 0}}function h(ie){return oe;function oe(ye){ie&&ie.call(this,ye),m.call(this,ye)}}function m(ie,oe){const ye=this.stack.pop(),we=this.tokenStack.pop();if(we)we[0].type!==ie.type&&(oe?oe.call(this,ie,we[0]):(we[1]||iw).call(this,ie,we[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Vl({start:ie.start,end:ie.end})+"): it’s not open");ye.position.end=mr(ie.end)}function g(){return Mg(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function x(ie){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=ie}function w(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=ie}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie.replace(/(\r?\n|\r)$/g,"")}function A(ie){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=ti(this.sliceSerialize(ie)).toLowerCase()}function j(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ie}function R(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ie}function M(ie){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ye=this.sliceSerialize(ie).length;oe.depth=ye}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function O(ie){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function q(ie){const ye=this.stack[this.stack.length-1].children;let we=ye[ye.length-1];(!we||we.type!=="text")&&(we=ad(),we.position={start:mr(ie.start),end:void 0},ye.push(we)),this.stack.push(we)}function D(ie){const oe=this.stack.pop();oe.value+=this.sliceSerialize(ie),oe.position.end=mr(ie.end)}function P(ie){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=oe.children[oe.children.length-1];ye.position.end=mr(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(q.call(this,ie),D.call(this,ie))}function G(){this.data.atHardBreak=!0}function K(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie}function F(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie}function ne(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie}function $(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=oe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function U(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=oe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function W(ie){const oe=this.sliceSerialize(ie),ye=this.stack[this.stack.length-2];ye.label=YB(oe),ye.identifier=ti(oe).toLowerCase()}function ae(){const ie=this.stack[this.stack.length-1],oe=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const we=ie.children;ye.children=we}else ye.alt=oe}function z(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ie}function ce(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ie}function fe(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function Se(ie){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=ti(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function Ee(ie){this.data.characterReferenceType=ie.type}function Te(ie){const oe=this.sliceSerialize(ie),ye=this.data.characterReferenceType;let we;ye?(we=fC(oe,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):we=Rg(oe);const Ue=this.stack[this.stack.length-1];Ue.value+=we}function Ze(ie){const oe=this.stack.pop();oe.position.end=mr(ie.end)}function Oe(ie){D.call(this,ie);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(ie)}function it(ie){D.call(this,ie);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(ie)}function En(){return{type:"blockquote",children:[]}}function xi(){return{type:"code",lang:null,meta:null,value:""}}function vs(){return{type:"inlineCode",value:""}}function ws(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ss(){return{type:"emphasis",children:[]}}function wo(){return{type:"heading",depth:0,children:[]}}function So(){return{type:"break"}}function fn(){return{type:"html",value:""}}function id(){return{type:"image",title:null,url:"",alt:null}}function _s(){return{type:"link",title:null,url:"",children:[]}}function js(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function na(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function rd(){return{type:"paragraph",children:[]}}function _o(){return{type:"strong",children:[]}}function ad(){return{type:"text",value:""}}function sd(){return{type:"thematicBreak"}}}function mr(e){return{line:e.line,column:e.column,offset:e.offset}}function _C(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?_C(e,r):ZB(e,r)}}function ZB(e,t){let n;for(n in t)if(SC.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function iw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Vl({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Vl({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Vl({start:t.start,end:t.end})+") is still open")}function JB(e){const t=this;t.parser=n;function n(r){return WB(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function eU(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function tU(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function nU(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function iU(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function rU(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function aU(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=bs(r.toLowerCase()),l=e.footnoteOrder.indexOf(r);let o,d=e.footnoteCounts.get(r);d===void 0?(d=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=l+1,d+=1,e.footnoteCounts.set(r,d);const h={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,h);const m={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,m),e.applyData(t,m)}function sU(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lU(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jC(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const o=s[s.length-1];return o&&o.type==="text"?o.value+=r:s.push({type:"text",value:r}),s}function oU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jC(e,t);const s={src:bs(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const l={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,l),e.applyData(t,l)}function uU(e,t){const n={src:bs(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function cU(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function dU(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jC(e,t);const s={href:bs(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const l={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,l),e.applyData(t,l)}function fU(e,t){const n={href:bs(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function hU(e,t,n){const r=e.all(t),s=n?mU(n):CC(t),l={},o=[];if(typeof t.checked=="boolean"){const g=r[0];let p;g&&g.type==="element"&&g.tagName==="p"?p=g:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<r.length;){const g=r[d];(s||d!==0||g.type!=="element"||g.tagName!=="p")&&o.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?o.push(...g.children):o.push(g)}const h=r[r.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:l,children:o};return e.patch(t,m),e.applyData(t,m)}function mU(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=CC(n[r])}return t}function CC(e){const t=e.spread;return t==null?e.children.length>1:t}function pU(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const o=r[s];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,l),e.applyData(t,l)}function gU(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yU(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function xU(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bU(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),s.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},d=kg(t.children[1]),h=rC(t.children[t.children.length-1]);d&&h&&(o.position={start:d,end:h}),s.push(o)}const l={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,l),e.applyData(t,l)}function vU(e,t,n){const r=n?n.children:void 0,l=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,d=o?o.length:t.children.length;let h=-1;const m=[];for(;++h<d;){const p=t.children[h],x={},v=o?o[h]:void 0;v&&(x.align=v);let w={type:"element",tagName:l,properties:x,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),m.push(w)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,g),e.applyData(t,g)}function wU(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const rw=9,aw=32;function SU(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const l=[];for(;r;)l.push(sw(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return l.push(sw(t.slice(s),s>0,!1)),l.join("")}function sw(e,t,n){let r=0,s=e.length;if(t){let l=e.codePointAt(r);for(;l===rw||l===aw;)r++,l=e.codePointAt(r)}if(n){let l=e.codePointAt(s-1);for(;l===rw||l===aw;)s--,l=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function _U(e,t){const n={type:"text",value:SU(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function jU(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const CU={blockquote:eU,break:tU,code:nU,delete:iU,emphasis:rU,footnoteReference:aU,heading:sU,html:lU,imageReference:oU,image:uU,inlineCode:cU,linkReference:dU,link:fU,listItem:hU,list:pU,paragraph:gU,root:yU,strong:xU,table:bU,tableCell:wU,tableRow:vU,text:_U,thematicBreak:jU,toml:Bu,yaml:Bu,definition:Bu,footnoteDefinition:Bu};function Bu(){}const kC=-1,Zc=0,ql=1,kc=2,Dg=3,Og=4,zg=5,Ng=6,TC=7,AC=8,lw=typeof self=="object"?self:globalThis,kU=(e,t)=>{const n=(s,l)=>(e.set(l,s),s),r=s=>{if(e.has(s))return e.get(s);const[l,o]=t[s];switch(l){case Zc:case kC:return n(o,s);case ql:{const d=n([],s);for(const h of o)d.push(r(h));return d}case kc:{const d=n({},s);for(const[h,m]of o)d[r(h)]=r(m);return d}case Dg:return n(new Date(o),s);case Og:{const{source:d,flags:h}=o;return n(new RegExp(d,h),s)}case zg:{const d=n(new Map,s);for(const[h,m]of o)d.set(r(h),r(m));return d}case Ng:{const d=n(new Set,s);for(const h of o)d.add(r(h));return d}case TC:{const{name:d,message:h}=o;return n(new lw[d](h),s)}case AC:return n(BigInt(o),s);case"BigInt":return n(Object(BigInt(o)),s);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:d}=new Uint8Array(o);return n(new DataView(d),o)}}return n(new lw[l](o),s)};return r},ow=e=>kU(new Map,e)(0),Fa="",{toString:TU}={},{keys:AU}=Object,Cl=e=>{const t=typeof e;if(t!=="object"||!e)return[Zc,t];const n=TU.call(e).slice(8,-1);switch(n){case"Array":return[ql,Fa];case"Object":return[kc,Fa];case"Date":return[Dg,Fa];case"RegExp":return[Og,Fa];case"Map":return[zg,Fa];case"Set":return[Ng,Fa];case"DataView":return[ql,n]}return n.includes("Array")?[ql,n]:n.includes("Error")?[TC,n]:[kc,n]},Uu=([e,t])=>e===Zc&&(t==="function"||t==="symbol"),EU=(e,t,n,r)=>{const s=(o,d)=>{const h=r.push(o)-1;return n.set(d,h),h},l=o=>{if(n.has(o))return n.get(o);let[d,h]=Cl(o);switch(d){case Zc:{let g=o;switch(h){case"bigint":d=AC,g=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return s([kC],o)}return s([d,g],o)}case ql:{if(h){let x=o;return h==="DataView"?x=new Uint8Array(o.buffer):h==="ArrayBuffer"&&(x=new Uint8Array(o)),s([h,[...x]],o)}const g=[],p=s([d,g],o);for(const x of o)g.push(l(x));return p}case kc:{if(h)switch(h){case"BigInt":return s([h,o.toString()],o);case"Boolean":case"Number":case"String":return s([h,o.valueOf()],o)}if(t&&"toJSON"in o)return l(o.toJSON());const g=[],p=s([d,g],o);for(const x of AU(o))(e||!Uu(Cl(o[x])))&&g.push([l(x),l(o[x])]);return p}case Dg:return s([d,o.toISOString()],o);case Og:{const{source:g,flags:p}=o;return s([d,{source:g,flags:p}],o)}case zg:{const g=[],p=s([d,g],o);for(const[x,v]of o)(e||!(Uu(Cl(x))||Uu(Cl(v))))&&g.push([l(x),l(v)]);return p}case Ng:{const g=[],p=s([d,g],o);for(const x of o)(e||!Uu(Cl(x)))&&g.push(l(x));return p}}const{message:m}=o;return s([d,{name:h,message:m}],o)};return l},uw=(e,{json:t,lossy:n}={})=>{const r=[];return EU(!(t||n),!!t,new Map,r)(e),r},Tc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?ow(uw(e,t)):structuredClone(e):(e,t)=>ow(uw(e,t));function MU(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function RU(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function LU(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||MU,r=e.options.footnoteBackLabel||RU,s=e.options.footnoteLabel||"Footnotes",l=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let h=-1;for(;++h<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[h]);if(!m)continue;const g=e.all(m),p=String(m.identifier).toUpperCase(),x=bs(p.toLowerCase());let v=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++v<=S;){w.length>0&&w.push({type:"text",value:" "});let A=typeof n=="string"?n:n(h,v);typeof A=="string"&&(A={type:"text",value:A}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(h,v),className:["data-footnote-backref"]},children:Array.isArray(A)?A:[A]})}const k=g[g.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const A=k.children[k.children.length-1];A&&A.type==="text"?A.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...w)}else g.push(...w);const C={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(g,!0)};e.patch(m,C),d.push(C)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Tc(o),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const Jc=(function(e){if(e==null)return NU;if(typeof e=="function")return ed(e);if(typeof e=="object")return Array.isArray(e)?DU(e):OU(e);if(typeof e=="string")return zU(e);throw new Error("Expected function, string, or object as test")});function DU(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Jc(e[n]);return ed(r);function r(...s){let l=-1;for(;++l<t.length;)if(t[l].apply(this,s))return!0;return!1}}function OU(e){const t=e;return ed(n);function n(r){const s=r;let l;for(l in e)if(s[l]!==t[l])return!1;return!0}}function zU(e){return ed(t);function t(n){return n&&n.type===e}}function ed(e){return t;function t(n,r,s){return!!(IU(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function NU(){return!0}function IU(e){return e!==null&&typeof e=="object"&&"type"in e}const EC=[],PU=!0,op=!1,BU="skip";function MC(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const l=Jc(s),o=r?-1:1;d(e,void 0,[])();function d(h,m,g){const p=h&&typeof h=="object"?h:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(h.type+(v?"<"+v+">":""))+")"})}return x;function x(){let v=EC,w,S,k;if((!t||l(h,m,g[g.length-1]||void 0))&&(v=UU(n(h,g)),v[0]===op))return v;if("children"in h&&h.children){const C=h;if(C.children&&v[0]!==BU)for(S=(r?C.children.length:-1)+o,k=g.concat(C);S>-1&&S<C.children.length;){const A=C.children[S];if(w=d(A,S,k)(),w[0]===op)return w;S=typeof w[1]=="number"?w[1]:S+o}}return v}}}function UU(e){return Array.isArray(e)?e:typeof e=="number"?[PU,e]:e==null?EC:[e]}function Ig(e,t,n,r){let s,l,o;typeof t=="function"&&typeof n!="function"?(l=void 0,o=t,s=n):(l=t,o=n,s=r),MC(e,l,d,s);function d(h,m){const g=m[m.length-1],p=g?g.children.indexOf(h):void 0;return o(h,p,g)}}const up={}.hasOwnProperty,$U={};function VU(e,t){const n=t||$U,r=new Map,s=new Map,l=new Map,o={...CU,...n.handlers},d={all:m,applyData:qU,definitionById:r,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:o,one:h,options:n,patch:GU,wrap:HU};return Ig(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const p=g.type==="definition"?r:s,x=String(g.identifier).toUpperCase();p.has(x)||p.set(x,g)}}),d;function h(g,p){const x=g.type,v=d.handlers[x];if(up.call(d.handlers,x)&&v)return v(d,g,p);if(d.options.passThrough&&d.options.passThrough.includes(x)){if("children"in g){const{children:S,...k}=g,C=Tc(k);return C.children=d.all(g),C}return Tc(g)}return(d.options.unknownHandler||FU)(d,g,p)}function m(g){const p=[];if("children"in g){const x=g.children;let v=-1;for(;++v<x.length;){const w=d.one(x[v],g);if(w){if(v&&x[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=cw(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=cw(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function GU(e,t){e.position&&(t.position=R4(e))}function qU(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,l=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&l&&Object.assign(n.properties,Tc(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function FU(e,t){const n=t.data||{},r="value"in t&&!(up.call(n,"hProperties")||up.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function HU(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function cw(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function dw(e,t){const n=VU(e,t),r=n.one(e,void 0),s=LU(n),l=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function KU(e,t){return e&&"run"in e?async function(n,r){const s=dw(n,{file:r,...t});await e.run(s,r)}:function(n,r){return dw(n,{file:r,...e||t})}}function fw(e){if(e)throw e}var Qh,hw;function YU(){if(hw)return Qh;hw=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},l=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var g=e.call(m,"constructor"),p=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!p)return!1;var x;for(x in m);return typeof x=="undefined"||e.call(m,x)},o=function(m,g){n&&g.name==="__proto__"?n(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},d=function(m,g){if(g==="__proto__")if(e.call(m,g)){if(r)return r(m,g).value}else return;return m[g]};return Qh=function h(){var m,g,p,x,v,w,S=arguments[0],k=1,C=arguments.length,A=!1;for(typeof S=="boolean"&&(A=S,S=arguments[1]||{},k=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});k<C;++k)if(m=arguments[k],m!=null)for(g in m)p=d(S,g),x=d(m,g),S!==x&&(A&&x&&(l(x)||(v=s(x)))?(v?(v=!1,w=p&&s(p)?p:[]):w=p&&l(p)?p:{},o(S,{name:g,newValue:h(A,w,x)})):typeof x!="undefined"&&o(S,{name:g,newValue:x}));return S},Qh}var XU=YU();const Zh=lo(XU);function cp(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function WU(){const e=[],t={run:n,use:r};return t;function n(...s){let l=-1;const o=s.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);d(null,...s);function d(h,...m){const g=e[++l];let p=-1;if(h){o(h);return}for(;++p<s.length;)(m[p]===null||m[p]===void 0)&&(m[p]=s[p]);s=m,g?QU(g,d)(...m):o(null,...m)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function QU(e,t){let n;return r;function r(...o){const d=e.length>o.length;let h;d&&o.push(s);try{h=e.apply(this,o)}catch(m){const g=m;if(d&&n)throw g;return s(g)}d||(h&&h.then&&typeof h.then=="function"?h.then(l,s):h instanceof Error?s(h):l(h))}function s(o,...d){n||(n=!0,t(o,...d))}function l(o){s(null,o)}}const ui={basename:ZU,dirname:JU,extname:e5,join:t5,sep:"/"};function ZU(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');vo(e);let n=0,r=-1,s=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else r<0&&(l=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(l){n=s+1;break}}else o<0&&(l=!0,o=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(r=s):(d=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function JU(e){if(vo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function e5(e){vo(e);let t=e.length,n=-1,r=0,s=-1,l=0,o;for(;t--;){const d=e.codePointAt(t);if(d===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),d===46?s<0?s=t:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function t5(...e){let t=-1,n;for(;++t<e.length;)vo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":n5(n)}function n5(e){vo(e);const t=e.codePointAt(0)===47;let n=i5(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function i5(e,t){let n="",r=0,s=-1,l=0,o=-1,d,h;for(;++o<=e.length;){if(o<e.length)d=e.codePointAt(o);else{if(d===47)break;d=47}if(d===47){if(!(s===o-1||l===1))if(s!==o-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(h=n.lastIndexOf("/"),h!==n.length-1){h<0?(n="",r=0):(n=n.slice(0,h),r=n.length-1-n.lastIndexOf("/")),s=o,l=0;continue}}else if(n.length>0){n="",r=0,s=o,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,o):n=e.slice(s+1,o),r=o-s-1;s=o,l=0}else d===46&&l>-1?l++:l=-1}return n}function vo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const r5={cwd:a5};function a5(){return"/"}function dp(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function s5(e){if(typeof e=="string")e=new URL(e);else if(!dp(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return l5(e)}function l5(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Jh=["history","path","basename","stem","extname","dirname"];class RC{constructor(t){let n;t?dp(t)?n={path:t}:typeof t=="string"||o5(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":r5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Jh.length;){const l=Jh[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Jh.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?ui.basename(this.path):void 0}set basename(t){tm(t,"basename"),em(t,"basename"),this.path=ui.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ui.dirname(this.path):void 0}set dirname(t){mw(this.basename,"dirname"),this.path=ui.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ui.extname(this.path):void 0}set extname(t){if(em(t,"extname"),mw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ui.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){dp(t)&&(t=s5(t)),tm(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ui.basename(this.path,this.extname):void 0}set stem(t){tm(t,"stem"),em(t,"stem"),this.path=ui.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Kt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function em(e,t){if(e&&e.includes(ui.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ui.sep+"`")}function tm(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function mw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function o5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const u5=(function(e){const r=this.constructor.prototype,s=r[e],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),c5={}.hasOwnProperty;class Pg extends u5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=WU()}copy(){const t=new Pg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Zh(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(rm("data",this.frozen),this.namespace[t]=n,this):c5.call(this.namespace,t)&&this.namespace[t]||void 0:t?(rm("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=$u(t),r=this.parser||this.Parser;return nm("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),nm("process",this.parser||this.Parser),im("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,o){const d=$u(t),h=r.parse(d);r.run(h,d,function(g,p,x){if(g||!p||!x)return m(g);const v=p,w=r.stringify(v,x);h5(w)?x.value=w:x.result=w,m(g,x)});function m(g,p){g||!p?o(g):l?l(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),nm("processSync",this.parser||this.Parser),im("processSync",this.compiler||this.Compiler),this.process(t,s),gw("processSync","process",n),r;function s(l,o){n=!0,fw(l),r=o}}run(t,n,r){pw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(o,d){const h=$u(n);s.run(t,h,m);function m(g,p,x){const v=p||t;g?d(g):o?o(v):r(void 0,v,x)}}}runSync(t,n){let r=!1,s;return this.run(t,n,l),gw("runSync","run",r),s;function l(o,d){fw(o),s=d,r=!0}}stringify(t,n){this.freeze();const r=$u(n),s=this.compiler||this.Compiler;return im("stringify",s),pw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(rm("use",this.frozen),t!=null)if(typeof t=="function")h(t,n);else if(typeof t=="object")Array.isArray(t)?d(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(m){if(typeof m=="function")h(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...p]=m;h(g,p)}else o(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function o(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=Zh(!0,s.settings,m.settings))}function d(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const p=m[g];l(p)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function h(m,g){let p=-1,x=-1;for(;++p<r.length;)if(r[p][0]===m){x=p;break}if(x===-1)r.push([m,...g]);else if(g.length>0){let[v,...w]=g;const S=r[x][1];cp(S)&&cp(v)&&(v=Zh(!0,S,v)),r[x]=[m,v,...w]}}}}const d5=new Pg().freeze();function nm(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function im(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function rm(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function pw(e){if(!cp(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $u(e){return f5(e)?e:new RC(e)}function f5(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function h5(e){return typeof e=="string"||m5(e)}function m5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const p5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",yw=[],xw={allowDangerousHtml:!0},g5=/^(https?|ircs?|mailto|xmpp)$/i,y5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function x5(e){const t=b5(e),n=v5(e);return w5(t.runSync(t.parse(n),n),e)}function b5(e){const t=e.rehypePlugins||yw,n=e.remarkPlugins||yw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...xw}:xw;return d5().use(JB).use(n).use(KU,r).use(t)}function v5(e){const t=e.children||"",n=new RC;return typeof t=="string"&&(n.value=t),n}function w5(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,l=t.disallowedElements,o=t.skipHtml,d=t.unwrapDisallowed,h=t.urlTransform||S5;for(const g of y5)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+p5+g.id,void 0);return Ig(e,m),N4(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function m(g,p,x){if(g.type==="raw"&&x&&typeof p=="number")return o?x.children.splice(p,1):x.children[p]={type:"text",value:g.value},p;if(g.type==="element"){let v;for(v in Yh)if(Object.hasOwn(Yh,v)&&Object.hasOwn(g.properties,v)){const w=g.properties[v],S=Yh[v];(S===null||S.includes(g.tagName))&&(g.properties[v]=h(String(w||""),v,g))}}if(g.type==="element"){let v=n?!n.includes(g.tagName):l?l.includes(g.tagName):!1;if(!v&&r&&typeof p=="number"&&(v=!r(g,p,x)),v&&x&&typeof p=="number")return d&&g.children?x.children.splice(p,1,...g.children):x.children.splice(p,1),p}}}function S5(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||g5.test(e.slice(0,t))?e:""}const bw={100:"💯",1234:"🔢",grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",satisfied:"😆",sweat_smile:"😅",rofl:"🤣",joy:"😂",slightly_smiling_face:"🙂",upside_down_face:"🙃",melting_face:"🫠",wink:"😉",blush:"😊",innocent:"😇",smiling_face_with_three_hearts:"🥰",heart_eyes:"😍",star_struck:"🤩",kissing_heart:"😘",kissing:"😗",relaxed:"☺️",kissing_closed_eyes:"😚",kissing_smiling_eyes:"😙",smiling_face_with_tear:"🥲",yum:"😋",stuck_out_tongue:"😛",stuck_out_tongue_winking_eye:"😜",zany_face:"🤪",stuck_out_tongue_closed_eyes:"😝",money_mouth_face:"🤑",hugs:"🤗",hand_over_mouth:"🤭",face_with_open_eyes_and_hand_over_mouth:"🫢",face_with_peeking_eye:"🫣",shushing_face:"🤫",thinking:"🤔",saluting_face:"🫡",zipper_mouth_face:"🤐",raised_eyebrow:"🤨",neutral_face:"😐",expressionless:"😑",no_mouth:"😶",dotted_line_face:"🫥",face_in_clouds:"😶‍🌫️",smirk:"😏",unamused:"😒",roll_eyes:"🙄",grimacing:"😬",face_exhaling:"😮‍💨",lying_face:"🤥",shaking_face:"🫨",relieved:"😌",pensive:"😔",sleepy:"😪",drooling_face:"🤤",sleeping:"😴",mask:"😷",face_with_thermometer:"🤒",face_with_head_bandage:"🤕",nauseated_face:"🤢",vomiting_face:"🤮",sneezing_face:"🤧",hot_face:"🥵",cold_face:"🥶",woozy_face:"🥴",dizzy_face:"😵",face_with_spiral_eyes:"😵‍💫",exploding_head:"🤯",cowboy_hat_face:"🤠",partying_face:"🥳",disguised_face:"🥸",sunglasses:"😎",nerd_face:"🤓",monocle_face:"🧐",confused:"😕",face_with_diagonal_mouth:"🫤",worried:"😟",slightly_frowning_face:"🙁",frowning_face:"☹️",open_mouth:"😮",hushed:"😯",astonished:"😲",flushed:"😳",pleading_face:"🥺",face_holding_back_tears:"🥹",frowning:"😦",anguished:"😧",fearful:"😨",cold_sweat:"😰",disappointed_relieved:"😥",cry:"😢",sob:"😭",scream:"😱",confounded:"😖",persevere:"😣",disappointed:"😞",sweat:"😓",weary:"😩",tired_face:"😫",yawning_face:"🥱",triumph:"😤",rage:"😡",pout:"😡",angry:"😠",cursing_face:"🤬",smiling_imp:"😈",imp:"👿",skull:"💀",skull_and_crossbones:"☠️",hankey:"💩",poop:"💩",shit:"💩",clown_face:"🤡",japanese_ogre:"👹",japanese_goblin:"👺",ghost:"👻",alien:"👽",space_invader:"👾",robot:"🤖",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",love_letter:"💌",cupid:"💘",gift_heart:"💝",sparkling_heart:"💖",heartpulse:"💗",heartbeat:"💓",revolving_hearts:"💞",two_hearts:"💕",heart_decoration:"💟",heavy_heart_exclamation:"❣️",broken_heart:"💔",heart_on_fire:"❤️‍🔥",mending_heart:"❤️‍🩹",heart:"❤️",pink_heart:"🩷",orange_heart:"🧡",yellow_heart:"💛",green_heart:"💚",blue_heart:"💙",light_blue_heart:"🩵",purple_heart:"💜",brown_heart:"🤎",black_heart:"🖤",grey_heart:"🩶",white_heart:"🤍",kiss:"💋",anger:"💢",boom:"💥",collision:"💥",dizzy:"💫",sweat_drops:"💦",dash:"💨",hole:"🕳️",speech_balloon:"💬",eye_speech_bubble:"👁️‍🗨️",left_speech_bubble:"🗨️",right_anger_bubble:"🗯️",thought_balloon:"💭",zzz:"💤",wave:"👋",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐️",hand:"✋",raised_hand:"✋",vulcan_salute:"🖖",rightwards_hand:"🫱",leftwards_hand:"🫲",palm_down_hand:"🫳",palm_up_hand:"🫴",leftwards_pushing_hand:"🫷",rightwards_pushing_hand:"🫸",ok_hand:"👌",pinched_fingers:"🤌",pinching_hand:"🤏",v:"✌️",crossed_fingers:"🤞",hand_with_index_finger_and_thumb_crossed:"🫰",love_you_gesture:"🤟",metal:"🤘",call_me_hand:"🤙",point_left:"👈",point_right:"👉",point_up_2:"👆",middle_finger:"🖕",fu:"🖕",point_down:"👇",point_up:"☝️",index_pointing_at_the_viewer:"🫵","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",fist_raised:"✊",fist:"✊",fist_oncoming:"👊",facepunch:"👊",punch:"👊",fist_left:"🤛",fist_right:"🤜",clap:"👏",raised_hands:"🙌",heart_hands:"🫶",open_hands:"👐",palms_up_together:"🤲",handshake:"🤝",pray:"🙏",writing_hand:"✍️",nail_care:"💅",selfie:"🤳",muscle:"💪",mechanical_arm:"🦾",mechanical_leg:"🦿",leg:"🦵",foot:"🦶",ear:"👂",ear_with_hearing_aid:"🦻",nose:"👃",brain:"🧠",anatomical_heart:"🫀",lungs:"🫁",tooth:"🦷",bone:"🦴",eyes:"👀",eye:"👁️",tongue:"👅",lips:"👄",biting_lip:"🫦",baby:"👶",child:"🧒",boy:"👦",girl:"👧",adult:"🧑",blond_haired_person:"👱",man:"👨",bearded_person:"🧔",man_beard:"🧔‍♂️",woman_beard:"🧔‍♀️",red_haired_man:"👨‍🦰",curly_haired_man:"👨‍🦱",white_haired_man:"👨‍🦳",bald_man:"👨‍🦲",woman:"👩",red_haired_woman:"👩‍🦰",person_red_hair:"🧑‍🦰",curly_haired_woman:"👩‍🦱",person_curly_hair:"🧑‍🦱",white_haired_woman:"👩‍🦳",person_white_hair:"🧑‍🦳",bald_woman:"👩‍🦲",person_bald:"🧑‍🦲",blond_haired_woman:"👱‍♀️",blonde_woman:"👱‍♀️",blond_haired_man:"👱‍♂️",older_adult:"🧓",older_man:"👴",older_woman:"👵",frowning_person:"🙍",frowning_man:"🙍‍♂️",frowning_woman:"🙍‍♀️",pouting_face:"🙎",pouting_man:"🙎‍♂️",pouting_woman:"🙎‍♀️",no_good:"🙅",no_good_man:"🙅‍♂️",ng_man:"🙅‍♂️",no_good_woman:"🙅‍♀️",ng_woman:"🙅‍♀️",ok_person:"🙆",ok_man:"🙆‍♂️",ok_woman:"🙆‍♀️",tipping_hand_person:"💁",information_desk_person:"💁",tipping_hand_man:"💁‍♂️",sassy_man:"💁‍♂️",tipping_hand_woman:"💁‍♀️",sassy_woman:"💁‍♀️",raising_hand:"🙋",raising_hand_man:"🙋‍♂️",raising_hand_woman:"🙋‍♀️",deaf_person:"🧏",deaf_man:"🧏‍♂️",deaf_woman:"🧏‍♀️",bow:"🙇",bowing_man:"🙇‍♂️",bowing_woman:"🙇‍♀️",facepalm:"🤦",man_facepalming:"🤦‍♂️",woman_facepalming:"🤦‍♀️",shrug:"🤷",man_shrugging:"🤷‍♂️",woman_shrugging:"🤷‍♀️",health_worker:"🧑‍⚕️",man_health_worker:"👨‍⚕️",woman_health_worker:"👩‍⚕️",student:"🧑‍🎓",man_student:"👨‍🎓",woman_student:"👩‍🎓",teacher:"🧑‍🏫",man_teacher:"👨‍🏫",woman_teacher:"👩‍🏫",judge:"🧑‍⚖️",man_judge:"👨‍⚖️",woman_judge:"👩‍⚖️",farmer:"🧑‍🌾",man_farmer:"👨‍🌾",woman_farmer:"👩‍🌾",cook:"🧑‍🍳",man_cook:"👨‍🍳",woman_cook:"👩‍🍳",mechanic:"🧑‍🔧",man_mechanic:"👨‍🔧",woman_mechanic:"👩‍🔧",factory_worker:"🧑‍🏭",man_factory_worker:"👨‍🏭",woman_factory_worker:"👩‍🏭",office_worker:"🧑‍💼",man_office_worker:"👨‍💼",woman_office_worker:"👩‍💼",scientist:"🧑‍🔬",man_scientist:"👨‍🔬",woman_scientist:"👩‍🔬",technologist:"🧑‍💻",man_technologist:"👨‍💻",woman_technologist:"👩‍💻",singer:"🧑‍🎤",man_singer:"👨‍🎤",woman_singer:"👩‍🎤",artist:"🧑‍🎨",man_artist:"👨‍🎨",woman_artist:"👩‍🎨",pilot:"🧑‍✈️",man_pilot:"👨‍✈️",woman_pilot:"👩‍✈️",astronaut:"🧑‍🚀",man_astronaut:"👨‍🚀",woman_astronaut:"👩‍🚀",firefighter:"🧑‍🚒",man_firefighter:"👨‍🚒",woman_firefighter:"👩‍🚒",police_officer:"👮",cop:"👮",policeman:"👮‍♂️",policewoman:"👮‍♀️",detective:"🕵️",male_detective:"🕵️‍♂️",female_detective:"🕵️‍♀️",guard:"💂",guardsman:"💂‍♂️",guardswoman:"💂‍♀️",ninja:"🥷",construction_worker:"👷",construction_worker_man:"👷‍♂️",construction_worker_woman:"👷‍♀️",person_with_crown:"🫅",prince:"🤴",princess:"👸",person_with_turban:"👳",man_with_turban:"👳‍♂️",woman_with_turban:"👳‍♀️",man_with_gua_pi_mao:"👲",woman_with_headscarf:"🧕",person_in_tuxedo:"🤵",man_in_tuxedo:"🤵‍♂️",woman_in_tuxedo:"🤵‍♀️",person_with_veil:"👰",man_with_veil:"👰‍♂️",woman_with_veil:"👰‍♀️",bride_with_veil:"👰‍♀️",pregnant_woman:"🤰",pregnant_man:"🫃",pregnant_person:"🫄",breast_feeding:"🤱",woman_feeding_baby:"👩‍🍼",man_feeding_baby:"👨‍🍼",person_feeding_baby:"🧑‍🍼",angel:"👼",santa:"🎅",mrs_claus:"🤶",mx_claus:"🧑‍🎄",superhero:"🦸",superhero_man:"🦸‍♂️",superhero_woman:"🦸‍♀️",supervillain:"🦹",supervillain_man:"🦹‍♂️",supervillain_woman:"🦹‍♀️",mage:"🧙",mage_man:"🧙‍♂️",mage_woman:"🧙‍♀️",fairy:"🧚",fairy_man:"🧚‍♂️",fairy_woman:"🧚‍♀️",vampire:"🧛",vampire_man:"🧛‍♂️",vampire_woman:"🧛‍♀️",merperson:"🧜",merman:"🧜‍♂️",mermaid:"🧜‍♀️",elf:"🧝",elf_man:"🧝‍♂️",elf_woman:"🧝‍♀️",genie:"🧞",genie_man:"🧞‍♂️",genie_woman:"🧞‍♀️",zombie:"🧟",zombie_man:"🧟‍♂️",zombie_woman:"🧟‍♀️",troll:"🧌",massage:"💆",massage_man:"💆‍♂️",massage_woman:"💆‍♀️",haircut:"💇",haircut_man:"💇‍♂️",haircut_woman:"💇‍♀️",walking:"🚶",walking_man:"🚶‍♂️",walking_woman:"🚶‍♀️",standing_person:"🧍",standing_man:"🧍‍♂️",standing_woman:"🧍‍♀️",kneeling_person:"🧎",kneeling_man:"🧎‍♂️",kneeling_woman:"🧎‍♀️",person_with_probing_cane:"🧑‍🦯",man_with_probing_cane:"👨‍🦯",woman_with_probing_cane:"👩‍🦯",person_in_motorized_wheelchair:"🧑‍🦼",man_in_motorized_wheelchair:"👨‍🦼",woman_in_motorized_wheelchair:"👩‍🦼",person_in_manual_wheelchair:"🧑‍🦽",man_in_manual_wheelchair:"👨‍🦽",woman_in_manual_wheelchair:"👩‍🦽",runner:"🏃",running:"🏃",running_man:"🏃‍♂️",running_woman:"🏃‍♀️",woman_dancing:"💃",dancer:"💃",man_dancing:"🕺",business_suit_levitating:"🕴️",dancers:"👯",dancing_men:"👯‍♂️",dancing_women:"👯‍♀️",sauna_person:"🧖",sauna_man:"🧖‍♂️",sauna_woman:"🧖‍♀️",climbing:"🧗",climbing_man:"🧗‍♂️",climbing_woman:"🧗‍♀️",person_fencing:"🤺",horse_racing:"🏇",skier:"⛷️",snowboarder:"🏂",golfing:"🏌️",golfing_man:"🏌️‍♂️",golfing_woman:"🏌️‍♀️",surfer:"🏄",surfing_man:"🏄‍♂️",surfing_woman:"🏄‍♀️",rowboat:"🚣",rowing_man:"🚣‍♂️",rowing_woman:"🚣‍♀️",swimmer:"🏊",swimming_man:"🏊‍♂️",swimming_woman:"🏊‍♀️",bouncing_ball_person:"⛹️",bouncing_ball_man:"⛹️‍♂️",basketball_man:"⛹️‍♂️",bouncing_ball_woman:"⛹️‍♀️",basketball_woman:"⛹️‍♀️",weight_lifting:"🏋️",weight_lifting_man:"🏋️‍♂️",weight_lifting_woman:"🏋️‍♀️",bicyclist:"🚴",biking_man:"🚴‍♂️",biking_woman:"🚴‍♀️",mountain_bicyclist:"🚵",mountain_biking_man:"🚵‍♂️",mountain_biking_woman:"🚵‍♀️",cartwheeling:"🤸",man_cartwheeling:"🤸‍♂️",woman_cartwheeling:"🤸‍♀️",wrestling:"🤼",men_wrestling:"🤼‍♂️",women_wrestling:"🤼‍♀️",water_polo:"🤽",man_playing_water_polo:"🤽‍♂️",woman_playing_water_polo:"🤽‍♀️",handball_person:"🤾",man_playing_handball:"🤾‍♂️",woman_playing_handball:"🤾‍♀️",juggling_person:"🤹",man_juggling:"🤹‍♂️",woman_juggling:"🤹‍♀️",lotus_position:"🧘",lotus_position_man:"🧘‍♂️",lotus_position_woman:"🧘‍♀️",bath:"🛀",sleeping_bed:"🛌",people_holding_hands:"🧑‍🤝‍🧑",two_women_holding_hands:"👭",couple:"👫",two_men_holding_hands:"👬",couplekiss:"💏",couplekiss_man_woman:"👩‍❤️‍💋‍👨",couplekiss_man_man:"👨‍❤️‍💋‍👨",couplekiss_woman_woman:"👩‍❤️‍💋‍👩",couple_with_heart:"💑",couple_with_heart_woman_man:"👩‍❤️‍👨",couple_with_heart_man_man:"👨‍❤️‍👨",couple_with_heart_woman_woman:"👩‍❤️‍👩",family:"👪",family_man_woman_boy:"👨‍👩‍👦",family_man_woman_girl:"👨‍👩‍👧",family_man_woman_girl_boy:"👨‍👩‍👧‍👦",family_man_woman_boy_boy:"👨‍👩‍👦‍👦",family_man_woman_girl_girl:"👨‍👩‍👧‍👧",family_man_man_boy:"👨‍👨‍👦",family_man_man_girl:"👨‍👨‍👧",family_man_man_girl_boy:"👨‍👨‍👧‍👦",family_man_man_boy_boy:"👨‍👨‍👦‍👦",family_man_man_girl_girl:"👨‍👨‍👧‍👧",family_woman_woman_boy:"👩‍👩‍👦",family_woman_woman_girl:"👩‍👩‍👧",family_woman_woman_girl_boy:"👩‍👩‍👧‍👦",family_woman_woman_boy_boy:"👩‍👩‍👦‍👦",family_woman_woman_girl_girl:"👩‍👩‍👧‍👧",family_man_boy:"👨‍👦",family_man_boy_boy:"👨‍👦‍👦",family_man_girl:"👨‍👧",family_man_girl_boy:"👨‍👧‍👦",family_man_girl_girl:"👨‍👧‍👧",family_woman_boy:"👩‍👦",family_woman_boy_boy:"👩‍👦‍👦",family_woman_girl:"👩‍👧",family_woman_girl_boy:"👩‍👧‍👦",family_woman_girl_girl:"👩‍👧‍👧",speaking_head:"🗣️",bust_in_silhouette:"👤",busts_in_silhouette:"👥",people_hugging:"🫂",footprints:"👣",monkey_face:"🐵",monkey:"🐒",gorilla:"🦍",orangutan:"🦧",dog:"🐶",dog2:"🐕",guide_dog:"🦮",service_dog:"🐕‍🦺",poodle:"🐩",wolf:"🐺",fox_face:"🦊",raccoon:"🦝",cat:"🐱",cat2:"🐈",black_cat:"🐈‍⬛",lion:"🦁",tiger:"🐯",tiger2:"🐅",leopard:"🐆",horse:"🐴",moose:"🫎",donkey:"🫏",racehorse:"🐎",unicorn:"🦄",zebra:"🦓",deer:"🦌",bison:"🦬",cow:"🐮",ox:"🐂",water_buffalo:"🐃",cow2:"🐄",pig:"🐷",pig2:"🐖",boar:"🐗",pig_nose:"🐽",ram:"🐏",sheep:"🐑",goat:"🐐",dromedary_camel:"🐪",camel:"🐫",llama:"🦙",giraffe:"🦒",elephant:"🐘",mammoth:"🦣",rhinoceros:"🦏",hippopotamus:"🦛",mouse:"🐭",mouse2:"🐁",rat:"🐀",hamster:"🐹",rabbit:"🐰",rabbit2:"🐇",chipmunk:"🐿️",beaver:"🦫",hedgehog:"🦔",bat:"🦇",bear:"🐻",polar_bear:"🐻‍❄️",koala:"🐨",panda_face:"🐼",sloth:"🦥",otter:"🦦",skunk:"🦨",kangaroo:"🦘",badger:"🦡",feet:"🐾",paw_prints:"🐾",turkey:"🦃",chicken:"🐔",rooster:"🐓",hatching_chick:"🐣",baby_chick:"🐤",hatched_chick:"🐥",bird:"🐦",penguin:"🐧",dove:"🕊️",eagle:"🦅",duck:"🦆",swan:"🦢",owl:"🦉",dodo:"🦤",feather:"🪶",flamingo:"🦩",peacock:"🦚",parrot:"🦜",wing:"🪽",black_bird:"🐦‍⬛",goose:"🪿",frog:"🐸",crocodile:"🐊",turtle:"🐢",lizard:"🦎",snake:"🐍",dragon_face:"🐲",dragon:"🐉",sauropod:"🦕","t-rex":"🦖",whale:"🐳",whale2:"🐋",dolphin:"🐬",flipper:"🐬",seal:"🦭",fish:"🐟",tropical_fish:"🐠",blowfish:"🐡",shark:"🦈",octopus:"🐙",shell:"🐚",coral:"🪸",jellyfish:"🪼",snail:"🐌",butterfly:"🦋",bug:"🐛",ant:"🐜",bee:"🐝",honeybee:"🐝",beetle:"🪲",lady_beetle:"🐞",cricket:"🦗",cockroach:"🪳",spider:"🕷️",spider_web:"🕸️",scorpion:"🦂",mosquito:"🦟",fly:"🪰",worm:"🪱",microbe:"🦠",bouquet:"💐",cherry_blossom:"🌸",white_flower:"💮",lotus:"🪷",rosette:"🏵️",rose:"🌹",wilted_flower:"🥀",hibiscus:"🌺",sunflower:"🌻",blossom:"🌼",tulip:"🌷",hyacinth:"🪻",seedling:"🌱",potted_plant:"🪴",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",cactus:"🌵",ear_of_rice:"🌾",herb:"🌿",shamrock:"☘️",four_leaf_clover:"🍀",maple_leaf:"🍁",fallen_leaf:"🍂",leaves:"🍃",empty_nest:"🪹",nest_with_eggs:"🪺",mushroom:"🍄",grapes:"🍇",melon:"🍈",watermelon:"🍉",tangerine:"🍊",orange:"🍊",mandarin:"🍊",lemon:"🍋",banana:"🍌",pineapple:"🍍",mango:"🥭",apple:"🍎",green_apple:"🍏",pear:"🍐",peach:"🍑",cherries:"🍒",strawberry:"🍓",blueberries:"🫐",kiwi_fruit:"🥝",tomato:"🍅",olive:"🫒",coconut:"🥥",avocado:"🥑",eggplant:"🍆",potato:"🥔",carrot:"🥕",corn:"🌽",hot_pepper:"🌶️",bell_pepper:"🫑",cucumber:"🥒",leafy_green:"🥬",broccoli:"🥦",garlic:"🧄",onion:"🧅",peanuts:"🥜",beans:"🫘",chestnut:"🌰",ginger_root:"🫚",pea_pod:"🫛",bread:"🍞",croissant:"🥐",baguette_bread:"🥖",flatbread:"🫓",pretzel:"🥨",bagel:"🥯",pancakes:"🥞",waffle:"🧇",cheese:"🧀",meat_on_bone:"🍖",poultry_leg:"🍗",cut_of_meat:"🥩",bacon:"🥓",hamburger:"🍔",fries:"🍟",pizza:"🍕",hotdog:"🌭",sandwich:"🥪",taco:"🌮",burrito:"🌯",tamale:"🫔",stuffed_flatbread:"🥙",falafel:"🧆",egg:"🥚",fried_egg:"🍳",shallow_pan_of_food:"🥘",stew:"🍲",fondue:"🫕",bowl_with_spoon:"🥣",green_salad:"🥗",popcorn:"🍿",butter:"🧈",salt:"🧂",canned_food:"🥫",bento:"🍱",rice_cracker:"🍘",rice_ball:"🍙",rice:"🍚",curry:"🍛",ramen:"🍜",spaghetti:"🍝",sweet_potato:"🍠",oden:"🍢",sushi:"🍣",fried_shrimp:"🍤",fish_cake:"🍥",moon_cake:"🥮",dango:"🍡",dumpling:"🥟",fortune_cookie:"🥠",takeout_box:"🥡",crab:"🦀",lobster:"🦞",shrimp:"🦐",squid:"🦑",oyster:"🦪",icecream:"🍦",shaved_ice:"🍧",ice_cream:"🍨",doughnut:"🍩",cookie:"🍪",birthday:"🎂",cake:"🍰",cupcake:"🧁",pie:"🥧",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",custard:"🍮",honey_pot:"🍯",baby_bottle:"🍼",milk_glass:"🥛",coffee:"☕",teapot:"🫖",tea:"🍵",sake:"🍶",champagne:"🍾",wine_glass:"🍷",cocktail:"🍸",tropical_drink:"🍹",beer:"🍺",beers:"🍻",clinking_glasses:"🥂",tumbler_glass:"🥃",pouring_liquid:"🫗",cup_with_straw:"🥤",bubble_tea:"🧋",beverage_box:"🧃",mate:"🧉",ice_cube:"🧊",chopsticks:"🥢",plate_with_cutlery:"🍽️",fork_and_knife:"🍴",spoon:"🥄",hocho:"🔪",knife:"🔪",jar:"🫙",amphora:"🏺",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",globe_with_meridians:"🌐",world_map:"🗺️",japan:"🗾",compass:"🧭",mountain_snow:"🏔️",mountain:"⛰️",volcano:"🌋",mount_fuji:"🗻",camping:"🏕️",beach_umbrella:"🏖️",desert:"🏜️",desert_island:"🏝️",national_park:"🏞️",stadium:"🏟️",classical_building:"🏛️",building_construction:"🏗️",bricks:"🧱",rock:"🪨",wood:"🪵",hut:"🛖",houses:"🏘️",derelict_house:"🏚️",house:"🏠",house_with_garden:"🏡",office:"🏢",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",hotel:"🏨",love_hotel:"🏩",convenience_store:"🏪",school:"🏫",department_store:"🏬",factory:"🏭",japanese_castle:"🏯",european_castle:"🏰",wedding:"💒",tokyo_tower:"🗼",statue_of_liberty:"🗽",church:"⛪",mosque:"🕌",hindu_temple:"🛕",synagogue:"🕍",shinto_shrine:"⛩️",kaaba:"🕋",fountain:"⛲",tent:"⛺",foggy:"🌁",night_with_stars:"🌃",cityscape:"🏙️",sunrise_over_mountains:"🌄",sunrise:"🌅",city_sunset:"🌆",city_sunrise:"🌇",bridge_at_night:"🌉",hotsprings:"♨️",carousel_horse:"🎠",playground_slide:"🛝",ferris_wheel:"🎡",roller_coaster:"🎢",barber:"💈",circus_tent:"🎪",steam_locomotive:"🚂",railway_car:"🚃",bullettrain_side:"🚄",bullettrain_front:"🚅",train2:"🚆",metro:"🚇",light_rail:"🚈",station:"🚉",tram:"🚊",monorail:"🚝",mountain_railway:"🚞",train:"🚋",bus:"🚌",oncoming_bus:"🚍",trolleybus:"🚎",minibus:"🚐",ambulance:"🚑",fire_engine:"🚒",police_car:"🚓",oncoming_police_car:"🚔",taxi:"🚕",oncoming_taxi:"🚖",car:"🚗",red_car:"🚗",oncoming_automobile:"🚘",blue_car:"🚙",pickup_truck:"🛻",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",racing_car:"🏎️",motorcycle:"🏍️",motor_scooter:"🛵",manual_wheelchair:"🦽",motorized_wheelchair:"🦼",auto_rickshaw:"🛺",bike:"🚲",kick_scooter:"🛴",skateboard:"🛹",roller_skate:"🛼",busstop:"🚏",motorway:"🛣️",railway_track:"🛤️",oil_drum:"🛢️",fuelpump:"⛽",wheel:"🛞",rotating_light:"🚨",traffic_light:"🚥",vertical_traffic_light:"🚦",stop_sign:"🛑",construction:"🚧",anchor:"⚓",ring_buoy:"🛟",boat:"⛵",sailboat:"⛵",canoe:"🛶",speedboat:"🚤",passenger_ship:"🛳️",ferry:"⛴️",motor_boat:"🛥️",ship:"🚢",airplane:"✈️",small_airplane:"🛩️",flight_departure:"🛫",flight_arrival:"🛬",parachute:"🪂",seat:"💺",helicopter:"🚁",suspension_railway:"🚟",mountain_cableway:"🚠",aerial_tramway:"🚡",artificial_satellite:"🛰️",rocket:"🚀",flying_saucer:"🛸",bellhop_bell:"🛎️",luggage:"🧳",hourglass:"⌛",hourglass_flowing_sand:"⏳",watch:"⌚",alarm_clock:"⏰",stopwatch:"⏱️",timer_clock:"⏲️",mantelpiece_clock:"🕰️",clock12:"🕛",clock1230:"🕧",clock1:"🕐",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",crescent_moon:"🌙",new_moon_with_face:"🌚",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",thermometer:"🌡️",sunny:"☀️",full_moon_with_face:"🌝",sun_with_face:"🌞",ringed_planet:"🪐",star:"⭐",star2:"🌟",stars:"🌠",milky_way:"🌌",cloud:"☁️",partly_sunny:"⛅",cloud_with_lightning_and_rain:"⛈️",sun_behind_small_cloud:"🌤️",sun_behind_large_cloud:"🌥️",sun_behind_rain_cloud:"🌦️",cloud_with_rain:"🌧️",cloud_with_snow:"🌨️",cloud_with_lightning:"🌩️",tornado:"🌪️",fog:"🌫️",wind_face:"🌬️",cyclone:"🌀",rainbow:"🌈",closed_umbrella:"🌂",open_umbrella:"☂️",umbrella:"☔",parasol_on_ground:"⛱️",zap:"⚡",snowflake:"❄️",snowman_with_snow:"☃️",snowman:"⛄",comet:"☄️",fire:"🔥",droplet:"💧",ocean:"🌊",jack_o_lantern:"🎃",christmas_tree:"🎄",fireworks:"🎆",sparkler:"🎇",firecracker:"🧨",sparkles:"✨",balloon:"🎈",tada:"🎉",confetti_ball:"🎊",tanabata_tree:"🎋",bamboo:"🎍",dolls:"🎎",flags:"🎏",wind_chime:"🎐",rice_scene:"🎑",red_envelope:"🧧",ribbon:"🎀",gift:"🎁",reminder_ribbon:"🎗️",tickets:"🎟️",ticket:"🎫",medal_military:"🎖️",trophy:"🏆",medal_sports:"🏅","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉",soccer:"⚽",baseball:"⚾",softball:"🥎",basketball:"🏀",volleyball:"🏐",football:"🏈",rugby_football:"🏉",tennis:"🎾",flying_disc:"🥏",bowling:"🎳",cricket_game:"🏏",field_hockey:"🏑",ice_hockey:"🏒",lacrosse:"🥍",ping_pong:"🏓",badminton:"🏸",boxing_glove:"🥊",martial_arts_uniform:"🥋",goal_net:"🥅",golf:"⛳",ice_skate:"⛸️",fishing_pole_and_fish:"🎣",diving_mask:"🤿",running_shirt_with_sash:"🎽",ski:"🎿",sled:"🛷",curling_stone:"🥌",dart:"🎯",yo_yo:"🪀",kite:"🪁",gun:"🔫","8ball":"🎱",crystal_ball:"🔮",magic_wand:"🪄",video_game:"🎮",joystick:"🕹️",slot_machine:"🎰",game_die:"🎲",jigsaw:"🧩",teddy_bear:"🧸",pinata:"🪅",mirror_ball:"🪩",nesting_dolls:"🪆",spades:"♠️",hearts:"♥️",diamonds:"♦️",clubs:"♣️",chess_pawn:"♟️",black_joker:"🃏",mahjong:"🀄",flower_playing_cards:"🎴",performing_arts:"🎭",framed_picture:"🖼️",art:"🎨",thread:"🧵",sewing_needle:"🪡",yarn:"🧶",knot:"🪢",eyeglasses:"👓",dark_sunglasses:"🕶️",goggles:"🥽",lab_coat:"🥼",safety_vest:"🦺",necktie:"👔",shirt:"👕",tshirt:"👕",jeans:"👖",scarf:"🧣",gloves:"🧤",coat:"🧥",socks:"🧦",dress:"👗",kimono:"👘",sari:"🥻",one_piece_swimsuit:"🩱",swim_brief:"🩲",shorts:"🩳",bikini:"👙",womans_clothes:"👚",folding_hand_fan:"🪭",purse:"👛",handbag:"👜",pouch:"👝",shopping:"🛍️",school_satchel:"🎒",thong_sandal:"🩴",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",hiking_boot:"🥾",flat_shoe:"🥿",high_heel:"👠",sandal:"👡",ballet_shoes:"🩰",boot:"👢",hair_pick:"🪮",crown:"👑",womans_hat:"👒",tophat:"🎩",mortar_board:"🎓",billed_cap:"🧢",military_helmet:"🪖",rescue_worker_helmet:"⛑️",prayer_beads:"📿",lipstick:"💄",ring:"💍",gem:"💎",mute:"🔇",speaker:"🔈",sound:"🔉",loud_sound:"🔊",loudspeaker:"📢",mega:"📣",postal_horn:"📯",bell:"🔔",no_bell:"🔕",musical_score:"🎼",musical_note:"🎵",notes:"🎶",studio_microphone:"🎙️",level_slider:"🎚️",control_knobs:"🎛️",microphone:"🎤",headphones:"🎧",radio:"📻",saxophone:"🎷",accordion:"🪗",guitar:"🎸",musical_keyboard:"🎹",trumpet:"🎺",violin:"🎻",banjo:"🪕",drum:"🥁",long_drum:"🪘",maracas:"🪇",flute:"🪈",iphone:"📱",calling:"📲",phone:"☎️",telephone:"☎️",telephone_receiver:"📞",pager:"📟",fax:"📠",battery:"🔋",low_battery:"🪫",electric_plug:"🔌",computer:"💻",desktop_computer:"🖥️",printer:"🖨️",keyboard:"⌨️",computer_mouse:"🖱️",trackball:"🖲️",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",abacus:"🧮",movie_camera:"🎥",film_strip:"🎞️",film_projector:"📽️",clapper:"🎬",tv:"📺",camera:"📷",camera_flash:"📸",video_camera:"📹",vhs:"📼",mag:"🔍",mag_right:"🔎",candle:"🕯️",bulb:"💡",flashlight:"🔦",izakaya_lantern:"🏮",lantern:"🏮",diya_lamp:"🪔",notebook_with_decorative_cover:"📔",closed_book:"📕",book:"📖",open_book:"📖",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",notebook:"📓",ledger:"📒",page_with_curl:"📃",scroll:"📜",page_facing_up:"📄",newspaper:"📰",newspaper_roll:"🗞️",bookmark_tabs:"📑",bookmark:"🔖",label:"🏷️",moneybag:"💰",coin:"🪙",yen:"💴",dollar:"💵",euro:"💶",pound:"💷",money_with_wings:"💸",credit_card:"💳",receipt:"🧾",chart:"💹",envelope:"✉️",email:"📧","e-mail":"📧",incoming_envelope:"📨",envelope_with_arrow:"📩",outbox_tray:"📤",inbox_tray:"📥",package:"📦",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",ballot_box:"🗳️",pencil2:"✏️",black_nib:"✒️",fountain_pen:"🖋️",pen:"🖊️",paintbrush:"🖌️",crayon:"🖍️",memo:"📝",pencil:"📝",briefcase:"💼",file_folder:"📁",open_file_folder:"📂",card_index_dividers:"🗂️",date:"📅",calendar:"📆",spiral_notepad:"🗒️",spiral_calendar:"🗓️",card_index:"📇",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",bar_chart:"📊",clipboard:"📋",pushpin:"📌",round_pushpin:"📍",paperclip:"📎",paperclips:"🖇️",straight_ruler:"📏",triangular_ruler:"📐",scissors:"✂️",card_file_box:"🗃️",file_cabinet:"🗄️",wastebasket:"🗑️",lock:"🔒",unlock:"🔓",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",old_key:"🗝️",hammer:"🔨",axe:"🪓",pick:"⛏️",hammer_and_pick:"⚒️",hammer_and_wrench:"🛠️",dagger:"🗡️",crossed_swords:"⚔️",bomb:"💣",boomerang:"🪃",bow_and_arrow:"🏹",shield:"🛡️",carpentry_saw:"🪚",wrench:"🔧",screwdriver:"🪛",nut_and_bolt:"🔩",gear:"⚙️",clamp:"🗜️",balance_scale:"⚖️",probing_cane:"🦯",link:"🔗",chains:"⛓️",hook:"🪝",toolbox:"🧰",magnet:"🧲",ladder:"🪜",alembic:"⚗️",test_tube:"🧪",petri_dish:"🧫",dna:"🧬",microscope:"🔬",telescope:"🔭",satellite:"📡",syringe:"💉",drop_of_blood:"🩸",pill:"💊",adhesive_bandage:"🩹",crutch:"🩼",stethoscope:"🩺",x_ray:"🩻",door:"🚪",elevator:"🛗",mirror:"🪞",window:"🪟",bed:"🛏️",couch_and_lamp:"🛋️",chair:"🪑",toilet:"🚽",plunger:"🪠",shower:"🚿",bathtub:"🛁",mouse_trap:"🪤",razor:"🪒",lotion_bottle:"🧴",safety_pin:"🧷",broom:"🧹",basket:"🧺",roll_of_paper:"🧻",bucket:"🪣",soap:"🧼",bubbles:"🫧",toothbrush:"🪥",sponge:"🧽",fire_extinguisher:"🧯",shopping_cart:"🛒",smoking:"🚬",coffin:"⚰️",headstone:"🪦",funeral_urn:"⚱️",nazar_amulet:"🧿",hamsa:"🪬",moyai:"🗿",placard:"🪧",identification_card:"🪪",atm:"🏧",put_litter_in_its_place:"🚮",potable_water:"🚰",wheelchair:"♿",mens:"🚹",womens:"🚺",restroom:"🚻",baby_symbol:"🚼",wc:"🚾",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",warning:"⚠️",children_crossing:"🚸",no_entry:"⛔",no_entry_sign:"🚫",no_bicycles:"🚳",no_smoking:"🚭",do_not_litter:"🚯","non-potable_water":"🚱",no_pedestrians:"🚷",no_mobile_phones:"📵",underage:"🔞",radioactive:"☢️",biohazard:"☣️",arrow_up:"⬆️",arrow_upper_right:"↗️",arrow_right:"➡️",arrow_lower_right:"↘️",arrow_down:"⬇️",arrow_lower_left:"↙️",arrow_left:"⬅️",arrow_upper_left:"↖️",arrow_up_down:"↕️",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",arrow_right_hook:"↪️",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",back:"🔙",end:"🔚",on:"🔛",soon:"🔜",top:"🔝",place_of_worship:"🛐",atom_symbol:"⚛️",om:"🕉️",star_of_david:"✡️",wheel_of_dharma:"☸️",yin_yang:"☯️",latin_cross:"✝️",orthodox_cross:"☦️",star_and_crescent:"☪️",peace_symbol:"☮️",menorah:"🕎",six_pointed_star:"🔯",khanda:"🪯",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpius:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓",ophiuchus:"⛎",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrow_forward:"▶️",fast_forward:"⏩",next_track_button:"⏭️",play_or_pause_button:"⏯️",arrow_backward:"◀️",rewind:"⏪",previous_track_button:"⏮️",arrow_up_small:"🔼",arrow_double_up:"⏫",arrow_down_small:"🔽",arrow_double_down:"⏬",pause_button:"⏸️",stop_button:"⏹️",record_button:"⏺️",eject_button:"⏏️",cinema:"🎦",low_brightness:"🔅",high_brightness:"🔆",signal_strength:"📶",wireless:"🛜",vibration_mode:"📳",mobile_phone_off:"📴",female_sign:"♀️",male_sign:"♂️",transgender_symbol:"⚧️",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",heavy_equals_sign:"🟰",infinity:"♾️",bangbang:"‼️",interrobang:"⁉️",question:"❓",grey_question:"❔",grey_exclamation:"❕",exclamation:"❗",heavy_exclamation_mark:"❗",wavy_dash:"〰️",currency_exchange:"💱",heavy_dollar_sign:"💲",medical_symbol:"⚕️",recycle:"♻️",fleur_de_lis:"⚜️",trident:"🔱",name_badge:"📛",beginner:"🔰",o:"⭕",white_check_mark:"✅",ballot_box_with_check:"☑️",heavy_check_mark:"✔️",x:"❌",negative_squared_cross_mark:"❎",curly_loop:"➰",loop:"➿",part_alternation_mark:"〽️",eight_spoked_asterisk:"✳️",eight_pointed_black_star:"✴️",sparkle:"❇️",copyright:"©️",registered:"®️",tm:"™️",hash:"#️⃣",asterisk:"*️⃣",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",keycap_ten:"🔟",capital_abcd:"🔠",abcd:"🔡",symbols:"🔣",abc:"🔤",a:"🅰️",ab:"🆎",b:"🅱️",cl:"🆑",cool:"🆒",free:"🆓",information_source:"ℹ️",id:"🆔",m:"Ⓜ️",new:"🆕",ng:"🆖",o2:"🅾️",ok:"🆗",parking:"🅿️",sos:"🆘",up:"🆙",vs:"🆚",koko:"🈁",sa:"🈂️",u6708:"🈷️",u6709:"🈶",u6307:"🈯",ideograph_advantage:"🉐",u5272:"🈹",u7121:"🈚",u7981:"🈲",accept:"🉑",u7533:"🈸",u5408:"🈴",u7a7a:"🈳",congratulations:"㊗️",secret:"㊙️",u55b6:"🈺",u6e80:"🈵",red_circle:"🔴",orange_circle:"🟠",yellow_circle:"🟡",green_circle:"🟢",large_blue_circle:"🔵",purple_circle:"🟣",brown_circle:"🟤",black_circle:"⚫",white_circle:"⚪",red_square:"🟥",orange_square:"🟧",yellow_square:"🟨",green_square:"🟩",blue_square:"🟦",purple_square:"🟪",brown_square:"🟫",black_large_square:"⬛",white_large_square:"⬜",black_medium_square:"◼️",white_medium_square:"◻️",black_medium_small_square:"◾",white_medium_small_square:"◽",black_small_square:"▪️",white_small_square:"▫️",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹",small_red_triangle:"🔺",small_red_triangle_down:"🔻",diamond_shape_with_a_dot_inside:"💠",radio_button:"🔘",white_square_button:"🔳",black_square_button:"🔲",checkered_flag:"🏁",triangular_flag_on_post:"🚩",crossed_flags:"🎌",black_flag:"🏴",white_flag:"🏳️",rainbow_flag:"🏳️‍🌈",transgender_flag:"🏳️‍⚧️",pirate_flag:"🏴‍☠️",ascension_island:"🇦🇨",andorra:"🇦🇩",united_arab_emirates:"🇦🇪",afghanistan:"🇦🇫",antigua_barbuda:"🇦🇬",anguilla:"🇦🇮",albania:"🇦🇱",armenia:"🇦🇲",angola:"🇦🇴",antarctica:"🇦🇶",argentina:"🇦🇷",american_samoa:"🇦🇸",austria:"🇦🇹",australia:"🇦🇺",aruba:"🇦🇼",aland_islands:"🇦🇽",azerbaijan:"🇦🇿",bosnia_herzegovina:"🇧🇦",barbados:"🇧🇧",bangladesh:"🇧🇩",belgium:"🇧🇪",burkina_faso:"🇧🇫",bulgaria:"🇧🇬",bahrain:"🇧🇭",burundi:"🇧🇮",benin:"🇧🇯",st_barthelemy:"🇧🇱",bermuda:"🇧🇲",brunei:"🇧🇳",bolivia:"🇧🇴",caribbean_netherlands:"🇧🇶",brazil:"🇧🇷",bahamas:"🇧🇸",bhutan:"🇧🇹",bouvet_island:"🇧🇻",botswana:"🇧🇼",belarus:"🇧🇾",belize:"🇧🇿",canada:"🇨🇦",cocos_islands:"🇨🇨",congo_kinshasa:"🇨🇩",central_african_republic:"🇨🇫",congo_brazzaville:"🇨🇬",switzerland:"🇨🇭",cote_divoire:"🇨🇮",cook_islands:"🇨🇰",chile:"🇨🇱",cameroon:"🇨🇲",cn:"🇨🇳",colombia:"🇨🇴",clipperton_island:"🇨🇵",costa_rica:"🇨🇷",cuba:"🇨🇺",cape_verde:"🇨🇻",curacao:"🇨🇼",christmas_island:"🇨🇽",cyprus:"🇨🇾",czech_republic:"🇨🇿",de:"🇩🇪",diego_garcia:"🇩🇬",djibouti:"🇩🇯",denmark:"🇩🇰",dominica:"🇩🇲",dominican_republic:"🇩🇴",algeria:"🇩🇿",ceuta_melilla:"🇪🇦",ecuador:"🇪🇨",estonia:"🇪🇪",egypt:"🇪🇬",western_sahara:"🇪🇭",eritrea:"🇪🇷",es:"🇪🇸",ethiopia:"🇪🇹",eu:"🇪🇺",european_union:"🇪🇺",finland:"🇫🇮",fiji:"🇫🇯",falkland_islands:"🇫🇰",micronesia:"🇫🇲",faroe_islands:"🇫🇴",fr:"🇫🇷",gabon:"🇬🇦",gb:"🇬🇧",uk:"🇬🇧",grenada:"🇬🇩",georgia:"🇬🇪",french_guiana:"🇬🇫",guernsey:"🇬🇬",ghana:"🇬🇭",gibraltar:"🇬🇮",greenland:"🇬🇱",gambia:"🇬🇲",guinea:"🇬🇳",guadeloupe:"🇬🇵",equatorial_guinea:"🇬🇶",greece:"🇬🇷",south_georgia_south_sandwich_islands:"🇬🇸",guatemala:"🇬🇹",guam:"🇬🇺",guinea_bissau:"🇬🇼",guyana:"🇬🇾",hong_kong:"🇭🇰",heard_mcdonald_islands:"🇭🇲",honduras:"🇭🇳",croatia:"🇭🇷",haiti:"🇭🇹",hungary:"🇭🇺",canary_islands:"🇮🇨",indonesia:"🇮🇩",ireland:"🇮🇪",israel:"🇮🇱",isle_of_man:"🇮🇲",india:"🇮🇳",british_indian_ocean_territory:"🇮🇴",iraq:"🇮🇶",iran:"🇮🇷",iceland:"🇮🇸",it:"🇮🇹",jersey:"🇯🇪",jamaica:"🇯🇲",jordan:"🇯🇴",jp:"🇯🇵",kenya:"🇰🇪",kyrgyzstan:"🇰🇬",cambodia:"🇰🇭",kiribati:"🇰🇮",comoros:"🇰🇲",st_kitts_nevis:"🇰🇳",north_korea:"🇰🇵",kr:"🇰🇷",kuwait:"🇰🇼",cayman_islands:"🇰🇾",kazakhstan:"🇰🇿",laos:"🇱🇦",lebanon:"🇱🇧",st_lucia:"🇱🇨",liechtenstein:"🇱🇮",sri_lanka:"🇱🇰",liberia:"🇱🇷",lesotho:"🇱🇸",lithuania:"🇱🇹",luxembourg:"🇱🇺",latvia:"🇱🇻",libya:"🇱🇾",morocco:"🇲🇦",monaco:"🇲🇨",moldova:"🇲🇩",montenegro:"🇲🇪",st_martin:"🇲🇫",madagascar:"🇲🇬",marshall_islands:"🇲🇭",macedonia:"🇲🇰",mali:"🇲🇱",myanmar:"🇲🇲",mongolia:"🇲🇳",macau:"🇲🇴",northern_mariana_islands:"🇲🇵",martinique:"🇲🇶",mauritania:"🇲🇷",montserrat:"🇲🇸",malta:"🇲🇹",mauritius:"🇲🇺",maldives:"🇲🇻",malawi:"🇲🇼",mexico:"🇲🇽",malaysia:"🇲🇾",mozambique:"🇲🇿",namibia:"🇳🇦",new_caledonia:"🇳🇨",niger:"🇳🇪",norfolk_island:"🇳🇫",nigeria:"🇳🇬",nicaragua:"🇳🇮",netherlands:"🇳🇱",norway:"🇳🇴",nepal:"🇳🇵",nauru:"🇳🇷",niue:"🇳🇺",new_zealand:"🇳🇿",oman:"🇴🇲",panama:"🇵🇦",peru:"🇵🇪",french_polynesia:"🇵🇫",papua_new_guinea:"🇵🇬",philippines:"🇵🇭",pakistan:"🇵🇰",poland:"🇵🇱",st_pierre_miquelon:"🇵🇲",pitcairn_islands:"🇵🇳",puerto_rico:"🇵🇷",palestinian_territories:"🇵🇸",portugal:"🇵🇹",palau:"🇵🇼",paraguay:"🇵🇾",qatar:"🇶🇦",reunion:"🇷🇪",romania:"🇷🇴",serbia:"🇷🇸",ru:"🇷🇺",rwanda:"🇷🇼",saudi_arabia:"🇸🇦",solomon_islands:"🇸🇧",seychelles:"🇸🇨",sudan:"🇸🇩",sweden:"🇸🇪",singapore:"🇸🇬",st_helena:"🇸🇭",slovenia:"🇸🇮",svalbard_jan_mayen:"🇸🇯",slovakia:"🇸🇰",sierra_leone:"🇸🇱",san_marino:"🇸🇲",senegal:"🇸🇳",somalia:"🇸🇴",suriname:"🇸🇷",south_sudan:"🇸🇸",sao_tome_principe:"🇸🇹",el_salvador:"🇸🇻",sint_maarten:"🇸🇽",syria:"🇸🇾",swaziland:"🇸🇿",tristan_da_cunha:"🇹🇦",turks_caicos_islands:"🇹🇨",chad:"🇹🇩",french_southern_territories:"🇹🇫",togo:"🇹🇬",thailand:"🇹🇭",tajikistan:"🇹🇯",tokelau:"🇹🇰",timor_leste:"🇹🇱",turkmenistan:"🇹🇲",tunisia:"🇹🇳",tonga:"🇹🇴",tr:"🇹🇷",trinidad_tobago:"🇹🇹",tuvalu:"🇹🇻",taiwan:"🇹🇼",tanzania:"🇹🇿",ukraine:"🇺🇦",uganda:"🇺🇬",us_outlying_islands:"🇺🇲",united_nations:"🇺🇳",us:"🇺🇸",uruguay:"🇺🇾",uzbekistan:"🇺🇿",vatican_city:"🇻🇦",st_vincent_grenadines:"🇻🇨",venezuela:"🇻🇪",british_virgin_islands:"🇻🇬",us_virgin_islands:"🇻🇮",vietnam:"🇻🇳",vanuatu:"🇻🇺",wallis_futuna:"🇼🇫",samoa:"🇼🇸",kosovo:"🇽🇰",yemen:"🇾🇪",mayotte:"🇾🇹",south_africa:"🇿🇦",zambia:"🇿🇲",zimbabwe:"🇿🇼",england:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",scotland:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",wales:"🏴󠁧󠁢󠁷󠁬󠁳󠁿"};function _5(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function LC(e,t,n){const s=Jc((n||{}).ignore||[]),l=j5(t);let o=-1;for(;++o<l.length;)MC(e,"text",d);function d(m,g){let p=-1,x;for(;++p<g.length;){const v=g[p],w=x?x.children:void 0;if(s(v,w?w.indexOf(v):void 0,x))return;x=v}if(x)return h(m,g)}function h(m,g){const p=g[g.length-1],x=l[o][0],v=l[o][1];let w=0;const k=p.children.indexOf(m);let C=!1,A=[];x.lastIndex=0;let j=x.exec(m.value);for(;j;){const R=j.index,M={index:j.index,input:j.input,stack:[...g,m]};let E=v(...j,M);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?x.lastIndex=R+1:(w!==R&&A.push({type:"text",value:m.value.slice(w,R)}),Array.isArray(E)?A.push(...E):E&&A.push(E),w=R+j[0].length,C=!0),!x.global)break;j=x.exec(m.value)}return C?(w<m.value.length&&A.push({type:"text",value:m.value.slice(w)}),p.children.splice(k,1,...A)):A=[m],k+A.length}}function j5(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const s=n[r];t.push([C5(s[0]),k5(s[1])])}return t}function C5(e){return typeof e=="string"?new RegExp(_5(e),"g"):e}function k5(e){return typeof e=="function"?e:function(){return e}}function T5(){return function(e){LC(e,[/:(\+1|[-\w]+):/g,function(t,n){return Object.hasOwn(bw,n)?bw[n]:!1}])}}function vw(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,s=n.indexOf(t);for(;s!==-1;)r++,s=n.indexOf(t,s+t.length);return r}const am="phrasing",sm=["autolink","link","image","label"];function A5(){return{transforms:[z5],enter:{literalAutolink:M5,literalAutolinkEmail:lm,literalAutolinkHttp:lm,literalAutolinkWww:lm},exit:{literalAutolink:O5,literalAutolinkEmail:D5,literalAutolinkHttp:R5,literalAutolinkWww:L5}}}function E5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:am,notInConstruct:sm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:am,notInConstruct:sm},{character:":",before:"[ps]",after:"\\/",inConstruct:am,notInConstruct:sm}]}}function M5(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function lm(e){this.config.enter.autolinkProtocol.call(this,e)}function R5(e){this.config.exit.autolinkProtocol.call(this,e)}function L5(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function D5(e){this.config.exit.autolinkEmail.call(this,e)}function O5(e){this.exit(e)}function z5(e){LC(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,N5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),I5]],{ignore:["link","linkReference"]})}function N5(e,t,n,r,s){let l="";if(!DC(s)||(/^w/i.test(t)&&(n=t+n,t="",l="http://"),!P5(n)))return!1;const o=B5(n+r);if(!o[0])return!1;const d={type:"link",title:null,url:l+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[d,{type:"text",value:o[1]}]:d}function I5(e,t,n,r){return!DC(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function P5(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function B5(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const s=vw(e,"(");let l=vw(e,")");for(;r!==-1&&s>l;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),l++;return[e,n]}function DC(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Qr(n)||Wc(n))&&(!t||n!==47)}OC.peek=Y5;function U5(){this.buffer()}function $5(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function V5(){this.buffer()}function G5(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function q5(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ti(this.sliceSerialize(e)).toLowerCase(),n.label=t}function F5(e){this.exit(e)}function H5(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=ti(this.sliceSerialize(e)).toLowerCase(),n.label=t}function K5(e){this.exit(e)}function Y5(){return"["}function OC(e,t,n,r){const s=n.createTracker(r);let l=s.move("[^");const o=n.enter("footnoteReference"),d=n.enter("reference");return l+=s.move(n.safe(n.associationId(e),{after:"]",before:l})),d(),o(),l+=s.move("]"),l}function X5(){return{enter:{gfmFootnoteCallString:U5,gfmFootnoteCall:$5,gfmFootnoteDefinitionLabelString:V5,gfmFootnoteDefinition:G5},exit:{gfmFootnoteCallString:q5,gfmFootnoteCall:F5,gfmFootnoteDefinitionLabelString:H5,gfmFootnoteDefinition:K5}}}function W5(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:OC},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,s,l,o){const d=l.createTracker(o);let h=d.move("[^");const m=l.enter("footnoteDefinition"),g=l.enter("label");return h+=d.move(l.safe(l.associationId(r),{before:h,after:"]"})),g(),h+=d.move("]:"),r.children&&r.children.length>0&&(d.shift(4),h+=d.move((t?`
`:" ")+l.indentLines(l.containerFlow(r,d.current()),t?zC:Q5))),m(),h}}function Q5(e,t,n){return t===0?e:zC(e,t,n)}function zC(e,t,n){return(n?"":"    ")+e}const Z5=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];NC.peek=i6;function J5(){return{canContainEols:["delete"],enter:{strikethrough:t6},exit:{strikethrough:n6}}}function e6(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Z5}],handlers:{delete:NC}}}function t6(e){this.enter({type:"delete",children:[]},e)}function n6(e){this.exit(e)}function NC(e,t,n,r){const s=n.createTracker(r),l=n.enter("strikethrough");let o=s.move("~~");return o+=n.containerPhrasing(e,{...s.current(),before:o,after:"~"}),o+=s.move("~~"),l(),o}function i6(){return"~"}function r6(e){return e.length}function a6(e,t){const n=t||{},r=(n.align||[]).concat(),s=n.stringLength||r6,l=[],o=[],d=[],h=[];let m=0,g=-1;for(;++g<e.length;){const S=[],k=[];let C=-1;for(e[g].length>m&&(m=e[g].length);++C<e[g].length;){const A=s6(e[g][C]);if(n.alignDelimiters!==!1){const j=s(A);k[C]=j,(h[C]===void 0||j>h[C])&&(h[C]=j)}S.push(A)}o[g]=S,d[g]=k}let p=-1;if(typeof r=="object"&&"length"in r)for(;++p<m;)l[p]=ww(r[p]);else{const S=ww(r);for(;++p<m;)l[p]=S}p=-1;const x=[],v=[];for(;++p<m;){const S=l[p];let k="",C="";S===99?(k=":",C=":"):S===108?k=":":S===114&&(C=":");let A=n.alignDelimiters===!1?1:Math.max(1,h[p]-k.length-C.length);const j=k+"-".repeat(A)+C;n.alignDelimiters!==!1&&(A=k.length+A+C.length,A>h[p]&&(h[p]=A),v[p]=A),x[p]=j}o.splice(1,0,x),d.splice(1,0,v),g=-1;const w=[];for(;++g<o.length;){const S=o[g],k=d[g];p=-1;const C=[];for(;++p<m;){const A=S[p]||"";let j="",R="";if(n.alignDelimiters!==!1){const M=h[p]-(k[p]||0),E=l[p];E===114?j=" ".repeat(M):E===99?M%2?(j=" ".repeat(M/2+.5),R=" ".repeat(M/2-.5)):(j=" ".repeat(M/2),R=j):R=" ".repeat(M)}n.delimiterStart!==!1&&!p&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&A==="")&&(n.delimiterStart!==!1||p)&&C.push(" "),n.alignDelimiters!==!1&&C.push(j),C.push(A),n.alignDelimiters!==!1&&C.push(R),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||p!==m-1)&&C.push("|")}w.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return w.join(`
`)}function s6(e){return e==null?"":String(e)}function ww(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function l6(e,t,n,r){const s=n.enter("blockquote"),l=n.createTracker(r);l.move("> "),l.shift(2);const o=n.indentLines(n.containerFlow(e,l.current()),o6);return s(),o}function o6(e,t,n){return">"+(n?"":" ")+e}function u6(e,t){return Sw(e,t.inConstruct,!0)&&!Sw(e,t.notInConstruct,!1)}function Sw(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function _w(e,t,n,r){let s=-1;for(;++s<n.unsafe.length;)if(n.unsafe[s].character===`
`&&u6(n.stack,n.unsafe[s]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function c6(e,t){const n=String(e);let r=n.indexOf(t),s=r,l=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===s?++l>o&&(o=l):l=1,s=r+t.length,r=n.indexOf(t,s);return o}function d6(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function f6(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function h6(e,t,n,r){const s=f6(n),l=e.value||"",o=s==="`"?"GraveAccent":"Tilde";if(d6(e,n)){const p=n.enter("codeIndented"),x=n.indentLines(l,m6);return p(),x}const d=n.createTracker(r),h=s.repeat(Math.max(c6(l,s)+1,3)),m=n.enter("codeFenced");let g=d.move(h);if(e.lang){const p=n.enter(`codeFencedLang${o}`);g+=d.move(n.safe(e.lang,{before:g,after:" ",encode:["`"],...d.current()})),p()}if(e.lang&&e.meta){const p=n.enter(`codeFencedMeta${o}`);g+=d.move(" "),g+=d.move(n.safe(e.meta,{before:g,after:`
`,encode:["`"],...d.current()})),p()}return g+=d.move(`
`),l&&(g+=d.move(l+`
`)),g+=d.move(h),m(),g}function m6(e,t,n){return(n?"":"    ")+e}function Bg(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function p6(e,t,n,r){const s=Bg(n),l=s==='"'?"Quote":"Apostrophe",o=n.enter("definition");let d=n.enter("label");const h=n.createTracker(r);let m=h.move("[");return m+=h.move(n.safe(n.associationId(e),{before:m,after:"]",...h.current()})),m+=h.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(n.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(d=n.enter("destinationRaw"),m+=h.move(n.safe(e.url,{before:m,after:e.title?" ":`
`,...h.current()}))),d(),e.title&&(d=n.enter(`title${l}`),m+=h.move(" "+s),m+=h.move(n.safe(e.title,{before:m,after:s,...h.current()})),m+=h.move(s),d()),o(),m}function g6(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ao(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Ac(e,t,n){const r=fs(e),s=fs(t);return r===void 0?s===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}IC.peek=y6;function IC(e,t,n,r){const s=g6(n),l=n.enter("emphasis"),o=n.createTracker(r),d=o.move(s);let h=o.move(n.containerPhrasing(e,{after:s,before:d,...o.current()}));const m=h.charCodeAt(0),g=Ac(r.before.charCodeAt(r.before.length-1),m,s);g.inside&&(h=ao(m)+h.slice(1));const p=h.charCodeAt(h.length-1),x=Ac(r.after.charCodeAt(0),p,s);x.inside&&(h=h.slice(0,-1)+ao(p));const v=o.move(s);return l(),n.attentionEncodeSurroundingInfo={after:x.outside,before:g.outside},d+h+v}function y6(e,t,n){return n.options.emphasis||"*"}function x6(e,t){let n=!1;return Ig(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,op}),!!((!e.depth||e.depth<3)&&Mg(e)&&(t.options.setext||n))}function b6(e,t,n,r){const s=Math.max(Math.min(6,e.depth||1),1),l=n.createTracker(r);if(x6(e,n)){const g=n.enter("headingSetext"),p=n.enter("phrasing"),x=n.containerPhrasing(e,{...l.current(),before:`
`,after:`
`});return p(),g(),x+`
`+(s===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const o="#".repeat(s),d=n.enter("headingAtx"),h=n.enter("phrasing");l.move(o+" ");let m=n.containerPhrasing(e,{before:"# ",after:`
`,...l.current()});return/^[\t ]/.test(m)&&(m=ao(m.charCodeAt(0))+m.slice(1)),m=m?o+" "+m:o,n.options.closeAtx&&(m+=" "+o),h(),d(),m}PC.peek=v6;function PC(e){return e.value||""}function v6(){return"<"}BC.peek=w6;function BC(e,t,n,r){const s=Bg(n),l=s==='"'?"Quote":"Apostrophe",o=n.enter("image");let d=n.enter("label");const h=n.createTracker(r);let m=h.move("![");return m+=h.move(n.safe(e.alt,{before:m,after:"]",...h.current()})),m+=h.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=n.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(n.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(d=n.enter("destinationRaw"),m+=h.move(n.safe(e.url,{before:m,after:e.title?" ":")",...h.current()}))),d(),e.title&&(d=n.enter(`title${l}`),m+=h.move(" "+s),m+=h.move(n.safe(e.title,{before:m,after:s,...h.current()})),m+=h.move(s),d()),m+=h.move(")"),o(),m}function w6(){return"!"}UC.peek=S6;function UC(e,t,n,r){const s=e.referenceType,l=n.enter("imageReference");let o=n.enter("label");const d=n.createTracker(r);let h=d.move("![");const m=n.safe(e.alt,{before:h,after:"]",...d.current()});h+=d.move(m+"]["),o();const g=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:h,after:"]",...d.current()});return o(),n.stack=g,l(),s==="full"||!m||m!==p?h+=d.move(p+"]"):s==="shortcut"?h=h.slice(0,-1):h+=d.move("]"),h}function S6(){return"!"}$C.peek=_6;function $C(e,t,n){let r=e.value||"",s="`",l=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(r);)s+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++l<n.unsafe.length;){const o=n.unsafe[l],d=n.compilePattern(o);let h;if(o.atBreak)for(;h=d.exec(r);){let m=h.index;r.charCodeAt(m)===10&&r.charCodeAt(m-1)===13&&m--,r=r.slice(0,m)+" "+r.slice(h.index+1)}}return s+r+s}function _6(){return"`"}function VC(e,t){const n=Mg(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}GC.peek=j6;function GC(e,t,n,r){const s=Bg(n),l=s==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let d,h;if(VC(e,n)){const g=n.stack;n.stack=[],d=n.enter("autolink");let p=o.move("<");return p+=o.move(n.containerPhrasing(e,{before:p,after:">",...o.current()})),p+=o.move(">"),d(),n.stack=g,p}d=n.enter("link"),h=n.enter("label");let m=o.move("[");return m+=o.move(n.containerPhrasing(e,{before:m,after:"](",...o.current()})),m+=o.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=n.enter("destinationLiteral"),m+=o.move("<"),m+=o.move(n.safe(e.url,{before:m,after:">",...o.current()})),m+=o.move(">")):(h=n.enter("destinationRaw"),m+=o.move(n.safe(e.url,{before:m,after:e.title?" ":")",...o.current()}))),h(),e.title&&(h=n.enter(`title${l}`),m+=o.move(" "+s),m+=o.move(n.safe(e.title,{before:m,after:s,...o.current()})),m+=o.move(s),h()),m+=o.move(")"),d(),m}function j6(e,t,n){return VC(e,n)?"<":"["}qC.peek=C6;function qC(e,t,n,r){const s=e.referenceType,l=n.enter("linkReference");let o=n.enter("label");const d=n.createTracker(r);let h=d.move("[");const m=n.containerPhrasing(e,{before:h,after:"]",...d.current()});h+=d.move(m+"]["),o();const g=n.stack;n.stack=[],o=n.enter("reference");const p=n.safe(n.associationId(e),{before:h,after:"]",...d.current()});return o(),n.stack=g,l(),s==="full"||!m||m!==p?h+=d.move(p+"]"):s==="shortcut"?h=h.slice(0,-1):h+=d.move("]"),h}function C6(){return"["}function Ug(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function k6(e){const t=Ug(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function T6(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function FC(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function A6(e,t,n,r){const s=n.enter("list"),l=n.bulletCurrent;let o=e.ordered?T6(n):Ug(n);const d=e.ordered?o==="."?")":".":k6(n);let h=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&g&&(!g.children||!g.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(h=!0),FC(n)===o&&g){let p=-1;for(;++p<e.children.length;){const x=e.children[p];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(o=d),n.bulletCurrent=o;const m=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=l,s(),m}function E6(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function M6(e,t,n,r){const s=E6(n);let l=n.bulletCurrent||Ug(n);t&&t.type==="list"&&t.ordered&&(l=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+l);let o=l.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const d=n.createTracker(r);d.move(l+" ".repeat(o-l.length)),d.shift(o);const h=n.enter("listItem"),m=n.indentLines(n.containerFlow(e,d.current()),g);return h(),m;function g(p,x,v){return x?(v?"":" ".repeat(o))+p:(v?l:l+" ".repeat(o-l.length))+p}}function R6(e,t,n,r){const s=n.enter("paragraph"),l=n.enter("phrasing"),o=n.containerPhrasing(e,r);return l(),s(),o}const L6=Jc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function D6(e,t,n,r){return(e.children.some(function(o){return L6(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function O6(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}HC.peek=z6;function HC(e,t,n,r){const s=O6(n),l=n.enter("strong"),o=n.createTracker(r),d=o.move(s+s);let h=o.move(n.containerPhrasing(e,{after:s,before:d,...o.current()}));const m=h.charCodeAt(0),g=Ac(r.before.charCodeAt(r.before.length-1),m,s);g.inside&&(h=ao(m)+h.slice(1));const p=h.charCodeAt(h.length-1),x=Ac(r.after.charCodeAt(0),p,s);x.inside&&(h=h.slice(0,-1)+ao(p));const v=o.move(s+s);return l(),n.attentionEncodeSurroundingInfo={after:x.outside,before:g.outside},d+h+v}function z6(e,t,n){return n.options.strong||"*"}function N6(e,t,n,r){return n.safe(e.value,r)}function I6(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function P6(e,t,n){const r=(FC(n)+(n.options.ruleSpaces?" ":"")).repeat(I6(n));return n.options.ruleSpaces?r.slice(0,-1):r}const KC={blockquote:l6,break:_w,code:h6,definition:p6,emphasis:IC,hardBreak:_w,heading:b6,html:PC,image:BC,imageReference:UC,inlineCode:$C,link:GC,linkReference:qC,list:A6,listItem:M6,paragraph:R6,root:D6,strong:HC,text:N6,thematicBreak:P6};function B6(){return{enter:{table:U6,tableData:jw,tableHeader:jw,tableRow:V6},exit:{codeText:G6,table:$6,tableData:om,tableHeader:om,tableRow:om}}}function U6(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function $6(e){this.exit(e),this.data.inTable=void 0}function V6(e){this.enter({type:"tableRow",children:[]},e)}function om(e){this.exit(e)}function jw(e){this.enter({type:"tableCell",children:[]},e)}function G6(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,q6));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function q6(e,t){return t==="|"?t:e}function F6(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,s=t.stringLength,l=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:o,tableCell:h,tableRow:d}};function o(v,w,S,k){return m(g(v,S,k),v.align)}function d(v,w,S,k){const C=p(v,S,k),A=m([C]);return A.slice(0,A.indexOf(`
`))}function h(v,w,S,k){const C=S.enter("tableCell"),A=S.enter("phrasing"),j=S.containerPhrasing(v,{...k,before:l,after:l});return A(),C(),j}function m(v,w){return a6(v,{align:w,alignDelimiters:r,padding:n,stringLength:s})}function g(v,w,S){const k=v.children;let C=-1;const A=[],j=w.enter("table");for(;++C<k.length;)A[C]=p(k[C],w,S);return j(),A}function p(v,w,S){const k=v.children;let C=-1;const A=[],j=w.enter("tableRow");for(;++C<k.length;)A[C]=h(k[C],v,w,S);return j(),A}function x(v,w,S){let k=KC.inlineCode(v,w,S);return S.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function H6(){return{exit:{taskListCheckValueChecked:Cw,taskListCheckValueUnchecked:Cw,paragraph:Y6}}}function K6(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:X6}}}function Cw(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Y6(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const s=t.children;let l=-1,o;for(;++l<s.length;){const d=s[l];if(d.type==="paragraph"){o=d;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function X6(e,t,n,r){const s=e.children[0],l=typeof e.checked=="boolean"&&s&&s.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",d=n.createTracker(r);l&&d.move(o);let h=KC.listItem(e,t,n,{...r,...d.current()});return l&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),h;function m(g){return g+o}}function W6(){return[A5(),X5(),J5(),B6(),H6()]}function Q6(e){return{extensions:[E5(),W5(e),e6(),F6(e),K6()]}}const Z6={tokenize:r8,partial:!0},YC={tokenize:a8,partial:!0},XC={tokenize:s8,partial:!0},WC={tokenize:l8,partial:!0},J6={tokenize:o8,partial:!0},QC={name:"wwwAutolink",tokenize:n8,previous:JC},ZC={name:"protocolAutolink",tokenize:i8,previous:ek},Vi={name:"emailAutolink",tokenize:t8,previous:tk},yi={};function e8(){return{text:yi}}let Ur=48;for(;Ur<123;)yi[Ur]=Vi,Ur++,Ur===58?Ur=65:Ur===91&&(Ur=97);yi[43]=Vi;yi[45]=Vi;yi[46]=Vi;yi[95]=Vi;yi[72]=[Vi,ZC];yi[104]=[Vi,ZC];yi[87]=[Vi,QC];yi[119]=[Vi,QC];function t8(e,t,n){const r=this;let s,l;return o;function o(p){return!fp(p)||!tk.call(r,r.previous)||$g(r.events)?n(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(p))}function d(p){return fp(p)?(e.consume(p),d):p===64?(e.consume(p),h):n(p)}function h(p){return p===46?e.check(J6,g,m)(p):p===45||p===95||Gt(p)?(l=!0,e.consume(p),h):g(p)}function m(p){return e.consume(p),s=!0,h}function g(p){return l&&s&&Wt(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):n(p)}}function n8(e,t,n){const r=this;return s;function s(o){return o!==87&&o!==119||!JC.call(r,r.previous)||$g(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Z6,e.attempt(YC,e.attempt(XC,l),n),n)(o))}function l(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function i8(e,t,n){const r=this;let s="",l=!1;return o;function o(p){return(p===72||p===104)&&ek.call(r,r.previous)&&!$g(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(p),e.consume(p),d):n(p)}function d(p){if(Wt(p)&&s.length<5)return s+=String.fromCodePoint(p),e.consume(p),d;if(p===58){const x=s.toLowerCase();if(x==="http"||x==="https")return e.consume(p),h}return n(p)}function h(p){return p===47?(e.consume(p),l?m:(l=!0,h)):n(p)}function m(p){return p===null||Cc(p)||Ye(p)||Qr(p)||Wc(p)?n(p):e.attempt(YC,e.attempt(XC,g),n)(p)}function g(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function r8(e,t,n){let r=0;return s;function s(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),s):o===46&&r===3?(e.consume(o),l):n(o)}function l(o){return o===null?n(o):t(o)}}function a8(e,t,n){let r,s,l;return o;function o(m){return m===46||m===95?e.check(WC,h,d)(m):m===null||Ye(m)||Qr(m)||m!==45&&Wc(m)?h(m):(l=!0,e.consume(m),o)}function d(m){return m===95?r=!0:(s=r,r=void 0),e.consume(m),o}function h(m){return s||r||!l?n(m):t(m)}}function s8(e,t){let n=0,r=0;return s;function s(o){return o===40?(n++,e.consume(o),s):o===41&&r<n?l(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(WC,t,l)(o):o===null||Ye(o)||Qr(o)?t(o):(e.consume(o),s)}function l(o){return o===41&&r++,e.consume(o),s}}function l8(e,t,n){return r;function r(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),r):d===38?(e.consume(d),l):d===93?(e.consume(d),s):d===60||d===null||Ye(d)||Qr(d)?t(d):n(d)}function s(d){return d===null||d===40||d===91||Ye(d)||Qr(d)?t(d):r(d)}function l(d){return Wt(d)?o(d):n(d)}function o(d){return d===59?(e.consume(d),r):Wt(d)?(e.consume(d),o):n(d)}}function o8(e,t,n){return r;function r(l){return e.consume(l),s}function s(l){return Gt(l)?n(l):t(l)}}function JC(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ye(e)}function ek(e){return!Wt(e)}function tk(e){return!(e===47||fp(e))}function fp(e){return e===43||e===45||e===46||e===95||Gt(e)}function $g(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const u8={tokenize:y8,partial:!0};function c8(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:m8,continuation:{tokenize:p8},exit:g8}},text:{91:{name:"gfmFootnoteCall",tokenize:h8},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:d8,resolveTo:f8}}}}function d8(e,t,n){const r=this;let s=r.events.length;const l=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;s--;){const h=r.events[s][1];if(h.type==="labelImage"){o=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return d;function d(h){if(!o||!o._balanced)return n(h);const m=ti(r.sliceSerialize({start:o.end,end:r.now()}));return m.codePointAt(0)!==94||!l.includes(m.slice(1))?n(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function f8(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const l={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},l.start),end:Object.assign({},l.end)},d=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",s,t],["exit",s,t],["enter",l,t],["enter",o,t],["exit",o,t],["exit",l,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...d),e}function h8(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l=0,o;return d;function d(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),h}function h(p){return p!==94?n(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(p){if(l>999||p===93&&!o||p===null||p===91||Ye(p))return n(p);if(p===93){e.exit("chunkString");const x=e.exit("gfmFootnoteCallString");return s.includes(ti(r.sliceSerialize(x)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(p)}return Ye(p)||(o=!0),l++,e.consume(p),p===92?g:m}function g(p){return p===91||p===92||p===93?(e.consume(p),l++,m):m(p)}}function m8(e,t,n){const r=this,s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l,o=0,d;return h;function h(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):n(w)}function g(w){if(o>999||w===93&&!d||w===null||w===91||Ye(w))return n(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return l=ti(r.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),x}return Ye(w)||(d=!0),o++,e.consume(w),w===92?p:g}function p(w){return w===91||w===92||w===93?(e.consume(w),o++,g):g(w)}function x(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),s.includes(l)||s.push(l),Ne(e,v,"gfmFootnoteDefinitionWhitespace")):n(w)}function v(w){return t(w)}}function p8(e,t,n){return e.check(bo,t,e.attempt(u8,t,n))}function g8(e){e.exit("gfmFootnoteDefinition")}function y8(e,t,n){const r=this;return Ne(e,s,"gfmFootnoteDefinitionIndent",5);function s(l){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(l):n(l)}}function x8(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:l,resolveAll:s};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function s(o,d){let h=-1;for(;++h<o.length;)if(o[h][0]==="enter"&&o[h][1].type==="strikethroughSequenceTemporary"&&o[h][1]._close){let m=h;for(;m--;)if(o[m][0]==="exit"&&o[m][1].type==="strikethroughSequenceTemporary"&&o[m][1]._open&&o[h][1].end.offset-o[h][1].start.offset===o[m][1].end.offset-o[m][1].start.offset){o[h][1].type="strikethroughSequence",o[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},o[m][1].start),end:Object.assign({},o[h][1].end)},p={type:"strikethroughText",start:Object.assign({},o[m][1].end),end:Object.assign({},o[h][1].start)},x=[["enter",g,d],["enter",o[m][1],d],["exit",o[m][1],d],["enter",p,d]],v=d.parser.constructs.insideSpan.null;v&&Cn(x,x.length,0,Qc(v,o.slice(m+1,h),d)),Cn(x,x.length,0,[["exit",p,d],["enter",o[h][1],d],["exit",o[h][1],d],["exit",g,d]]),Cn(o,m-1,h-m+3,x),h=m+x.length-2;break}}for(h=-1;++h<o.length;)o[h][1].type==="strikethroughSequenceTemporary"&&(o[h][1].type="data");return o}function l(o,d,h){const m=this.previous,g=this.events;let p=0;return x;function x(w){return m===126&&g[g.length-1][1].type!=="characterEscape"?h(w):(o.enter("strikethroughSequenceTemporary"),v(w))}function v(w){const S=fs(m);if(w===126)return p>1?h(w):(o.consume(w),p++,v);if(p<2&&!n)return h(w);const k=o.exit("strikethroughSequenceTemporary"),C=fs(w);return k._open=!C||C===2&&!!S,k._close=!S||S===2&&!!C,d(w)}}}class b8{constructor(){this.map=[]}add(t,n,r){v8(this,t,n,r)}consume(t){if(this.map.sort(function(l,o){return l[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let s=r.pop();for(;s;){for(const l of s)t.push(l);s=r.pop()}this.map.length=0}}function v8(e,t,n,r){let s=0;if(!(n===0&&r.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=n,e.map[s][2].push(...r);return}s+=1}e.map.push([t,n,r])}}function w8(e,t){let n=!1;const r=[];for(;t<e.length;){const s=e[t];if(n){if(s[0]==="enter")s[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const l=r.length-1;r[l]=r[l]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function S8(){return{flow:{null:{name:"table",tokenize:_8,resolveAll:j8}}}}function _8(e,t,n){const r=this;let s=0,l=0,o;return d;function d(D){let P=r.events.length-1;for(;P>-1;){const F=r.events[P][1].type;if(F==="lineEnding"||F==="linePrefix")P--;else break}const G=P>-1?r.events[P][1].type:null,K=G==="tableHead"||G==="tableRow"?E:h;return K===E&&r.parser.lazy[r.now().line]?n(D):K(D)}function h(D){return e.enter("tableHead"),e.enter("tableRow"),m(D)}function m(D){return D===124||(o=!0,l+=1),g(D)}function g(D){return D===null?n(D):xe(D)?l>1?(l=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),v):n(D):De(D)?Ne(e,g,"whitespace")(D):(l+=1,o&&(o=!1,s+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,g):(e.enter("data"),p(D)))}function p(D){return D===null||D===124||Ye(D)?(e.exit("data"),g(D)):(e.consume(D),D===92?x:p)}function x(D){return D===92||D===124?(e.consume(D),p):p(D)}function v(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,De(D)?Ne(e,w,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):w(D))}function w(D){return D===45||D===58?k(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),S):M(D)}function S(D){return De(D)?Ne(e,k,"whitespace")(D):k(D)}function k(D){return D===58?(l+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),C):D===45?(l+=1,C(D)):D===null||xe(D)?R(D):M(D)}function C(D){return D===45?(e.enter("tableDelimiterFiller"),A(D)):M(D)}function A(D){return D===45?(e.consume(D),A):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),j):(e.exit("tableDelimiterFiller"),j(D))}function j(D){return De(D)?Ne(e,R,"whitespace")(D):R(D)}function R(D){return D===124?w(D):D===null||xe(D)?!o||s!==l?M(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):M(D)}function M(D){return n(D)}function E(D){return e.enter("tableRow"),O(D)}function O(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),O):D===null||xe(D)?(e.exit("tableRow"),t(D)):De(D)?Ne(e,O,"whitespace")(D):(e.enter("data"),N(D))}function N(D){return D===null||D===124||Ye(D)?(e.exit("data"),O(D)):(e.consume(D),D===92?q:N)}function q(D){return D===92||D===124?(e.consume(D),N):N(D)}}function j8(e,t){let n=-1,r=!0,s=0,l=[0,0,0,0],o=[0,0,0,0],d=!1,h=0,m,g,p;const x=new b8;for(;++n<e.length;){const v=e[n],w=v[1];v[0]==="enter"?w.type==="tableHead"?(d=!1,h!==0&&(kw(x,t,h,m,g),g=void 0,h=0),m={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},x.add(n,0,[["enter",m,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(r=!0,p=void 0,l=[0,0,0,0],o=[0,n+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},x.add(n,0,[["enter",g,t]])),s=w.type==="tableDelimiterRow"?2:g?3:1):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(l[1]!==0&&(o[0]=o[1],p=Vu(x,t,l,s,void 0,p),l=[0,0,0,0]),o[2]=n)):w.type==="tableCellDivider"&&(r?r=!1:(l[1]!==0&&(o[0]=o[1],p=Vu(x,t,l,s,void 0,p)),l=o,o=[l[1],n,0,0])):w.type==="tableHead"?(d=!0,h=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(h=n,l[1]!==0?(o[0]=o[1],p=Vu(x,t,l,s,n,p)):o[1]!==0&&(p=Vu(x,t,o,s,n,p)),s=0):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(o[3]=n)}for(h!==0&&kw(x,t,h,m,g),x.consume(t.events),n=-1;++n<t.events.length;){const v=t.events[n];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=w8(t.events,n))}return e}function Vu(e,t,n,r,s,l){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",d="tableContent";n[0]!==0&&(l.end=Object.assign({},Ha(t.events,n[0])),e.add(n[0],0,[["exit",l,t]]));const h=Ha(t.events,n[1]);if(l={type:o,start:Object.assign({},h),end:Object.assign({},h)},e.add(n[1],0,[["enter",l,t]]),n[2]!==0){const m=Ha(t.events,n[2]),g=Ha(t.events,n[3]),p={type:d,start:Object.assign({},m),end:Object.assign({},g)};if(e.add(n[2],0,[["enter",p,t]]),r!==2){const x=t.events[n[2]],v=t.events[n[3]];if(x[1].end=Object.assign({},v[1].end),x[1].type="chunkText",x[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,S=n[3]-n[2]-1;e.add(w,S,[])}}e.add(n[3]+1,0,[["exit",p,t]])}return s!==void 0&&(l.end=Object.assign({},Ha(t.events,s)),e.add(s,0,[["exit",l,t]]),l=void 0),l}function kw(e,t,n,r,s){const l=[],o=Ha(t.events,n);s&&(s.end=Object.assign({},o),l.push(["exit",s,t])),r.end=Object.assign({},o),l.push(["exit",r,t]),e.add(n+1,0,l)}function Ha(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const C8={name:"tasklistCheck",tokenize:T8};function k8(){return{text:{91:C8}}}function T8(e,t,n){const r=this;return s;function s(h){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),l)}function l(h){return Ye(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),o):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),o):n(h)}function o(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):n(h)}function d(h){return xe(h)?t(h):De(h)?e.check({tokenize:A8},t,n)(h):n(h)}}function A8(e,t,n){return Ne(e,r,"whitespace");function r(s){return s===null?n(s):t(s)}}function E8(e){return dC([e8(),c8(),x8(e),S8(),k8()])}const M8={};function R8(e){const t=this,n=e||M8,r=t.data(),s=r.micromarkExtensions||(r.micromarkExtensions=[]),l=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);s.push(E8(n)),l.push(W6()),o.push(Q6(n))}const Tw=6e4;function L8(e){return typeof e=="object"&&e!==null&&"base64String"in e&&"format"in e&&typeof e.base64String=="string"&&typeof e.format=="string"}function D8({message:e,isOwnMessage:t,isTransparent:n,currentGameBoardSize:r=40,room:s}){const{t:l,i18n:o}=de(),[d,h]=_.useState(!1),[m,g]=_.useState(null),p=_.useCallback(()=>{h(!1)},[]),x=_.useCallback(F=>{g(F.currentTarget)},[]),v=_.useCallback(()=>{g(null)},[]),{id:w,displayName:S,text:k,uid:C,timestamp:A,type:j}=e;let R,M,E;if(j==="settings"||j==="room"){const F=e;R=F.boardSize,M=F.gameBoardId}j==="media"&&(E=e.image);const O=j==="settings"&&R===r,N=_.useMemo(()=>{const F=as(A);if(!F)return"";const ne=new Date(Math.floor(F.getTime()/Tw)*Tw),$=o.resolvedLanguage||o.language,U=ZD(ne,$);let W=U.fromNow();return Math.abs(U.diff(gr(),"seconds"))<30&&(W=U.subtract(1,"minute").fromNow()),W},[A,o.language,o.resolvedLanguage]),q=_.useMemo(()=>j!=="media"?!1:L8(E)?`data:image/${E.format};base64,${E.base64String}`:typeof E=="string"&&E?E:typeof k=="string"&&k&&k.startsWith("http")?k:!1,[j,E,k]),D=_.useMemo(()=>j==="actions"||!k||k.trim()===""?null:c.jsx(x5,{remarkPlugins:[R8,T5],children:k}),[k,j]),P=_.useMemo(()=>t4(j,k,l),[j,k,l]),G=j==="settings"||j==="room",K=_.useMemo(()=>G?n4(S,P):!1,[G,S,P]);return G?c.jsxs("li",{className:Hl("message","system-message",n&&"transparent",K&&"full-width"),"data-testid":`message-${w}`,children:[c.jsxs(H,{component:"div",sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(H,{component:"span",sx:{display:"flex",alignItems:"center",color:"text.secondary"},children:j==="settings"?c.jsx(Ic,{fontSize:"small"}):c.jsx(k2,{fontSize:"small"})}),c.jsxs(H,{sx:{flex:1,minWidth:0,ml:.5},children:[c.jsxs(Y,{variant:"body2",component:"span",sx:{lineHeight:1.2},children:[c.jsx("strong",{children:S})," ",P]}),c.jsx(Y,{variant:"caption",sx:{display:"block",opacity:.7,fontSize:"0.65rem",mt:.25},children:N})]}),c.jsx(Xe,{size:"small",onClick:x,"aria-label":"View details","data-testid":`details-button-${w}`,children:c.jsx(T2,{fontSize:"small"})})]}),c.jsx(Hw,{open:!!m,anchorEl:m,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},"data-testid":`details-popover-${w}`,children:c.jsxs(H,{className:"system-details-popover",children:[c.jsx("div",{className:"system-details-content",children:D}),j==="settings"&&c.jsx(H,{className:"system-action-buttons",children:O?c.jsxs(H,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,children:[c.jsx(he,{component:sE,to:`?importBoard=${M}`,variant:"contained",size:"small",color:"primary",children:c.jsx(Z,{i18nKey:"importBoard"})}),c.jsx(Ql,{text:`${window.location.href}?importBoard=${M}`,copiedText:l("copiedLink"),icon:c.jsx(gc,{})})]}):c.jsx(Y,{variant:"body2",color:"text.secondary",children:c.jsx(Z,{i18nKey:"incompatibleBoard"})})}),j==="room"&&c.jsx(H,{className:"system-action-buttons",children:c.jsxs(H,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,children:[c.jsxs(Y,{variant:"body2",children:[l("room"),": ",c.jsx("strong",{children:s})]}),c.jsx(Ql,{text:window.location.href,copiedText:l("copiedLink"),icon:c.jsx(gc,{})})]})})]})})]}):c.jsxs("li",{className:Hl("message",t&&"own-message",n&&"transparent"),"data-testid":`message-${w}`,children:[c.jsxs("div",{className:"message-header",children:[c.jsxs("div",{className:"sender",children:[c.jsx(qc,{uid:C,displayName:S,size:"small"}),c.jsx("span",{className:"sender-name",children:S}),c.jsx(nt,{label:N,size:"small",variant:"outlined",className:"timestamp-chip"})]}),c.jsx("div",{className:"message-actions",children:!!t&&["media","chat"].includes(j)&&w&&c.jsx(l4,{room:s,id:w})})]}),c.jsxs("div",{className:"message-message",children:[j==="actions"?c.jsx(s4,{text:k}):D,!!q&&c.jsx("img",{src:q,alt:"uploaded by user"}),k.includes(l("finish"))&&t&&c.jsxs(H,{textAlign:"center",className:"message-action-box",children:[c.jsx(he,{onClick:()=>h(!0),variant:"outlined",size:"small",children:c.jsx(Y,{children:l("playAgain")})}),c.jsx(m_,{isOpen:d,close:p})]})]})]})}function O8({count:e=3}){return c.jsx(c.Fragment,{children:Array.from({length:e},(t,n)=>c.jsxs("li",{style:{padding:"16px",listStyle:"none"},children:[c.jsxs(H,{display:"flex",alignItems:"center",gap:1,mb:1,children:[c.jsx(vl,{variant:"circular",width:32,height:32}),c.jsx(vl,{variant:"text",width:120,height:20}),c.jsx(H,{flexGrow:1}),c.jsx(vl,{variant:"text",width:80,height:16})]}),c.jsx(pt,{sx:{mb:1}}),c.jsxs(H,{ml:5,children:[c.jsx(vl,{variant:"text",width:"90%",height:20}),c.jsx(vl,{variant:"text",width:"70%",height:20})]})]},`skeleton-${n}`))})}function z8({room:e,isTransparent:t,currentGameBoardSize:n=40}){const r=_.useRef(null),{user:s}=An(),{messages:l,isLoading:o}=ea();ZI(s,l,o);const[d,h]=_.useState(0),[m,g]=_.useState(null),{t:p}=de(),x=_.useMemo(()=>l.filter(A=>d===1?["settings","room"].includes(A.type):d===2?["chat","media"].includes(A.type):d===3?A.type==="actions":!0),[l,d]),v=_.useRef(null);_.useEffect(()=>{const A=l[l.length-1],j=(A==null?void 0:A.id)||null;if(j&&j!==v.current&&(v.current=j,r.current)){const R=()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)};R(),requestAnimationFrame(R),setTimeout(R,10)}},[l.length,l]);const w=_.useCallback(A=>{g(A.currentTarget)},[]),S=_.useCallback(()=>{g(null)},[]),k=_.useCallback(A=>{h(A),g(null)},[]),C=[{label:p("all"),value:0},{label:p("setting"),value:1},{label:p("chat"),value:2},{label:p("actions"),value:3}];return c.jsxs("div",{className:"message-list-container",children:[c.jsx("div",{className:"message-list-scroll transparent-scrollbar",ref:r,children:c.jsx("div",{className:"message-list-scroll-content",children:c.jsx("ul",{className:"message-list",children:o&&x.length===0?c.jsx(O8,{count:5}):x.map(A=>{const j=A.uid===s.uid;return c.jsx(D8,{message:A,isOwnMessage:j,isTransparent:t,currentGameBoardSize:n,room:e},A.id)})})})}),c.jsx("div",{className:"message-filter-header",children:c.jsx(Fw,{size:"medium",color:"primary","aria-label":"filter messages",onClick:w,className:"message-filter-fab",sx:{transform:"scale(0.8)"},children:c.jsx(A2,{})})}),c.jsx(dc,{anchorEl:m,open:!!m,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{style:{maxHeight:"200px",minWidth:"120px"}}},children:C.map(A=>c.jsxs(ge,{onClick:()=>k(A.value),selected:d===A.value,children:[c.jsx(Zn,{children:d===A.value&&c.jsx(E2,{})}),c.jsx(ln,{primary:A.label})]},A.value))})]})}function N8({title:e,description:t,players:n,current:r,isTransparent:s,className:l,index:o}){const d=_.useMemo(()=>n.map(g=>c.jsx(qc,{displayName:g.displayName||"",uid:g.uid||""},g.uid)),[n]),h=_.useRef(null),m=[r&&"pulse-animation",s&&"gray-tiles",l].filter(g=>typeof g=="string"&&g.trim().length>0).map(g=>g.trim()).join(" ");return c.jsxs("li",{className:m,ref:h,"data-tile-index":o,children:[c.jsxs("div",{className:"tile-title-row",children:[c.jsx("div",{className:`tile-title ${s&&"pop-text"}`,children:e}),c.jsx("div",{className:"player-indicator",children:c.jsx(lE,{max:4,children:d})})]}),c.jsx(pt,{sx:{margin:"0.5rem 0"}}),c.jsx("div",{className:`tile-description ${s&&"pop-text"}`,children:t})]})}const I8=({id:e,displayName:t,isCurrent:n,flipData:r,onAnimationComplete:s,onAnimationProgress:l})=>{const o=tp(r.from.x),d=tp(r.from.y),h=NI(o,[r.from.x,r.to.x],[1,n?1.15:1.05]),m=r.from.x,g=r.from.y,p=r.to.x,x=r.to.y,v=p-m,w=x-g,S=v*v+w*w,k=Math.atan2(r.to.y-r.from.y,r.to.x-r.from.x);return c.jsxs(Ja.div,{className:`animated-token ${n?"current-player":"other-player"}`,initial:{x:r.from.x,y:r.from.y,scale:1,opacity:1},animate:{x:r.to.x,y:r.to.y,scale:n?1.15:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:r.duration/1e3,ease:"easeInOut"},onUpdate:C=>{if(!l)return;const A=typeof C.x=="number"?C.x:parseFloat(String(C.x)),j=typeof C.y=="number"?C.y:parseFloat(String(C.y));let R=1;S>0&&(R=((A-m)*v+(j-g)*w)/S,R=Math.max(0,Math.min(1,R))),l(e,R,j)},onAnimationComplete:()=>{s==null||s()},style:{x:o,y:d,position:"absolute",zIndex:1e3,pointerEvents:"none",willChange:"transform"},children:[n&&c.jsx(Ja.div,{className:"token-glow",initial:{opacity:.6},animate:{opacity:[.6,1,.6]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},style:{position:"absolute",top:-4,left:-4,right:-4,bottom:-4,borderRadius:"50%",background:"radial-gradient(circle, rgba(34, 211, 238, 0.6) 0%, transparent 70%)",filter:"blur(4px)",zIndex:-1}}),c.jsx(Ja.div,{style:{scale:h,filter:n?"drop-shadow(0 0 8px rgba(34, 211, 238, 0.8))":"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",borderRadius:"50%",border:n?"2px solid rgba(34, 211, 238, 0.9)":"none"},children:c.jsx(qc,{uid:e,displayName:t,size:"medium"})}),c.jsx(Ja.div,{className:"flight-trail",initial:{opacity:0,scaleX:0},animate:{opacity:[0,.6,0],scaleX:[0,1,0]},transition:{duration:r.duration/1e3,ease:"easeInOut"},style:{position:"absolute",top:"50%",left:"50%","--trail-distance":`${r.distance}px`,height:2,background:n?"linear-gradient(90deg, transparent, rgba(34, 211, 238, 0.6), transparent)":"linear-gradient(90deg, transparent, rgba(148, 163, 184, 0.4), transparent)",transformOrigin:"left center",transform:`translate(-50%, -50%) rotate(${k}rad)`,zIndex:-2,pointerEvents:"none"}})]})};var P8=Object.defineProperty,B8=(e,t,n)=>t in e?P8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gu=(e,t,n)=>B8(e,typeof t!="symbol"?t+"":t,n);class U8{constructor(t,n={}){Gu(this,"gameBoard"),Gu(this,"options"),Gu(this,"cache",new Map),Gu(this,"disposed",!1),this.gameBoard=t,this.options={baseDuration:800,maxDuration:1200,minDuration:400,easing:"cubic-bezier(0.4, 0, 0.2, 1)",...n}}calculateFLIPPositions(t,n){if(this.disposed)return null;try{const r=this.getTileElement(t),s=this.getTileElement(n);if(!r||!s)return null;const l=this.gameBoard.querySelector("ol"),o=l?l.getBoundingClientRect():this.gameBoard.getBoundingClientRect(),d=this.getRelativeRect(r,o),h=this.getRelativeRect(s,o),m=this.calculateAvatarPosition(d),g=this.calculateAvatarPosition(h),p=Math.sqrt(Math.pow(g.x-m.x,2)+Math.pow(g.y-m.y,2)),x=this.calculateDuration(p);return{from:{x:m.x,y:m.y,width:40,height:40},to:{x:g.x,y:g.y,width:40,height:40},distance:p,duration:x}}catch(r){return null}}getTileElement(t){return this.gameBoard.querySelectorAll("li")[t]||null}getRelativeRect(t,n){const r=t.getBoundingClientRect();return{x:r.x-n.x,y:r.y-n.y,width:r.width,height:r.height,top:r.top-n.top,right:r.right-n.left,bottom:r.bottom-n.top,left:r.left-n.left,toJSON:r.toJSON}}calculateAvatarPosition(t){return{x:t.x+t.width-8-20,y:t.y+8+20}}calculateDuration(t){const n=this.options.baseDuration,r=Math.min(t/500,2),s=n*(.5+r*.5);return Math.max(this.options.minDuration,Math.min(this.options.maxDuration,s))}getPerformanceInfo(){return{isMobile:window.innerWidth<=768,hasReducedMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches,devicePixelRatio:window.devicePixelRatio||1,containerSize:this.gameBoard.getBoundingClientRect()}}clearCache(){this.cache.clear()}dispose(){this.disposed=!0,this.cache.clear()}isDisposed(){return this.disposed}}function $8(){const[e,t]=_.useState([]),n=_.useCallback(o=>{t(d=>[...d.filter(m=>m.id!==o.id),o])},[]),r=_.useCallback(o=>{t(d=>d.filter(h=>h.id!==o))},[]),s=_.useCallback(()=>{t([])},[]),l=_.useCallback(o=>e.some(d=>d.id===o),[e]);return{animatingTokens:e,addAnimatingToken:n,removeAnimatingToken:r,clearAllTokens:s,isTokenAnimating:l}}const nk=_.forwardRef(({gameBoard:e,onAnimationComplete:t,onAnimationStart:n,onAnimationProgress:r},s)=>{const l=_.useRef(null),o=_.useRef(null),{animatingTokens:d,addAnimatingToken:h,removeAnimatingToken:m,clearAllTokens:g}=$8();return _.useEffect(()=>{var p,x;if(!e){(p=o.current)==null||p.dispose(),o.current=null;return}return(x=o.current)==null||x.dispose(),o.current=new U8(e),()=>{var v;(v=o.current)==null||v.dispose(),o.current=null}},[e]),_.useImperativeHandle(s,()=>({animateTokenMovement:async p=>{if(!o.current)return;const{playerId:x,displayName:v,fromTile:w,toTile:S,isCurrent:k}=p;try{n==null||n(x);const C=o.current.calculateFLIPPositions(w,S);if(!C)return;const A={id:x,displayName:v,fromTile:w,toTile:S,isCurrent:k||!1,flipData:C,startTime:Date.now(),onAnimationProgress:r};h(A)}catch(C){m(x)}},isAnimating:()=>d.length>0,cancelAllAnimations:()=>{g()}}),[d.length,h,m,g,n,r]),_.useEffect(()=>()=>{o.current&&o.current.dispose()},[]),c.jsx("div",{ref:l,className:"token-animation-layer","aria-hidden":"true",role:"presentation",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1e3,overflow:"hidden"},children:c.jsx(oj,{mode:"wait",children:d.map(p=>c.jsx(I8,{id:p.id,displayName:p.displayName,isCurrent:p.isCurrent,flipData:p.flipData,onAnimationComplete:()=>{m(p.id),t==null||t(p.id)},onAnimationProgress:p.onAnimationProgress},p.id))})})});nk.displayName="TokenAnimationLayer";function V8({playerList:e,isTransparent:t,gameBoard:n,settings:r}){const{user:s}=An(),l=_.useRef(null),o=_.useRef(null),[d,h]=_.useState(null),m=_.useRef(new Map),g=_.useRef(null),p=_.useRef(null),x=_.useCallback(()=>{o.current&&e.forEach(j=>{var R;const M=j.location||0,E=m.current.get(j.uid);if(E!==void 0&&E!==M){j.isSelf&&(g.current={playerId:j.uid,targetTile:M}),p.current={playerId:j.uid,targetTile:M};const O={playerId:j.uid,displayName:j.displayName,fromTile:E,toTile:M,isCurrent:j.isSelf||!1};(R=o.current)==null||R.animateTokenMovement(O)}m.current.set(j.uid,M)})},[e]);_.useEffect(()=>{x()},[x]);const v=_.useCallback(j=>{},[]),w=_.useCallback(j=>{var R,M;((R=g.current)==null?void 0:R.playerId)===j&&(g.current=null),((M=p.current)==null?void 0:M.playerId)===j&&(p.current=null)},[]),S=_.useCallback((j,R,M)=>{var E,O;if(((E=g.current)==null?void 0:E.playerId)!==j)return;const N=g.current.targetTile,q=(O=l.current)==null?void 0:O.querySelector(`[data-tile-index="${N}"]`);if(!q||!l.current)return;const D=q.getBoundingClientRect(),P=l.current.getBoundingClientRect(),G=l.current.scrollTop+(D.top-P.top)-P.height/2+D.height/2,K=l.current.scrollTop,F=K+(G-K)*R;try{/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||window.innerWidth<=768?(l.current.scrollTop=F,l.current.getBoundingClientRect()):l.current.scrollTo({top:F,behavior:"auto"})}catch(ne){l.current&&(l.current.scrollTop=F)}},[]);if(!Array.isArray(n)||!n.length)return null;const k=[];e&&Array.isArray(e)&&e.forEach(R=>{Em(R)&&k.push({id:R.localId,name:R.displayName,role:R.role,order:R.order,isActive:R.isSelf,deviceId:"local-device",location:R.location,isFinished:R.isFinished})});const C=new Set;n.forEach(({title:j},R)=>{j&&R!==0&&R!==n.length-1&&C.add(j)});const A=n.map((j,R)=>{var M,E,O;const N=e.filter(ne=>ne.location===R),q=((M=p.current)==null?void 0:M.targetTile)===R,D=(E=p.current)==null?void 0:E.playerId,P=q&&D?e.find(ne=>ne.uid===D)||null:R>0&&(O=N.find(ne=>ne.isSelf))!=null?O:null,G=Array.from(C).indexOf(j.title)%10+1,K=!r.hideBoardActions||R===0||P?Wj(j.description||"",r.role||"sub",(s==null?void 0:s.displayName)||"",k.length>0?k:void 0,!0):(j.description||"").replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?"),F={title:j.title,description:j.description,players:N.map(ne=>({...ne,isSelf:ne.isSelf||!1,isFinished:!1})),current:P?{...P,isSelf:P.isSelf||!1,isFinished:!1}:null,isTransparent:t,className:`hue${G}`};return c.jsx(N8,{title:`#${R+1}: ${j.title}`,description:K,players:F.players,current:F.current,isTransparent:F.isTransparent,className:F.className},R)});return c.jsx("div",{ref:j=>{l.current=j,h(j)},className:"gameboard transparent-scrollbar",style:{position:"relative"},children:c.jsxs("div",{style:{position:"relative"},children:[c.jsx("ol",{children:A}),c.jsx(nk,{ref:o,gameBoard:d,onAnimationStart:v,onAnimationComplete:w,onAnimationProgress:S})]})})}function G8(){var e,t;const n=Ht(),r=n.id||"",s=un(),{t:l}=de(),[o,d]=cn();HI(r);const[h,m]=_.useState({value:0,time:0}),{localPlayers:g,sessionSettings:p,currentPlayerIndex:x}=ms(),[v,w]=_.useState(!1),[S,k]=_.useState(""),C=_.useRef(x),A=(e=hi(Bc))==null?void 0:e.tiles,j=_.useCallback(Ee=>{m({value:Ee,time:Date.now()})},[]);_.useEffect(()=>{if(!g.length||!p)return;const Ee=x!=null?x:0,Te=C.current;if(Ee!==Te&&Te!==void 0){const Ze=g[Ee];if(Ze&&(p.showTurnTransitions&&(k(Ze.name),w(!0)),p.enableTurnSounds&&Ze.sound)){const Oe=ZS(Ze.sound);Oe&&QS(Oe).catch(it=>{console.warn("Failed to play turn sound:",it)})}}C.current=Ee},[x,g,p]);const R=_.useCallback(()=>{w(!1)},[]),{playerList:M,tile:E}=qI(r,h,A),O=l_(),{roller:N}=YI(r,A),[q,D,P]=XI(o,d);if((!A||!A.length||!Object.keys(o).length||Je(r)&&!Xt(o.gameMode))&&!P)return c.jsxs(c.Fragment,{children:[c.jsx(Wu,{room:n.id,playerList:M}),c.jsx(s_,{open:!0})]});if(P)return c.jsxs(c.Fragment,{children:[c.jsx(Wu,{room:n.id,playerList:M}),c.jsx(H,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:c.jsx(kn,{size:48})})]});const{isVideo:G,url:K}=fD(o,r),F=G?"video-adjust":"",$=K&&(G||!G&&K)?"":"default-room-background",{background:U,roomBackground:W}=o,z=U==="useRoomBackground"?W||null:U||null,ce=z!=="color",fe=!!(z&&!["color","gray"].includes(z)),I=c.jsx(V8,{playerList:O,isTransparent:ce,gameBoard:A||[],settings:o}),Se=c.jsxs("div",{className:"messages-container",children:[c.jsx(z8,{room:r,isTransparent:fe,currentGameBoardSize:(A==null?void 0:A.length)||0}),c.jsx(MD,{room:r,isTransparent:fe})]});return c.jsxs(c.Fragment,{children:[c.jsx(Wu,{room:r,playerList:O}),c.jsx(BI,{setRollValue:j,dice:N,isEndOfBoard:(E==null?void 0:E.index)!==void 0&&E.index>=((t=A==null?void 0:A.length)!=null?t:0)-1}),c.jsx(Mm,{isVideo:G,url:K}),c.jsx(UI,{playerName:S,show:v,onComplete:R,duration:2e3}),s?c.jsx(WI,{tab1:I,tab2:Se}):c.jsxs(H,{className:Hl("desktop-container",F,$),children:[I,Se]}),c.jsx(eO,{}),c.jsx(xr,{type:q===l("updated")?"success":"error",open:!!q,close:D,children:q})]})}function Aw({children:e}){const{id:t}=Ht(),n=Gw(),r=dE();return _.useEffect(()=>{if(t&&t!==t.toUpperCase()){const s=r.pathname.replace(t,t.toUpperCase());n(s+r.search+r.hash,{replace:!0})}},[t,n,r]),c.jsx(c.Fragment,{children:e})}function q8(){const e=_.useContext(fo);if(_.useEffect(()=>(e&&(window.authContext=e),()=>{window.authContext=null}),[e]),!e||e.initializing)return c.jsx(Tp,{});const t=e.user?c.jsx(G8,{}):c.jsx(DL,{});return c.jsxs(uE,{children:[c.jsx(bh,{path:"/",element:c.jsx(cE,{replace:!0,to:"/PUBLIC"})}),c.jsx(bh,{path:"/:id/cast",element:c.jsx(Aw,{children:c.jsx(Yv,{children:c.jsx(Gv,{children:c.jsx(yD,{})})})})}),c.jsx(bh,{path:"/:id",element:c.jsx(Aw,{children:c.jsx(Yv,{children:c.jsx(Gv,{children:t})})})})]})}function F8(){return c.jsx(oE,{children:c.jsx(q8,{})})}function H8(){const e=_.useContext(fo);return!e||e.initializing?c.jsx(Tp,{}):c.jsx(OE,{children:c.jsx(F8,{})})}function K8(){return c.jsx(Z2,{children:c.jsx(H8,{})})}const ik=_.createContext({initializing:!0,hasUser:!1}),Y8=()=>_.useContext(ik);function X8({children:e}){const[t,n]=_.useState(!0),[r,s]=_.useState(!1);return _.useEffect(()=>{setTimeout(()=>{let o=!1;try{o=!!(localStorage.getItem("firebase:authUser:")||sessionStorage.getItem("firebase:authUser:")||document.cookie.includes("firebase-auth"))}catch(d){console.warn("Authentication check failed due to storage restrictions (e.g., private browsing mode):",d),o=!1}s(o),n(!1)},50)},[]),c.jsx(ik.Provider,{value:{initializing:t,hasUser:r},children:e})}function W8(){const{initializing:e}=Y8();return e?c.jsx(Tp,{}):c.jsx(K8,{})}var um={exports:{}},kl={},cm={exports:{}},dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function Q8(){return Ew||(Ew=1,(function(e){function t($,U){var W=$.length;$.push(U);e:for(;0<W;){var ae=W-1>>>1,z=$[ae];if(0<s(z,U))$[ae]=U,$[W]=z,W=ae;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],W=$.pop();if(W!==U){$[0]=W;e:for(var ae=0,z=$.length,ce=z>>>1;ae<ce;){var fe=2*(ae+1)-1,I=$[fe],Se=fe+1,Ee=$[Se];if(0>s(I,W))Se<z&&0>s(Ee,I)?($[ae]=Ee,$[Se]=W,ae=Se):($[ae]=I,$[fe]=W,ae=fe);else if(Se<z&&0>s(Ee,W))$[ae]=Ee,$[Se]=W,ae=Se;else break e}}return U}function s($,U){var W=$.sortIndex-U.sortIndex;return W!==0?W:$.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,d=o.now();e.unstable_now=function(){return o.now()-d}}var h=[],m=[],g=1,p=null,x=3,v=!1,w=!1,S=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate!="undefined"?setImmediate:null;function R($){for(var U=n(m);U!==null;){if(U.callback===null)r(m);else if(U.startTime<=$)r(m),U.sortIndex=U.expirationTime,t(h,U);else break;U=n(m)}}function M($){if(S=!1,R($),!w)if(n(h)!==null)w=!0,E||(E=!0,G());else{var U=n(m);U!==null&&ne(M,U.startTime-$)}}var E=!1,O=-1,N=5,q=-1;function D(){return k?!0:!(e.unstable_now()-q<N)}function P(){if(k=!1,E){var $=e.unstable_now();q=$;var U=!0;try{e:{w=!1,S&&(S=!1,A(O),O=-1),v=!0;var W=x;try{t:{for(R($),p=n(h);p!==null&&!(p.expirationTime>$&&D());){var ae=p.callback;if(typeof ae=="function"){p.callback=null,x=p.priorityLevel;var z=ae(p.expirationTime<=$);if($=e.unstable_now(),typeof z=="function"){p.callback=z,R($),U=!0;break t}p===n(h)&&r(h),R($)}else r(h);p=n(h)}if(p!==null)U=!0;else{var ce=n(m);ce!==null&&ne(M,ce.startTime-$),U=!1}}break e}finally{p=null,x=W,v=!1}U=void 0}}finally{U?G():E=!1}}}var G;if(typeof j=="function")G=function(){j(P)};else if(typeof MessageChannel!="undefined"){var K=new MessageChannel,F=K.port2;K.port1.onmessage=P,G=function(){F.postMessage(null)}}else G=function(){C(P,0)};function ne($,U){O=C(function(){$(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function($){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var W=x;x=U;try{return $()}finally{x=W}},e.unstable_requestPaint=function(){k=!0},e.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=x;x=$;try{return U()}finally{x=W}},e.unstable_scheduleCallback=function($,U,W){var ae=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,$={id:g++,callback:U,priorityLevel:$,startTime:W,expirationTime:z,sortIndex:-1},W>ae?($.sortIndex=W,t(m,$),n(h)===null&&$===n(m)&&(S?(A(O),O=-1):S=!0,ne(M,W-ae))):($.sortIndex=z,t(h,$),w||v||(w=!0,E||(E=!0,G()))),$},e.unstable_shouldYield=D,e.unstable_wrapCallback=function($){var U=x;return function(){var W=x;x=U;try{return $.apply(this,arguments)}finally{x=W}}}})(dm)),dm}var Mw;function Z8(){return Mw||(Mw=1,cm.exports=Q8()),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw;function J8(){if(Rw)return kl;Rw=1;var e=Z8(),t=fE(),n=hE();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,u=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(u=a.return),i=a.return;while(i)}return a.tag===3?u:null}function o(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function h(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var u=i,f=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return d(y),i;if(b===f)return d(y),a;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=y,f=b;else{for(var T=!1,L=y.child;L;){if(L===u){T=!0,u=y,f=b;break}if(L===f){T=!0,f=y,u=b;break}L=L.sibling}if(!T){for(L=b.child;L;){if(L===u){T=!0,u=b,f=y;break}if(L===f){T=!0,f=b,u=y;break}L=L.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),j=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function F(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case E:return"SuspenseList";case q:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case v:return"Portal";case j:return(i.displayName||"Context")+".Provider";case A:return(i._context.displayName||"Context")+".Consumer";case R:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:F(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return F(i(a))}catch(u){}}return null}var ne=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ae=[],z=-1;function ce(i){return{current:i}}function fe(i){0>z||(i.current=ae[z],ae[z]=null,z--)}function I(i,a){z++,ae[z]=i.current,i.current=a}var Se=ce(null),Ee=ce(null),Te=ce(null),Ze=ce(null);function Oe(i,a){switch(I(Te,a),I(Ee,i),I(Se,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?cv(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=cv(a),i=dv(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(Se),I(Se,i)}function it(){fe(Se),fe(Ee),fe(Te)}function En(i){i.memoizedState!==null&&I(Ze,i);var a=Se.current,u=dv(a,i.type);a!==u&&(I(Ee,i),I(Se,u))}function xi(i){Ee.current===i&&(fe(Se),fe(Ee)),Ze.current===i&&(fe(Ze),pl._currentValue=W)}var vs=Object.prototype.hasOwnProperty,ws=e.unstable_scheduleCallback,Ss=e.unstable_cancelCallback,wo=e.unstable_shouldYield,So=e.unstable_requestPaint,fn=e.unstable_now,id=e.unstable_getCurrentPriorityLevel,_s=e.unstable_ImmediatePriority,js=e.unstable_UserBlockingPriority,na=e.unstable_NormalPriority,rd=e.unstable_LowPriority,_o=e.unstable_IdlePriority,ad=e.log,sd=e.unstable_setDisableYieldValue,ie=null,oe=null;function ye(i){if(typeof ad=="function"&&sd(i),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(ie,i)}catch(a){}}var we=Math.clz32?Math.clz32:bi,Ue=Math.log,hn=Math.LN2;function bi(i){return i>>>=0,i===0?32:31-(Ue(i)/hn|0)|0}var Jt=256,ii=4194304;function mn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kt(i,a,u){var f=i.pendingLanes;if(f===0)return 0;var y=0,b=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var L=f&134217727;return L!==0?(f=L&~b,f!==0?y=mn(f):(T&=L,T!==0?y=mn(T):u||(u=L&~i,u!==0&&(y=mn(u))))):(L=f&~b,L!==0?y=mn(L):T!==0?y=mn(T):u||(u=f&~i,u!==0&&(y=mn(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function Mn(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Fn(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kg(){var i=Jt;return Jt<<=1,(Jt&4194048)===0&&(Jt=256),i}function Yg(){var i=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),i}function ld(i){for(var a=[],u=0;31>u;u++)a.push(i);return a}function Cs(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wk(i,a,u,f,y,b){var T=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var L=i.entanglements,B=i.expirationTimes,J=i.hiddenUpdates;for(u=T&~u;0<u;){var re=31-we(u),le=1<<re;L[re]=0,B[re]=-1;var ee=J[re];if(ee!==null)for(J[re]=null,re=0;re<ee.length;re++){var te=ee[re];te!==null&&(te.lane&=-536870913)}u&=~le}f!==0&&Xg(i,f,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(T&~a))}function Xg(i,a,u){i.pendingLanes|=a,i.suspendedLanes&=~a;var f=31-we(a);i.entangledLanes|=a,i.entanglements[f]=i.entanglements[f]|1073741824|u&4194090}function Wg(i,a){var u=i.entangledLanes|=a;for(i=i.entanglements;u;){var f=31-we(u),y=1<<f;y&a|i[f]&a&&(i[f]|=a),u&=~y}}function od(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ud(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Qg(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:Mv(i.type))}function Sk(i,a){var u=U.p;try{return U.p=i,a()}finally{U.p=u}}var Gi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Gi,en="__reactProps$"+Gi,ia="__reactContainer$"+Gi,cd="__reactEvents$"+Gi,_k="__reactListeners$"+Gi,jk="__reactHandles$"+Gi,Zg="__reactResources$"+Gi,ks="__reactMarker$"+Gi;function dd(i){delete i[Ut],delete i[en],delete i[cd],delete i[_k],delete i[jk]}function ra(i){var a=i[Ut];if(a)return a;for(var u=i.parentNode;u;){if(a=u[ia]||u[Ut]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(i=pv(i);i!==null;){if(u=i[Ut])return u;i=pv(i)}return a}i=u,u=i.parentNode}return null}function aa(i){if(i=i[Ut]||i[ia]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ts(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function sa(i){var a=i[Zg];return a||(a=i[Zg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Tt(i){i[ks]=!0}var Jg=new Set,ey={};function Sr(i,a){la(i,a),la(i+"Capture",a)}function la(i,a){for(ey[i]=a,i=0;i<a.length;i++)Jg.add(a[i])}var Ck=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ty={},ny={};function kk(i){return vs.call(ny,i)?!0:vs.call(ty,i)?!1:Ck.test(i)?ny[i]=!0:(ty[i]=!0,!1)}function jo(i,a,u){if(kk(a))if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+u)}}function Co(i,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+u)}}function vi(i,a,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(a,u,""+f)}}var fd,iy;function oa(i){if(fd===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);fd=a&&a[1]||"",iy=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fd+i+iy}var hd=!1;function md(i,a){if(!i||hd)return"";hd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(te){var ee=te}Reflect.construct(i,[],le)}else{try{le.call()}catch(te){ee=te}i.call(le.prototype)}}else{try{throw Error()}catch(te){ee=te}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),T=b[0],L=b[1];if(T&&L){var B=T.split(`
`),J=L.split(`
`);for(y=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(f===B.length||y===J.length)for(f=B.length-1,y=J.length-1;1<=f&&0<=y&&B[f]!==J[y];)y--;for(;1<=f&&0<=y;f--,y--)if(B[f]!==J[y]){if(f!==1||y!==1)do if(f--,y--,0>y||B[f]!==J[y]){var re=`
`+B[f].replace(" at new "," at ");return i.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",i.displayName)),re}while(1<=f&&0<=y);break}}}finally{hd=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?oa(u):""}function Tk(i){switch(i.tag){case 26:case 27:case 5:return oa(i.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return md(i.type,!1);case 11:return md(i.type.render,!1);case 1:return md(i.type,!0);case 31:return oa("Activity");default:return""}}function ry(i){try{var a="";do a+=Tk(i),i=i.return;while(i);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ay(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ak(i){var a=ay(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),f=""+i[a];if(!i.hasOwnProperty(a)&&typeof u!="undefined"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(T){f=""+T,b.call(this,T)}}),Object.defineProperty(i,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ko(i){i._valueTracker||(i._valueTracker=Ak(i))}function sy(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return i&&(f=ay(i)?i.checked?"true":"false":i.value),i=f,i!==u?(a.setValue(i),!0):!1}function To(i){if(i=i||(typeof document!="undefined"?document:void 0),typeof i=="undefined")return null;try{return i.activeElement||i.body}catch(a){return i.body}}var Ek=/[\n"\\]/g;function Ln(i){return i.replace(Ek,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function pd(i,a,u,f,y,b,T,L){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Rn(a)):i.value!==""+Rn(a)&&(i.value=""+Rn(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?gd(i,T,Rn(a)):u!=null?gd(i,T,Rn(u)):f!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+Rn(L):i.removeAttribute("name")}function ly(i,a,u,f,y,b,T,L){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+Rn(u):"",a=a!=null?""+Rn(a):u,L||a===i.value||(i.value=a),i.defaultValue=a}f=f!=null?f:y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=L?i.checked:!!f,i.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function gd(i,a,u){a==="number"&&To(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function ua(i,a,u,f){if(i=i.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=a.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Rn(u),a=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function oy(i,a,u){if(a!=null&&(a=""+Rn(a),a!==i.value&&(i.value=a),u==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=u!=null?""+Rn(u):""}function uy(i,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(ne(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Rn(a),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f)}function ca(i,a){if(a){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=a;return}}i.textContent=a}var Mk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cy(i,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":f?i.setProperty(a,u):typeof u!="number"||u===0||Mk.has(a)?a==="float"?i.cssFloat=u:i[a]=(""+u).trim():i[a]=u+"px"}function dy(i,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in a)f=a[y],a.hasOwnProperty(y)&&u[y]!==f&&cy(i,y,f)}else for(var b in a)a.hasOwnProperty(b)&&cy(i,b,a[b])}function yd(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(i){return Lk.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var xd=null;function bd(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var da=null,fa=null;function fy(i){var a=aa(i);if(a&&(i=a.stateNode)){var u=i[en]||null;e:switch(i=a.stateNode,a.type){case"input":if(pd(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ln(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==i&&f.form===i.form){var y=f[en]||null;if(!y)throw Error(r(90));pd(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===i.form&&sy(f)}break e;case"textarea":oy(i,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&ua(i,!!u.multiple,a,!1)}}}var vd=!1;function hy(i,a,u){if(vd)return i(a,u);vd=!0;try{var f=i(a);return f}finally{if(vd=!1,(da!==null||fa!==null)&&(hu(),da&&(a=da,i=fa,fa=da=null,fy(a),i)))for(a=0;a<i.length;a++)fy(i[a])}}function As(i,a){var u=i.stateNode;if(u===null)return null;var f=u[en]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var wi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),wd=!1;if(wi)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){wd=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch(i){wd=!1}var qi=null,Sd=null,Eo=null;function my(){if(Eo)return Eo;var i,a=Sd,u=a.length,f,y="value"in qi?qi.value:qi.textContent,b=y.length;for(i=0;i<u&&a[i]===y[i];i++);var T=u-i;for(f=1;f<=T&&a[u-f]===y[b-f];f++);return Eo=y.slice(i,1<f?1-f:void 0)}function Mo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Ro(){return!0}function py(){return!1}function tn(i){function a(u,f,y,b,T){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(u=i[L],this[L]=u?u(b):b[L]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ro:py,this.isPropagationStopped=py,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),a}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=tn(_r),Ms=g({},_r,{view:0,detail:0}),Dk=tn(Ms),_d,jd,Rs,Do=g({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rs&&(Rs&&i.type==="mousemove"?(_d=i.screenX-Rs.screenX,jd=i.screenY-Rs.screenY):jd=_d=0,Rs=i),_d)},movementY:function(i){return"movementY"in i?i.movementY:jd}}),gy=tn(Do),Ok=g({},Do,{dataTransfer:0}),zk=tn(Ok),Nk=g({},Ms,{relatedTarget:0}),Cd=tn(Nk),Ik=g({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=tn(Ik),Bk=g({},_r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Uk=tn(Bk),$k=g({},_r,{data:0}),yy=tn($k),Vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=qk[i])?!!a[i]:!1}function kd(){return Fk}var Hk=g({},Ms,{key:function(i){if(i.key){var a=Vk[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Mo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Gk[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(i){return i.type==="keypress"?Mo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Mo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Kk=tn(Hk),Yk=g({},Do,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xy=tn(Yk),Xk=g({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),Wk=tn(Xk),Qk=g({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zk=tn(Qk),Jk=g({},Do,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),eT=tn(Jk),tT=g({},_r,{newState:0,oldState:0}),nT=tn(tT),iT=[9,13,27,32],Td=wi&&"CompositionEvent"in window,Ls=null;wi&&"documentMode"in document&&(Ls=document.documentMode);var rT=wi&&"TextEvent"in window&&!Ls,by=wi&&(!Td||Ls&&8<Ls&&11>=Ls),vy=" ",wy=!1;function Sy(i,a){switch(i){case"keyup":return iT.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ha=!1;function aT(i,a){switch(i){case"compositionend":return _y(a);case"keypress":return a.which!==32?null:(wy=!0,vy);case"textInput":return i=a.data,i===vy&&wy?null:i;default:return null}}function sT(i,a){if(ha)return i==="compositionend"||!Td&&Sy(i,a)?(i=my(),Eo=Sd=qi=null,ha=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return by&&a.locale!=="ko"?null:a.data;default:return null}}var lT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!lT[i.type]:a==="textarea"}function Cy(i,a,u,f){da?fa?fa.push(f):fa=[f]:da=f,a=bu(a,"onChange"),0<a.length&&(u=new Lo("onChange","change",null,u,f),i.push({event:u,listeners:a}))}var Ds=null,Os=null;function oT(i){av(i,0)}function Oo(i){var a=Ts(i);if(sy(a))return i}function ky(i,a){if(i==="change")return a}var Ty=!1;if(wi){var Ad;if(wi){var Ed="oninput"in document;if(!Ed){var Ay=document.createElement("div");Ay.setAttribute("oninput","return;"),Ed=typeof Ay.oninput=="function"}Ad=Ed}else Ad=!1;Ty=Ad&&(!document.documentMode||9<document.documentMode)}function Ey(){Ds&&(Ds.detachEvent("onpropertychange",My),Os=Ds=null)}function My(i){if(i.propertyName==="value"&&Oo(Os)){var a=[];Cy(a,Os,i,bd(i)),hy(oT,a)}}function uT(i,a,u){i==="focusin"?(Ey(),Ds=a,Os=u,Ds.attachEvent("onpropertychange",My)):i==="focusout"&&Ey()}function cT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oo(Os)}function dT(i,a){if(i==="click")return Oo(a)}function fT(i,a){if(i==="input"||i==="change")return Oo(a)}function hT(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var pn=typeof Object.is=="function"?Object.is:hT;function zs(i,a){if(pn(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var u=Object.keys(i),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!vs.call(a,y)||!pn(i[y],a[y]))return!1}return!0}function Ry(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ly(i,a){var u=Ry(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=a&&f>=a)return{node:u,offset:a-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ry(u)}}function Dy(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Dy(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Oy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=To(i.document);a instanceof i.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch(f){u=!1}if(u)i=a.contentWindow;else break;a=To(i.document)}return a}function Md(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var mT=wi&&"documentMode"in document&&11>=document.documentMode,ma=null,Rd=null,Ns=null,Ld=!1;function zy(i,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ld||ma==null||ma!==To(f)||(f=ma,"selectionStart"in f&&Md(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ns&&zs(Ns,f)||(Ns=f,f=bu(Rd,"onSelect"),0<f.length&&(a=new Lo("onSelect","select",null,a,u),i.push({event:a,listeners:f}),a.target=ma)))}function jr(i,a){var u={};return u[i.toLowerCase()]=a.toLowerCase(),u["Webkit"+i]="webkit"+a,u["Moz"+i]="moz"+a,u}var pa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Dd={},Ny={};wi&&(Ny=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Cr(i){if(Dd[i])return Dd[i];if(!pa[i])return i;var a=pa[i],u;for(u in a)if(a.hasOwnProperty(u)&&u in Ny)return Dd[i]=a[u];return i}var Iy=Cr("animationend"),Py=Cr("animationiteration"),By=Cr("animationstart"),pT=Cr("transitionrun"),gT=Cr("transitionstart"),yT=Cr("transitioncancel"),Uy=Cr("transitionend"),$y=new Map,Od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Od.push("scrollEnd");function Hn(i,a){$y.set(i,a),Sr(a,[i])}var Vy=new WeakMap;function Dn(i,a){if(typeof i=="object"&&i!==null){var u=Vy.get(i);return u!==void 0?u:(a={value:i,source:a,stack:ry(a)},Vy.set(i,a),a)}return{value:i,source:a,stack:ry(a)}}var On=[],ga=0,zd=0;function zo(){for(var i=ga,a=zd=ga=0;a<i;){var u=On[a];On[a++]=null;var f=On[a];On[a++]=null;var y=On[a];On[a++]=null;var b=On[a];if(On[a++]=null,f!==null&&y!==null){var T=f.pending;T===null?y.next=y:(y.next=T.next,T.next=y),f.pending=y}b!==0&&Gy(u,y,b)}}function No(i,a,u,f){On[ga++]=i,On[ga++]=a,On[ga++]=u,On[ga++]=f,zd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function Nd(i,a,u,f){return No(i,a,u,f),Io(i)}function ya(i,a){return No(i,null,null,a),Io(i)}function Gy(i,a,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=i.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&a!==null&&(y=31-we(u),i=b.hiddenUpdates,f=i[y],f===null?i[y]=[a]:f.push(a),a.lane=u|536870912),b):null}function Io(i){if(50<ll)throw ll=0,Gf=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var xa={};function xT(i,a,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(i,a,u,f){return new xT(i,a,u,f)}function Id(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Si(i,a){var u=i.alternate;return u===null?(u=gn(i.tag,a,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=a,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,a=i.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function qy(i,a){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,a=u.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Po(i,a,u,f,y,b){var T=0;if(f=i,typeof i=="function")Id(i)&&(T=1);else if(typeof i=="string")T=vA(i,u,Se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case q:return i=gn(31,u,a,y),i.elementType=q,i.lanes=b,i;case w:return kr(u.children,y,b,a);case S:T=8,y|=24;break;case k:return i=gn(12,u,a,y|2),i.elementType=k,i.lanes=b,i;case M:return i=gn(13,u,a,y),i.elementType=M,i.lanes=b,i;case E:return i=gn(19,u,a,y),i.elementType=E,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:case j:T=10;break e;case A:T=9;break e;case R:T=11;break e;case O:T=14;break e;case N:T=16,f=null;break e}T=29,u=Error(r(130,i===null?"null":typeof i,"")),f=null}return a=gn(T,u,a,y),a.elementType=i,a.type=f,a.lanes=b,a}function kr(i,a,u,f){return i=gn(7,i,f,a),i.lanes=u,i}function Pd(i,a,u){return i=gn(6,i,null,a),i.lanes=u,i}function Bd(i,a,u){return a=gn(4,i.children!==null?i.children:[],i.key,a),a.lanes=u,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ba=[],va=0,Bo=null,Uo=0,zn=[],Nn=0,Tr=null,_i=1,ji="";function Ar(i,a){ba[va++]=Uo,ba[va++]=Bo,Bo=i,Uo=a}function Fy(i,a,u){zn[Nn++]=_i,zn[Nn++]=ji,zn[Nn++]=Tr,Tr=i;var f=_i;i=ji;var y=32-we(f)-1;f&=~(1<<y),u+=1;var b=32-we(a)+y;if(30<b){var T=y-y%5;b=(f&(1<<T)-1).toString(32),f>>=T,y-=T,_i=1<<32-we(a)+y|u<<y|f,ji=b+i}else _i=1<<b|u<<y|f,ji=i}function Ud(i){i.return!==null&&(Ar(i,1),Fy(i,1,0))}function $d(i){for(;i===Bo;)Bo=ba[--va],ba[va]=null,Uo=ba[--va],ba[va]=null;for(;i===Tr;)Tr=zn[--Nn],zn[Nn]=null,ji=zn[--Nn],zn[Nn]=null,_i=zn[--Nn],zn[Nn]=null}var Yt=null,st=null,Be=!1,Er=null,ri=!1,Vd=Error(r(519));function Mr(i){var a=Error(r(418,""));throw Bs(Dn(a,i)),Vd}function Hy(i){var a=i.stateNode,u=i.type,f=i.memoizedProps;switch(a[Ut]=i,a[en]=f,u){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(u=0;u<ul.length;u++)Le(ul[u],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),ly(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),ko(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),uy(a,f.value,f.defaultValue,f.children),ko(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||uv(a.textContent,u)?(f.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),f.onScroll!=null&&Le("scroll",a),f.onScrollEnd!=null&&Le("scrollend",a),f.onClick!=null&&(a.onclick=vu),a=!0):a=!1,a||Mr(i)}function Ky(i){for(Yt=i.return;Yt;)switch(Yt.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Yt=Yt.return}}function Is(i){if(i!==Yt)return!1;if(!Be)return Ky(i),Be=!0,!1;var a=i.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||ah(i.type,i.memoizedProps)),u=!u),u&&st&&Mr(i),Ky(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(a===0){st=Yn(i.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;i=i.nextSibling}st=null}}else a===27?(a=st,sr(i.type)?(i=uh,uh=null,st=i):st=a):st=Yt?Yn(i.stateNode.nextSibling):null;return!0}function Ps(){st=Yt=null,Be=!1}function Yy(){var i=Er;return i!==null&&(an===null?an=i:an.push.apply(an,i),Er=null),i}function Bs(i){Er===null?Er=[i]:Er.push(i)}var Gd=ce(null),Rr=null,Ci=null;function Fi(i,a,u){I(Gd,a._currentValue),a._currentValue=u}function ki(i){i._currentValue=Gd.current,fe(Gd)}function qd(i,a,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),i===u)break;i=i.return}}function Fd(i,a,u,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var T=y.child;b=b.firstContext;e:for(;b!==null;){var L=b;b=y;for(var B=0;B<a.length;B++)if(L.context===a[B]){b.lanes|=u,L=b.alternate,L!==null&&(L.lanes|=u),qd(b.return,u,i),f||(T=null);break e}b=L.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(r(341));T.lanes|=u,b=T.alternate,b!==null&&(b.lanes|=u),qd(T,u,i),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function Us(i,a,u,f){i=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var L=y.type;pn(y.pendingProps.value,T.value)||(i!==null?i.push(L):i=[L])}}else if(y===Ze.current){if(T=y.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(pl):i=[pl])}y=y.return}i!==null&&Fd(a,i,u,f),a.flags|=262144}function $o(i){for(i=i.firstContext;i!==null;){if(!pn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Lr(i){Rr=i,Ci=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function $t(i){return Xy(Rr,i)}function Vo(i,a){return Rr===null&&Lr(i),Xy(i,a)}function Xy(i,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Ci===null){if(i===null)throw Error(r(308));Ci=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ci=Ci.next=a;return u}var bT=typeof AbortController!="undefined"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){a.aborted=!0,i.forEach(function(u){return u()})}},vT=e.unstable_scheduleCallback,wT=e.unstable_NormalPriority,St={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hd(){return{controller:new bT,data:new Map,refCount:0}}function $s(i){i.refCount--,i.refCount===0&&vT(wT,function(){i.controller.abort()})}var Vs=null,Kd=0,wa=0,Sa=null;function ST(i,a){if(Vs===null){var u=Vs=[];Kd=0,wa=Wf(),Sa={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Kd++,a.then(Wy,Wy),a}function Wy(){if(--Kd===0&&Vs!==null){Sa!==null&&(Sa.status="fulfilled");var i=Vs;Vs=null,wa=0,Sa=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function _T(i,a){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){f.status="fulfilled",f.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var Qy=$.S;$.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ST(i,a),Qy!==null&&Qy(i,a)};var Dr=ce(null);function Yd(){var i=Dr.current;return i!==null?i:We.pooledCache}function Go(i,a){a===null?I(Dr,Dr.current):I(Dr,a.pool)}function Zy(){var i=Yd();return i===null?null:{parent:St._currentValue,pool:i}}var Gs=Error(r(460)),Jy=Error(r(474)),qo=Error(r(542)),Xd={then:function(){}};function ex(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Fo(){}function tx(i,a,u){switch(u=i[u],u===void 0?i.push(a):u!==a&&(a.then(Fo,Fo),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ix(i),i;default:if(typeof a.status=="string")a.then(Fo,Fo);else{if(i=We,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(f){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=f}},function(f){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,ix(i),i}throw qs=a,Gs}}var qs=null;function nx(){if(qs===null)throw Error(r(459));var i=qs;return qs=null,i}function ix(i){if(i===Gs||i===qo)throw Error(r(483))}var Hi=!1;function Wd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qd(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ki(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Yi(i,a,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,($e&2)!==0){var y=f.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),f.pending=a,a=Io(i),Gy(i,null,u),a}return No(i,f,a,u),Io(i)}function Fs(i,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,Wg(i,u)}}function Zd(i,a){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=T:b=b.next=T,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=a:i.next=a,u.lastBaseUpdate=a}var Jd=!1;function Hs(){if(Jd){var i=Sa;if(i!==null)throw i}}function Ks(i,a,u,f){Jd=!1;var y=i.updateQueue;Hi=!1;var b=y.firstBaseUpdate,T=y.lastBaseUpdate,L=y.shared.pending;if(L!==null){y.shared.pending=null;var B=L,J=B.next;B.next=null,T===null?b=J:T.next=J,T=B;var re=i.alternate;re!==null&&(re=re.updateQueue,L=re.lastBaseUpdate,L!==T&&(L===null?re.firstBaseUpdate=J:L.next=J,re.lastBaseUpdate=B))}if(b!==null){var le=y.baseState;T=0,re=J=B=null,L=b;do{var ee=L.lane&-536870913,te=ee!==L.lane;if(te?(ze&ee)===ee:(f&ee)===ee){ee!==0&&ee===wa&&(Jd=!0),re!==null&&(re=re.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var _e=i,be=L;ee=a;var He=u;switch(be.tag){case 1:if(_e=be.payload,typeof _e=="function"){le=_e.call(He,le,ee);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=be.payload,ee=typeof _e=="function"?_e.call(He,le,ee):_e,ee==null)break e;le=g({},le,ee);break e;case 2:Hi=!0}}ee=L.callback,ee!==null&&(i.flags|=64,te&&(i.flags|=8192),te=y.callbacks,te===null?y.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},re===null?(J=re=te,B=le):re=re.next=te,T|=ee;if(L=L.next,L===null){if(L=y.shared.pending,L===null)break;te=L,L=te.next,te.next=null,y.lastBaseUpdate=te,y.shared.pending=null}}while(!0);re===null&&(B=le),y.baseState=B,y.firstBaseUpdate=J,y.lastBaseUpdate=re,b===null&&(y.shared.lanes=0),nr|=T,i.lanes=T,i.memoizedState=le}}function rx(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function ax(i,a){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)rx(u[i],a)}var _a=ce(null),Ho=ce(0);function sx(i,a){i=Di,I(Ho,i),I(_a,a),Di=i|a.baseLanes}function ef(){I(Ho,Di),I(_a,_a.current)}function tf(){Di=Ho.current,fe(_a),fe(Ho)}var Xi=0,Ae=null,qe=null,yt=null,Ko=!1,ja=!1,Or=!1,Yo=0,Ys=0,Ca=null,jT=0;function dt(){throw Error(r(321))}function nf(i,a){if(a===null)return!1;for(var u=0;u<a.length&&u<i.length;u++)if(!pn(i[u],a[u]))return!1;return!0}function rf(i,a,u,f,y,b){return Xi=b,Ae=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?Gx:qx,Or=!1,b=u(f,y),Or=!1,ja&&(b=ox(a,u,f,y)),lx(i),b}function lx(i){$.H=eu;var a=qe!==null&&qe.next!==null;if(Xi=0,yt=qe=Ae=null,Ko=!1,Ys=0,Ca=null,a)throw Error(r(300));i===null||At||(i=i.dependencies,i!==null&&$o(i)&&(At=!0))}function ox(i,a,u,f){Ae=i;var y=0;do{if(ja&&(Ca=null),Ys=0,ja=!1,25<=y)throw Error(r(301));if(y+=1,yt=qe=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}$.H=RT,b=a(u,f)}while(ja);return b}function CT(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?Xs(a):a,i=i.useState()[0],(qe!==null?qe.memoizedState:null)!==i&&(Ae.flags|=1024),a}function af(){var i=Yo!==0;return Yo=0,i}function sf(i,a,u){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~u}function lf(i){if(Ko){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Ko=!1}Xi=0,yt=qe=Ae=null,ja=!1,Ys=Yo=0,Ca=null}function nn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ae.memoizedState=yt=i:yt=yt.next=i,yt}function xt(){if(qe===null){var i=Ae.alternate;i=i!==null?i.memoizedState:null}else i=qe.next;var a=yt===null?Ae.memoizedState:yt.next;if(a!==null)yt=a,qe=i;else{if(i===null)throw Ae.alternate===null?Error(r(467)):Error(r(310));qe=i,i={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},yt===null?Ae.memoizedState=yt=i:yt=yt.next=i}return yt}function of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(i){var a=Ys;return Ys+=1,Ca===null&&(Ca=[]),i=tx(Ca,i,a),a=Ae,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?Gx:qx),i}function Xo(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xs(i);if(i.$$typeof===j)return $t(i)}throw Error(r(438,String(i)))}function uf(i){var a=null,u=Ae.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=Ae.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=of(),Ae.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(i),f=0;f<i;f++)u[f]=D;return a.index++,u}function Ti(i,a){return typeof a=="function"?a(i):a}function Wo(i){var a=xt();return cf(a,qe,i)}function cf(i,a,u){var f=i.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var y=i.baseQueue,b=f.pending;if(b!==null){if(y!==null){var T=y.next;y.next=b.next,b.next=T}a.baseQueue=y=b,f.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{a=y.next;var L=T=null,B=null,J=a,re=!1;do{var le=J.lane&-536870913;if(le!==J.lane?(ze&le)===le:(Xi&le)===le){var ee=J.revertLane;if(ee===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),le===wa&&(re=!0);else if((Xi&ee)===ee){J=J.next,ee===wa&&(re=!0);continue}else le={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(L=B=le,T=b):B=B.next=le,Ae.lanes|=ee,nr|=ee;le=J.action,Or&&u(b,le),b=J.hasEagerState?J.eagerState:u(b,le)}else ee={lane:le,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},B===null?(L=B=ee,T=b):B=B.next=ee,Ae.lanes|=le,nr|=le;J=J.next}while(J!==null&&J!==a);if(B===null?T=b:B.next=L,!pn(b,i.memoizedState)&&(At=!0,re&&(u=Sa,u!==null)))throw u;i.memoizedState=b,i.baseState=T,i.baseQueue=B,f.lastRenderedState=b}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function df(i){var a=xt(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var f=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var T=y=y.next;do b=i(b,T.action),T=T.next;while(T!==y);pn(b,a.memoizedState)||(At=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function ux(i,a,u){var f=Ae,y=xt(),b=Be;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var T=!pn((qe||y).memoizedState,u);T&&(y.memoizedState=u,At=!0),y=y.queue;var L=fx.bind(null,f,y,i);if(Ws(2048,8,L,[i]),y.getSnapshot!==a||T||yt!==null&&yt.memoizedState.tag&1){if(f.flags|=2048,ka(9,Qo(),dx.bind(null,f,y,u,a),null),We===null)throw Error(r(349));b||(Xi&124)!==0||cx(f,a,u)}return u}function cx(i,a,u){i.flags|=16384,i={getSnapshot:a,value:u},a=Ae.updateQueue,a===null?(a=of(),Ae.updateQueue=a,a.stores=[i]):(u=a.stores,u===null?a.stores=[i]:u.push(i))}function dx(i,a,u,f){a.value=u,a.getSnapshot=f,hx(a)&&mx(i)}function fx(i,a,u){return u(function(){hx(a)&&mx(i)})}function hx(i){var a=i.getSnapshot;i=i.value;try{var u=a();return!pn(i,u)}catch(f){return!0}}function mx(i){var a=ya(i,2);a!==null&&wn(a,i,2)}function ff(i){var a=nn();if(typeof i=="function"){var u=i;if(i=u(),Or){ye(!0);try{u()}finally{ye(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:i},a}function px(i,a,u,f){return i.baseState=u,cf(i,qe,typeof f=="function"?f:Ti)}function kT(i,a,u,f,y){if(Jo(i))throw Error(r(485));if(i=a.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){b.listeners.push(T)}};$.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,gx(a,b)):(b.next=u.next,a.pending=u.next=b)}}function gx(i,a){var u=a.action,f=a.payload,y=i.state;if(a.isTransition){var b=$.T,T={};$.T=T;try{var L=u(y,f),B=$.S;B!==null&&B(T,L),yx(i,a,L)}catch(J){hf(i,a,J)}finally{$.T=b}}else try{b=u(y,f),yx(i,a,b)}catch(J){hf(i,a,J)}}function yx(i,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){xx(i,a,f)},function(f){return hf(i,a,f)}):xx(i,a,u)}function xx(i,a,u){a.status="fulfilled",a.value=u,bx(a),i.state=u,a=i.pending,a!==null&&(u=a.next,u===a?i.pending=null:(u=u.next,a.next=u,gx(i,u)))}function hf(i,a,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,bx(a),a=a.next;while(a!==f)}i.action=null}function bx(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function vx(i,a){return a}function wx(i,a){if(Be){var u=We.formState;if(u!==null){e:{var f=Ae;if(Be){if(st){t:{for(var y=st,b=ri;y.nodeType!==8;){if(!b){y=null;break t}if(y=Yn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){st=Yn(y.nextSibling),f=y.data==="F!";break e}}Mr(f)}f=!1}f&&(a=u[0])}}return u=nn(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vx,lastRenderedState:a},u.queue=f,u=Ux.bind(null,Ae,f),f.dispatch=u,f=ff(!1),b=xf.bind(null,Ae,!1,f.queue),f=nn(),y={state:a,dispatch:null,action:i,pending:null},f.queue=y,u=kT.bind(null,Ae,y,b,u),y.dispatch=u,f.memoizedState=i,[a,u,!1]}function Sx(i){var a=xt();return _x(a,qe,i)}function _x(i,a,u){if(a=cf(i,a,vx)[0],i=Wo(Ti)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Xs(a)}catch(T){throw T===Gs?qo:T}else f=a;a=xt();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&(Ae.flags|=2048,ka(9,Qo(),TT.bind(null,y,u),null)),[f,b,i]}function TT(i,a){i.action=a}function jx(i){var a=xt(),u=qe;if(u!==null)return _x(a,u,i);xt(),a=a.memoizedState,u=xt();var f=u.queue.dispatch;return u.memoizedState=i,[a,f,!1]}function ka(i,a,u,f){return i={tag:i,create:u,deps:f,inst:a,next:null},a=Ae.updateQueue,a===null&&(a=of(),Ae.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,a.lastEffect=i),i}function Qo(){return{destroy:void 0,resource:void 0}}function Cx(){return xt().memoizedState}function Zo(i,a,u,f){var y=nn();f=f===void 0?null:f,Ae.flags|=i,y.memoizedState=ka(1|a,Qo(),u,f)}function Ws(i,a,u,f){var y=xt();f=f===void 0?null:f;var b=y.memoizedState.inst;qe!==null&&f!==null&&nf(f,qe.memoizedState.deps)?y.memoizedState=ka(a,b,u,f):(Ae.flags|=i,y.memoizedState=ka(1|a,b,u,f))}function kx(i,a){Zo(8390656,8,i,a)}function Tx(i,a){Ws(2048,8,i,a)}function Ax(i,a){return Ws(4,2,i,a)}function Ex(i,a){return Ws(4,4,i,a)}function Mx(i,a){if(typeof a=="function"){i=i();var u=a(i);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Rx(i,a,u){u=u!=null?u.concat([i]):null,Ws(4,4,Mx.bind(null,a,i),u)}function mf(){}function Lx(i,a){var u=xt();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&nf(a,f[1])?f[0]:(u.memoizedState=[i,a],i)}function Dx(i,a){var u=xt();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&nf(a,f[1]))return f[0];if(f=i(),Or){ye(!0);try{i()}finally{ye(!1)}}return u.memoizedState=[f,a],f}function pf(i,a,u){return u===void 0||(Xi&1073741824)!==0?i.memoizedState=a:(i.memoizedState=u,i=Nb(),Ae.lanes|=i,nr|=i,u)}function Ox(i,a,u,f){return pn(u,a)?u:_a.current!==null?(i=pf(i,u,f),pn(i,a)||(At=!0),i):(Xi&42)===0?(At=!0,i.memoizedState=u):(i=Nb(),Ae.lanes|=i,nr|=i,a)}function zx(i,a,u,f,y){var b=U.p;U.p=b!==0&&8>b?b:8;var T=$.T,L={};$.T=L,xf(i,!1,a,u);try{var B=y(),J=$.S;if(J!==null&&J(L,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var re=_T(B,f);Qs(i,a,re,vn(i))}else Qs(i,a,f,vn(i))}catch(le){Qs(i,a,{then:function(){},status:"rejected",reason:le},vn())}finally{U.p=b,$.T=T}}function AT(){}function gf(i,a,u,f){if(i.tag!==5)throw Error(r(476));var y=Nx(i).queue;zx(i,y,a,W,u===null?AT:function(){return Ix(i),u(f)})}function Nx(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:W},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:u},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Ix(i){var a=Nx(i).next.queue;Qs(i,a,{},vn())}function yf(){return $t(pl)}function Px(){return xt().memoizedState}function Bx(){return xt().memoizedState}function ET(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var u=vn();i=Ki(u);var f=Yi(a,i,u);f!==null&&(wn(f,a,u),Fs(f,a,u)),a={cache:Hd()},i.payload=a;return}a=a.return}}function MT(i,a,u){var f=vn();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Jo(i)?$x(a,u):(u=Nd(i,a,u,f),u!==null&&(wn(u,i,f),Vx(u,a,f)))}function Ux(i,a,u){var f=vn();Qs(i,a,u,f)}function Qs(i,a,u,f){var y={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Jo(i))$x(a,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var T=a.lastRenderedState,L=b(T,u);if(y.hasEagerState=!0,y.eagerState=L,pn(L,T))return No(i,a,y,0),We===null&&zo(),!1}catch(B){}finally{}if(u=Nd(i,a,y,f),u!==null)return wn(u,i,f),Vx(u,a,f),!0}return!1}function xf(i,a,u,f){if(f={lane:2,revertLane:Wf(),action:f,hasEagerState:!1,eagerState:null,next:null},Jo(i)){if(a)throw Error(r(479))}else a=Nd(i,u,f,2),a!==null&&wn(a,i,2)}function Jo(i){var a=i.alternate;return i===Ae||a!==null&&a===Ae}function $x(i,a){ja=Ko=!0;var u=i.pending;u===null?a.next=a:(a.next=u.next,u.next=a),i.pending=a}function Vx(i,a,u){if((u&4194048)!==0){var f=a.lanes;f&=i.pendingLanes,u|=f,a.lanes=u,Wg(i,u)}}var eu={readContext:$t,use:Xo,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},Gx={readContext:$t,use:Xo,useCallback:function(i,a){return nn().memoizedState=[i,a===void 0?null:a],i},useContext:$t,useEffect:kx,useImperativeHandle:function(i,a,u){u=u!=null?u.concat([i]):null,Zo(4194308,4,Mx.bind(null,a,i),u)},useLayoutEffect:function(i,a){return Zo(4194308,4,i,a)},useInsertionEffect:function(i,a){Zo(4,2,i,a)},useMemo:function(i,a){var u=nn();a=a===void 0?null:a;var f=i();if(Or){ye(!0);try{i()}finally{ye(!1)}}return u.memoizedState=[f,a],f},useReducer:function(i,a,u){var f=nn();if(u!==void 0){var y=u(a);if(Or){ye(!0);try{u(a)}finally{ye(!1)}}}else y=a;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=MT.bind(null,Ae,i),[f.memoizedState,i]},useRef:function(i){var a=nn();return i={current:i},a.memoizedState=i},useState:function(i){i=ff(i);var a=i.queue,u=Ux.bind(null,Ae,a);return a.dispatch=u,[i.memoizedState,u]},useDebugValue:mf,useDeferredValue:function(i,a){var u=nn();return pf(u,i,a)},useTransition:function(){var i=ff(!1);return i=zx.bind(null,Ae,i.queue,!0,!1),nn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,u){var f=Ae,y=nn();if(Be){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),We===null)throw Error(r(349));(ze&124)!==0||cx(f,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,kx(fx.bind(null,f,b,i),[i]),f.flags|=2048,ka(9,Qo(),dx.bind(null,f,b,u,a),null),u},useId:function(){var i=nn(),a=We.identifierPrefix;if(Be){var u=ji,f=_i;u=(f&~(1<<32-we(f)-1)).toString(32)+u,a="«"+a+"R"+u,u=Yo++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=jT++,a="«"+a+"r"+u.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:yf,useFormState:wx,useActionState:wx,useOptimistic:function(i){var a=nn();a.memoizedState=a.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=xf.bind(null,Ae,!0,u),u.dispatch=a,[i,a]},useMemoCache:uf,useCacheRefresh:function(){return nn().memoizedState=ET.bind(null,Ae)}},qx={readContext:$t,use:Xo,useCallback:Lx,useContext:$t,useEffect:Tx,useImperativeHandle:Rx,useInsertionEffect:Ax,useLayoutEffect:Ex,useMemo:Dx,useReducer:Wo,useRef:Cx,useState:function(){return Wo(Ti)},useDebugValue:mf,useDeferredValue:function(i,a){var u=xt();return Ox(u,qe.memoizedState,i,a)},useTransition:function(){var i=Wo(Ti)[0],a=xt().memoizedState;return[typeof i=="boolean"?i:Xs(i),a]},useSyncExternalStore:ux,useId:Px,useHostTransitionStatus:yf,useFormState:Sx,useActionState:Sx,useOptimistic:function(i,a){var u=xt();return px(u,qe,i,a)},useMemoCache:uf,useCacheRefresh:Bx},RT={readContext:$t,use:Xo,useCallback:Lx,useContext:$t,useEffect:Tx,useImperativeHandle:Rx,useInsertionEffect:Ax,useLayoutEffect:Ex,useMemo:Dx,useReducer:df,useRef:Cx,useState:function(){return df(Ti)},useDebugValue:mf,useDeferredValue:function(i,a){var u=xt();return qe===null?pf(u,i,a):Ox(u,qe.memoizedState,i,a)},useTransition:function(){var i=df(Ti)[0],a=xt().memoizedState;return[typeof i=="boolean"?i:Xs(i),a]},useSyncExternalStore:ux,useId:Px,useHostTransitionStatus:yf,useFormState:jx,useActionState:jx,useOptimistic:function(i,a){var u=xt();return qe!==null?px(u,qe,i,a):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:uf,useCacheRefresh:Bx},Ta=null,Zs=0;function tu(i){var a=Zs;return Zs+=1,Ta===null&&(Ta=[]),tx(Ta,i,a)}function Js(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function nu(i,a){throw a.$$typeof===p?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function Fx(i){var a=i._init;return a(i._payload)}function Hx(i){function a(X,V){if(i){var Q=X.deletions;Q===null?(X.deletions=[V],X.flags|=16):Q.push(V)}}function u(X,V){if(!i)return null;for(;V!==null;)a(X,V),V=V.sibling;return null}function f(X){for(var V=new Map;X!==null;)X.key!==null?V.set(X.key,X):V.set(X.index,X),X=X.sibling;return V}function y(X,V){return X=Si(X,V),X.index=0,X.sibling=null,X}function b(X,V,Q){return X.index=Q,i?(Q=X.alternate,Q!==null?(Q=Q.index,Q<V?(X.flags|=67108866,V):Q):(X.flags|=67108866,V)):(X.flags|=1048576,V)}function T(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function L(X,V,Q,se){return V===null||V.tag!==6?(V=Pd(Q,X.mode,se),V.return=X,V):(V=y(V,Q),V.return=X,V)}function B(X,V,Q,se){var me=Q.type;return me===w?re(X,V,Q.props.children,se,Q.key):V!==null&&(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&Fx(me)===V.type)?(V=y(V,Q.props),Js(V,Q),V.return=X,V):(V=Po(Q.type,Q.key,Q.props,null,X.mode,se),Js(V,Q),V.return=X,V)}function J(X,V,Q,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==Q.containerInfo||V.stateNode.implementation!==Q.implementation?(V=Bd(Q,X.mode,se),V.return=X,V):(V=y(V,Q.children||[]),V.return=X,V)}function re(X,V,Q,se,me){return V===null||V.tag!==7?(V=kr(Q,X.mode,se,me),V.return=X,V):(V=y(V,Q),V.return=X,V)}function le(X,V,Q){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Pd(""+V,X.mode,Q),V.return=X,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case x:return Q=Po(V.type,V.key,V.props,null,X.mode,Q),Js(Q,V),Q.return=X,Q;case v:return V=Bd(V,X.mode,Q),V.return=X,V;case N:var se=V._init;return V=se(V._payload),le(X,V,Q)}if(ne(V)||G(V))return V=kr(V,X.mode,Q,null),V.return=X,V;if(typeof V.then=="function")return le(X,tu(V),Q);if(V.$$typeof===j)return le(X,Vo(X,V),Q);nu(X,V)}return null}function ee(X,V,Q,se){var me=V!==null?V.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return me!==null?null:L(X,V,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:return Q.key===me?B(X,V,Q,se):null;case v:return Q.key===me?J(X,V,Q,se):null;case N:return me=Q._init,Q=me(Q._payload),ee(X,V,Q,se)}if(ne(Q)||G(Q))return me!==null?null:re(X,V,Q,se,null);if(typeof Q.then=="function")return ee(X,V,tu(Q),se);if(Q.$$typeof===j)return ee(X,V,Vo(X,Q),se);nu(X,Q)}return null}function te(X,V,Q,se,me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return X=X.get(Q)||null,L(V,X,""+se,me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return X=X.get(se.key===null?Q:se.key)||null,B(V,X,se,me);case v:return X=X.get(se.key===null?Q:se.key)||null,J(V,X,se,me);case N:var Me=se._init;return se=Me(se._payload),te(X,V,Q,se,me)}if(ne(se)||G(se))return X=X.get(Q)||null,re(V,X,se,me,null);if(typeof se.then=="function")return te(X,V,Q,tu(se),me);if(se.$$typeof===j)return te(X,V,Q,Vo(V,se),me);nu(V,se)}return null}function _e(X,V,Q,se){for(var me=null,Me=null,pe=V,ve=V=0,Mt=null;pe!==null&&ve<Q.length;ve++){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var Ie=ee(X,pe,Q[ve],se);if(Ie===null){pe===null&&(pe=Mt);break}i&&pe&&Ie.alternate===null&&a(X,pe),V=b(Ie,V,ve),Me===null?me=Ie:Me.sibling=Ie,Me=Ie,pe=Mt}if(ve===Q.length)return u(X,pe),Be&&Ar(X,ve),me;if(pe===null){for(;ve<Q.length;ve++)pe=le(X,Q[ve],se),pe!==null&&(V=b(pe,V,ve),Me===null?me=pe:Me.sibling=pe,Me=pe);return Be&&Ar(X,ve),me}for(pe=f(pe);ve<Q.length;ve++)Mt=te(pe,X,ve,Q[ve],se),Mt!==null&&(i&&Mt.alternate!==null&&pe.delete(Mt.key===null?ve:Mt.key),V=b(Mt,V,ve),Me===null?me=Mt:Me.sibling=Mt,Me=Mt);return i&&pe.forEach(function(dr){return a(X,dr)}),Be&&Ar(X,ve),me}function be(X,V,Q,se){if(Q==null)throw Error(r(151));for(var me=null,Me=null,pe=V,ve=V=0,Mt=null,Ie=Q.next();pe!==null&&!Ie.done;ve++,Ie=Q.next()){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var dr=ee(X,pe,Ie.value,se);if(dr===null){pe===null&&(pe=Mt);break}i&&pe&&dr.alternate===null&&a(X,pe),V=b(dr,V,ve),Me===null?me=dr:Me.sibling=dr,Me=dr,pe=Mt}if(Ie.done)return u(X,pe),Be&&Ar(X,ve),me;if(pe===null){for(;!Ie.done;ve++,Ie=Q.next())Ie=le(X,Ie.value,se),Ie!==null&&(V=b(Ie,V,ve),Me===null?me=Ie:Me.sibling=Ie,Me=Ie);return Be&&Ar(X,ve),me}for(pe=f(pe);!Ie.done;ve++,Ie=Q.next())Ie=te(pe,X,ve,Ie.value,se),Ie!==null&&(i&&Ie.alternate!==null&&pe.delete(Ie.key===null?ve:Ie.key),V=b(Ie,V,ve),Me===null?me=Ie:Me.sibling=Ie,Me=Ie);return i&&pe.forEach(function(LA){return a(X,LA)}),Be&&Ar(X,ve),me}function He(X,V,Q,se){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case x:e:{for(var me=Q.key;V!==null;){if(V.key===me){if(me=Q.type,me===w){if(V.tag===7){u(X,V.sibling),se=y(V,Q.props.children),se.return=X,X=se;break e}}else if(V.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===N&&Fx(me)===V.type){u(X,V.sibling),se=y(V,Q.props),Js(se,Q),se.return=X,X=se;break e}u(X,V);break}else a(X,V);V=V.sibling}Q.type===w?(se=kr(Q.props.children,X.mode,se,Q.key),se.return=X,X=se):(se=Po(Q.type,Q.key,Q.props,null,X.mode,se),Js(se,Q),se.return=X,X=se)}return T(X);case v:e:{for(me=Q.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===Q.containerInfo&&V.stateNode.implementation===Q.implementation){u(X,V.sibling),se=y(V,Q.children||[]),se.return=X,X=se;break e}else{u(X,V);break}else a(X,V);V=V.sibling}se=Bd(Q,X.mode,se),se.return=X,X=se}return T(X);case N:return me=Q._init,Q=me(Q._payload),He(X,V,Q,se)}if(ne(Q))return _e(X,V,Q,se);if(G(Q)){if(me=G(Q),typeof me!="function")throw Error(r(150));return Q=me.call(Q),be(X,V,Q,se)}if(typeof Q.then=="function")return He(X,V,tu(Q),se);if(Q.$$typeof===j)return He(X,V,Vo(X,Q),se);nu(X,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,V!==null&&V.tag===6?(u(X,V.sibling),se=y(V,Q),se.return=X,X=se):(u(X,V),se=Pd(Q,X.mode,se),se.return=X,X=se),T(X)):u(X,V)}return function(X,V,Q,se){try{Zs=0;var me=He(X,V,Q,se);return Ta=null,me}catch(pe){if(pe===Gs||pe===qo)throw pe;var Me=gn(29,pe,null,X.mode);return Me.lanes=se,Me.return=X,Me}finally{}}}var Aa=Hx(!0),Kx=Hx(!1),In=ce(null),ai=null;function Wi(i){var a=i.alternate;I(_t,_t.current&1),I(In,i),ai===null&&(a===null||_a.current!==null||a.memoizedState!==null)&&(ai=i)}function Yx(i){if(i.tag===22){if(I(_t,_t.current),I(In,i),ai===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(ai=i)}}else Qi()}function Qi(){I(_t,_t.current),I(In,In.current)}function Ai(i){fe(In),ai===i&&(ai=null),fe(_t)}var _t=ce(0);function iu(i){for(var a=i;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||oh(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function bf(i,a,u,f){a=i.memoizedState,u=u(f,a),u=u==null?a:g({},a,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var vf={enqueueSetState:function(i,a,u){i=i._reactInternals;var f=vn(),y=Ki(f);y.payload=a,u!=null&&(y.callback=u),a=Yi(i,y,f),a!==null&&(wn(a,i,f),Fs(a,i,f))},enqueueReplaceState:function(i,a,u){i=i._reactInternals;var f=vn(),y=Ki(f);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=Yi(i,y,f),a!==null&&(wn(a,i,f),Fs(a,i,f))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var u=vn(),f=Ki(u);f.tag=2,a!=null&&(f.callback=a),a=Yi(i,f,u),a!==null&&(wn(a,i,u),Fs(a,i,u))}};function Xx(i,a,u,f,y,b,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,T):a.prototype&&a.prototype.isPureReactComponent?!zs(u,f)||!zs(y,b):!0}function Wx(i,a,u,f){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==i&&vf.enqueueReplaceState(a,a.state,null)}function zr(i,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(i=i.defaultProps){u===a&&(u=g({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}var ru=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Qx(i){ru(i)}function Zx(i){console.error(i)}function Jx(i){ru(i)}function au(i,a){try{var u=i.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function eb(i,a,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function wf(i,a,u){return u=Ki(u),u.tag=3,u.payload={element:null},u.callback=function(){au(i,a)},u}function tb(i){return i=Ki(i),i.tag=3,i}function nb(i,a,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;i.payload=function(){return y(b)},i.callback=function(){eb(a,u,f)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){eb(a,u,f),typeof y!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var L=f.stack;this.componentDidCatch(f.value,{componentStack:L!==null?L:""})})}function LT(i,a,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Us(a,u,y,!0),u=In.current,u!==null){switch(u.tag){case 13:return ai===null?Ff():u.alternate===null&&lt===0&&(lt=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Xd?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),Kf(i,f,y)),!1;case 22:return u.flags|=65536,f===Xd?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),Kf(i,f,y)),!1}throw Error(r(435,u.tag))}return Kf(i,f,y),Ff(),!1}if(Be)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,f!==Vd&&(i=Error(r(422),{cause:f}),Bs(Dn(i,u)))):(f!==Vd&&(a=Error(r(423),{cause:f}),Bs(Dn(a,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=Dn(f,u),y=wf(i.stateNode,f,y),Zd(i,y),lt!==4&&(lt=2)),!1;var b=Error(r(520),{cause:f});if(b=Dn(b,u),sl===null?sl=[b]:sl.push(b),lt!==4&&(lt=2),a===null)return!0;f=Dn(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=wf(u.stateNode,f,i),Zd(u,i),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ir===null||!ir.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=tb(y),nb(y,i,u,f),Zd(u,y),!1}u=u.return}while(u!==null);return!1}var ib=Error(r(461)),At=!1;function Dt(i,a,u,f){a.child=i===null?Kx(a,null,u,f):Aa(a,i.child,u,f)}function rb(i,a,u,f,y){u=u.render;var b=a.ref;if("ref"in f){var T={};for(var L in f)L!=="ref"&&(T[L]=f[L])}else T=f;return Lr(a),f=rf(i,a,u,T,b,y),L=af(),i!==null&&!At?(sf(i,a,y),Ei(i,a,y)):(Be&&L&&Ud(a),a.flags|=1,Dt(i,a,f,y),a.child)}function ab(i,a,u,f,y){if(i===null){var b=u.type;return typeof b=="function"&&!Id(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,sb(i,a,b,f,y)):(i=Po(u.type,null,f,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(b=i.child,!Ef(i,y)){var T=b.memoizedProps;if(u=u.compare,u=u!==null?u:zs,u(T,f)&&i.ref===a.ref)return Ei(i,a,y)}return a.flags|=1,i=Si(b,f),i.ref=a.ref,i.return=a,a.child=i}function sb(i,a,u,f,y){if(i!==null){var b=i.memoizedProps;if(zs(b,f)&&i.ref===a.ref)if(At=!1,a.pendingProps=f=b,Ef(i,y))(i.flags&131072)!==0&&(At=!0);else return a.lanes=i.lanes,Ei(i,a,y)}return Sf(i,a,u,f,y)}function lb(i,a,u){var f=a.pendingProps,y=f.children,b=i!==null?i.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,i!==null){for(y=a.child=i.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return ob(i,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Go(a,b!==null?b.cachePool:null),b!==null?sx(a,b):ef(),Yx(a);else return a.lanes=a.childLanes=536870912,ob(i,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(Go(a,b.cachePool),sx(a,b),Qi(),a.memoizedState=null):(i!==null&&Go(a,null),ef(),Qi());return Dt(i,a,y,u),a.child}function ob(i,a,u,f){var y=Yd();return y=y===null?null:{parent:St._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},i!==null&&Go(a,null),ef(),Yx(a),i!==null&&Us(i,a,f,!0),null}function su(i,a){var u=a.ref;if(u===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(a.flags|=4194816)}}function Sf(i,a,u,f,y){return Lr(a),u=rf(i,a,u,f,void 0,y),f=af(),i!==null&&!At?(sf(i,a,y),Ei(i,a,y)):(Be&&f&&Ud(a),a.flags|=1,Dt(i,a,u,y),a.child)}function ub(i,a,u,f,y,b){return Lr(a),a.updateQueue=null,u=ox(a,f,u,y),lx(i),f=af(),i!==null&&!At?(sf(i,a,b),Ei(i,a,b)):(Be&&f&&Ud(a),a.flags|=1,Dt(i,a,u,b),a.child)}function cb(i,a,u,f,y){if(Lr(a),a.stateNode===null){var b=xa,T=u.contextType;typeof T=="object"&&T!==null&&(b=$t(T)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=vf,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},Wd(a),T=u.contextType,b.context=typeof T=="object"&&T!==null?$t(T):xa,b.state=a.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(bf(a,u,T,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(T=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),T!==b.state&&vf.enqueueReplaceState(b,b.state,null),Ks(a,f,b,y),Hs(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(i===null){b=a.stateNode;var L=a.memoizedProps,B=zr(u,L);b.props=B;var J=b.context,re=u.contextType;T=xa,typeof re=="object"&&re!==null&&(T=$t(re));var le=u.getDerivedStateFromProps;re=typeof le=="function"||typeof b.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L||J!==T)&&Wx(a,b,f,T),Hi=!1;var ee=a.memoizedState;b.state=ee,Ks(a,f,b,y),Hs(),J=a.memoizedState,L||ee!==J||Hi?(typeof le=="function"&&(bf(a,u,le,f),J=a.memoizedState),(B=Hi||Xx(a,u,B,f,ee,J,T))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=J),b.props=f,b.state=J,b.context=T,f=B):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,Qd(i,a),T=a.memoizedProps,re=zr(u,T),b.props=re,le=a.pendingProps,ee=b.context,J=u.contextType,B=xa,typeof J=="object"&&J!==null&&(B=$t(J)),L=u.getDerivedStateFromProps,(J=typeof L=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==le||ee!==B)&&Wx(a,b,f,B),Hi=!1,ee=a.memoizedState,b.state=ee,Ks(a,f,b,y),Hs();var te=a.memoizedState;T!==le||ee!==te||Hi||i!==null&&i.dependencies!==null&&$o(i.dependencies)?(typeof L=="function"&&(bf(a,u,L,f),te=a.memoizedState),(re=Hi||Xx(a,u,re,f,ee,te,B)||i!==null&&i.dependencies!==null&&$o(i.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,te,B),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,te,B)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=te),b.props=f,b.state=te,b.context=B,f=re):(typeof b.componentDidUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),f=!1)}return b=f,su(i,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,i!==null&&f?(a.child=Aa(a,i.child,null,y),a.child=Aa(a,null,u,y)):Dt(i,a,u,y),a.memoizedState=b.state,i=a.child):i=Ei(i,a,y),i}function db(i,a,u,f){return Ps(),a.flags|=256,Dt(i,a,u,f),a.child}var _f={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(i){return{baseLanes:i,cachePool:Zy()}}function Cf(i,a,u){return i=i!==null?i.childLanes&~u:0,a&&(i|=Pn),i}function fb(i,a,u){var f=a.pendingProps,y=!1,b=(a.flags&128)!==0,T;if((T=b)||(T=i!==null&&i.memoizedState===null?!1:(_t.current&2)!==0),T&&(y=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Be){if(y?Wi(a):Qi(),Be){var L=st,B;if(B=L){e:{for(B=L,L=ri;B.nodeType!==8;){if(!L){L=null;break e}if(B=Yn(B.nextSibling),B===null){L=null;break e}}L=B}L!==null?(a.memoizedState={dehydrated:L,treeContext:Tr!==null?{id:_i,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},B=gn(18,null,null,0),B.stateNode=L,B.return=a,a.child=B,Yt=a,st=null,B=!0):B=!1}B||Mr(a)}if(L=a.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return oh(L)?a.lanes=32:a.lanes=536870912,null;Ai(a)}return L=f.children,f=f.fallback,y?(Qi(),y=a.mode,L=lu({mode:"hidden",children:L},y),f=kr(f,y,u,null),L.return=a,f.return=a,L.sibling=f,a.child=L,y=a.child,y.memoizedState=jf(u),y.childLanes=Cf(i,T,u),a.memoizedState=_f,f):(Wi(a),kf(a,L))}if(B=i.memoizedState,B!==null&&(L=B.dehydrated,L!==null)){if(b)a.flags&256?(Wi(a),a.flags&=-257,a=Tf(i,a,u)):a.memoizedState!==null?(Qi(),a.child=i.child,a.flags|=128,a=null):(Qi(),y=f.fallback,L=a.mode,f=lu({mode:"visible",children:f.children},L),y=kr(y,L,u,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,Aa(a,i.child,null,u),f=a.child,f.memoizedState=jf(u),f.childLanes=Cf(i,T,u),a.memoizedState=_f,a=y);else if(Wi(a),oh(L)){if(T=L.nextSibling&&L.nextSibling.dataset,T)var J=T.dgst;T=J,f=Error(r(419)),f.stack="",f.digest=T,Bs({value:f,source:null,stack:null}),a=Tf(i,a,u)}else if(At||Us(i,a,u,!1),T=(u&i.childLanes)!==0,At||T){if(T=We,T!==null&&(f=u&-u,f=(f&42)!==0?1:od(f),f=(f&(T.suspendedLanes|u))!==0?0:f,f!==0&&f!==B.retryLane))throw B.retryLane=f,ya(i,f),wn(T,i,f),ib;L.data==="$?"||Ff(),a=Tf(i,a,u)}else L.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=B.treeContext,st=Yn(L.nextSibling),Yt=a,Be=!0,Er=null,ri=!1,i!==null&&(zn[Nn++]=_i,zn[Nn++]=ji,zn[Nn++]=Tr,_i=i.id,ji=i.overflow,Tr=a),a=kf(a,f.children),a.flags|=4096);return a}return y?(Qi(),y=f.fallback,L=a.mode,B=i.child,J=B.sibling,f=Si(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,J!==null?y=Si(J,y):(y=kr(y,L,u,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,L=i.child.memoizedState,L===null?L=jf(u):(B=L.cachePool,B!==null?(J=St._currentValue,B=B.parent!==J?{parent:J,pool:J}:B):B=Zy(),L={baseLanes:L.baseLanes|u,cachePool:B}),y.memoizedState=L,y.childLanes=Cf(i,T,u),a.memoizedState=_f,f):(Wi(a),u=i.child,i=u.sibling,u=Si(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=u,a.memoizedState=null,u)}function kf(i,a){return a=lu({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function lu(i,a){return i=gn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Tf(i,a,u){return Aa(a,i.child,null,u),i=kf(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function hb(i,a,u){i.lanes|=a;var f=i.alternate;f!==null&&(f.lanes|=a),qd(i.return,a,u)}function Af(i,a,u,f,y){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=y)}function mb(i,a,u){var f=a.pendingProps,y=f.revealOrder,b=f.tail;if(Dt(i,a,f.children,u),f=_t.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hb(i,u,a);else if(i.tag===19)hb(i,u,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}switch(I(_t,f),y){case"forwards":for(u=a.child,y=null;u!==null;)i=u.alternate,i!==null&&iu(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Af(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&iu(i)===null){a.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}Af(a,!0,u,null,b);break;case"together":Af(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ei(i,a,u){if(i!==null&&(a.dependencies=i.dependencies),nr|=a.lanes,(u&a.childLanes)===0)if(i!==null){if(Us(i,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,u=Si(i,i.pendingProps),a.child=u,u.return=a;i.sibling!==null;)i=i.sibling,u=u.sibling=Si(i,i.pendingProps),u.return=a;u.sibling=null}return a.child}function Ef(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&$o(i)))}function DT(i,a,u){switch(a.tag){case 3:Oe(a,a.stateNode.containerInfo),Fi(a,St,i.memoizedState.cache),Ps();break;case 27:case 5:En(a);break;case 4:Oe(a,a.stateNode.containerInfo);break;case 10:Fi(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Wi(a),a.flags|=128,null):(u&a.child.childLanes)!==0?fb(i,a,u):(Wi(a),i=Ei(i,a,u),i!==null?i.sibling:null);Wi(a);break;case 19:var y=(i.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Us(i,a,u,!1),f=(u&a.childLanes)!==0),y){if(f)return mb(i,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),I(_t,_t.current),f)break;return null;case 22:case 23:return a.lanes=0,lb(i,a,u);case 24:Fi(a,St,i.memoizedState.cache)}return Ei(i,a,u)}function pb(i,a,u){if(i!==null)if(i.memoizedProps!==a.pendingProps)At=!0;else{if(!Ef(i,u)&&(a.flags&128)===0)return At=!1,DT(i,a,u);At=(i.flags&131072)!==0}else At=!1,Be&&(a.flags&1048576)!==0&&Fy(a,Uo,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var f=a.elementType,y=f._init;if(f=y(f._payload),a.type=f,typeof f=="function")Id(f)?(i=zr(f,i),a.tag=1,a=cb(null,a,f,i,u)):(a.tag=0,a=Sf(null,a,f,i,u));else{if(f!=null){if(y=f.$$typeof,y===R){a.tag=11,a=rb(null,a,f,i,u);break e}else if(y===O){a.tag=14,a=ab(null,a,f,i,u);break e}}throw a=F(f)||f,Error(r(306,a,""))}}return a;case 0:return Sf(i,a,a.type,a.pendingProps,u);case 1:return f=a.type,y=zr(f,a.pendingProps),cb(i,a,f,y,u);case 3:e:{if(Oe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;y=b.element,Qd(i,a),Ks(a,f,null,u);var T=a.memoizedState;if(f=T.cache,Fi(a,St,f),f!==b.cache&&Fd(a,[St],u,!0),Hs(),f=T.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=db(i,a,f,u);break e}else if(f!==y){y=Dn(Error(r(424)),a),Bs(y),a=db(i,a,f,u);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(st=Yn(i.firstChild),Yt=a,Be=!0,Er=null,ri=!0,u=Kx(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ps(),f===y){a=Ei(i,a,u);break e}Dt(i,a,f,u)}a=a.child}return a;case 26:return su(i,a),i===null?(u=bv(a.type,null,a.pendingProps,null))?a.memoizedState=u:Be||(u=a.type,i=a.pendingProps,f=wu(Te.current).createElement(u),f[Ut]=a,f[en]=i,zt(f,u,i),Tt(f),a.stateNode=f):a.memoizedState=bv(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return En(a),i===null&&Be&&(f=a.stateNode=gv(a.type,a.pendingProps,Te.current),Yt=a,ri=!0,y=st,sr(a.type)?(uh=y,st=Yn(f.firstChild)):st=y),Dt(i,a,a.pendingProps.children,u),su(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Be&&((y=f=st)&&(f=lA(f,a.type,a.pendingProps,ri),f!==null?(a.stateNode=f,Yt=a,st=Yn(f.firstChild),ri=!1,y=!0):y=!1),y||Mr(a)),En(a),y=a.type,b=a.pendingProps,T=i!==null?i.memoizedProps:null,f=b.children,ah(y,b)?f=null:T!==null&&ah(y,T)&&(a.flags|=32),a.memoizedState!==null&&(y=rf(i,a,CT,null,null,u),pl._currentValue=y),su(i,a),Dt(i,a,f,u),a.child;case 6:return i===null&&Be&&((i=u=st)&&(u=oA(u,a.pendingProps,ri),u!==null?(a.stateNode=u,Yt=a,st=null,i=!0):i=!1),i||Mr(a)),null;case 13:return fb(i,a,u);case 4:return Oe(a,a.stateNode.containerInfo),f=a.pendingProps,i===null?a.child=Aa(a,null,f,u):Dt(i,a,f,u),a.child;case 11:return rb(i,a,a.type,a.pendingProps,u);case 7:return Dt(i,a,a.pendingProps,u),a.child;case 8:return Dt(i,a,a.pendingProps.children,u),a.child;case 12:return Dt(i,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Fi(a,a.type,f.value),Dt(i,a,f.children,u),a.child;case 9:return y=a.type._context,f=a.pendingProps.children,Lr(a),y=$t(y),f=f(y),a.flags|=1,Dt(i,a,f,u),a.child;case 14:return ab(i,a,a.type,a.pendingProps,u);case 15:return sb(i,a,a.type,a.pendingProps,u);case 19:return mb(i,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},i===null?(u=lu(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Si(i.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return lb(i,a,u);case 24:return Lr(a),f=$t(St),i===null?(y=Yd(),y===null&&(y=We,b=Hd(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:f,cache:y},Wd(a),Fi(a,St,y)):((i.lanes&u)!==0&&(Qd(i,a),Ks(a,null,null,u),Hs()),y=i.memoizedState,b=a.memoizedState,y.parent!==f?(y={parent:f,cache:f},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Fi(a,St,f)):(f=b.cache,Fi(a,St,f),f!==y.cache&&Fd(a,[St],u,!0))),Dt(i,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Mi(i){i.flags|=4}function gb(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!jv(a)){if(a=In.current,a!==null&&((ze&4194048)===ze?ai!==null:(ze&62914560)!==ze&&(ze&536870912)===0||a!==ai))throw qs=Xd,Jy;i.flags|=8192}}function ou(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Yg():536870912,i.lanes|=a,La|=a)}function el(i,a){if(!Be)switch(i.tailMode){case"hidden":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function rt(i){var a=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(a)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=u,a}function OT(i,a,u){var f=a.pendingProps;switch($d(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(a),null;case 1:return rt(a),null;case 3:return u=a.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),ki(St),it(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Is(a)?Mi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Yy())),rt(a),null;case 26:return u=a.memoizedState,i===null?(Mi(a),u!==null?(rt(a),gb(a,u)):(rt(a),a.flags&=-16777217)):u?u!==i.memoizedState?(Mi(a),rt(a),gb(a,u)):(rt(a),a.flags&=-16777217):(i.memoizedProps!==f&&Mi(a),rt(a),a.flags&=-16777217),null;case 27:xi(a),u=Te.current;var y=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Mi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return rt(a),null}i=Se.current,Is(a)?Hy(a):(i=gv(y,f,u),a.stateNode=i,Mi(a))}return rt(a),null;case 5:if(xi(a),u=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==f&&Mi(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return rt(a),null}if(i=Se.current,Is(a))Hy(a);else{switch(y=wu(Te.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?i.multiple=!0:f.size&&(i.size=f.size);break;default:i=typeof f.is=="string"?y.createElement(u,{is:f.is}):y.createElement(u)}}i[Ut]=a,i[en]=f;e:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break e;for(;y.sibling===null;){if(y.return===null||y.return===a)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=i;e:switch(zt(i,u,f),u){case"button":case"input":case"select":case"textarea":i=!!f.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Mi(a)}}return rt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==f&&Mi(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(i=Te.current,Is(a)){if(i=a.stateNode,u=a.memoizedProps,f=null,y=Yt,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[Ut]=a,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||uv(i.nodeValue,u)),i||Mr(a)}else i=wu(i).createTextNode(f),i[Ut]=a,a.stateNode=i}return rt(a),null;case 13:if(f=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Is(a),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Ut]=a}else Ps(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;rt(a),y=!1}else y=Yy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Ai(a),a):(Ai(a),null)}if(Ai(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,i=i!==null&&i.memoizedState!==null,u){f=a.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return u!==i&&u&&(a.child.flags|=8192),ou(a,a.updateQueue),rt(a),null;case 4:return it(),i===null&&eh(a.stateNode.containerInfo),rt(a),null;case 10:return ki(a.type),rt(a),null;case 19:if(fe(_t),y=a.memoizedState,y===null)return rt(a),null;if(f=(a.flags&128)!==0,b=y.rendering,b===null)if(f)el(y,!1);else{if(lt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(b=iu(i),b!==null){for(a.flags|=128,el(y,!1),i=b.updateQueue,a.updateQueue=i,ou(a,i),a.subtreeFlags=0,i=u,u=a.child;u!==null;)qy(u,i),u=u.sibling;return I(_t,_t.current&1|2),a.child}i=i.sibling}y.tail!==null&&fn()>du&&(a.flags|=128,f=!0,el(y,!1),a.lanes=4194304)}else{if(!f)if(i=iu(b),i!==null){if(a.flags|=128,f=!0,i=i.updateQueue,a.updateQueue=i,ou(a,i),el(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Be)return rt(a),null}else 2*fn()-y.renderingStartTime>du&&u!==536870912&&(a.flags|=128,f=!0,el(y,!1),a.lanes=4194304);y.isBackwards?(b.sibling=a.child,a.child=b):(i=y.last,i!==null?i.sibling=b:a.child=b,y.last=b)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=fn(),a.sibling=null,i=_t.current,I(_t,f?i&1|2:i&1),a):(rt(a),null);case 22:case 23:return Ai(a),tf(),f=a.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(rt(a),a.subtreeFlags&6&&(a.flags|=8192)):rt(a),u=a.updateQueue,u!==null&&ou(a,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),i!==null&&fe(Dr),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ki(St),rt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function zT(i,a){switch($d(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ki(St),it(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return xi(a),null;case 13:if(Ai(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ps()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return fe(_t),null;case 4:return it(),null;case 10:return ki(a.type),null;case 22:case 23:return Ai(a),tf(),i!==null&&fe(Dr),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ki(St),null;case 25:return null;default:return null}}function yb(i,a){switch($d(a),a.tag){case 3:ki(St),it();break;case 26:case 27:case 5:xi(a);break;case 4:it();break;case 13:Ai(a);break;case 19:fe(_t);break;case 10:ki(a.type);break;case 22:case 23:Ai(a),tf(),i!==null&&fe(Dr);break;case 24:ki(St)}}function tl(i,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&i)===i){f=void 0;var b=u.create,T=u.inst;f=b(),T.destroy=f}u=u.next}while(u!==y)}}catch(L){Ke(a,a.return,L)}}function Zi(i,a,u){try{var f=a.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&i)===i){var T=f.inst,L=T.destroy;if(L!==void 0){T.destroy=void 0,y=a;var B=u,J=L;try{J()}catch(re){Ke(y,B,re)}}}f=f.next}while(f!==b)}}catch(re){Ke(a,a.return,re)}}function xb(i){var a=i.updateQueue;if(a!==null){var u=i.stateNode;try{ax(a,u)}catch(f){Ke(i,i.return,f)}}}function bb(i,a,u){u.props=zr(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){Ke(i,a,f)}}function nl(i,a){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(y){Ke(i,a,y)}}function si(i,a){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){Ke(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ke(i,a,y)}else u.current=null}function vb(i){var a=i.type,u=i.memoizedProps,f=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){Ke(i,i.return,y)}}function Mf(i,a,u){try{var f=i.stateNode;nA(f,i.type,u,a),f[en]=a}catch(y){Ke(i,i.return,y)}}function wb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&sr(i.type)||i.tag===4}function Rf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||wb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&sr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lf(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(i),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=vu));else if(f!==4&&(f===27&&sr(i.type)&&(u=i.stateNode,a=null),i=i.child,i!==null))for(Lf(i,a,u),i=i.sibling;i!==null;)Lf(i,a,u),i=i.sibling}function uu(i,a,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,a?u.insertBefore(i,a):u.appendChild(i);else if(f!==4&&(f===27&&sr(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(uu(i,a,u),i=i.sibling;i!==null;)uu(i,a,u),i=i.sibling}function Sb(i){var a=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);zt(a,f,u),a[Ut]=i,a[en]=u}catch(b){Ke(i,i.return,b)}}var Ri=!1,ft=!1,Df=!1,_b=typeof WeakSet=="function"?WeakSet:Set,Et=null;function NT(i,a){if(i=i.containerInfo,ih=Tu,i=Oy(i),Md(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch(be){u=null;break e}var T=0,L=-1,B=-1,J=0,re=0,le=i,ee=null;t:for(;;){for(var te;le!==u||y!==0&&le.nodeType!==3||(L=T+y),le!==b||f!==0&&le.nodeType!==3||(B=T+f),le.nodeType===3&&(T+=le.nodeValue.length),(te=le.firstChild)!==null;)ee=le,le=te;for(;;){if(le===i)break t;if(ee===u&&++J===y&&(L=T),ee===b&&++re===f&&(B=T),(te=le.nextSibling)!==null)break;le=ee,ee=le.parentNode}le=te}u=L===-1||B===-1?null:{start:L,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(rh={focusedElem:i,selectionRange:u},Tu=!1,Et=a;Et!==null;)if(a=Et,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Et=i;else for(;Et!==null;){switch(a=Et,b=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var _e=zr(u.type,y,u.elementType===u.type);i=f.getSnapshotBeforeUpdate(_e,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(be){Ke(u,u.return,be)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,u=i.nodeType,u===9)lh(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Et=i;break}Et=a.return}}function jb(i,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ji(i,u),f&4&&tl(5,u);break;case 1:if(Ji(i,u),f&4)if(i=u.stateNode,a===null)try{i.componentDidMount()}catch(T){Ke(u,u.return,T)}else{var y=zr(u.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Ke(u,u.return,T)}}f&64&&xb(u),f&512&&nl(u,u.return);break;case 3:if(Ji(i,u),f&64&&(i=u.updateQueue,i!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{ax(i,a)}catch(T){Ke(u,u.return,T)}}break;case 27:a===null&&f&4&&Sb(u);case 26:case 5:Ji(i,u),a===null&&f&4&&vb(u),f&512&&nl(u,u.return);break;case 12:Ji(i,u);break;case 13:Ji(i,u),f&4&&Tb(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=FT.bind(null,u),uA(i,u))));break;case 22:if(f=u.memoizedState!==null||Ri,!f){a=a!==null&&a.memoizedState!==null||ft,y=Ri;var b=ft;Ri=f,(ft=a)&&!b?er(i,u,(u.subtreeFlags&8772)!==0):Ji(i,u),Ri=y,ft=b}break;case 30:break;default:Ji(i,u)}}function Cb(i){var a=i.alternate;a!==null&&(i.alternate=null,Cb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&dd(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var tt=null,rn=!1;function Li(i,a,u){for(u=u.child;u!==null;)kb(i,a,u),u=u.sibling}function kb(i,a,u){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(ie,u)}catch(b){}switch(u.tag){case 26:ft||si(u,a),Li(i,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:ft||si(u,a);var f=tt,y=rn;sr(u.type)&&(tt=u.stateNode,rn=!1),Li(i,a,u),dl(u.stateNode),tt=f,rn=y;break;case 5:ft||si(u,a);case 6:if(f=tt,y=rn,tt=null,Li(i,a,u),tt=f,rn=y,tt!==null)if(rn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(u.stateNode)}catch(b){Ke(u,a,b)}else try{tt.removeChild(u.stateNode)}catch(b){Ke(u,a,b)}break;case 18:tt!==null&&(rn?(i=tt,mv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),bl(i)):mv(tt,u.stateNode));break;case 4:f=tt,y=rn,tt=u.stateNode.containerInfo,rn=!0,Li(i,a,u),tt=f,rn=y;break;case 0:case 11:case 14:case 15:ft||Zi(2,u,a),ft||Zi(4,u,a),Li(i,a,u);break;case 1:ft||(si(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&bb(u,a,f)),Li(i,a,u);break;case 21:Li(i,a,u);break;case 22:ft=(f=ft)||u.memoizedState!==null,Li(i,a,u),ft=f;break;default:Li(i,a,u)}}function Tb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{bl(i)}catch(u){Ke(a,a.return,u)}}function IT(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new _b),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new _b),a;default:throw Error(r(435,i.tag))}}function Of(i,a){var u=IT(i);a.forEach(function(f){var y=HT.bind(null,i,f);u.has(f)||(u.add(f),f.then(y,y))})}function yn(i,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=i,T=a,L=T;e:for(;L!==null;){switch(L.tag){case 27:if(sr(L.type)){tt=L.stateNode,rn=!1;break e}break;case 5:tt=L.stateNode,rn=!1;break e;case 3:case 4:tt=L.stateNode.containerInfo,rn=!0;break e}L=L.return}if(tt===null)throw Error(r(160));kb(b,T,y),tt=null,rn=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Ab(a,i),a=a.sibling}var Kn=null;function Ab(i,a){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:yn(a,i),xn(i),f&4&&(Zi(3,i,i.return),tl(3,i),Zi(5,i,i.return));break;case 1:yn(a,i),xn(i),f&512&&(ft||u===null||si(u,u.return)),f&64&&Ri&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=Kn;if(yn(a,i),xn(i),f&512&&(ft||u===null||si(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){e:{f=i.type,u=i.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ks]||b[Ut]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),zt(b,f,u),b[Ut]=i,Tt(b),f=b;break e;case"link":var T=Sv("link","href",y).get(f+(u.href||""));if(T){for(var L=0;L<T.length;L++)if(b=T[L],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(L,1);break t}}b=y.createElement(f),zt(b,f,u),y.head.appendChild(b);break;case"meta":if(T=Sv("meta","content",y).get(f+(u.content||""))){for(L=0;L<T.length;L++)if(b=T[L],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(L,1);break t}}b=y.createElement(f),zt(b,f,u),y.head.appendChild(b);break;default:throw Error(r(468,f))}b[Ut]=i,Tt(b),f=b}i.stateNode=f}else _v(y,i.type,i.stateNode);else i.stateNode=wv(y,f,i.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?_v(y,i.type,i.stateNode):wv(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&Mf(i,i.memoizedProps,u.memoizedProps)}break;case 27:yn(a,i),xn(i),f&512&&(ft||u===null||si(u,u.return)),u!==null&&f&4&&Mf(i,i.memoizedProps,u.memoizedProps);break;case 5:if(yn(a,i),xn(i),f&512&&(ft||u===null||si(u,u.return)),i.flags&32){y=i.stateNode;try{ca(y,"")}catch(te){Ke(i,i.return,te)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,Mf(i,y,u!==null?u.memoizedProps:y)),f&1024&&(Df=!0);break;case 6:if(yn(a,i),xn(i),f&4){if(i.stateNode===null)throw Error(r(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(te){Ke(i,i.return,te)}}break;case 3:if(ju=null,y=Kn,Kn=Su(a.containerInfo),yn(a,i),Kn=y,xn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{bl(a.containerInfo)}catch(te){Ke(i,i.return,te)}Df&&(Df=!1,Eb(i));break;case 4:f=Kn,Kn=Su(i.stateNode.containerInfo),yn(a,i),xn(i),Kn=f;break;case 12:yn(a,i),xn(i);break;case 13:yn(a,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Uf=fn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Of(i,f)));break;case 22:y=i.memoizedState!==null;var B=u!==null&&u.memoizedState!==null,J=Ri,re=ft;if(Ri=J||y,ft=re||B,yn(a,i),ft=re,Ri=J,xn(i),f&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||B||Ri||ft||Nr(i)),u=null,a=i;;){if(a.tag===5||a.tag===26){if(u===null){B=u=a;try{if(b=B.stateNode,y)T=b.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{L=B.stateNode;var le=B.memoizedProps.style,ee=le!=null&&le.hasOwnProperty("display")?le.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){Ke(B,B.return,te)}}}else if(a.tag===6){if(u===null){B=a;try{B.stateNode.nodeValue=y?"":B.memoizedProps}catch(te){Ke(B,B.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Of(i,u))));break;case 19:yn(a,i),xn(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Of(i,f)));break;case 30:break;case 21:break;default:yn(a,i),xn(i)}}function xn(i){var a=i.flags;if(a&2){try{for(var u,f=i.return;f!==null;){if(wb(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=Rf(i);uu(i,b,y);break;case 5:var T=u.stateNode;u.flags&32&&(ca(T,""),u.flags&=-33);var L=Rf(i);uu(i,L,T);break;case 3:case 4:var B=u.stateNode.containerInfo,J=Rf(i);Lf(i,J,B);break;default:throw Error(r(161))}}catch(re){Ke(i,i.return,re)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Eb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Eb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ji(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)jb(i,a.alternate,a),a=a.sibling}function Nr(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Zi(4,a,a.return),Nr(a);break;case 1:si(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&bb(a,a.return,u),Nr(a);break;case 27:dl(a.stateNode);case 26:case 5:si(a,a.return),Nr(a);break;case 22:a.memoizedState===null&&Nr(a);break;case 30:Nr(a);break;default:Nr(a)}i=i.sibling}}function er(i,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,y=i,b=a,T=b.flags;switch(b.tag){case 0:case 11:case 15:er(y,b,u),tl(4,b);break;case 1:if(er(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){Ke(f,f.return,J)}if(f=b,y=f.updateQueue,y!==null){var L=f.stateNode;try{var B=y.shared.hiddenCallbacks;if(B!==null)for(y.shared.hiddenCallbacks=null,y=0;y<B.length;y++)rx(B[y],L)}catch(J){Ke(f,f.return,J)}}u&&T&64&&xb(b),nl(b,b.return);break;case 27:Sb(b);case 26:case 5:er(y,b,u),u&&f===null&&T&4&&vb(b),nl(b,b.return);break;case 12:er(y,b,u);break;case 13:er(y,b,u),u&&T&4&&Tb(y,b);break;case 22:b.memoizedState===null&&er(y,b,u),nl(b,b.return);break;case 30:break;default:er(y,b,u)}a=a.sibling}}function zf(i,a){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&$s(u))}function Nf(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&$s(i))}function li(i,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Mb(i,a,u,f),a=a.sibling}function Mb(i,a,u,f){var y=a.flags;switch(a.tag){case 0:case 11:case 15:li(i,a,u,f),y&2048&&tl(9,a);break;case 1:li(i,a,u,f);break;case 3:li(i,a,u,f),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&$s(i)));break;case 12:if(y&2048){li(i,a,u,f),i=a.stateNode;try{var b=a.memoizedProps,T=b.id,L=b.onPostCommit;typeof L=="function"&&L(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Ke(a,a.return,B)}}else li(i,a,u,f);break;case 13:li(i,a,u,f);break;case 23:break;case 22:b=a.stateNode,T=a.alternate,a.memoizedState!==null?b._visibility&2?li(i,a,u,f):il(i,a):b._visibility&2?li(i,a,u,f):(b._visibility|=2,Ea(i,a,u,f,(a.subtreeFlags&10256)!==0)),y&2048&&zf(T,a);break;case 24:li(i,a,u,f),y&2048&&Nf(a.alternate,a);break;default:li(i,a,u,f)}}function Ea(i,a,u,f,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=i,T=a,L=u,B=f,J=T.flags;switch(T.tag){case 0:case 11:case 15:Ea(b,T,L,B,y),tl(8,T);break;case 23:break;case 22:var re=T.stateNode;T.memoizedState!==null?re._visibility&2?Ea(b,T,L,B,y):il(b,T):(re._visibility|=2,Ea(b,T,L,B,y)),y&&J&2048&&zf(T.alternate,T);break;case 24:Ea(b,T,L,B,y),y&&J&2048&&Nf(T.alternate,T);break;default:Ea(b,T,L,B,y)}a=a.sibling}}function il(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=i,f=a,y=f.flags;switch(f.tag){case 22:il(u,f),y&2048&&zf(f.alternate,f);break;case 24:il(u,f),y&2048&&Nf(f.alternate,f);break;default:il(u,f)}a=a.sibling}}var rl=8192;function Ma(i){if(i.subtreeFlags&rl)for(i=i.child;i!==null;)Rb(i),i=i.sibling}function Rb(i){switch(i.tag){case 26:Ma(i),i.flags&rl&&i.memoizedState!==null&&SA(Kn,i.memoizedState,i.memoizedProps);break;case 5:Ma(i);break;case 3:case 4:var a=Kn;Kn=Su(i.stateNode.containerInfo),Ma(i),Kn=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=rl,rl=16777216,Ma(i),rl=a):Ma(i));break;default:Ma(i)}}function Lb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function al(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Et=f,Ob(f,i)}Lb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Db(i),i=i.sibling}function Db(i){switch(i.tag){case 0:case 11:case 15:al(i),i.flags&2048&&Zi(9,i,i.return);break;case 3:al(i);break;case 12:al(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,cu(i)):al(i);break;default:al(i)}}function cu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Et=f,Ob(f,i)}Lb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Zi(8,a,a.return),cu(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,cu(a));break;default:cu(a)}i=i.sibling}}function Ob(i,a){for(;Et!==null;){var u=Et;switch(u.tag){case 0:case 11:case 15:Zi(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:$s(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Et=f;else e:for(u=i;Et!==null;){f=Et;var y=f.sibling,b=f.return;if(Cb(f),f===u){Et=null;break e}if(y!==null){y.return=b,Et=y;break e}Et=b}}}var PT={getCacheForType:function(i){var a=$t(St),u=a.data.get(i);return u===void 0&&(u=i(),a.data.set(i,u)),u}},BT=typeof WeakMap=="function"?WeakMap:Map,$e=0,We=null,Re=null,ze=0,Ve=0,bn=null,tr=!1,Ra=!1,If=!1,Di=0,lt=0,nr=0,Ir=0,Pf=0,Pn=0,La=0,sl=null,an=null,Bf=!1,Uf=0,du=1/0,fu=null,ir=null,Ot=0,rr=null,Da=null,Oa=0,$f=0,Vf=null,zb=null,ll=0,Gf=null;function vn(){if(($e&2)!==0&&ze!==0)return ze&-ze;if($.T!==null){var i=wa;return i!==0?i:Wf()}return Qg()}function Nb(){Pn===0&&(Pn=(ze&536870912)===0||Be?Kg():536870912);var i=In.current;return i!==null&&(i.flags|=32),Pn}function wn(i,a,u){(i===We&&(Ve===2||Ve===9)||i.cancelPendingCommit!==null)&&(za(i,0),ar(i,ze,Pn,!1)),Cs(i,u),(($e&2)===0||i!==We)&&(i===We&&(($e&2)===0&&(Ir|=u),lt===4&&ar(i,ze,Pn,!1)),oi(i))}function Ib(i,a,u){if(($e&6)!==0)throw Error(r(327));var f=!u&&(a&124)===0&&(a&i.expiredLanes)===0||Mn(i,a),y=f?VT(i,a):Hf(i,a,!0),b=f;do{if(y===0){Ra&&!f&&ar(i,a,0,!1);break}else{if(u=i.current.alternate,b&&!UT(u)){y=Hf(i,a,!1),b=!1;continue}if(y===2){if(b=a,i.errorRecoveryDisabledLanes&b)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var L=i;y=sl;var B=L.current.memoizedState.isDehydrated;if(B&&(za(L,T).flags|=256),T=Hf(L,T,!1),T!==2){if(If&&!B){L.errorRecoveryDisabledLanes|=b,Ir|=b,y=4;break e}b=an,an=y,b!==null&&(an===null?an=b:an.push.apply(an,b))}y=T}if(b=!1,y!==2)continue}}if(y===1){za(i,0),ar(i,a,0,!0);break}e:{switch(f=i,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ar(f,a,Pn,!tr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=Uf+300-fn(),10<y)){if(ar(f,a,Pn,!tr),kt(f,0,!0)!==0)break e;f.timeoutHandle=fv(Pb.bind(null,f,u,an,fu,Bf,a,Pn,Ir,La,tr,b,2,-0,0),y);break e}Pb(f,u,an,fu,Bf,a,Pn,Ir,La,tr,b,0,-0,0)}}break}while(!0);oi(i)}function Pb(i,a,u,f,y,b,T,L,B,J,re,le,ee,te){if(i.timeoutHandle=-1,le=a.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:wA},Rb(a),le=_A(),le!==null)){i.cancelPendingCommit=le(Fb.bind(null,i,a,b,u,f,y,T,L,B,re,1,ee,te)),ar(i,b,T,!J);return}Fb(i,a,b,u,f,y,T,L,B)}function UT(i){for(var a=i;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!pn(b(),y))return!1}catch(T){return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ar(i,a,u,f){a&=~Pf,a&=~Ir,i.suspendedLanes|=a,i.pingedLanes&=~a,f&&(i.warmLanes|=a),f=i.expirationTimes;for(var y=a;0<y;){var b=31-we(y),T=1<<b;f[b]=-1,y&=~T}u!==0&&Xg(i,u,a)}function hu(){return($e&6)===0?(ol(0),!1):!0}function qf(){if(Re!==null){if(Ve===0)var i=Re.return;else i=Re,Ci=Rr=null,lf(i),Ta=null,Zs=0,i=Re;for(;i!==null;)yb(i.alternate,i),i=i.return;Re=null}}function za(i,a){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,rA(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),qf(),We=i,Re=u=Si(i.current,null),ze=a,Ve=0,bn=null,tr=!1,Ra=Mn(i,a),If=!1,La=Pn=Pf=Ir=nr=lt=0,an=sl=null,Bf=!1,(a&8)!==0&&(a|=a&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=a;0<f;){var y=31-we(f),b=1<<y;a|=i[y],f&=~b}return Di=a,zo(),u}function Bb(i,a){Ae=null,$.H=eu,a===Gs||a===qo?(a=nx(),Ve=3):a===Jy?(a=nx(),Ve=4):Ve=a===ib?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,bn=a,Re===null&&(lt=1,au(i,Dn(a,i.current)))}function Ub(){var i=$.H;return $.H=eu,i===null?eu:i}function $b(){var i=$.A;return $.A=PT,i}function Ff(){lt=4,tr||(ze&4194048)!==ze&&In.current!==null||(Ra=!0),(nr&134217727)===0&&(Ir&134217727)===0||We===null||ar(We,ze,Pn,!1)}function Hf(i,a,u){var f=$e;$e|=2;var y=Ub(),b=$b();(We!==i||ze!==a)&&(fu=null,za(i,a)),a=!1;var T=lt;e:do try{if(Ve!==0&&Re!==null){var L=Re,B=bn;switch(Ve){case 8:qf(),T=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var J=Ve;if(Ve=0,bn=null,Na(i,L,B,J),u&&Ra){T=0;break e}break;default:J=Ve,Ve=0,bn=null,Na(i,L,B,J)}}$T(),T=lt;break}catch(re){Bb(i,re)}while(!0);return a&&i.shellSuspendCounter++,Ci=Rr=null,$e=f,$.H=y,$.A=b,Re===null&&(We=null,ze=0,zo()),T}function $T(){for(;Re!==null;)Vb(Re)}function VT(i,a){var u=$e;$e|=2;var f=Ub(),y=$b();We!==i||ze!==a?(fu=null,du=fn()+500,za(i,a)):Ra=Mn(i,a);e:do try{if(Ve!==0&&Re!==null){a=Re;var b=bn;t:switch(Ve){case 1:Ve=0,bn=null,Na(i,a,b,1);break;case 2:case 9:if(ex(b)){Ve=0,bn=null,Gb(a);break}a=function(){Ve!==2&&Ve!==9||We!==i||(Ve=7),oi(i)},b.then(a,a);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:ex(b)?(Ve=0,bn=null,Gb(a)):(Ve=0,bn=null,Na(i,a,b,7));break;case 5:var T=null;switch(Re.tag){case 26:T=Re.memoizedState;case 5:case 27:var L=Re;if(!T||jv(T)){Ve=0,bn=null;var B=L.sibling;if(B!==null)Re=B;else{var J=L.return;J!==null?(Re=J,mu(J)):Re=null}break t}}Ve=0,bn=null,Na(i,a,b,5);break;case 6:Ve=0,bn=null,Na(i,a,b,6);break;case 8:qf(),lt=6;break e;default:throw Error(r(462))}}GT();break}catch(re){Bb(i,re)}while(!0);return Ci=Rr=null,$.H=f,$.A=y,$e=u,Re!==null?0:(We=null,ze=0,zo(),lt)}function GT(){for(;Re!==null&&!wo();)Vb(Re)}function Vb(i){var a=pb(i.alternate,i,Di);i.memoizedProps=i.pendingProps,a===null?mu(i):Re=a}function Gb(i){var a=i,u=a.alternate;switch(a.tag){case 15:case 0:a=ub(u,a,a.pendingProps,a.type,void 0,ze);break;case 11:a=ub(u,a,a.pendingProps,a.type.render,a.ref,ze);break;case 5:lf(a);default:yb(u,a),a=Re=qy(a,Di),a=pb(u,a,Di)}i.memoizedProps=i.pendingProps,a===null?mu(i):Re=a}function Na(i,a,u,f){Ci=Rr=null,lf(a),Ta=null,Zs=0;var y=a.return;try{if(LT(i,y,a,u,ze)){lt=1,au(i,Dn(u,i.current)),Re=null;return}}catch(b){if(y!==null)throw Re=y,b;lt=1,au(i,Dn(u,i.current)),Re=null;return}a.flags&32768?(Be||f===1?i=!0:Ra||(ze&536870912)!==0?i=!1:(tr=i=!0,(f===2||f===9||f===3||f===6)&&(f=In.current,f!==null&&f.tag===13&&(f.flags|=16384))),qb(a,i)):mu(a)}function mu(i){var a=i;do{if((a.flags&32768)!==0){qb(a,tr);return}i=a.return;var u=OT(a.alternate,a,Di);if(u!==null){Re=u;return}if(a=a.sibling,a!==null){Re=a;return}Re=a=i}while(a!==null);lt===0&&(lt=5)}function qb(i,a){do{var u=zT(i.alternate,i);if(u!==null){u.flags&=32767,Re=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(i=i.sibling,i!==null)){Re=i;return}Re=i=u}while(i!==null);lt=6,Re=null}function Fb(i,a,u,f,y,b,T,L,B){i.cancelPendingCommit=null;do pu();while(Ot!==0);if(($e&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=zd,wk(i,u,b,T,L,B),i===We&&(Re=We=null,ze=0),Da=a,rr=i,Oa=u,$f=b,Vf=y,zb=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,KT(na,function(){return Wb(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=$.T,$.T=null,y=U.p,U.p=2,T=$e,$e|=4;try{NT(i,a,u)}finally{$e=T,U.p=y,$.T=f}}Ot=1,Hb(),Kb(),Yb()}}function Hb(){if(Ot===1){Ot=0;var i=rr,a=Da,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null;var f=U.p;U.p=2;var y=$e;$e|=4;try{Ab(a,i);var b=rh,T=Oy(i.containerInfo),L=b.focusedElem,B=b.selectionRange;if(T!==L&&L&&L.ownerDocument&&Dy(L.ownerDocument.documentElement,L)){if(B!==null&&Md(L)){var J=B.start,re=B.end;if(re===void 0&&(re=J),"selectionStart"in L)L.selectionStart=J,L.selectionEnd=Math.min(re,L.value.length);else{var le=L.ownerDocument||document,ee=le&&le.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),_e=L.textContent.length,be=Math.min(B.start,_e),He=B.end===void 0?be:Math.min(B.end,_e);!te.extend&&be>He&&(T=He,He=be,be=T);var X=Ly(L,be),V=Ly(L,He);if(X&&V&&(te.rangeCount!==1||te.anchorNode!==X.node||te.anchorOffset!==X.offset||te.focusNode!==V.node||te.focusOffset!==V.offset)){var Q=le.createRange();Q.setStart(X.node,X.offset),te.removeAllRanges(),be>He?(te.addRange(Q),te.extend(V.node,V.offset)):(Q.setEnd(V.node,V.offset),te.addRange(Q))}}}}for(le=[],te=L;te=te.parentNode;)te.nodeType===1&&le.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<le.length;L++){var se=le[L];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}Tu=!!ih,rh=ih=null}finally{$e=y,U.p=f,$.T=u}}i.current=a,Ot=2}}function Kb(){if(Ot===2){Ot=0;var i=rr,a=Da,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=$.T,$.T=null;var f=U.p;U.p=2;var y=$e;$e|=4;try{jb(i,a.alternate,a)}finally{$e=y,U.p=f,$.T=u}}Ot=3}}function Yb(){if(Ot===4||Ot===3){Ot=0,So();var i=rr,a=Da,u=Oa,f=zb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ot=5:(Ot=0,Da=rr=null,Xb(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(ir=null),ud(u),a=a.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(ie,a,void 0,(a.current.flags&128)===128)}catch(B){}if(f!==null){a=$.T,y=U.p,U.p=2,$.T=null;try{for(var b=i.onRecoverableError,T=0;T<f.length;T++){var L=f[T];b(L.value,{componentStack:L.stack})}}finally{$.T=a,U.p=y}}(Oa&3)!==0&&pu(),oi(i),y=i.pendingLanes,(u&4194090)!==0&&(y&42)!==0?i===Gf?ll++:(ll=0,Gf=i):ll=0,ol(0)}}function Xb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,$s(a)))}function pu(i){return Hb(),Kb(),Yb(),Wb()}function Wb(){if(Ot!==5)return!1;var i=rr,a=$f;$f=0;var u=ud(Oa),f=$.T,y=U.p;try{U.p=32>u?32:u,$.T=null,u=Vf,Vf=null;var b=rr,T=Oa;if(Ot=0,Da=rr=null,Oa=0,($e&6)!==0)throw Error(r(331));var L=$e;if($e|=4,Db(b.current),Mb(b,b.current,T,u),$e=L,ol(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(ie,b)}catch(B){}return!0}finally{U.p=y,$.T=f,Xb(i,a)}}function Qb(i,a,u){a=Dn(u,a),a=wf(i.stateNode,a,2),i=Yi(i,a,2),i!==null&&(Cs(i,2),oi(i))}function Ke(i,a,u){if(i.tag===3)Qb(i,i,u);else for(;a!==null;){if(a.tag===3){Qb(a,i,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ir===null||!ir.has(f))){i=Dn(u,i),u=tb(2),f=Yi(a,u,2),f!==null&&(nb(u,f,a,i),Cs(f,2),oi(f));break}}a=a.return}}function Kf(i,a,u){var f=i.pingCache;if(f===null){f=i.pingCache=new BT;var y=new Set;f.set(a,y)}else y=f.get(a),y===void 0&&(y=new Set,f.set(a,y));y.has(u)||(If=!0,y.add(u),i=qT.bind(null,i,a,u),a.then(i,i))}function qT(i,a,u){var f=i.pingCache;f!==null&&f.delete(a),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,We===i&&(ze&u)===u&&(lt===4||lt===3&&(ze&62914560)===ze&&300>fn()-Uf?($e&2)===0&&za(i,0):Pf|=u,La===ze&&(La=0)),oi(i)}function Zb(i,a){a===0&&(a=Yg()),i=ya(i,a),i!==null&&(Cs(i,a),oi(i))}function FT(i){var a=i.memoizedState,u=0;a!==null&&(u=a.retryLane),Zb(i,u)}function HT(i,a){var u=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),Zb(i,u)}function KT(i,a){return ws(i,a)}var gu=null,Ia=null,Yf=!1,yu=!1,Xf=!1,Pr=0;function oi(i){i!==Ia&&i.next===null&&(Ia===null?gu=Ia=i:Ia=Ia.next=i),yu=!0,Yf||(Yf=!0,XT())}function ol(i,a){if(!Xf&&yu){Xf=!0;do for(var u=!1,f=gu;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var T=f.suspendedLanes,L=f.pingedLanes;b=(1<<31-we(42|i)+1)-1,b&=y&~(T&~L),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,nv(f,b))}else b=ze,b=kt(f,f===We?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Mn(f,b)||(u=!0,nv(f,b));f=f.next}while(u);Xf=!1}}function YT(){Jb()}function Jb(){yu=Yf=!1;var i=0;Pr!==0&&(iA()&&(i=Pr),Pr=0);for(var a=fn(),u=null,f=gu;f!==null;){var y=f.next,b=ev(f,a);b===0?(f.next=null,u===null?gu=y:u.next=y,y===null&&(Ia=u)):(u=f,(i!==0||(b&3)!==0)&&(yu=!0)),f=y}ol(i)}function ev(i,a){for(var u=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var T=31-we(b),L=1<<T,B=y[T];B===-1?((L&u)===0||(L&f)!==0)&&(y[T]=Fn(L,a)):B<=a&&(i.expiredLanes|=L),b&=~L}if(a=We,u=ze,u=kt(i,i===a?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===a&&(Ve===2||Ve===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Ss(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||Mn(i,u)){if(a=u&-u,a===i.callbackPriority)return a;switch(f!==null&&Ss(f),ud(u)){case 2:case 8:u=js;break;case 32:u=na;break;case 268435456:u=_o;break;default:u=na}return f=tv.bind(null,i),u=ws(u,f),i.callbackPriority=a,i.callbackNode=u,a}return f!==null&&f!==null&&Ss(f),i.callbackPriority=2,i.callbackNode=null,2}function tv(i,a){if(Ot!==0&&Ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(pu()&&i.callbackNode!==u)return null;var f=ze;return f=kt(i,i===We?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(Ib(i,f,a),ev(i,fn()),i.callbackNode!=null&&i.callbackNode===u?tv.bind(null,i):null)}function nv(i,a){if(pu())return null;Ib(i,a,!0)}function XT(){aA(function(){($e&6)!==0?ws(_s,YT):Jb()})}function Wf(){return Pr===0&&(Pr=Kg()),Pr}function iv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ao(""+i)}function rv(i,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,i.id&&u.setAttribute("form",i.id),a.parentNode.insertBefore(u,a),i=new FormData(i),u.parentNode.removeChild(u),i}function WT(i,a,u,f,y){if(a==="submit"&&u&&u.stateNode===y){var b=iv((y[en]||null).action),T=f.submitter;T&&(a=(a=T[en]||null)?iv(a.formAction):T.getAttribute("formAction"),a!==null&&(b=a,T=null));var L=new Lo("action","action",null,f,y);i.push({event:L,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Pr!==0){var B=T?rv(y,T):new FormData(y);gf(u,{pending:!0,data:B,method:y.method,action:b},null,B)}}else typeof b=="function"&&(L.preventDefault(),B=T?rv(y,T):new FormData(y),gf(u,{pending:!0,data:B,method:y.method,action:b},b,B))},currentTarget:y}]})}}for(var Qf=0;Qf<Od.length;Qf++){var Zf=Od[Qf],QT=Zf.toLowerCase(),ZT=Zf[0].toUpperCase()+Zf.slice(1);Hn(QT,"on"+ZT)}Hn(Iy,"onAnimationEnd"),Hn(Py,"onAnimationIteration"),Hn(By,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(pT,"onTransitionRun"),Hn(gT,"onTransitionStart"),Hn(yT,"onTransitionCancel"),Hn(Uy,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function av(i,a){a=(a&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],y=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var T=f.length-1;0<=T;T--){var L=f[T],B=L.instance,J=L.currentTarget;if(L=L.listener,B!==b&&y.isPropagationStopped())break e;b=L,y.currentTarget=J;try{b(y)}catch(re){ru(re)}y.currentTarget=null,b=B}else for(T=0;T<f.length;T++){if(L=f[T],B=L.instance,J=L.currentTarget,L=L.listener,B!==b&&y.isPropagationStopped())break e;b=L,y.currentTarget=J;try{b(y)}catch(re){ru(re)}y.currentTarget=null,b=B}}}}function Le(i,a){var u=a[cd];u===void 0&&(u=a[cd]=new Set);var f=i+"__bubble";u.has(f)||(sv(a,i,2,!1),u.add(f))}function Jf(i,a,u){var f=0;a&&(f|=4),sv(u,i,f,a)}var xu="_reactListening"+Math.random().toString(36).slice(2);function eh(i){if(!i[xu]){i[xu]=!0,Jg.forEach(function(u){u!=="selectionchange"&&(JT.has(u)||Jf(u,!1,i),Jf(u,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[xu]||(a[xu]=!0,Jf("selectionchange",!1,a))}}function sv(i,a,u,f){switch(Mv(a)){case 2:var y=kA;break;case 8:y=TA;break;default:y=mh}u=y.bind(null,a,u,i),y=void 0,!wd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(a,u,{capture:!0,passive:y}):i.addEventListener(a,u,!0):y!==void 0?i.addEventListener(a,u,{passive:y}):i.addEventListener(a,u,!1)}function th(i,a,u,f,y){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var L=f.stateNode.containerInfo;if(L===y)break;if(T===4)for(T=f.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;L!==null;){if(T=ra(L),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){f=b=T;continue e}L=L.parentNode}}f=f.return}hy(function(){var J=b,re=bd(u),le=[];e:{var ee=$y.get(i);if(ee!==void 0){var te=Lo,_e=i;switch(i){case"keypress":if(Mo(u)===0)break e;case"keydown":case"keyup":te=Kk;break;case"focusin":_e="focus",te=Cd;break;case"focusout":_e="blur",te=Cd;break;case"beforeblur":case"afterblur":te=Cd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=zk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Wk;break;case Iy:case Py:case By:te=Pk;break;case Uy:te=Zk;break;case"scroll":case"scrollend":te=Dk;break;case"wheel":te=eT;break;case"copy":case"cut":case"paste":te=Uk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=xy;break;case"toggle":case"beforetoggle":te=nT}var be=(a&4)!==0,He=!be&&(i==="scroll"||i==="scrollend"),X=be?ee!==null?ee+"Capture":null:ee;be=[];for(var V=J,Q;V!==null;){var se=V;if(Q=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||Q===null||X===null||(se=As(V,X),se!=null&&be.push(cl(V,se,Q))),He)break;V=V.return}0<be.length&&(ee=new te(ee,_e,null,u,re),le.push({event:ee,listeners:be}))}}if((a&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",ee&&u!==xd&&(_e=u.relatedTarget||u.fromElement)&&(ra(_e)||_e[ia]))break e;if((te||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(_e=u.relatedTarget||u.toElement,te=J,_e=_e?ra(_e):null,_e!==null&&(He=l(_e),be=_e.tag,_e!==He||be!==5&&be!==27&&be!==6)&&(_e=null)):(te=null,_e=J),te!==_e)){if(be=gy,se="onMouseLeave",X="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(be=xy,se="onPointerLeave",X="onPointerEnter",V="pointer"),He=te==null?ee:Ts(te),Q=_e==null?ee:Ts(_e),ee=new be(se,V+"leave",te,u,re),ee.target=He,ee.relatedTarget=Q,se=null,ra(re)===J&&(be=new be(X,V+"enter",_e,u,re),be.target=Q,be.relatedTarget=He,se=be),He=se,te&&_e)t:{for(be=te,X=_e,V=0,Q=be;Q;Q=Pa(Q))V++;for(Q=0,se=X;se;se=Pa(se))Q++;for(;0<V-Q;)be=Pa(be),V--;for(;0<Q-V;)X=Pa(X),Q--;for(;V--;){if(be===X||X!==null&&be===X.alternate)break t;be=Pa(be),X=Pa(X)}be=null}else be=null;te!==null&&lv(le,ee,te,be,!1),_e!==null&&He!==null&&lv(le,He,_e,be,!0)}}e:{if(ee=J?Ts(J):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var me=ky;else if(jy(ee))if(Ty)me=fT;else{me=cT;var Me=uT}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&yd(J.elementType)&&(me=ky):me=dT;if(me&&(me=me(i,J))){Cy(le,me,u,re);break e}Me&&Me(i,ee,J),i==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&gd(ee,"number",ee.value)}switch(Me=J?Ts(J):window,i){case"focusin":(jy(Me)||Me.contentEditable==="true")&&(ma=Me,Rd=J,Ns=null);break;case"focusout":Ns=Rd=ma=null;break;case"mousedown":Ld=!0;break;case"contextmenu":case"mouseup":case"dragend":Ld=!1,zy(le,u,re);break;case"selectionchange":if(mT)break;case"keydown":case"keyup":zy(le,u,re)}var pe;if(Td)e:{switch(i){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ha?Sy(i,u)&&(ve="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ve="onCompositionStart");ve&&(by&&u.locale!=="ko"&&(ha||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ha&&(pe=my()):(qi=re,Sd="value"in qi?qi.value:qi.textContent,ha=!0)),Me=bu(J,ve),0<Me.length&&(ve=new yy(ve,i,null,u,re),le.push({event:ve,listeners:Me}),pe?ve.data=pe:(pe=_y(u),pe!==null&&(ve.data=pe)))),(pe=rT?aT(i,u):sT(i,u))&&(ve=bu(J,"onBeforeInput"),0<ve.length&&(Me=new yy("onBeforeInput","beforeinput",null,u,re),le.push({event:Me,listeners:ve}),Me.data=pe)),WT(le,i,J,u,re)}av(le,a)})}function cl(i,a,u){return{instance:i,listener:a,currentTarget:u}}function bu(i,a){for(var u=a+"Capture",f=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=As(i,u),y!=null&&f.unshift(cl(i,y,b)),y=As(i,a),y!=null&&f.push(cl(i,y,b))),i.tag===3)return f;i=i.return}return[]}function Pa(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lv(i,a,u,f,y){for(var b=a._reactName,T=[];u!==null&&u!==f;){var L=u,B=L.alternate,J=L.stateNode;if(L=L.tag,B!==null&&B===f)break;L!==5&&L!==26&&L!==27||J===null||(B=J,y?(J=As(u,b),J!=null&&T.unshift(cl(u,J,B))):y||(J=As(u,b),J!=null&&T.push(cl(u,J,B)))),u=u.return}T.length!==0&&i.push({event:a,listeners:T})}var eA=/\r\n?/g,tA=/\u0000|\uFFFD/g;function ov(i){return(typeof i=="string"?i:""+i).replace(eA,`
`).replace(tA,"")}function uv(i,a){return a=ov(a),ov(i)===a}function vu(){}function Fe(i,a,u,f,y,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ca(i,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ca(i,""+f);break;case"className":Co(i,"class",f);break;case"tabIndex":Co(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Co(i,u,f);break;case"style":dy(i,f,b);break;case"data":if(a!=="object"){Co(i,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ao(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Fe(i,a,"name",y.name,y,null),Fe(i,a,"formEncType",y.formEncType,y,null),Fe(i,a,"formMethod",y.formMethod,y,null),Fe(i,a,"formTarget",y.formTarget,y,null)):(Fe(i,a,"encType",y.encType,y,null),Fe(i,a,"method",y.method,y,null),Fe(i,a,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=Ao(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=vu);break;case"onScroll":f!=null&&Le("scroll",i);break;case"onScrollEnd":f!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=Ao(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Le("beforetoggle",i),Le("toggle",i),jo(i,"popover",f);break;case"xlinkActuate":vi(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":vi(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":vi(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":vi(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":vi(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":vi(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":vi(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":vi(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":vi(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":jo(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Rk.get(u)||u,jo(i,u,f))}}function nh(i,a,u,f,y,b){switch(u){case"style":dy(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof f=="string"?ca(i,f):(typeof f=="number"||typeof f=="bigint")&&ca(i,""+f);break;case"onScroll":f!=null&&Le("scroll",i);break;case"onScrollEnd":f!=null&&Le("scrollend",i);break;case"onClick":f!=null&&(i.onclick=vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ey.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=i[en]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(a,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(a,f,y);break e}u in i?i[u]=f:f===!0?i.setAttribute(u,""):jo(i,u,f)}}}function zt(i,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var T=u[b];if(T!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Fe(i,a,b,T,u,null)}}y&&Fe(i,a,"srcSet",u.srcSet,u,null),f&&Fe(i,a,"src",u.src,u,null);return;case"input":Le("invalid",i);var L=b=T=y=null,B=null,J=null;for(f in u)if(u.hasOwnProperty(f)){var re=u[f];if(re!=null)switch(f){case"name":y=re;break;case"type":T=re;break;case"checked":B=re;break;case"defaultChecked":J=re;break;case"value":b=re;break;case"defaultValue":L=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:Fe(i,a,f,re,u,null)}}ly(i,b,L,B,J,T,y,!1),ko(i);return;case"select":Le("invalid",i),f=T=b=null;for(y in u)if(u.hasOwnProperty(y)&&(L=u[y],L!=null))switch(y){case"value":b=L;break;case"defaultValue":T=L;break;case"multiple":f=L;default:Fe(i,a,y,L,u,null)}a=b,u=T,i.multiple=!!f,a!=null?ua(i,!!f,a,!1):u!=null&&ua(i,!!f,u,!0);return;case"textarea":Le("invalid",i),b=y=f=null;for(T in u)if(u.hasOwnProperty(T)&&(L=u[T],L!=null))switch(T){case"value":f=L;break;case"defaultValue":y=L;break;case"children":b=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Fe(i,a,T,L,u,null)}uy(i,f,y,b),ko(i);return;case"option":for(B in u)if(u.hasOwnProperty(B)&&(f=u[B],f!=null))switch(B){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Fe(i,a,B,f,u,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(f=0;f<ul.length;f++)Le(ul[f],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(f=u[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Fe(i,a,J,f,u,null)}return;default:if(yd(a)){for(re in u)u.hasOwnProperty(re)&&(f=u[re],f!==void 0&&nh(i,a,re,f,u,void 0));return}}for(L in u)u.hasOwnProperty(L)&&(f=u[L],f!=null&&Fe(i,a,L,f,u,null))}function nA(i,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,T=null,L=null,B=null,J=null,re=null;for(te in u){var le=u[te];if(u.hasOwnProperty(te)&&le!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=le;default:f.hasOwnProperty(te)||Fe(i,a,te,null,f,le)}}for(var ee in f){var te=f[ee];if(le=u[ee],f.hasOwnProperty(ee)&&(te!=null||le!=null))switch(ee){case"type":b=te;break;case"name":y=te;break;case"checked":J=te;break;case"defaultChecked":re=te;break;case"value":T=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==le&&Fe(i,a,ee,te,f,le)}}pd(i,T,L,B,J,re,b,y);return;case"select":te=T=L=ee=null;for(b in u)if(B=u[b],u.hasOwnProperty(b)&&B!=null)switch(b){case"value":break;case"multiple":te=B;default:f.hasOwnProperty(b)||Fe(i,a,b,null,f,B)}for(y in f)if(b=f[y],B=u[y],f.hasOwnProperty(y)&&(b!=null||B!=null))switch(y){case"value":ee=b;break;case"defaultValue":L=b;break;case"multiple":T=b;default:b!==B&&Fe(i,a,y,b,f,B)}a=L,u=T,f=te,ee!=null?ua(i,!!u,ee,!1):!!f!=!!u&&(a!=null?ua(i,!!u,a,!0):ua(i,!!u,u?[]:"",!1));return;case"textarea":te=ee=null;for(L in u)if(y=u[L],u.hasOwnProperty(L)&&y!=null&&!f.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Fe(i,a,L,null,f,y)}for(T in f)if(y=f[T],b=u[T],f.hasOwnProperty(T)&&(y!=null||b!=null))switch(T){case"value":ee=y;break;case"defaultValue":te=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Fe(i,a,T,y,f,b)}oy(i,ee,te);return;case"option":for(var _e in u)if(ee=u[_e],u.hasOwnProperty(_e)&&ee!=null&&!f.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:Fe(i,a,_e,null,f,ee)}for(B in f)if(ee=f[B],te=u[B],f.hasOwnProperty(B)&&ee!==te&&(ee!=null||te!=null))switch(B){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Fe(i,a,B,ee,f,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in u)ee=u[be],u.hasOwnProperty(be)&&ee!=null&&!f.hasOwnProperty(be)&&Fe(i,a,be,null,f,ee);for(J in f)if(ee=f[J],te=u[J],f.hasOwnProperty(J)&&ee!==te&&(ee!=null||te!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:Fe(i,a,J,ee,f,te)}return;default:if(yd(a)){for(var He in u)ee=u[He],u.hasOwnProperty(He)&&ee!==void 0&&!f.hasOwnProperty(He)&&nh(i,a,He,void 0,f,ee);for(re in f)ee=f[re],te=u[re],!f.hasOwnProperty(re)||ee===te||ee===void 0&&te===void 0||nh(i,a,re,ee,f,te);return}}for(var X in u)ee=u[X],u.hasOwnProperty(X)&&ee!=null&&!f.hasOwnProperty(X)&&Fe(i,a,X,null,f,ee);for(le in f)ee=f[le],te=u[le],!f.hasOwnProperty(le)||ee===te||ee==null&&te==null||Fe(i,a,le,ee,f,te)}var ih=null,rh=null;function wu(i){return i.nodeType===9?i:i.ownerDocument}function cv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dv(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function ah(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sh=null;function iA(){var i=window.event;return i&&i.type==="popstate"?i===sh?!1:(sh=i,!0):(sh=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof hv!="undefined"?function(i){return hv.resolve(null).then(i).catch(sA)}:fv;function sA(i){setTimeout(function(){throw i})}function sr(i){return i==="head"}function mv(i,a){var u=a,f=0,y=0;do{var b=u.nextSibling;if(i.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var T=i.ownerDocument;if(u&1&&dl(T.documentElement),u&2&&dl(T.body),u&4)for(u=T.head,dl(u),T=u.firstChild;T;){var L=T.nextSibling,B=T.nodeName;T[ks]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=L}}if(y===0){i.removeChild(b),bl(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);bl(a)}function lh(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":lh(u),dd(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function lA(i,a,u,f){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[ks])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function oA(i,a,u){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Yn(i.nextSibling),i===null))return null;return i}function oh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function uA(i,a){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function Yn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var uh=null;function pv(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return i;a--}else u==="/$"&&a++}i=i.previousSibling}return null}function gv(i,a,u){switch(a=wu(u),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function dl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);dd(i)}var Bn=new Map,yv=new Set;function Su(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Oi=U.d;U.d={f:cA,r:dA,D:fA,C:hA,L:mA,m:pA,X:yA,S:gA,M:xA};function cA(){var i=Oi.f(),a=hu();return i||a}function dA(i){var a=aa(i);a!==null&&a.tag===5&&a.type==="form"?Ix(a):Oi.r(i)}var Ba=typeof document=="undefined"?null:document;function xv(i,a,u){var f=Ba;if(f&&typeof a=="string"&&a){var y=Ln(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),yv.has(y)||(yv.add(y),i={rel:i,crossOrigin:u,href:a},f.querySelector(y)===null&&(a=f.createElement("link"),zt(a,"link",i),Tt(a),f.head.appendChild(a)))}}function fA(i){Oi.D(i),xv("dns-prefetch",i,null)}function hA(i,a){Oi.C(i,a),xv("preconnect",i,a)}function mA(i,a,u){Oi.L(i,a,u);var f=Ba;if(f&&i&&a){var y='link[rel="preload"][as="'+Ln(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ln(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ln(u.imageSizes)+'"]')):y+='[href="'+Ln(i)+'"]';var b=y;switch(a){case"style":b=Ua(i);break;case"script":b=$a(i)}Bn.has(b)||(i=g({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:i,as:a},u),Bn.set(b,i),f.querySelector(y)!==null||a==="style"&&f.querySelector(fl(b))||a==="script"&&f.querySelector(hl(b))||(a=f.createElement("link"),zt(a,"link",i),Tt(a),f.head.appendChild(a)))}}function pA(i,a){Oi.m(i,a);var u=Ba;if(u&&i){var f=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ln(f)+'"][href="'+Ln(i)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=$a(i)}if(!Bn.has(b)&&(i=g({rel:"modulepreload",href:i},a),Bn.set(b,i),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(hl(b)))return}f=u.createElement("link"),zt(f,"link",i),Tt(f),u.head.appendChild(f)}}}function gA(i,a,u){Oi.S(i,a,u);var f=Ba;if(f&&i){var y=sa(f).hoistableStyles,b=Ua(i);a=a||"default";var T=y.get(b);if(!T){var L={loading:0,preload:null};if(T=f.querySelector(fl(b)))L.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":a},u),(u=Bn.get(b))&&ch(i,u);var B=T=f.createElement("link");Tt(B),zt(B,"link",i),B._p=new Promise(function(J,re){B.onload=J,B.onerror=re}),B.addEventListener("load",function(){L.loading|=1}),B.addEventListener("error",function(){L.loading|=2}),L.loading|=4,_u(T,a,f)}T={type:"stylesheet",instance:T,count:1,state:L},y.set(b,T)}}}function yA(i,a){Oi.X(i,a);var u=Ba;if(u&&i){var f=sa(u).hoistableScripts,y=$a(i),b=f.get(y);b||(b=u.querySelector(hl(y)),b||(i=g({src:i,async:!0},a),(a=Bn.get(y))&&dh(i,a),b=u.createElement("script"),Tt(b),zt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function xA(i,a){Oi.M(i,a);var u=Ba;if(u&&i){var f=sa(u).hoistableScripts,y=$a(i),b=f.get(y);b||(b=u.querySelector(hl(y)),b||(i=g({src:i,async:!0,type:"module"},a),(a=Bn.get(y))&&dh(i,a),b=u.createElement("script"),Tt(b),zt(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function bv(i,a,u,f){var y=(y=Te.current)?Su(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ua(u.href),u=sa(y).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Ua(u.href);var b=sa(y).hoistableStyles,T=b.get(i);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,T),(b=y.querySelector(fl(i)))&&!b._p&&(T.instance=b,T.state.loading=5),Bn.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Bn.set(i,u),b||bA(y,i,u,T.state))),a&&f===null)throw Error(r(528,""));return T}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$a(u),u=sa(y).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ua(i){return'href="'+Ln(i)+'"'}function fl(i){return'link[rel="stylesheet"]['+i+"]"}function vv(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function bA(i,a,u,f){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=i.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),zt(a,"link",u),Tt(a),i.head.appendChild(a))}function $a(i){return'[src="'+Ln(i)+'"]'}function hl(i){return"script[async]"+i}function wv(i,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=i.querySelector('style[data-href~="'+Ln(u.href)+'"]');if(f)return a.instance=f,Tt(f),f;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),Tt(f),zt(f,"style",y),_u(f,u.precedence,i),a.instance=f;case"stylesheet":y=Ua(u.href);var b=i.querySelector(fl(y));if(b)return a.state.loading|=4,a.instance=b,Tt(b),b;f=vv(u),(y=Bn.get(y))&&ch(f,y),b=(i.ownerDocument||i).createElement("link"),Tt(b);var T=b;return T._p=new Promise(function(L,B){T.onload=L,T.onerror=B}),zt(b,"link",f),a.state.loading|=4,_u(b,u.precedence,i),a.instance=b;case"script":return b=$a(u.src),(y=i.querySelector(hl(b)))?(a.instance=y,Tt(y),y):(f=u,(y=Bn.get(b))&&(f=g({},u),dh(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),Tt(y),zt(y,"link",f),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,_u(f,u.precedence,i));return a.instance}function _u(i,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,T=0;T<f.length;T++){var L=f[T];if(L.dataset.precedence===a)b=L;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(i,a.firstChild))}function ch(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function dh(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ju=null;function Sv(i,a,u){if(ju===null){var f=new Map,y=ju=new Map;y.set(u,f)}else y=ju,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var b=u[y];if(!(b[ks]||b[Ut]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var T=b.getAttribute(a)||"";T=i+T;var L=f.get(T);L?L.push(b):f.set(T,[b])}}return f}function _v(i,a,u){i=i.ownerDocument||i,i.head.insertBefore(u,a==="title"?i.querySelector("head > title"):null)}function vA(i,a,u){if(u===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function jv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ml=null;function wA(){}function SA(i,a,u){if(ml===null)throw Error(r(475));var f=ml;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=Ua(u.href),b=i.querySelector(fl(y));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(f.count++,f=Cu.bind(f),i.then(f,f)),a.state.loading|=4,a.instance=b,Tt(b);return}b=i.ownerDocument||i,u=vv(u),(y=Bn.get(y))&&ch(u,y),b=b.createElement("link"),Tt(b);var T=b;T._p=new Promise(function(L,B){T.onload=L,T.onerror=B}),zt(b,"link",u),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Cu.bind(f),i.addEventListener("load",a),i.addEventListener("error",a))}}function _A(){if(ml===null)throw Error(r(475));var i=ml;return i.stylesheets&&i.count===0&&fh(i,i.stylesheets),0<i.count?function(a){var u=setTimeout(function(){if(i.stylesheets&&fh(i,i.stylesheets),i.unsuspend){var f=i.unsuspend;i.unsuspend=null,f()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)fh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ku=null;function fh(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ku=new Map,a.forEach(jA,i),ku=null,Cu.call(i))}function jA(i,a){if(!(a.state.loading&4)){var u=ku.get(i);if(u)var f=u.get(null);else{u=new Map,ku.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var T=y[b];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),f=T)}f&&u.set(null,f)}y=a.instance,T=y.getAttribute("data-precedence"),b=u.get(T)||f,b===f&&u.set(null,y),u.set(T,y),this.count++,f=Cu.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var pl={$$typeof:j,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function CA(i,a,u,f,y,b,T,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ld(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ld(0),this.hiddenUpdates=ld(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Cv(i,a,u,f,y,b,T,L,B,J,re,le){return i=new CA(i,a,u,T,L,B,J,le),a=1,b===!0&&(a|=24),b=gn(3,null,null,a),i.current=b,b.stateNode=i,a=Hd(),a.refCount++,i.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},Wd(b),i}function kv(i){return i?(i=xa,i):xa}function Tv(i,a,u,f,y,b){y=kv(y),f.context===null?f.context=y:f.pendingContext=y,f=Ki(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Yi(i,f,a),u!==null&&(wn(u,i,a),Fs(u,i,a))}function Av(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<a?u:a}}function hh(i,a){Av(i,a),(i=i.alternate)&&Av(i,a)}function Ev(i){if(i.tag===13){var a=ya(i,67108864);a!==null&&wn(a,i,67108864),hh(i,67108864)}}var Tu=!0;function kA(i,a,u,f){var y=$.T;$.T=null;var b=U.p;try{U.p=2,mh(i,a,u,f)}finally{U.p=b,$.T=y}}function TA(i,a,u,f){var y=$.T;$.T=null;var b=U.p;try{U.p=8,mh(i,a,u,f)}finally{U.p=b,$.T=y}}function mh(i,a,u,f){if(Tu){var y=ph(f);if(y===null)th(i,a,f,Au,u),Rv(i,f);else if(EA(y,i,a,u,f))f.stopPropagation();else if(Rv(i,f),a&4&&-1<AA.indexOf(i)){for(;y!==null;){var b=aa(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var T=mn(b.pendingLanes);if(T!==0){var L=b;for(L.pendingLanes|=2,L.entangledLanes|=2;T;){var B=1<<31-we(T);L.entanglements[1]|=B,T&=~B}oi(b),($e&6)===0&&(du=fn()+500,ol(0))}}break;case 13:L=ya(b,2),L!==null&&wn(L,b,2),hu(),hh(b,2)}if(b=ph(f),b===null&&th(i,a,f,Au,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else th(i,a,f,null,u)}}function ph(i){return i=bd(i),gh(i)}var Au=null;function gh(i){if(Au=null,i=ra(i),i!==null){var a=l(i);if(a===null)i=null;else{var u=a.tag;if(u===13){if(i=o(a),i!==null)return i;i=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Au=i,null}function Mv(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(id()){case _s:return 2;case js:return 8;case na:case rd:return 32;case _o:return 268435456;default:return 32}default:return 32}}var yh=!1,lr=null,or=null,ur=null,gl=new Map,yl=new Map,cr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(i,a){switch(i){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":gl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(a.pointerId)}}function xl(i,a,u,f,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},a!==null&&(a=aa(a),a!==null&&Ev(a)),i):(i.eventSystemFlags|=f,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function EA(i,a,u,f,y){switch(a){case"focusin":return lr=xl(lr,i,a,u,f,y),!0;case"dragenter":return or=xl(or,i,a,u,f,y),!0;case"mouseover":return ur=xl(ur,i,a,u,f,y),!0;case"pointerover":var b=y.pointerId;return gl.set(b,xl(gl.get(b)||null,i,a,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,yl.set(b,xl(yl.get(b)||null,i,a,u,f,y)),!0}return!1}function Lv(i){var a=ra(i.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=o(u),a!==null){i.blockedOn=a,Sk(i.priority,function(){if(u.tag===13){var f=vn();f=od(f);var y=ya(u,f);y!==null&&wn(y,u,f),hh(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Eu(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var u=ph(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);xd=f,u.target.dispatchEvent(f),xd=null}else return a=aa(u),a!==null&&Ev(a),i.blockedOn=u,!1;a.shift()}return!0}function Dv(i,a,u){Eu(i)&&u.delete(a)}function MA(){yh=!1,lr!==null&&Eu(lr)&&(lr=null),or!==null&&Eu(or)&&(or=null),ur!==null&&Eu(ur)&&(ur=null),gl.forEach(Dv),yl.forEach(Dv)}function Mu(i,a){i.blockedOn===a&&(i.blockedOn=null,yh||(yh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,MA)))}var Ru=null;function Ov(i){Ru!==i&&(Ru=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ru===i&&(Ru=null);for(var a=0;a<i.length;a+=3){var u=i[a],f=i[a+1],y=i[a+2];if(typeof f!="function"){if(gh(f||u)===null)continue;break}var b=aa(u);b!==null&&(i.splice(a,3),a-=3,gf(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function bl(i){function a(B){return Mu(B,i)}lr!==null&&Mu(lr,i),or!==null&&Mu(or,i),ur!==null&&Mu(ur,i),gl.forEach(a),yl.forEach(a);for(var u=0;u<cr.length;u++){var f=cr[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<cr.length&&(u=cr[0],u.blockedOn===null);)Lv(u),u.blockedOn===null&&cr.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],T=y[en]||null;if(typeof b=="function")T||Ov(u);else if(T){var L=null;if(b&&b.hasAttribute("formAction")){if(y=b,T=b[en]||null)L=T.formAction;else if(gh(y)!==null)continue}else L=T.action;typeof L=="function"?u[f+1]=L:(u.splice(f,3),f-=3),Ov(u)}}}function xh(i){this._internalRoot=i}Lu.prototype.render=xh.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=vn();Tv(u,f,i,a,null,null)},Lu.prototype.unmount=xh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Tv(i.current,2,null,i,null,null),hu(),a[ia]=null}};function Lu(i){this._internalRoot=i}Lu.prototype.unstable_scheduleHydration=function(i){if(i){var a=Qg();i={blockedOn:null,target:i,priority:a};for(var u=0;u<cr.length&&a!==0&&a<cr[u].priority;u++);cr.splice(u,0,i),u===0&&Lv(i)}};var zv=t.version;if(zv!=="19.1.1")throw Error(r(527,zv,"19.1.1"));U.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var RA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{ie=Du.inject(RA),oe=Du}catch(i){}}return kl.createRoot=function(i,a){if(!s(i))throw Error(r(299));var u=!1,f="",y=Qx,b=Zx,T=Jx,L=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks)),a=Cv(i,1,!1,null,null,u,f,y,b,T,L,null),i[ia]=a.current,eh(i),new xh(a)},kl.hydrateRoot=function(i,a,u){if(!s(i))throw Error(r(299));var f=!1,y="",b=Qx,T=Zx,L=Jx,B=null,J=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(L=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(B=u.unstable_transitionCallbacks),u.formState!==void 0&&(J=u.formState)),a=Cv(i,1,!0,a,u!=null?u:null,f,y,b,T,L,B,J),a.context=kv(null),u=a.current,f=vn(),f=od(f),y=Ki(f),y.callback=null,Yi(u,y,f),u=f,a.current.lanes=u,Cs(a,u),oi(a),i[ia]=a.current,eh(i),new Lu(a)},kl.version="19.1.1",kl}var Lw;function e$(){if(Lw)return um.exports;Lw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),um.exports=J8(),um.exports}var t$=e$();const n$=lo(t$),i$=["insertBefore","not a child of this node"],r$=["Importing a module script failed","Failed to resolve module specifier","Method not found","module script failed"],a$=r$.map(e=>e.toLowerCase());function hp(e){const t=typeof e=="string"?e.toLowerCase():"";if(!t)return!1;const[n,r]=i$,s=t.includes(n.toLowerCase()),l=t.includes(r.toLowerCase());return!!(s&&l||t.includes("failed to execute 'insertbefore'"))}function s$(e){const t=typeof e=="string"?e.toLowerCase():"";return t?a$.some(n=>t.includes(n)):!1}const qu={DOM_RECONCILIATION:"react_dom_insertion_error",MODULE_LOADING:"module_resolution_error",IOS_SAFARI_MODULE:"ios_safari_module_error",FIREFOX_MOBILE_AUTH:"firefox_mobile_auth_error"};function l$(){zE()===void 0&&NE({dsn:"https://648e7e08e36307ea3dea4554e1d41501@o4509823318818816.ingest.us.sentry.io/4509823321047040",environment:"production",debug:!1,integrations:[IE(),PE({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,beforeSend(e){var t,n,r,s,l,o,d,h,m,g,p,x;const v=(navigator.userAgent||"").toLowerCase(),w=v.includes("firefox")&&(v.includes("mobile")||v.includes("tablet")),S=((r=(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0])==null?void 0:r.value)||e.message||"",k=S.toLowerCase();return k.includes("module script failed")&&(e.tags={...(s=e.tags)!=null?s:{},[qu.IOS_SAFARI_MODULE]:!0},(l=e.fingerprint)!=null&&l.length||(e.fingerprint=["ios-safari-module-loading-error"])),hp(S)?null:((k.includes("insertbefore")||k.includes("not a child of this node"))&&(e.tags={...(o=e.tags)!=null?o:{},[qu.DOM_RECONCILIATION]:!0},(d=e.fingerprint)!=null&&d.length||(e.fingerprint=["react-dom-insertion-error"])),s$(S)&&(e.tags={...(h=e.tags)!=null?h:{},[qu.MODULE_LOADING]:!0},(m=e.fingerprint)!=null&&m.length||(e.fingerprint=["module-resolution-error"])),w&&(e.tags={...(g=e.tags)!=null?g:{},firefox_mobile:!0},(k.includes("login")||k.includes("auth")||k.includes("firebase"))&&(e.tags={...(p=e.tags)!=null?p:{},[qu.FIREFOX_MOBILE_AUTH]:!0},(x=e.fingerprint)!=null&&x.length||(e.fingerprint=["firefox-mobile-auth-error"]))),e)}})}const o$=["development","test"].includes("production"),u$=()=>{const e=(t,n,r)=>{if(o$||t==="warn"||t==="error"){const s=console[t]||console.log;r?s(`[${t.toUpperCase()}] ${n}`,r):s(`[${t.toUpperCase()}] ${n}`)}};return{debug:(t,n)=>e("debug",t,n),info:(t,n)=>e("info",t,n),warn:(t,n)=>e("warn",t,n),error:(t,n)=>e("error",t,n)}},so=u$();function c$(e){if(!e)return"Unknown error occurred";if(e instanceof Error)return e.stack||e.message||e.toString();try{return JSON.stringify(e,null,2)}catch(t){return String(e)}}function d$({error:e,resetError:t}){const{t:n}=de(),r=_.useMemo(()=>{var s,l;if(!(typeof window!="undefined"))return vh("light");try{const h=(s=window.localStorage)==null?void 0:s.getItem("gameSettings");if(h){const m=JSON.parse(h),g=((l=m.state)==null?void 0:l.settings)||m.settings;if(g!=null&&g.themeMode)return vh(g.themeMode)}}catch(h){}const d=!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return vh(d?"dark":"light")},[]);return c.jsx(mE,{theme:r,children:c.jsxs(H,{sx:{p:2.5,textAlign:"center"},children:[c.jsx("h2",{children:n("somethingWentWrong")}),c.jsx("p",{children:n("errorReportedToTeam")}),c.jsx("p",{children:n("errorPersistsCheckBack")}),c.jsxs(H,{component:"details",sx:{mt:1.25},children:[c.jsx(H,{component:"summary",sx:{cursor:"pointer"},children:n("errorDetails")}),c.jsx(H,{component:"pre",sx:{textAlign:"left",bgcolor:"action.hover",p:1.25,my:1.25,borderRadius:1,overflow:"auto"},children:c$(e)})]}),c.jsx(he,{variant:"contained",onClick:t,sx:{mt:1.25},children:n("tryAgain")})]})})}class f$ extends Rt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){const n=t instanceof Error?t.message:String(t!=null?t:"");return hp(n)?{hasError:!1,error:null}:{hasError:!0,error:t instanceof Error?t:new Error(n)}}componentDidCatch(t,n){const r=t.message||"";hp(r)||BE(s=>{s.setTag("component_error_boundary",!0),s.setContext("errorInfo",{componentStack:n.componentStack}),UE(t)})}render(){if(this.state.hasError&&this.state.error){const t=this.props.fallback;return c.jsx(t,{error:this.state.error,resetError:()=>this.setState({hasError:!1,error:null})})}return this.props.children}}var h$=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),rk=function(e,t,n,r){function s(l){return l instanceof n?l:new n((function(o){o(l)}))}return new(n||(n=Promise))((function(l,o){function d(g){try{m(r.next(g))}catch(p){o(p)}}function h(g){try{m(r.throw(g))}catch(p){o(p)}}function m(g){g.done?l(g.value):s(g.value).then(d,h)}m((r=r.apply(e,t||[])).next())}))},ak=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,s,l,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(m){return function(g){return h([m,g])}}function h(m){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,m[0]&&(n=0)),n;)try{if(r=1,s&&(l=m[0]&2?s.return:m[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,m[1])).done)return l;switch(s=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){n.label=m[1];break}if(m[0]===6&&n.label<l[1]){n.label=l[1],l=m;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(m);break}l[2]&&n.ops.pop(),n.trys.pop();continue}m=t.call(e,n)}catch(g){m=[6,g],s=0}finally{r=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Dw=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,l;r<s;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))},m$="ionicpwaelements",lc,sk,_n=!1,mp=!1,$i=function(e,t){return function(){}},p$=function(e,t){return function(){}},g$="{visibility:hidden}.hydrated{visibility:inherit}",Ow={},y$="http://www.w3.org/2000/svg",x$="http://www.w3.org/1999/xhtml",b$=function(e){return e!=null},Vg=function(e){return e=typeof e,e==="object"||e==="function"};function lk(e){var t,n,r;return(r=(n=(t=e.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||n===void 0?void 0:n.getAttribute("content"))!==null&&r!==void 0?r:void 0}var v$=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var s=null,l=!1,o=!1,d=[],h=function(p){for(var x=0;x<p.length;x++)s=p[x],Array.isArray(s)?h(s):s!=null&&typeof s!="boolean"&&((l=typeof e!="function"&&!Vg(s))&&(s=String(s)),l&&o?d[d.length-1].$text$+=s:d.push(l?pp(null,s):s),o=l)};if(h(n),t){var m=t.className||t.class;m&&(t.class=typeof m!="object"?m:Object.keys(m).filter((function(p){return m[p]})).join(" "))}var g=pp(e,null);return g.$attrs$=t,d.length>0&&(g.$children$=d),g},pp=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return n.$attrs$=null,n},w$={},S$=function(e){return e&&e.$tag$===w$},_$=function(e,t){return e!=null&&!Vg(e)?t&4?e==="false"?!1:e===""||!!e:t&2?parseFloat(e):t&1?String(e):e:e},j$=function(e){return wr(e).$hostElement$},hV=function(e,t,n){var r=j$(e);return{emit:function(s){return ok(r,t,{bubbles:!0,composed:!0,cancelable:!0,detail:s})}}},ok=function(e,t,n){var r=Lt.ce(t,n);return e.dispatchEvent(r),r},zw=new WeakMap,C$=function(e,t,n){var r=Ec.get(e);Y$&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=t:r.replaceSync(t)):r=t,Ec.set(e,r)},k$=function(e,t,n,r){var s,l=uk(t),o=Ec.get(l);if(e=e.nodeType===11?e:Jn,o)if(typeof o=="string"){e=e.head||e;var d=zw.get(e),h=void 0;if(d||zw.set(e,d=new Set),!d.has(l)){{h=Jn.createElement("style"),h.innerHTML=o;var m=(s=Lt.$nonce$)!==null&&s!==void 0?s:lk(Jn);m!=null&&h.setAttribute("nonce",m),e.insertBefore(h,e.querySelector("link"))}d&&d.add(l)}}else e.adoptedStyleSheets.includes(o)||(e.adoptedStyleSheets=Dw(Dw([],e.adoptedStyleSheets,!0),[o],!1));return l},T$=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,s=$i("attachStyles",t.$tagName$),l=k$(n.shadowRoot?n.shadowRoot:n.getRootNode(),t);r&10&&(n["s-sc"]=l,n.classList.add(l+"-h")),s()},uk=function(e,t){return"sc-"+e.$tagName$},Nw=function(e,t,n,r,s,l){if(n!==r){var o=Pw(e,t),d=t.toLowerCase();if(t==="class"){var h=e.classList,m=Iw(n),g=Iw(r);h.remove.apply(h,m.filter((function(w){return w&&!g.includes(w)}))),h.add.apply(h,g.filter((function(w){return w&&!m.includes(w)})))}else if(t==="style"){for(var p in n)(!r||r[p]==null)&&(p.includes("-")?e.style.removeProperty(p):e.style[p]="");for(var p in r)(!n||r[p]!==n[p])&&(p.includes("-")?e.style.setProperty(p,r[p]):e.style[p]=r[p])}else if(t==="ref")r&&r(e);else if(!o&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):Pw(nd,d)?t=d.slice(2):t=d[2]+t.slice(3),n&&Lt.rel(e,t,n,!1),r&&Lt.ael(e,t,r,!1);else{var x=Vg(r);if((o||x&&r!==null)&&!s)try{if(e.tagName.includes("-"))e[t]=r;else{var v=r==null?"":r;t==="list"?o=!1:(n==null||e[t]!=v)&&(e[t]=v)}}catch(w){}r==null||r===!1?(r!==!1||e.getAttribute(t)==="")&&e.removeAttribute(t):(!o||l&4||s)&&!x&&(r=r===!0?"":r,e.setAttribute(t,r))}}},A$=/\s/,Iw=function(e){return e?e.split(A$):[]},ck=function(e,t,n,r){var s=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,l=e&&e.$attrs$||Ow,o=t.$attrs$||Ow;for(r in l)r in o||Nw(s,r,l[r],void 0,n,t.$flags$);for(r in o)Nw(s,r,l[r],o[r],n,t.$flags$)},Gg=function(e,t,n,r){var s=t.$children$[n],l=0,o,d;if(s.$text$!==null)o=s.$elm$=Jn.createTextNode(s.$text$);else{if(_n||(_n=s.$tag$==="svg"),o=s.$elm$=Jn.createElementNS(_n?y$:x$,s.$tag$),_n&&s.$tag$==="foreignObject"&&(_n=!1),ck(null,s,_n),b$(lc)&&o["s-si"]!==lc&&o.classList.add(o["s-si"]=lc),s.$children$)for(l=0;l<s.$children$.length;++l)d=Gg(e,s,l),d&&o.appendChild(d);s.$tag$==="svg"?_n=!1:o.tagName==="foreignObject"&&(_n=!0)}return o},dk=function(e,t,n,r,s,l){var o=e,d;for(o.shadowRoot&&o.tagName===sk&&(o=o.shadowRoot);s<=l;++s)r[s]&&(d=Gg(null,n,s),d&&(r[s].$elm$=d,o.insertBefore(d,t)))},fk=function(e,t,n){for(var r=t;r<=n;++r){var s=e[r];if(s){var l=s.$elm$;hk(s),l&&l.remove()}}},E$=function(e,t,n,r){for(var s=0,l=0,o=t.length-1,d=t[0],h=t[o],m=r.length-1,g=r[0],p=r[m],x;s<=o&&l<=m;)d==null?d=t[++s]:h==null?h=t[--o]:g==null?g=r[++l]:p==null?p=r[--m]:Fu(d,g)?(Ml(d,g),d=t[++s],g=r[++l]):Fu(h,p)?(Ml(h,p),h=t[--o],p=r[--m]):Fu(d,p)?(Ml(d,p),e.insertBefore(d.$elm$,h.$elm$.nextSibling),d=t[++s],p=r[--m]):Fu(h,g)?(Ml(h,g),e.insertBefore(h.$elm$,d.$elm$),h=t[--o],g=r[++l]):(x=Gg(t&&t[l],n,l),g=r[++l],x&&d.$elm$.parentNode.insertBefore(x,d.$elm$));s>o?dk(e,r[m+1]==null?null:r[m+1].$elm$,n,r,l,m):l>m&&fk(t,s,o)},Fu=function(e,t){return e.$tag$===t.$tag$},Ml=function(e,t){var n=t.$elm$=e.$elm$,r=e.$children$,s=t.$children$,l=t.$tag$,o=t.$text$;o===null?(_n=l==="svg"?!0:l==="foreignObject"?!1:_n,ck(e,t,_n),r!==null&&s!==null?E$(n,r,t,s):s!==null?(e.$text$!==null&&(n.textContent=""),dk(n,null,t,s,0,s.length-1)):r!==null&&fk(r,0,r.length-1),_n&&l==="svg"&&(_n=!1)):e.$text$!==o&&(n.data=o)},hk=function(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(hk)},M$=function(e,t){var n=e.$hostElement$,r=e.$vnode$||pp(null,null),s=S$(t)?t:v$(null,null,t);sk=n.tagName,s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=r.$elm$=n.shadowRoot||n,lc=n["s-sc"],Ml(r,s)},mk=function(e,t){t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(n){return e.$onRenderResolve$=n})))},td=function(e,t){if(e.$flags$|=16,e.$flags$&4){e.$flags$|=512;return}mk(e,e.$ancestorComponent$);var n=function(){return R$(e,t)};return W$(n)},R$=function(e,t){var n=$i("scheduleUpdate",e.$cmpMeta$.$tagName$),r=e.$lazyInstance$,s;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(l){var o=l[0],d=l[1];return qg(r,o,d)})),e.$queuedListeners$=void 0)),n(),L$(s,(function(){return O$(e,r,t)}))},L$=function(e,t){return D$(e)?e.then(t):t()},D$=function(e){return e instanceof Promise||e&&e.then&&typeof e.then=="function"},O$=function(e,t,n){return rk(void 0,void 0,void 0,(function(){var r,s,l,o,d,h,m;return ak(this,(function(g){return s=e.$hostElement$,l=$i("update",e.$cmpMeta$.$tagName$),o=s["s-rc"],n&&T$(e),d=$i("render",e.$cmpMeta$.$tagName$),z$(e,t),o&&(o.map((function(p){return p()})),s["s-rc"]=void 0),d(),l(),h=(r=s["s-p"])!==null&&r!==void 0?r:[],m=function(){return N$(e)},h.length===0?m():(Promise.all(h).then(m),e.$flags$|=4,h.length=0),[2]}))}))},z$=function(e,t,n){try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,M$(e,t)}catch(r){Qn(r,e.$hostElement$)}return null},N$=function(e){e.$cmpMeta$.$tagName$;var t=e.$hostElement$,n=$i(),r=e.$lazyInstance$,s=e.$ancestorComponent$;e.$flags$&64?n():(e.$flags$|=64,gk(t),qg(r,"componentDidLoad"),n(),e.$onReadyResolve$(t),s||pk()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),e.$flags$&512&&Hg((function(){return td(e,!1)})),e.$flags$&=-517},mV=function(e){{var t=wr(e),n=t.$hostElement$.isConnected;return n&&(t.$flags$&18)===2&&td(t,!1),n}},pk=function(e){gk(Jn.documentElement),Hg((function(){return ok(nd,"appload",{detail:{namespace:m$}})}))},qg=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(r){Qn(r)}},gk=function(e){return e.classList.add("hydrated")},I$=function(e,t){return wr(e).$instanceValues$.get(t)},P$=function(e,t,n,r){var s=wr(e),l=s.$instanceValues$.get(t),o=s.$flags$,d=s.$lazyInstance$;n=_$(n,r.$members$[t][0]);var h=Number.isNaN(l)&&Number.isNaN(n),m=n!==l&&!h;(!(o&8)||l===void 0)&&m&&(s.$instanceValues$.set(t,n),d&&(o&18)===2&&td(s,!1))},yk=function(e,t,n){if(t.$members$){var r=Object.entries(t.$members$),s=e.prototype;if(r.map((function(o){var d=o[0],h=o[1][0];h&31||n&2&&h&32?Object.defineProperty(s,d,{get:function(){return I$(this,d)},set:function(m){P$(this,d,m,t)},configurable:!0,enumerable:!0}):n&1&&h&64&&Object.defineProperty(s,d,{value:function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];var p=wr(this);return p.$onInstancePromise$.then((function(){var x;return(x=p.$lazyInstance$)[d].apply(x,m)}))}})})),n&1){var l=new Map;s.attributeChangedCallback=function(o,d,h){var m=this;Lt.jmp((function(){var g=l.get(o);if(m.hasOwnProperty(g))h=m[g],delete m[g];else if(s.hasOwnProperty(g)&&typeof m[g]=="number"&&m[g]==h)return;m[g]=h===null&&typeof m[g]=="boolean"?!1:h}))},e.observedAttributes=r.filter((function(o){o[0];var d=o[1];return d[0]&15})).map((function(o){var d=o[0],h=o[1],m=h[1]||d;return l.set(m,d),m}))}}return e},B$=function(e,t,n,r,s){return rk(void 0,void 0,void 0,(function(){var l,o,d,h,m,g,p;return ak(this,(function(x){switch(x.label){case 0:return(t.$flags$&32)!==0?[3,3]:(t.$flags$|=32,s=K$(n),s.then?(l=p$(),[4,s]):[3,2]);case 1:s=x.sent(),l(),x.label=2;case 2:s.isProxied||(yk(s,n,2),s.isProxied=!0),o=$i("createInstance",n.$tagName$),t.$flags$|=8;try{new s(t)}catch(v){Qn(v)}t.$flags$&=-9,o(),s.style&&(d=s.style,h=uk(n),Ec.has(h)||(m=$i("registerStyles",n.$tagName$),C$(h,d,!!(n.$flags$&1)),m())),x.label=3;case 3:return g=t.$ancestorComponent$,p=function(){return td(t,!0)},g&&g["s-rc"]?g["s-rc"].push(p):p(),[2]}}))}))},U$=function(e){if((Lt.$flags$&1)===0){var t=wr(e),n=t.$cmpMeta$,r=$i("connectedCallback",n.$tagName$);if(t.$flags$&1)xk(e,t,n.$listeners$);else{t.$flags$|=1;for(var s=e;s=s.parentNode||s.host;)if(s["s-p"]){mk(t,t.$ancestorComponent$=s);break}n.$members$&&Object.entries(n.$members$).map((function(l){var o=l[0],d=l[1][0];if(d&31&&e.hasOwnProperty(o)){var h=e[o];delete e[o],e[o]=h}})),B$(e,t,n)}r()}},$$=function(e){if((Lt.$flags$&1)===0){var t=wr(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map((function(r){return r()})),t.$rmListeners$=void 0),qg(n,"disconnectedCallback")}},V$=function(e,t){t===void 0&&(t={});var n,r=$i(),s=[],l=t.exclude||[],o=nd.customElements,d=Jn.head,h=d.querySelector("meta[charset]"),m=Jn.createElement("style"),g=[],p,x=!0;Object.assign(Lt,t),Lt.$resourcesUrl$=new URL(t.resourcesUrl||"./",Jn.baseURI).href,e.map((function(w){w[1].map((function(S){var k={$flags$:S[0],$tagName$:S[1],$members$:S[2],$listeners$:S[3]};k.$members$=S[2],k.$listeners$=S[3];var C=k.$tagName$,A=(function(j){h$(R,j);function R(M){var E=j.call(this,M)||this;return M=E,H$(M,k),k.$flags$&1&&M.attachShadow({mode:"open"}),E}return R.prototype.connectedCallback=function(){var M=this;p&&(clearTimeout(p),p=null),x?g.push(this):Lt.jmp((function(){return U$(M)}))},R.prototype.disconnectedCallback=function(){var M=this;Lt.jmp((function(){return $$(M)}))},R.prototype.componentOnReady=function(){return wr(this).$onReadyPromise$},R})(HTMLElement);k.$lazyBundleId$=w[0],!l.includes(C)&&!o.get(C)&&(s.push(C),o.define(C,yk(A,k,1)))}))}));{m.innerHTML=s+g$,m.setAttribute("data-styles","");var v=(n=Lt.$nonce$)!==null&&n!==void 0?n:lk(Jn);v!=null&&m.setAttribute("nonce",v),d.insertBefore(m,h?h.nextSibling:d.firstChild)}x=!1,g.length?g.map((function(w){return w.connectedCallback()})):Lt.jmp((function(){return p=setTimeout(pk,30)})),r()},xk=function(e,t,n,r){n&&n.map((function(s){var l=s[0],o=s[1],d=s[2],h=q$(e,l),m=G$(t,d),g=F$(l);Lt.ael(h,o,m,g),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return Lt.rel(h,o,m,g)}))}))},G$=function(e,t){return function(n){try{e.$flags$&256?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){Qn(r)}}},q$=function(e,t){return t&16?Jn.body:e},F$=function(e){return(e&2)!==0},Fg=new WeakMap,wr=function(e){return Fg.get(e)},pV=function(e,t){return Fg.set(t.$lazyInstance$=e,t)},H$=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise((function(r){return n.$onInstanceResolve$=r})),n.$onReadyPromise$=new Promise((function(r){return n.$onReadyResolve$=r})),e["s-p"]=[],e["s-rc"]=[],xk(e,n,t.$listeners$),Fg.set(e,n)},Pw=function(e,t){return t in e},Qn=function(e,t){return(0,console.error)(e,t)},fm=new Map,K$=function(e,t,n){var r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,l=fm.get(s);if(l)return l[r];{var o=function(d){return fm.set(s,d),d[r]};switch(s){case"pwa-action-sheet":return jn(()=>import("../js/pwa-action-sheet.entry.js-5jvA9XDi.js"),__vite__mapDeps([7,1,2,3,0,4])).then(o,Qn);case"pwa-camera-modal":return jn(()=>import("../js/pwa-camera-modal.entry.js-BzFE_NLB.js"),__vite__mapDeps([8,1,2,3,0,4])).then(o,Qn);case"pwa-toast":return jn(()=>import("../js/pwa-toast.entry.js-BJ3VXnrZ.js"),__vite__mapDeps([9,1,2,3,0,4])).then(o,Qn);case"pwa-camera-modal-instance":return jn(()=>import("../js/pwa-camera-modal-instance.entry.js-BY45wz0J.js"),__vite__mapDeps([10,1,2,3,0,4])).then(o,Qn);case"pwa-camera":return jn(()=>import("../js/pwa-camera.entry.js-TC21sI9Q.js"),__vite__mapDeps([11,1,2,3,0,4])).then(o,Qn)}}return jn(()=>import("./".concat(s,".entry.js").concat("")),[]).then((function(d){return fm.set(s,d),d[r]}),Qn)},Ec=new Map,nd=typeof window!="undefined"?window:{},Jn=nd.document||{head:{}},Lt={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)},ce:function(e,t){return new CustomEvent(e,t)}},bk=function(e){return Promise.resolve(e)},Y$=(function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(e){}return!1})(),Bw=[],vk=[],X$=function(e,t){return function(n){e.push(n),mp||(mp=!0,Lt.$flags$&4?Hg(gp):Lt.raf(gp))}},Uw=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){Qn(n)}e.length=0},gp=function(){Uw(Bw),Uw(vk),(mp=Bw.length>0)&&Lt.raf(gp)},Hg=function(e){return bk().then(e)},W$=X$(vk),Q$=function(){return bk()},Z$=function(e,t){return typeof window=="undefined"?Promise.resolve():Q$().then((function(){return V$([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)}))};(function(){if(typeof window!="undefined"&&window.Reflect!==void 0&&window.customElements!==void 0){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}})();typeof window!="undefined"&&!window.importShim&&(window.addEventListener("error",function(e){const t=e.message||e.error&&e.error.message;if(t&&typeof t=="string"&&(t.includes("Importing a module script failed")||t.includes("Failed to resolve module specifier")||t.includes("Method not found"))&&(so.warn("Module loading/resolution issue detected:",{message:t,event:e}),!sessionStorage.getItem("module_reload_attempted"))){sessionStorage.setItem("module_reload_attempted","1"),setTimeout(()=>window.location.reload(),1e3),e.preventDefault();return}}),window.addEventListener("unhandledrejection",function(e){const t=e.reason;if(t&&t.message){const n=t.message;(n.includes("module script failed")||n.includes("Failed to resolve module specifier")||n.includes("Method not found"))&&(so.warn("Dynamic import/method resolution failed:",{message:n,reason:t}),e.preventDefault())}}));l$();const $w=()=>{try{Z$(window)}catch(e){so.warn("Failed to load PWA elements:",e)}},Hu=(e,t=!1)=>{const n=document.createElement("link");return n.rel="stylesheet",n.href=`https://fonts.googleapis.com/css2?family=Roboto:wght@${e.join(";")}&display=swap`,n.crossOrigin="anonymous",n.onerror=()=>{so.warn("Failed to load Roboto font weights:",{weights:e})},t?document.head.insertBefore(n,document.head.firstChild):document.head.appendChild(n),n};typeof window!="undefined"&&("requestIdleCallback"in window?window.requestIdleCallback(()=>{if($w(),Hu(["400","500"],!0),document.readyState==="complete"){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;(!e||e.effectiveType!=="slow-2g")&&Hu(["300","700"])}else window.addEventListener("load",()=>{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;(!e||e.effectiveType!=="slow-2g")&&Hu(["300","700"])},{once:!0})},{timeout:500}):setTimeout(()=>{$w(),Hu(["400","500"],!0)},100));const J$=()=>{const e=document.getElementById("instant-loading");e&&(e.style.transition="opacity 200ms ease-out",e.style.opacity="0",requestAnimationFrame(()=>{setTimeout(()=>{const t=document.getElementById("instant-loading");if(t&&t.parentNode&&t.parentNode.contains(t))try{t.parentNode.removeChild(t)}catch(n){so.warn("Failed to remove instant loading element:",n),t.style.display="none"}},250)}))},eV=n$.createRoot(document.getElementById("root"));eV.render(c.jsx(Rt.StrictMode,{children:c.jsx(f$,{fallback:d$,children:c.jsx(X8,{children:c.jsx(Rt.Suspense,{fallback:null,children:c.jsx(W8,{})})})})}));J$();export{lV as A,D2 as B,O2 as C,U2 as G,w$ as H,B2 as I,R2 as M,P2 as Q,M2 as S,uV as a,Pt as b,hV as c,K2 as d,Ep as e,mV as f,j$ as g,v$ as h,oV as i,cV as j,dV as k,Uc as l,Yu as m,H2 as n,L2 as o,pm as p,z2 as q,pV as r,Y2 as s,N2 as t,Jr as u,GS as v,pS as w,I2 as x,gm as y,sV as z};
//# sourceMappingURL=index-je0F5tGk.js.map

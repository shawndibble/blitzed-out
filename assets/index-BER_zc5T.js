const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/pwa-action-sheet.entry.js-HD5UQtxt.js","js/chunk-N4nyP3yz.js","js/chunk-BHSFqGHu.js","js/chunk-CadZxfdX.js","js/chunk-Bde8qXua.js","js/pwa-camera-modal.entry.js-BpkeH4OB.js","js/pwa-toast.entry.js-DtmOy5th.js","js/pwa-camera-modal-instance.entry.js-BkRXguT-.js","js/pwa-camera.entry.js-Bxp4WCGk.js","js/index.tsx-BpEfZkbm.js","js/chunk-C27ee37V.js","js/chunk-DazuHQxB.js","js/chunk-IQBevIgc.js","js/chunk-PurwGftr.js","js/chunk-DbLlg4nu.js","js/chunk-BzS7F8Tt.js","js/chunk-Bp62TkGl.js","js/chunk-D_9T5wBr.js","js/index.tsx-Bfsaix-k.js","js/chunk-CZROAdFX.js","js/chunk-BlANXW2x.js","js/chunk-DLz9Y0sc.js","js/index.tsx-DoBW_gms.js","js/chunk-BpB-XA3T.js","js/chunk-Bz-4QXvr.js","js/chunk-B4PEA_xj.js","js/chunk-DWPmPthG.js","js/index.tsx-QOMOPbRj.js","js/index.tsx-DPV4x7Pi.js","js/index.tsx-dvc7LsAO.js","js/chunk-CwHqZEwd.js","js/chunk-By-oDuIf.js","js/chunk-CNgNUes7.js","js/chunk-D6tD9Wwo.js","js/index.tsx-WNBqmLB9.js","js/chunk-Dec7HA67.js","js/index.tsx-BlfupDtQ.js","js/chunk-Cu7_z1PM.js","js/index.tsx-BCTM9mYT.js"])))=>i.map(i=>d[i]);
var aE=Object.defineProperty;var lE=(a,t,i)=>t in a?aE(a,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[t]=i;var gf=(a,t,i)=>lE(a,typeof t!="symbol"?t+"":t,i);import{_ as rE,u as oE,a as Ly,j as pe,c as uE,r as cE,F as fE,B as hE,C as dE,T as pE,b as gE,d as mE}from"../js/chunk-N4nyP3yz.js";import{e as _E,f as yE,g as Gi,r as re,h as vE,d as SE,u as sh,B as bE,i as EE,j as mf,N as TE,k as xE,l as CE,a as $m}from"../js/chunk-BHSFqGHu.js";import{L as wE,a as G,_ as Uy,C as ky,r as po,s as at,j as ah,c as dn,b as Ks,m as go,d as AE,S as RE,e as OE,f as Ol,g as Xs,h as Iy,i as DE,D as ci,q as ME,k as NE,l as LE,n as If,o as zy,p as UE,t as Qi,u as kE,v as jo,w as IE,x as zE,y as jE,z as HE,A as BE,B as VE,E as $E,F as jy,G as qE,H as PE,I as Hy,J as YE,K as FE,M as By,N as xt,O as Ho,P as Ln,Q as GE,R as QE,T as Dl,U as Vy,V as KE,W as XE,X as ZE,Y as WE,Z as lh,$ as _l,a0 as yl,a1 as JE,a2 as e1,a3 as t1,a4 as n1,a5 as i1,a6 as s1,a7 as a1,a8 as l1,a9 as mo,aa as _o,ab as $y,ac as qy,ad as Py}from"../js/chunk-Bde8qXua.js";import{D as r1,r as o1,a as rh}from"../js/chunk-CadZxfdX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();const u1="modulepreload",c1=function(a){return"/"+a},qm={},z=function(t,i,s){let r=Promise.resolve();if(i&&i.length>0){let p=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=f?.nonce||f?.getAttribute("nonce");r=p(i.map(g=>{if(g=c1(g),g in qm)return;qm[g]=!0;const _=g.endsWith(".css"),y=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":u1,_||(S.as="script"),S.crossOrigin="",S.href=g,d&&S.setAttribute("nonce",d),document.head.appendChild(S),_)return new Promise((T,C)=>{S.addEventListener("load",T),S.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=f,window.dispatchEvent(d),!d.defaultPrevented)throw f}return r.then(f=>{for(const d of f||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};var f1=function(){var a=function(t,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(s[u]=r[u])},a(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");a(t,i);function s(){this.constructor=t}t.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}}(),Yy=function(a,t,i,s){function r(u){return u instanceof i?u:new i(function(f){f(u)})}return new(i||(i=Promise))(function(u,f){function d(_){try{g(s.next(_))}catch(y){f(y)}}function p(_){try{g(s.throw(_))}catch(y){f(y)}}function g(_){_.done?u(_.value):r(_.value).then(d,p)}g((s=s.apply(a,t||[])).next())})},Fy=function(a,t){var i={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,r,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,g[0]&&(i=0)),i;)try{if(s=1,r&&(u=g[0]&2?r.return:g[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,g[1])).done)return u;switch(r=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return i.label++,{value:g[1],done:!1};case 5:i.label++,r=g[1],g=[0];continue;case 7:g=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){i=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){i.label=g[1];break}if(g[0]===6&&i.label<u[1]){i.label=u[1],u=g;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(g);break}u[2]&&i.ops.pop(),i.trys.pop();continue}g=t.call(a,i)}catch(_){g=[6,_],r=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Pm=function(a,t,i){if(i||arguments.length===2)for(var s=0,r=t.length,u;s<r;s++)(u||!(s in t))&&(u||(u=Array.prototype.slice.call(t,0,s)),u[s]=t[s]);return a.concat(u||Array.prototype.slice.call(t))},h1="ionicpwaelements",io,Gy,Ut=!1,zf=!1,Un=function(a,t){return function(){}},d1=function(a,t){return function(){}},p1="{visibility:hidden}.hydrated{visibility:inherit}",Ym={},g1="http://www.w3.org/2000/svg",m1="http://www.w3.org/1999/xhtml",_1=function(a){return a!=null},oh=function(a){return a=typeof a,a==="object"||a==="function"};function Qy(a){var t,i,s;return(s=(i=(t=a.head)===null||t===void 0?void 0:t.querySelector('meta[name="csp-nonce"]'))===null||i===void 0?void 0:i.getAttribute("content"))!==null&&s!==void 0?s:void 0}var y1=function(a,t){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var r=null,u=!1,f=!1,d=[],p=function(y){for(var S=0;S<y.length;S++)r=y[S],Array.isArray(r)?p(r):r!=null&&typeof r!="boolean"&&((u=typeof a!="function"&&!oh(r))&&(r=String(r)),u&&f?d[d.length-1].$text$+=r:d.push(u?jf(null,r):r),f=u)};if(p(i),t){var g=t.className||t.class;g&&(t.class=typeof g!="object"?g:Object.keys(g).filter(function(y){return g[y]}).join(" "))}var _=jf(a,null);return _.$attrs$=t,d.length>0&&(_.$children$=d),_},jf=function(a,t){var i={$flags$:0,$tag$:a,$text$:t,$elm$:null,$children$:null};return i.$attrs$=null,i},v1={},S1=function(a){return a&&a.$tag$===v1},b1=function(a,t){return a!=null&&!oh(a)?t&4?a==="false"?!1:a===""||!!a:t&2?parseFloat(a):t&1?String(a):a:a},E1=function(a){return gi(a).$hostElement$},OO=function(a,t,i){var s=E1(a);return{emit:function(r){return Ky(s,t,{bubbles:!0,composed:!0,cancelable:!0,detail:r})}}},Ky=function(a,t,i){var s=st.ce(t,i);return a.dispatchEvent(s),s},Fm=new WeakMap,T1=function(a,t,i){var s=yo.get(a);F1&&i?(s=s||new CSSStyleSheet,typeof s=="string"?s=t:s.replaceSync(t)):s=t,yo.set(a,s)},x1=function(a,t,i,s){var r,u=Xy(t),f=yo.get(u);if(a=a.nodeType===11?a:Wt,f)if(typeof f=="string"){a=a.head||a;var d=Fm.get(a),p=void 0;if(d||Fm.set(a,d=new Set),!d.has(u)){{p=Wt.createElement("style"),p.innerHTML=f;var g=(r=st.$nonce$)!==null&&r!==void 0?r:Qy(Wt);g!=null&&p.setAttribute("nonce",g),a.insertBefore(p,a.querySelector("link"))}d&&d.add(u)}}else a.adoptedStyleSheets.includes(f)||(a.adoptedStyleSheets=Pm(Pm([],a.adoptedStyleSheets,!0),[f],!1));return u},C1=function(a){var t=a.$cmpMeta$,i=a.$hostElement$,s=t.$flags$,r=Un("attachStyles",t.$tagName$),u=x1(i.shadowRoot?i.shadowRoot:i.getRootNode(),t);s&10&&(i["s-sc"]=u,i.classList.add(u+"-h")),r()},Xy=function(a,t){return"sc-"+a.$tagName$},Gm=function(a,t,i,s,r,u){if(i!==s){var f=Km(a,t),d=t.toLowerCase();if(t==="class"){var p=a.classList,g=Qm(i),_=Qm(s);p.remove.apply(p,g.filter(function(C){return C&&!_.includes(C)})),p.add.apply(p,_.filter(function(C){return C&&!g.includes(C)}))}else if(t==="style"){for(var y in i)(!s||s[y]==null)&&(y.includes("-")?a.style.removeProperty(y):a.style[y]="");for(var y in s)(!i||s[y]!==i[y])&&(y.includes("-")?a.style.setProperty(y,s[y]):a.style[y]=s[y])}else if(t==="ref")s&&s(a);else if(!f&&t[0]==="o"&&t[1]==="n")t[2]==="-"?t=t.slice(3):Km(Vo,d)?t=d.slice(2):t=d[2]+t.slice(3),i&&st.rel(a,t,i,!1),s&&st.ael(a,t,s,!1);else{var S=oh(s);if((f||S&&s!==null)&&!r)try{if(a.tagName.includes("-"))a[t]=s;else{var T=s??"";t==="list"?f=!1:(i==null||a[t]!=T)&&(a[t]=T)}}catch{}s==null||s===!1?(s!==!1||a.getAttribute(t)==="")&&a.removeAttribute(t):(!f||u&4||r)&&!S&&(s=s===!0?"":s,a.setAttribute(t,s))}}},w1=/\s/,Qm=function(a){return a?a.split(w1):[]},Zy=function(a,t,i,s){var r=t.$elm$.nodeType===11&&t.$elm$.host?t.$elm$.host:t.$elm$,u=a&&a.$attrs$||Ym,f=t.$attrs$||Ym;for(s in u)s in f||Gm(r,s,u[s],void 0,i,t.$flags$);for(s in f)Gm(r,s,u[s],f[s],i,t.$flags$)},uh=function(a,t,i,s){var r=t.$children$[i],u=0,f,d;if(r.$text$!==null)f=r.$elm$=Wt.createTextNode(r.$text$);else{if(Ut||(Ut=r.$tag$==="svg"),f=r.$elm$=Wt.createElementNS(Ut?g1:m1,r.$tag$),Ut&&r.$tag$==="foreignObject"&&(Ut=!1),Zy(null,r,Ut),_1(io)&&f["s-si"]!==io&&f.classList.add(f["s-si"]=io),r.$children$)for(u=0;u<r.$children$.length;++u)d=uh(a,r,u),d&&f.appendChild(d);r.$tag$==="svg"?Ut=!1:f.tagName==="foreignObject"&&(Ut=!0)}return f},Wy=function(a,t,i,s,r,u){var f=a,d;for(f.shadowRoot&&f.tagName===Gy&&(f=f.shadowRoot);r<=u;++r)s[r]&&(d=uh(null,i,r),d&&(s[r].$elm$=d,f.insertBefore(d,t)))},Jy=function(a,t,i){for(var s=t;s<=i;++s){var r=a[s];if(r){var u=r.$elm$;ev(r),u&&u.remove()}}},A1=function(a,t,i,s){for(var r=0,u=0,f=t.length-1,d=t[0],p=t[f],g=s.length-1,_=s[0],y=s[g],S;r<=f&&u<=g;)d==null?d=t[++r]:p==null?p=t[--f]:_==null?_=s[++u]:y==null?y=s[--g]:Zr(d,_)?(cl(d,_),d=t[++r],_=s[++u]):Zr(p,y)?(cl(p,y),p=t[--f],y=s[--g]):Zr(d,y)?(cl(d,y),a.insertBefore(d.$elm$,p.$elm$.nextSibling),d=t[++r],y=s[--g]):Zr(p,_)?(cl(p,_),a.insertBefore(p.$elm$,d.$elm$),p=t[--f],_=s[++u]):(S=uh(t&&t[u],i,u),_=s[++u],S&&d.$elm$.parentNode.insertBefore(S,d.$elm$));r>f?Wy(a,s[g+1]==null?null:s[g+1].$elm$,i,s,u,g):u>g&&Jy(t,r,f)},Zr=function(a,t){return a.$tag$===t.$tag$},cl=function(a,t){var i=t.$elm$=a.$elm$,s=a.$children$,r=t.$children$,u=t.$tag$,f=t.$text$;f===null?(Ut=u==="svg"?!0:u==="foreignObject"?!1:Ut,Zy(a,t,Ut),s!==null&&r!==null?A1(i,s,t,r):r!==null?(a.$text$!==null&&(i.textContent=""),Wy(i,null,t,r,0,r.length-1)):s!==null&&Jy(s,0,s.length-1),Ut&&u==="svg"&&(Ut=!1)):a.$text$!==f&&(i.data=f)},ev=function(a){a.$attrs$&&a.$attrs$.ref&&a.$attrs$.ref(null),a.$children$&&a.$children$.map(ev)},R1=function(a,t){var i=a.$hostElement$,s=a.$vnode$||jf(null,null),r=S1(t)?t:y1(null,null,t);Gy=i.tagName,r.$tag$=null,r.$flags$|=4,a.$vnode$=r,r.$elm$=s.$elm$=i.shadowRoot||i,io=i["s-sc"],cl(s,r)},tv=function(a,t){t&&!a.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(function(i){return a.$onRenderResolve$=i}))},Bo=function(a,t){if(a.$flags$|=16,a.$flags$&4){a.$flags$|=512;return}tv(a,a.$ancestorComponent$);var i=function(){return O1(a,t)};return Q1(i)},O1=function(a,t){var i=Un("scheduleUpdate",a.$cmpMeta$.$tagName$),s=a.$lazyInstance$,r;return t&&(a.$flags$|=256,a.$queuedListeners$&&(a.$queuedListeners$.map(function(u){var f=u[0],d=u[1];return ch(s,f,d)}),a.$queuedListeners$=void 0)),i(),D1(r,function(){return N1(a,s,t)})},D1=function(a,t){return M1(a)?a.then(t):t()},M1=function(a){return a instanceof Promise||a&&a.then&&typeof a.then=="function"},N1=function(a,t,i){return Yy(void 0,void 0,void 0,function(){var s,r,u,f,d,p,g;return Fy(this,function(_){return r=a.$hostElement$,u=Un("update",a.$cmpMeta$.$tagName$),f=r["s-rc"],i&&C1(a),d=Un("render",a.$cmpMeta$.$tagName$),L1(a,t),f&&(f.map(function(y){return y()}),r["s-rc"]=void 0),d(),u(),p=(s=r["s-p"])!==null&&s!==void 0?s:[],g=function(){return U1(a)},p.length===0?g():(Promise.all(p).then(g),a.$flags$|=4,p.length=0),[2]})})},L1=function(a,t,i){try{t=t.render(),a.$flags$&=-17,a.$flags$|=2,R1(a,t)}catch(s){Xt(s,a.$hostElement$)}return null},U1=function(a){a.$cmpMeta$.$tagName$;var t=a.$hostElement$,i=Un(),s=a.$lazyInstance$,r=a.$ancestorComponent$;a.$flags$&64?i():(a.$flags$|=64,iv(t),ch(s,"componentDidLoad"),i(),a.$onReadyResolve$(t),r||nv()),a.$onInstanceResolve$(t),a.$onRenderResolve$&&(a.$onRenderResolve$(),a.$onRenderResolve$=void 0),a.$flags$&512&&hh(function(){return Bo(a,!1)}),a.$flags$&=-517},DO=function(a){{var t=gi(a),i=t.$hostElement$.isConnected;return i&&(t.$flags$&18)===2&&Bo(t,!1),i}},nv=function(a){iv(Wt.documentElement),hh(function(){return Ky(Vo,"appload",{detail:{namespace:h1}})})},ch=function(a,t,i){if(a&&a[t])try{return a[t](i)}catch(s){Xt(s)}},iv=function(a){return a.classList.add("hydrated")},k1=function(a,t){return gi(a).$instanceValues$.get(t)},I1=function(a,t,i,s){var r=gi(a),u=r.$instanceValues$.get(t),f=r.$flags$,d=r.$lazyInstance$;i=b1(i,s.$members$[t][0]);var p=Number.isNaN(u)&&Number.isNaN(i),g=i!==u&&!p;(!(f&8)||u===void 0)&&g&&(r.$instanceValues$.set(t,i),d&&(f&18)===2&&Bo(r,!1))},sv=function(a,t,i){if(t.$members$){var s=Object.entries(t.$members$),r=a.prototype;if(s.map(function(f){var d=f[0],p=f[1][0];p&31||i&2&&p&32?Object.defineProperty(r,d,{get:function(){return k1(this,d)},set:function(g){I1(this,d,g,t)},configurable:!0,enumerable:!0}):i&1&&p&64&&Object.defineProperty(r,d,{value:function(){for(var g=[],_=0;_<arguments.length;_++)g[_]=arguments[_];var y=gi(this);return y.$onInstancePromise$.then(function(){var S;return(S=y.$lazyInstance$)[d].apply(S,g)})}})}),i&1){var u=new Map;r.attributeChangedCallback=function(f,d,p){var g=this;st.jmp(function(){var _=u.get(f);if(g.hasOwnProperty(_))p=g[_],delete g[_];else if(r.hasOwnProperty(_)&&typeof g[_]=="number"&&g[_]==p)return;g[_]=p===null&&typeof g[_]=="boolean"?!1:p})},a.observedAttributes=s.filter(function(f){f[0];var d=f[1];return d[0]&15}).map(function(f){var d=f[0],p=f[1],g=p[1]||d;return u.set(g,d),g})}}return a},z1=function(a,t,i,s,r){return Yy(void 0,void 0,void 0,function(){var u,f,d,p,g,_,y;return Fy(this,function(S){switch(S.label){case 0:return(t.$flags$&32)!==0?[3,3]:(t.$flags$|=32,r=Y1(i),r.then?(u=d1(),[4,r]):[3,2]);case 1:r=S.sent(),u(),S.label=2;case 2:r.isProxied||(sv(r,i,2),r.isProxied=!0),f=Un("createInstance",i.$tagName$),t.$flags$|=8;try{new r(t)}catch(T){Xt(T)}t.$flags$&=-9,f(),r.style&&(d=r.style,p=Xy(i),yo.has(p)||(g=Un("registerStyles",i.$tagName$),T1(p,d,!!(i.$flags$&1)),g())),S.label=3;case 3:return _=t.$ancestorComponent$,y=function(){return Bo(t,!0)},_&&_["s-rc"]?_["s-rc"].push(y):y(),[2]}})})},j1=function(a){if((st.$flags$&1)===0){var t=gi(a),i=t.$cmpMeta$,s=Un("connectedCallback",i.$tagName$);if(t.$flags$&1)av(a,t,i.$listeners$);else{t.$flags$|=1;for(var r=a;r=r.parentNode||r.host;)if(r["s-p"]){tv(t,t.$ancestorComponent$=r);break}i.$members$&&Object.entries(i.$members$).map(function(u){var f=u[0],d=u[1][0];if(d&31&&a.hasOwnProperty(f)){var p=a[f];delete a[f],a[f]=p}}),z1(a,t,i)}s()}},H1=function(a){if((st.$flags$&1)===0){var t=gi(a),i=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(function(s){return s()}),t.$rmListeners$=void 0),ch(i,"disconnectedCallback")}},B1=function(a,t){t===void 0&&(t={});var i,s=Un(),r=[],u=t.exclude||[],f=Vo.customElements,d=Wt.head,p=d.querySelector("meta[charset]"),g=Wt.createElement("style"),_=[],y,S=!0;Object.assign(st,t),st.$resourcesUrl$=new URL(t.resourcesUrl||"./",Wt.baseURI).href,a.map(function(C){C[1].map(function(k){var L={$flags$:k[0],$tagName$:k[1],$members$:k[2],$listeners$:k[3]};L.$members$=k[2],L.$listeners$=k[3];var Q=L.$tagName$,F=function($){f1(Z,$);function Z(ne){var M=$.call(this,ne)||this;return ne=M,P1(ne,L),L.$flags$&1&&ne.attachShadow({mode:"open"}),M}return Z.prototype.connectedCallback=function(){var ne=this;y&&(clearTimeout(y),y=null),S?_.push(this):st.jmp(function(){return j1(ne)})},Z.prototype.disconnectedCallback=function(){var ne=this;st.jmp(function(){return H1(ne)})},Z.prototype.componentOnReady=function(){return gi(this).$onReadyPromise$},Z}(HTMLElement);L.$lazyBundleId$=C[0],!u.includes(Q)&&!f.get(Q)&&(r.push(Q),f.define(Q,sv(F,L,1)))})});{g.innerHTML=r+p1,g.setAttribute("data-styles","");var T=(i=st.$nonce$)!==null&&i!==void 0?i:Qy(Wt);T!=null&&g.setAttribute("nonce",T),d.insertBefore(g,p?p.nextSibling:d.firstChild)}S=!1,_.length?_.map(function(C){return C.connectedCallback()}):st.jmp(function(){return y=setTimeout(nv,30)}),s()},av=function(a,t,i,s){i&&i.map(function(r){var u=r[0],f=r[1],d=r[2],p=$1(a,u),g=V1(t,d),_=q1(u);st.ael(p,f,g,_),(t.$rmListeners$=t.$rmListeners$||[]).push(function(){return st.rel(p,f,g,_)})})},V1=function(a,t){return function(i){try{a.$flags$&256?a.$lazyInstance$[t](i):(a.$queuedListeners$=a.$queuedListeners$||[]).push([t,i])}catch(s){Xt(s)}}},$1=function(a,t){return t&16?Wt.body:a},q1=function(a){return(a&2)!==0},fh=new WeakMap,gi=function(a){return fh.get(a)},MO=function(a,t){return fh.set(t.$lazyInstance$=a,t)},P1=function(a,t){var i={$flags$:0,$hostElement$:a,$cmpMeta$:t,$instanceValues$:new Map};return i.$onInstancePromise$=new Promise(function(s){return i.$onInstanceResolve$=s}),i.$onReadyPromise$=new Promise(function(s){return i.$onReadyResolve$=s}),a["s-p"]=[],a["s-rc"]=[],av(a,i,t.$listeners$),fh.set(a,i)},Km=function(a,t){return t in a},Xt=function(a,t){return(0,console.error)(a,t)},_f=new Map,Y1=function(a,t,i){var s=a.$tagName$.replace(/-/g,"_"),r=a.$lazyBundleId$,u=_f.get(r);if(u)return u[s];{var f=function(d){return _f.set(r,d),d[s]};switch(r){case"pwa-action-sheet":return z(()=>import("../js/pwa-action-sheet.entry.js-HD5UQtxt.js"),__vite__mapDeps([0,1,2,3,4])).then(f,Xt);case"pwa-camera-modal":return z(()=>import("../js/pwa-camera-modal.entry.js-BpkeH4OB.js"),__vite__mapDeps([5,1,2,3,4])).then(f,Xt);case"pwa-toast":return z(()=>import("../js/pwa-toast.entry.js-DtmOy5th.js"),__vite__mapDeps([6,1,2,3,4])).then(f,Xt);case"pwa-camera-modal-instance":return z(()=>import("../js/pwa-camera-modal-instance.entry.js-BkRXguT-.js"),__vite__mapDeps([7,1,2,3,4])).then(f,Xt);case"pwa-camera":return z(()=>import("../js/pwa-camera.entry.js-Bxp4WCGk.js"),__vite__mapDeps([8,1,2,3,4])).then(f,Xt)}}return z(()=>import("./".concat(r,".entry.js").concat("")),[]).then(function(d){return _f.set(r,d),d[s]},Xt)},yo=new Map,Vo=typeof window<"u"?window:{},Wt=Vo.document||{head:{}},st={$flags$:0,$resourcesUrl$:"",jmp:function(a){return a()},raf:function(a){return requestAnimationFrame(a)},ael:function(a,t,i,s){return a.addEventListener(t,i,s)},rel:function(a,t,i,s){return a.removeEventListener(t,i,s)},ce:function(a,t){return new CustomEvent(a,t)}},lv=function(a){return Promise.resolve(a)},F1=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),Xm=[],rv=[],G1=function(a,t){return function(i){a.push(i),zf||(zf=!0,st.$flags$&4?hh(Hf):st.raf(Hf))}},Zm=function(a){for(var t=0;t<a.length;t++)try{a[t](performance.now())}catch(i){Xt(i)}a.length=0},Hf=function(){Zm(Xm),Zm(rv),(zf=Xm.length>0)&&st.raf(Hf)},hh=function(a){return lv().then(a)},Q1=G1(rv),K1=function(){return lv()},X1=function(a,t){return typeof window>"u"?Promise.resolve():K1().then(function(){return B1([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],t)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var a=HTMLElement;window.HTMLElement=function(){return Reflect.construct(a,[],this.constructor)},HTMLElement.prototype=a.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,a)}})();var yf={exports:{}},il={},vf={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function Z1(){return Wm||(Wm=1,function(a){function t(O,P){var X=O.length;O.push(P);e:for(;0<X;){var K=X-1>>>1,he=O[K];if(0<r(he,P))O[K]=P,O[X]=he,X=K;else break e}}function i(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var P=O[0],X=O.pop();if(X!==P){O[0]=X;e:for(var K=0,he=O.length,ie=he>>>1;K<ie;){var de=2*(K+1)-1,fe=O[de],Ne=de+1,lt=O[Ne];if(0>r(fe,X))Ne<he&&0>r(lt,fe)?(O[K]=lt,O[Ne]=X,K=Ne):(O[K]=fe,O[de]=X,K=de);else if(Ne<he&&0>r(lt,X))O[K]=lt,O[Ne]=X,K=Ne;else break e}}return P}function r(O,P){var X=O.sortIndex-P.sortIndex;return X!==0?X:O.id-P.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();a.unstable_now=function(){return f.now()-d}}var p=[],g=[],_=1,y=null,S=3,T=!1,C=!1,k=!1,L=!1,Q=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Z(O){for(var P=i(g);P!==null;){if(P.callback===null)s(g);else if(P.startTime<=O)s(g),P.sortIndex=P.expirationTime,t(p,P);else break;P=i(g)}}function ne(O){if(k=!1,Z(O),!C)if(i(p)!==null)C=!0,M||(M=!0,J());else{var P=i(g);P!==null&&ce(ne,P.startTime-O)}}var M=!1,q=-1,B=5,N=-1;function Y(){return L?!0:!(a.unstable_now()-N<B)}function V(){if(L=!1,M){var O=a.unstable_now();N=O;var P=!0;try{e:{C=!1,k&&(k=!1,F(q),q=-1),T=!0;var X=S;try{t:{for(Z(O),y=i(p);y!==null&&!(y.expirationTime>O&&Y());){var K=y.callback;if(typeof K=="function"){y.callback=null,S=y.priorityLevel;var he=K(y.expirationTime<=O);if(O=a.unstable_now(),typeof he=="function"){y.callback=he,Z(O),P=!0;break t}y===i(p)&&s(p),Z(O)}else s(p);y=i(p)}if(y!==null)P=!0;else{var ie=i(g);ie!==null&&ce(ne,ie.startTime-O),P=!1}}break e}finally{y=null,S=X,T=!1}P=void 0}}finally{P?J():M=!1}}}var J;if(typeof $=="function")J=function(){$(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ee=j.port2;j.port1.onmessage=V,J=function(){ee.postMessage(null)}}else J=function(){Q(V,0)};function ce(O,P){q=Q(function(){O(a.unstable_now())},P)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(O){switch(S){case 1:case 2:case 3:var P=3;break;default:P=S}var X=S;S=P;try{return O()}finally{S=X}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(O,P){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var X=S;S=O;try{return P()}finally{S=X}},a.unstable_scheduleCallback=function(O,P,X){var K=a.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?K+X:K):X=K,O){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=X+he,O={id:_++,callback:P,priorityLevel:O,startTime:X,expirationTime:he,sortIndex:-1},X>K?(O.sortIndex=X,t(g,O),i(p)===null&&O===i(g)&&(k?(F(q),q=-1):k=!0,ce(ne,X-K))):(O.sortIndex=he,t(p,O),C||T||(C=!0,M||(M=!0,J()))),O},a.unstable_shouldYield=Y,a.unstable_wrapCallback=function(O){var P=S;return function(){var X=S;S=P;try{return O.apply(this,arguments)}finally{S=X}}}}(Sf)),Sf}var Jm;function W1(){return Jm||(Jm=1,vf.exports=Z1()),vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function J1(){if(e_)return il;e_=1;var a=W1(),t=_E(),i=yE();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(s(188));return n!==e?null:e}for(var l=e,o=n;;){var c=l.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){l=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===l)return d(c),e;if(h===o)return d(c),n;h=h.sibling}throw Error(s(188))}if(l.return!==o.return)l=c,o=h;else{for(var m=!1,v=c.child;v;){if(v===l){m=!0,l=c,o=h;break}if(v===o){m=!0,o=c,l=h;break}v=v.sibling}if(!m){for(v=h.child;v;){if(v===l){m=!0,l=h,o=c;break}if(v===o){m=!0,o=h,l=c;break}v=v.sibling}if(!m)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:n}function g(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=g(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function J(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var j=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===j?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case L:return"Profiler";case k:return"StrictMode";case ne:return"Suspense";case M:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case $:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case B:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var ce=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},K=[],he=-1;function ie(e){return{current:e}}function de(e){0>he||(e.current=K[he],K[he]=null,he--)}function fe(e,n){he++,K[he]=e.current,e.current=n}var Ne=ie(null),lt=ie(null),sn=ie(null),Zi=ie(null);function Wi(e,n){switch(fe(sn,n),fe(lt,e),fe(Ne,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?mm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=mm(n),e=_m(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}de(Ne),fe(Ne,e)}function gn(){de(Ne),de(lt),de(sn)}function Ji(e){e.memoizedState!==null&&fe(Zi,e);var n=Ne.current,l=_m(n,e.type);n!==l&&(fe(lt,e),fe(Ne,l))}function jn(e){lt.current===e&&(de(Ne),de(lt)),Zi.current===e&&(de(Zi),Wa._currentValue=X)}var _i=Object.prototype.hasOwnProperty,yi=a.unstable_scheduleCallback,Hn=a.unstable_cancelCallback,es=a.unstable_shouldYield,sa=a.unstable_requestPaint,gt=a.unstable_now,aa=a.unstable_getCurrentPriorityLevel,ts=a.unstable_ImmediatePriority,nu=a.unstable_UserBlockingPriority,zl=a.unstable_NormalPriority,B0=a.unstable_LowPriority,Wh=a.unstable_IdlePriority,V0=a.log,$0=a.unstable_setDisableYieldValue,la=null,Ct=null;function Bn(e){if(typeof V0=="function"&&$0(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(la,e)}catch{}}var wt=Math.clz32?Math.clz32:Y0,q0=Math.log,P0=Math.LN2;function Y0(e){return e>>>=0,e===0?32:31-(q0(e)/P0|0)|0}var jl=256,Hl=4194304;function vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bl(e,n,l){var o=e.pendingLanes;if(o===0)return 0;var c=0,h=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~h,o!==0?c=vi(o):(m&=v,m!==0?c=vi(m):l||(l=v&~e,l!==0&&(c=vi(l))))):(v=o&~h,v!==0?c=vi(v):m!==0?c=vi(m):l||(l=o&~e,l!==0&&(c=vi(l)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:c}function ra(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function F0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jh(){var e=jl;return jl<<=1,(jl&4194048)===0&&(jl=256),e}function ed(){var e=Hl;return Hl<<=1,(Hl&62914560)===0&&(Hl=4194304),e}function iu(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function oa(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function G0(e,n,l,o,c,h){var m=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var v=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(l=m&~l;0<l;){var U=31-wt(l),H=1<<U;v[U]=0,b[U]=-1;var R=A[U];if(R!==null)for(A[U]=null,U=0;U<R.length;U++){var D=R[U];D!==null&&(D.lane&=-536870913)}l&=~H}o!==0&&td(e,o,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(m&~n))}function td(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-wt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function nd(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var o=31-wt(l),c=1<<o;c&n|e[o]&n&&(e[o]|=n),l&=~c}}function su(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function au(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function id(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Im(e.type))}function Q0(e,n){var l=P.p;try{return P.p=e,n()}finally{P.p=l}}var Vn=Math.random().toString(36).slice(2),ft="__reactFiber$"+Vn,mt="__reactProps$"+Vn,ns="__reactContainer$"+Vn,lu="__reactEvents$"+Vn,K0="__reactListeners$"+Vn,X0="__reactHandles$"+Vn,sd="__reactResources$"+Vn,ua="__reactMarker$"+Vn;function ru(e){delete e[ft],delete e[mt],delete e[lu],delete e[K0],delete e[X0]}function is(e){var n=e[ft];if(n)return n;for(var l=e.parentNode;l;){if(n=l[ns]||l[ft]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=bm(e);e!==null;){if(l=e[ft])return l;e=bm(e)}return n}e=l,l=e.parentNode}return null}function ss(e){if(e=e[ft]||e[ns]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ca(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function as(e){var n=e[sd];return n||(n=e[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[ua]=!0}var ad=new Set,ld={};function Si(e,n){ls(e,n),ls(e+"Capture",n)}function ls(e,n){for(ld[e]=n,e=0;e<n.length;e++)ad.add(n[e])}var Z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},od={};function W0(e){return _i.call(od,e)?!0:_i.call(rd,e)?!1:Z0.test(e)?od[e]=!0:(rd[e]=!0,!1)}function Vl(e,n,l){if(W0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function $l(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function mn(e,n,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+o)}}var ou,ud;function rs(e){if(ou===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);ou=n&&n[1]||"",ud=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+e+ud}var uu=!1;function cu(e,n){if(!e||uu)return"";uu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(D){var R=D}Reflect.construct(e,[],H)}else{try{H.call()}catch(D){R=D}e.call(H.prototype)}}else{try{throw Error()}catch(D){R=D}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),m=h[0],v=h[1];if(m&&v){var b=m.split(`
`),A=v.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===A.length)for(o=b.length-1,c=A.length-1;1<=o&&0<=c&&b[o]!==A[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==A[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==A[c]){var U=`
`+b[o].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=o&&0<=c);break}}}finally{uu=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?rs(l):""}function J0(e){switch(e.tag){case 26:case 27:case 5:return rs(e.type);case 16:return rs("Lazy");case 13:return rs("Suspense");case 19:return rs("SuspenseList");case 0:case 15:return cu(e.type,!1);case 11:return cu(e.type.render,!1);case 1:return cu(e.type,!0);case 31:return rs("Activity");default:return""}}function cd(e){try{var n="";do n+=J0(e),e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fd(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function eS(e){var n=fd(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(m){o=""+m,h.call(this,m)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(m){o=""+m},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ql(e){e._valueTracker||(e._valueTracker=eS(e))}function hd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),o="";return e&&(o=fd(e)?e.checked?"true":"false":e.value),e=o,e!==l?(n.setValue(e),!0):!1}function Pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tS=/[\n"\\]/g;function zt(e){return e.replace(tS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fu(e,n,l,o,c,h,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),n!=null?m==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+It(n)):e.value!==""+It(n)&&(e.value=""+It(n)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),n!=null?hu(e,m,It(n)):l!=null?hu(e,m,It(l)):o!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+It(v):e.removeAttribute("name")}function dd(e,n,l,o,c,h,m,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;l=l!=null?""+It(l):"",n=n!=null?""+It(n):l,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function hu(e,n,l){n==="number"&&Pl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function os(e,n,l,o){if(e=e.options,n){n={};for(var c=0;c<l.length;c++)n["$"+l[c]]=!0;for(l=0;l<e.length;l++)c=n.hasOwnProperty("$"+e[l].value),e[l].selected!==c&&(e[l].selected=c),c&&o&&(e[l].defaultSelected=!0)}else{for(l=""+It(l),n=null,c=0;c<e.length;c++){if(e[c].value===l){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function pd(e,n,l){if(n!=null&&(n=""+It(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+It(l):""}function gd(e,n,l,o){if(n==null){if(o!=null){if(l!=null)throw Error(s(92));if(ce(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),n=l}l=It(n),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function us(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var nS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function md(e,n,l){var o=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,l):typeof l!="number"||l===0||nS.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function _d(e,n,l){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&l[c]!==o&&md(e,c,o)}else for(var h in n)n.hasOwnProperty(h)&&md(e,h,n[h])}function du(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yl(e){return sS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pu=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,fs=null;function yd(e){var n=ss(e);if(n&&(e=n.stateNode)){var l=e[mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fu(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var o=l[n];if(o!==e&&o.form===e.form){var c=o[mt]||null;if(!c)throw Error(s(90));fu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<l.length;n++)o=l[n],o.form===e.form&&hd(o)}break e;case"textarea":pd(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&os(e,!!l.multiple,n,!1)}}}var mu=!1;function vd(e,n,l){if(mu)return e(n,l);mu=!0;try{var o=e(n);return o}finally{if(mu=!1,(cs!==null||fs!==null)&&(Dr(),cs&&(n=cs,e=fs,fs=cs=null,yd(n),e)))for(n=0;n<e.length;n++)yd(e[n])}}function fa(e,n){var l=e.stateNode;if(l===null)return null;var o=l[mt]||null;if(o===null)return null;l=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,n,typeof l));return l}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(_n)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){_u=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{_u=!1}var $n=null,yu=null,Fl=null;function Sd(){if(Fl)return Fl;var e,n=yu,l=n.length,o,c="value"in $n?$n.value:$n.textContent,h=c.length;for(e=0;e<l&&n[e]===c[e];e++);var m=l-e;for(o=1;o<=m&&n[l-o]===c[h-o];o++);return Fl=c.slice(e,1<o?1-o:void 0)}function Gl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ql(){return!0}function bd(){return!1}function _t(e){function n(l,o,c,h,m){this._reactName=l,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(l=e[v],this[v]=l?l(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ql:bd,this.isPropagationStopped=bd,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),n}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=_t(bi),da=_({},bi,{view:0,detail:0}),aS=_t(da),vu,Su,pa,Xl=_({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(vu=e.screenX-pa.screenX,Su=e.screenY-pa.screenY):Su=vu=0,pa=e),vu)},movementY:function(e){return"movementY"in e?e.movementY:Su}}),Ed=_t(Xl),lS=_({},Xl,{dataTransfer:0}),rS=_t(lS),oS=_({},da,{relatedTarget:0}),bu=_t(oS),uS=_({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),cS=_t(uS),fS=_({},bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hS=_t(fS),dS=_({},bi,{data:0}),Td=_t(dS),pS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _S(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mS[e])?!!n[e]:!1}function Eu(){return _S}var yS=_({},da,{key:function(e){if(e.key){var n=pS[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eu,charCode:function(e){return e.type==="keypress"?Gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vS=_t(yS),SS=_({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xd=_t(SS),bS=_({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eu}),ES=_t(bS),TS=_({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),xS=_t(TS),CS=_({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=_t(CS),AS=_({},bi,{newState:0,oldState:0}),RS=_t(AS),OS=[9,13,27,32],Tu=_n&&"CompositionEvent"in window,ga=null;_n&&"documentMode"in document&&(ga=document.documentMode);var DS=_n&&"TextEvent"in window&&!ga,Cd=_n&&(!Tu||ga&&8<ga&&11>=ga),wd=" ",Ad=!1;function Rd(e,n){switch(e){case"keyup":return OS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hs=!1;function MS(e,n){switch(e){case"compositionend":return Od(n);case"keypress":return n.which!==32?null:(Ad=!0,wd);case"textInput":return e=n.data,e===wd&&Ad?null:e;default:return null}}function NS(e,n){if(hs)return e==="compositionend"||!Tu&&Rd(e,n)?(e=Sd(),Fl=yu=$n=null,hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Cd&&n.locale!=="ko"?null:n.data;default:return null}}var LS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!LS[e.type]:n==="textarea"}function Md(e,n,l,o){cs?fs?fs.push(o):fs=[o]:cs=o,n=Ir(n,"onChange"),0<n.length&&(l=new Kl("onChange","change",null,l,o),e.push({event:l,listeners:n}))}var ma=null,_a=null;function US(e){fm(e,0)}function Zl(e){var n=ca(e);if(hd(n))return e}function Nd(e,n){if(e==="change")return n}var Ld=!1;if(_n){var xu;if(_n){var Cu="oninput"in document;if(!Cu){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Cu=typeof Ud.oninput=="function"}xu=Cu}else xu=!1;Ld=xu&&(!document.documentMode||9<document.documentMode)}function kd(){ma&&(ma.detachEvent("onpropertychange",Id),_a=ma=null)}function Id(e){if(e.propertyName==="value"&&Zl(_a)){var n=[];Md(n,_a,e,gu(e)),vd(US,n)}}function kS(e,n,l){e==="focusin"?(kd(),ma=n,_a=l,ma.attachEvent("onpropertychange",Id)):e==="focusout"&&kd()}function IS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zl(_a)}function zS(e,n){if(e==="click")return Zl(n)}function jS(e,n){if(e==="input"||e==="change")return Zl(n)}function HS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:HS;function ya(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),o=Object.keys(n);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var c=l[o];if(!_i.call(n,c)||!At(e[c],n[c]))return!1}return!0}function zd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,n){var l=zd(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=n&&o>=n)return{node:l,offset:n-e};e=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zd(l)}}function Hd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Hd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Pl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Pl(e.document)}return n}function wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var BS=_n&&"documentMode"in document&&11>=document.documentMode,ds=null,Au=null,va=null,Ru=!1;function Vd(e,n,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ru||ds==null||ds!==Pl(o)||(o=ds,"selectionStart"in o&&wu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),va&&ya(va,o)||(va=o,o=Ir(Au,"onSelect"),0<o.length&&(n=new Kl("onSelect","select",null,n,l),e.push({event:n,listeners:o}),n.target=ds)))}function Ei(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ps={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Ou={},$d={};_n&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Ti(e){if(Ou[e])return Ou[e];if(!ps[e])return e;var n=ps[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in $d)return Ou[e]=n[l];return e}var qd=Ti("animationend"),Pd=Ti("animationiteration"),Yd=Ti("animationstart"),VS=Ti("transitionrun"),$S=Ti("transitionstart"),qS=Ti("transitioncancel"),Fd=Ti("transitionend"),Gd=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function Gt(e,n){Gd.set(e,n),Si(n,[e])}var Qd=new WeakMap;function jt(e,n){if(typeof e=="object"&&e!==null){var l=Qd.get(e);return l!==void 0?l:(n={value:e,source:n,stack:cd(n)},Qd.set(e,n),n)}return{value:e,source:n,stack:cd(n)}}var Ht=[],gs=0,Mu=0;function Wl(){for(var e=gs,n=Mu=gs=0;n<e;){var l=Ht[n];Ht[n++]=null;var o=Ht[n];Ht[n++]=null;var c=Ht[n];Ht[n++]=null;var h=Ht[n];if(Ht[n++]=null,o!==null&&c!==null){var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}h!==0&&Kd(l,c,h)}}function Jl(e,n,l,o){Ht[gs++]=e,Ht[gs++]=n,Ht[gs++]=l,Ht[gs++]=o,Mu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nu(e,n,l,o){return Jl(e,n,l,o),er(e)}function ms(e,n){return Jl(e,null,null,n),er(e)}function Kd(e,n,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var c=!1,h=e.return;h!==null;)h.childLanes|=l,o=h.alternate,o!==null&&(o.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&n!==null&&(c=31-wt(l),e=h.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=l|536870912),h):null}function er(e){if(50<Pa)throw Pa=0,jc=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _s={};function PS(e,n,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,n,l,o){return new PS(e,n,l,o)}function Lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,n){var l=e.alternate;return l===null?(l=Rt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Xd(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function tr(e,n,l,o,c,h){var m=0;if(o=e,typeof e=="function")Lu(e)&&(m=1);else if(typeof e=="string")m=Fb(e,l,Ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=Rt(31,l,n,c),e.elementType=N,e.lanes=h,e;case C:return xi(l.children,c,h,n);case k:m=8,c|=24;break;case L:return e=Rt(12,l,n,c|2),e.elementType=L,e.lanes=h,e;case ne:return e=Rt(13,l,n,c),e.elementType=ne,e.lanes=h,e;case M:return e=Rt(19,l,n,c),e.elementType=M,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:case $:m=10;break e;case F:m=9;break e;case Z:m=11;break e;case q:m=14;break e;case B:m=16,o=null;break e}m=29,l=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=Rt(m,l,n,c),n.elementType=e,n.type=o,n.lanes=h,n}function xi(e,n,l,o){return e=Rt(7,e,o,n),e.lanes=l,e}function Uu(e,n,l){return e=Rt(6,e,null,n),e.lanes=l,e}function ku(e,n,l){return n=Rt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ys=[],vs=0,nr=null,ir=0,Bt=[],Vt=0,Ci=null,vn=1,Sn="";function wi(e,n){ys[vs++]=ir,ys[vs++]=nr,nr=e,ir=n}function Zd(e,n,l){Bt[Vt++]=vn,Bt[Vt++]=Sn,Bt[Vt++]=Ci,Ci=e;var o=vn;e=Sn;var c=32-wt(o)-1;o&=~(1<<c),l+=1;var h=32-wt(n)+c;if(30<h){var m=c-c%5;h=(o&(1<<m)-1).toString(32),o>>=m,c-=m,vn=1<<32-wt(n)+c|l<<c|o,Sn=h+e}else vn=1<<h|l<<c|o,Sn=e}function Iu(e){e.return!==null&&(wi(e,1),Zd(e,1,0))}function zu(e){for(;e===nr;)nr=ys[--vs],ys[vs]=null,ir=ys[--vs],ys[vs]=null;for(;e===Ci;)Ci=Bt[--Vt],Bt[Vt]=null,Sn=Bt[--Vt],Bt[Vt]=null,vn=Bt[--Vt],Bt[Vt]=null}var pt=null,Be=null,xe=!1,Ai=null,an=!1,ju=Error(s(519));function Ri(e){var n=Error(s(418,""));throw Ea(jt(n,e)),ju}function Wd(e){var n=e.stateNode,l=e.type,o=e.memoizedProps;switch(n[ft]=e,n[mt]=o,l){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(l=0;l<Fa.length;l++)be(Fa[l],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":be("invalid",n),dd(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ql(n);break;case"select":be("invalid",n);break;case"textarea":be("invalid",n),gd(n,o.value,o.defaultValue,o.children),ql(n)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||o.suppressHydrationWarning===!0||gm(n.textContent,l)?(o.popover!=null&&(be("beforetoggle",n),be("toggle",n)),o.onScroll!=null&&be("scroll",n),o.onScrollEnd!=null&&be("scrollend",n),o.onClick!=null&&(n.onclick=zr),n=!0):n=!1,n||Ri(e)}function Jd(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:pt=pt.return}}function Sa(e){if(e!==pt)return!1;if(!xe)return Jd(e),xe=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||ef(e.type,e.memoizedProps)),l=!l),l&&Be&&Ri(e),Jd(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(n===0){Be=Kt(e.nextSibling);break e}n--}else l!=="$"&&l!=="$!"&&l!=="$?"||n++;e=e.nextSibling}Be=null}}else n===27?(n=Be,si(e.type)?(e=af,af=null,Be=e):Be=n):Be=pt?Kt(e.stateNode.nextSibling):null;return!0}function ba(){Be=pt=null,xe=!1}function ep(){var e=Ai;return e!==null&&(St===null?St=e:St.push.apply(St,e),Ai=null),e}function Ea(e){Ai===null?Ai=[e]:Ai.push(e)}var Hu=ie(null),Oi=null,bn=null;function qn(e,n,l){fe(Hu,n._currentValue),n._currentValue=l}function En(e){e._currentValue=Hu.current,de(Hu)}function Bu(e,n,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===l)break;e=e.return}}function Vu(e,n,l,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var m=c.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=c;for(var b=0;b<n.length;b++)if(v.context===n[b]){h.lanes|=l,v=h.alternate,v!==null&&(v.lanes|=l),Bu(h.return,l,e),o||(m=null);break e}h=v.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(s(341));m.lanes|=l,h=m.alternate,h!==null&&(h.lanes|=l),Bu(m,l,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function Ta(e,n,l,o){e=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var v=c.type;At(c.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(c===Zi.current){if(m=c.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Wa):e=[Wa])}c=c.return}e!==null&&Vu(n,e,l,o),n.flags|=262144}function sr(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Oi=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return tp(Oi,e)}function ar(e,n){return Oi===null&&Di(e),tp(e,n)}function tp(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},bn===null){if(e===null)throw Error(s(308));bn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else bn=bn.next=n;return l}var YS=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},FS=a.unstable_scheduleCallback,GS=a.unstable_NormalPriority,Qe={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $u(){return{controller:new YS,data:new Map,refCount:0}}function xa(e){e.refCount--,e.refCount===0&&FS(GS,function(){e.controller.abort()})}var Ca=null,qu=0,Ss=0,bs=null;function QS(e,n){if(Ca===null){var l=Ca=[];qu=0,Ss=Yc(),bs={status:"pending",value:void 0,then:function(o){l.push(o)}}}return qu++,n.then(np,np),n}function np(){if(--qu===0&&Ca!==null){bs!==null&&(bs.status="fulfilled");var e=Ca;Ca=null,Ss=0,bs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KS(e,n){var l=[],o={status:"pending",value:null,reason:null,then:function(c){l.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<l.length;c++)(0,l[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<l.length;c++)(0,l[c])(void 0)}),o}var ip=O.S;O.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&QS(e,n),ip!==null&&ip(e,n)};var Mi=ie(null);function Pu(){var e=Mi.current;return e!==null?e:ke.pooledCache}function lr(e,n){n===null?fe(Mi,Mi.current):fe(Mi,n.pool)}function sp(){var e=Pu();return e===null?null:{parent:Qe._currentValue,pool:e}}var wa=Error(s(460)),ap=Error(s(474)),rr=Error(s(542)),Yu={then:function(){}};function lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function or(){}function rp(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(or,or),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e;default:if(typeof n.status=="string")n.then(or,or);else{if(e=ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,up(e),e}throw Aa=n,wa}}var Aa=null;function op(){if(Aa===null)throw Error(s(459));var e=Aa;return Aa=null,e}function up(e){if(e===wa||e===rr)throw Error(s(483))}var Pn=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(e,n,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(we&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=er(e),Kd(e,null,l),n}return Jl(e,o,n,l),er(e)}function Ra(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,nd(e,l)}}function Qu(e,n){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var c=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var m={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?c=h=m:h=h.next=m,l=l.next}while(l!==null);h===null?c=h=n:h=h.next=n}else c=h=n;l={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Ku=!1;function Oa(){if(Ku){var e=bs;if(e!==null)throw e}}function Da(e,n,l,o){Ku=!1;var c=e.updateQueue;Pn=!1;var h=c.firstBaseUpdate,m=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var b=v,A=b.next;b.next=null,m===null?h=A:m.next=A,m=b;var U=e.alternate;U!==null&&(U=U.updateQueue,v=U.lastBaseUpdate,v!==m&&(v===null?U.firstBaseUpdate=A:v.next=A,U.lastBaseUpdate=b))}if(h!==null){var H=c.baseState;m=0,U=A=b=null,v=h;do{var R=v.lane&-536870913,D=R!==v.lane;if(D?(Ee&R)===R:(o&R)===R){R!==0&&R===Ss&&(Ku=!0),U!==null&&(U=U.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var le=e,se=v;R=n;var Me=l;switch(se.tag){case 1:if(le=se.payload,typeof le=="function"){H=le.call(Me,H,R);break e}H=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=se.payload,R=typeof le=="function"?le.call(Me,H,R):le,R==null)break e;H=_({},H,R);break e;case 2:Pn=!0}}R=v.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=c.callbacks,D===null?c.callbacks=[R]:D.push(R))}else D={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},U===null?(A=U=D,b=H):U=U.next=D,m|=R;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;D=v,v=D.next,D.next=null,c.lastBaseUpdate=D,c.shared.pending=null}}while(!0);U===null&&(b=H),c.baseState=b,c.firstBaseUpdate=A,c.lastBaseUpdate=U,h===null&&(c.shared.lanes=0),ei|=m,e.lanes=m,e.memoizedState=H}}function cp(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function fp(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)cp(l[e],n)}var Es=ie(null),ur=ie(0);function hp(e,n){e=On,fe(ur,e),fe(Es,n),On=e|n.baseLanes}function Xu(){fe(ur,On),fe(Es,Es.current)}function Zu(){On=ur.current,de(Es),de(ur)}var Gn=0,ge=null,Oe=null,Ye=null,cr=!1,Ts=!1,Ni=!1,fr=0,Ma=0,xs=null,XS=0;function $e(){throw Error(s(321))}function Wu(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!At(e[l],n[l]))return!1;return!0}function Ju(e,n,l,o,c,h){return Gn=h,ge=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=e===null||e.memoizedState===null?Kp:Xp,Ni=!1,h=l(o,c),Ni=!1,Ts&&(h=pp(n,l,o,c)),dp(e),h}function dp(e){O.H=_r;var n=Oe!==null&&Oe.next!==null;if(Gn=0,Ye=Oe=ge=null,cr=!1,Ma=0,xs=null,n)throw Error(s(300));e===null||Je||(e=e.dependencies,e!==null&&sr(e)&&(Je=!0))}function pp(e,n,l,o){ge=e;var c=0;do{if(Ts&&(xs=null),Ma=0,Ts=!1,25<=c)throw Error(s(301));if(c+=1,Ye=Oe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}O.H=ib,h=n(l,o)}while(Ts);return h}function ZS(){var e=O.H,n=e.useState()[0];return n=typeof n.then=="function"?Na(n):n,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(ge.flags|=1024),n}function ec(){var e=fr!==0;return fr=0,e}function tc(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function nc(e){if(cr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}cr=!1}Gn=0,Ye=Oe=ge=null,Ts=!1,Ma=fr=0,xs=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ge.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Fe(){if(Oe===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=Ye===null?ge.memoizedState:Ye.next;if(n!==null)Ye=n,Oe=e;else{if(e===null)throw ge.alternate===null?Error(s(467)):Error(s(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Ye===null?ge.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Na(e){var n=Ma;return Ma+=1,xs===null&&(xs=[]),e=rp(xs,e,n),n=ge,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?Kp:Xp),e}function hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Na(e);if(e.$$typeof===$)return ht(e)}throw Error(s(438,String(e)))}function sc(e){var n=null,l=ge.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var o=ge.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=ic(),ge.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),o=0;o<e;o++)l[o]=Y;return n.index++,l}function Tn(e,n){return typeof n=="function"?n(e):n}function dr(e){var n=Fe();return ac(n,Oe,e)}function ac(e,n,l){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var c=e.baseQueue,h=o.pending;if(h!==null){if(c!==null){var m=c.next;c.next=h.next,h.next=m}n.baseQueue=c=h,o.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{n=c.next;var v=m=null,b=null,A=n,U=!1;do{var H=A.lane&-536870913;if(H!==A.lane?(Ee&H)===H:(Gn&H)===H){var R=A.revertLane;if(R===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),H===Ss&&(U=!0);else if((Gn&R)===R){A=A.next,R===Ss&&(U=!0);continue}else H={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=H,m=h):b=b.next=H,ge.lanes|=R,ei|=R;H=A.action,Ni&&l(h,H),h=A.hasEagerState?A.eagerState:l(h,H)}else R={lane:H,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(v=b=R,m=h):b=b.next=R,ge.lanes|=H,ei|=H;A=A.next}while(A!==null&&A!==n);if(b===null?m=h:b.next=v,!At(h,e.memoizedState)&&(Je=!0,U&&(l=bs,l!==null)))throw l;e.memoizedState=h,e.baseState=m,e.baseQueue=b,o.lastRenderedState=h}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function lc(e){var n=Fe(),l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var o=l.dispatch,c=l.pending,h=n.memoizedState;if(c!==null){l.pending=null;var m=c=c.next;do h=e(h,m.action),m=m.next;while(m!==c);At(h,n.memoizedState)||(Je=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,o]}function gp(e,n,l){var o=ge,c=Fe(),h=xe;if(h){if(l===void 0)throw Error(s(407));l=l()}else l=n();var m=!At((Oe||c).memoizedState,l);m&&(c.memoizedState=l,Je=!0),c=c.queue;var v=yp.bind(null,o,c,e);if(La(2048,8,v,[e]),c.getSnapshot!==n||m||Ye!==null&&Ye.memoizedState.tag&1){if(o.flags|=2048,Cs(9,pr(),_p.bind(null,o,c,l,n),null),ke===null)throw Error(s(349));h||(Gn&124)!==0||mp(o,n,l)}return l}function mp(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=ge.updateQueue,n===null?(n=ic(),ge.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function _p(e,n,l,o){n.value=l,n.getSnapshot=o,vp(n)&&Sp(e)}function yp(e,n,l){return l(function(){vp(n)&&Sp(e)})}function vp(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!At(e,l)}catch{return!0}}function Sp(e){var n=ms(e,2);n!==null&&Lt(n,e,2)}function rc(e){var n=yt();if(typeof e=="function"){var l=e;if(e=l(),Ni){Bn(!0);try{l()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},n}function bp(e,n,l,o){return e.baseState=l,ac(e,Oe,typeof o=="function"?o:Tn)}function WS(e,n,l,o,c){if(mr(e))throw Error(s(485));if(e=n.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){h.listeners.push(m)}};O.T!==null?l(!0):h.isTransition=!1,o(h),l=n.pending,l===null?(h.next=n.pending=h,Ep(n,h)):(h.next=l.next,n.pending=l.next=h)}}function Ep(e,n){var l=n.action,o=n.payload,c=e.state;if(n.isTransition){var h=O.T,m={};O.T=m;try{var v=l(c,o),b=O.S;b!==null&&b(m,v),Tp(e,n,v)}catch(A){oc(e,n,A)}finally{O.T=h}}else try{h=l(c,o),Tp(e,n,h)}catch(A){oc(e,n,A)}}function Tp(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){xp(e,n,o)},function(o){return oc(e,n,o)}):xp(e,n,l)}function xp(e,n,l){n.status="fulfilled",n.value=l,Cp(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Ep(e,l)))}function oc(e,n,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=l,Cp(n),n=n.next;while(n!==o)}e.action=null}function Cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wp(e,n){return n}function Ap(e,n){if(xe){var l=ke.formState;if(l!==null){e:{var o=ge;if(xe){if(Be){t:{for(var c=Be,h=an;c.nodeType!==8;){if(!h){c=null;break t}if(c=Kt(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Be=Kt(c.nextSibling),o=c.data==="F!";break e}}Ri(o)}o=!1}o&&(n=l[0])}}return l=yt(),l.memoizedState=l.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wp,lastRenderedState:n},l.queue=o,l=Fp.bind(null,ge,o),o.dispatch=l,o=rc(!1),h=dc.bind(null,ge,!1,o.queue),o=yt(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,l=WS.bind(null,ge,c,h,l),c.dispatch=l,o.memoizedState=e,[n,l,!1]}function Rp(e){var n=Fe();return Op(n,Oe,e)}function Op(e,n,l){if(n=ac(e,n,wp)[0],e=dr(Tn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Na(n)}catch(m){throw m===wa?rr:m}else o=n;n=Fe();var c=n.queue,h=c.dispatch;return l!==n.memoizedState&&(ge.flags|=2048,Cs(9,pr(),JS.bind(null,c,l),null)),[o,h,e]}function JS(e,n){e.action=n}function Dp(e){var n=Fe(),l=Oe;if(l!==null)return Op(n,l,e);Fe(),n=n.memoizedState,l=Fe();var o=l.queue.dispatch;return l.memoizedState=e,[n,o,!1]}function Cs(e,n,l,o){return e={tag:e,create:l,deps:o,inst:n,next:null},n=ge.updateQueue,n===null&&(n=ic(),ge.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,n.lastEffect=e),e}function pr(){return{destroy:void 0,resource:void 0}}function Mp(){return Fe().memoizedState}function gr(e,n,l,o){var c=yt();o=o===void 0?null:o,ge.flags|=e,c.memoizedState=Cs(1|n,pr(),l,o)}function La(e,n,l,o){var c=Fe();o=o===void 0?null:o;var h=c.memoizedState.inst;Oe!==null&&o!==null&&Wu(o,Oe.memoizedState.deps)?c.memoizedState=Cs(n,h,l,o):(ge.flags|=e,c.memoizedState=Cs(1|n,h,l,o))}function Np(e,n){gr(8390656,8,e,n)}function Lp(e,n){La(2048,8,e,n)}function Up(e,n){return La(4,2,e,n)}function kp(e,n){return La(4,4,e,n)}function Ip(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zp(e,n,l){l=l!=null?l.concat([e]):null,La(4,4,Ip.bind(null,n,e),l)}function uc(){}function jp(e,n){var l=Fe();n=n===void 0?null:n;var o=l.memoizedState;return n!==null&&Wu(n,o[1])?o[0]:(l.memoizedState=[e,n],e)}function Hp(e,n){var l=Fe();n=n===void 0?null:n;var o=l.memoizedState;if(n!==null&&Wu(n,o[1]))return o[0];if(o=e(),Ni){Bn(!0);try{e()}finally{Bn(!1)}}return l.memoizedState=[o,n],o}function cc(e,n,l){return l===void 0||(Gn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=l,e=$g(),ge.lanes|=e,ei|=e,l)}function Bp(e,n,l,o){return At(l,n)?l:Es.current!==null?(e=cc(e,l,o),At(e,n)||(Je=!0),e):(Gn&42)===0?(Je=!0,e.memoizedState=l):(e=$g(),ge.lanes|=e,ei|=e,n)}function Vp(e,n,l,o,c){var h=P.p;P.p=h!==0&&8>h?h:8;var m=O.T,v={};O.T=v,dc(e,!1,n,l);try{var b=c(),A=O.S;if(A!==null&&A(v,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var U=KS(b,o);Ua(e,n,U,Nt(e))}else Ua(e,n,o,Nt(e))}catch(H){Ua(e,n,{then:function(){},status:"rejected",reason:H},Nt())}finally{P.p=h,O.T=m}}function eb(){}function fc(e,n,l,o){if(e.tag!==5)throw Error(s(476));var c=$p(e).queue;Vp(e,c,n,X,l===null?eb:function(){return qp(e),l(o)})}function $p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:X},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function qp(e){var n=$p(e).next.queue;Ua(e,n,{},Nt())}function hc(){return ht(Wa)}function Pp(){return Fe().memoizedState}function Yp(){return Fe().memoizedState}function tb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Nt();e=Yn(l);var o=Fn(n,e,l);o!==null&&(Lt(o,n,l),Ra(o,n,l)),n={cache:$u()},e.payload=n;return}n=n.return}}function nb(e,n,l){var o=Nt();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},mr(e)?Gp(n,l):(l=Nu(e,n,l,o),l!==null&&(Lt(l,e,o),Qp(l,n,o)))}function Fp(e,n,l){var o=Nt();Ua(e,n,l,o)}function Ua(e,n,l,o){var c={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(mr(e))Gp(n,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var m=n.lastRenderedState,v=h(m,l);if(c.hasEagerState=!0,c.eagerState=v,At(v,m))return Jl(e,n,c,0),ke===null&&Wl(),!1}catch{}finally{}if(l=Nu(e,n,c,o),l!==null)return Lt(l,e,o),Qp(l,n,o),!0}return!1}function dc(e,n,l,o){if(o={lane:2,revertLane:Yc(),action:o,hasEagerState:!1,eagerState:null,next:null},mr(e)){if(n)throw Error(s(479))}else n=Nu(e,l,o,2),n!==null&&Lt(n,e,2)}function mr(e){var n=e.alternate;return e===ge||n!==null&&n===ge}function Gp(e,n){Ts=cr=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Qp(e,n,l){if((l&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,l|=o,n.lanes=l,nd(e,l)}}var _r={readContext:ht,use:hr,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e},Kp={readContext:ht,use:hr,useCallback:function(e,n){return yt().memoizedState=[e,n===void 0?null:n],e},useContext:ht,useEffect:Np,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,gr(4194308,4,Ip.bind(null,n,e),l)},useLayoutEffect:function(e,n){return gr(4194308,4,e,n)},useInsertionEffect:function(e,n){gr(4,2,e,n)},useMemo:function(e,n){var l=yt();n=n===void 0?null:n;var o=e();if(Ni){Bn(!0);try{e()}finally{Bn(!1)}}return l.memoizedState=[o,n],o},useReducer:function(e,n,l){var o=yt();if(l!==void 0){var c=l(n);if(Ni){Bn(!0);try{l(n)}finally{Bn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=nb.bind(null,ge,e),[o.memoizedState,e]},useRef:function(e){var n=yt();return e={current:e},n.memoizedState=e},useState:function(e){e=rc(e);var n=e.queue,l=Fp.bind(null,ge,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:uc,useDeferredValue:function(e,n){var l=yt();return cc(l,e,n)},useTransition:function(){var e=rc(!1);return e=Vp.bind(null,ge,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var o=ge,c=yt();if(xe){if(l===void 0)throw Error(s(407));l=l()}else{if(l=n(),ke===null)throw Error(s(349));(Ee&124)!==0||mp(o,n,l)}c.memoizedState=l;var h={value:l,getSnapshot:n};return c.queue=h,Np(yp.bind(null,o,h,e),[e]),o.flags|=2048,Cs(9,pr(),_p.bind(null,o,h,l,n),null),l},useId:function(){var e=yt(),n=ke.identifierPrefix;if(xe){var l=Sn,o=vn;l=(o&~(1<<32-wt(o)-1)).toString(32)+l,n="«"+n+"R"+l,l=fr++,0<l&&(n+="H"+l.toString(32)),n+="»"}else l=XS++,n="«"+n+"r"+l.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:hc,useFormState:Ap,useActionState:Ap,useOptimistic:function(e){var n=yt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=dc.bind(null,ge,!0,l),l.dispatch=n,[e,n]},useMemoCache:sc,useCacheRefresh:function(){return yt().memoizedState=tb.bind(null,ge)}},Xp={readContext:ht,use:hr,useCallback:jp,useContext:ht,useEffect:Lp,useImperativeHandle:zp,useInsertionEffect:Up,useLayoutEffect:kp,useMemo:Hp,useReducer:dr,useRef:Mp,useState:function(){return dr(Tn)},useDebugValue:uc,useDeferredValue:function(e,n){var l=Fe();return Bp(l,Oe.memoizedState,e,n)},useTransition:function(){var e=dr(Tn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Na(e),n]},useSyncExternalStore:gp,useId:Pp,useHostTransitionStatus:hc,useFormState:Rp,useActionState:Rp,useOptimistic:function(e,n){var l=Fe();return bp(l,Oe,e,n)},useMemoCache:sc,useCacheRefresh:Yp},ib={readContext:ht,use:hr,useCallback:jp,useContext:ht,useEffect:Lp,useImperativeHandle:zp,useInsertionEffect:Up,useLayoutEffect:kp,useMemo:Hp,useReducer:lc,useRef:Mp,useState:function(){return lc(Tn)},useDebugValue:uc,useDeferredValue:function(e,n){var l=Fe();return Oe===null?cc(l,e,n):Bp(l,Oe.memoizedState,e,n)},useTransition:function(){var e=lc(Tn)[0],n=Fe().memoizedState;return[typeof e=="boolean"?e:Na(e),n]},useSyncExternalStore:gp,useId:Pp,useHostTransitionStatus:hc,useFormState:Dp,useActionState:Dp,useOptimistic:function(e,n){var l=Fe();return Oe!==null?bp(l,Oe,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Yp},ws=null,ka=0;function yr(e){var n=ka;return ka+=1,ws===null&&(ws=[]),rp(ws,e,n)}function Ia(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function vr(e,n){throw n.$$typeof===y?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zp(e){var n=e._init;return n(e._payload)}function Wp(e){function n(x,E){if(e){var w=x.deletions;w===null?(x.deletions=[E],x.flags|=16):w.push(E)}}function l(x,E){if(!e)return null;for(;E!==null;)n(x,E),E=E.sibling;return null}function o(x){for(var E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function c(x,E){return x=yn(x,E),x.index=0,x.sibling=null,x}function h(x,E,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<E?(x.flags|=67108866,E):w):(x.flags|=67108866,E)):(x.flags|=1048576,E)}function m(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function v(x,E,w,I){return E===null||E.tag!==6?(E=Uu(w,x.mode,I),E.return=x,E):(E=c(E,w),E.return=x,E)}function b(x,E,w,I){var W=w.type;return W===C?U(x,E,w.props.children,I,w.key):E!==null&&(E.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===B&&Zp(W)===E.type)?(E=c(E,w.props),Ia(E,w),E.return=x,E):(E=tr(w.type,w.key,w.props,null,x.mode,I),Ia(E,w),E.return=x,E)}function A(x,E,w,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=ku(w,x.mode,I),E.return=x,E):(E=c(E,w.children||[]),E.return=x,E)}function U(x,E,w,I,W){return E===null||E.tag!==7?(E=xi(w,x.mode,I,W),E.return=x,E):(E=c(E,w),E.return=x,E)}function H(x,E,w){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Uu(""+E,x.mode,w),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case S:return w=tr(E.type,E.key,E.props,null,x.mode,w),Ia(w,E),w.return=x,w;case T:return E=ku(E,x.mode,w),E.return=x,E;case B:var I=E._init;return E=I(E._payload),H(x,E,w)}if(ce(E)||J(E))return E=xi(E,x.mode,w,null),E.return=x,E;if(typeof E.then=="function")return H(x,yr(E),w);if(E.$$typeof===$)return H(x,ar(x,E),w);vr(x,E)}return null}function R(x,E,w,I){var W=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return W!==null?null:v(x,E,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case S:return w.key===W?b(x,E,w,I):null;case T:return w.key===W?A(x,E,w,I):null;case B:return W=w._init,w=W(w._payload),R(x,E,w,I)}if(ce(w)||J(w))return W!==null?null:U(x,E,w,I,null);if(typeof w.then=="function")return R(x,E,yr(w),I);if(w.$$typeof===$)return R(x,E,ar(x,w),I);vr(x,w)}return null}function D(x,E,w,I,W){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return x=x.get(w)||null,v(E,x,""+I,W);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case S:return x=x.get(I.key===null?w:I.key)||null,b(E,x,I,W);case T:return x=x.get(I.key===null?w:I.key)||null,A(E,x,I,W);case B:var _e=I._init;return I=_e(I._payload),D(x,E,w,I,W)}if(ce(I)||J(I))return x=x.get(w)||null,U(E,x,I,W,null);if(typeof I.then=="function")return D(x,E,w,yr(I),W);if(I.$$typeof===$)return D(x,E,w,ar(E,I),W);vr(E,I)}return null}function le(x,E,w,I){for(var W=null,_e=null,te=E,ae=E=0,tt=null;te!==null&&ae<w.length;ae++){te.index>ae?(tt=te,te=null):tt=te.sibling;var Te=R(x,te,w[ae],I);if(Te===null){te===null&&(te=tt);break}e&&te&&Te.alternate===null&&n(x,te),E=h(Te,E,ae),_e===null?W=Te:_e.sibling=Te,_e=Te,te=tt}if(ae===w.length)return l(x,te),xe&&wi(x,ae),W;if(te===null){for(;ae<w.length;ae++)te=H(x,w[ae],I),te!==null&&(E=h(te,E,ae),_e===null?W=te:_e.sibling=te,_e=te);return xe&&wi(x,ae),W}for(te=o(te);ae<w.length;ae++)tt=D(te,x,ae,w[ae],I),tt!==null&&(e&&tt.alternate!==null&&te.delete(tt.key===null?ae:tt.key),E=h(tt,E,ae),_e===null?W=tt:_e.sibling=tt,_e=tt);return e&&te.forEach(function(ui){return n(x,ui)}),xe&&wi(x,ae),W}function se(x,E,w,I){if(w==null)throw Error(s(151));for(var W=null,_e=null,te=E,ae=E=0,tt=null,Te=w.next();te!==null&&!Te.done;ae++,Te=w.next()){te.index>ae?(tt=te,te=null):tt=te.sibling;var ui=R(x,te,Te.value,I);if(ui===null){te===null&&(te=tt);break}e&&te&&ui.alternate===null&&n(x,te),E=h(ui,E,ae),_e===null?W=ui:_e.sibling=ui,_e=ui,te=tt}if(Te.done)return l(x,te),xe&&wi(x,ae),W;if(te===null){for(;!Te.done;ae++,Te=w.next())Te=H(x,Te.value,I),Te!==null&&(E=h(Te,E,ae),_e===null?W=Te:_e.sibling=Te,_e=Te);return xe&&wi(x,ae),W}for(te=o(te);!Te.done;ae++,Te=w.next())Te=D(te,x,ae,Te.value,I),Te!==null&&(e&&Te.alternate!==null&&te.delete(Te.key===null?ae:Te.key),E=h(Te,E,ae),_e===null?W=Te:_e.sibling=Te,_e=Te);return e&&te.forEach(function(sE){return n(x,sE)}),xe&&wi(x,ae),W}function Me(x,E,w,I){if(typeof w=="object"&&w!==null&&w.type===C&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case S:e:{for(var W=w.key;E!==null;){if(E.key===W){if(W=w.type,W===C){if(E.tag===7){l(x,E.sibling),I=c(E,w.props.children),I.return=x,x=I;break e}}else if(E.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===B&&Zp(W)===E.type){l(x,E.sibling),I=c(E,w.props),Ia(I,w),I.return=x,x=I;break e}l(x,E);break}else n(x,E);E=E.sibling}w.type===C?(I=xi(w.props.children,x.mode,I,w.key),I.return=x,x=I):(I=tr(w.type,w.key,w.props,null,x.mode,I),Ia(I,w),I.return=x,x=I)}return m(x);case T:e:{for(W=w.key;E!==null;){if(E.key===W)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){l(x,E.sibling),I=c(E,w.children||[]),I.return=x,x=I;break e}else{l(x,E);break}else n(x,E);E=E.sibling}I=ku(w,x.mode,I),I.return=x,x=I}return m(x);case B:return W=w._init,w=W(w._payload),Me(x,E,w,I)}if(ce(w))return le(x,E,w,I);if(J(w)){if(W=J(w),typeof W!="function")throw Error(s(150));return w=W.call(w),se(x,E,w,I)}if(typeof w.then=="function")return Me(x,E,yr(w),I);if(w.$$typeof===$)return Me(x,E,ar(x,w),I);vr(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,E!==null&&E.tag===6?(l(x,E.sibling),I=c(E,w),I.return=x,x=I):(l(x,E),I=Uu(w,x.mode,I),I.return=x,x=I),m(x)):l(x,E)}return function(x,E,w,I){try{ka=0;var W=Me(x,E,w,I);return ws=null,W}catch(te){if(te===wa||te===rr)throw te;var _e=Rt(29,te,null,x.mode);return _e.lanes=I,_e.return=x,_e}finally{}}}var As=Wp(!0),Jp=Wp(!1),$t=ie(null),ln=null;function Qn(e){var n=e.alternate;fe(Ke,Ke.current&1),fe($t,e),ln===null&&(n===null||Es.current!==null||n.memoizedState!==null)&&(ln=e)}function eg(e){if(e.tag===22){if(fe(Ke,Ke.current),fe($t,e),ln===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ln=e)}}else Kn()}function Kn(){fe(Ke,Ke.current),fe($t,$t.current)}function xn(e){de($t),ln===e&&(ln=null),de(Ke)}var Ke=ie(0);function Sr(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||sf(l)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function pc(e,n,l,o){n=e.memoizedState,l=l(o,n),l=l==null?n:_({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var gc={enqueueSetState:function(e,n,l){e=e._reactInternals;var o=Nt(),c=Yn(o);c.payload=n,l!=null&&(c.callback=l),n=Fn(e,c,o),n!==null&&(Lt(n,e,o),Ra(n,e,o))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var o=Nt(),c=Yn(o);c.tag=1,c.payload=n,l!=null&&(c.callback=l),n=Fn(e,c,o),n!==null&&(Lt(n,e,o),Ra(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Nt(),o=Yn(l);o.tag=2,n!=null&&(o.callback=n),n=Fn(e,o,l),n!==null&&(Lt(n,e,l),Ra(n,e,l))}};function tg(e,n,l,o,c,h,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,m):n.prototype&&n.prototype.isPureReactComponent?!ya(l,o)||!ya(c,h):!0}function ng(e,n,l,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,o),n.state!==e&&gc.enqueueReplaceState(n,n.state,null)}function Li(e,n){var l=n;if("ref"in n){l={};for(var o in n)o!=="ref"&&(l[o]=n[o])}if(e=e.defaultProps){l===n&&(l=_({},l));for(var c in e)l[c]===void 0&&(l[c]=e[c])}return l}var br=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ig(e){br(e)}function sg(e){console.error(e)}function ag(e){br(e)}function Er(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function lg(e,n,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mc(e,n,l){return l=Yn(l),l.tag=3,l.payload={element:null},l.callback=function(){Er(e,n)},l}function rg(e){return e=Yn(e),e.tag=3,e}function og(e,n,l,o){var c=l.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;e.payload=function(){return c(h)},e.callback=function(){lg(n,l,o)}}var m=l.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){lg(n,l,o),typeof c!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function sb(e,n,l,o,c){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=l.alternate,n!==null&&Ta(n,l,c,!0),l=$t.current,l!==null){switch(l.tag){case 13:return ln===null?Bc():l.alternate===null&&Ve===0&&(Ve=3),l.flags&=-257,l.flags|=65536,l.lanes=c,o===Yu?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([o]):n.add(o),$c(e,o,c)),!1;case 22:return l.flags|=65536,o===Yu?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([o]):l.add(o)),$c(e,o,c)),!1}throw Error(s(435,l.tag))}return $c(e,o,c),Bc(),!1}if(xe)return n=$t.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==ju&&(e=Error(s(422),{cause:o}),Ea(jt(e,l)))):(o!==ju&&(n=Error(s(423),{cause:o}),Ea(jt(n,l))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=jt(o,l),c=mc(e.stateNode,o,c),Qu(e,c),Ve!==4&&(Ve=2)),!1;var h=Error(s(520),{cause:o});if(h=jt(h,l),qa===null?qa=[h]:qa.push(h),Ve!==4&&(Ve=2),n===null)return!0;o=jt(o,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=c&-c,l.lanes|=e,e=mc(l.stateNode,o,e),Qu(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ti===null||!ti.has(h))))return l.flags|=65536,c&=-c,l.lanes|=c,c=rg(c),og(c,e,l,o),Qu(l,c),!1}l=l.return}while(l!==null);return!1}var ug=Error(s(461)),Je=!1;function rt(e,n,l,o){n.child=e===null?Jp(n,null,l,o):As(n,e.child,l,o)}function cg(e,n,l,o,c){l=l.render;var h=n.ref;if("ref"in o){var m={};for(var v in o)v!=="ref"&&(m[v]=o[v])}else m=o;return Di(n),o=Ju(e,n,l,m,h,c),v=ec(),e!==null&&!Je?(tc(e,n,c),Cn(e,n,c)):(xe&&v&&Iu(n),n.flags|=1,rt(e,n,o,c),n.child)}function fg(e,n,l,o,c){if(e===null){var h=l.type;return typeof h=="function"&&!Lu(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,hg(e,n,h,o,c)):(e=tr(l.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!xc(e,c)){var m=h.memoizedProps;if(l=l.compare,l=l!==null?l:ya,l(m,o)&&e.ref===n.ref)return Cn(e,n,c)}return n.flags|=1,e=yn(h,o),e.ref=n.ref,e.return=n,n.child=e}function hg(e,n,l,o,c){if(e!==null){var h=e.memoizedProps;if(ya(h,o)&&e.ref===n.ref)if(Je=!1,n.pendingProps=o=h,xc(e,c))(e.flags&131072)!==0&&(Je=!0);else return n.lanes=e.lanes,Cn(e,n,c)}return _c(e,n,l,o,c)}function dg(e,n,l){var o=n.pendingProps,c=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=h!==null?h.baseLanes|l:l,e!==null){for(c=n.child=e.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return pg(e,n,o,l)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&lr(n,h!==null?h.cachePool:null),h!==null?hp(n,h):Xu(),eg(n);else return n.lanes=n.childLanes=536870912,pg(e,n,h!==null?h.baseLanes|l:l,l)}else h!==null?(lr(n,h.cachePool),hp(n,h),Kn(),n.memoizedState=null):(e!==null&&lr(n,null),Xu(),Kn());return rt(e,n,c,l),n.child}function pg(e,n,l,o){var c=Pu();return c=c===null?null:{parent:Qe._currentValue,pool:c},n.memoizedState={baseLanes:l,cachePool:c},e!==null&&lr(n,null),Xu(),eg(n),e!==null&&Ta(e,n,o,!0),null}function Tr(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function _c(e,n,l,o,c){return Di(n),l=Ju(e,n,l,o,void 0,c),o=ec(),e!==null&&!Je?(tc(e,n,c),Cn(e,n,c)):(xe&&o&&Iu(n),n.flags|=1,rt(e,n,l,c),n.child)}function gg(e,n,l,o,c,h){return Di(n),n.updateQueue=null,l=pp(n,o,l,c),dp(e),o=ec(),e!==null&&!Je?(tc(e,n,h),Cn(e,n,h)):(xe&&o&&Iu(n),n.flags|=1,rt(e,n,l,h),n.child)}function mg(e,n,l,o,c){if(Di(n),n.stateNode===null){var h=_s,m=l.contextType;typeof m=="object"&&m!==null&&(h=ht(m)),h=new l(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=gc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Fu(n),m=l.contextType,h.context=typeof m=="object"&&m!==null?ht(m):_s,h.state=n.memoizedState,m=l.getDerivedStateFromProps,typeof m=="function"&&(pc(n,l,m,o),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(m=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),m!==h.state&&gc.enqueueReplaceState(h,h.state,null),Da(n,o,h,c),Oa(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){h=n.stateNode;var v=n.memoizedProps,b=Li(l,v);h.props=b;var A=h.context,U=l.contextType;m=_s,typeof U=="object"&&U!==null&&(m=ht(U));var H=l.getDerivedStateFromProps;U=typeof H=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,U||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||A!==m)&&ng(n,h,o,m),Pn=!1;var R=n.memoizedState;h.state=R,Da(n,o,h,c),Oa(),A=n.memoizedState,v||R!==A||Pn?(typeof H=="function"&&(pc(n,l,H,o),A=n.memoizedState),(b=Pn||tg(n,l,b,o,R,A,m))?(U||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=A),h.props=o,h.state=A,h.context=m,o=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,Gu(e,n),m=n.memoizedProps,U=Li(l,m),h.props=U,H=n.pendingProps,R=h.context,A=l.contextType,b=_s,typeof A=="object"&&A!==null&&(b=ht(A)),v=l.getDerivedStateFromProps,(A=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(m!==H||R!==b)&&ng(n,h,o,b),Pn=!1,R=n.memoizedState,h.state=R,Da(n,o,h,c),Oa();var D=n.memoizedState;m!==H||R!==D||Pn||e!==null&&e.dependencies!==null&&sr(e.dependencies)?(typeof v=="function"&&(pc(n,l,v,o),D=n.memoizedState),(U=Pn||tg(n,l,U,o,R,D,b)||e!==null&&e.dependencies!==null&&sr(e.dependencies))?(A||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,D,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,D,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=D),h.props=o,h.state=D,h.context=b,o=U):(typeof h.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(n.flags|=1024),o=!1)}return h=o,Tr(e,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&o?(n.child=As(n,e.child,null,c),n.child=As(n,null,l,c)):rt(e,n,l,c),n.memoizedState=h.state,e=n.child):e=Cn(e,n,c),e}function _g(e,n,l,o){return ba(),n.flags|=256,rt(e,n,l,o),n.child}var yc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vc(e){return{baseLanes:e,cachePool:sp()}}function Sc(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=qt),e}function yg(e,n,l){var o=n.pendingProps,c=!1,h=(n.flags&128)!==0,m;if((m=h)||(m=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),m&&(c=!0,n.flags&=-129),m=(n.flags&32)!==0,n.flags&=-33,e===null){if(xe){if(c?Qn(n):Kn(),xe){var v=Be,b;if(b=v){e:{for(b=v,v=an;b.nodeType!==8;){if(!v){v=null;break e}if(b=Kt(b.nextSibling),b===null){v=null;break e}}v=b}v!==null?(n.memoizedState={dehydrated:v,treeContext:Ci!==null?{id:vn,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},b=Rt(18,null,null,0),b.stateNode=v,b.return=n,n.child=b,pt=n,Be=null,b=!0):b=!1}b||Ri(n)}if(v=n.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return sf(v)?n.lanes=32:n.lanes=536870912,null;xn(n)}return v=o.children,o=o.fallback,c?(Kn(),c=n.mode,v=xr({mode:"hidden",children:v},c),o=xi(o,c,l,null),v.return=n,o.return=n,v.sibling=o,n.child=v,c=n.child,c.memoizedState=vc(l),c.childLanes=Sc(e,m,l),n.memoizedState=yc,o):(Qn(n),bc(n,v))}if(b=e.memoizedState,b!==null&&(v=b.dehydrated,v!==null)){if(h)n.flags&256?(Qn(n),n.flags&=-257,n=Ec(e,n,l)):n.memoizedState!==null?(Kn(),n.child=e.child,n.flags|=128,n=null):(Kn(),c=o.fallback,v=n.mode,o=xr({mode:"visible",children:o.children},v),c=xi(c,v,l,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,As(n,e.child,null,l),o=n.child,o.memoizedState=vc(l),o.childLanes=Sc(e,m,l),n.memoizedState=yc,n=c);else if(Qn(n),sf(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var A=m.dgst;m=A,o=Error(s(419)),o.stack="",o.digest=m,Ea({value:o,source:null,stack:null}),n=Ec(e,n,l)}else if(Je||Ta(e,n,l,!1),m=(l&e.childLanes)!==0,Je||m){if(m=ke,m!==null&&(o=l&-l,o=(o&42)!==0?1:su(o),o=(o&(m.suspendedLanes|l))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ms(e,o),Lt(m,e,o),ug;v.data==="$?"||Bc(),n=Ec(e,n,l)}else v.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=b.treeContext,Be=Kt(v.nextSibling),pt=n,xe=!0,Ai=null,an=!1,e!==null&&(Bt[Vt++]=vn,Bt[Vt++]=Sn,Bt[Vt++]=Ci,vn=e.id,Sn=e.overflow,Ci=n),n=bc(n,o.children),n.flags|=4096);return n}return c?(Kn(),c=o.fallback,v=n.mode,b=e.child,A=b.sibling,o=yn(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,A!==null?c=yn(A,c):(c=xi(c,v,l,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,v=e.child.memoizedState,v===null?v=vc(l):(b=v.cachePool,b!==null?(A=Qe._currentValue,b=b.parent!==A?{parent:A,pool:A}:b):b=sp(),v={baseLanes:v.baseLanes|l,cachePool:b}),c.memoizedState=v,c.childLanes=Sc(e,m,l),n.memoizedState=yc,o):(Qn(n),l=e.child,e=l.sibling,l=yn(l,{mode:"visible",children:o.children}),l.return=n,l.sibling=null,e!==null&&(m=n.deletions,m===null?(n.deletions=[e],n.flags|=16):m.push(e)),n.child=l,n.memoizedState=null,l)}function bc(e,n){return n=xr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xr(e,n){return e=Rt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ec(e,n,l){return As(n,e.child,null,l),e=bc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vg(e,n,l){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Bu(e.return,n,l)}function Tc(e,n,l,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=l,h.tailMode=c)}function Sg(e,n,l){var o=n.pendingProps,c=o.revealOrder,h=o.tail;if(rt(e,n,o.children,l),o=Ke.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vg(e,l,n);else if(e.tag===19)vg(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(fe(Ke,o),c){case"forwards":for(l=n.child,c=null;l!==null;)e=l.alternate,e!==null&&Sr(e)===null&&(c=l),l=l.sibling;l=c,l===null?(c=n.child,n.child=null):(c=l.sibling,l.sibling=null),Tc(n,!1,c,l,h);break;case"backwards":for(l=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Sr(e)===null){n.child=c;break}e=c.sibling,c.sibling=l,l=c,c=e}Tc(n,!0,l,null,h);break;case"together":Tc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Cn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),ei|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Ta(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,l=yn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=yn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function xc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&sr(e)))}function ab(e,n,l){switch(n.tag){case 3:Wi(n,n.stateNode.containerInfo),qn(n,Qe,e.memoizedState.cache),ba();break;case 27:case 5:Ji(n);break;case 4:Wi(n,n.stateNode.containerInfo);break;case 10:qn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Qn(n),n.flags|=128,null):(l&n.child.childLanes)!==0?yg(e,n,l):(Qn(n),e=Cn(e,n,l),e!==null?e.sibling:null);Qn(n);break;case 19:var c=(e.flags&128)!==0;if(o=(l&n.childLanes)!==0,o||(Ta(e,n,l,!1),o=(l&n.childLanes)!==0),c){if(o)return Sg(e,n,l);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),fe(Ke,Ke.current),o)break;return null;case 22:case 23:return n.lanes=0,dg(e,n,l);case 24:qn(n,Qe,e.memoizedState.cache)}return Cn(e,n,l)}function bg(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Je=!0;else{if(!xc(e,l)&&(n.flags&128)===0)return Je=!1,ab(e,n,l);Je=(e.flags&131072)!==0}else Je=!1,xe&&(n.flags&1048576)!==0&&Zd(n,ir,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Lu(o)?(e=Li(o,e),n.tag=1,n=mg(null,n,o,e,l)):(n.tag=0,n=_c(null,n,o,e,l));else{if(o!=null){if(c=o.$$typeof,c===Z){n.tag=11,n=cg(null,n,o,e,l);break e}else if(c===q){n.tag=14,n=fg(null,n,o,e,l);break e}}throw n=ee(o)||o,Error(s(306,n,""))}}return n;case 0:return _c(e,n,n.type,n.pendingProps,l);case 1:return o=n.type,c=Li(o,n.pendingProps),mg(e,n,o,c,l);case 3:e:{if(Wi(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var h=n.memoizedState;c=h.element,Gu(e,n),Da(n,o,null,l);var m=n.memoizedState;if(o=m.cache,qn(n,Qe,o),o!==h.cache&&Vu(n,[Qe],l,!0),Oa(),o=m.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:m.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=_g(e,n,o,l);break e}else if(o!==c){c=jt(Error(s(424)),n),Ea(c),n=_g(e,n,o,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Kt(e.firstChild),pt=n,xe=!0,Ai=null,an=!0,l=Jp(n,null,o,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ba(),o===c){n=Cn(e,n,l);break e}rt(e,n,o,l)}n=n.child}return n;case 26:return Tr(e,n),e===null?(l=Cm(n.type,null,n.pendingProps,null))?n.memoizedState=l:xe||(l=n.type,e=n.pendingProps,o=jr(sn.current).createElement(l),o[ft]=n,o[mt]=e,ut(o,l,e),We(o),n.stateNode=o):n.memoizedState=Cm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ji(n),e===null&&xe&&(o=n.stateNode=Em(n.type,n.pendingProps,sn.current),pt=n,an=!0,c=Be,si(n.type)?(af=c,Be=Kt(o.firstChild)):Be=c),rt(e,n,n.pendingProps.children,l),Tr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&xe&&((c=o=Be)&&(o=Lb(o,n.type,n.pendingProps,an),o!==null?(n.stateNode=o,pt=n,Be=Kt(o.firstChild),an=!1,c=!0):c=!1),c||Ri(n)),Ji(n),c=n.type,h=n.pendingProps,m=e!==null?e.memoizedProps:null,o=h.children,ef(c,h)?o=null:m!==null&&ef(c,m)&&(n.flags|=32),n.memoizedState!==null&&(c=Ju(e,n,ZS,null,null,l),Wa._currentValue=c),Tr(e,n),rt(e,n,o,l),n.child;case 6:return e===null&&xe&&((e=l=Be)&&(l=Ub(l,n.pendingProps,an),l!==null?(n.stateNode=l,pt=n,Be=null,e=!0):e=!1),e||Ri(n)),null;case 13:return yg(e,n,l);case 4:return Wi(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=As(n,null,o,l):rt(e,n,o,l),n.child;case 11:return cg(e,n,n.type,n.pendingProps,l);case 7:return rt(e,n,n.pendingProps,l),n.child;case 8:return rt(e,n,n.pendingProps.children,l),n.child;case 12:return rt(e,n,n.pendingProps.children,l),n.child;case 10:return o=n.pendingProps,qn(n,n.type,o.value),rt(e,n,o.children,l),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Di(n),c=ht(c),o=o(c),n.flags|=1,rt(e,n,o,l),n.child;case 14:return fg(e,n,n.type,n.pendingProps,l);case 15:return hg(e,n,n.type,n.pendingProps,l);case 19:return Sg(e,n,l);case 31:return o=n.pendingProps,l=n.mode,o={mode:o.mode,children:o.children},e===null?(l=xr(o,l),l.ref=n.ref,n.child=l,l.return=n,n=l):(l=yn(e.child,o),l.ref=n.ref,n.child=l,l.return=n,n=l),n;case 22:return dg(e,n,l);case 24:return Di(n),o=ht(Qe),e===null?(c=Pu(),c===null&&(c=ke,h=$u(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=l),c=h),n.memoizedState={parent:o,cache:c},Fu(n),qn(n,Qe,c)):((e.lanes&l)!==0&&(Gu(e,n),Da(n,null,null,l),Oa()),c=e.memoizedState,h=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qn(n,Qe,o)):(o=h.cache,qn(n,Qe,o),o!==c.cache&&Vu(n,[Qe],l,!0))),rt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function wn(e){e.flags|=4}function Eg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dm(n)){if(n=$t.current,n!==null&&((Ee&4194048)===Ee?ln!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||n!==ln))throw Aa=Yu,ap;e.flags|=8192}}function Cr(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ed():536870912,e.lanes|=n,Ms|=n)}function za(e,n){if(!xe)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function je(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(n)for(var c=e.child;c!==null;)l|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)l|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=l,n}function lb(e,n,l){var o=n.pendingProps;switch(zu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return l=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),En(Qe),gn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Sa(n)?wn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ep())),je(n),null;case 26:return l=n.memoizedState,e===null?(wn(n),l!==null?(je(n),Eg(n,l)):(je(n),n.flags&=-16777217)):l?l!==e.memoizedState?(wn(n),je(n),Eg(n,l)):(je(n),n.flags&=-16777217):(e.memoizedProps!==o&&wn(n),je(n),n.flags&=-16777217),null;case 27:jn(n),l=sn.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&wn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return je(n),null}e=Ne.current,Sa(n)?Wd(n):(e=Em(c,o,l),n.stateNode=e,wn(n))}return je(n),null;case 5:if(jn(n),l=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&wn(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return je(n),null}if(e=Ne.current,Sa(n))Wd(n);else{switch(c=jr(sn.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(l,{is:o.is}):c.createElement(l)}}e[ft]=n,e[mt]=o;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;e:switch(ut(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&wn(n)}}return je(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&wn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=sn.current,Sa(n)){if(e=n.stateNode,l=n.memoizedProps,o=null,c=pt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ft]=n,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||gm(e.nodeValue,l)),e||Ri(n)}else e=jr(e).createTextNode(o),e[ft]=n,n.stateNode=e}return je(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Sa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ft]=n}else ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),c=!1}else c=ep(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(xn(n),n):(xn(n),null)}if(xn(n),(n.flags&128)!==0)return n.lanes=l,n;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)}return l!==e&&l&&(n.child.flags|=8192),Cr(n,n.updateQueue),je(n),null;case 4:return gn(),e===null&&Kc(n.stateNode.containerInfo),je(n),null;case 10:return En(n.type),je(n),null;case 19:if(de(Ke),c=n.memoizedState,c===null)return je(n),null;if(o=(n.flags&128)!==0,h=c.rendering,h===null)if(o)za(c,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Sr(e),h!==null){for(n.flags|=128,za(c,!1),e=h.updateQueue,n.updateQueue=e,Cr(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Xd(l,e),l=l.sibling;return fe(Ke,Ke.current&1|2),n.child}e=e.sibling}c.tail!==null&&gt()>Rr&&(n.flags|=128,o=!0,za(c,!1),n.lanes=4194304)}else{if(!o)if(e=Sr(h),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Cr(n,e),za(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!xe)return je(n),null}else 2*gt()-c.renderingStartTime>Rr&&l!==536870912&&(n.flags|=128,o=!0,za(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(e=c.last,e!==null?e.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gt(),n.sibling=null,e=Ke.current,fe(Ke,o?e&1|2:e&1),n):(je(n),null);case 22:case 23:return xn(n),Zu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(l&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),l=n.updateQueue,l!==null&&Cr(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==l&&(n.flags|=2048),e!==null&&de(Mi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),En(Qe),je(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function rb(e,n){switch(zu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return En(Qe),gn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return jn(n),null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ba()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return de(Ke),null;case 4:return gn(),null;case 10:return En(n.type),null;case 22:case 23:return xn(n),Zu(),e!==null&&de(Mi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return En(Qe),null;case 25:return null;default:return null}}function Tg(e,n){switch(zu(n),n.tag){case 3:En(Qe),gn();break;case 26:case 27:case 5:jn(n);break;case 4:gn();break;case 13:xn(n);break;case 19:de(Ke);break;case 10:En(n.type);break;case 22:case 23:xn(n),Zu(),e!==null&&de(Mi);break;case 24:En(Qe)}}function ja(e,n){try{var l=n.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){o=void 0;var h=l.create,m=l.inst;o=h(),m.destroy=o}l=l.next}while(l!==c)}}catch(v){Le(n,n.return,v)}}function Xn(e,n,l){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&e)===e){var m=o.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,c=n;var b=l,A=v;try{A()}catch(U){Le(c,b,U)}}}o=o.next}while(o!==h)}}catch(U){Le(n,n.return,U)}}function xg(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{fp(n,l)}catch(o){Le(e,e.return,o)}}}function Cg(e,n,l){l.props=Li(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Le(e,n,o)}}function Ha(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(c){Le(e,n,c)}}function rn(e,n){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(c){Le(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(c){Le(e,n,c)}else l.current=null}function wg(e){var n=e.type,l=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break e;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(c){Le(e,e.return,c)}}function Cc(e,n,l){try{var o=e.stateNode;Rb(o,e.type,l,n),o[mt]=n}catch(c){Le(e,e.return,c)}}function Ag(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ag(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=zr));else if(o!==4&&(o===27&&si(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Ac(e,n,l),e=e.sibling;e!==null;)Ac(e,n,l),e=e.sibling}function wr(e,n,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(o!==4&&(o===27&&si(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(wr(e,n,l),e=e.sibling;e!==null;)wr(e,n,l),e=e.sibling}function Rg(e){var n=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ut(n,o,l),n[ft]=e,n[mt]=l}catch(h){Le(e,e.return,h)}}var An=!1,qe=!1,Rc=!1,Og=typeof WeakSet=="function"?WeakSet:Set,et=null;function ob(e,n){if(e=e.containerInfo,Wc=Pr,e=Bd(e),wu(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var m=0,v=-1,b=-1,A=0,U=0,H=e,R=null;t:for(;;){for(var D;H!==l||c!==0&&H.nodeType!==3||(v=m+c),H!==h||o!==0&&H.nodeType!==3||(b=m+o),H.nodeType===3&&(m+=H.nodeValue.length),(D=H.firstChild)!==null;)R=H,H=D;for(;;){if(H===e)break t;if(R===l&&++A===c&&(v=m),R===h&&++U===o&&(b=m),(D=H.nextSibling)!==null)break;H=R,R=H.parentNode}H=D}l=v===-1||b===-1?null:{start:v,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jc={focusedElem:e,selectionRange:l},Pr=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,h=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,c=h.memoizedProps,h=h.memoizedState,o=l.stateNode;try{var le=Li(l.type,c,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(le,h),o.__reactInternalSnapshotBeforeUpdate=e}catch(se){Le(l,l.return,se)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)nf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function Dg(e,n,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:Zn(e,l),o&4&&ja(5,l);break;case 1:if(Zn(e,l),o&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(m){Le(l,l.return,m)}else{var c=Li(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Le(l,l.return,m)}}o&64&&xg(l),o&512&&Ha(l,l.return);break;case 3:if(Zn(e,l),o&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{fp(e,n)}catch(m){Le(l,l.return,m)}}break;case 27:n===null&&o&4&&Rg(l);case 26:case 5:Zn(e,l),n===null&&o&4&&wg(l),o&512&&Ha(l,l.return);break;case 12:Zn(e,l);break;case 13:Zn(e,l),o&4&&Lg(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=_b.bind(null,l),kb(e,l))));break;case 22:if(o=l.memoizedState!==null||An,!o){n=n!==null&&n.memoizedState!==null||qe,c=An;var h=qe;An=o,(qe=n)&&!h?Wn(e,l,(l.subtreeFlags&8772)!==0):Zn(e,l),An=c,qe=h}break;case 30:break;default:Zn(e,l)}}function Mg(e){var n=e.alternate;n!==null&&(e.alternate=null,Mg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ru(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,vt=!1;function Rn(e,n,l){for(l=l.child;l!==null;)Ng(e,n,l),l=l.sibling}function Ng(e,n,l){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(la,l)}catch{}switch(l.tag){case 26:qe||rn(l,n),Rn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:qe||rn(l,n);var o=ze,c=vt;si(l.type)&&(ze=l.stateNode,vt=!1),Rn(e,n,l),Qa(l.stateNode),ze=o,vt=c;break;case 5:qe||rn(l,n);case 6:if(o=ze,c=vt,ze=null,Rn(e,n,l),ze=o,vt=c,ze!==null)if(vt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(h){Le(l,n,h)}else try{ze.removeChild(l.stateNode)}catch(h){Le(l,n,h)}break;case 18:ze!==null&&(vt?(e=ze,Sm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),nl(e)):Sm(ze,l.stateNode));break;case 4:o=ze,c=vt,ze=l.stateNode.containerInfo,vt=!0,Rn(e,n,l),ze=o,vt=c;break;case 0:case 11:case 14:case 15:qe||Xn(2,l,n),qe||Xn(4,l,n),Rn(e,n,l);break;case 1:qe||(rn(l,n),o=l.stateNode,typeof o.componentWillUnmount=="function"&&Cg(l,n,o)),Rn(e,n,l);break;case 21:Rn(e,n,l);break;case 22:qe=(o=qe)||l.memoizedState!==null,Rn(e,n,l),qe=o;break;default:Rn(e,n,l)}}function Lg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{nl(e)}catch(l){Le(n,n.return,l)}}function ub(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Og),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Og),n;default:throw Error(s(435,e.tag))}}function Oc(e,n){var l=ub(e);n.forEach(function(o){var c=yb.bind(null,e,o);l.has(o)||(l.add(o),o.then(c,c))})}function Ot(e,n){var l=n.deletions;if(l!==null)for(var o=0;o<l.length;o++){var c=l[o],h=e,m=n,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(si(v.type)){ze=v.stateNode,vt=!1;break e}break;case 5:ze=v.stateNode,vt=!1;break e;case 3:case 4:ze=v.stateNode.containerInfo,vt=!0;break e}v=v.return}if(ze===null)throw Error(s(160));Ng(h,m,c),ze=null,vt=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ug(n,e),n=n.sibling}var Qt=null;function Ug(e,n){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Dt(e),o&4&&(Xn(3,e,e.return),ja(3,e),Xn(5,e,e.return));break;case 1:Ot(n,e),Dt(e),o&512&&(qe||l===null||rn(l,l.return)),o&64&&An&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var c=Qt;if(Ot(n,e),Dt(e),o&512&&(qe||l===null||rn(l,l.return)),o&4){var h=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){e:{o=e.type,l=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ua]||h[ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),ut(h,o,l),h[ft]=e,We(h),o=h;break e;case"link":var m=Rm("link","href",c).get(o+(l.href||""));if(m){for(var v=0;v<m.length;v++)if(h=m[v],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){m.splice(v,1);break t}}h=c.createElement(o),ut(h,o,l),c.head.appendChild(h);break;case"meta":if(m=Rm("meta","content",c).get(o+(l.content||""))){for(v=0;v<m.length;v++)if(h=m[v],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){m.splice(v,1);break t}}h=c.createElement(o),ut(h,o,l),c.head.appendChild(h);break;default:throw Error(s(468,o))}h[ft]=e,We(h),o=h}e.stateNode=o}else Om(c,e.type,e.stateNode);else e.stateNode=Am(c,o,e.memoizedProps);else h!==o?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,o===null?Om(c,e.type,e.stateNode):Am(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Cc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Ot(n,e),Dt(e),o&512&&(qe||l===null||rn(l,l.return)),l!==null&&o&4&&Cc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Ot(n,e),Dt(e),o&512&&(qe||l===null||rn(l,l.return)),e.flags&32){c=e.stateNode;try{us(c,"")}catch(D){Le(e,e.return,D)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Cc(e,c,l!==null?l.memoizedProps:c)),o&1024&&(Rc=!0);break;case 6:if(Ot(n,e),Dt(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(D){Le(e,e.return,D)}}break;case 3:if(Vr=null,c=Qt,Qt=Hr(n.containerInfo),Ot(n,e),Qt=c,Dt(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(D){Le(e,e.return,D)}Rc&&(Rc=!1,kg(e));break;case 4:o=Qt,Qt=Hr(e.stateNode.containerInfo),Ot(n,e),Dt(e),Qt=o;break;case 12:Ot(n,e),Dt(e);break;case 13:Ot(n,e),Dt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(kc=gt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oc(e,o)));break;case 22:c=e.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,A=An,U=qe;if(An=A||c,qe=U||b,Ot(n,e),qe=U,An=A,Dt(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(l===null||b||An||qe||Ui(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){b=l=n;try{if(h=b.stateNode,c)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=b.stateNode;var H=b.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(D){Le(b,b.return,D)}}}else if(n.tag===6){if(l===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(D){Le(b,b.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,Oc(e,l))));break;case 19:Ot(n,e),Dt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oc(e,o)));break;case 30:break;case 21:break;default:Ot(n,e),Dt(e)}}function Dt(e){var n=e.flags;if(n&2){try{for(var l,o=e.return;o!==null;){if(Ag(o)){l=o;break}o=o.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var c=l.stateNode,h=wc(e);wr(e,h,c);break;case 5:var m=l.stateNode;l.flags&32&&(us(m,""),l.flags&=-33);var v=wc(e);wr(e,v,m);break;case 3:case 4:var b=l.stateNode.containerInfo,A=wc(e);Ac(e,A,b);break;default:throw Error(s(161))}}catch(U){Le(e,e.return,U)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Zn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Dg(e,n.alternate,n),n=n.sibling}function Ui(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xn(4,n,n.return),Ui(n);break;case 1:rn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Cg(n,n.return,l),Ui(n);break;case 27:Qa(n.stateNode);case 26:case 5:rn(n,n.return),Ui(n);break;case 22:n.memoizedState===null&&Ui(n);break;case 30:Ui(n);break;default:Ui(n)}e=e.sibling}}function Wn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,h=n,m=h.flags;switch(h.tag){case 0:case 11:case 15:Wn(c,h,l),ja(4,h);break;case 1:if(Wn(c,h,l),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(A){Le(o,o.return,A)}if(o=h,c=o.updateQueue,c!==null){var v=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)cp(b[c],v)}catch(A){Le(o,o.return,A)}}l&&m&64&&xg(h),Ha(h,h.return);break;case 27:Rg(h);case 26:case 5:Wn(c,h,l),l&&o===null&&m&4&&wg(h),Ha(h,h.return);break;case 12:Wn(c,h,l);break;case 13:Wn(c,h,l),l&&m&4&&Lg(c,h);break;case 22:h.memoizedState===null&&Wn(c,h,l),Ha(h,h.return);break;case 30:break;default:Wn(c,h,l)}n=n.sibling}}function Dc(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&xa(l))}function Mc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xa(e))}function on(e,n,l,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ig(e,n,l,o),n=n.sibling}function Ig(e,n,l,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n,l,o),c&2048&&ja(9,n);break;case 1:on(e,n,l,o);break;case 3:on(e,n,l,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xa(e)));break;case 12:if(c&2048){on(e,n,l,o),e=n.stateNode;try{var h=n.memoizedProps,m=h.id,v=h.onPostCommit;typeof v=="function"&&v(m,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Le(n,n.return,b)}}else on(e,n,l,o);break;case 13:on(e,n,l,o);break;case 23:break;case 22:h=n.stateNode,m=n.alternate,n.memoizedState!==null?h._visibility&2?on(e,n,l,o):Ba(e,n):h._visibility&2?on(e,n,l,o):(h._visibility|=2,Rs(e,n,l,o,(n.subtreeFlags&10256)!==0)),c&2048&&Dc(m,n);break;case 24:on(e,n,l,o),c&2048&&Mc(n.alternate,n);break;default:on(e,n,l,o)}}function Rs(e,n,l,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=e,m=n,v=l,b=o,A=m.flags;switch(m.tag){case 0:case 11:case 15:Rs(h,m,v,b,c),ja(8,m);break;case 23:break;case 22:var U=m.stateNode;m.memoizedState!==null?U._visibility&2?Rs(h,m,v,b,c):Ba(h,m):(U._visibility|=2,Rs(h,m,v,b,c)),c&&A&2048&&Dc(m.alternate,m);break;case 24:Rs(h,m,v,b,c),c&&A&2048&&Mc(m.alternate,m);break;default:Rs(h,m,v,b,c)}n=n.sibling}}function Ba(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,o=n,c=o.flags;switch(o.tag){case 22:Ba(l,o),c&2048&&Dc(o.alternate,o);break;case 24:Ba(l,o),c&2048&&Mc(o.alternate,o);break;default:Ba(l,o)}n=n.sibling}}var Va=8192;function Os(e){if(e.subtreeFlags&Va)for(e=e.child;e!==null;)zg(e),e=e.sibling}function zg(e){switch(e.tag){case 26:Os(e),e.flags&Va&&e.memoizedState!==null&&Qb(Qt,e.memoizedState,e.memoizedProps);break;case 5:Os(e);break;case 3:case 4:var n=Qt;Qt=Hr(e.stateNode.containerInfo),Os(e),Qt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Va,Va=16777216,Os(e),Va=n):Os(e));break;default:Os(e)}}function jg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $a(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];et=o,Bg(o,e)}jg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hg(e),e=e.sibling}function Hg(e){switch(e.tag){case 0:case 11:case 15:$a(e),e.flags&2048&&Xn(9,e,e.return);break;case 3:$a(e);break;case 12:$a(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ar(e)):$a(e);break;default:$a(e)}}function Ar(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var o=n[l];et=o,Bg(o,e)}jg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xn(8,n,n.return),Ar(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Ar(n));break;default:Ar(n)}e=e.sibling}}function Bg(e,n){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:Xn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xa(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,et=o;else e:for(l=e;et!==null;){o=et;var c=o.sibling,h=o.return;if(Mg(o),o===l){et=null;break e}if(c!==null){c.return=h,et=c;break e}et=h}}}var cb={getCacheForType:function(e){var n=ht(Qe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l}},fb=typeof WeakMap=="function"?WeakMap:Map,we=0,ke=null,Se=null,Ee=0,Ae=0,Mt=null,Jn=!1,Ds=!1,Nc=!1,On=0,Ve=0,ei=0,ki=0,Lc=0,qt=0,Ms=0,qa=null,St=null,Uc=!1,kc=0,Rr=1/0,Or=null,ti=null,ot=0,ni=null,Ns=null,Ls=0,Ic=0,zc=null,Vg=null,Pa=0,jc=null;function Nt(){if((we&2)!==0&&Ee!==0)return Ee&-Ee;if(O.T!==null){var e=Ss;return e!==0?e:Yc()}return id()}function $g(){qt===0&&(qt=(Ee&536870912)===0||xe?Jh():536870912);var e=$t.current;return e!==null&&(e.flags|=32),qt}function Lt(e,n,l){(e===ke&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Us(e,0),ii(e,Ee,qt,!1)),oa(e,l),((we&2)===0||e!==ke)&&(e===ke&&((we&2)===0&&(ki|=l),Ve===4&&ii(e,Ee,qt,!1)),un(e))}function qg(e,n,l){if((we&6)!==0)throw Error(s(327));var o=!l&&(n&124)===0&&(n&e.expiredLanes)===0||ra(e,n),c=o?pb(e,n):Vc(e,n,!0),h=o;do{if(c===0){Ds&&!o&&ii(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!hb(l)){c=Vc(e,n,!1),h=!1;continue}if(c===2){if(h=n,e.errorRecoveryDisabledLanes&h)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){n=m;e:{var v=e;c=qa;var b=v.current.memoizedState.isDehydrated;if(b&&(Us(v,m).flags|=256),m=Vc(v,m,!1),m!==2){if(Nc&&!b){v.errorRecoveryDisabledLanes|=h,ki|=h,c=4;break e}h=St,St=c,h!==null&&(St===null?St=h:St.push.apply(St,h))}c=m}if(h=!1,c!==2)continue}}if(c===1){Us(e,0),ii(e,n,0,!0);break}e:{switch(o=e,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ii(o,n,qt,!Jn);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=kc+300-gt(),10<c)){if(ii(o,n,qt,!Jn),Bl(o,0,!0)!==0)break e;o.timeoutHandle=ym(Pg.bind(null,o,l,St,Or,Uc,n,qt,ki,Ms,Jn,h,2,-0,0),c);break e}Pg(o,l,St,Or,Uc,n,qt,ki,Ms,Jn,h,0,-0,0)}}break}while(!0);un(e)}function Pg(e,n,l,o,c,h,m,v,b,A,U,H,R,D){if(e.timeoutHandle=-1,H=n.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(Za={stylesheets:null,count:0,unsuspend:Gb},zg(n),H=Kb(),H!==null)){e.cancelPendingCommit=H(Zg.bind(null,e,n,h,l,o,c,m,v,b,U,1,R,D)),ii(e,h,m,!A);return}Zg(e,n,h,l,o,c,m,v,b)}function hb(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var c=l[o],h=c.getSnapshot;c=c.value;try{if(!At(h(),c))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ii(e,n,l,o){n&=~Lc,n&=~ki,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var h=31-wt(c),m=1<<h;o[h]=-1,c&=~m}l!==0&&td(e,l,n)}function Dr(){return(we&6)===0?(Ya(0),!1):!0}function Hc(){if(Se!==null){if(Ae===0)var e=Se.return;else e=Se,bn=Oi=null,nc(e),ws=null,ka=0,e=Se;for(;e!==null;)Tg(e.alternate,e),e=e.return;Se=null}}function Us(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Db(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Hc(),ke=e,Se=l=yn(e.current,null),Ee=n,Ae=0,Mt=null,Jn=!1,Ds=ra(e,n),Nc=!1,Ms=qt=Lc=ki=ei=Ve=0,St=qa=null,Uc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-wt(o),h=1<<c;n|=e[c],o&=~h}return On=n,Wl(),l}function Yg(e,n){ge=null,O.H=_r,n===wa||n===rr?(n=op(),Ae=3):n===ap?(n=op(),Ae=4):Ae=n===ug?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mt=n,Se===null&&(Ve=1,Er(e,jt(n,e.current)))}function Fg(){var e=O.H;return O.H=_r,e===null?_r:e}function Gg(){var e=O.A;return O.A=cb,e}function Bc(){Ve=4,Jn||(Ee&4194048)!==Ee&&$t.current!==null||(Ds=!0),(ei&134217727)===0&&(ki&134217727)===0||ke===null||ii(ke,Ee,qt,!1)}function Vc(e,n,l){var o=we;we|=2;var c=Fg(),h=Gg();(ke!==e||Ee!==n)&&(Or=null,Us(e,n)),n=!1;var m=Ve;e:do try{if(Ae!==0&&Se!==null){var v=Se,b=Mt;switch(Ae){case 8:Hc(),m=6;break e;case 3:case 2:case 9:case 6:$t.current===null&&(n=!0);var A=Ae;if(Ae=0,Mt=null,ks(e,v,b,A),l&&Ds){m=0;break e}break;default:A=Ae,Ae=0,Mt=null,ks(e,v,b,A)}}db(),m=Ve;break}catch(U){Yg(e,U)}while(!0);return n&&e.shellSuspendCounter++,bn=Oi=null,we=o,O.H=c,O.A=h,Se===null&&(ke=null,Ee=0,Wl()),m}function db(){for(;Se!==null;)Qg(Se)}function pb(e,n){var l=we;we|=2;var o=Fg(),c=Gg();ke!==e||Ee!==n?(Or=null,Rr=gt()+500,Us(e,n)):Ds=ra(e,n);e:do try{if(Ae!==0&&Se!==null){n=Se;var h=Mt;t:switch(Ae){case 1:Ae=0,Mt=null,ks(e,n,h,1);break;case 2:case 9:if(lp(h)){Ae=0,Mt=null,Kg(n);break}n=function(){Ae!==2&&Ae!==9||ke!==e||(Ae=7),un(e)},h.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:lp(h)?(Ae=0,Mt=null,Kg(n)):(Ae=0,Mt=null,ks(e,n,h,7));break;case 5:var m=null;switch(Se.tag){case 26:m=Se.memoizedState;case 5:case 27:var v=Se;if(!m||Dm(m)){Ae=0,Mt=null;var b=v.sibling;if(b!==null)Se=b;else{var A=v.return;A!==null?(Se=A,Mr(A)):Se=null}break t}}Ae=0,Mt=null,ks(e,n,h,5);break;case 6:Ae=0,Mt=null,ks(e,n,h,6);break;case 8:Hc(),Ve=6;break e;default:throw Error(s(462))}}gb();break}catch(U){Yg(e,U)}while(!0);return bn=Oi=null,O.H=o,O.A=c,we=l,Se!==null?0:(ke=null,Ee=0,Wl(),Ve)}function gb(){for(;Se!==null&&!es();)Qg(Se)}function Qg(e){var n=bg(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?Mr(e):Se=n}function Kg(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=gg(l,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=gg(l,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:nc(n);default:Tg(l,n),n=Se=Xd(n,On),n=bg(l,n,On)}e.memoizedProps=e.pendingProps,n===null?Mr(e):Se=n}function ks(e,n,l,o){bn=Oi=null,nc(n),ws=null,ka=0;var c=n.return;try{if(sb(e,c,n,l,Ee)){Ve=1,Er(e,jt(l,e.current)),Se=null;return}}catch(h){if(c!==null)throw Se=c,h;Ve=1,Er(e,jt(l,e.current)),Se=null;return}n.flags&32768?(xe||o===1?e=!0:Ds||(Ee&536870912)!==0?e=!1:(Jn=e=!0,(o===2||o===9||o===3||o===6)&&(o=$t.current,o!==null&&o.tag===13&&(o.flags|=16384))),Xg(n,e)):Mr(n)}function Mr(e){var n=e;do{if((n.flags&32768)!==0){Xg(n,Jn);return}e=n.return;var l=lb(n.alternate,n,On);if(l!==null){Se=l;return}if(n=n.sibling,n!==null){Se=n;return}Se=n=e}while(n!==null);Ve===0&&(Ve=5)}function Xg(e,n){do{var l=rb(e.alternate,e);if(l!==null){l.flags&=32767,Se=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){Se=e;return}Se=e=l}while(e!==null);Ve=6,Se=null}function Zg(e,n,l,o,c,h,m,v,b){e.cancelPendingCommit=null;do Nr();while(ot!==0);if((we&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Mu,G0(e,l,h,m,v,b),e===ke&&(Se=ke=null,Ee=0),Ns=n,ni=e,Ls=l,Ic=h,zc=c,Vg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vb(zl,function(){return nm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,c=P.p,P.p=2,m=we,we|=4;try{ob(e,n,l)}finally{we=m,P.p=c,O.T=o}}ot=1,Wg(),Jg(),em()}}function Wg(){if(ot===1){ot=0;var e=ni,n=Ns,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var o=P.p;P.p=2;var c=we;we|=4;try{Ug(n,e);var h=Jc,m=Bd(e.containerInfo),v=h.focusedElem,b=h.selectionRange;if(m!==v&&v&&v.ownerDocument&&Hd(v.ownerDocument.documentElement,v)){if(b!==null&&wu(v)){var A=b.start,U=b.end;if(U===void 0&&(U=A),"selectionStart"in v)v.selectionStart=A,v.selectionEnd=Math.min(U,v.value.length);else{var H=v.ownerDocument||document,R=H&&H.defaultView||window;if(R.getSelection){var D=R.getSelection(),le=v.textContent.length,se=Math.min(b.start,le),Me=b.end===void 0?se:Math.min(b.end,le);!D.extend&&se>Me&&(m=Me,Me=se,se=m);var x=jd(v,se),E=jd(v,Me);if(x&&E&&(D.rangeCount!==1||D.anchorNode!==x.node||D.anchorOffset!==x.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var w=H.createRange();w.setStart(x.node,x.offset),D.removeAllRanges(),se>Me?(D.addRange(w),D.extend(E.node,E.offset)):(w.setEnd(E.node,E.offset),D.addRange(w))}}}}for(H=[],D=v;D=D.parentNode;)D.nodeType===1&&H.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var I=H[v];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Pr=!!Wc,Jc=Wc=null}finally{we=c,P.p=o,O.T=l}}e.current=n,ot=2}}function Jg(){if(ot===2){ot=0;var e=ni,n=Ns,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var o=P.p;P.p=2;var c=we;we|=4;try{Dg(e,n.alternate,n)}finally{we=c,P.p=o,O.T=l}}ot=3}}function em(){if(ot===4||ot===3){ot=0,sa();var e=ni,n=Ns,l=Ls,o=Vg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,Ns=ni=null,tm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ti=null),au(l),n=n.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(la,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=O.T,c=P.p,P.p=2,O.T=null;try{for(var h=e.onRecoverableError,m=0;m<o.length;m++){var v=o[m];h(v.value,{componentStack:v.stack})}}finally{O.T=n,P.p=c}}(Ls&3)!==0&&Nr(),un(e),c=e.pendingLanes,(l&4194090)!==0&&(c&42)!==0?e===jc?Pa++:(Pa=0,jc=e):Pa=0,Ya(0)}}function tm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xa(n)))}function Nr(e){return Wg(),Jg(),em(),nm()}function nm(){if(ot!==5)return!1;var e=ni,n=Ic;Ic=0;var l=au(Ls),o=O.T,c=P.p;try{P.p=32>l?32:l,O.T=null,l=zc,zc=null;var h=ni,m=Ls;if(ot=0,Ns=ni=null,Ls=0,(we&6)!==0)throw Error(s(331));var v=we;if(we|=4,Hg(h.current),Ig(h,h.current,m,l),we=v,Ya(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(la,h)}catch{}return!0}finally{P.p=c,O.T=o,tm(e,n)}}function im(e,n,l){n=jt(l,n),n=mc(e.stateNode,n,2),e=Fn(e,n,2),e!==null&&(oa(e,2),un(e))}function Le(e,n,l){if(e.tag===3)im(e,e,l);else for(;n!==null;){if(n.tag===3){im(n,e,l);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ti===null||!ti.has(o))){e=jt(l,e),l=rg(2),o=Fn(n,l,2),o!==null&&(og(l,o,n,e),oa(o,2),un(o));break}}n=n.return}}function $c(e,n,l){var o=e.pingCache;if(o===null){o=e.pingCache=new fb;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(l)||(Nc=!0,c.add(l),e=mb.bind(null,e,n,l),n.then(e,e))}function mb(e,n,l){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ke===e&&(Ee&l)===l&&(Ve===4||Ve===3&&(Ee&62914560)===Ee&&300>gt()-kc?(we&2)===0&&Us(e,0):Lc|=l,Ms===Ee&&(Ms=0)),un(e)}function sm(e,n){n===0&&(n=ed()),e=ms(e,n),e!==null&&(oa(e,n),un(e))}function _b(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),sm(e,l)}function yb(e,n){var l=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(l=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),sm(e,l)}function vb(e,n){return yi(e,n)}var Lr=null,Is=null,qc=!1,Ur=!1,Pc=!1,Ii=0;function un(e){e!==Is&&e.next===null&&(Is===null?Lr=Is=e:Is=Is.next=e),Ur=!0,qc||(qc=!0,bb())}function Ya(e,n){if(!Pc&&Ur){Pc=!0;do for(var l=!1,o=Lr;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var m=o.suspendedLanes,v=o.pingedLanes;h=(1<<31-wt(42|e)+1)-1,h&=c&~(m&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,om(o,h))}else h=Ee,h=Bl(o,o===ke?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||ra(o,h)||(l=!0,om(o,h));o=o.next}while(l);Pc=!1}}function Sb(){am()}function am(){Ur=qc=!1;var e=0;Ii!==0&&(Ob()&&(e=Ii),Ii=0);for(var n=gt(),l=null,o=Lr;o!==null;){var c=o.next,h=lm(o,n);h===0?(o.next=null,l===null?Lr=c:l.next=c,c===null&&(Is=l)):(l=o,(e!==0||(h&3)!==0)&&(Ur=!0)),o=c}Ya(e)}function lm(e,n){for(var l=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var m=31-wt(h),v=1<<m,b=c[m];b===-1?((v&l)===0||(v&o)!==0)&&(c[m]=F0(v,n)):b<=n&&(e.expiredLanes|=v),h&=~v}if(n=ke,l=Ee,l=Bl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===n&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hn(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||ra(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(o!==null&&Hn(o),au(l)){case 2:case 8:l=nu;break;case 32:l=zl;break;case 268435456:l=Wh;break;default:l=zl}return o=rm.bind(null,e),l=yi(l,o),e.callbackPriority=n,e.callbackNode=l,n}return o!==null&&o!==null&&Hn(o),e.callbackPriority=2,e.callbackNode=null,2}function rm(e,n){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Nr()&&e.callbackNode!==l)return null;var o=Ee;return o=Bl(e,e===ke?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(qg(e,o,n),lm(e,gt()),e.callbackNode!=null&&e.callbackNode===l?rm.bind(null,e):null)}function om(e,n){if(Nr())return null;qg(e,n,!0)}function bb(){Mb(function(){(we&6)!==0?yi(ts,Sb):am()})}function Yc(){return Ii===0&&(Ii=Jh()),Ii}function um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yl(""+e)}function cm(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Eb(e,n,l,o,c){if(n==="submit"&&l&&l.stateNode===c){var h=um((c[mt]||null).action),m=o.submitter;m&&(n=(n=m[mt]||null)?um(n.formAction):m.getAttribute("formAction"),n!==null&&(h=n,m=null));var v=new Kl("action","action",null,o,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ii!==0){var b=m?cm(c,m):new FormData(c);fc(l,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(v.preventDefault(),b=m?cm(c,m):new FormData(c),fc(l,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Fc=0;Fc<Du.length;Fc++){var Gc=Du[Fc],Tb=Gc.toLowerCase(),xb=Gc[0].toUpperCase()+Gc.slice(1);Gt(Tb,"on"+xb)}Gt(qd,"onAnimationEnd"),Gt(Pd,"onAnimationIteration"),Gt(Yd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(VS,"onTransitionRun"),Gt($S,"onTransitionStart"),Gt(qS,"onTransitionCancel"),Gt(Fd,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fa));function fm(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],c=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var m=o.length-1;0<=m;m--){var v=o[m],b=v.instance,A=v.currentTarget;if(v=v.listener,b!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=A;try{h(c)}catch(U){br(U)}c.currentTarget=null,h=b}else for(m=0;m<o.length;m++){if(v=o[m],b=v.instance,A=v.currentTarget,v=v.listener,b!==h&&c.isPropagationStopped())break e;h=v,c.currentTarget=A;try{h(c)}catch(U){br(U)}c.currentTarget=null,h=b}}}}function be(e,n){var l=n[lu];l===void 0&&(l=n[lu]=new Set);var o=e+"__bubble";l.has(o)||(hm(n,e,2,!1),l.add(o))}function Qc(e,n,l){var o=0;n&&(o|=4),hm(l,e,o,n)}var kr="_reactListening"+Math.random().toString(36).slice(2);function Kc(e){if(!e[kr]){e[kr]=!0,ad.forEach(function(l){l!=="selectionchange"&&(Cb.has(l)||Qc(l,!1,e),Qc(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[kr]||(n[kr]=!0,Qc("selectionchange",!1,n))}}function hm(e,n,l,o){switch(Im(n)){case 2:var c=Wb;break;case 8:c=Jb;break;default:c=cf}l=c.bind(null,n,l,e),c=void 0,!_u||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,l,{capture:!0,passive:c}):e.addEventListener(n,l,!0):c!==void 0?e.addEventListener(n,l,{passive:c}):e.addEventListener(n,l,!1)}function Xc(e,n,l,o,c){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var m=o.tag;if(m===3||m===4){var v=o.stateNode.containerInfo;if(v===c)break;if(m===4)for(m=o.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;v!==null;){if(m=is(v),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){o=h=m;continue e}v=v.parentNode}}o=o.return}vd(function(){var A=h,U=gu(l),H=[];e:{var R=Gd.get(e);if(R!==void 0){var D=Kl,le=e;switch(e){case"keypress":if(Gl(l)===0)break e;case"keydown":case"keyup":D=vS;break;case"focusin":le="focus",D=bu;break;case"focusout":le="blur",D=bu;break;case"beforeblur":case"afterblur":D=bu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=rS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=ES;break;case qd:case Pd:case Yd:D=cS;break;case Fd:D=xS;break;case"scroll":case"scrollend":D=aS;break;case"wheel":D=wS;break;case"copy":case"cut":case"paste":D=hS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=xd;break;case"toggle":case"beforetoggle":D=RS}var se=(n&4)!==0,Me=!se&&(e==="scroll"||e==="scrollend"),x=se?R!==null?R+"Capture":null:R;se=[];for(var E=A,w;E!==null;){var I=E;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||x===null||(I=fa(E,x),I!=null&&se.push(Ga(E,I,w))),Me)break;E=E.return}0<se.length&&(R=new D(R,le,null,l,U),H.push({event:R,listeners:se}))}}if((n&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&l!==pu&&(le=l.relatedTarget||l.fromElement)&&(is(le)||le[ns]))break e;if((D||R)&&(R=U.window===U?U:(R=U.ownerDocument)?R.defaultView||R.parentWindow:window,D?(le=l.relatedTarget||l.toElement,D=A,le=le?is(le):null,le!==null&&(Me=u(le),se=le.tag,le!==Me||se!==5&&se!==27&&se!==6)&&(le=null)):(D=null,le=A),D!==le)){if(se=Ed,I="onMouseLeave",x="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(se=xd,I="onPointerLeave",x="onPointerEnter",E="pointer"),Me=D==null?R:ca(D),w=le==null?R:ca(le),R=new se(I,E+"leave",D,l,U),R.target=Me,R.relatedTarget=w,I=null,is(U)===A&&(se=new se(x,E+"enter",le,l,U),se.target=w,se.relatedTarget=Me,I=se),Me=I,D&&le)t:{for(se=D,x=le,E=0,w=se;w;w=zs(w))E++;for(w=0,I=x;I;I=zs(I))w++;for(;0<E-w;)se=zs(se),E--;for(;0<w-E;)x=zs(x),w--;for(;E--;){if(se===x||x!==null&&se===x.alternate)break t;se=zs(se),x=zs(x)}se=null}else se=null;D!==null&&dm(H,R,D,se,!1),le!==null&&Me!==null&&dm(H,Me,le,se,!0)}}e:{if(R=A?ca(A):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var W=Nd;else if(Dd(R))if(Ld)W=jS;else{W=IS;var _e=kS}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?A&&du(A.elementType)&&(W=Nd):W=zS;if(W&&(W=W(e,A))){Md(H,W,l,U);break e}_e&&_e(e,R,A),e==="focusout"&&A&&R.type==="number"&&A.memoizedProps.value!=null&&hu(R,"number",R.value)}switch(_e=A?ca(A):window,e){case"focusin":(Dd(_e)||_e.contentEditable==="true")&&(ds=_e,Au=A,va=null);break;case"focusout":va=Au=ds=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,Vd(H,l,U);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":Vd(H,l,U)}var te;if(Tu)e:{switch(e){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else hs?Rd(e,l)&&(ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ae="onCompositionStart");ae&&(Cd&&l.locale!=="ko"&&(hs||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&hs&&(te=Sd()):($n=U,yu="value"in $n?$n.value:$n.textContent,hs=!0)),_e=Ir(A,ae),0<_e.length&&(ae=new Td(ae,e,null,l,U),H.push({event:ae,listeners:_e}),te?ae.data=te:(te=Od(l),te!==null&&(ae.data=te)))),(te=DS?MS(e,l):NS(e,l))&&(ae=Ir(A,"onBeforeInput"),0<ae.length&&(_e=new Td("onBeforeInput","beforeinput",null,l,U),H.push({event:_e,listeners:ae}),_e.data=te)),Eb(H,e,A,l,U)}fm(H,n)})}function Ga(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Ir(e,n){for(var l=n+"Capture",o=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=fa(e,l),c!=null&&o.unshift(Ga(e,c,h)),c=fa(e,n),c!=null&&o.push(Ga(e,c,h))),e.tag===3)return o;e=e.return}return[]}function zs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function dm(e,n,l,o,c){for(var h=n._reactName,m=[];l!==null&&l!==o;){var v=l,b=v.alternate,A=v.stateNode;if(v=v.tag,b!==null&&b===o)break;v!==5&&v!==26&&v!==27||A===null||(b=A,c?(A=fa(l,h),A!=null&&m.unshift(Ga(l,A,b))):c||(A=fa(l,h),A!=null&&m.push(Ga(l,A,b)))),l=l.return}m.length!==0&&e.push({event:n,listeners:m})}var wb=/\r\n?/g,Ab=/\u0000|\uFFFD/g;function pm(e){return(typeof e=="string"?e:""+e).replace(wb,`
`).replace(Ab,"")}function gm(e,n){return n=pm(n),pm(e)===n}function zr(){}function De(e,n,l,o,c,h){switch(l){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||us(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&us(e,""+o);break;case"className":$l(e,"class",o);break;case"tabIndex":$l(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$l(e,l,o);break;case"style":_d(e,o,h);break;case"data":if(n!=="object"){$l(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Yl(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&De(e,n,"name",c.name,c,null),De(e,n,"formEncType",c.formEncType,c,null),De(e,n,"formMethod",c.formMethod,c,null),De(e,n,"formTarget",c.formTarget,c,null)):(De(e,n,"encType",c.encType,c,null),De(e,n,"method",c.method,c,null),De(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=Yl(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=zr);break;case"onScroll":o!=null&&be("scroll",e);break;case"onScrollEnd":o!=null&&be("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=Yl(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":be("beforetoggle",e),be("toggle",e),Vl(e,"popover",o);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Vl(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=iS.get(l)||l,Vl(e,l,o))}}function Zc(e,n,l,o,c,h){switch(l){case"style":_d(e,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof o=="string"?us(e,o):(typeof o=="number"||typeof o=="bigint")&&us(e,""+o);break;case"onScroll":o!=null&&be("scroll",e);break;case"onScrollEnd":o!=null&&be("scrollend",e);break;case"onClick":o!=null&&(e.onclick=zr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ld.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(c=l.endsWith("Capture"),n=l.slice(2,c?l.length-7:void 0),h=e[mt]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,o,c);break e}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Vl(e,l,o)}}}function ut(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",e),be("load",e);var o=!1,c=!1,h;for(h in l)if(l.hasOwnProperty(h)){var m=l[h];if(m!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,h,m,l,null)}}c&&De(e,n,"srcSet",l.srcSet,l,null),o&&De(e,n,"src",l.src,l,null);return;case"input":be("invalid",e);var v=h=m=c=null,b=null,A=null;for(o in l)if(l.hasOwnProperty(o)){var U=l[o];if(U!=null)switch(o){case"name":c=U;break;case"type":m=U;break;case"checked":b=U;break;case"defaultChecked":A=U;break;case"value":h=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,n));break;default:De(e,n,o,U,l,null)}}dd(e,h,v,b,A,m,c,!1),ql(e);return;case"select":be("invalid",e),o=m=h=null;for(c in l)if(l.hasOwnProperty(c)&&(v=l[c],v!=null))switch(c){case"value":h=v;break;case"defaultValue":m=v;break;case"multiple":o=v;default:De(e,n,c,v,l,null)}n=h,l=m,e.multiple=!!o,n!=null?os(e,!!o,n,!1):l!=null&&os(e,!!o,l,!0);return;case"textarea":be("invalid",e),h=c=o=null;for(m in l)if(l.hasOwnProperty(m)&&(v=l[m],v!=null))switch(m){case"value":o=v;break;case"defaultValue":c=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:De(e,n,m,v,l,null)}gd(e,o,c,h),ql(e);return;case"option":for(b in l)if(l.hasOwnProperty(b)&&(o=l[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:De(e,n,b,o,l,null)}return;case"dialog":be("beforetoggle",e),be("toggle",e),be("cancel",e),be("close",e);break;case"iframe":case"object":be("load",e);break;case"video":case"audio":for(o=0;o<Fa.length;o++)be(Fa[o],e);break;case"image":be("error",e),be("load",e);break;case"details":be("toggle",e);break;case"embed":case"source":case"link":be("error",e),be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in l)if(l.hasOwnProperty(A)&&(o=l[A],o!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:De(e,n,A,o,l,null)}return;default:if(du(n)){for(U in l)l.hasOwnProperty(U)&&(o=l[U],o!==void 0&&Zc(e,n,U,o,l,void 0));return}}for(v in l)l.hasOwnProperty(v)&&(o=l[v],o!=null&&De(e,n,v,o,l,null))}function Rb(e,n,l,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,m=null,v=null,b=null,A=null,U=null;for(D in l){var H=l[D];if(l.hasOwnProperty(D)&&H!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=H;default:o.hasOwnProperty(D)||De(e,n,D,null,o,H)}}for(var R in o){var D=o[R];if(H=l[R],o.hasOwnProperty(R)&&(D!=null||H!=null))switch(R){case"type":h=D;break;case"name":c=D;break;case"checked":A=D;break;case"defaultChecked":U=D;break;case"value":m=D;break;case"defaultValue":v=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(137,n));break;default:D!==H&&De(e,n,R,D,o,H)}}fu(e,m,v,b,A,U,h,c);return;case"select":D=m=v=R=null;for(h in l)if(b=l[h],l.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":D=b;default:o.hasOwnProperty(h)||De(e,n,h,null,o,b)}for(c in o)if(h=o[c],b=l[c],o.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":R=h;break;case"defaultValue":v=h;break;case"multiple":m=h;default:h!==b&&De(e,n,c,h,o,b)}n=v,l=m,o=D,R!=null?os(e,!!l,R,!1):!!o!=!!l&&(n!=null?os(e,!!l,n,!0):os(e,!!l,l?[]:"",!1));return;case"textarea":D=R=null;for(v in l)if(c=l[v],l.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:De(e,n,v,null,o,c)}for(m in o)if(c=o[m],h=l[m],o.hasOwnProperty(m)&&(c!=null||h!=null))switch(m){case"value":R=c;break;case"defaultValue":D=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&De(e,n,m,c,o,h)}pd(e,R,D);return;case"option":for(var le in l)if(R=l[le],l.hasOwnProperty(le)&&R!=null&&!o.hasOwnProperty(le))switch(le){case"selected":e.selected=!1;break;default:De(e,n,le,null,o,R)}for(b in o)if(R=o[b],D=l[b],o.hasOwnProperty(b)&&R!==D&&(R!=null||D!=null))switch(b){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:De(e,n,b,R,o,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in l)R=l[se],l.hasOwnProperty(se)&&R!=null&&!o.hasOwnProperty(se)&&De(e,n,se,null,o,R);for(A in o)if(R=o[A],D=l[A],o.hasOwnProperty(A)&&R!==D&&(R!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,n));break;default:De(e,n,A,R,o,D)}return;default:if(du(n)){for(var Me in l)R=l[Me],l.hasOwnProperty(Me)&&R!==void 0&&!o.hasOwnProperty(Me)&&Zc(e,n,Me,void 0,o,R);for(U in o)R=o[U],D=l[U],!o.hasOwnProperty(U)||R===D||R===void 0&&D===void 0||Zc(e,n,U,R,o,D);return}}for(var x in l)R=l[x],l.hasOwnProperty(x)&&R!=null&&!o.hasOwnProperty(x)&&De(e,n,x,null,o,R);for(H in o)R=o[H],D=l[H],!o.hasOwnProperty(H)||R===D||R==null&&D==null||De(e,n,H,R,o,D)}var Wc=null,Jc=null;function jr(e){return e.nodeType===9?e:e.ownerDocument}function mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function Ob(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var ym=typeof setTimeout=="function"?setTimeout:void 0,Db=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(e){return vm.resolve(null).then(e).catch(Nb)}:ym;function Nb(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function Sm(e,n){var l=n,o=0,c=0;do{var h=l.nextSibling;if(e.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(0<o&&8>o){l=o;var m=e.ownerDocument;if(l&1&&Qa(m.documentElement),l&2&&Qa(m.body),l&4)for(l=m.head,Qa(l),m=l.firstChild;m;){var v=m.nextSibling,b=m.nodeName;m[ua]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=v}}if(c===0){e.removeChild(h),nl(n);return}c--}else l==="$"||l==="$?"||l==="$!"?c++:o=l.charCodeAt(0)-48;else o=0;l=h}while(l);nl(n)}function nf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nf(l),ru(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Lb(e,n,l,o){for(;e.nodeType===1;){var c=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ua])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function Ub(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Kt(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function kb(e,n){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")n();else{var o=function(){n(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var af=null;function bm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(n===0)return e;n--}else l==="/$"&&n++}e=e.previousSibling}return null}function Em(e,n,l){switch(n=jr(l),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Qa(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ru(e)}var Pt=new Map,Tm=new Set;function Hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Dn=P.d;P.d={f:Ib,r:zb,D:jb,C:Hb,L:Bb,m:Vb,X:qb,S:$b,M:Pb};function Ib(){var e=Dn.f(),n=Dr();return e||n}function zb(e){var n=ss(e);n!==null&&n.tag===5&&n.type==="form"?qp(n):Dn.r(e)}var js=typeof document>"u"?null:document;function xm(e,n,l){var o=js;if(o&&typeof n=="string"&&n){var c=zt(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof l=="string"&&(c+='[crossorigin="'+l+'"]'),Tm.has(c)||(Tm.add(c),e={rel:e,crossOrigin:l,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ut(n,"link",e),We(n),o.head.appendChild(n)))}}function jb(e){Dn.D(e),xm("dns-prefetch",e,null)}function Hb(e,n){Dn.C(e,n),xm("preconnect",e,n)}function Bb(e,n,l){Dn.L(e,n,l);var o=js;if(o&&e&&n){var c='link[rel="preload"][as="'+zt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(c+='[imagesrcset="'+zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(c+='[imagesizes="'+zt(l.imageSizes)+'"]')):c+='[href="'+zt(e)+'"]';var h=c;switch(n){case"style":h=Hs(e);break;case"script":h=Bs(e)}Pt.has(h)||(e=_({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Pt.set(h,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Ka(h))||n==="script"&&o.querySelector(Xa(h))||(n=o.createElement("link"),ut(n,"link",e),We(n),o.head.appendChild(n)))}}function Vb(e,n){Dn.m(e,n);var l=js;if(l&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+zt(o)+'"][href="'+zt(e)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bs(e)}if(!Pt.has(h)&&(e=_({rel:"modulepreload",href:e},n),Pt.set(h,e),l.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xa(h)))return}o=l.createElement("link"),ut(o,"link",e),We(o),l.head.appendChild(o)}}}function $b(e,n,l){Dn.S(e,n,l);var o=js;if(o&&e){var c=as(o).hoistableStyles,h=Hs(e);n=n||"default";var m=c.get(h);if(!m){var v={loading:0,preload:null};if(m=o.querySelector(Ka(h)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Pt.get(h))&&lf(e,l);var b=m=o.createElement("link");We(b),ut(b,"link",e),b._p=new Promise(function(A,U){b.onload=A,b.onerror=U}),b.addEventListener("load",function(){v.loading|=1}),b.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Br(m,n,o)}m={type:"stylesheet",instance:m,count:1,state:v},c.set(h,m)}}}function qb(e,n){Dn.X(e,n);var l=js;if(l&&e){var o=as(l).hoistableScripts,c=Bs(e),h=o.get(c);h||(h=l.querySelector(Xa(c)),h||(e=_({src:e,async:!0},n),(n=Pt.get(c))&&rf(e,n),h=l.createElement("script"),We(h),ut(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function Pb(e,n){Dn.M(e,n);var l=js;if(l&&e){var o=as(l).hoistableScripts,c=Bs(e),h=o.get(c);h||(h=l.querySelector(Xa(c)),h||(e=_({src:e,async:!0,type:"module"},n),(n=Pt.get(c))&&rf(e,n),h=l.createElement("script"),We(h),ut(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function Cm(e,n,l,o){var c=(c=sn.current)?Hr(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Hs(l.href),l=as(c).hoistableStyles,o=l.get(n),o||(o={type:"style",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Hs(l.href);var h=as(c).hoistableStyles,m=h.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,m),(h=c.querySelector(Ka(e)))&&!h._p&&(m.instance=h,m.state.loading=5),Pt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pt.set(e,l),h||Yb(c,e,l,m.state))),n&&o===null)throw Error(s(528,""));return m}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Bs(l),l=as(c).hoistableScripts,o=l.get(n),o||(o={type:"script",instance:null,count:0,state:null},l.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Hs(e){return'href="'+zt(e)+'"'}function Ka(e){return'link[rel="stylesheet"]['+e+"]"}function wm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function Yb(e,n,l,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ut(n,"link",l),We(n),e.head.appendChild(n))}function Bs(e){return'[src="'+zt(e)+'"]'}function Xa(e){return"script[async]"+e}function Am(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+zt(l.href)+'"]');if(o)return n.instance=o,We(o),o;var c=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),We(o),ut(o,"style",c),Br(o,l.precedence,e),n.instance=o;case"stylesheet":c=Hs(l.href);var h=e.querySelector(Ka(c));if(h)return n.state.loading|=4,n.instance=h,We(h),h;o=wm(l),(c=Pt.get(c))&&lf(o,c),h=(e.ownerDocument||e).createElement("link"),We(h);var m=h;return m._p=new Promise(function(v,b){m.onload=v,m.onerror=b}),ut(h,"link",o),n.state.loading|=4,Br(h,l.precedence,e),n.instance=h;case"script":return h=Bs(l.src),(c=e.querySelector(Xa(h)))?(n.instance=c,We(c),c):(o=l,(c=Pt.get(h))&&(o=_({},l),rf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),We(c),ut(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Br(o,l.precedence,e));return n.instance}function Br(e,n,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,m=0;m<o.length;m++){var v=o[m];if(v.dataset.precedence===n)h=v;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Vr=null;function Rm(e,n,l){if(Vr===null){var o=new Map,c=Vr=new Map;c.set(l,o)}else c=Vr,o=c.get(l),o||(o=new Map,c.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),c=0;c<l.length;c++){var h=l[c];if(!(h[ua]||h[ft]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var m=h.getAttribute(n)||"";m=e+m;var v=o.get(m);v?v.push(h):o.set(m,[h])}}return o}function Om(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Fb(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Za=null;function Gb(){}function Qb(e,n,l){if(Za===null)throw Error(s(475));var o=Za;if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Hs(l.href),h=e.querySelector(Ka(c));if(h){e=h._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=$r.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=h,We(h);return}h=e.ownerDocument||e,l=wm(l),(c=Pt.get(c))&&lf(l,c),h=h.createElement("link"),We(h);var m=h;m._p=new Promise(function(v,b){m.onload=v,m.onerror=b}),ut(h,"link",l),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=$r.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Kb(){if(Za===null)throw Error(s(475));var e=Za;return e.stylesheets&&e.count===0&&of(e,e.stylesheets),0<e.count?function(n){var l=setTimeout(function(){if(e.stylesheets&&of(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l)}}:null}function $r(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var qr=null;function of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,qr=new Map,n.forEach(Xb,e),qr=null,$r.call(e))}function Xb(e,n){if(!(n.state.loading&4)){var l=qr.get(e);if(l)var o=l.get(null);else{l=new Map,qr.set(e,l);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var m=c[h];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(l.set(m.dataset.precedence,m),o=m)}o&&l.set(null,o)}c=n.instance,m=c.getAttribute("data-precedence"),h=l.get(m)||o,h===o&&l.set(null,c),l.set(m,c),this.count++,o=$r.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Wa={$$typeof:$,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function Zb(e,n,l,o,c,h,m,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.hiddenUpdates=iu(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Mm(e,n,l,o,c,h,m,v,b,A,U,H){return e=new Zb(e,n,l,m,v,b,A,H),n=1,h===!0&&(n|=24),h=Rt(3,null,null,n),e.current=h,h.stateNode=e,n=$u(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:l,cache:n},Fu(h),e}function Nm(e){return e?(e=_s,e):_s}function Lm(e,n,l,o,c,h){c=Nm(c),o.context===null?o.context=c:o.pendingContext=c,o=Yn(n),o.payload={element:l},h=h===void 0?null:h,h!==null&&(o.callback=h),l=Fn(e,o,n),l!==null&&(Lt(l,e,n),Ra(l,e,n))}function Um(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function uf(e,n){Um(e,n),(e=e.alternate)&&Um(e,n)}function km(e){if(e.tag===13){var n=ms(e,67108864);n!==null&&Lt(n,e,67108864),uf(e,67108864)}}var Pr=!0;function Wb(e,n,l,o){var c=O.T;O.T=null;var h=P.p;try{P.p=2,cf(e,n,l,o)}finally{P.p=h,O.T=c}}function Jb(e,n,l,o){var c=O.T;O.T=null;var h=P.p;try{P.p=8,cf(e,n,l,o)}finally{P.p=h,O.T=c}}function cf(e,n,l,o){if(Pr){var c=ff(o);if(c===null)Xc(e,n,o,Yr,l),zm(e,o);else if(tE(c,e,n,l,o))o.stopPropagation();else if(zm(e,o),n&4&&-1<eE.indexOf(e)){for(;c!==null;){var h=ss(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var m=vi(h.pendingLanes);if(m!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var b=1<<31-wt(m);v.entanglements[1]|=b,m&=~b}un(h),(we&6)===0&&(Rr=gt()+500,Ya(0))}}break;case 13:v=ms(h,2),v!==null&&Lt(v,h,2),Dr(),uf(h,2)}if(h=ff(o),h===null&&Xc(e,n,o,Yr,l),h===c)break;c=h}c!==null&&o.stopPropagation()}else Xc(e,n,o,null,l)}}function ff(e){return e=gu(e),hf(e)}var Yr=null;function hf(e){if(Yr=null,e=is(e),e!==null){var n=u(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=f(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Yr=e,null}function Im(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case ts:return 2;case nu:return 8;case zl:case B0:return 32;case Wh:return 268435456;default:return 32}default:return 32}}var df=!1,ai=null,li=null,ri=null,Ja=new Map,el=new Map,oi=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zm(e,n){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Ja.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function tl(e,n,l,o,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ss(n),n!==null&&km(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function tE(e,n,l,o,c){switch(n){case"focusin":return ai=tl(ai,e,n,l,o,c),!0;case"dragenter":return li=tl(li,e,n,l,o,c),!0;case"mouseover":return ri=tl(ri,e,n,l,o,c),!0;case"pointerover":var h=c.pointerId;return Ja.set(h,tl(Ja.get(h)||null,e,n,l,o,c)),!0;case"gotpointercapture":return h=c.pointerId,el.set(h,tl(el.get(h)||null,e,n,l,o,c)),!0}return!1}function jm(e){var n=is(e.target);if(n!==null){var l=u(n);if(l!==null){if(n=l.tag,n===13){if(n=f(l),n!==null){e.blockedOn=n,Q0(e.priority,function(){if(l.tag===13){var o=Nt();o=su(o);var c=ms(l,o);c!==null&&Lt(c,l,o),uf(l,o)}});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=ff(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);pu=o,l.target.dispatchEvent(o),pu=null}else return n=ss(l),n!==null&&km(n),e.blockedOn=l,!1;n.shift()}return!0}function Hm(e,n,l){Fr(e)&&l.delete(n)}function nE(){df=!1,ai!==null&&Fr(ai)&&(ai=null),li!==null&&Fr(li)&&(li=null),ri!==null&&Fr(ri)&&(ri=null),Ja.forEach(Hm),el.forEach(Hm)}function Gr(e,n){e.blockedOn===n&&(e.blockedOn=null,df||(df=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,nE)))}var Qr=null;function Bm(e){Qr!==e&&(Qr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Qr===e&&(Qr=null);for(var n=0;n<e.length;n+=3){var l=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(hf(o||l)===null)continue;break}var h=ss(l);h!==null&&(e.splice(n,3),n-=3,fc(h,{pending:!0,data:c,method:l.method,action:o},o,c))}}))}function nl(e){function n(b){return Gr(b,e)}ai!==null&&Gr(ai,e),li!==null&&Gr(li,e),ri!==null&&Gr(ri,e),Ja.forEach(n),el.forEach(n);for(var l=0;l<oi.length;l++){var o=oi[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<oi.length&&(l=oi[0],l.blockedOn===null);)jm(l),l.blockedOn===null&&oi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var c=l[o],h=l[o+1],m=c[mt]||null;if(typeof h=="function")m||Bm(l);else if(m){var v=null;if(h&&h.hasAttribute("formAction")){if(c=h,m=h[mt]||null)v=m.formAction;else if(hf(c)!==null)continue}else v=m.action;typeof v=="function"?l[o+1]=v:(l.splice(o,3),o-=3),Bm(l)}}}function pf(e){this._internalRoot=e}Kr.prototype.render=pf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var l=n.current,o=Nt();Lm(l,o,e,n,null,null)},Kr.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Lm(e.current,2,null,e,null,null),Dr(),n[ns]=null}};function Kr(e){this._internalRoot=e}Kr.prototype.unstable_scheduleHydration=function(e){if(e){var n=id();e={blockedOn:null,target:e,priority:n};for(var l=0;l<oi.length&&n!==0&&n<oi[l].priority;l++);oi.splice(l,0,e),l===0&&jm(e)}};var Vm=t.version;if(Vm!=="19.1.0")throw Error(s(527,Vm,"19.1.0"));P.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var iE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xr.isDisabled&&Xr.supportsFiber)try{la=Xr.inject(iE),Ct=Xr}catch{}}return il.createRoot=function(e,n){if(!r(e))throw Error(s(299));var l=!1,o="",c=ig,h=sg,m=ag,v=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(v=n.unstable_transitionCallbacks)),n=Mm(e,1,!1,null,null,l,o,c,h,m,v,null),e[ns]=n.current,Kc(e),new pf(n)},il.hydrateRoot=function(e,n,l){if(!r(e))throw Error(s(299));var o=!1,c="",h=ig,m=sg,v=ag,b=null,A=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(c=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(v=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(b=l.unstable_transitionCallbacks),l.formState!==void 0&&(A=l.formState)),n=Mm(e,1,!0,n,l??null,o,c,h,m,v,b,A),n.context=Nm(null),l=n.current,o=Nt(),o=su(o),c=Yn(o),c.callback=null,Fn(l,c,o),l=o,n.current.lanes=l,oa(n,l),un(n),e[ns]=n.current,Kc(e),new Kr(n)},il.version="19.1.0",il}var t_;function eT(){if(t_)return yf.exports;t_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yf.exports=J1(),yf.exports}var tT=eT();const nT=Gi(tT),iT=["localeText"],n_=re.createContext(null),sT=function(t){const{localeText:i}=t,s=rE(t,iT),{adapter:r,localeText:u}=re.useContext(n_)??{adapter:void 0,localeText:void 0},f=oE({props:s,name:"MuiLocalizationProvider"}),{children:d,dateAdapter:p,dateFormats:g,dateLibInstance:_,adapterLocale:y,localeText:S}=f,T=re.useMemo(()=>Ly({},S,u,i),[S,u,i]),C=re.useMemo(()=>{if(!p)return r||null;const Q=new p({locale:y,formats:g,instance:_});if(!Q.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return Q},[p,y,g,_,r]),k=re.useMemo(()=>C?{minDate:C.date("1900-01-01T00:00:00.000"),maxDate:C.date("2099-12-31T00:00:00.000")}:null,[C]),L=re.useMemo(()=>({utils:C,adapter:C,defaultDates:k,localeText:T}),[k,C,T]);return pe.jsx(n_.Provider,{value:L,children:d})};var i_={};const s_="@firebase/database",a_="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ov="";function aT(a){ov=a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),at(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:ah(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const t=window[a];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new lT(t)}}catch{}return new rT},ji=uv("localStorage"),oT=uv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new wE("@firebase/database"),uT=function(){let a=1;return function(){return a++}}(),cv=function(a){const t=AE(a),i=new RE;i.update(t);const s=i.digest();return OE.encodeByteArray(s)},Ml=function(...a){let t="";for(let i=0;i<a.length;i++){const s=a[i];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=Ml.apply(null,s):typeof s=="object"?t+=at(s):t+=s,t+=" "}return t};let fl=null,l_=!0;const cT=function(a,t){G(!0,"Can't turn on custom loggers persistently."),Fs.logLevel=DE.VERBOSE,fl=Fs.log.bind(Fs)},ct=function(...a){if(l_===!0&&(l_=!1,fl===null&&oT.get("logging_enabled")===!0&&cT()),fl){const t=Ml.apply(null,a);fl(t)}},Nl=function(a){return function(...t){ct(a,...t)}},Bf=function(...a){const t="FIREBASE INTERNAL ERROR: "+Ml(...a);Fs.error(t)},kn=function(...a){const t=`FIREBASE FATAL ERROR: ${Ml(...a)}`;throw Fs.error(t),new Error(t)},Tt=function(...a){const t="FIREBASE WARNING: "+Ml(...a);Fs.warn(t)},fT=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$o=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},hT=function(a){if(document.readyState==="complete")a();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Zs="[MIN_NAME]",$i="[MAX_NAME]",Ki=function(a,t){if(a===t)return 0;if(a===Zs||t===$i)return-1;if(t===Zs||a===$i)return 1;{const i=r_(a),s=r_(t);return i!==null?s!==null?i-s===0?a.length-t.length:i-s:-1:s!==null?1:a<t?-1:1}},dT=function(a,t){return a===t?0:a<t?-1:1},sl=function(a,t){if(t&&a in t)return t[a];throw new Error("Missing required key ("+a+") in object: "+at(t))},dh=function(a){if(typeof a!="object"||a===null)return at(a);const t=[];for(const s in a)t.push(s);t.sort();let i="{";for(let s=0;s<t.length;s++)s!==0&&(i+=","),i+=at(t[s]),i+=":",i+=dh(a[t[s]]);return i+="}",i},fv=function(a,t){const i=a.length;if(i<=t)return[a];const s=[];for(let r=0;r<i;r+=t)r+t>i?s.push(a.substring(r,i)):s.push(a.substring(r,r+t));return s};function dt(a,t){for(const i in a)a.hasOwnProperty(i)&&t(i,a[i])}const hv=function(a){G(!$o(a),"Invalid JSON number");const t=11,i=52,s=(1<<t-1)-1;let r,u,f,d,p;a===0?(u=0,f=0,r=1/a===-1/0?1:0):(r=a<0,a=Math.abs(a),a>=Math.pow(2,1-s)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),s),u=d+s,f=Math.round(a*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(a/Math.pow(2,1-s-i))));const g=[];for(p=i;p;p-=1)g.push(f%2?1:0),f=Math.floor(f/2);for(p=t;p;p-=1)g.push(u%2?1:0),u=Math.floor(u/2);g.push(r?1:0),g.reverse();const _=g.join("");let y="";for(p=0;p<64;p+=8){let S=parseInt(_.substr(p,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},pT=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gT=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mT(a,t){let i="Unknown Error";a==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?i="Client doesn't have permission to access the desired data.":a==="unavailable"&&(i="The service is unavailable");const s=new Error(a+" at "+t._path.toString()+": "+i);return s.code=a.toUpperCase(),s}const _T=new RegExp("^-?(0*)\\d{1,10}$"),yT=-2147483648,vT=2147483647,r_=function(a){if(_T.test(a)){const t=Number(a);if(t>=yT&&t<=vT)return t}return null},ta=function(a){try{a()}catch(t){setTimeout(()=>{const i=t.stack||"";throw Tt("Exception was thrown by user callback.",i),t},Math.floor(0))}},ST=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hl=function(a,t){const i=setTimeout(a,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Iy(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(s=>this.appCheck=s)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,s):i(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,i,s){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(ct("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,s):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(t)}}class so{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}so.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="5",dv="v",pv="s",gv="r",mv="f",_v=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yv="ls",vv="p",Vf="ac",Sv="websocket",bv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t,i,s,r,u=!1,f="",d=!1,p=!1,g=null){this.secure=i,this.namespace=s,this.webSocketOnly=r,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ji.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ji.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function TT(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function Tv(a,t,i){G(typeof t=="string","typeof type must == string"),G(typeof i=="object","typeof params must == object");let s;if(t===Sv)s=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(t===bv)s=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);TT(a)&&(i.ns=a.namespace);const r=[];return dt(i,(u,f)=>{r.push(u+"="+f)}),s+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.counters_={}}incrementCounter(t,i=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return kE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf={},Ef={};function gh(a){const t=a.toString();return bf[t]||(bf[t]=new xT),bf[t]}function CT(a,t){const i=a.toString();return Ef[i]||(Ef[i]=t()),Ef[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<s.length;++r)s[r]&&ta(()=>{this.onMessage_(s[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="start",AT="close",RT="pLPCommand",OT="pRTLPCB",xv="id",Cv="pw",wv="ser",DT="cb",MT="seg",NT="ts",LT="d",UT="dframe",Av=1870,Rv=30,kT=Av-Rv,IT=25e3,zT=3e4;class Ys{constructor(t,i,s,r,u,f,d){this.connId=t,this.repoInfo=i,this.applicationId=s,this.appCheckToken=r,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nl(t),this.stats_=gh(i),this.urlFn=p=>(this.appCheckToken&&(p[Vf]=this.appCheckToken),Tv(i,bv,p))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new wT(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zT)),hT(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mh((...u)=>{const[f,d,p,g,_]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===o_)this.id=d,this.password=p;else if(f===AT)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const s={};s[o_]="t",s[wv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[DT]=this.scriptTagHolder.uniqueCallbackIdentifier),s[dv]=ph,this.transportSessionId&&(s[pv]=this.transportSessionId),this.lastSessionId&&(s[yv]=this.lastSessionId),this.applicationId&&(s[vv]=this.applicationId),this.appCheckToken&&(s[Vf]=this.appCheckToken),typeof location<"u"&&location.hostname&&_v.test(location.hostname)&&(s[gv]=mv);const r=this.urlFn(s);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ys.forceAllow_=!0}static forceDisallow(){Ys.forceDisallow_=!0}static isAvailable(){return Ys.forceAllow_?!0:!Ys.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pT()&&!gT()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=IE(i),r=fv(s,kT);for(let u=0;u<r.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[u]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const s={};s[UT]="t",s[xv]=t,s[Cv]=i,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=at(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class mh{constructor(t,i,s,r){this.onDisconnect=s,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=uT(),window[RT+this.uniqueCallbackIdentifier]=t,window[OT+this.uniqueCallbackIdentifier]=i,this.myIFrame=mh.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){ct("frame writing exception"),d.stack&&ct(d.stack),ct(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ct("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[xv]=this.myID,t[Cv]=this.myPW,t[wv]=this.currentSerial;let i=this.urlFn(t),s="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Rv+s.length<=Av;){const f=this.pendingSegs.shift();s=s+"&"+MT+r+"="+f.seg+"&"+NT+r+"="+f.ts+"&"+LT+r+"="+f.d,r++}return i=i+s,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,s){this.pendingSegs.push({seg:t,ts:i,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const s=()=>{this.outstandingRequests.delete(i),this.newRequest_()},r=setTimeout(s,Math.floor(IT)),u=()=>{clearTimeout(r),s()};this.addTag(t,u)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const r=s.readyState;(!r||r==="loaded"||r==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),i())},s.onerror=()=>{ct("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=16384,HT=45e3;let vo=null;typeof MozWebSocket<"u"?vo=MozWebSocket:typeof WebSocket<"u"&&(vo=WebSocket);class Zt{constructor(t,i,s,r,u,f,d){this.connId=t,this.applicationId=s,this.appCheckToken=r,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nl(this.connId),this.stats_=gh(i),this.connURL=Zt.connectionURL_(i,f,d,r,s),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,s,r,u){const f={};return f[dv]=ph,typeof location<"u"&&location.hostname&&_v.test(location.hostname)&&(f[gv]=mv),i&&(f[pv]=i),s&&(f[yv]=s),r&&(f[Vf]=r),u&&(f[vv]=u),Tv(t,Sv,f)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ji.set("previous_websocket_failure",!0);try{let s;zE(),this.mySock=new vo(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const r=s.message||s.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Zt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(i);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&vo!==null&&!Zt.forceDisallow_}static previouslyFailed(){return ji.isInMemoryStorage||ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){ji.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const s=ah(i);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const s=this.extractFrameCount_(i);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const s=fv(i,jT);s.length>1&&this.sendString_(String(s.length));for(let r=0;r<s.length;r++)this.sendString_(s[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HT))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zt.responsesRequiredToBeHealthy=2;Zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{static get ALL_TRANSPORTS(){return[Ys,Zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=Zt&&Zt.isAvailable();let s=i&&!Zt.previouslyFailed();if(t.webSocketOnly&&(i||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Zt];else{const r=this.transports_=[];for(const u of vl.ALL_TRANSPORTS)u&&u.isAvailable()&&r.push(u);vl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}vl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=6e4,VT=5e3,$T=10*1024,qT=100*1024,Tf="t",u_="d",PT="s",c_="r",YT="e",f_="o",h_="a",d_="n",p_="p",FT="h";class GT{constructor(t,i,s,r,u,f,d,p,g,_){this.id=t,this.repoInfo_=i,this.applicationId_=s,this.appCheckToken_=r,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nl("c:"+this.id+":"),this.transportManager_=new vl(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,s)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=hl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qT?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$T?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Tf in t){const i=t[Tf];i===h_?this.upgradeIfSecondaryHealthy_():i===c_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===f_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=sl("t",t),s=sl("d",t);if(i==="c")this.onSecondaryControl_(s);else if(i==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:p_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:h_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:d_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=sl("t",t),s=sl("d",t);i==="c"?this.onControl_(s):i==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=sl(Tf,t);if(u_ in t){const s=t[u_];if(i===FT){const r={...s};this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(i===d_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===PT?this.onConnectionShutdown_(s):i===c_?this.onReset_(s):i===YT?Bf("Server Error: "+s):i===f_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,s=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),ph!==s&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,s),hl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BT))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(VT))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:p_,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{put(t,i,s,r){}merge(t,i,s,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,s){}onDisconnectMerge(t,i,s){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dv=class{constructor(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let r=0;r<s.length;r++)s[r].callback.apply(s[r].context,i)}}on(t,i,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:s});const r=this.getInitialEvent(t);r&&i.apply(s,r)}off(t,i,s){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let u=0;u<r.length;u++)if(r[u].callback===i&&(!s||s===r[u].context)){r.splice(u,1);return}}validateEventType_(t){G(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Dv{static getInstance(){return new So}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return G(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=32,m_=768;class Re{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let s=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[s]=this.pieces_[r],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function Ce(){return new Re("")}function me(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function di(a){return a.pieces_.length-a.pieceNum_}function Ue(a){let t=a.pieceNum_;return t<a.pieces_.length&&t++,new Re(a.pieces_,t)}function _h(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function QT(a){let t="";for(let i=a.pieceNum_;i<a.pieces_.length;i++)a.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(a.pieces_[i])));return t||"/"}function Sl(a,t=0){return a.pieces_.slice(a.pieceNum_+t)}function Mv(a){if(a.pieceNum_>=a.pieces_.length)return null;const t=[];for(let i=a.pieceNum_;i<a.pieces_.length-1;i++)t.push(a.pieces_[i]);return new Re(t,0)}function Pe(a,t){const i=[];for(let s=a.pieceNum_;s<a.pieces_.length;s++)i.push(a.pieces_[s]);if(t instanceof Re)for(let s=t.pieceNum_;s<t.pieces_.length;s++)i.push(t.pieces_[s]);else{const s=t.split("/");for(let r=0;r<s.length;r++)s[r].length>0&&i.push(s[r])}return new Re(i,0)}function ye(a){return a.pieceNum_>=a.pieces_.length}function bt(a,t){const i=me(a),s=me(t);if(i===null)return t;if(i===s)return bt(Ue(a),Ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+a+")")}function KT(a,t){const i=Sl(a,0),s=Sl(t,0);for(let r=0;r<i.length&&r<s.length;r++){const u=Ki(i[r],s[r]);if(u!==0)return u}return i.length===s.length?0:i.length<s.length?-1:1}function yh(a,t){if(di(a)!==di(t))return!1;for(let i=a.pieceNum_,s=t.pieceNum_;i<=a.pieces_.length;i++,s++)if(a.pieces_[i]!==t.pieces_[s])return!1;return!0}function Yt(a,t){let i=a.pieceNum_,s=t.pieceNum_;if(di(a)>di(t))return!1;for(;i<a.pieces_.length;){if(a.pieces_[i]!==t.pieces_[s])return!1;++i,++s}return!0}class XT{constructor(t,i){this.errorPrefix_=i,this.parts_=Sl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=jo(this.parts_[s]);Nv(this)}}function ZT(a,t){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(t),a.byteLength_+=jo(t),Nv(a)}function WT(a){const t=a.parts_.pop();a.byteLength_-=jo(t),a.parts_.length>0&&(a.byteLength_-=1)}function Nv(a){if(a.byteLength_>m_)throw new Error(a.errorPrefix_+"has a key path longer than "+m_+" bytes ("+a.byteLength_+").");if(a.parts_.length>g_)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+g_+") or object contains a cycle "+zi(a))}function zi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Dv{static getInstance(){return new vh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return G(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=1e3,JT=300*1e3,__=30*1e3,ex=1.3,tx=3e4,nx="server_kill",y_=3;class Nn extends Ov{constructor(t,i,s,r,u,f,d,p){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=s,this.onConnectStatus_=r,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=Nn.nextPersistentConnectionId_++,this.log_=Nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=al,this.maxReconnectDelay_=JT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&So.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,s){const r=++this.requestNumber_,u={r,a:t,b:i};this.log_(at(u)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),s&&(this.requestCBHash_[r]=s)}get(t){this.initConnection_();const i=new ci,r={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(t,i,s,r){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:r,hashFn:i,query:t,tag:s};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})}sendListen_(t){const i=t.query,s=i._path.toString(),r=i._queryIdentifier;this.log_("Listen on "+s+" for "+r);const u={p:s},f="q";t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,g=d.s;Nn.warnOnListenWarnings_(p,i),(this.listens.get(s)&&this.listens.get(s).get(r))===t&&(this.log_("listen response",d),g!=="ok"&&this.removeListen_(s,r),t.onComplete&&t.onComplete(g,p))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&dn(t,"w")){const s=Ks(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const r='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||NE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=__)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=LE(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,r=>{const u=r.s,f=r.d||"error";this.authToken_===t&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,s=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,s)})}unlisten(t,i){const s=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+r),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,r)&&this.connected_&&this.sendUnlisten_(s,r,t._queryObject,i)}sendUnlisten_(t,i,s,r){this.log_("Unlisten on "+t+" for "+i);const u={p:t},f="n";r&&(u.q=s,u.t=r),this.sendRequest(f,u)}onDisconnectPut(t,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:s})}onDisconnectMerge(t,i,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:s})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,s,r){const u={p:i,d:s};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{r&&setTimeout(()=>{r(f.s,f.d)},Math.floor(0))})}put(t,i,s,r){this.putInternal("p",t,i,s,r)}merge(t,i,s,r){this.putInternal("m",t,i,s,r)}putInternal(t,i,s,r,u){this.initConnection_();const f={p:i,d:s};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:r}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,s,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,s=>{if(s.s!=="ok"){const u=s.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+at(t));const i=t.r,s=this.requestCBHash_[i];s&&(delete this.requestCBHash_[i],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Bf("Unrecognized action received from server: "+at(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=al,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=al,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tx&&(this.reconnectDelay_=al),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ex)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Nn.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,s())},g=function(y){G(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(y)};this.realtime_={close:p,sendRequest:g};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);f?ct("getToken() completed but was canceled"):(ct("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,d=new GT(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,s,T=>{Tt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(nx)},u))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Tt(y),p())}}}interrupt(t){ct("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ct("Resuming connection for reason: "+t),delete this.interruptReasons_[t],If(this.interruptReasons_)&&(this.reconnectDelay_=al,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let s;i?s=i.map(u=>dh(u)).join("$"):s="default";const r=this.removeListen_(t,s);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(t,i){const s=new Re(t).toString();let r;if(this.listens.has(s)){const u=this.listens.get(s);r=u.get(i),u.delete(i),u.size===0&&this.listens.delete(s)}else r=void 0;return r}onAuthRevoked_(t,i){ct("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=y_&&(this.reconnectDelay_=__,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){ct("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=y_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+ov.replace(/\./g,"-")]=1,zy()?t["framework.cordova"]=1:UE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=So.getInstance().currentlyOnline();return If(this.interruptReasons_)&&t}}Nn.nextPersistentConnectionId_=0;Nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ve(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const s=new ve(Zs,t),r=new ve(Zs,i);return this.compare(s,r)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr;class Lv extends qo{static get __EMPTY_NODE(){return Wr}static set __EMPTY_NODE(t){Wr=t}compare(t,i){return Ki(t.name,i.name)}isDefinedOn(t){throw Ol("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ve.MIN}maxPost(){return new ve($i,Wr)}makePost(t,i){return G(typeof t=="string","KeyIndex indexValue must always be a string."),new ve(t,Wr)}toString(){return".key"}}const Gs=new Lv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t,i,s,r,u=null){this.isReverse_=r,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=i?s(t.key,i):1,r&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class it{constructor(t,i,s,r,u){this.key=t,this.value=i,this.color=s??it.RED,this.left=r??Et.EMPTY_NODE,this.right=u??Et.EMPTY_NODE}copy(t,i,s,r,u){return new it(t??this.key,i??this.value,s??this.color,r??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let r=this;const u=s(t,r.key);return u<0?r=r.copy(null,null,null,r.left.insert(t,i,s),null):u===0?r=r.copy(null,i,null,null,null):r=r.copy(null,null,null,null,r.right.insert(t,i,s)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Et.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let s,r;if(s=this,i(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,i),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),i(t,s.key)===0){if(s.right.isEmpty())return Et.EMPTY_NODE;r=s.right.min_(),s=s.copy(r.key,r.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,i))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class ix{copy(t,i,s,r,u){return this}insert(t,i,s){return new it(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Et{constructor(t,i=Et.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new Et(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(t){return new Et(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,it.BLACK,null,null))}get(t){let i,s=this.root_;for(;!s.isEmpty();){if(i=this.comparator_(t,s.key),i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}getPredecessorKey(t){let i,s=this.root_,r=null;for(;!s.isEmpty();)if(i=this.comparator_(t,s.key),i===0){if(s.left.isEmpty())return r?r.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else i<0?s=s.left:i>0&&(r=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Jr(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new Jr(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new Jr(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new Jr(this.root_,null,this.comparator_,!0,t)}}Et.EMPTY_NODE=new ix;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(a,t){return Ki(a.name,t.name)}function Sh(a,t){return Ki(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;function ax(a){$f=a}const Uv=function(a){return typeof a=="number"?"number:"+hv(a):"string:"+a},kv=function(a){if(a.isLeafNode()){const t=a.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else G(a===$f||a.isEmpty(),"priority of unexpected type.");G(a===$f||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_;class nt{static set __childrenNodeConstructor(t){v_=t}static get __childrenNodeConstructor(){return v_}constructor(t,i=nt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new nt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ye(t)?this:me(t)===".priority"?this.priorityNode_:nt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:nt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const s=me(t);return s===null?i:i.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||di(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,nt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Uv(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=hv(this.value_):t+=this.value_,this.lazyHash_=cv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===nt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof nt.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,s=typeof this.value_,r=nt.VALUE_TYPE_ORDER.indexOf(i),u=nt.VALUE_TYPE_ORDER.indexOf(s);return G(r>=0,"Unknown leaf type: "+i),G(u>=0,"Unknown leaf type: "+s),r===u?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-r}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}nt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv,zv;function lx(a){Iv=a}function rx(a){zv=a}class ox extends qo{compare(t,i){const s=t.node.getPriority(),r=i.node.getPriority(),u=s.compareTo(r);return u===0?Ki(t.name,i.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve($i,new nt("[PRIORITY-POST]",zv))}makePost(t,i){const s=Iv(t);return new ve(i,new nt("[PRIORITY-POST]",s))}toString(){return".priority"}}const He=new ox;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=Math.log(2);class cx{constructor(t){const i=u=>parseInt(Math.log(u)/ux,10),s=u=>parseInt(Array(u+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const r=s(this.count);this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bo=function(a,t,i,s){a.sort(t);const r=function(p,g){const _=g-p;let y,S;if(_===0)return null;if(_===1)return y=a[p],S=i?i(y):y,new it(S,y.node,it.BLACK,null,null);{const T=parseInt(_/2,10)+p,C=r(p,T),k=r(T+1,g);return y=a[T],S=i?i(y):y,new it(S,y.node,it.BLACK,C,k)}},u=function(p){let g=null,_=null,y=a.length;const S=function(C,k){const L=y-C,Q=y;y-=C;const F=r(L+1,Q),$=a[L],Z=i?i($):$;T(new it(Z,$.node,k,null,F))},T=function(C){g?(g.left=C,g=C):(_=C,g=C)};for(let C=0;C<p.count;++C){const k=p.nextBitIsOne(),L=Math.pow(2,p.count-(C+1));k?S(L,it.BLACK):(S(L,it.BLACK),S(L,it.RED))}return _},f=new cx(a.length),d=u(f);return new Et(s||t,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf;const Vs={};class Mn{static get Default(){return G(Vs&&He,"ChildrenNode.ts has not been loaded"),xf=xf||new Mn({".priority":Vs},{".priority":He}),xf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=Ks(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof Et?i:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,i){G(t!==Gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let r=!1;const u=i.getIterator(ve.Wrap);let f=u.getNext();for(;f;)r=r||t.isDefinedOn(f.node),s.push(f),f=u.getNext();let d;r?d=bo(s,t.getCompare()):d=Vs;const p=t.toString(),g={...this.indexSet_};g[p]=t;const _={...this.indexes_};return _[p]=d,new Mn(_,g)}addToIndexes(t,i){const s=go(this.indexes_,(r,u)=>{const f=Ks(this.indexSet_,u);if(G(f,"Missing index implementation for "+u),r===Vs)if(f.isDefinedOn(t.node)){const d=[],p=i.getIterator(ve.Wrap);let g=p.getNext();for(;g;)g.name!==t.name&&d.push(g),g=p.getNext();return d.push(t),bo(d,f.getCompare())}else return Vs;else{const d=i.get(t.name);let p=r;return d&&(p=p.remove(new ve(t.name,d))),p.insert(t,t.node)}});return new Mn(s,this.indexSet_)}removeFromIndexes(t,i){const s=go(this.indexes_,r=>{if(r===Vs)return r;{const u=i.get(t.name);return u?r.remove(new ve(t.name,u)):r}});return new Mn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ll;class oe{static get EMPTY_NODE(){return ll||(ll=new oe(new Et(Sh),null,Mn.Default))}constructor(t,i,s){this.children_=t,this.priorityNode_=i,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&kv(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ll}updatePriority(t){return this.children_.isEmpty()?this:new oe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?ll:i}}getChild(t){const i=me(t);return i===null?this:this.getImmediateChild(i).getChild(Ue(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(G(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const s=new ve(t,i);let r,u;i.isEmpty()?(r=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(s,this.children_)):(r=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(s,this.children_));const f=r.isEmpty()?ll:this.priorityNode_;return new oe(r,f,u)}}updateChild(t,i){const s=me(t);if(s===null)return i;{G(me(t)!==".priority"||di(t)===1,".priority must be the last token in a path");const r=this.getImmediateChild(s).updateChild(Ue(t),i);return this.updateImmediateChild(s,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let s=0,r=0,u=!0;if(this.forEachChild(He,(f,d)=>{i[f]=d.val(t),s++,u&&oe.INTEGER_REGEXP_.test(f)?r=Math.max(r,Number(f)):u=!1}),!t&&u&&r<2*s){const f=[];for(const d in i)f[d]=i[d];return f}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Uv(this.getPriority().val())+":"),this.forEachChild(He,(i,s)=>{const r=s.hash();r!==""&&(t+=":"+i+":"+r)}),this.lazyHash_=t===""?"":cv(t)}return this.lazyHash_}getPredecessorChildName(t,i,s){const r=this.resolveIndex_(s);if(r){const u=r.getPredecessorKey(new ve(t,i));return u?u.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const s=i.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ve(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const s=i.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ve(i,this.children_.get(i)):null}forEachChild(t,i){const s=this.resolveIndex_(t);return s?s.inorderTraversal(r=>i(r.name,r.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const s=this.resolveIndex_(i);if(s)return s.getIteratorFrom(t,r=>r);{const r=this.children_.getIteratorFrom(t.name,ve.Wrap);let u=r.peek();for(;u!=null&&i.compare(u,t)<0;)r.getNext(),u=r.peek();return r}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const s=this.resolveIndex_(i);if(s)return s.getReverseIteratorFrom(t,r=>r);{const r=this.children_.getReverseIteratorFrom(t.name,ve.Wrap);let u=r.peek();for(;u!=null&&i.compare(u,t)>0;)r.getNext(),u=r.peek();return r}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ll?-1:0}withIndex(t){if(t===Gs||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new oe(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Gs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const s=this.getIterator(He),r=i.getIterator(He);let u=s.getNext(),f=r.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=s.getNext(),f=r.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Gs?null:this.indexMap_.get(t.toString())}}oe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fx extends oe{constructor(){super(new Et(Sh),oe.EMPTY_NODE,Mn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return oe.EMPTY_NODE}isEmpty(){return!1}}const Ll=new fx;Object.defineProperties(ve,{MIN:{value:new ve(Zs,oe.EMPTY_NODE)},MAX:{value:new ve($i,Ll)}});Lv.__EMPTY_NODE=oe.EMPTY_NODE;nt.__childrenNodeConstructor=oe;ax(Ll);rx(Ll);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=!0;function Ge(a,t=null){if(a===null)return oe.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(t=a[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const i=a;return new nt(i,Ge(t))}if(!(a instanceof Array)&&hx){const i=[];let s=!1;if(dt(a,(f,d)=>{if(f.substring(0,1)!=="."){const p=Ge(d);p.isEmpty()||(s=s||!p.getPriority().isEmpty(),i.push(new ve(f,p)))}}),i.length===0)return oe.EMPTY_NODE;const u=bo(i,sx,f=>f.name,Sh);if(s){const f=bo(i,He.getCompare());return new oe(u,Ge(t),new Mn({".priority":f},{".priority":He}))}else return new oe(u,Ge(t),Mn.Default)}else{let i=oe.EMPTY_NODE;return dt(a,(s,r)=>{if(dn(a,s)&&s.substring(0,1)!=="."){const u=Ge(r);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(s,u))}}),i.updatePriority(Ge(t))}}lx(Ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx extends qo{constructor(t){super(),this.indexPath_=t,G(!ye(t)&&me(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const s=this.extractChild(t.node),r=this.extractChild(i.node),u=s.compareTo(r);return u===0?Ki(t.name,i.name):u}makePost(t,i){const s=Ge(t),r=oe.EMPTY_NODE.updateChild(this.indexPath_,s);return new ve(i,r)}maxPost(){const t=oe.EMPTY_NODE.updateChild(this.indexPath_,Ll);return new ve($i,t)}toString(){return Sl(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px extends qo{compare(t,i){const s=t.node.compareTo(i.node);return s===0?Ki(t.name,i.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(t,i){const s=Ge(t);return new ve(i,s)}toString(){return".value"}}const gx=new px;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(a){return{type:"value",snapshotNode:a}}function Ws(a,t){return{type:"child_added",snapshotNode:t,childName:a}}function bl(a,t){return{type:"child_removed",snapshotNode:t,childName:a}}function El(a,t,i){return{type:"child_changed",snapshotNode:t,childName:a,oldSnap:i}}function mx(a,t){return{type:"child_moved",snapshotNode:t,childName:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(t){this.index_=t}updateChild(t,i,s,r,u,f){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(r).equals(s.getChild(r))&&d.isEmpty()===s.isEmpty()||(f!=null&&(s.isEmpty()?t.hasChild(i)?f.trackChildChange(bl(i,d)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(Ws(i,s)):f.trackChildChange(El(i,s,d))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(i,s).withIndex(this.index_)}updateFullNode(t,i,s){return s!=null&&(t.isLeafNode()||t.forEachChild(He,(r,u)=>{i.hasChild(r)||s.trackChildChange(bl(r,u))}),i.isLeafNode()||i.forEachChild(He,(r,u)=>{if(t.hasChild(r)){const f=t.getImmediateChild(r);f.equals(u)||s.trackChildChange(El(r,u,f))}else s.trackChildChange(Ws(r,u))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?oe.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(t){this.indexedFilter_=new bh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Tl.getStartPost_(t),this.endPost_=Tl.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&s}updateChild(t,i,s,r,u,f){return this.matches(new ve(i,s))||(s=oe.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,s,r,u,f)}updateFullNode(t,i,s){i.isLeafNode()&&(i=oe.EMPTY_NODE);let r=i.withIndex(this.index_);r=r.updatePriority(oe.EMPTY_NODE);const u=this;return i.forEachChild(He,(f,d)=>{u.matches(new ve(f,d))||(r=r.updateImmediateChild(f,oe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,s)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=i=>{const s=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new Tl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,s,r,u,f){return this.rangedFilter_.matches(new ve(i,s))||(s=oe.EMPTY_NODE),t.getImmediateChild(i).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,s,r,u,f):this.fullLimitUpdateChild_(t,i,s,u,f)}updateFullNode(t,i,s){let r;if(i.isLeafNode()||i.isEmpty())r=oe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){r=oe.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))r=r.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{r=i.withIndex(this.index_),r=r.updatePriority(oe.EMPTY_NODE);let u;this.reverse_?u=r.getReverseIterator(this.index_):u=r.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:r=r.updateImmediateChild(d.name,oe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,s)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,s,r,u){let f;if(this.reverse_){const y=this.index_.getCompare();f=(S,T)=>y(T,S)}else f=this.index_.getCompare();const d=t;G(d.numChildren()===this.limit_,"");const p=new ve(i,s),g=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),_=this.rangedFilter_.matches(p);if(d.hasChild(i)){const y=d.getImmediateChild(i);let S=r.getChildAfterChild(this.index_,g,this.reverse_);for(;S!=null&&(S.name===i||d.hasChild(S.name));)S=r.getChildAfterChild(this.index_,S,this.reverse_);const T=S==null?1:f(S,p);if(_&&!s.isEmpty()&&T>=0)return u?.trackChildChange(El(i,s,y)),d.updateImmediateChild(i,s);{u?.trackChildChange(bl(i,y));const k=d.updateImmediateChild(i,oe.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(u?.trackChildChange(Ws(S.name,S.node)),k.updateImmediateChild(S.name,S.node)):k}}else return s.isEmpty()?t:_&&f(g,p)>=0?(u!=null&&(u.trackChildChange(bl(g.name,g.node)),u.trackChildChange(Ws(i,s))),d.updateImmediateChild(i,s).updateImmediateChild(g.name,oe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const t=new Eh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function yx(a){return a.loadsAllData()?new bh(a.getIndex()):a.hasLimit()?new _x(a):new Tl(a)}function S_(a){const t={};if(a.isDefault())return t;let i;if(a.index_===He?i="$priority":a.index_===gx?i="$value":a.index_===Gs?i="$key":(G(a.index_ instanceof dx,"Unrecognized index type!"),i=a.index_.toString()),t.orderBy=at(i),a.startSet_){const s=a.startAfterSet_?"startAfter":"startAt";t[s]=at(a.indexStartValue_),a.startNameSet_&&(t[s]+=","+at(a.indexStartName_))}if(a.endSet_){const s=a.endBeforeSet_?"endBefore":"endAt";t[s]=at(a.indexEndValue_),a.endNameSet_&&(t[s]+=","+at(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?t.limitToFirst=a.limit_:t.limitToLast=a.limit_),t}function b_(a){const t={};if(a.startSet_&&(t.sp=a.indexStartValue_,a.startNameSet_&&(t.sn=a.indexStartName_),t.sin=!a.startAfterSet_),a.endSet_&&(t.ep=a.indexEndValue_,a.endNameSet_&&(t.en=a.indexEndName_),t.ein=!a.endBeforeSet_),a.limitSet_){t.l=a.limit_;let i=a.viewFrom_;i===""&&(a.isViewFromLeft()?i="l":i="r"),t.vf=i}return a.index_!==He&&(t.i=a.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Ov{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(G(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,s,r){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=r,this.log_=Nl("p:rest:"),this.listens_={}}listen(t,i,s,r){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const f=Eo.getListenId_(t,s),d={};this.listens_[f]=d;const p=S_(t._queryParams);this.restRequest_(u+".json",p,(g,_)=>{let y=_;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(u,y,!1,s),Ks(this.listens_,f)===d){let S;g?g===401?S="permission_denied":S="rest_error:"+g:S="ok",r(S,null)}})}unlisten(t,i){const s=Eo.getListenId_(t,i);delete this.listens_[s]}get(t){const i=S_(t._queryParams),s=t._path.toString(),r=new ci;return this.restRequest_(s+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(s,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,i={},s){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,u])=>{r&&r.accessToken&&(i.auth=r.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ME(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(s&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=ah(d.responseText)}catch{Tt("Failed to parse JSON response for "+f+": "+d.responseText)}s(null,p)}else d.status!==401&&d.status!==404&&Tt("Got unsuccessful REST response for "+f+" Status: "+d.status),s(d.status);s=null}},d.open("GET",f,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.rootNode_=oe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return{value:null,children:new Map}}function na(a,t,i){if(ye(t))a.value=i,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(t,i);else{const s=me(t);a.children.has(s)||a.children.set(s,To());const r=a.children.get(s);t=Ue(t),na(r,t,i)}}function qf(a,t){if(ye(t))return a.value=null,a.children.clear(),!0;if(a.value!==null){if(a.value.isLeafNode())return!1;{const i=a.value;return a.value=null,i.forEachChild(He,(s,r)=>{na(a,new Re(s),r)}),qf(a,t)}}else if(a.children.size>0){const i=me(t);return t=Ue(t),a.children.has(i)&&qf(a.children.get(i),t)&&a.children.delete(i),a.children.size===0}else return!0}function Pf(a,t,i){a.value!==null?i(t,a.value):Sx(a,(s,r)=>{const u=new Re(t.toString()+"/"+s);Pf(r,u,i)})}function Sx(a,t){a.children.forEach((i,s)=>{t(s,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i={...t};return this.last_&&dt(this.last_,(s,r)=>{i[s]=i[s]-r}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=10*1e3,Ex=30*1e3,Tx=300*1e3;class xx{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new bx(t);const s=E_+(Ex-E_)*Math.random();hl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),i={};let s=!1;dt(t,(r,u)=>{u>0&&dn(this.statsToReport_,r)&&(i[r]=u,s=!0)}),s&&this.server_.reportStats(i),hl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Tx))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Jt||(Jt={}));function Hv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Th(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xh(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,i,s){this.path=t,this.affectedTree=i,this.revert=s,this.type=Jt.ACK_USER_WRITE,this.source=Hv()}operationForChild(t){if(ye(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Re(t));return new xo(Ce(),i,this.revert)}}else return G(me(this.path)===t,"operationForChild called for unrelated child."),new xo(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,i){this.source=t,this.path=i,this.type=Jt.LISTEN_COMPLETE}operationForChild(t){return ye(this.path)?new xl(this.source,Ce()):new xl(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t,i,s){this.source=t,this.path=i,this.snap=s,this.type=Jt.OVERWRITE}operationForChild(t){return ye(this.path)?new qi(this.source,Ce(),this.snap.getImmediateChild(t)):new qi(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t,i,s){this.source=t,this.path=i,this.children=s,this.type=Jt.MERGE}operationForChild(t){if(ye(this.path)){const i=this.children.subtree(new Re(t));return i.isEmpty()?null:i.value?new qi(this.source,Ce(),i.value):new Cl(this.source,Ce(),i)}else return G(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Cl(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(t,i,s){this.node_=t,this.fullyInitialized_=i,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ye(t))return this.isFullyInitialized()&&!this.filtered_;const i=me(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function wx(a,t,i,s){const r=[],u=[];return t.forEach(f=>{f.type==="child_changed"&&a.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(mx(f.childName,f.snapshotNode))}),rl(a,r,"child_removed",t,s,i),rl(a,r,"child_added",t,s,i),rl(a,r,"child_moved",u,s,i),rl(a,r,"child_changed",t,s,i),rl(a,r,"value",t,s,i),r}function rl(a,t,i,s,r,u){const f=s.filter(d=>d.type===i);f.sort((d,p)=>Rx(a,d,p)),f.forEach(d=>{const p=Ax(a,d,u);r.forEach(g=>{g.respondsTo(d.type)&&t.push(g.createEvent(p,a.query_))})})}function Ax(a,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,a.index_)),t}function Rx(a,t,i){if(t.childName==null||i.childName==null)throw Ol("Should only compare child_ events.");const s=new ve(t.childName,t.snapshotNode),r=new ve(i.childName,i.snapshotNode);return a.index_.compare(s,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(a,t){return{eventCache:a,serverCache:t}}function dl(a,t,i,s){return Po(new Pi(t,i,s),a.serverCache)}function Bv(a,t,i,s){return Po(a.eventCache,new Pi(t,i,s))}function Yf(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function Yi(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cf;const Ox=()=>(Cf||(Cf=new Et(dT)),Cf);class Ie{static fromObject(t){let i=new Ie(null);return dt(t,(s,r)=>{i=i.set(new Re(s),r)}),i}constructor(t,i=Ox()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:Ce(),value:this.value};if(ye(t))return null;{const s=me(t),r=this.children.get(s);if(r!==null){const u=r.findRootMostMatchingPathAndValue(Ue(t),i);return u!=null?{path:Pe(new Re(s),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ye(t))return this;{const i=me(t),s=this.children.get(i);return s!==null?s.subtree(Ue(t)):new Ie(null)}}set(t,i){if(ye(t))return new Ie(i,this.children);{const s=me(t),u=(this.children.get(s)||new Ie(null)).set(Ue(t),i),f=this.children.insert(s,u);return new Ie(this.value,f)}}remove(t){if(ye(t))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const i=me(t),s=this.children.get(i);if(s){const r=s.remove(Ue(t));let u;return r.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,r),this.value===null&&u.isEmpty()?new Ie(null):new Ie(this.value,u)}else return this}}get(t){if(ye(t))return this.value;{const i=me(t),s=this.children.get(i);return s?s.get(Ue(t)):null}}setTree(t,i){if(ye(t))return i;{const s=me(t),u=(this.children.get(s)||new Ie(null)).setTree(Ue(t),i);let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),new Ie(this.value,f)}}fold(t){return this.fold_(Ce(),t)}fold_(t,i){const s={};return this.children.inorderTraversal((r,u)=>{s[r]=u.fold_(Pe(t,r),i)}),i(t,this.value,s)}findOnPath(t,i){return this.findOnPath_(t,Ce(),i)}findOnPath_(t,i,s){const r=this.value?s(i,this.value):!1;if(r)return r;if(ye(t))return null;{const u=me(t),f=this.children.get(u);return f?f.findOnPath_(Ue(t),Pe(i,u),s):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,Ce(),i)}foreachOnPath_(t,i,s){if(ye(t))return this;{this.value&&s(i,this.value);const r=me(t),u=this.children.get(r);return u?u.foreachOnPath_(Ue(t),Pe(i,r),s):new Ie(null)}}foreach(t){this.foreach_(Ce(),t)}foreach_(t,i){this.children.inorderTraversal((s,r)=>{r.foreach_(Pe(t,s),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,s)=>{s.value&&t(i,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.writeTree_=t}static empty(){return new tn(new Ie(null))}}function pl(a,t,i){if(ye(t))return new tn(new Ie(i));{const s=a.writeTree_.findRootMostValueAndPath(t);if(s!=null){const r=s.path;let u=s.value;const f=bt(r,t);return u=u.updateChild(f,i),new tn(a.writeTree_.set(r,u))}else{const r=new Ie(i),u=a.writeTree_.setTree(t,r);return new tn(u)}}}function T_(a,t,i){let s=a;return dt(i,(r,u)=>{s=pl(s,Pe(t,r),u)}),s}function x_(a,t){if(ye(t))return tn.empty();{const i=a.writeTree_.setTree(t,new Ie(null));return new tn(i)}}function Ff(a,t){return Xi(a,t)!=null}function Xi(a,t){const i=a.writeTree_.findRootMostValueAndPath(t);return i!=null?a.writeTree_.get(i.path).getChild(bt(i.path,t)):null}function C_(a){const t=[],i=a.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(He,(s,r)=>{t.push(new ve(s,r))}):a.writeTree_.children.inorderTraversal((s,r)=>{r.value!=null&&t.push(new ve(s,r.value))}),t}function hi(a,t){if(ye(t))return a;{const i=Xi(a,t);return i!=null?new tn(new Ie(i)):new tn(a.writeTree_.subtree(t))}}function Gf(a){return a.writeTree_.isEmpty()}function Js(a,t){return Vv(Ce(),a.writeTree_,t)}function Vv(a,t,i){if(t.value!=null)return i.updateChild(a,t.value);{let s=null;return t.children.inorderTraversal((r,u)=>{r===".priority"?(G(u.value!==null,"Priority writes must always be leaf nodes"),s=u.value):i=Vv(Pe(a,r),u,i)}),!i.getChild(a).isEmpty()&&s!==null&&(i=i.updateChild(Pe(a,".priority"),s)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(a,t){return Yv(t,a)}function Dx(a,t,i,s,r){G(s>a.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),a.allWrites.push({path:t,snap:i,writeId:s,visible:r}),r&&(a.visibleWrites=pl(a.visibleWrites,t,i)),a.lastWriteId=s}function Mx(a,t){for(let i=0;i<a.allWrites.length;i++){const s=a.allWrites[i];if(s.writeId===t)return s}return null}function Nx(a,t){const i=a.allWrites.findIndex(d=>d.writeId===t);G(i>=0,"removeWrite called with nonexistent writeId.");const s=a.allWrites[i];a.allWrites.splice(i,1);let r=s.visible,u=!1,f=a.allWrites.length-1;for(;r&&f>=0;){const d=a.allWrites[f];d.visible&&(f>=i&&Lx(d,s.path)?r=!1:Yt(s.path,d.path)&&(u=!0)),f--}if(r){if(u)return Ux(a),!0;if(s.snap)a.visibleWrites=x_(a.visibleWrites,s.path);else{const d=s.children;dt(d,p=>{a.visibleWrites=x_(a.visibleWrites,Pe(s.path,p))})}return!0}else return!1}function Lx(a,t){if(a.snap)return Yt(a.path,t);for(const i in a.children)if(a.children.hasOwnProperty(i)&&Yt(Pe(a.path,i),t))return!0;return!1}function Ux(a){a.visibleWrites=$v(a.allWrites,kx,Ce()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function kx(a){return a.visible}function $v(a,t,i){let s=tn.empty();for(let r=0;r<a.length;++r){const u=a[r];if(t(u)){const f=u.path;let d;if(u.snap)Yt(i,f)?(d=bt(i,f),s=pl(s,d,u.snap)):Yt(f,i)&&(d=bt(f,i),s=pl(s,Ce(),u.snap.getChild(d)));else if(u.children){if(Yt(i,f))d=bt(i,f),s=T_(s,d,u.children);else if(Yt(f,i))if(d=bt(f,i),ye(d))s=T_(s,Ce(),u.children);else{const p=Ks(u.children,me(d));if(p){const g=p.getChild(Ue(d));s=pl(s,Ce(),g)}}}else throw Ol("WriteRecord should have .snap or .children")}}return s}function qv(a,t,i,s,r){if(!s&&!r){const u=Xi(a.visibleWrites,t);if(u!=null)return u;{const f=hi(a.visibleWrites,t);if(Gf(f))return i;if(i==null&&!Ff(f,Ce()))return null;{const d=i||oe.EMPTY_NODE;return Js(f,d)}}}else{const u=hi(a.visibleWrites,t);if(!r&&Gf(u))return i;if(!r&&i==null&&!Ff(u,Ce()))return null;{const f=function(g){return(g.visible||r)&&(!s||!~s.indexOf(g.writeId))&&(Yt(g.path,t)||Yt(t,g.path))},d=$v(a.allWrites,f,t),p=i||oe.EMPTY_NODE;return Js(d,p)}}}function Ix(a,t,i){let s=oe.EMPTY_NODE;const r=Xi(a.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(He,(u,f)=>{s=s.updateImmediateChild(u,f)}),s;if(i){const u=hi(a.visibleWrites,t);return i.forEachChild(He,(f,d)=>{const p=Js(hi(u,new Re(f)),d);s=s.updateImmediateChild(f,p)}),C_(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}else{const u=hi(a.visibleWrites,t);return C_(u).forEach(f=>{s=s.updateImmediateChild(f.name,f.node)}),s}}function zx(a,t,i,s,r){G(s||r,"Either existingEventSnap or existingServerSnap must exist");const u=Pe(t,i);if(Ff(a.visibleWrites,u))return null;{const f=hi(a.visibleWrites,u);return Gf(f)?r.getChild(i):Js(f,r.getChild(i))}}function jx(a,t,i,s){const r=Pe(t,i),u=Xi(a.visibleWrites,r);if(u!=null)return u;if(s.isCompleteForChild(i)){const f=hi(a.visibleWrites,r);return Js(f,s.getNode().getImmediateChild(i))}else return null}function Hx(a,t){return Xi(a.visibleWrites,t)}function Bx(a,t,i,s,r,u,f){let d;const p=hi(a.visibleWrites,t),g=Xi(p,Ce());if(g!=null)d=g;else if(i!=null)d=Js(p,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const _=[],y=f.getCompare(),S=u?d.getReverseIteratorFrom(s,f):d.getIteratorFrom(s,f);let T=S.getNext();for(;T&&_.length<r;)y(T,s)!==0&&_.push(T),T=S.getNext();return _}else return[]}function Vx(){return{visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1}}function Co(a,t,i,s){return qv(a.writeTree,a.treePath,t,i,s)}function wh(a,t){return Ix(a.writeTree,a.treePath,t)}function w_(a,t,i,s){return zx(a.writeTree,a.treePath,t,i,s)}function wo(a,t){return Hx(a.writeTree,Pe(a.treePath,t))}function $x(a,t,i,s,r,u){return Bx(a.writeTree,a.treePath,t,i,s,r,u)}function Ah(a,t,i){return jx(a.writeTree,a.treePath,t,i)}function Pv(a,t){return Yv(Pe(a.treePath,t),a.writeTree)}function Yv(a,t){return{treePath:a,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,s=t.childName;G(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(s);if(r){const u=r.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(s,El(s,t.snapshotNode,r.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(s);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(s,bl(s,r.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(s,Ws(s,t.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(s,El(s,t.snapshotNode,r.oldSnap));else throw Ol("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{getCompleteChild(t){return null}getChildAfterChild(t,i,s){return null}}const Fv=new Px;class Rh{constructor(t,i,s=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=s}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new Pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ah(this.writes_,t,s)}}getChildAfterChild(t,i,s){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yi(this.viewCache_),u=$x(this.writes_,r,i,1,s,t);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(a){return{filter:a}}function Fx(a,t){G(t.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function Gx(a,t,i,s,r){const u=new qx;let f,d;if(i.type===Jt.OVERWRITE){const g=i;g.source.fromUser?f=Qf(a,t,g.path,g.snap,s,r,u):(G(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered()&&!ye(g.path),f=Ao(a,t,g.path,g.snap,s,r,d,u))}else if(i.type===Jt.MERGE){const g=i;g.source.fromUser?f=Kx(a,t,g.path,g.children,s,r,u):(G(g.source.fromServer,"Unknown source."),d=g.source.tagged||t.serverCache.isFiltered(),f=Kf(a,t,g.path,g.children,s,r,d,u))}else if(i.type===Jt.ACK_USER_WRITE){const g=i;g.revert?f=Wx(a,t,g.path,s,r,u):f=Xx(a,t,g.path,g.affectedTree,s,r,u)}else if(i.type===Jt.LISTEN_COMPLETE)f=Zx(a,t,i.path,s,u);else throw Ol("Unknown operation type: "+i.type);const p=u.getChanges();return Qx(t,f,p),{viewCache:f,changes:p}}function Qx(a,t,i){const s=t.eventCache;if(s.isFullyInitialized()){const r=s.getNode().isLeafNode()||s.getNode().isEmpty(),u=Yf(a);(i.length>0||!a.eventCache.isFullyInitialized()||r&&!s.getNode().equals(u)||!s.getNode().getPriority().equals(u.getPriority()))&&i.push(jv(Yf(t)))}}function Gv(a,t,i,s,r,u){const f=t.eventCache;if(wo(s,i)!=null)return t;{let d,p;if(ye(i))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=Yi(t),_=g instanceof oe?g:oe.EMPTY_NODE,y=wh(s,_);d=a.filter.updateFullNode(t.eventCache.getNode(),y,u)}else{const g=Co(s,Yi(t));d=a.filter.updateFullNode(t.eventCache.getNode(),g,u)}else{const g=me(i);if(g===".priority"){G(di(i)===1,"Can't have a priority with additional path components");const _=f.getNode();p=t.serverCache.getNode();const y=w_(s,i,_,p);y!=null?d=a.filter.updatePriority(_,y):d=f.getNode()}else{const _=Ue(i);let y;if(f.isCompleteForChild(g)){p=t.serverCache.getNode();const S=w_(s,i,f.getNode(),p);S!=null?y=f.getNode().getImmediateChild(g).updateChild(_,S):y=f.getNode().getImmediateChild(g)}else y=Ah(s,g,t.serverCache);y!=null?d=a.filter.updateChild(f.getNode(),g,y,_,r,u):d=f.getNode()}}return dl(t,d,f.isFullyInitialized()||ye(i),a.filter.filtersNodes())}}function Ao(a,t,i,s,r,u,f,d){const p=t.serverCache;let g;const _=f?a.filter:a.filter.getIndexedFilter();if(ye(i))g=_.updateFullNode(p.getNode(),s,null);else if(_.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(i,s);g=_.updateFullNode(p.getNode(),T,null)}else{const T=me(i);if(!p.isCompleteForPath(i)&&di(i)>1)return t;const C=Ue(i),L=p.getNode().getImmediateChild(T).updateChild(C,s);T===".priority"?g=_.updatePriority(p.getNode(),L):g=_.updateChild(p.getNode(),T,L,C,Fv,null)}const y=Bv(t,g,p.isFullyInitialized()||ye(i),_.filtersNodes()),S=new Rh(r,y,u);return Gv(a,y,i,r,S,d)}function Qf(a,t,i,s,r,u,f){const d=t.eventCache;let p,g;const _=new Rh(r,t,u);if(ye(i))g=a.filter.updateFullNode(t.eventCache.getNode(),s,f),p=dl(t,g,!0,a.filter.filtersNodes());else{const y=me(i);if(y===".priority")g=a.filter.updatePriority(t.eventCache.getNode(),s),p=dl(t,g,d.isFullyInitialized(),d.isFiltered());else{const S=Ue(i),T=d.getNode().getImmediateChild(y);let C;if(ye(S))C=s;else{const k=_.getCompleteChild(y);k!=null?_h(S)===".priority"&&k.getChild(Mv(S)).isEmpty()?C=k:C=k.updateChild(S,s):C=oe.EMPTY_NODE}if(T.equals(C))p=t;else{const k=a.filter.updateChild(d.getNode(),y,C,S,_,f);p=dl(t,k,d.isFullyInitialized(),a.filter.filtersNodes())}}}return p}function A_(a,t){return a.eventCache.isCompleteForChild(t)}function Kx(a,t,i,s,r,u,f){let d=t;return s.foreach((p,g)=>{const _=Pe(i,p);A_(t,me(_))&&(d=Qf(a,d,_,g,r,u,f))}),s.foreach((p,g)=>{const _=Pe(i,p);A_(t,me(_))||(d=Qf(a,d,_,g,r,u,f))}),d}function R_(a,t,i){return i.foreach((s,r)=>{t=t.updateChild(s,r)}),t}function Kf(a,t,i,s,r,u,f,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let p=t,g;ye(i)?g=s:g=new Ie(null).setTree(i,s);const _=t.serverCache.getNode();return g.children.inorderTraversal((y,S)=>{if(_.hasChild(y)){const T=t.serverCache.getNode().getImmediateChild(y),C=R_(a,T,S);p=Ao(a,p,new Re(y),C,r,u,f,d)}}),g.children.inorderTraversal((y,S)=>{const T=!t.serverCache.isCompleteForChild(y)&&S.value===null;if(!_.hasChild(y)&&!T){const C=t.serverCache.getNode().getImmediateChild(y),k=R_(a,C,S);p=Ao(a,p,new Re(y),k,r,u,f,d)}}),p}function Xx(a,t,i,s,r,u,f){if(wo(r,i)!=null)return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(s.value!=null){if(ye(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Ao(a,t,i,p.getNode().getChild(i),r,u,d,f);if(ye(i)){let g=new Ie(null);return p.getNode().forEachChild(Gs,(_,y)=>{g=g.set(new Re(_),y)}),Kf(a,t,i,g,r,u,d,f)}else return t}else{let g=new Ie(null);return s.foreach((_,y)=>{const S=Pe(i,_);p.isCompleteForPath(S)&&(g=g.set(_,p.getNode().getChild(S)))}),Kf(a,t,i,g,r,u,d,f)}}function Zx(a,t,i,s,r){const u=t.serverCache,f=Bv(t,u.getNode(),u.isFullyInitialized()||ye(i),u.isFiltered());return Gv(a,f,i,s,Fv,r)}function Wx(a,t,i,s,r,u){let f;if(wo(s,i)!=null)return t;{const d=new Rh(s,t,r),p=t.eventCache.getNode();let g;if(ye(i)||me(i)===".priority"){let _;if(t.serverCache.isFullyInitialized())_=Co(s,Yi(t));else{const y=t.serverCache.getNode();G(y instanceof oe,"serverChildren would be complete if leaf node"),_=wh(s,y)}_=_,g=a.filter.updateFullNode(p,_,u)}else{const _=me(i);let y=Ah(s,_,t.serverCache);y==null&&t.serverCache.isCompleteForChild(_)&&(y=p.getImmediateChild(_)),y!=null?g=a.filter.updateChild(p,_,y,Ue(i),d,u):t.eventCache.getNode().hasChild(_)?g=a.filter.updateChild(p,_,oe.EMPTY_NODE,Ue(i),d,u):g=p,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=Co(s,Yi(t)),f.isLeafNode()&&(g=a.filter.updateFullNode(g,f,u)))}return f=t.serverCache.isFullyInitialized()||wo(s,Ce())!=null,dl(t,g,f,a.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,r=new bh(s.getIndex()),u=yx(s);this.processor_=Yx(u);const f=i.serverCache,d=i.eventCache,p=r.updateFullNode(oe.EMPTY_NODE,f.getNode(),null),g=u.updateFullNode(oe.EMPTY_NODE,d.getNode(),null),_=new Pi(p,f.isFullyInitialized(),r.filtersNodes()),y=new Pi(g,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=Po(y,_),this.eventGenerator_=new Cx(this.query_)}get query(){return this.query_}}function eC(a){return a.viewCache_.serverCache.getNode()}function tC(a,t){const i=Yi(a.viewCache_);return i&&(a.query._queryParams.loadsAllData()||!ye(t)&&!i.getImmediateChild(me(t)).isEmpty())?i.getChild(t):null}function O_(a){return a.eventRegistrations_.length===0}function nC(a,t){a.eventRegistrations_.push(t)}function D_(a,t,i){const s=[];if(i){G(t==null,"A cancel should cancel all event registrations.");const r=a.query._path;a.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,r);f&&s.push(f)})}if(t){let r=[];for(let u=0;u<a.eventRegistrations_.length;++u){const f=a.eventRegistrations_[u];if(!f.matches(t))r.push(f);else if(t.hasAnyCallback()){r=r.concat(a.eventRegistrations_.slice(u+1));break}}a.eventRegistrations_=r}else a.eventRegistrations_=[];return s}function M_(a,t,i,s){t.type===Jt.MERGE&&t.source.queryId!==null&&(G(Yi(a.viewCache_),"We should always have a full cache before handling merges"),G(Yf(a.viewCache_),"Missing event cache, even though we have a server cache"));const r=a.viewCache_,u=Gx(a.processor_,r,t,i,s);return Fx(a.processor_,u.viewCache),G(u.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=u.viewCache,Qv(a,u.changes,u.viewCache.eventCache.getNode(),null)}function iC(a,t){const i=a.viewCache_.eventCache,s=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(He,(u,f)=>{s.push(Ws(u,f))}),i.isFullyInitialized()&&s.push(jv(i.getNode())),Qv(a,s,i.getNode(),t)}function Qv(a,t,i,s){const r=s?[s]:a.eventRegistrations_;return wx(a.eventGenerator_,t,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class sC{constructor(){this.views=new Map}}function aC(a){G(!Ro,"__referenceConstructor has already been defined"),Ro=a}function lC(){return G(Ro,"Reference.ts has not been loaded"),Ro}function rC(a){return a.views.size===0}function Oh(a,t,i,s){const r=t.source.queryId;if(r!==null){const u=a.views.get(r);return G(u!=null,"SyncTree gave us an op for an invalid query."),M_(u,t,i,s)}else{let u=[];for(const f of a.views.values())u=u.concat(M_(f,t,i,s));return u}}function oC(a,t,i,s,r){const u=t._queryIdentifier,f=a.views.get(u);if(!f){let d=Co(i,r?s:null),p=!1;d?p=!0:s instanceof oe?(d=wh(i,s),p=!1):(d=oe.EMPTY_NODE,p=!1);const g=Po(new Pi(d,p,!1),new Pi(s,r,!1));return new Jx(t,g)}return f}function uC(a,t,i,s,r,u){const f=oC(a,t,s,r,u);return a.views.has(t._queryIdentifier)||a.views.set(t._queryIdentifier,f),nC(f,i),iC(f,i)}function cC(a,t,i,s){const r=t._queryIdentifier,u=[];let f=[];const d=pi(a);if(r==="default")for(const[p,g]of a.views.entries())f=f.concat(D_(g,i,s)),O_(g)&&(a.views.delete(p),g.query._queryParams.loadsAllData()||u.push(g.query));else{const p=a.views.get(r);p&&(f=f.concat(D_(p,i,s)),O_(p)&&(a.views.delete(r),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!pi(a)&&u.push(new(lC())(t._repo,t._path)),{removed:u,events:f}}function Kv(a){const t=[];for(const i of a.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function Qs(a,t){let i=null;for(const s of a.views.values())i=i||tC(s,t);return i}function Xv(a,t){if(t._queryParams.loadsAllData())return Yo(a);{const s=t._queryIdentifier;return a.views.get(s)}}function Zv(a,t){return Xv(a,t)!=null}function pi(a){return Yo(a)!=null}function Yo(a){for(const t of a.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo;function fC(a){G(!Oo,"__referenceConstructor has already been defined"),Oo=a}function hC(){return G(Oo,"Reference.ts has not been loaded"),Oo}let dC=1;class N_{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=Vx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wv(a,t,i,s,r){return Dx(a.pendingWriteTree_,t,i,s,r),r?Ul(a,new qi(Hv(),t,i)):[]}function Hi(a,t,i=!1){const s=Mx(a.pendingWriteTree_,t);if(Nx(a.pendingWriteTree_,t)){let u=new Ie(null);return s.snap!=null?u=u.set(Ce(),!0):dt(s.children,f=>{u=u.set(new Re(f),!0)}),Ul(a,new xo(s.path,u,i))}else return[]}function Fo(a,t,i){return Ul(a,new qi(Th(),t,i))}function pC(a,t,i){const s=Ie.fromObject(i);return Ul(a,new Cl(Th(),t,s))}function gC(a,t){return Ul(a,new xl(Th(),t))}function mC(a,t,i){const s=Mh(a,i);if(s){const r=Nh(s),u=r.path,f=r.queryId,d=bt(u,t),p=new xl(xh(f),d);return Lh(a,u,p)}else return[]}function Xf(a,t,i,s,r=!1){const u=t._path,f=a.syncPointTree_.get(u);let d=[];if(f&&(t._queryIdentifier==="default"||Zv(f,t))){const p=cC(f,t,i,s);rC(f)&&(a.syncPointTree_=a.syncPointTree_.remove(u));const g=p.removed;if(d=p.events,!r){const _=g.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(u,(S,T)=>pi(T));if(_&&!y){const S=a.syncPointTree_.subtree(u);if(!S.isEmpty()){const T=vC(S);for(let C=0;C<T.length;++C){const k=T[C],L=k.query,Q=t0(a,k);a.listenProvider_.startListening(gl(L),Do(a,L),Q.hashFn,Q.onComplete)}}}!y&&g.length>0&&!s&&(_?a.listenProvider_.stopListening(gl(t),null):g.forEach(S=>{const T=a.queryToTagMap.get(Go(S));a.listenProvider_.stopListening(gl(S),T)}))}SC(a,g)}return d}function _C(a,t,i,s){const r=Mh(a,s);if(r!=null){const u=Nh(r),f=u.path,d=u.queryId,p=bt(f,t),g=new qi(xh(d),p,i);return Lh(a,f,g)}else return[]}function yC(a,t,i,s){const r=Mh(a,s);if(r){const u=Nh(r),f=u.path,d=u.queryId,p=bt(f,t),g=Ie.fromObject(i),_=new Cl(xh(d),p,g);return Lh(a,f,_)}else return[]}function L_(a,t,i,s=!1){const r=t._path;let u=null,f=!1;a.syncPointTree_.foreachOnPath(r,(S,T)=>{const C=bt(S,r);u=u||Qs(T,C),f=f||pi(T)});let d=a.syncPointTree_.get(r);d?(f=f||pi(d),u=u||Qs(d,Ce())):(d=new sC,a.syncPointTree_=a.syncPointTree_.set(r,d));let p;u!=null?p=!0:(p=!1,u=oe.EMPTY_NODE,a.syncPointTree_.subtree(r).foreachChild((T,C)=>{const k=Qs(C,Ce());k&&(u=u.updateImmediateChild(T,k))}));const g=Zv(d,t);if(!g&&!t._queryParams.loadsAllData()){const S=Go(t);G(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const T=bC();a.queryToTagMap.set(S,T),a.tagToQueryMap.set(T,S)}const _=Ch(a.pendingWriteTree_,r);let y=uC(d,t,i,_,u,p);if(!g&&!f&&!s){const S=Xv(d,t);y=y.concat(EC(a,t,S))}return y}function Dh(a,t,i){const r=a.pendingWriteTree_,u=a.syncPointTree_.findOnPath(t,(f,d)=>{const p=bt(f,t),g=Qs(d,p);if(g)return g});return qv(r,t,u,i,!0)}function Ul(a,t){return Jv(t,a.syncPointTree_,null,Ch(a.pendingWriteTree_,Ce()))}function Jv(a,t,i,s){if(ye(a.path))return e0(a,t,i,s);{const r=t.get(Ce());i==null&&r!=null&&(i=Qs(r,Ce()));let u=[];const f=me(a.path),d=a.operationForChild(f),p=t.children.get(f);if(p&&d){const g=i?i.getImmediateChild(f):null,_=Pv(s,f);u=u.concat(Jv(d,p,g,_))}return r&&(u=u.concat(Oh(r,a,s,i))),u}}function e0(a,t,i,s){const r=t.get(Ce());i==null&&r!=null&&(i=Qs(r,Ce()));let u=[];return t.children.inorderTraversal((f,d)=>{const p=i?i.getImmediateChild(f):null,g=Pv(s,f),_=a.operationForChild(f);_&&(u=u.concat(e0(_,d,p,g)))}),r&&(u=u.concat(Oh(r,a,s,i))),u}function t0(a,t){const i=t.query,s=Do(a,i);return{hashFn:()=>(eC(t)||oe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return s?mC(a,i._path,s):gC(a,i._path);{const u=mT(r,i);return Xf(a,i,null,u)}}}}function Do(a,t){const i=Go(t);return a.queryToTagMap.get(i)}function Go(a){return a._path.toString()+"$"+a._queryIdentifier}function Mh(a,t){return a.tagToQueryMap.get(t)}function Nh(a){const t=a.indexOf("$");return G(t!==-1&&t<a.length-1,"Bad queryKey."),{queryId:a.substr(t+1),path:new Re(a.substr(0,t))}}function Lh(a,t,i){const s=a.syncPointTree_.get(t);G(s,"Missing sync point for query tag that we're tracking");const r=Ch(a.pendingWriteTree_,t);return Oh(s,i,r,null)}function vC(a){return a.fold((t,i,s)=>{if(i&&pi(i))return[Yo(i)];{let r=[];return i&&(r=Kv(i)),dt(s,(u,f)=>{r=r.concat(f)}),r}})}function gl(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(hC())(a._repo,a._path):a}function SC(a,t){for(let i=0;i<t.length;++i){const s=t[i];if(!s._queryParams.loadsAllData()){const r=Go(s),u=a.queryToTagMap.get(r);a.queryToTagMap.delete(r),a.tagToQueryMap.delete(u)}}}function bC(){return dC++}function EC(a,t,i){const s=t._path,r=Do(a,t),u=t0(a,i),f=a.listenProvider_.startListening(gl(t),r,u.hashFn,u.onComplete),d=a.syncPointTree_.subtree(s);if(r)G(!pi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((g,_,y)=>{if(!ye(g)&&_&&pi(_))return[Yo(_).query];{let S=[];return _&&(S=S.concat(Kv(_).map(T=>T.query))),dt(y,(T,C)=>{S=S.concat(C)}),S}});for(let g=0;g<p.length;++g){const _=p[g];a.listenProvider_.stopListening(gl(_),Do(a,_))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new Uh(i)}node(){return this.node_}}class kh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=Pe(this.path_,t);return new kh(this.syncTree_,i)}node(){return Dh(this.syncTree_,this.path_)}}const TC=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},U_=function(a,t,i){if(!a||typeof a!="object")return a;if(G(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return xC(a[".sv"],t,i);if(typeof a[".sv"]=="object")return CC(a[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},xC=function(a,t,i){switch(a){case"timestamp":return i.timestamp;default:G(!1,"Unexpected server value: "+a)}},CC=function(a,t,i){a.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const s=a.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const r=t.node();if(G(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return s;const f=r.getValue();return typeof f!="number"?s:f+s},wC=function(a,t,i,s){return Ih(t,new kh(i,a),s)},n0=function(a,t,i){return Ih(a,new Uh(t),i)};function Ih(a,t,i){const s=a.getPriority().val(),r=U_(s,t.getImmediateChild(".priority"),i);let u;if(a.isLeafNode()){const f=a,d=U_(f.getValue(),t,i);return d!==f.getValue()||r!==f.getPriority().val()?new nt(d,Ge(r)):a}else{const f=a;return u=f,r!==f.getPriority().val()&&(u=u.updatePriority(new nt(r))),f.forEachChild(He,(d,p)=>{const g=Ih(p,t.getImmediateChild(d),i);g!==p&&(u=u.updateImmediateChild(d,g))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t="",i=null,s={children:{},childCount:0}){this.name=t,this.parent=i,this.node=s}}function jh(a,t){let i=t instanceof Re?t:new Re(t),s=a,r=me(i);for(;r!==null;){const u=Ks(s.node.children,r)||{children:{},childCount:0};s=new zh(r,s,u),i=Ue(i),r=me(i)}return s}function ia(a){return a.node.value}function i0(a,t){a.node.value=t,Zf(a)}function s0(a){return a.node.childCount>0}function AC(a){return ia(a)===void 0&&!s0(a)}function Qo(a,t){dt(a.node.children,(i,s)=>{t(new zh(i,a,s))})}function a0(a,t,i,s){i&&t(a),Qo(a,r=>{a0(r,t,!0)})}function RC(a,t,i){let s=a.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function kl(a){return new Re(a.parent===null?a.name:kl(a.parent)+"/"+a.name)}function Zf(a){a.parent!==null&&OC(a.parent,a.name,a)}function OC(a,t,i){const s=AC(i),r=dn(a.node.children,t);s&&r?(delete a.node.children[t],a.node.childCount--,Zf(a)):!s&&!r&&(a.node.children[t]=i.node,a.node.childCount++,Zf(a))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=/[\[\].#$\/\u0000-\u001F\u007F]/,MC=/[\[\].#$\u0000-\u001F\u007F]/,wf=10*1024*1024,Hh=function(a){return typeof a=="string"&&a.length!==0&&!DC.test(a)},l0=function(a){return typeof a=="string"&&a.length!==0&&!MC.test(a)},NC=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),l0(a)},r0=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!$o(a)||a&&typeof a=="object"&&dn(a,".sv")},Mo=function(a,t,i,s){s&&t===void 0||Ko(Xs(a,"value"),t,i)},Ko=function(a,t,i){const s=i instanceof Re?new XT(i,a):i;if(t===void 0)throw new Error(a+"contains undefined "+zi(s));if(typeof t=="function")throw new Error(a+"contains a function "+zi(s)+" with contents = "+t.toString());if($o(t))throw new Error(a+"contains "+t.toString()+" "+zi(s));if(typeof t=="string"&&t.length>wf/3&&jo(t)>wf)throw new Error(a+"contains a string greater than "+wf+" utf8 bytes "+zi(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,u=!1;if(dt(t,(f,d)=>{if(f===".value")r=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Hh(f)))throw new Error(a+" contains an invalid key ("+f+") "+zi(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZT(s,f),Ko(a,d,s),WT(s)}),r&&u)throw new Error(a+' contains ".value" child '+zi(s)+" in addition to actual children.")}},LC=function(a,t){let i,s;for(i=0;i<t.length;i++){s=t[i];const u=Sl(s);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!Hh(u[f]))throw new Error(a+"contains an invalid key ("+u[f]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(KT);let r=null;for(i=0;i<t.length;i++){if(s=t[i],r!==null&&Yt(r,s))throw new Error(a+"contains a path "+r.toString()+" that is ancestor of another path "+s.toString());r=s}},UC=function(a,t,i,s){const r=Xs(a,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const u=[];dt(t,(f,d)=>{const p=new Re(f);if(Ko(r,d,Pe(i,p)),_h(p)===".priority"&&!r0(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),LC(r,u)},kC=function(a,t,i){if($o(t))throw new Error(Xs(a,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!r0(t))throw new Error(Xs(a,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},o0=function(a,t,i,s){if(!l0(i))throw new Error(Xs(a,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IC=function(a,t,i,s){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),o0(a,t,i)},Bi=function(a,t){if(me(t)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},zC=function(a,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Hh(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!NC(i))throw new Error(Xs(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Bh(a,t){let i=null;for(let s=0;s<t.length;s++){const r=t[s],u=r.getPath();i!==null&&!yh(u,i.path)&&(a.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(r)}i&&a.eventLists_.push(i)}function u0(a,t,i){Bh(a,i),c0(a,s=>yh(s,t))}function In(a,t,i){Bh(a,i),c0(a,s=>Yt(s,t)||Yt(t,s))}function c0(a,t){a.recursionDepth_++;let i=!0;for(let s=0;s<a.eventLists_.length;s++){const r=a.eventLists_[s];if(r){const u=r.path;t(u)?(HC(a.eventLists_[s]),a.eventLists_[s]=null):i=!1}}i&&(a.eventLists_=[]),a.recursionDepth_--}function HC(a){for(let t=0;t<a.events.length;t++){const i=a.events[t];if(i!==null){a.events[t]=null;const s=i.getEventRunner();fl&&ct("event: "+i.toString()),ta(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="repo_interrupt",VC=25;class $C{constructor(t,i,s,r){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=s,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=To(),this.transactionQueueTree_=new zh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qC(a,t,i){if(a.stats_=gh(a.repoInfo_),a.forceRestClient_||ST())a.server_=new Eo(a.repoInfo_,(s,r,u,f)=>{k_(a,s,r,u,f)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>I_(a,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(i)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}a.persistentConnection_=new Nn(a.repoInfo_,t,(s,r,u,f)=>{k_(a,s,r,u,f)},s=>{I_(a,s)},s=>{PC(a,s)},a.authTokenProvider_,a.appCheckProvider_,i),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(s=>{a.server_.refreshAuthToken(s)}),a.appCheckProvider_.addTokenChangeListener(s=>{a.server_.refreshAppCheckToken(s.token)}),a.statsReporter_=CT(a.repoInfo_,()=>new xx(a.stats_,a.server_)),a.infoData_=new vx,a.infoSyncTree_=new N_({startListening:(s,r,u,f)=>{let d=[];const p=a.infoData_.getNode(s._path);return p.isEmpty()||(d=Fo(a.infoSyncTree_,s._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),$h(a,"connected",!1),a.serverSyncTree_=new N_({startListening:(s,r,u,f)=>(a.server_.listen(s,u,r,(d,p)=>{const g=f(d,p);In(a.eventQueue_,s._path,g)}),[]),stopListening:(s,r)=>{a.server_.unlisten(s,r)}})}function f0(a){const i=a.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Vh(a){return TC({timestamp:f0(a)})}function k_(a,t,i,s,r){a.dataUpdateCount++;const u=new Re(t);i=a.interceptServerDataCallback_?a.interceptServerDataCallback_(t,i):i;let f=[];if(r)if(s){const p=go(i,g=>Ge(g));f=yC(a.serverSyncTree_,u,p,r)}else{const p=Ge(i);f=_C(a.serverSyncTree_,u,p,r)}else if(s){const p=go(i,g=>Ge(g));f=pC(a.serverSyncTree_,u,p)}else{const p=Ge(i);f=Fo(a.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=Xo(a,u)),In(a.eventQueue_,d,f)}function I_(a,t){$h(a,"connected",t),t===!1&&FC(a)}function PC(a,t){dt(t,(i,s)=>{$h(a,i,s)})}function $h(a,t,i){const s=new Re("/.info/"+t),r=Ge(i);a.infoData_.updateSnapshot(s,r);const u=Fo(a.infoSyncTree_,s,r);In(a.eventQueue_,s,u)}function h0(a){return a.nextWriteId_++}function YC(a,t,i,s,r){qh(a,"set",{path:t.toString(),value:i,priority:s});const u=Vh(a),f=Ge(i,s),d=Dh(a.serverSyncTree_,t),p=n0(f,d,u),g=h0(a),_=Wv(a.serverSyncTree_,t,p,g,!0);Bh(a.eventQueue_,_),a.server_.put(t.toString(),f.val(!0),(S,T)=>{const C=S==="ok";C||Tt("set at "+t+" failed: "+S);const k=Hi(a.serverSyncTree_,g,!C);In(a.eventQueue_,t,k),ea(a,r,S,T)});const y=_0(a,t);Xo(a,y),In(a.eventQueue_,y,[])}function FC(a){qh(a,"onDisconnectEvents");const t=Vh(a),i=To();Pf(a.onDisconnect_,Ce(),(r,u)=>{const f=wC(r,u,a.serverSyncTree_,t);na(i,r,f)});let s=[];Pf(i,Ce(),(r,u)=>{s=s.concat(Fo(a.serverSyncTree_,r,u));const f=_0(a,r);Xo(a,f)}),a.onDisconnect_=To(),In(a.eventQueue_,Ce(),s)}function GC(a,t,i){a.server_.onDisconnectCancel(t.toString(),(s,r)=>{s==="ok"&&qf(a.onDisconnect_,t),ea(a,i,s,r)})}function z_(a,t,i,s){const r=Ge(i);a.server_.onDisconnectPut(t.toString(),r.val(!0),(u,f)=>{u==="ok"&&na(a.onDisconnect_,t,r),ea(a,s,u,f)})}function QC(a,t,i,s,r){const u=Ge(i,s);a.server_.onDisconnectPut(t.toString(),u.val(!0),(f,d)=>{f==="ok"&&na(a.onDisconnect_,t,u),ea(a,r,f,d)})}function KC(a,t,i,s){if(If(i)){ct("onDisconnect().update() called with empty data.  Don't do anything."),ea(a,s,"ok",void 0);return}a.server_.onDisconnectMerge(t.toString(),i,(r,u)=>{r==="ok"&&dt(i,(f,d)=>{const p=Ge(d);na(a.onDisconnect_,Pe(t,f),p)}),ea(a,s,r,u)})}function XC(a,t,i){let s;me(t._path)===".info"?s=L_(a.infoSyncTree_,t,i):s=L_(a.serverSyncTree_,t,i),u0(a.eventQueue_,t._path,s)}function j_(a,t,i){let s;me(t._path)===".info"?s=Xf(a.infoSyncTree_,t,i):s=Xf(a.serverSyncTree_,t,i),u0(a.eventQueue_,t._path,s)}function ZC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(BC)}function qh(a,...t){let i="";a.persistentConnection_&&(i=a.persistentConnection_.id+":"),ct(i,...t)}function ea(a,t,i,s){t&&ta(()=>{if(i==="ok")t(null);else{const r=(i||"error").toUpperCase();let u=r;s&&(u+=": "+s);const f=new Error(u);f.code=r,t(f)}})}function d0(a,t,i){return Dh(a.serverSyncTree_,t,i)||oe.EMPTY_NODE}function Ph(a,t=a.transactionQueueTree_){if(t||Zo(a,t),ia(t)){const i=g0(a,t);G(i.length>0,"Sending zero length transaction queue"),i.every(r=>r.status===0)&&WC(a,kl(t),i)}else s0(t)&&Qo(t,i=>{Ph(a,i)})}function WC(a,t,i){const s=i.map(g=>g.currentWriteId),r=d0(a,t,s);let u=r;const f=r.hash();for(let g=0;g<i.length;g++){const _=i[g];G(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const y=bt(t,_.path);u=u.updateChild(y,_.currentOutputSnapshotRaw)}const d=u.val(!0),p=t;a.server_.put(p.toString(),d,g=>{qh(a,"transaction put response",{path:p.toString(),status:g});let _=[];if(g==="ok"){const y=[];for(let S=0;S<i.length;S++)i[S].status=2,_=_.concat(Hi(a.serverSyncTree_,i[S].currentWriteId)),i[S].onComplete&&y.push(()=>i[S].onComplete(null,!0,i[S].currentOutputSnapshotResolved)),i[S].unwatcher();Zo(a,jh(a.transactionQueueTree_,t)),Ph(a,a.transactionQueueTree_),In(a.eventQueue_,t,_);for(let S=0;S<y.length;S++)ta(y[S])}else{if(g==="datastale")for(let y=0;y<i.length;y++)i[y].status===3?i[y].status=4:i[y].status=0;else{Tt("transaction at "+p.toString()+" failed: "+g);for(let y=0;y<i.length;y++)i[y].status=4,i[y].abortReason=g}Xo(a,t)}},f)}function Xo(a,t){const i=p0(a,t),s=kl(i),r=g0(a,i);return JC(a,r,s),s}function JC(a,t,i){if(t.length===0)return;const s=[];let r=[];const f=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],g=bt(i,p.path);let _=!1,y;if(G(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)_=!0,y=p.abortReason,r=r.concat(Hi(a.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=VC)_=!0,y="maxretry",r=r.concat(Hi(a.serverSyncTree_,p.currentWriteId,!0));else{const S=d0(a,p.path,f);p.currentInputSnapshot=S;const T=t[d].update(S.val());if(T!==void 0){Ko("transaction failed: Data returned ",T,p.path);let C=Ge(T);typeof T=="object"&&T!=null&&dn(T,".priority")||(C=C.updatePriority(S.getPriority()));const L=p.currentWriteId,Q=Vh(a),F=n0(C,S,Q);p.currentOutputSnapshotRaw=C,p.currentOutputSnapshotResolved=F,p.currentWriteId=h0(a),f.splice(f.indexOf(L),1),r=r.concat(Wv(a.serverSyncTree_,p.path,F,p.currentWriteId,p.applyLocally)),r=r.concat(Hi(a.serverSyncTree_,L,!0))}else _=!0,y="nodata",r=r.concat(Hi(a.serverSyncTree_,p.currentWriteId,!0))}In(a.eventQueue_,i,r),r=[],_&&(t[d].status=2,function(S){setTimeout(S,Math.floor(0))}(t[d].unwatcher),t[d].onComplete&&(y==="nodata"?s.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):s.push(()=>t[d].onComplete(new Error(y),!1,null))))}Zo(a,a.transactionQueueTree_);for(let d=0;d<s.length;d++)ta(s[d]);Ph(a,a.transactionQueueTree_)}function p0(a,t){let i,s=a.transactionQueueTree_;for(i=me(t);i!==null&&ia(s)===void 0;)s=jh(s,i),t=Ue(t),i=me(t);return s}function g0(a,t){const i=[];return m0(a,t,i),i.sort((s,r)=>s.order-r.order),i}function m0(a,t,i){const s=ia(t);if(s)for(let r=0;r<s.length;r++)i.push(s[r]);Qo(t,r=>{m0(a,r,i)})}function Zo(a,t){const i=ia(t);if(i){let s=0;for(let r=0;r<i.length;r++)i[r].status!==2&&(i[s]=i[r],s++);i.length=s,i0(t,i.length>0?i:void 0)}Qo(t,s=>{Zo(a,s)})}function _0(a,t){const i=kl(p0(a,t)),s=jh(a.transactionQueueTree_,t);return RC(s,r=>{Af(a,r)}),Af(a,s),a0(s,r=>{Af(a,r)}),i}function Af(a,t){const i=ia(t);if(i){const s=[];let r=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(G(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(G(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),r=r.concat(Hi(a.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&s.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?i0(t,void 0):i.length=u+1,In(a.eventQueue_,kl(t),r);for(let f=0;f<s.length;f++)ta(s[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(a){let t="";const i=a.split("/");for(let s=0;s<i.length;s++)if(i[s].length>0){let r=i[s];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function tw(a){const t={};a.charAt(0)==="?"&&(a=a.substring(1));for(const i of a.split("&")){if(i.length===0)continue;const s=i.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Tt(`Invalid query segment '${i}' in query '${a}'`)}return t}const H_=function(a,t){const i=nw(a),s=i.namespace;i.domain==="firebase.com"&&kn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&i.domain!=="localhost"&&kn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||fT();const r=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Ev(i.host,i.secure,s,r,t,"",s!==i.subdomain),path:new Re(i.pathString)}},nw=function(a){let t="",i="",s="",r="",u="",f=!0,d="https",p=443;if(typeof a=="string"){let g=a.indexOf("//");g>=0&&(d=a.substring(0,g-1),a=a.substring(g+2));let _=a.indexOf("/");_===-1&&(_=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),t=a.substring(0,Math.min(_,y)),_<y&&(r=ew(a.substring(_,y)));const S=tw(a.substring(Math.min(a.length,y)));g=t.indexOf(":"),g>=0?(f=d==="https"||d==="wss",p=parseInt(t.substring(g+1),10)):g=t.length;const T=t.slice(0,g);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const C=t.indexOf(".");s=t.substring(0,C).toLowerCase(),i=t.substring(C+1),u=s}"ns"in S&&(u=S.ns)}return{host:t,port:p,domain:i,subdomain:s,secure:f,scheme:d,pathString:r,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",iw=function(){let a=0;const t=[];return function(i){const s=i===a;a=i;let r;const u=new Array(8);for(r=7;r>=0;r--)u[r]=B_.charAt(i%64),i=Math.floor(i/64);G(i===0,"Cannot push at time == 0");let f=u.join("");if(s){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)f+=B_.charAt(t[r]);return G(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,i,s,r){this.eventType=t,this.eventRegistration=i,this.snapshot=s,this.prevName=r}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class aw{constructor(t,i,s){this.eventRegistration=t,this.error=i,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,i){this._repo=t,this._path=i}cancel(){const t=new ci;return GC(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Bi("OnDisconnect.remove",this._path);const t=new ci;return z_(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Bi("OnDisconnect.set",this._path),Mo("OnDisconnect.set",t,this._path,!1);const i=new ci;return z_(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}setWithPriority(t,i){Bi("OnDisconnect.setWithPriority",this._path),Mo("OnDisconnect.setWithPriority",t,this._path,!1),kC("OnDisconnect.setWithPriority",i);const s=new ci;return QC(this._repo,this._path,t,i,s.wrapCallback(()=>{})),s.promise}update(t){Bi("OnDisconnect.update",this._path),UC("OnDisconnect.update",t,this._path);const i=new ci;return KC(this._repo,this._path,t,i.wrapCallback(()=>{})),i.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,i,s,r){this._repo=t,this._path=i,this._queryParams=s,this._orderByCalled=r}get key(){return ye(this._path)?null:_h(this._path)}get ref(){return new mi(this._repo,this._path)}get _queryIdentifier(){const t=b_(this._queryParams),i=dh(t);return i==="{}"?"default":i}get _queryObject(){return b_(this._queryParams)}isEqual(t){if(t=Qi(t),!(t instanceof Yh))return!1;const i=this._repo===t._repo,s=yh(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return i&&s&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+QT(this._path)}}class mi extends Yh{constructor(t,i){super(t,i,new Eh,!1)}get parent(){const t=Mv(this._path);return t===null?null:new mi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class No{constructor(t,i,s){this._node=t,this.ref=i,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Re(t),s=wl(this.ref,t);return new No(this._node.getChild(i),s,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,r)=>t(new No(r,wl(this.ref,s),He)))}hasChild(t){const i=new Re(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ao(a,t){return a=Qi(a),a._checkNotDeleted("ref"),t!==void 0?wl(a._root,t):a._root}function wl(a,t){return a=Qi(a),me(a._path)===null?IC("child","path",t):o0("child","path",t),new mi(a._repo,Pe(a._path,t))}function V_(a){return a=Qi(a),new rw(a._repo,a._path)}function $_(a,t){a=Qi(a),Bi("push",a._path),Mo("push",t,a._path,!0);const i=f0(a._repo),s=iw(i),r=wl(a,s),u=wl(a,s);let f;return f=Promise.resolve(u),r.then=f.then.bind(f),r.catch=f.then.bind(f,void 0),r}function Rf(a){return Bi("remove",a._path),y0(a,null)}function y0(a,t){a=Qi(a),Bi("set",a._path),Mo("set",t,a._path,!1);const i=new ci;return YC(a._repo,a._path,t,null,i.wrapCallback(()=>{})),i.promise}class Fh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const s=i._queryParams.getIndex();return new sw("value",this,new No(t.snapshotNode,new mi(i._repo,i._path),s))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new aw(this,t,i):null}matches(t){return t instanceof Fh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function ow(a,t,i,s,r){let u;if(typeof s=="object"&&(u=void 0,r=s),typeof s=="function"&&(u=s),r&&r.onlyOnce){const p=i,g=(_,y)=>{j_(a._repo,a,d),p(_,y)};g.userCallback=i.userCallback,g.context=i.context,i=g}const f=new lw(i,u||void 0),d=new Fh(f);return XC(a._repo,a,d),()=>j_(a._repo,a,d)}function v0(a,t,i,s){return ow(a,"value",t,i,s)}aC(mi);fC(mi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FIREBASE_DATABASE_EMULATOR_HOST",Wf={};let cw=!1;function fw(a,t,i,s){const r=t.lastIndexOf(":"),u=t.substring(0,r),f=jy(u);a.repoInfo_=new Ev(t,f,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,i),s&&(a.authTokenProvider_=s)}function hw(a,t,i,s,r){let u=s||a.options.databaseURL;u===void 0&&(a.options.projectId||kn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ct("Using default host for project ",a.options.projectId),u=`${a.options.projectId}-default-rtdb.firebaseio.com`);let f=H_(u,r),d=f.repoInfo,p;typeof process<"u"&&i_&&(p=i_[uw]),p?(u=`http://${p}?ns=${d.namespace}`,f=H_(u,r),d=f.repoInfo):f.repoInfo.secure;const g=new ET(a.name,a.options,t);zC("Invalid Firebase Database URL",f),ye(f.path)||kn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=pw(d,a,g,new bT(a,i));return new gw(_,a)}function dw(a,t){const i=Wf[t];(!i||i[a.key]!==a)&&kn(`Database ${t}(${a.repoInfo_}) has already been deleted.`),ZC(a),delete i[a.key]}function pw(a,t,i,s){let r=Wf[t.name];r||(r={},Wf[t.name]=r);let u=r[a.toURLString()];return u&&kn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new $C(a,cw,i,s),r[a.toURLString()]=u,u}class gw{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mi(this._repo,Ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(dw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&kn("Cannot call "+t+" on a deleted database.")}}function S0(a=jE(),t){const i=HE(a,"database").getImmediate({identifier:t});if(!i._instanceStarted){const s=BE("database");s&&mw(i,...s)}return i}function mw(a,t,i,s={}){a=Qi(a),a._checkNotDeleted("useEmulator");const r=`${t}:${i}`,u=a._repoInternal;if(a._instanceStarted){if(r===a._repoInternal.repoInfo_.host&&VE(s,u.repoInfo_.emulatorOptions))return;kn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)s.mockUserToken&&kn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new so(so.OWNER);else if(s.mockUserToken){const d=typeof s.mockUserToken=="string"?s.mockUserToken:$E(s.mockUserToken,a.app.options.projectId);f=new so(d)}jy(t)&&(qE(t),PE("Database",!0)),fw(u,r,s,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(a){aT(Hy),Uy(new ky("database",(t,{instanceIdentifier:i})=>{const s=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),u=t.getProvider("app-check-internal");return hw(s,r,u,i)},"PUBLIC").setMultipleInstances(!0)),po(s_,a_,a),po(s_,a_,"esm2020")}Nn.prototype.simpleListen=function(a,t){this.sendRequest("q",{p:a},t)};Nn.prototype.echo=function(a,t){this.sendRequest("echo",{d:a},t)};_w();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firebasestorage.googleapis.com",yw="storageBucket",vw=120*1e3,Sw=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends YE{constructor(t,i,s=0){super(Of(t),`Firebase Storage: ${i} (${Of(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Of(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var fn;(function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(fn||(fn={}));function Of(a){return"storage/"+a}function bw(){const a="An unknown error occurred, please check the error payload for server response.";return new pn(fn.UNKNOWN,a)}function Ew(){return new pn(fn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Tw(){return new pn(fn.CANCELED,"User canceled the upload/download.")}function xw(a){return new pn(fn.INVALID_URL,"Invalid URL '"+a+"'.")}function Cw(a){return new pn(fn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function q_(a){return new pn(fn.INVALID_ARGUMENT,a)}function E0(){return new pn(fn.APP_DELETED,"The Firebase app was deleted.")}function ww(a){return new pn(fn.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let s;try{s=en.makeFromUrl(t,i)}catch{return new en(t,"")}if(s.path==="")return s;throw Cw(t)}static makeFromUrl(t,i){let s=null;const r="([A-Za-z0-9.\\-_]+)";function u(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const f="(/(.*))?$",d=new RegExp("^gs://"+r+f,"i"),p={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",y=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${_}/b/${r}/o${S}`,"i"),C={bucket:1,path:3},k=i===b0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,L="([^?#]*)",Q=new RegExp(`^https?://${k}/${r}/${L}`,"i"),$=[{regex:d,indices:p,postModify:u},{regex:T,indices:C,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<$.length;Z++){const ne=$[Z],M=ne.regex.exec(t);if(M){const q=M[ne.indices.bucket];let B=M[ne.indices.path];B||(B=""),s=new en(q,B),ne.postModify(s);break}}if(s==null)throw xw(t);return s}}class Aw{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(a,t,i){let s=1,r=null,u=null,f=!1,d=0;function p(){return d===2}let g=!1;function _(...L){g||(g=!0,t.apply(null,L))}function y(L){r=setTimeout(()=>{r=null,a(T,p())},L)}function S(){u&&clearTimeout(u)}function T(L,...Q){if(g){S();return}if(L){S(),_.call(null,L,...Q);return}if(p()||f){S(),_.call(null,L,...Q);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,y($)}let C=!1;function k(L){C||(C=!0,S(),!g&&(r!==null?(L||(d=2),clearTimeout(r),y(0)):L||(d=1)))}return y(0),u=setTimeout(()=>{f=!0,k(!0)},i),k}function Ow(a){a(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(a){return a!==void 0}function P_(a,t,i,s){if(s<t)throw q_(`Invalid value for '${a}'. Expected ${t} or greater.`);if(s>i)throw q_(`Invalid value for '${a}'. Expected ${i} or less.`)}function Mw(a){const t=encodeURIComponent;let i="?";for(const s in a)if(a.hasOwnProperty(s)){const r=t(s)+"="+t(a[s]);i=i+r+"&"}return i=i.slice(0,-1),i}var Lo;(function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"})(Lo||(Lo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(a,t){const i=a>=500&&a<600,r=[408,429].indexOf(a)!==-1,u=t.indexOf(a)!==-1;return i||r||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i,s,r,u,f,d,p,g,_,y,S=!0,T=!1){this.url_=t,this.method_=i,this.headers_=s,this.body_=r,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=y,this.retry=S,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,k)=>{this.resolve_=C,this.reject_=k,this.start_()})}start_(){const t=(s,r)=>{if(r){s(!1,new eo(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const d=u.getErrorCode()===Lo.NO_ERROR,p=u.getStatus();if(!d||Nw(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Lo.ABORT;s(!1,new eo(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new eo(g,u))})},i=(s,r)=>{const u=this.resolve_,f=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());Dw(p)?u(p):u()}catch(p){f(p)}else if(d!==null){const p=bw();p.serverResponse=d.getErrorText(),this.errorCallback_?f(this.errorCallback_(d,p)):f(p)}else if(r.canceled){const p=this.appDelete_?E0():Tw();f(p)}else{const p=Ew();f(p)}};this.canceled_?i(!1,new eo(!1,null,!0)):this.backoffId_=Rw(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Ow(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eo{constructor(t,i,s){this.wasSuccessCode=t,this.connection=i,this.canceled=!!s}}function Uw(a,t){t!==null&&t.length>0&&(a.Authorization="Firebase "+t)}function kw(a,t){a["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Iw(a,t){t&&(a["X-Firebase-GMPID"]=t)}function zw(a,t){t!==null&&(a["X-Firebase-AppCheck"]=t)}function jw(a,t,i,s,r,u,f=!0,d=!1){const p=Mw(a.urlParams),g=a.url+p,_=Object.assign({},a.headers);return Iw(_,t),Uw(_,i),kw(_,u),zw(_,s),new Lw(g,a.method,_,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,r,f,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(a){if(a.length===0)return null;const t=a.lastIndexOf("/");return t===-1?"":a.slice(0,t)}function Bw(a){const t=a.lastIndexOf("/",a.length-2);return t===-1?a:a.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,i){this._service=t,i instanceof en?this._location=i:this._location=en.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Uo(t,i)}get root(){const t=new en(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Bw(this._location.path)}get storage(){return this._service}get parent(){const t=Hw(this._location.path);if(t===null)return null;const i=new en(this._location.bucket,t);return new Uo(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw ww(t)}}function Y_(a,t){const i=t?.[yw];return i==null?null:en.makeFromBucketSpec(i,a)}class Vw{constructor(t,i,s,r,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=s,this._url=r,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=b0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vw,this._maxUploadRetryTime=Sw,this._requests=new Set,r!=null?this._bucket=en.makeFromBucketSpec(r,this._host):this._bucket=Y_(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,t):this._bucket=Y_(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){P_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){P_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Iy(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Uo(this,t)}_makeRequest(t,i,s,r,u=!0){if(this._deleted)return new Aw(E0());{const f=jw(t,this._appId,s,r,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,s,r).getPromise()}}const F_="@firebase/storage",G_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="storage";function qw(a,{instanceIdentifier:t}){const i=a.getProvider("app").getImmediate(),s=a.getProvider("auth-internal"),r=a.getProvider("app-check-internal");return new Vw(i,s,r,t,Hy)}function Pw(){Uy(new ky($w,qw,"PUBLIC").setMultipleInstances(!0)),po(F_,G_,""),po(F_,G_,"esm2020")}Pw();var Df={exports:{}};const Yw={},Fw=Object.freeze(Object.defineProperty({__proto__:null,default:Yw},Symbol.toStringTag,{value:"Module"})),Q_=vE(Fw);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2025
 * @license MIT
 */var K_;function Gw(){return K_||(K_=1,function(a){(function(){var t="input is invalid type",i=typeof window=="object",s=i?window:{};s.JS_SHA256_NO_WINDOW&&(i=!1);var r=!i&&typeof self=="object",u=!s.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";u?s=SE:r&&(s=self);var f=!s.JS_SHA256_NO_COMMON_JS&&!0&&a.exports,d=!s.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),g=[-2147483648,8388608,32768,128],_=[24,16,8,0],y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S=["hex","array","digest","arrayBuffer"],T=[];(s.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(M){return Object.prototype.toString.call(M)==="[object Array]"}),d&&(s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(M){return typeof M=="object"&&M.buffer&&M.buffer.constructor===ArrayBuffer});var C=function(M,q){return function(B){return new $(q,!0).update(B)[M]()}},k=function(M){var q=C("hex",M);u&&(q=L(q,M)),q.create=function(){return new $(M)},q.update=function(Y){return q.create().update(Y)};for(var B=0;B<S.length;++B){var N=S[B];q[N]=C(N,M)}return q},L=function(M,q){var B=Q_,N=Q_.Buffer,Y=q?"sha224":"sha256",V;N.from&&!s.JS_SHA256_NO_BUFFER_FROM?V=N.from:V=function(j){return new N(j)};var J=function(j){if(typeof j=="string")return B.createHash(Y).update(j,"utf8").digest("hex");if(j==null)throw new Error(t);return j.constructor===ArrayBuffer&&(j=new Uint8Array(j)),Array.isArray(j)||ArrayBuffer.isView(j)||j.constructor===N?B.createHash(Y).update(V(j)).digest("hex"):M(j)};return J},Q=function(M,q){return function(B,N){return new Z(B,q,!0).update(N)[M]()}},F=function(M){var q=Q("hex",M);q.create=function(Y){return new Z(Y,M)},q.update=function(Y,V){return q.create(Y).update(V)};for(var B=0;B<S.length;++B){var N=S[B];q[N]=Q(N,M)}return q};function $(M,q){q?(T[0]=T[16]=T[1]=T[2]=T[3]=T[4]=T[5]=T[6]=T[7]=T[8]=T[9]=T[10]=T[11]=T[12]=T[13]=T[14]=T[15]=0,this.blocks=T):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=M}$.prototype.update=function(M){if(!this.finalized){var q,B=typeof M;if(B!=="string"){if(B==="object"){if(M===null)throw new Error(t);if(d&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!d||!ArrayBuffer.isView(M)))throw new Error(t)}else throw new Error(t);q=!0}for(var N,Y=0,V,J=M.length,j=this.blocks;Y<J;){if(this.hashed&&(this.hashed=!1,j[0]=this.block,this.block=j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),q)for(V=this.start;Y<J&&V<64;++Y)j[V>>>2]|=M[Y]<<_[V++&3];else for(V=this.start;Y<J&&V<64;++Y)N=M.charCodeAt(Y),N<128?j[V>>>2]|=N<<_[V++&3]:N<2048?(j[V>>>2]|=(192|N>>>6)<<_[V++&3],j[V>>>2]|=(128|N&63)<<_[V++&3]):N<55296||N>=57344?(j[V>>>2]|=(224|N>>>12)<<_[V++&3],j[V>>>2]|=(128|N>>>6&63)<<_[V++&3],j[V>>>2]|=(128|N&63)<<_[V++&3]):(N=65536+((N&1023)<<10|M.charCodeAt(++Y)&1023),j[V>>>2]|=(240|N>>>18)<<_[V++&3],j[V>>>2]|=(128|N>>>12&63)<<_[V++&3],j[V>>>2]|=(128|N>>>6&63)<<_[V++&3],j[V>>>2]|=(128|N&63)<<_[V++&3]);this.lastByteIndex=V,this.bytes+=V-this.start,V>=64?(this.block=j[16],this.start=V-64,this.hash(),this.hashed=!0):this.start=V}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var M=this.blocks,q=this.lastByteIndex;M[16]=this.block,M[q>>>2]|=g[q&3],this.block=M[16],q>=56&&(this.hashed||this.hash(),M[0]=this.block,M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0),M[14]=this.hBytes<<3|this.bytes>>>29,M[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var M=this.h0,q=this.h1,B=this.h2,N=this.h3,Y=this.h4,V=this.h5,J=this.h6,j=this.h7,ee=this.blocks,ce,O,P,X,K,he,ie,de,fe,Ne,lt;for(ce=16;ce<64;++ce)K=ee[ce-15],O=(K>>>7|K<<25)^(K>>>18|K<<14)^K>>>3,K=ee[ce-2],P=(K>>>17|K<<15)^(K>>>19|K<<13)^K>>>10,ee[ce]=ee[ce-16]+O+ee[ce-7]+P<<0;for(lt=q&B,ce=0;ce<64;ce+=4)this.first?(this.is224?(de=300032,K=ee[0]-1413257819,j=K-150054599<<0,N=K+24177077<<0):(de=704751109,K=ee[0]-210244248,j=K-1521486534<<0,N=K+143694565<<0),this.first=!1):(O=(M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10),P=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),de=M&q,X=de^M&B^lt,ie=Y&V^~Y&J,K=j+P+ie+y[ce]+ee[ce],he=O+X,j=N+K<<0,N=K+he<<0),O=(N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10),P=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7),fe=N&M,X=fe^N&q^de,ie=j&Y^~j&V,K=J+P+ie+y[ce+1]+ee[ce+1],he=O+X,J=B+K<<0,B=K+he<<0,O=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),P=(J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7),Ne=B&N,X=Ne^B&M^fe,ie=J&j^~J&Y,K=V+P+ie+y[ce+2]+ee[ce+2],he=O+X,V=q+K<<0,q=K+he<<0,O=(q>>>2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),P=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7),lt=q&B,X=lt^q&N^Ne,ie=V&J^~V&j,K=Y+P+ie+y[ce+3]+ee[ce+3],he=O+X,Y=M+K<<0,M=K+he<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+M<<0,this.h1=this.h1+q<<0,this.h2=this.h2+B<<0,this.h3=this.h3+N<<0,this.h4=this.h4+Y<<0,this.h5=this.h5+V<<0,this.h6=this.h6+J<<0,this.h7=this.h7+j<<0},$.prototype.hex=function(){this.finalize();var M=this.h0,q=this.h1,B=this.h2,N=this.h3,Y=this.h4,V=this.h5,J=this.h6,j=this.h7,ee=p[M>>>28&15]+p[M>>>24&15]+p[M>>>20&15]+p[M>>>16&15]+p[M>>>12&15]+p[M>>>8&15]+p[M>>>4&15]+p[M&15]+p[q>>>28&15]+p[q>>>24&15]+p[q>>>20&15]+p[q>>>16&15]+p[q>>>12&15]+p[q>>>8&15]+p[q>>>4&15]+p[q&15]+p[B>>>28&15]+p[B>>>24&15]+p[B>>>20&15]+p[B>>>16&15]+p[B>>>12&15]+p[B>>>8&15]+p[B>>>4&15]+p[B&15]+p[N>>>28&15]+p[N>>>24&15]+p[N>>>20&15]+p[N>>>16&15]+p[N>>>12&15]+p[N>>>8&15]+p[N>>>4&15]+p[N&15]+p[Y>>>28&15]+p[Y>>>24&15]+p[Y>>>20&15]+p[Y>>>16&15]+p[Y>>>12&15]+p[Y>>>8&15]+p[Y>>>4&15]+p[Y&15]+p[V>>>28&15]+p[V>>>24&15]+p[V>>>20&15]+p[V>>>16&15]+p[V>>>12&15]+p[V>>>8&15]+p[V>>>4&15]+p[V&15]+p[J>>>28&15]+p[J>>>24&15]+p[J>>>20&15]+p[J>>>16&15]+p[J>>>12&15]+p[J>>>8&15]+p[J>>>4&15]+p[J&15];return this.is224||(ee+=p[j>>>28&15]+p[j>>>24&15]+p[j>>>20&15]+p[j>>>16&15]+p[j>>>12&15]+p[j>>>8&15]+p[j>>>4&15]+p[j&15]),ee},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var M=this.h0,q=this.h1,B=this.h2,N=this.h3,Y=this.h4,V=this.h5,J=this.h6,j=this.h7,ee=[M>>>24&255,M>>>16&255,M>>>8&255,M&255,q>>>24&255,q>>>16&255,q>>>8&255,q&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,N>>>24&255,N>>>16&255,N>>>8&255,N&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255];return this.is224||ee.push(j>>>24&255,j>>>16&255,j>>>8&255,j&255),ee},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var M=new ArrayBuffer(this.is224?28:32),q=new DataView(M);return q.setUint32(0,this.h0),q.setUint32(4,this.h1),q.setUint32(8,this.h2),q.setUint32(12,this.h3),q.setUint32(16,this.h4),q.setUint32(20,this.h5),q.setUint32(24,this.h6),this.is224||q.setUint32(28,this.h7),M};function Z(M,q,B){var N,Y=typeof M;if(Y==="string"){var V=[],J=M.length,j=0,ee;for(N=0;N<J;++N)ee=M.charCodeAt(N),ee<128?V[j++]=ee:ee<2048?(V[j++]=192|ee>>>6,V[j++]=128|ee&63):ee<55296||ee>=57344?(V[j++]=224|ee>>>12,V[j++]=128|ee>>>6&63,V[j++]=128|ee&63):(ee=65536+((ee&1023)<<10|M.charCodeAt(++N)&1023),V[j++]=240|ee>>>18,V[j++]=128|ee>>>12&63,V[j++]=128|ee>>>6&63,V[j++]=128|ee&63);M=V}else if(Y==="object"){if(M===null)throw new Error(t);if(d&&M.constructor===ArrayBuffer)M=new Uint8Array(M);else if(!Array.isArray(M)&&(!d||!ArrayBuffer.isView(M)))throw new Error(t)}else throw new Error(t);M.length>64&&(M=new $(q,!0).update(M).array());var ce=[],O=[];for(N=0;N<64;++N){var P=M[N]||0;ce[N]=92^P,O[N]=54^P}$.call(this,q,B),this.update(O),this.oKeyPad=ce,this.inner=!0,this.sharedMemory=B}Z.prototype=new $,Z.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var M=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(M),$.prototype.finalize.call(this)}};var ne=k();ne.sha256=ne,ne.sha224=k(!0),ne.sha256.hmac=F(),ne.sha224.hmac=F(!0),f?a.exports=ne:(s.sha256=ne.sha256,s.sha224=ne.sha224)})()}(Df)),Df.exports}var Qw=Gw();const Kw={apiKey:"AIzaSyCKS7tWQRYRWHsawNfN42uAmISdUbJHJJw",authDomain:"blitzout-49b39.firebaseapp.com",projectId:"blitzout-49b39",storageBucket:"blitzout-49b39.appspot.com",messagingSenderId:"852428606926",appId:"1:852428606926:web:17444e6f8dbc2f95f0ef9f",measurementId:"G-93YN1YMTQ7"},Xw=FE(Kw),nn=By(Xw);async function Zw(a=""){try{const t=xt();return await a1(t),t.currentUser?(await lh(t.currentUser,{displayName:a}),t.currentUser):null}catch(t){return console.error(t),null}}async function Ww(a,t,i=""){try{const s=xt(),r=await WE(s,a,t);return await lh(r.user,{displayName:i}),r.user}catch(s){throw console.error("Registration error:",s),s}}async function Jw(a,t){try{const i=xt();return(await KE(i,a,t)).user}catch(i){throw console.error("Email login error:",i),i}}async function eA(){try{const a=xt(),t=new XE;return(await ZE(a,t)).user}catch(a){throw console.error("Google login error:",a),a}}async function tA(a){try{const t=xt();return await s1(t,a),!0}catch(t){throw console.error("Password reset error:",t),t}}async function nA(a,t){try{const s=xt().currentUser;if(s?.isAnonymous){const r=t1.credential(a,t);return(await n1(s,r)).user}else throw new Error("User is not anonymous or not logged in")}catch(i){throw console.error("Account conversion error:",i),i}}async function iA(){try{const a=xt();return await i1(a),!0}catch(a){throw console.error(a),a}}function LO({newRoom:a,oldRoom:t,newDisplayName:i,oldDisplayName:s,removeOnDisconnect:r=!0}){const u=S0(),d=xt().currentUser?.uid,p=a?.toUpperCase(),g=t?.toUpperCase(),_=ao(u,`rooms/${p}/uids/${d}`),y=ao(u,`rooms/${g}/uids/${d}`),S=ao(u,".info/connected");let T,C;v0(S,k=>{k.val()===!0&&(T=$_(_),C=$_(y),(g!==p||s!==i)&&Rf(y),r&&(V_(C).remove(),V_(T).remove()),y0(T,{displayName:i,lastActive:Date.now()}))}),document.addEventListener("beforeunload",()=>{C&&Rf(C),T&&Rf(T)})}function sA(a,t,i={},s={}){if(!a)return;const{enableCache:r=!0,enableDebounce:u=!0}=s,f=a.toUpperCase(),d=Qh("userList",f),p=Date.now();if(r){const _=kt.get(d);if(_&&Kh(_,d)){_.queryCount++,kt.set(d,_),Ft(d,Date.now()-p,!0);const y=Object.keys(_.data).sort().join(","),S=i?Object.keys(i).sort().join(","):"";y!==S&&t(_.data);return}}const g=async()=>{let _=!1;try{await Wo();const y=S0(),S=ao(y,`rooms/${f}/uids`);v0(S,T=>{const C=Date.now(),k=C-p,L=T.val();if(!L)return;if(r){Gh();const $=Il(d);kt.set(d,{data:L,timestamp:C,queryCount:1,priority:$})}Ft(d,k,!1,_);const Q=Object.keys(L).sort().join(","),F=i?Object.keys(i).sort().join(","):"";Q!==F&&t(L)},T=>{_=!0,console.error("getUserList error:",T),Ft(d,Date.now()-p,!1,!0)})}catch(y){_=!0,console.error("getUserList connection error:",y),Ft(d,Date.now()-p,!1,!0)}finally{Jo()}};u?Xh(d,g):g()}async function aA(a=""){try{const t=xt();return t.currentUser?(await lh(t.currentUser,{displayName:a}),t.currentUser):null}catch(t){return console.error(t),null}}async function UO(a,t){try{await Ho(Ln(nn,"custom-actions"),{grouping:a,customAction:t,ttl:new Date(Date.now()+5760*60*1e3)})}catch(i){console.error(i)}}async function lA(a){const t=_l(Ln(nn,"game-boards"),yl("checksum","==",a)),i=await JE(t);return i.size?i.docs[0]:null}async function kO({title:a,gameBoard:t,settings:i}){if(a)try{const s=Qw.sha256(t),r=await lA(s);return r?(QE(r.ref,{ttl:new Date(Date.now()+720*60*60*1e3)}),r):await rA({title:a,gameBoard:t,settings:i,checksum:s})}catch(s){console.error(s)}}async function rA({title:a,gameBoard:t,settings:i,checksum:s}){try{return await Ho(Ln(nn,"game-boards"),{title:a,gameBoard:t,settings:i,checksum:s,ttl:new Date(Date.now()+720*60*60*1e3)})}catch(r){console.error(r);return}}async function IO(a){try{const t=Dl(nn,"game-boards",a),i=await Vy(t);return i.exists()?i.data():void 0}catch(t){console.error(t);return}}let X_={};const kt=new Map,Vi=new Map,Z_=15e3,oA=5e3,W_=150,uA=50,T0=50,cA=100,fi={activeConnections:0,maxConnections:15,connectionQueue:[]},J_=new Map;function Ft(a,t,i,s=!1){const r=J_.get(a)||{queryCount:0,totalLatency:0,cacheHits:0,lastQueryTime:0,avgLatency:0,p95Latency:0,connectionPoolHits:0,networkErrors:0,latencyHistory:[]};if(r.queryCount++,r.totalLatency+=t,r.lastQueryTime=Date.now(),r.avgLatency=r.totalLatency/r.queryCount,r.latencyHistory.push(t),r.latencyHistory.length>20&&r.latencyHistory.shift(),r.latencyHistory.length>=5){const u=[...r.latencyHistory].sort((d,p)=>d-p),f=Math.floor(u.length*.95);r.p95Latency=u[f]}i&&r.cacheHits++,s&&r.networkErrors++,J_.set(a,r)}function Il(a){return a.includes("messages")?"high":a.includes("userList")?"medium":"low"}function fA(a){switch(a){case"high":return oA;case"medium":return Z_;case"low":return Z_*2}}function hA(a){switch(a){case"high":return uA;case"medium":return W_;case"low":return W_*2}}function Gh(){if(kt.size<=cA)return;const a=Array.from(kt.entries());a.sort(([,i],[,s])=>{const r={low:0,medium:1,high:2},u=r[i.priority]-r[s.priority];if(u!==0)return u;const f=i.queryCount-s.queryCount;return f!==0?f:i.timestamp-s.timestamp});const t=Math.ceil(kt.size*.2);for(let i=0;i<t;i++)kt.delete(a[i][0])}function Wo(){return new Promise(a=>{fi.activeConnections<fi.maxConnections?(fi.activeConnections++,a()):fi.connectionQueue.push(()=>{fi.activeConnections++,a()})})}function Jo(){if(fi.activeConnections--,fi.connectionQueue.length>0){const a=fi.connectionQueue.shift();a&&a()}}function Qh(a,t,i){return`${a}:${t||"global"}:${i||""}`}function Kh(a,t){const i=Il(t),s=fA(i);return Date.now()-a.timestamp<s}function Xh(a,t,...i){const s=Il(a),r=hA(s),u=Vi.get(a);u&&clearTimeout(u);const f=setTimeout(async()=>{try{await Wo(),t(...i)}catch(d){console.error("Query execution error:",d)}finally{Jo(),Vi.delete(a)}},r);Vi.set(a,f)}async function zO({room:a,user:t,text:i="",type:s="chat",...r}){const u=["chat","actions","settings","room","media"];if(!u.includes(s)){let p="Invalid message type. Was expecting ";return p+=u.join(", "),p+=` but got ${s}`,console.error(p)}const f={room:a,user:t.uid,text:i,type:s,...r};if(JSON.stringify(f)===JSON.stringify(X_))return;X_=f;const d=Date.now();try{return await Ho(Ln(nn,"chat-rooms",a?.toUpperCase()||"PUBLIC","messages"),{text:i.trim(),ttl:new Date(d+1440*60*1e3),type:s,...r,uid:t.uid,displayName:t.displayName,timestamp:GE()})}catch(p){return console.error(p)}}async function jO(a,t){return e1(Dl(nn,`/chat-rooms/${a.toUpperCase()}/messages/${t}`))}function dA(a,t,i={}){if(!a)return;const{limitCount:s=T0,startAfterDoc:r,enableCache:u=!0,enableDebounce:f=!0}=i,d=a.toUpperCase(),p=Qh("messages",d,`limit:${s}`),g=Date.now();if(u){const y=kt.get(p);if(y&&Kh(y,p))return y.queryCount++,kt.set(p,y),Ft(p,Date.now()-g,!0),t(y.data),()=>{}}const _=()=>{let y=!1,S;try{Wo();const T=new Date;T.setHours(T.getHours()-3);let C=_l(Ln(nn,"chat-rooms",d,"messages"),yl("timestamp",">",T),mo("timestamp","asc"),_o(s));return r&&(C=_l(Ln(nn,"chat-rooms",d,"messages"),yl("timestamp",">",T),mo("timestamp","asc"),$y(r),_o(s))),S=qy(C,k=>{const L=Date.now(),Q=L-g,F=k.docs.map($=>({id:$.id,...$.data()}));if(u&&F.length>0){Gh();const $=k.docs[k.docs.length-1],Z=Il(p);kt.set(p,{data:F,timestamp:L,lastVisible:$,queryCount:1,priority:Z})}Ft(p,Q,!1,y),t(F)},k=>{y=!0,console.error("getMessages error:",k),Ft(p,Date.now()-g,!1,!0)}),S}catch(T){return y=!0,console.error("getMessages connection error:",T),Ft(p,Date.now()-g,!1,!0),()=>{}}finally{Jo()}};if(f){let y;return Xh(p,()=>{y=_()}),()=>{const S=Vi.get(p);S&&(clearTimeout(S),Vi.delete(p)),y&&y()}}return _()}function pA(a,t={}){const{limitCount:i=T0,startAfterDoc:s,enableCache:r=!0,enableDebounce:u=!0}=t,f=Qh("schedule",null,`limit:${i}`),d=Date.now();if(r){const _=kt.get(f);if(_&&Kh(_,f))return _.queryCount++,kt.set(f,_),Ft(f,Date.now()-d,!0),a(_.data),()=>{}}const p=async()=>{let _=!1,y;try{await Wo();const S=new Date;S.setMinutes(S.getMinutes()-5);let T=_l(Ln(nn,"schedule"),yl("dateTime",">",S),mo("dateTime","asc"),_o(i));return s&&(T=_l(Ln(nn,"schedule"),yl("dateTime",">",S),mo("dateTime","asc"),$y(s),_o(i))),y=qy(T,C=>{const k=Date.now(),L=k-d,Q=C.docs.map(F=>({id:F.id,...F.data()}));if(r&&Q.length>0){Gh();const F=C.docs[C.docs.length-1],$=Il(f);kt.set(f,{data:Q,timestamp:k,lastVisible:F,queryCount:1,priority:$})}Ft(f,L,!1,_),a(Q)},C=>{_=!0,console.error("getSchedule error:",C),Ft(f,Date.now()-d,!1,!0)}),y||(()=>{})}catch(S){return _=!0,console.error("getSchedule connection error:",S),Ft(f,Date.now()-d,!1,!0),()=>{}}finally{Jo()}};if(u){let _;return Xh(f,async()=>{_=await p()}),()=>{const y=Vi.get(f);y&&(clearTimeout(y),Vi.delete(f)),_&&_()}}const g=p();return g instanceof Promise?()=>{}:g}async function gA(a,t,i="PUBLIC"){try{return await Ho(Ln(nn,"schedule"),{dateTime:l1.fromDate(a),url:t,room:i})}catch(s){return console.error(s)}}const ue=a=>typeof a=="string",ol=()=>{let a,t;const i=new Promise((s,r)=>{a=s,t=r});return i.resolve=a,i.reject=t,i},ey=a=>a==null?"":""+a,mA=(a,t,i)=>{a.forEach(s=>{t[s]&&(i[s]=t[s])})},_A=/###/g,ty=a=>a&&a.indexOf("###")>-1?a.replace(_A,"."):a,ny=a=>!a||ue(a),ml=(a,t,i)=>{const s=ue(t)?t.split("."):t;let r=0;for(;r<s.length-1;){if(ny(a))return{};const u=ty(s[r]);!a[u]&&i&&(a[u]=new i),Object.prototype.hasOwnProperty.call(a,u)?a=a[u]:a={},++r}return ny(a)?{}:{obj:a,k:ty(s[r])}},iy=(a,t,i)=>{const{obj:s,k:r}=ml(a,t,Object);if(s!==void 0||t.length===1){s[r]=i;return}let u=t[t.length-1],f=t.slice(0,t.length-1),d=ml(a,f,Object);for(;d.obj===void 0&&f.length;)u=`${f[f.length-1]}.${u}`,f=f.slice(0,f.length-1),d=ml(a,f,Object),d?.obj&&typeof d.obj[`${d.k}.${u}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${u}`]=i},yA=(a,t,i,s)=>{const{obj:r,k:u}=ml(a,t,Object);r[u]=r[u]||[],r[u].push(i)},ko=(a,t)=>{const{obj:i,k:s}=ml(a,t);if(i&&Object.prototype.hasOwnProperty.call(i,s))return i[s]},vA=(a,t,i)=>{const s=ko(a,i);return s!==void 0?s:ko(t,i)},x0=(a,t,i)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in a?ue(a[s])||a[s]instanceof String||ue(t[s])||t[s]instanceof String?i&&(a[s]=t[s]):x0(a[s],t[s],i):a[s]=t[s]);return a},$s=a=>a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var SA={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const bA=a=>ue(a)?a.replace(/[&<>"'\/]/g,t=>SA[t]):a;class EA{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const i=this.regExpMap.get(t);if(i!==void 0)return i;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const TA=[" ",",","?","!",";"],xA=new EA(20),CA=(a,t,i)=>{t=t||"",i=i||"";const s=TA.filter(f=>t.indexOf(f)<0&&i.indexOf(f)<0);if(s.length===0)return!0;const r=xA.getRegExp(`(${s.map(f=>f==="?"?"\\?":f).join("|")})`);let u=!r.test(a);if(!u){const f=a.indexOf(i);f>0&&!r.test(a.substring(0,f))&&(u=!0)}return u},Jf=(a,t,i=".")=>{if(!a)return;if(a[t])return Object.prototype.hasOwnProperty.call(a,t)?a[t]:void 0;const s=t.split(i);let r=a;for(let u=0;u<s.length;){if(!r||typeof r!="object")return;let f,d="";for(let p=u;p<s.length;++p)if(p!==u&&(d+=i),d+=s[p],f=r[d],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&p<s.length-1)continue;u+=p-u+1;break}r=f}return r},Al=a=>a?.replace("_","-"),wA={type:"logger",log(a){this.output("log",a)},warn(a){this.output("warn",a)},error(a){this.output("error",a)},output(a,t){console?.[a]?.apply?.(console,t)}};class Io{constructor(t,i={}){this.init(t,i)}init(t,i={}){this.prefix=i.prefix||"i18next:",this.logger=t||wA,this.options=i,this.debug=i.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,i,s,r){return r&&!this.debug?null:(ue(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[i](t))}create(t){return new Io(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Io(this.logger,t)}}var cn=new Io;class eu{constructor(){this.observers={}}on(t,i){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(i)||0;this.observers[s].set(i,r+1)}),this}off(t,i){if(this.observers[t]){if(!i){delete this.observers[t];return}this.observers[t].delete(i)}}emit(t,...i){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([r,u])=>{for(let f=0;f<u;f++)r(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,u])=>{for(let f=0;f<u;f++)r.apply(r,[t,...i])})}}class sy extends eu{constructor(t,i={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const i=this.options.ns.indexOf(t);i>-1&&this.options.ns.splice(i,1)}getResource(t,i,s,r={}){const u=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,f=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;t.indexOf(".")>-1?d=t.split("."):(d=[t,i],s&&(Array.isArray(s)?d.push(...s):ue(s)&&u?d.push(...s.split(u)):d.push(s)));const p=ko(this.data,d);return!p&&!i&&!s&&t.indexOf(".")>-1&&(t=d[0],i=d[1],s=d.slice(2).join(".")),p||!f||!ue(s)?p:Jf(this.data?.[t]?.[i],s,u)}addResource(t,i,s,r,u={silent:!1}){const f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator;let d=[t,i];s&&(d=d.concat(f?s.split(f):s)),t.indexOf(".")>-1&&(d=t.split("."),r=i,i=d[1]),this.addNamespaces(i),iy(this.data,d,r),u.silent||this.emit("added",t,i,s,r)}addResources(t,i,s,r={silent:!1}){for(const u in s)(ue(s[u])||Array.isArray(s[u]))&&this.addResource(t,i,u,s[u],{silent:!0});r.silent||this.emit("added",t,i,s)}addResourceBundle(t,i,s,r,u,f={silent:!1,skipCopy:!1}){let d=[t,i];t.indexOf(".")>-1&&(d=t.split("."),r=s,s=i,i=d[1]),this.addNamespaces(i);let p=ko(this.data,d)||{};f.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?x0(p,s,u):p={...p,...s},iy(this.data,d,p),f.silent||this.emit("added",t,i,s)}removeResourceBundle(t,i){this.hasResourceBundle(t,i)&&delete this.data[t][i],this.removeNamespaces(i),this.emit("removed",t,i)}hasResourceBundle(t,i){return this.getResource(t,i)!==void 0}getResourceBundle(t,i){return i||(i=this.options.defaultNS),this.getResource(t,i)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const i=this.getDataByLanguage(t);return!!(i&&Object.keys(i)||[]).find(r=>i[r]&&Object.keys(i[r]).length>0)}toJSON(){return this.data}}var C0={processors:{},addPostProcessor(a){this.processors[a.name]=a},handle(a,t,i,s,r){return a.forEach(u=>{t=this.processors[u]?.process(t,i,s,r)??t}),t}};const ay={},ly=a=>!ue(a)&&typeof a!="boolean"&&typeof a!="number";class zo extends eu{constructor(t,i={}){super(),mA(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=i,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=cn.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,i={interpolation:{}}){const s={...i};return t==null?!1:this.resolve(t,s)?.res!==void 0}extractFromKey(t,i){let s=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let u=i.ns||this.options.defaultNS||[];const f=s&&t.indexOf(s)>-1,d=!this.options.userDefinedKeySeparator&&!i.keySeparator&&!this.options.userDefinedNsSeparator&&!i.nsSeparator&&!CA(t,s,r);if(f&&!d){const p=t.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:t,namespaces:ue(u)?[u]:u};const g=t.split(s);(s!==r||s===r&&this.options.ns.indexOf(g[0])>-1)&&(u=g.shift()),t=g.join(r)}return{key:t,namespaces:ue(u)?[u]:u}}translate(t,i,s){let r=typeof i=="object"?{...i}:i;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const u=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,f=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:d,namespaces:p}=this.extractFromKey(t[t.length-1],r),g=p[p.length-1];let _=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;_===void 0&&(_=":");const y=r.lng||this.language,S=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return S?u?{res:`${g}${_}${d}`,usedKey:d,exactUsedKey:d,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(r)}:`${g}${_}${d}`:u?{res:d,usedKey:d,exactUsedKey:d,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(r)}:d;const T=this.resolve(t,r);let C=T?.res;const k=T?.usedKey||d,L=T?.exactUsedKey||d,Q=["[object Number]","[object Function]","[object RegExp]"],F=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,Z=r.count!==void 0&&!ue(r.count),ne=zo.hasDefaultValue(r),M=Z?this.pluralResolver.getSuffix(y,r.count,r):"",q=r.ordinal&&Z?this.pluralResolver.getSuffix(y,r.count,{ordinal:!1}):"",B=Z&&!r.ordinal&&r.count===0,N=B&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${M}`]||r[`defaultValue${q}`]||r.defaultValue;let Y=C;$&&!C&&ne&&(Y=N);const V=ly(Y),J=Object.prototype.toString.apply(Y);if($&&Y&&V&&Q.indexOf(J)<0&&!(ue(F)&&Array.isArray(Y))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,Y,{...r,ns:p}):`key '${d} (${this.language})' returned an object instead of string.`;return u?(T.res=j,T.usedParams=this.getUsedParamsDetails(r),T):j}if(f){const j=Array.isArray(Y),ee=j?[]:{},ce=j?L:k;for(const O in Y)if(Object.prototype.hasOwnProperty.call(Y,O)){const P=`${ce}${f}${O}`;ne&&!C?ee[O]=this.translate(P,{...r,defaultValue:ly(N)?N[O]:void 0,joinArrays:!1,ns:p}):ee[O]=this.translate(P,{...r,joinArrays:!1,ns:p}),ee[O]===P&&(ee[O]=Y[O])}C=ee}}else if($&&ue(F)&&Array.isArray(C))C=C.join(F),C&&(C=this.extendTranslation(C,t,r,s));else{let j=!1,ee=!1;!this.isValidLookup(C)&&ne&&(j=!0,C=N),this.isValidLookup(C)||(ee=!0,C=d);const O=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:C,P=ne&&N!==C&&this.options.updateMissing;if(ee||j||P){if(this.logger.log(P?"updateKey":"missingKey",y,g,d,P?N:C),f){const ie=this.resolve(d,{...r,keySeparator:!1});ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let ie=0;ie<K.length;ie++)X.push(K[ie]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(r.lng||this.language):X.push(r.lng||this.language);const he=(ie,de,fe)=>{const Ne=ne&&fe!==C?fe:O;this.options.missingKeyHandler?this.options.missingKeyHandler(ie,g,de,Ne,P,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ie,g,de,Ne,P,r),this.emit("missingKey",ie,g,de,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Z?X.forEach(ie=>{const de=this.pluralResolver.getSuffixes(ie,r);B&&r[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(fe=>{he([ie],d+fe,r[`defaultValue${fe}`]||N)})}):he(X,d,N))}C=this.extendTranslation(C,t,r,T,s),ee&&C===d&&this.options.appendNamespaceToMissingKey&&(C=`${g}${_}${d}`),(ee||j)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${_}${d}`:d,j?C:void 0,r))}return u?(T.res=C,T.usedParams=this.getUsedParamsDetails(r),T):C}extendTranslation(t,i,s,r,u){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=ue(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(p){const y=t.match(this.interpolator.nestingRegexp);g=y&&y.length}let _=s.replace&&!ue(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),t=this.interpolator.interpolate(t,_,s.lng||this.language||r.usedLng,s),p){const y=t.match(this.interpolator.nestingRegexp),S=y&&y.length;g<S&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...y)=>u?.[0]===y[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${i[0]}`),null):this.translate(...y,i),s)),s.interpolation&&this.interpolator.reset()}const f=s.postProcess||this.options.postProcess,d=ue(f)?[f]:f;return t!=null&&d?.length&&s.applyPostProcessor!==!1&&(t=C0.handle(d,t,i,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,i={}){let s,r,u,f,d;return ue(t)&&(t=[t]),t.forEach(p=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(p,i),_=g.key;r=_;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const S=i.count!==void 0&&!ue(i.count),T=S&&!i.ordinal&&i.count===0,C=i.context!==void 0&&(ue(i.context)||typeof i.context=="number")&&i.context!=="",k=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);y.forEach(L=>{this.isValidLookup(s)||(d=L,!ay[`${k[0]}-${L}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(ay[`${k[0]}-${L}`]=!0,this.logger.warn(`key "${r}" for languages "${k.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),k.forEach(Q=>{if(this.isValidLookup(s))return;f=Q;const F=[_];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(F,_,Q,L,i);else{let Z;S&&(Z=this.pluralResolver.getSuffix(Q,i.count,i));const ne=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(F.push(_+Z),i.ordinal&&Z.indexOf(M)===0&&F.push(_+Z.replace(M,this.options.pluralSeparator)),T&&F.push(_+ne)),C){const q=`${_}${this.options.contextSeparator}${i.context}`;F.push(q),S&&(F.push(q+Z),i.ordinal&&Z.indexOf(M)===0&&F.push(q+Z.replace(M,this.options.pluralSeparator)),T&&F.push(q+ne))}}let $;for(;$=F.pop();)this.isValidLookup(s)||(u=$,s=this.getResource(Q,L,$,i))}))})}),{res:s,usedKey:r,exactUsedKey:u,usedLng:f,usedNS:d}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,i,s,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,i,s,r):this.resourceStore.getResource(t,i,s,r)}getUsedParamsDetails(t={}){const i=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!ue(t.replace);let r=s?t.replace:t;if(s&&typeof t.count<"u"&&(r.count=t.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const u of i)delete r[u]}return r}static hasDefaultValue(t){const i="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&i===s.substring(0,i.length)&&t[s]!==void 0)return!0;return!1}}class ry{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=cn.create("languageUtils")}getScriptPartFromCode(t){if(t=Al(t),!t||t.indexOf("-")<0)return null;const i=t.split("-");return i.length===2||(i.pop(),i[i.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(i.join("-"))}getLanguagePartFromCode(t){if(t=Al(t),!t||t.indexOf("-")<0)return t;const i=t.split("-");return this.formatLanguageCode(i[0])}formatLanguageCode(t){if(ue(t)&&t.indexOf("-")>-1){let i;try{i=Intl.getCanonicalLocales(t)[0]}catch{}return i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let i;return t.forEach(s=>{if(i)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(i=r)}),!i&&this.options.supportedLngs&&t.forEach(s=>{if(i)return;const r=this.getScriptPartFromCode(s);if(this.isSupportedCode(r))return i=r;const u=this.getLanguagePartFromCode(s);if(this.isSupportedCode(u))return i=u;i=this.options.supportedLngs.find(f=>{if(f===u)return f;if(!(f.indexOf("-")<0&&u.indexOf("-")<0)&&(f.indexOf("-")>0&&u.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===u||f.indexOf(u)===0&&u.length>1))return f})}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}getFallbackCodes(t,i){if(!t)return[];if(typeof t=="function"&&(t=t(i)),ue(t)&&(t=[t]),Array.isArray(t))return t;if(!i)return t.default||[];let s=t[i];return s||(s=t[this.getScriptPartFromCode(i)]),s||(s=t[this.formatLanguageCode(i)]),s||(s=t[this.getLanguagePartFromCode(i)]),s||(s=t.default),s||[]}toResolveHierarchy(t,i){const s=this.getFallbackCodes((i===!1?[]:i)||this.options.fallbackLng||[],t),r=[],u=f=>{f&&(this.isSupportedCode(f)?r.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return ue(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&u(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&u(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&u(this.getLanguagePartFromCode(t))):ue(t)&&u(this.formatLanguageCode(t)),s.forEach(f=>{r.indexOf(f)<0&&u(this.formatLanguageCode(f))}),r}}const oy={zero:0,one:1,two:2,few:3,many:4,other:5},uy={select:a=>a===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class AA{constructor(t,i={}){this.languageUtils=t,this.options=i,this.logger=cn.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,i){this.rules[t]=i}clearCache(){this.pluralRulesCache={}}getRule(t,i={}){const s=Al(t==="dev"?"en":t),r=i.ordinal?"ordinal":"cardinal",u=JSON.stringify({cleanedCode:s,type:r});if(u in this.pluralRulesCache)return this.pluralRulesCache[u];let f;try{f=new Intl.PluralRules(s,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),uy;if(!t.match(/-|_/))return uy;const p=this.languageUtils.getLanguagePartFromCode(t);f=this.getRule(p,i)}return this.pluralRulesCache[u]=f,f}needsPlural(t,i={}){let s=this.getRule(t,i);return s||(s=this.getRule("dev",i)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,i,s={}){return this.getSuffixes(t,s).map(r=>`${i}${r}`)}getSuffixes(t,i={}){let s=this.getRule(t,i);return s||(s=this.getRule("dev",i)),s?s.resolvedOptions().pluralCategories.sort((r,u)=>oy[r]-oy[u]).map(r=>`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(t,i,s={}){const r=this.getRule(t,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(i)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",i,s))}}const cy=(a,t,i,s=".",r=!0)=>{let u=vA(a,t,i);return!u&&r&&ue(i)&&(u=Jf(a,i,s),u===void 0&&(u=Jf(t,i,s))),u},Mf=a=>a.replace(/\$/g,"$$$$");class RA{constructor(t={}){this.logger=cn.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(i=>i),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:i,escapeValue:s,useRawValueToEscape:r,prefix:u,prefixEscaped:f,suffix:d,suffixEscaped:p,formatSeparator:g,unescapeSuffix:_,unescapePrefix:y,nestingPrefix:S,nestingPrefixEscaped:T,nestingSuffix:C,nestingSuffixEscaped:k,nestingOptionsSeparator:L,maxReplaces:Q,alwaysFormat:F}=t.interpolation;this.escape=i!==void 0?i:bA,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=u?$s(u):f||"{{",this.suffix=d?$s(d):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=_?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":_||"",this.nestingPrefix=S?$s(S):T||$s("$t("),this.nestingSuffix=C?$s(C):k||$s(")"),this.nestingOptionsSeparator=L||",",this.maxReplaces=Q||1e3,this.alwaysFormat=F!==void 0?F:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(i,s)=>i?.source===s?(i.lastIndex=0,i):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,i,s,r){let u,f,d;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=T=>{if(T.indexOf(this.formatSeparator)<0){const Q=cy(i,p,T,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(Q,void 0,s,{...r,...i,interpolationkey:T}):Q}const C=T.split(this.formatSeparator),k=C.shift().trim(),L=C.join(this.formatSeparator).trim();return this.format(cy(i,p,k,this.options.keySeparator,this.options.ignoreJSONStructure),L,s,{...r,...i,interpolationkey:k})};this.resetRegExp();const _=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:T=>Mf(T)},{regex:this.regexp,safeValue:T=>this.escapeValue?Mf(this.escape(T)):Mf(T)}].forEach(T=>{for(d=0;u=T.regex.exec(t);){const C=u[1].trim();if(f=g(C),f===void 0)if(typeof _=="function"){const L=_(t,u,r);f=ue(L)?L:""}else if(r&&Object.prototype.hasOwnProperty.call(r,C))f="";else if(y){f=u[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${t}`),f="";else!ue(f)&&!this.useRawValueToEscape&&(f=ey(f));const k=T.safeValue(f);if(t=t.replace(u[0],k),y?(T.regex.lastIndex+=f.length,T.regex.lastIndex-=u[0].length):T.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),t}nest(t,i,s={}){let r,u,f;const d=(p,g)=>{const _=this.nestingOptionsSeparator;if(p.indexOf(_)<0)return p;const y=p.split(new RegExp(`${_}[ ]*{`));let S=`{${y[1]}`;p=y[0],S=this.interpolate(S,f);const T=S.match(/'/g),C=S.match(/"/g);((T?.length??0)%2===0&&!C||C.length%2!==0)&&(S=S.replace(/'/g,'"'));try{f=JSON.parse(S),g&&(f={...g,...f})}catch(k){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,k),`${p}${_}${S}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,p};for(;r=this.nestingRegexp.exec(t);){let p=[];f={...s},f=f.replace&&!ue(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const g=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(g!==-1&&(p=r[1].slice(g).split(this.formatSeparator).map(_=>_.trim()).filter(Boolean),r[1]=r[1].slice(0,g)),u=i(d.call(this,r[1].trim(),f),f),u&&r[0]===t&&!ue(u))return u;ue(u)||(u=ey(u)),u||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${t}`),u=""),p.length&&(u=p.reduce((_,y)=>this.format(_,y,s.lng,{...s,interpolationkey:r[1].trim()}),u.trim())),t=t.replace(r[0],u),this.regexp.lastIndex=0}return t}}const OA=a=>{let t=a.toLowerCase().trim();const i={};if(a.indexOf("(")>-1){const s=a.split("(");t=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);t==="currency"&&r.indexOf(":")<0?i.currency||(i.currency=r.trim()):t==="relativetime"&&r.indexOf(":")<0?i.range||(i.range=r.trim()):r.split(";").forEach(f=>{if(f){const[d,...p]=f.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),_=d.trim();i[_]||(i[_]=g),g==="false"&&(i[_]=!1),g==="true"&&(i[_]=!0),isNaN(g)||(i[_]=parseInt(g,10))}})}return{formatName:t,formatOptions:i}},fy=a=>{const t={};return(i,s,r)=>{let u=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(u={...u,[r.interpolationkey]:void 0});const f=s+JSON.stringify(u);let d=t[f];return d||(d=a(Al(s),r),t[f]=d),d(i)}},DA=a=>(t,i,s)=>a(Al(i),s)(t);class MA{constructor(t={}){this.logger=cn.create("formatter"),this.options=t,this.init(t)}init(t,i={interpolation:{}}){this.formatSeparator=i.interpolation.formatSeparator||",";const s=i.cacheInBuiltFormats?fy:DA;this.formats={number:s((r,u)=>{const f=new Intl.NumberFormat(r,{...u});return d=>f.format(d)}),currency:s((r,u)=>{const f=new Intl.NumberFormat(r,{...u,style:"currency"});return d=>f.format(d)}),datetime:s((r,u)=>{const f=new Intl.DateTimeFormat(r,{...u});return d=>f.format(d)}),relativetime:s((r,u)=>{const f=new Intl.RelativeTimeFormat(r,{...u});return d=>f.format(d,u.range||"day")}),list:s((r,u)=>{const f=new Intl.ListFormat(r,{...u});return d=>f.format(d)})}}add(t,i){this.formats[t.toLowerCase().trim()]=i}addCached(t,i){this.formats[t.toLowerCase().trim()]=fy(i)}format(t,i,s,r={}){const u=i.split(this.formatSeparator);if(u.length>1&&u[0].indexOf("(")>1&&u[0].indexOf(")")<0&&u.find(d=>d.indexOf(")")>-1)){const d=u.findIndex(p=>p.indexOf(")")>-1);u[0]=[u[0],...u.splice(1,d)].join(this.formatSeparator)}return u.reduce((d,p)=>{const{formatName:g,formatOptions:_}=OA(p);if(this.formats[g]){let y=d;try{const S=r?.formatParams?.[r.interpolationkey]||{},T=S.locale||S.lng||r.locale||r.lng||s;y=this.formats[g](d,T,{..._,...r,...S})}catch(S){this.logger.warn(S)}return y}else this.logger.warn(`there was no format function for ${g}`);return d},t)}}const NA=(a,t)=>{a.pending[t]!==void 0&&(delete a.pending[t],a.pendingCount--)};class LA extends eu{constructor(t,i,s,r={}){super(),this.backend=t,this.store=i,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=cn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,r.backend,r)}queueLoad(t,i,s,r){const u={},f={},d={},p={};return t.forEach(g=>{let _=!0;i.forEach(y=>{const S=`${g}|${y}`;!s.reload&&this.store.hasResourceBundle(g,y)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?f[S]===void 0&&(f[S]=!0):(this.state[S]=1,_=!1,f[S]===void 0&&(f[S]=!0),u[S]===void 0&&(u[S]=!0),p[y]===void 0&&(p[y]=!0)))}),_||(d[g]=!0)}),(Object.keys(u).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(u),pending:Object.keys(f),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(p)}}loaded(t,i,s){const r=t.split("|"),u=r[0],f=r[1];i&&this.emit("failedLoading",u,f,i),!i&&s&&this.store.addResourceBundle(u,f,s,void 0,void 0,{skipCopy:!0}),this.state[t]=i?-1:2,i&&s&&(this.state[t]=0);const d={};this.queue.forEach(p=>{yA(p.loaded,[u],f),NA(p,t),i&&p.errors.push(i),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{d[g]||(d[g]={});const _=p.loaded[g];_.length&&_.forEach(y=>{d[g][y]===void 0&&(d[g][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(p=>!p.done)}read(t,i,s,r=0,u=this.retryTimeout,f){if(!t.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:i,fcName:s,tried:r,wait:u,callback:f});return}this.readingCalls++;const d=(g,_)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&_&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,t,i,s,r+1,u*2,f)},u);return}f(g,_)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const g=p(t,i);g&&typeof g.then=="function"?g.then(_=>d(null,_)).catch(d):d(null,g)}catch(g){d(g)}return}return p(t,i,d)}prepareLoading(t,i,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();ue(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ue(i)&&(i=[i]);const u=this.queueLoad(t,i,s,r);if(!u.toLoad.length)return u.pending.length||r(),null;u.toLoad.forEach(f=>{this.loadOne(f)})}load(t,i,s){this.prepareLoading(t,i,{},s)}reload(t,i,s){this.prepareLoading(t,i,{reload:!0},s)}loadOne(t,i=""){const s=t.split("|"),r=s[0],u=s[1];this.read(r,u,"read",void 0,void 0,(f,d)=>{f&&this.logger.warn(`${i}loading namespace ${u} for language ${r} failed`,f),!f&&d&&this.logger.log(`${i}loaded namespace ${u} for language ${r}`,d),this.loaded(t,f,d)})}saveMissing(t,i,s,r,u,f={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(i)){this.logger.warn(`did not save key "${s}" as the namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...f,isUpdate:u},g=this.backend.create.bind(this.backend);if(g.length<6)try{let _;g.length===5?_=g(t,i,s,r,p):_=g(t,i,s,r),_&&typeof _.then=="function"?_.then(y=>d(null,y)).catch(d):d(null,_)}catch(_){d(_)}else g(t,i,s,r,d,p)}!t||!t[0]||this.store.addResource(t[0],i,s,r)}}}const hy=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:a=>{let t={};if(typeof a[1]=="object"&&(t=a[1]),ue(a[1])&&(t.defaultValue=a[1]),ue(a[2])&&(t.tDescription=a[2]),typeof a[2]=="object"||typeof a[3]=="object"){const i=a[3]||a[2];Object.keys(i).forEach(s=>{t[s]=i[s]})}return t},interpolation:{escapeValue:!0,format:a=>a,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),dy=a=>(ue(a.ns)&&(a.ns=[a.ns]),ue(a.fallbackLng)&&(a.fallbackLng=[a.fallbackLng]),ue(a.fallbackNS)&&(a.fallbackNS=[a.fallbackNS]),a.supportedLngs?.indexOf?.("cimode")<0&&(a.supportedLngs=a.supportedLngs.concat(["cimode"])),typeof a.initImmediate=="boolean"&&(a.initAsync=a.initImmediate),a),to=()=>{},UA=a=>{Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach(i=>{typeof a[i]=="function"&&(a[i]=a[i].bind(a))})};class Rl extends eu{constructor(t={},i){if(super(),this.options=dy(t),this.services={},this.logger=cn,this.modules={external:[]},UA(this),i&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,i),this;setTimeout(()=>{this.init(t,i)},0)}}init(t={},i){this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),t.defaultNS==null&&t.ns&&(ue(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=hy();this.options={...s,...this.options,...dy(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?cn.init(r(this.modules.logger),this.options):cn.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=MA;const _=new ry(this.options);this.store=new sy(this.options.resources,this.options);const y=this.services;y.logger=cn,y.resourceStore=this.store,y.languageUtils=_,y.pluralResolver=new AA(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(y.formatter=r(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new RA(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new LA(r(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(T,...C)=>{this.emit(T,...C)}),this.modules.languageDetector&&(y.languageDetector=r(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=r(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new zo(this.services,this.options),this.translator.on("*",(T,...C)=>{this.emit(T,...C)}),this.modules.external.forEach(T=>{T.init&&T.init(this)})}if(this.format=this.options.interpolation.format,i||(i=to),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(..._)=>this.store[g](..._)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(..._)=>(this.store[g](..._),this)});const d=ol(),p=()=>{const g=(_,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(y),i(_,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),d}loadResources(t,i=to){let s=i;const r=ue(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const u=[],f=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&u.indexOf(g)<0&&u.push(g)})};r?f(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),this.options.preload?.forEach?.(d=>f(d)),this.services.backendConnector.load(u,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(d)})}else s(null)}reloadResources(t,i,s){const r=ol();return typeof t=="function"&&(s=t,t=void 0),typeof i=="function"&&(s=i,i=void 0),t||(t=this.languages),i||(i=this.options.ns),s||(s=to),this.services.backendConnector.reload(t,i,u=>{r.resolve(),s(u)}),r}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&C0.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let i=0;i<this.languages.length;i++){const s=this.languages[i];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,i){this.isLanguageChangingTo=t;const s=ol();this.emit("languageChanging",t);const r=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},u=(d,p)=>{p?this.isLanguageChangingTo===t&&(r(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),i&&i(d,(...g)=>this.t(...g))},f=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const p=ue(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(ue(d)?[d]:d);g&&(this.language||r(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,_=>{u(_,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(t),s}getFixedT(t,i,s){const r=(u,f,...d)=>{let p;typeof f!="object"?p=this.options.overloadTranslationOptionHandler([u,f].concat(d)):p={...f},p.lng=p.lng||r.lng,p.lngs=p.lngs||r.lngs,p.ns=p.ns||r.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||r.keyPrefix);const g=this.options.keySeparator||".";let _;return p.keyPrefix&&Array.isArray(u)?_=u.map(y=>`${p.keyPrefix}${g}${y}`):_=p.keyPrefix?`${p.keyPrefix}${g}${u}`:u,this.t(_,p)};return ue(t)?r.lng=t:r.lngs=t,r.ns=i,r.keyPrefix=s,r}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,i={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=i.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,u=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const f=(d,p)=>{const g=this.services.backendConnector.state[`${d}|${p}`];return g===-1||g===0||g===2};if(i.precheck){const d=i.precheck(this,f);if(d!==void 0)return d}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(s,t)&&(!r||f(u,t)))}loadNamespaces(t,i){const s=ol();return this.options.ns?(ue(t)&&(t=[t]),t.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),i&&i(r)}),s):(i&&i(),Promise.resolve())}loadLanguages(t,i){const s=ol();ue(t)&&(t=[t]);const r=this.options.preload||[],u=t.filter(f=>r.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return u.length?(this.options.preload=r.concat(u),this.loadResources(f=>{s.resolve(),i&&i(f)}),s):(i&&i(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const r=new Intl.Locale(t);if(r&&r.getTextInfo){const u=r.getTextInfo();if(u&&u.direction)return u.direction}}catch{}const i=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new ry(hy());return t.toLowerCase().indexOf("-latn")>1?"ltr":i.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},i){return new Rl(t,i)}cloneInstance(t={},i=to){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const r={...this.options,...t,isClone:!0},u=new Rl(r);if((t.debug!==void 0||t.prefix!==void 0)&&(u.logger=u.logger.clone(t)),["store","services","language"].forEach(d=>{u[d]=this[d]}),u.services={...this.services},u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},s){const d=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((_,y)=>(_[y]={...p[g][y]},_),p[g]),p),{});u.store=new sy(d,r),u.services.resourceStore=u.store}return u.translator=new zo(u.services,r),u.translator.on("*",(d,...p)=>{u.emit(d,...p)}),u.init(r,i),u.translator.options=r,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ze=Rl.createInstance();Ze.createInstance=Rl.createInstance;Ze.createInstance;Ze.dir;Ze.init;Ze.loadResources;Ze.reloadResources;Ze.use;Ze.changeLanguage;Ze.getFixedT;const kA=Ze.t;Ze.exists;Ze.setDefaultNamespace;Ze.hasLoadedNamespace;Ze.loadNamespaces;Ze.loadLanguages;function IA(a={tables:["customTiles","gameBoard"]}){const{tables:t}=a,i=new Set(t),s={timeouts:{},queue:new Set,scheduleSync(r){this.timeouts[r]&&clearTimeout(this.timeouts[r]),this.queue.add(r),this.timeouts[r]=setTimeout(()=>{this.processSyncQueue()},2e3)},processSyncQueue(){if(this.queue.size===0)return;const r=window;r.authContext?.user&&!r.authContext.user.isAnonymous&&r.authContext.syncData(),this.queue.clear(),Object.keys(this.timeouts).forEach(u=>{clearTimeout(this.timeouts[u]),delete this.timeouts[u]})}};return{stack:"dbcore",name:"syncMiddleware",create(r){return{...r,table(u){const f=r.table(u);return i.has(u)?{...f,mutate:async d=>{const p=await f.mutate(d);return["put","add","delete","deleteRange","update"].includes(d.type)&&s.scheduleSync(u),p}}:f}}}}}class zA extends r1{constructor(){super("blitzedOut");gf(this,"customTiles");gf(this,"gameBoard");this.version(2).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive"})}}const Fi=new zA;Fi.use(IA({tables:["customTiles","gameBoard"]}));const{customTiles:hn}=Fi;hn.hook("creating",function(a,t,i){t.locale===void 0&&(t.locale="en"),t.gameMode===void 0&&(t.gameMode="online"),t.isCustom===void 0&&(t.isCustom=1)});const jA=async a=>{const t=a.map(i=>({...i,isEnabled:1}));return await hn.bulkAdd(t)},w0=a=>{const t=["locale","gameMode","group","intensity","tag","isCustom","action"];let i=hn.toCollection();return Object.entries(a).filter(([r])=>t.includes(r)).forEach(([r,u])=>{u==null||u===""||(r==="tag"?i=i.filter(f=>f.tags.includes(u)):i=i.filter(f=>f[r]===u))}),i},A0=async(a={})=>{try{return await w0(a).toArray()}catch(t){return console.error("Error in getTiles:",t),[]}},R0=async a=>{const{page:t=1,limit:i=50}=a;try{const s=w0(a),r=await s.count(),u=(t-1)*i;return{items:await s.offset(u).limit(i).toArray(),total:r,page:t,limit:i,totalPages:Math.ceil(r/i)}}catch(s){return console.error("Error in getPaginatedTiles:",s),{items:[],total:0,page:t,limit:i,totalPages:0}}},HO=async(a="en",t="online",i=null)=>{let s=hn.where("locale").equals(a).and(u=>u.gameMode===t);return i&&(s=s.and(u=>u.tags.some(f=>i.includes(f)))),(await s.toArray()).reduce((u,f)=>{const d=f.group;u[d]||(u[d]={label:d,count:0,intensities:{}}),u[d].count++;const p=Number(f.intensity);return u[d].intensities[p]||(u[d].intensities[p]=0),u[d].intensities[p]++,u},{})},BO=(a=null)=>{const t=Ze.resolvedLanguage||Ze.language||"en";let i=hn.where("locale").equals(t).and(s=>s.isEnabled===1);return a&&(i=i.and(s=>s.gameMode===a)),i.toArray()},HA=async a=>await hn.add({...a,isEnabled:1}),VO=async(a,t)=>await hn.update(a,t),$O=async a=>{const t=await hn.get(a);if(!t)throw new Error(`Custom tile with id ${a} not found`);return await hn.update(a,{isEnabled:t.isEnabled?0:1})};async function BA(){try{return await Fi.customTiles.where("isCustom").equals(1).delete(),!0}catch(a){return console.error("Error deleting custom tiles:",a),!1}}const qO=async a=>{await hn.delete(a)},{gameBoard:zn}=Fi,VA=()=>zn.orderBy("title").toArray(),PO=async()=>zn.where("isActive").equals(1)?.first(),$A=async a=>zn.add(a),qA=async(a,t)=>zn.update(a.id,{...a,...t}),PA=async a=>{const t={title:a.title===void 0?"":a.title,tiles:a.tiles||[],isActive:a.isActive===void 0?1:a.isActive,tags:a.tags||[],gameMode:a.gameMode||"online"};if(!t?.title?.length&&t?.tiles?.length)return;const i=await zn.where("title").equals(t.title).first();return Fi.transaction("rw",Fi.gameBoard,async()=>(t.isActive&&await YA(),i?(await qA(i,a),i.id):await $A(t)))},YO=async a=>{const i=(await zn.toArray()).map(s=>({...s,isActive:s.id===a?1:0}));await zn.bulkPut(i)},FO=async a=>{await zn.delete(a)},YA=async()=>{await zn.where("isActive").equals(1).modify({isActive:0})},Zh=By();async function FA(){const t=xt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await A0({isCustom:1});return await Py(Dl(Zh,"user-data",t.uid),{customTiles:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing custom tiles:",i),!1}}async function GA(){const t=xt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await VA();return i.length&&await Py(Dl(Zh,"user-data",t.uid),{gameBoards:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing game boards:",i),!1}}async function Nf(){return await FA(),await GA(),!0}async function O0(){const t=xt().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=Dl(Zh,"user-data",t.uid),s=await Vy(i);if(!s.exists())return!1;const r=s.data();if(r.customTiles!==void 0)if(await BA(),await new Promise(u=>setTimeout(u,500)),r.customTiles&&r.customTiles.length>0){for(const u of r.customTiles)try{(await A0({gameMode:u.gameMode,group:u.group,intensity:u.intensity,action:u.action})).length===0&&await HA(u)}catch(f){console.error("Error importing custom tile:",u,f)}console.log(`${r.customTiles.length} custom tiles imported`)}else console.log("No custom tiles to import");if(r.gameBoards&&r.gameBoards.length>0){for(const u of r.gameBoards)await PA({title:u.title,tiles:u.tiles,tags:u.tags||[],gameMode:u.gameMode||"online",isActive:u.isActive||0});console.log(`${r.gameBoards?.length} game boards imported`)}return!0}catch(i){return console.error("Error syncing data:",i),!1}}let lo=null;function QA(a=5){eh();const t=a*60*1e3;return lo=window.setInterval(async()=>{const i=xt();i.currentUser&&!i.currentUser.isAnonymous?(console.log("Performing periodic sync from Firebase..."),await O0()):console.log("Skipping periodic sync - no user logged in")},t),!0}function eh(){return lo?(window.clearInterval(lo),lo=null,!0):!1}const D0=re.createContext(void 0);function KA(a){const[t,i]=re.useState(null),[s,r]=re.useState(!1),[u,f]=re.useState(!0),[d,p]=re.useState(null),[g,_]=re.useState({syncing:!1,lastSync:null}),y=re.useRef(null),S=re.useRef(!1),T=re.useCallback(async B=>{if(y.current&&(clearTimeout(y.current),y.current=null),!t||t.isAnonymous)return!1;try{return _({syncing:!0,lastSync:g.lastSync}),await B(),_({syncing:!1,lastSync:new Date}),!0}catch(N){return console.error("Sync error:",N),N instanceof Error?p(N.message):p("An unknown error occurred"),_({syncing:!1,lastSync:g.lastSync}),!1}},[t,y,_,g.lastSync,p]);async function C(B=""){try{const N=await Zw(B);return i(N),N}catch(N){throw p(N.message),N}}async function k(B,N){try{r(!0);const Y=await Jw(B,N);return i(Y),Y}catch(Y){throw Y instanceof Error&&p(Y.message),Y}finally{r(!1)}}async function L(){try{r(!0);const B=await eA();return i(B),B}catch(B){throw B instanceof Error&&p(B.message),B}finally{r(!1)}}async function Q(B,N,Y){try{r(!0);const V=await Ww(B,N,Y);return i(V),V}catch(V){throw V instanceof Error&&p(V.message),V}finally{r(!1)}}async function F(B){try{return await tA(B),!0}catch(N){throw N instanceof Error&&p(N.message),N}}const $=re.useCallback(async(B,N)=>{try{r(!0);const Y=await nA(B,N);return i(Y),await T(Nf),Y}catch(Y){throw Y instanceof Error&&p(Y.message),Y}finally{r(!1)}},[r,i,T,p]);async function Z(B=""){try{const N=await aA(B);return i(N),N}catch(N){throw N instanceof Error&&p(N.message),N}}const ne=re.useCallback(async()=>{try{if(t&&!t.isAnonymous){const B=T(Nf),N=new Promise(Y=>setTimeout(Y,5e3,!1));await Promise.race([B,N])}await iA(),i(null)}catch(B){throw B instanceof Error&&p(B.message),B}},[t,T,i,p]),M=re.useCallback(async()=>T(Nf),[T]);re.useEffect(()=>{const N=xt().onAuthStateChanged(Y=>{if(i(Y||null),S.current||(S.current=!0,f(!1)),Y&&!Y.isAnonymous){const V=()=>{y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{_({syncing:!0,lastSync:null}),O0().then(()=>{_({syncing:!1,lastSync:new Date}),QA()}).catch(J=>{console.error("Error syncing from Firebase:",J),_({syncing:!1,lastSync:null})}).finally(()=>{y.current=null})},1e3)};typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(V,{timeout:5e3}):setTimeout(V,100)}else eh()});return window.authContext={user:null},()=>{N(),y.current&&clearTimeout(y.current),eh(),window.authContext=void 0}},[]),re.useEffect(()=>{window.authContext&&(window.authContext.user=t)},[t]);const q=re.useMemo(()=>({user:t,loading:s,initializing:u,error:d,syncStatus:g,login:C,loginEmail:k,loginGoogle:L,register:Q,updateUser:Z,forgotPassword:F,convertToRegistered:$,logout:ne,syncData:M,isAnonymous:t?.isAnonymous||!1}),[t,s,u,d,g,$,ne,M]);return pe.jsx(D0.Provider,{value:q,...a})}var XA=o1();const Xe=Gi(XA);var ro={exports:{}},ZA=ro.exports,py;function WA(){return py||(py=1,function(a,t){(function(i,s){a.exports=s()})(ZA,function(){var i="week",s="year";return function(r,u,f){var d=u.prototype;d.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var g=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var _=f(this).startOf(s).add(1,s).date(g),y=f(this).endOf(i);if(_.isBefore(y))return 1}var S=f(this).startOf(s).date(g).startOf(i).subtract(1,"millisecond"),T=this.diff(S,i,!0);return T<0?f(this).startOf("week").week():Math.ceil(T)},d.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})}(ro)),ro.exports}var JA=WA();const eR=Gi(JA);var oo={exports:{}},tR=oo.exports,gy;function nR(){return gy||(gy=1,function(a,t){(function(i,s){a.exports=s()})(tR,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d/,u=/\d\d/,f=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,p={},g=function(L){return(L=+L)+(L>68?1900:2e3)},_=function(L){return function(Q){this[L]=+Q}},y=[/[+-]\d\d:?(\d\d)?|Z/,function(L){(this.zone||(this.zone={})).offset=function(Q){if(!Q||Q==="Z")return 0;var F=Q.match(/([+-]|\d\d)/g),$=60*F[1]+(+F[2]||0);return $===0?0:F[0]==="+"?-$:$}(L)}],S=function(L){var Q=p[L];return Q&&(Q.indexOf?Q:Q.s.concat(Q.f))},T=function(L,Q){var F,$=p.meridiem;if($){for(var Z=1;Z<=24;Z+=1)if(L.indexOf($(Z,0,Q))>-1){F=Z>12;break}}else F=L===(Q?"pm":"PM");return F},C={A:[d,function(L){this.afternoon=T(L,!1)}],a:[d,function(L){this.afternoon=T(L,!0)}],Q:[r,function(L){this.month=3*(L-1)+1}],S:[r,function(L){this.milliseconds=100*+L}],SS:[u,function(L){this.milliseconds=10*+L}],SSS:[/\d{3}/,function(L){this.milliseconds=+L}],s:[f,_("seconds")],ss:[f,_("seconds")],m:[f,_("minutes")],mm:[f,_("minutes")],H:[f,_("hours")],h:[f,_("hours")],HH:[f,_("hours")],hh:[f,_("hours")],D:[f,_("day")],DD:[u,_("day")],Do:[d,function(L){var Q=p.ordinal,F=L.match(/\d+/);if(this.day=F[0],Q)for(var $=1;$<=31;$+=1)Q($).replace(/\[|\]/g,"")===L&&(this.day=$)}],w:[f,_("week")],ww:[u,_("week")],M:[f,_("month")],MM:[u,_("month")],MMM:[d,function(L){var Q=S("months"),F=(S("monthsShort")||Q.map(function($){return $.slice(0,3)})).indexOf(L)+1;if(F<1)throw new Error;this.month=F%12||F}],MMMM:[d,function(L){var Q=S("months").indexOf(L)+1;if(Q<1)throw new Error;this.month=Q%12||Q}],Y:[/[+-]?\d+/,_("year")],YY:[u,function(L){this.year=g(L)}],YYYY:[/\d{4}/,_("year")],Z:y,ZZ:y};function k(L){var Q,F;Q=L,F=p&&p.formats;for(var $=(L=Q.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,V,J){var j=J&&J.toUpperCase();return V||F[J]||i[J]||F[j].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(ee,ce,O){return ce||O.slice(1)})})).match(s),Z=$.length,ne=0;ne<Z;ne+=1){var M=$[ne],q=C[M],B=q&&q[0],N=q&&q[1];$[ne]=N?{regex:B,parser:N}:M.replace(/^\[|\]$/g,"")}return function(Y){for(var V={},J=0,j=0;J<Z;J+=1){var ee=$[J];if(typeof ee=="string")j+=ee.length;else{var ce=ee.regex,O=ee.parser,P=Y.slice(j),X=ce.exec(P)[0];O.call(V,X),Y=Y.replace(X,"")}}return function(K){var he=K.afternoon;if(he!==void 0){var ie=K.hours;he?ie<12&&(K.hours+=12):ie===12&&(K.hours=0),delete K.afternoon}}(V),V}}return function(L,Q,F){F.p.customParseFormat=!0,L&&L.parseTwoDigitYear&&(g=L.parseTwoDigitYear);var $=Q.prototype,Z=$.parse;$.parse=function(ne){var M=ne.date,q=ne.utc,B=ne.args;this.$u=q;var N=B[1];if(typeof N=="string"){var Y=B[2]===!0,V=B[3]===!0,J=Y||V,j=B[2];V&&(j=B[2]),p=this.$locale(),!Y&&j&&(p=F.Ls[j]),this.$d=function(P,X,K,he){try{if(["x","X"].indexOf(X)>-1)return new Date((X==="X"?1e3:1)*P);var ie=k(X)(P),de=ie.year,fe=ie.month,Ne=ie.day,lt=ie.hours,sn=ie.minutes,Zi=ie.seconds,Wi=ie.milliseconds,gn=ie.zone,Ji=ie.week,jn=new Date,_i=Ne||(de||fe?1:jn.getDate()),yi=de||jn.getFullYear(),Hn=0;de&&!fe||(Hn=fe>0?fe-1:jn.getMonth());var es,sa=lt||0,gt=sn||0,aa=Zi||0,ts=Wi||0;return gn?new Date(Date.UTC(yi,Hn,_i,sa,gt,aa,ts+60*gn.offset*1e3)):K?new Date(Date.UTC(yi,Hn,_i,sa,gt,aa,ts)):(es=new Date(yi,Hn,_i,sa,gt,aa,ts),Ji&&(es=he(es).week(Ji).toDate()),es)}catch{return new Date("")}}(M,N,q,F),this.init(),j&&j!==!0&&(this.$L=this.locale(j).$L),J&&M!=this.format(N)&&(this.$d=new Date("")),p={}}else if(N instanceof Array)for(var ee=N.length,ce=1;ce<=ee;ce+=1){B[1]=N[ce-1];var O=F.apply(this,B);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}ce===ee&&(this.$d=new Date(""))}else Z.call(this,ne)}}})}(oo)),oo.exports}var iR=nR();const sR=Gi(iR);var uo={exports:{}},aR=uo.exports,my;function lR(){return my||(my=1,function(a,t){(function(i,s){a.exports=s()})(aR,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(s,r,u){var f=r.prototype,d=f.format;u.en.formats=i,f.format=function(p){p===void 0&&(p="YYYY-MM-DDTHH:mm:ssZ");var g=this.$locale().formats,_=function(y,S){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(T,C,k){var L=k&&k.toUpperCase();return C||S[k]||i[k]||S[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Q,F,$){return F||$.slice(1)})})}(p,g===void 0?{}:g);return d.call(this,_)}}})}(uo)),uo.exports}var rR=lR();const oR=Gi(rR);var co={exports:{}},uR=co.exports,_y;function cR(){return _y||(_y=1,function(a,t){(function(i,s){a.exports=s()})(uR,function(){return function(i,s,r){s.prototype.isBetween=function(u,f,d,p){var g=r(u),_=r(f),y=(p=p||"()")[0]==="(",S=p[1]===")";return(y?this.isAfter(g,d):!this.isBefore(g,d))&&(S?this.isBefore(_,d):!this.isAfter(_,d))||(y?this.isBefore(g,d):!this.isAfter(g,d))&&(S?this.isAfter(_,d):!this.isBefore(_,d))}}})}(co)),co.exports}var fR=cR();const hR=Gi(fR);var fo={exports:{}},dR=fo.exports,yy;function pR(){return yy||(yy=1,function(a,t){(function(i,s){a.exports=s()})(dR,function(){return function(i,s){var r=s.prototype,u=r.format;r.format=function(f){var d=this,p=this.$locale();if(!this.isValid())return u.bind(this)(f);var g=this.$utils(),_=(f||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(y){switch(y){case"Q":return Math.ceil((d.$M+1)/3);case"Do":return p.ordinal(d.$D);case"gggg":return d.weekYear();case"GGGG":return d.isoWeekYear();case"wo":return p.ordinal(d.week(),"W");case"w":case"ww":return g.s(d.week(),y==="w"?1:2,"0");case"W":case"WW":return g.s(d.isoWeek(),y==="W"?1:2,"0");case"k":case"kk":return g.s(String(d.$H===0?24:d.$H),y==="k"?1:2,"0");case"X":return Math.floor(d.$d.getTime()/1e3);case"x":return d.$d.getTime();case"z":return"["+d.offsetName()+"]";case"zzz":return"["+d.offsetName("long")+"]";default:return y}});return u.bind(this)(_)}}})}(fo)),fo.exports}var gR=pR();const mR=Gi(gR);Xe.extend(oR);Xe.extend(eR);Xe.extend(hR);Xe.extend(mR);const _R={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},yR={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Lf=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),vy=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`);class vR{constructor({locale:t,formats:i}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=_R,this.setLocaleToValue=s=>{const r=this.getCurrentLocaleCode();return r===s.locale()?s:s.locale(r)},this.hasUTCPlugin=()=>typeof Xe.utc<"u",this.hasTimezonePlugin=()=>typeof Xe.tz<"u",this.isSame=(s,r,u)=>{const f=this.setTimezone(r,this.getTimezone(s));return s.format(u)===f.format(u)},this.cleanTimezone=s=>{switch(s){case"default":return;case"system":return Xe.tz.guess();default:return s}},this.createSystemDate=s=>{let r;if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const u=Xe.tz.guess();u==="UTC"?r=Xe(s):r=Xe.tz(s,u)}else r=Xe(s);return this.setLocaleToValue(r)},this.createUTCDate=s=>{if(!this.hasUTCPlugin())throw new Error(Lf);return this.setLocaleToValue(Xe.utc(s))},this.createTZDate=(s,r)=>{if(!this.hasUTCPlugin())throw new Error(Lf);if(!this.hasTimezonePlugin())throw new Error(vy);const u=s!==void 0&&!s.endsWith("Z");return this.setLocaleToValue(Xe(s).tz(this.cleanTimezone(r),u))},this.getLocaleFormats=()=>{const s=Xe.Ls,r=this.locale||"en";let u=s[r];return u===void 0&&(u=s.en),u.formats},this.adjustOffset=s=>{if(!this.hasTimezonePlugin())return s;const r=this.getTimezone(s);if(r!=="UTC"){const u=s.tz(this.cleanTimezone(r),!0);if(u.$offset===(s.$offset??0))return s;s.$offset=u.$offset}return s},this.date=(s,r="default")=>s===null?null:r==="UTC"?this.createUTCDate(s):r==="system"||r==="default"&&!this.hasTimezonePlugin()?this.createSystemDate(s):this.createTZDate(s,r),this.getInvalidDate=()=>Xe(new Date("Invalid date")),this.getTimezone=s=>{if(this.hasTimezonePlugin()){const r=s.$x?.$timezone;if(r)return r}return this.hasUTCPlugin()&&s.isUTC()?"UTC":"system"},this.setTimezone=(s,r)=>{if(this.getTimezone(s)===r)return s;if(r==="UTC"){if(!this.hasUTCPlugin())throw new Error(Lf);return s.utc()}if(r==="system")return s.local();if(!this.hasTimezonePlugin()){if(r==="default")return s;throw new Error(vy)}return this.setLocaleToValue(Xe.tz(s,this.cleanTimezone(r)))},this.toJsDate=s=>s.toDate(),this.parse=(s,r)=>s===""?null:Xe(s,r,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=s=>{const r=this.getLocaleFormats(),u=f=>f.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(d,p,g)=>p||g.slice(1));return s.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(f,d,p)=>{const g=p&&p.toUpperCase();return d||r[p]||u(r[g])})},this.isValid=s=>s==null?!1:s.isValid(),this.format=(s,r)=>this.formatByString(s,this.formats[r]),this.formatByString=(s,r)=>this.setLocaleToValue(s).format(r),this.formatNumber=s=>s,this.isEqual=(s,r)=>s===null&&r===null?!0:s===null||r===null?!1:s.toDate().getTime()===r.toDate().getTime(),this.isSameYear=(s,r)=>this.isSame(s,r,"YYYY"),this.isSameMonth=(s,r)=>this.isSame(s,r,"YYYY-MM"),this.isSameDay=(s,r)=>this.isSame(s,r,"YYYY-MM-DD"),this.isSameHour=(s,r)=>s.isSame(r,"hour"),this.isAfter=(s,r)=>s>r,this.isAfterYear=(s,r)=>this.hasUTCPlugin()?!this.isSameYear(s,r)&&s.utc()>r.utc():s.isAfter(r,"year"),this.isAfterDay=(s,r)=>this.hasUTCPlugin()?!this.isSameDay(s,r)&&s.utc()>r.utc():s.isAfter(r,"day"),this.isBefore=(s,r)=>s<r,this.isBeforeYear=(s,r)=>this.hasUTCPlugin()?!this.isSameYear(s,r)&&s.utc()<r.utc():s.isBefore(r,"year"),this.isBeforeDay=(s,r)=>this.hasUTCPlugin()?!this.isSameDay(s,r)&&s.utc()<r.utc():s.isBefore(r,"day"),this.isWithinRange=(s,[r,u])=>s>=r&&s<=u,this.startOfYear=s=>this.adjustOffset(s.startOf("year")),this.startOfMonth=s=>this.adjustOffset(s.startOf("month")),this.startOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).startOf("week")),this.startOfDay=s=>this.adjustOffset(s.startOf("day")),this.endOfYear=s=>this.adjustOffset(s.endOf("year")),this.endOfMonth=s=>this.adjustOffset(s.endOf("month")),this.endOfWeek=s=>this.adjustOffset(this.setLocaleToValue(s).endOf("week")),this.endOfDay=s=>this.adjustOffset(s.endOf("day")),this.addYears=(s,r)=>this.adjustOffset(s.add(r,"year")),this.addMonths=(s,r)=>this.adjustOffset(s.add(r,"month")),this.addWeeks=(s,r)=>this.adjustOffset(s.add(r,"week")),this.addDays=(s,r)=>this.adjustOffset(s.add(r,"day")),this.addHours=(s,r)=>this.adjustOffset(s.add(r,"hour")),this.addMinutes=(s,r)=>this.adjustOffset(s.add(r,"minute")),this.addSeconds=(s,r)=>this.adjustOffset(s.add(r,"second")),this.getYear=s=>s.year(),this.getMonth=s=>s.month(),this.getDate=s=>s.date(),this.getHours=s=>s.hour(),this.getMinutes=s=>s.minute(),this.getSeconds=s=>s.second(),this.getMilliseconds=s=>s.millisecond(),this.setYear=(s,r)=>this.adjustOffset(s.set("year",r)),this.setMonth=(s,r)=>this.adjustOffset(s.set("month",r)),this.setDate=(s,r)=>this.adjustOffset(s.set("date",r)),this.setHours=(s,r)=>this.adjustOffset(s.set("hour",r)),this.setMinutes=(s,r)=>this.adjustOffset(s.set("minute",r)),this.setSeconds=(s,r)=>this.adjustOffset(s.set("second",r)),this.setMilliseconds=(s,r)=>this.adjustOffset(s.set("millisecond",r)),this.getDaysInMonth=s=>s.daysInMonth(),this.getWeekArray=s=>{const r=this.startOfWeek(this.startOfMonth(s)),u=this.endOfWeek(this.endOfMonth(s));let f=0,d=r;const p=[];for(;d<u;){const g=Math.floor(f/7);p[g]=p[g]||[],p[g].push(d),d=this.addDays(d,1),f+=1}return p},this.getWeekNumber=s=>s.week(),this.getYearRange=([s,r])=>{const u=this.startOfYear(s),f=this.endOfYear(r),d=[];let p=u;for(;this.isBefore(p,f);)d.push(p),p=this.addYears(p,1);return d},this.locale=t,this.formats=Ly({},yR,i),Xe.extend(sR)}getDayOfWeek(t){return t.day()+1}}function SR(a,t){let i;try{i=a()}catch{return}return{getItem:r=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),d=(u=i.getItem(r))!=null?u:null;return d instanceof Promise?d.then(f):f(d)},setItem:(r,u)=>i.setItem(r,JSON.stringify(u,void 0)),removeItem:r=>i.removeItem(r)}}const th=a=>t=>{try{const i=a(t);return i instanceof Promise?i:{then(s){return th(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return th(s)(i)}}}},bR=(a,t)=>(i,s,r)=>{let u={storage:SR(()=>localStorage),partialize:k=>k,version:0,merge:(k,L)=>({...L,...k}),...t},f=!1;const d=new Set,p=new Set;let g=u.storage;if(!g)return a((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...k)},s,r);const _=()=>{const k=u.partialize({...s()});return g.setItem(u.name,{state:k,version:u.version})},y=r.setState;r.setState=(k,L)=>{y(k,L),_()};const S=a((...k)=>{i(...k),_()},s,r);r.getInitialState=()=>S;let T;const C=()=>{var k,L;if(!g)return;f=!1,d.forEach(F=>{var $;return F(($=s())!=null?$:S)});const Q=((L=u.onRehydrateStorage)==null?void 0:L.call(u,(k=s())!=null?k:S))||void 0;return th(g.getItem.bind(g))(u.name).then(F=>{if(F)if(typeof F.version=="number"&&F.version!==u.version){if(u.migrate){const $=u.migrate(F.state,F.version);return $ instanceof Promise?$.then(Z=>[!0,Z]):[!0,$]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,F.state];return[!1,void 0]}).then(F=>{var $;const[Z,ne]=F;if(T=u.merge(ne,($=s())!=null?$:S),i(T,!0),Z)return _()}).then(()=>{Q?.(T,void 0),T=s(),f=!0,p.forEach(F=>F(T))}).catch(F=>{Q?.(void 0,F)})};return r.persist={setOptions:k=>{u={...u,...k},k.storage&&(g=k.storage)},clearStorage:()=>{g?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>C(),hasHydrated:()=>f,onHydrate:k=>(d.add(k),()=>{d.delete(k)}),onFinishHydration:k=>(p.add(k),()=>{p.delete(k)})},u.skipHydration||C(),T||S},ER=bR;function Uf(a){return a.sort((t,i)=>t.timestamp.toDate().getTime()-i.timestamp.toDate().getTime())}function tu(a){return JSON.parse(JSON.stringify(a)).reverse()}function TR(a,t){return tu(a).find(i=>i.type===t)}function xR(a,t,i="ASC"){let s=tu(a);return i==="DESC"&&(s=s.reverse()),s.filter(r=>r.type===t)}function GO(a,t){return tu(a).find(t)}function CR(a){return tu(a)[0]}function wR(a){if(!a)return null;try{if(typeof a.toDate=="function")return a.toDate();if(typeof a=="string"){const t=new Date(a);if(isNaN(t.getTime()))throw new Error("Invalid serialized timestamp format");return t}else if(typeof a=="number"){const t=a<3250368e4?a*1e3:a,i=new Date(t);if(isNaN(i.getTime()))throw new Error("Invalid numeric timestamp format");return i}else if(typeof a=="object"&&a.seconds!==void 0){const t=a,i=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);if(isNaN(i.getTime()))throw new Error("Invalid Firestore timestamp object format");return i}else{if(a instanceof Date)return a;throw console.warn("Unsupported timestamp format:",typeof a,a),new Error(`Unsupported timestamp format: ${typeof a}`)}}catch(t){return console.warn("Failed to parse timestamp:",t),null}}const AR={messages:[],loading:!0,error:null,room:null,paginationCursor:null},RR=rh()(ER((a,t)=>({...AR,loadMessages:i=>{const r=Uf(i);a({messages:r,loading:!1,error:null})},addMessage:i=>{const{messages:s}=t();if(s.find(d=>d.id===i.id))return;const u=[...s,i],f=Uf(u);a({messages:f})},updateMessage:(i,s)=>{const{messages:r}=t();let u=!1;const f=r.map(d=>{if(d.id===i){const p={...d,...s};if(Object.keys(s).some(_=>d[_]!==s[_]))return u=!0,p}return d});if(u){const d=Uf(f);a({messages:d})}},clearMessages:()=>{a({messages:[],loading:!1,error:null})},setLoading:i=>{const{loading:s}=t();s!==i&&a({loading:i})},setError:i=>{const{error:s}=t();s!==i&&a({error:i})},setRoom:i=>{const{room:s}=t();s!==i&&a({room:i})},setPaginationCursor:i=>{const{paginationCursor:s}=t();s!==i&&a({paginationCursor:i})},getMessagesByType:i=>{const{messages:s}=t(),r=[];for(let u=0;u<s.length;u++)s[u].type===i&&r.push(s[u]);return r},getLatestMessage:()=>{const{messages:i}=t();return CR(i)},getLatestMessageByType:i=>{const{messages:s}=t();return TR(s,i)},getFilteredMessages:i=>{const{messages:s}=t(),r=[];for(let u=0;u<s.length;u++)i(s[u])&&r.push(s[u]);return r},getOrderedMessagesByType:(i,s="ASC")=>{const{messages:r}=t();return xR(r,i,s)}}),{name:"messages-storage",partialize:a=>({messages:a.messages,room:a.room,paginationCursor:a.paginationCursor}),onRehydrateStorage:()=>a=>{if(a){const t=new Date;t.setHours(t.getHours()-24);const i=a.messages.filter(s=>{try{const r=wR(s.timestamp);if(!r)throw console.warn(`Failed to parse timestamp for message ${s.id}:`,typeof s.timestamp,s.timestamp),new Error(`Failed to parse timestamp for message ${s.id}`);return r>t}catch(r){return console.warn(`Failed to parse message timestamp for message ID ${s.id}:`,r.message),!0}});i.length!==a.messages.length&&a.loadMessages(i)}}})),OR=re.createContext(void 0);function DR(a){const{id:t}=sh(),{messages:i,loading:s,loadMessages:r,setLoading:u,setRoom:f,clearMessages:d}=RR();re.useEffect(()=>{if(u(!0),f(t||null),!t){d();return}return dA(t,g=>{r(g)})},[t,r,u,f,d]);const p={messages:i,isLoading:s};return pe.jsx(OR.Provider,{value:p,...a})}const Sy=50,MR=rh((a,t)=>({onlineUsers:{},loading:!1,error:null,room:null,_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,averageUpdateInterval:0},_pendingUpdates:{},_batchTimeout:null,setUsers:i=>{const s=Date.now();a(r=>{const u=s-r._performanceMetrics.lastUpdateTime,f=r._performanceMetrics.updateCount+1,d=(r._performanceMetrics.averageUpdateInterval*r._performanceMetrics.updateCount+u)/f;return{onlineUsers:i,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:s,updateCount:f,averageUpdateInterval:d}}})},addUser:(i,s)=>{const r=t();r._pendingUpdates[i]=s,r._batchTimeout&&clearTimeout(r._batchTimeout);const u=setTimeout(()=>{r.flushPendingUpdates()},Sy);a({_batchTimeout:u})},removeUser:i=>{const s=t();s._pendingUpdates[i]=null,s._batchTimeout&&clearTimeout(s._batchTimeout);const r=setTimeout(()=>{s.flushPendingUpdates()},Sy);a({_batchTimeout:r})},batchUpdateUsers:i=>a(s=>{const r={...s.onlineUsers};Object.entries(i).forEach(([g,_])=>{if(_===null){const{[g]:y,...S}=r;Object.assign(r,S)}else r[g]=_});const u=Date.now(),f=u-s._performanceMetrics.lastUpdateTime,d=s._performanceMetrics.updateCount+1,p=(s._performanceMetrics.averageUpdateInterval*s._performanceMetrics.updateCount+f)/d;return{onlineUsers:r,_performanceMetrics:{lastUpdateTime:u,updateCount:d,averageUpdateInterval:p}}}),flushPendingUpdates:()=>{const i=t();Object.keys(i._pendingUpdates).length!==0&&(i.batchUpdateUsers(i._pendingUpdates),a(()=>({_pendingUpdates:{}})))},clearUsers:()=>a(()=>({onlineUsers:{},loading:!1,error:null,_pendingUpdates:{}})),setLoading:i=>a(()=>({loading:i})),setError:i=>a(()=>({error:i,loading:!1})),setRoom:i=>a(()=>({room:i})),getUsersByRoom:i=>{const s=t();return s.onlineUsers},getActiveUserCount:()=>{const i=t();return Object.keys(i.onlineUsers).length},getPerformanceMetrics:()=>t()._performanceMetrics})),NR=re.createContext(void 0);function LR(a){const{id:t}=sh(),{onlineUsers:i,setUsers:s,setRoom:r,clearUsers:u,flushPendingUpdates:f}=MR(),d=re.useRef(null),p=re.useRef(t),g=re.useCallback(S=>{S===null?u():s(S)},[s,u]),_=re.useCallback(()=>{d.current&&(d.current(),d.current=null),f()},[f]);re.useEffect(()=>{if(p.current!==t&&(r(t||null),p.current=t),!t){_(),u();return}return _(),sA(t,g),d.current=null,_},[t,r,u,g,_]),re.useEffect(()=>_,[_]);const y=re.useMemo(()=>({onlineUsers:i}),[i]);return pe.jsx(NR.Provider,{value:y,...a})}const by=300*1e3,UR=100,kR=rh((a,t)=>({schedule:[],loading:!1,error:null,_cache:{upcomingSchedule:{data:[],timestamp:0,limit:0},roomSchedule:{}},_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,cacheHitRate:0},_pendingUpdates:[],_batchTimeout:null,loadSchedule:i=>{const s=Date.now();a(r=>{const u=r._performanceMetrics.updateCount+1;return{schedule:i,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:s,updateCount:u,cacheHitRate:r._performanceMetrics.cacheHitRate}}}),t().invalidateCache()},addScheduleItem:i=>{const s=t();a(u=>({_pendingUpdates:[...u._pendingUpdates,i]})),s._batchTimeout&&clearTimeout(s._batchTimeout);const r=setTimeout(()=>{t().flushPendingScheduleUpdates()},UR);a(()=>({_batchTimeout:r}))},batchAddScheduleItems:i=>a(s=>{const r=[...s.schedule,...i],u=Date.now(),f=s._performanceMetrics.updateCount+1;return{schedule:r,_performanceMetrics:{lastUpdateTime:u,updateCount:f,cacheHitRate:s._performanceMetrics.cacheHitRate}}}),flushPendingScheduleUpdates:()=>{const i=t();i._pendingUpdates.length!==0&&(i._batchTimeout&&clearTimeout(i._batchTimeout),i.batchAddScheduleItems(i._pendingUpdates),a(()=>({_pendingUpdates:[],_batchTimeout:null})),i.invalidateCache())},removeScheduleItem:i=>{a(s=>({schedule:s.schedule.filter(r=>r.id!==i)})),t().invalidateCache()},clearSchedule:()=>{const i=t();i._batchTimeout&&clearTimeout(i._batchTimeout),a(()=>({schedule:[],loading:!1,error:null,_pendingUpdates:[],_batchTimeout:null})),t().invalidateCache()},invalidateCache:()=>a(()=>({_cache:{upcomingSchedule:{data:[],timestamp:0,limit:0},roomSchedule:{}}})),setLoading:i=>a(()=>({loading:i})),setError:i=>a(()=>({error:i,loading:!1})),getUpcomingSchedule:(i=10)=>{const s=t(),r=Date.now(),u=s._cache.upcomingSchedule;if(u.timestamp>0&&r-u.timestamp<by&&u.limit>=i){const g=s._performanceMetrics.updateCount+1,y=(s._performanceMetrics.cacheHitRate*(g-1)+1)/g;return a(S=>({_performanceMetrics:{...S._performanceMetrics,cacheHitRate:y}})),u.data.slice(0,i)}const d=Xe(),p=s.schedule.filter(g=>g.dateTime.isAfter(d)).sort((g,_)=>g.dateTime.valueOf()-_.dateTime.valueOf()).slice(0,Math.max(i,20));return a(g=>({_cache:{...g._cache,upcomingSchedule:{data:p,timestamp:r,limit:Math.max(i,20)}}})),p.slice(0,i)},getScheduleByRoom:i=>{const s=t(),r=Date.now(),u=s._cache.roomSchedule[i];if(u&&u.timestamp>0&&r-u.timestamp<by){const p=s._performanceMetrics.updateCount+1,_=(s._performanceMetrics.cacheHitRate*(p-1)+1)/p;return a(y=>({_performanceMetrics:{...y._performanceMetrics,cacheHitRate:_}})),u.data}const d=s.schedule.filter(p=>p.room===i);return a(p=>({_cache:{...p._cache,roomSchedule:{...p._cache.roomSchedule,[i]:{data:d,timestamp:r}}}})),d},getPerformanceMetrics:()=>t()._performanceMetrics})),IR=re.createContext(void 0);function zR(a){const{schedule:t,loadSchedule:i,flushPendingScheduleUpdates:s}=kR(),r=re.useRef(null),u=re.useCallback(g=>{i(g)},[i]),f=re.useCallback(async(g,_,y)=>{try{const S=await gA(g,_,y);return s(),S}catch(S){throw console.error("Error adding to schedule:",S),S}},[s]),d=re.useCallback(()=>{r.current&&(r.current(),r.current=null),s()},[s]);re.useEffect(()=>(d(),r.current=pA(u),d),[u,d]),re.useEffect(()=>d,[d]);const p=re.useMemo(()=>({schedule:t,addToSchedule:f}),[t,f]);return pe.jsx(IR.Provider,{value:p,...a})}let nh=uE({palette:{mode:"dark",background:{default:"#0f172a",paper:"#1e293b"},text:{primary:"#f8fafc",secondary:"#cbd5e1"},divider:"rgba(148, 163, 184, 0.12)",error:{main:"#b91c1c"},warning:{main:"#b45309"},info:{main:"#1d4ed8"},success:{main:"#047857"}},typography:{h1:{fontWeight:700,letterSpacing:"-0.025em"},h2:{fontWeight:700,letterSpacing:"-0.025em"},h3:{fontWeight:600,letterSpacing:"-0.025em"},h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600},button:{fontWeight:500,textTransform:"none"}},components:{MuiButton:{styleOverrides:{root:{borderRadius:8,padding:"8px 16px",transition:"all 0.2s ease-in-out"},contained:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:12,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",background:"rgb(75, 75, 75, 0.5)",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out"}}},MuiPaper:{styleOverrides:{root:{backgroundImage:"none"},elevation1:{boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24)"},elevation2:{boxShadow:"0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12)"},elevation4:{boxShadow:"0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.1)"}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{transition:"border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{borderColor:"#4f46e5"},"&.Mui-focused":{boxShadow:"0 0 0 2px rgba(79, 70, 229, 0.2)"}}}}},MuiCssBaseline:{styleOverrides:{body:{scrollbarWidth:"thin",scrollbarColor:"#4b5563 #1f2937","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#1f2937"},"&::-webkit-scrollbar-thumb":{background:"#4b5563",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#6b7280"}}}}}});nh=cE(nh);const jR=nh,M0={label:"English",voice:"Google UK English Male"},N0={label:"Español",voice:"Google español de Estados Unidos"},L0={label:"Française",voice:"Google français"},U0={en:M0,es:N0,fr:L0},HR=Object.freeze(Object.defineProperty({__proto__:null,default:U0,en:M0,es:N0,fr:L0},Symbol.toStringTag,{value:"Module"}));async function BR(a="en",t="online"){const i={},s=Object.assign({"../locales/en/local/alcohol.json":()=>z(()=>import("../js/alcohol.json-BZAf2NTg.js"),[]),"../locales/en/local/ballBusting.json":()=>z(()=>import("../js/ballBusting.json-JqHlyII6.js"),[]),"../locales/en/local/bating.json":()=>z(()=>import("../js/bating.json-BtWbzEmW.js"),[]),"../locales/en/local/bondage.json":()=>z(()=>import("../js/bondage.json-LgAIGueK.js"),[]),"../locales/en/local/breathPlay.json":()=>z(()=>import("../js/breathPlay.json-CRzY7428.js"),[]),"../locales/en/local/buttPlay.json":()=>z(()=>import("../js/buttPlay.json-BLN-Qmx6.js"),[]),"../locales/en/local/electric.json":()=>z(()=>import("../js/electric.json-Bk_TXWk-.js"),[]),"../locales/en/local/footPlay.json":()=>z(()=>import("../js/footPlay.json-DD_Xn9fn.js"),[]),"../locales/en/local/gasMask.json":()=>z(()=>import("../js/gasMask.json-Cu6WbYgI.js"),[]),"../locales/en/local/humiliation.json":()=>z(()=>import("../js/humiliation.json-D38KZgue.js"),[]),"../locales/en/local/kissing.json":()=>z(()=>import("../js/kissing.json-DW0pyV1M.js"),[]),"../locales/en/local/pissPlay.json":()=>z(()=>import("../js/pissPlay.json-3ya2U2q3.js"),[]),"../locales/en/local/poppers.json":()=>z(()=>import("../js/poppers.json-DPi1vlVq.js"),[]),"../locales/en/local/spanking.json":()=>z(()=>import("../js/spanking.json-3kbIVZK0.js"),[]),"../locales/en/local/throatTraining.json":()=>z(()=>import("../js/throatTraining.json-DtLEE-Re.js"),[]),"../locales/en/local/tickling.json":()=>z(()=>import("../js/tickling.json-aQu3phvV.js"),[]),"../locales/en/local/titTorture.json":()=>z(()=>import("../js/titTorture.json-CDT_2bmN.js"),[]),"../locales/en/local/vaping.json":()=>z(()=>import("../js/vaping.json-Cw_EBTDr.js"),[]),"../locales/en/online/alcohol.json":()=>z(()=>import("../js/alcohol.json-mxUDnrw5.js"),[]),"../locales/en/online/ballBusting.json":()=>z(()=>import("../js/ballBusting.json-BtcwXD0u.js"),[]),"../locales/en/online/bating.json":()=>z(()=>import("../js/bating.json-DlWklRCC.js"),[]),"../locales/en/online/buttPlay.json":()=>z(()=>import("../js/buttPlay.json-DNlSUs1v.js"),[]),"../locales/en/online/gasMask.json":()=>z(()=>import("../js/gasMask.json-CF8uPBF1.js"),[]),"../locales/en/online/pissPlay.json":()=>z(()=>import("../js/pissPlay.json-D6UuWU9w.js"),[]),"../locales/en/online/poppers.json":()=>z(()=>import("../js/poppers.json-DYE8WgUc.js"),[]),"../locales/en/online/throatTraining.json":()=>z(()=>import("../js/throatTraining.json-CYz7x0-j.js"),[]),"../locales/en/online/titTorture.json":()=>z(()=>import("../js/titTorture.json-VJd7QlDN.js"),[]),"../locales/en/online/vaping.json":()=>z(()=>import("../js/vaping.json-Cn6qK-lN.js"),[]),"../locales/en/translation.json":()=>z(()=>import("../js/translation.json-BCegAc0T.js"),[]),"../locales/es/local/alcohol.json":()=>z(()=>import("../js/alcohol.json-eOgMZGYI.js"),[]),"../locales/es/local/ballBusting.json":()=>z(()=>import("../js/ballBusting.json-sBqY59Kp.js"),[]),"../locales/es/local/bating.json":()=>z(()=>import("../js/bating.json-B8f6WSWo.js"),[]),"../locales/es/local/bondage.json":()=>z(()=>import("../js/bondage.json-cr6DtteZ.js"),[]),"../locales/es/local/breathPlay.json":()=>z(()=>import("../js/breathPlay.json-BURg9OP8.js"),[]),"../locales/es/local/buttPlay.json":()=>z(()=>import("../js/buttPlay.json-mLDjmrwt.js"),[]),"../locales/es/local/electric.json":()=>z(()=>import("../js/electric.json-ySQ7MZhU.js"),[]),"../locales/es/local/footPlay.json":()=>z(()=>import("../js/footPlay.json-hFWj95hS.js"),[]),"../locales/es/local/gasMask.json":()=>z(()=>import("../js/gasMask.json-Bcj5DoFi.js"),[]),"../locales/es/local/humiliation.json":()=>z(()=>import("../js/humiliation.json-na7zWeaI.js"),[]),"../locales/es/local/kissing.json":()=>z(()=>import("../js/kissing.json-CB0VP-KF.js"),[]),"../locales/es/local/pissPlay.json":()=>z(()=>import("../js/pissPlay.json-D0vsOJAi.js"),[]),"../locales/es/local/poppers.json":()=>z(()=>import("../js/poppers.json-hlv7QJE8.js"),[]),"../locales/es/local/spanking.json":()=>z(()=>import("../js/spanking.json-CNxUcjtn.js"),[]),"../locales/es/local/throatTraining.json":()=>z(()=>import("../js/throatTraining.json-bHNxwh4W.js"),[]),"../locales/es/local/tickling.json":()=>z(()=>import("../js/tickling.json-3eKqnoqT.js"),[]),"../locales/es/local/titTorture.json":()=>z(()=>import("../js/titTorture.json-AFCIE4zr.js"),[]),"../locales/es/local/vaping.json":()=>z(()=>import("../js/vaping.json-sEIHH7E5.js"),[]),"../locales/es/online/alcohol.json":()=>z(()=>import("../js/alcohol.json-DHOb8-kr.js"),[]),"../locales/es/online/ballBusting.json":()=>z(()=>import("../js/ballBusting.json-CYCdXDgZ.js"),[]),"../locales/es/online/bating.json":()=>z(()=>import("../js/bating.json-C_-18RGA.js"),[]),"../locales/es/online/buttPlay.json":()=>z(()=>import("../js/buttPlay.json-C4FATzM0.js"),[]),"../locales/es/online/gasMask.json":()=>z(()=>import("../js/gasMask.json-C0h9kj6-.js"),[]),"../locales/es/online/pissPlay.json":()=>z(()=>import("../js/pissPlay.json-Q45xwfeM.js"),[]),"../locales/es/online/poppers.json":()=>z(()=>import("../js/poppers.json-DdRKJtxh.js"),[]),"../locales/es/online/throatTraining.json":()=>z(()=>import("../js/throatTraining.json-UnffRU_V.js"),[]),"../locales/es/online/titTorture.json":()=>z(()=>import("../js/titTorture.json-CrPrYCYf.js"),[]),"../locales/es/online/vaping.json":()=>z(()=>import("../js/vaping.json-BRzgwyKs.js"),[]),"../locales/es/translation.json":()=>z(()=>import("../js/translation.json-CQr8ti6S.js"),[]),"../locales/fr/local/alcohol.json":()=>z(()=>import("../js/alcohol.json-C70_emWC.js"),[]),"../locales/fr/local/ballBusting.json":()=>z(()=>import("../js/ballBusting.json-DS3JnjP8.js"),[]),"../locales/fr/local/bating.json":()=>z(()=>import("../js/bating.json-CAPiAI_C.js"),[]),"../locales/fr/local/bondage.json":()=>z(()=>import("../js/bondage.json-DzQhYNpa.js"),[]),"../locales/fr/local/breathPlay.json":()=>z(()=>import("../js/breathPlay.json-DKOcasfb.js"),[]),"../locales/fr/local/buttPlay.json":()=>z(()=>import("../js/buttPlay.json-BREh-5Of.js"),[]),"../locales/fr/local/electric.json":()=>z(()=>import("../js/electric.json-DuoRN1_a.js"),[]),"../locales/fr/local/footPlay.json":()=>z(()=>import("../js/footPlay.json-CQmZIGLH.js"),[]),"../locales/fr/local/gasMask.json":()=>z(()=>import("../js/gasMask.json-D_g-zyGr.js"),[]),"../locales/fr/local/humiliation.json":()=>z(()=>import("../js/humiliation.json-CSr078q2.js"),[]),"../locales/fr/local/kissing.json":()=>z(()=>import("../js/kissing.json-CKHo9oqj.js"),[]),"../locales/fr/local/pissPlay.json":()=>z(()=>import("../js/pissPlay.json-DVyXQjkC.js"),[]),"../locales/fr/local/poppers.json":()=>z(()=>import("../js/poppers.json-B30bn8dw.js"),[]),"../locales/fr/local/spanking.json":()=>z(()=>import("../js/spanking.json-CkgJa4fc.js"),[]),"../locales/fr/local/throatTraining.json":()=>z(()=>import("../js/throatTraining.json-CuiBxkWK.js"),[]),"../locales/fr/local/tickling.json":()=>z(()=>import("../js/tickling.json-BIx4hqsq.js"),[]),"../locales/fr/local/titTorture.json":()=>z(()=>import("../js/titTorture.json-BtQcgxzM.js"),[]),"../locales/fr/local/vaping.json":()=>z(()=>import("../js/vaping.json-BKBmcz9l.js"),[]),"../locales/fr/online/alcohol.json":()=>z(()=>import("../js/alcohol.json-Dc380shx.js"),[]),"../locales/fr/online/ballBusting.json":()=>z(()=>import("../js/ballBusting.json-4gGsUFBf.js"),[]),"../locales/fr/online/bating.json":()=>z(()=>import("../js/bating.json-UlGM_QXh.js"),[]),"../locales/fr/online/buttPlay.json":()=>z(()=>import("../js/buttPlay.json-CKK7cdVw.js"),[]),"../locales/fr/online/gasMask.json":()=>z(()=>import("../js/gasMask.json-DCZ-6Sqx.js"),[]),"../locales/fr/online/pissPlay.json":()=>z(()=>import("../js/pissPlay.json-uXhaE7LP.js"),[]),"../locales/fr/online/poppers.json":()=>z(()=>import("../js/poppers.json-Ciaf_5HC.js"),[]),"../locales/fr/online/throatTraining.json":()=>z(()=>import("../js/throatTraining.json-dt4emaCF.js"),[]),"../locales/fr/online/titTorture.json":()=>z(()=>import("../js/titTorture.json-DuMCmKhS.js"),[]),"../locales/fr/online/vaping.json":()=>z(()=>import("../js/vaping.json-VGay9Awe.js"),[]),"../locales/fr/translation.json":()=>z(()=>import("../js/translation.json-ClsNS8PC.js"),[]),"../locales/languages.json":()=>z(()=>Promise.resolve().then(()=>HR),void 0)});for(const r in s)if(r.startsWith(`../locales/${a}/${t}/`)){const u=r.split("/").pop()?.replace(".json","")||"";u&&(i[u]=await s[r]())}return i}const QO=U0,{customTiles:k0}=Fi,ul={online:!1,local:!1};function VR(a,t="en",i="online"){const s=[];return Object.entries(a).forEach(([r,u])=>{!u.actions||Object.keys(u.actions).length===0||Object.entries(u.actions).forEach(([f,d],p)=>{!d||d.length===0||d.forEach(g=>{s.push({group:r,intensity:p,action:g,isEnabled:1,tags:[kA("default","Default")],gameMode:i,isCustom:0,locale:t})})})}),s}function $R(a,t,i){return!Array.isArray(a)||a.length===0?!1:a.filter(u=>u.locale===t&&u.gameMode===i&&u.isCustom===0).length>=4}async function qR(a){const t=a||"en",i=["online","local"];try{for(const s of i)if(!ul[s]){ul[s]=!0;try{const r=await R0({locale:t,gameMode:s,paginated:!1}),u=Array.isArray(r)?r:[];if($R(u,t,s))continue;const f=await BR(t,s),d=VR(f,t,s),p=await PR(d,t,s);p.length>0&&await jA(p)}finally{ul[s]=!1}}}catch(s){console.error(`Error importing default actions for ${t}:`,s),ul.online=!1,ul.local=!1}}async function PR(a,t,i){const s=await k0.where("locale").equals(t).and(u=>u.gameMode===i&&u.isCustom===0).toArray(),r=new Set;return s.forEach(u=>{const f=`${u.group}-${u.intensity}-${u.action}`;r.add(f)}),a.filter(u=>{const f=`${u.group}-${u.intensity}-${u.action}`;return!r.has(f)})}async function Ey(a,t){try{const i=await R0({locale:a,gameMode:t,paginated:!1});if(!Array.isArray(i)||i.length===0)return;const s=i.filter(f=>f.isCustom===0);if(s.length<=1)return;const r=new Map,u=[];if(s.forEach(f=>{const d=`${f.group}-${f.intensity}-${f.action}`;r.has(d)?f.id!==void 0&&u.push(f.id):r.set(d,f.id)}),u.length>0)for(const f of u)await k0.delete(f)}catch(i){console.error(`Error removing duplicate default actions for ${a}/${t}:`,i)}}async function YR(a){await Ey(a,"online"),await Ey(a,"local"),await qR(a)}let no=null;function FR(a){no&&clearTimeout(no),no=window.setTimeout(()=>{try{YR(a).catch(t=>{console.error("Error during initial default actions import:",t)})}catch(t){console.error("Error during initial default actions import:",t)}no=null},1e3)}function kf(){return pe.jsx(fE,{in:!0,timeout:300,children:pe.jsxs(hE,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",backgroundColor:"#0f172a",color:"#f8fafc",position:"fixed",top:0,left:0,zIndex:9999},children:[pe.jsx(dE,{size:60,thickness:4,sx:{color:"#4f46e5",mb:3}}),pe.jsx(pE,{variant:"h6",sx:{opacity:.8,fontWeight:400,letterSpacing:"0.02em"},children:"Loading..."})]})})}const GR=re.lazy(()=>z(()=>import("../js/index.tsx-BpEfZkbm.js"),__vite__mapDeps([9,1,2,3,10,11,12,13,14,15,16,17,18,19,4,20,21]))),QR=re.lazy(()=>z(()=>import("../js/index.tsx-DoBW_gms.js"),__vite__mapDeps([22,1,2,3,23,17,14,24,16,25,26,13,10,4]))),KR=re.lazy(()=>z(()=>import("../js/index.tsx-QOMOPbRj.js"),__vite__mapDeps([27,1,2,3,28,10,23,17,4,29,21,30,11,31,16,12,32,33,19,14,25,26,13,24,34,35,15]))),Ty=()=>{Promise.all([z(()=>import("../js/index.tsx-QOMOPbRj.js"),__vite__mapDeps([27,1,2,3,28,10,23,17,4,29,21,30,11,31,16,12,32,33,19,14,25,26,13,24,34,35,15])),z(()=>import("../js/index.tsx-BlfupDtQ.js"),__vite__mapDeps([36,1,2,3,16,10,14,31,23,17,12,32,33,11,19,25,30,21,37,4])),z(()=>import("../js/index.tsx-BCTM9mYT.js"),__vite__mapDeps([38,1,2,3,10,35,37,4])),z(()=>import("../js/chunk-BzS7F8Tt.js").then(a=>a.i),__vite__mapDeps([15,1,2,3,11,16,17])),z(()=>import("../js/index.tsx-DPV4x7Pi.js"),__vite__mapDeps([28,1,2,3,10,23,17,4])),z(()=>import("../js/index.tsx-dvc7LsAO.js"),__vite__mapDeps([29,1,2,3,21,30,11,31,23,17,16,10,12,32,33,19,14,25,26,13,4]))]).catch(console.warn)};if(typeof window<"u"){const a=()=>{"requestIdleCallback"in window?window.requestIdleCallback(Ty,{timeout:1e3}):setTimeout(Ty,100)};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a()}function xy({children:a}){return pe.jsx(LR,{children:pe.jsx(zR,{children:pe.jsx(DR,{children:a})})})}function Cy({children:a}){const{id:t}=sh(),i=xE(),s=CE();return re.useEffect(()=>{if(t&&t!==t.toUpperCase()){const r=s.pathname.replace(t,t.toUpperCase());i(r+s.search+s.hash,{replace:!0})}},[t,i,s]),pe.jsx(pe.Fragment,{children:a})}function XR(){const a=re.useContext(D0);if(re.useEffect(()=>(a&&(window.authContext=a),()=>{window.authContext=null}),[a]),re.useEffect(()=>{Ze.on("languageChanged",i=>{FR(i)})},[]),!a||a.initializing)return pe.jsx(kf,{});const t=a.user?pe.jsx(KR,{}):pe.jsx(GR,{});return pe.jsxs(EE,{children:[pe.jsx(mf,{path:"/",element:pe.jsx(TE,{replace:!0,to:"/PUBLIC"})}),pe.jsx(mf,{path:"/:id/cast",element:pe.jsx(Cy,{children:pe.jsx(xy,{children:pe.jsx(re.Suspense,{fallback:pe.jsx(kf,{}),children:pe.jsx(QR,{})})})})}),pe.jsx(mf,{path:"/:id",element:pe.jsx(Cy,{children:pe.jsx(xy,{children:pe.jsx(re.Suspense,{fallback:pe.jsx(kf,{}),children:t})})})})]})}function ZR(){return pe.jsxs(gE,{theme:jR,children:[pe.jsx(mE,{}),pe.jsx(sT,{dateAdapter:vR,children:pe.jsx(bE,{children:pe.jsx(XR,{})})})]})}const ho=(a,t,i)=>{const s=a[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((r,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==i?". Note that variables only represent file names one level deep.":""))))})},WR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,JR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},eO=a=>JR[a],tO=a=>a.replace(WR,eO);let ih={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:tO};const nO=(a={})=>{ih={...ih,...a}},KO=()=>ih;let I0;const iO=a=>{I0=a},XO=()=>I0,sO={type:"3rdParty",init(a){nO(a.options.react),iO(a)}};var aO=function(t){return{type:"backend",init:function(s,r,u){},read:function(s,r,u){if(typeof t=="function"){if(t.length<3){try{var f=t(s,r);f&&typeof f.then=="function"?f.then(function(d){return u(null,d&&d.default||d)}).catch(u):u(null,f)}catch(d){u(d)}return}t(s,r,u);return}u(null,t&&t[s]&&t[s][r])}}};const{slice:lO,forEach:rO}=[];function oO(a){return rO.call(lO.call(arguments,1),t=>{if(t)for(const i in t)a[i]===void 0&&(a[i]=t[i])}),a}function uO(a){return typeof a!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(i=>i.test(a))}const wy=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cO=function(a,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(t);let u=`${a}=${r}`;if(s.maxAge>0){const f=s.maxAge-0;if(Number.isNaN(f))throw new Error("maxAge should be a Number");u+=`; Max-Age=${Math.floor(f)}`}if(s.domain){if(!wy.test(s.domain))throw new TypeError("option domain is invalid");u+=`; Domain=${s.domain}`}if(s.path){if(!wy.test(s.path))throw new TypeError("option path is invalid");u+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");u+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(u+="; Partitioned"),u},Ay={create(a,t,i,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};i&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+i*60*1e3)),s&&(r.domain=s),document.cookie=cO(a,t,r)},read(a){const t=`${a}=`,i=document.cookie.split(";");for(let s=0;s<i.length;s++){let r=i[s];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null},remove(a,t){this.create(a,"",-1,t)}};var fO={name:"cookie",lookup(a){let{lookupCookie:t}=a;if(t&&typeof document<"u")return Ay.read(t)||void 0},cacheUserLanguage(a,t){let{lookupCookie:i,cookieMinutes:s,cookieDomain:r,cookieOptions:u}=t;i&&typeof document<"u"&&Ay.create(i,a,s,r,u)}},hO={name:"querystring",lookup(a){let{lookupQuerystring:t}=a,i;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const u=s.substring(1).split("&");for(let f=0;f<u.length;f++){const d=u[f].indexOf("=");d>0&&u[f].substring(0,d)===t&&(i=u[f].substring(d+1))}}return i}},dO={name:"hash",lookup(a){let{lookupHash:t,lookupFromHashIndex:i}=a,s;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const u=r.substring(1);if(t){const f=u.split("&");for(let d=0;d<f.length;d++){const p=f[d].indexOf("=");p>0&&f[d].substring(0,p)===t&&(s=f[d].substring(p+1))}}if(s)return s;if(!s&&i>-1){const f=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(f)?f[typeof i=="number"?i:0]?.replace("/",""):void 0}}}return s}};let qs=null;const Ry=()=>{if(qs!==null)return qs;try{if(qs=typeof window<"u"&&window.localStorage!==null,!qs)return!1;const a="i18next.translate.boo";window.localStorage.setItem(a,"foo"),window.localStorage.removeItem(a)}catch{qs=!1}return qs};var pO={name:"localStorage",lookup(a){let{lookupLocalStorage:t}=a;if(t&&Ry())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(a,t){let{lookupLocalStorage:i}=t;i&&Ry()&&window.localStorage.setItem(i,a)}};let Ps=null;const Oy=()=>{if(Ps!==null)return Ps;try{if(Ps=typeof window<"u"&&window.sessionStorage!==null,!Ps)return!1;const a="i18next.translate.boo";window.sessionStorage.setItem(a,"foo"),window.sessionStorage.removeItem(a)}catch{Ps=!1}return Ps};var gO={name:"sessionStorage",lookup(a){let{lookupSessionStorage:t}=a;if(t&&Oy())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(a,t){let{lookupSessionStorage:i}=t;i&&Oy()&&window.sessionStorage.setItem(i,a)}},mO={name:"navigator",lookup(a){const t=[];if(typeof navigator<"u"){const{languages:i,userLanguage:s,language:r}=navigator;if(i)for(let u=0;u<i.length;u++)t.push(i[u]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},_O={name:"htmlTag",lookup(a){let{htmlTag:t}=a,i;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(i=s.getAttribute("lang")),i}},yO={name:"path",lookup(a){let{lookupFromPathIndex:t}=a;if(typeof window>"u")return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(i)?i[typeof t=="number"?t:0]?.replace("/",""):void 0}},vO={name:"subdomain",lookup(a){let{lookupFromSubdomainIndex:t}=a;const i=typeof t=="number"?t+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[i]}};let z0=!1;try{document.cookie,z0=!0}catch{}const j0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];z0||j0.splice(1,1);const SO=()=>({order:j0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:a=>a});class H0{constructor(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,i)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=oO(i,this.options||{},SO()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(fO),this.addDetector(hO),this.addDetector(pO),this.addDetector(gO),this.addDetector(mO),this.addDetector(_O),this.addDetector(yO),this.addDetector(vO),this.addDetector(dO)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,i=[];return t.forEach(s=>{if(this.detectors[s]){let r=this.detectors[s].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(i=i.concat(r))}}),i=i.filter(s=>s!=null&&!uO(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}cacheUserLanguage(t){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;i&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||i.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}H0.type="languageDetector";const Dy={fallbackLng:"en",supportedLngs:["en","es","fr"],ns:["translation","errors"],defaultNS:"translation",interpolation:{escapeValue:!1},react:{useSuspense:!0},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],caches:["localStorage","cookie"]}},bO=async()=>{const a=localStorage.getItem("i18nextLng")||"en";try{const t=await ho(Object.assign({"./locales/en/translation.json":()=>z(()=>import("../js/translation.json-BCegAc0T.js"),[]),"./locales/es/translation.json":()=>z(()=>import("../js/translation.json-CQr8ti6S.js"),[]),"./locales/fr/translation.json":()=>z(()=>import("../js/translation.json-ClsNS8PC.js"),[])}),`./locales/${a}/translation.json`,4);return{[a]:{translation:t.default||t}}}catch{const t=await z(()=>import("../js/translation.json-BCegAc0T.js"),[]);return{en:{translation:t.default||t}}}},EO=(a,t)=>t==="translation"?ho(Object.assign({"./locales/en/translation.json":()=>z(()=>import("../js/translation.json-BCegAc0T.js"),[]),"./locales/es/translation.json":()=>z(()=>import("../js/translation.json-CQr8ti6S.js"),[]),"./locales/fr/translation.json":()=>z(()=>import("../js/translation.json-ClsNS8PC.js"),[])}),`./locales/${a}/translation.json`,4):ho(Object.assign({"./locales/en/translation.json":()=>z(()=>import("../js/translation.json-BCegAc0T.js"),[]),"./locales/es/translation.json":()=>z(()=>import("../js/translation.json-CQr8ti6S.js"),[]),"./locales/fr/translation.json":()=>z(()=>import("../js/translation.json-ClsNS8PC.js"),[])}),`./locales/${a}/${t}.json`,4).catch(()=>ho(Object.assign({"./locales/en/translation.json":()=>z(()=>import("../js/translation.json-BCegAc0T.js"),[])}),`./locales/en/${t}.json`,4)),My=Ze.use(sO).use(H0).use(aO(EO));bO().then(a=>{My.init({...Dy,resources:a})}).catch(()=>{My.init(Dy)});const Ny=()=>{z(()=>Promise.resolve({}),[]).catch(()=>{}),z(()=>Promise.resolve({}),[]).catch(()=>{})};typeof window<"u"&&("requestIdleCallback"in window?window.requestIdleCallback(Ny,{timeout:2e3}):setTimeout(Ny,1e3));const TO=nT.createRoot(document.getElementById("root"));TO.render(pe.jsx($m.StrictMode,{children:pe.jsx(KA,{children:pe.jsx($m.Suspense,{children:pe.jsx(ZR,{})})})}));X1();export{D0 as A,eA as B,kO as C,UO as D,VO as E,HA as F,HO as G,v1 as H,R0 as I,qO as J,$O as K,jA as L,OR as M,A0 as N,sT as O,n_ as P,Xe as Q,qA as R,IR as S,YO as T,NR as U,FO as V,VA as W,z as _,TR as a,CR as b,LO as c,IO as d,PO as e,GO as f,BO as g,jO as h,BR as i,Ze as j,XO as k,QO as l,KO as m,y1 as n,xR as o,wR as p,E1 as q,MO as r,zO as s,kA as t,PA as u,OO as v,DO as w,ER as x,Jw as y,Ww as z};

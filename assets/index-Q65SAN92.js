const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/getUniqueImportRecords.ts-CO3QprJG.js","js/chunk-BNAJ8HKu.js","js/chunk-prXmLCkv.js","js/chunk-CyxAs4C6.js","js/chunk-2TCHBoQV.js","js/chunk-CAg44Zgt.js","js/chunk-WIoTRo1F.js","js/chunk-jKbTT2ql.js"])))=>i.map(i=>d[i]);
import{d as dr,g as Pl,u as mc,a as yT,i as xT,c as bT,l as vT,b as sr,w as wT,r as ST,e as _T,f as H1,h as $1,j as K1,k as Y1,m as qh,p as X1,n as jT,o as kT,S as CT,q as TT,s as fr,A as AT,t as qr,v as es,x as ET,y as W1,z as pn,B as MT,C as pc,D as Q1,E as Z1,_ as Il,F as qm,G as J1,H as LT,I as RT,J as kl,K as gc,L as DT,M as zT,N as OT,O as NT,P as BT,Q as PT,R as IT}from"../js/chunk-BNAJ8HKu.js";import{j as c,r as _,i as Hr,R as Pt,ah as tn,u as ce,ai as H,aj as Ut,S as He,a3 as fe,ak as hn,al as K,t as q,ae as xt,am as Ie,I as We,W as fi,h as Hm,a8 as $t,an as en,aa as Kt,a4 as $r,s as yc,ao as Xu,ap as Wu,aq as Qu,ar as Vt,as as $m,at as UT,au as VT,D as Xn,av as Zu,M as pe,aw as Wn,ax as cn,ay as Ee,a6 as at,az as yt,aA as Ju,aB as jt,aC as It,a1 as ew,aD as GT,aE as tw,Q as et,O as it,aF as tt,aG as Ul,aH as Mi,aI as FT,aJ as nw,ac as Km,ab as Vr,a7 as ec,a5 as tc,aK as qT,aL as HT,aM as ev,aN as $T,X as Ym,aO as KT,aP as Xm,aQ as YT,aR as iw,aS as xc,aT as XT,aU as WT,aV as QT,aW as ZT,aX as JT,aY as eA,aZ as tA,a_ as rw,F as nA,a$ as aw,b0 as iA,b1 as rA,b2 as aA,U as Cl,b3 as sA,b4 as lA,d as to,a2 as oA,$ as uA,b5 as cA,E as dA,b6 as fA,b7 as hA,b8 as pl,b9 as mA,ba as pA,bb as gA,bc as Jf,bd as yA,be as xA,bf as bA,bg as vA}from"../js/chunk-prXmLCkv.js";import{g as wA,a as Zn,C as bc,n as no,o as SA,z as vc,A as rs,D as sw,F as lw,H as ow,I as _A}from"../js/chunk-2TCHBoQV.js";import{a as Wm,u as Li,n as Nu,b as uw,c as Vl}from"../js/chunk-CyxAs4C6.js";import{G as cw,C as Qm,A as jA,a as kA,b as CA,D as TA,c as AA,d as wc,e as EA,M as MA,f as dw,g as LA,E as Hh,V as RA,h as fw,L as DA,i as nc,j as zA,P as io,k as Gl,l as Fl,m as hw,H as ui,n as OA,o as Sc,p as as,q as tv,r as nv,s as NA,S as _c,t as BA,T as PA,u as IA,v as UA,w as ic,x as VA,y as GA,z as mw,B as FA,F as Zm,W as qA,I as HA,J as $A,K as KA,N as YA,O as XA,Q as WA,R as QA,U as ZA,X as JA,Y as e2,Z as iv,_ as t2,$ as n2,a0 as i2,a1 as r2,a2,a3 as s2,a4 as l2,a5 as rv,a6 as o2,a7 as u2,a8 as c2,a9 as d2,aa as f2}from"../js/chunk-CAg44Zgt.js";(function(){var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{};e.SENTRY_RELEASE={id:"ba7d3cfce23f41097f343c1a83f9f2db3c72f794"}})();try{(function(){var e=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="06b909da-6153-47fb-8a47-5cb87b14197e",e._sentryDebugIdIdentifier="sentry-dbid-06b909da-6153-47fb-8a47-5cb87b14197e")})()}catch(e){}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function i(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=i(s);fetch(s.href,o)}})();function Jm(){return c.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:`linear-gradient(
          135deg,
          rgba(15, 23, 42, 0.9) 0%,
          rgba(30, 41, 59, 0.95) 20%,
          rgba(51, 65, 85, 0.9) 40%,
          rgba(30, 41, 59, 0.95) 60%,
          rgba(15, 23, 42, 0.9) 80%,
          rgba(2, 6, 23, 0.95) 100%
        )`,zIndex:9999,fontFamily:"'Roboto Fallback', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif"},children:[c.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255, 255, 255, 0.1)",borderLeft:"4px solid #0abde3",borderRadius:"50%",animation:"app-skeleton-spin 1.4s linear infinite",marginBottom:"24px"}}),c.jsx("div",{style:{fontSize:"1.25rem",fontWeight:600,letterSpacing:"-0.025em",color:"#0abde3",textAlign:"center",fontFamily:"'Roboto Fallback', -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif"},children:"Loading..."})]})}const pw=_.createContext({initializing:!0,hasUser:!1}),h2=()=>_.useContext(pw);function m2({children:e}){const[t,i]=_.useState(!0),[a,s]=_.useState(!1);return _.useEffect(()=>{setTimeout(()=>{const u=!!(localStorage.getItem("firebase:authUser:")||sessionStorage.getItem("firebase:authUser:")||document.cookie.includes("firebase-auth"));s(u),i(!1)},50)},[]),c.jsx(pw.Provider,{value:{initializing:t,hasUser:a},children:e})}const{customTiles:ci}=dr;ci.hook("creating",function(e,t,i){t.locale===void 0&&(t.locale="en"),t.gameMode===void 0&&(t.gameMode="online"),t.isCustom===void 0&&(t.isCustom=1)});const gw=async e=>{const t=e.map(i=>({...i,isEnabled:1}));return await ci.bulkAdd(t)},yw=e=>{const t=["locale","gameMode","group","intensity","tag","isCustom","action"];let i=ci.toCollection();return Object.entries(e).filter(([s])=>t.includes(s)).forEach(([s,o])=>{o==null||o===""||(s==="tag"?i=i.filter(u=>u.tags.includes(o)):i=i.filter(u=>u[s]===o))}),i},Oi=async(e={})=>{try{return await yw(e).toArray()}catch(t){return console.error("Error in getTiles:",t),[]}},$h=async e=>{const{page:t=1,limit:i=50}=e;try{const a=yw(e),s=await a.count(),o=(t-1)*i;return{items:await a.offset(o).limit(i).toArray(),total:s,page:t,limit:i,totalPages:Math.ceil(s/i)}}catch(a){return console.error("Error in getPaginatedTiles:",a),{items:[],total:0,page:t,limit:i,totalPages:0}}},xw=(e="en",t="online")=>ci.where("locale").equals(e).and(i=>i.gameMode===t),bw=async(e="en",t="online",i=null)=>{let a=xw(e,t);return i&&(a=a.and(o=>o.tags.some(u=>i.includes(u)))),(await a.toArray()).reduce((o,u)=>{const d=u.group;o[d]||(o[d]={count:0,intensities:{}}),o[d].count++;const h=Number(u.intensity);return o[d].intensities[h]||(o[d].intensities[h]=0),o[d].intensities[h]++,o},{})},jc=(e=null)=>{const t=Hr.resolvedLanguage||Hr.language||"en";let i=ci.where("locale").equals(t).and(a=>a.isEnabled===1);return e&&(i=i.and(a=>a.gameMode===e)),i.toArray()},ro=async e=>await ci.add({...e,isEnabled:1}),ep=async(e,t)=>await ci.update(e,t),vw=async e=>{const t=await ci.get(e);if(!t)throw new Error(`Custom tile with id ${e} not found`);return await ci.update(e,{isEnabled:t.isEnabled?0:1})};async function ww(){try{return await dr.customTiles.where("isCustom").equals(1).delete(),!0}catch(e){return console.error("Error deleting custom tiles:",e),!1}}const Sw=async e=>{await ci.delete(e)},_w=(e,t="en",i="online")=>xw(t,i).and(a=>a.group===e),jw=async(e,t="en",i="online")=>{try{return await _w(e,t,i).count()}catch(a){return console.error("Error counting tiles by group:",a),0}},kw=async(e,t="en",i="online")=>{try{return await _w(e,t,i).delete()}catch(a){return console.error("Error deleting tiles by group:",a),0}},p2=Object.freeze({__proto__:null,addCustomTile:ro,countTilesByGroup:jw,deleteAllIsCustomTiles:ww,deleteCustomTile:Sw,deleteCustomTilesByGroup:kw,getActiveTiles:jc,getPaginatedTiles:$h,getTileCountsByGroup:bw,getTiles:Oi,importCustomTiles:gw,toggleCustomTile:vw,updateCustomTile:ep}),{gameBoard:Ri}=dr,Cw=()=>Ri.orderBy("title").toArray(),kc=async()=>{var e;return(e=Ri.where("isActive").equals(1))==null?void 0:e.first()},g2=async e=>Ri.add(e),Kh=async(e,t)=>Ri.update(e.id,{...e,...t}),ao=async e=>{var t,i;const a={title:e.title===void 0?"":e.title,tiles:e.tiles||[],isActive:e.isActive===void 0?1:e.isActive,tags:e.tags||[],gameMode:e.gameMode||"online"};if(!((t=a==null?void 0:a.title)!=null&&t.length)&&((i=a==null?void 0:a.tiles)!=null&&i.length))return;const s=await Ri.where("title").equals(a.title).first();return dr.transaction("rw",dr.gameBoard,async()=>(a.isActive&&await b2(),s?(await Kh(s,e),s.id):await g2(a)))},y2=async e=>{const i=(await Ri.toArray()).map(a=>({...a,isActive:a.id===e?1:0}));await Ri.bulkPut(i)},x2=async e=>{await Ri.delete(e)},b2=async()=>{await Ri.where("isActive").equals(1).modify({isActive:0})},v2="None",w2=3e4,av=500,so=wA();async function S2(){const t=Zn().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await Oi({isCustom:1});return await bc(no(so,"user-data",t.uid),{customTiles:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing custom tiles:",i),!1}}async function _2(){const t=Zn().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await Pl();return await bc(no(so,"user-data",t.uid),{customGroups:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing custom groups:",i),!1}}async function j2(){const t=Zn().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=await Cw();return i.length&&await bc(no(so,"user-data",t.uid),{gameBoards:i,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing game boards:",i),!1}}async function k2(){const t=Zn().currentUser;if(!t)return console.error("No user logged in"),!1;try{const{settings:i}=mc.getState(),{localPlayers:a,...s}=i;return await bc(no(so,"user-data",t.uid),{settings:s,lastUpdated:new Date},{merge:!0}),!0}catch(i){return console.error("Error syncing settings:",i),!1}}async function eh(){return await S2(),await _2(),await j2(),await k2(),!0}async function Yh(){const t=Zn().currentUser;if(!t)return console.error("No user logged in"),!1;try{const i=no(so,"user-data",t.uid),a=await SA(i);if(!a.exists())return!1;const s=a.data();if(s.customTiles!==void 0&&(await ww(),await new Promise(o=>setTimeout(o,av)),s.customTiles&&s.customTiles.length>0))for(const o of s.customTiles)try{(await Oi({gameMode:o.gameMode,group:o.group,intensity:o.intensity,action:o.action})).length===0&&await ro(o)}catch(u){console.error("Error importing custom tile:",o,u)}if(s.customGroups!==void 0&&(await yT(),await new Promise(o=>setTimeout(o,av)),s.customGroups&&s.customGroups.length>0))try{await xT(s.customGroups)}catch(o){console.error("Error importing custom groups:",o)}if(s.gameBoards&&s.gameBoards.length>0)for(const o of s.gameBoards)await ao({title:o.title,tiles:o.tiles,tags:o.tags||[],gameMode:o.gameMode||"online",isActive:o.isActive||0});if(s.settings)try{const{updateSettings:o}=mc.getState(),u=s.settings;o(u)}catch(o){console.error("Error importing settings:",o)}return!0}catch(i){return console.error("Error syncing data:",i),!1}}let Bu=null;function sv(e=5){Sl();const t=e*60*1e3;return Bu=window.setInterval(async()=>{const i=Zn();i.currentUser&&!i.currentUser.isAnonymous&&await Yh()},t),!0}function Sl(){return Bu?(window.clearInterval(Bu),Bu=null,!0):!1}const lo=Pt.createContext(void 0);function C2(e){const[t,i]=_.useState(null),[a,s]=_.useState(!1),[o,u]=_.useState(!0),[d,h]=_.useState(null),[m,g]=_.useState({syncing:!1,lastSync:null}),p=_.useRef(null),x=_.useRef(!1),v=_.useCallback(async P=>{if(p.current&&(clearTimeout(p.current),p.current=null),!t||t.isAnonymous)return!1;try{return g({syncing:!0,lastSync:m.lastSync}),await P(),g({syncing:!1,lastSync:new Date}),!0}catch(L){return console.error("Sync error:",L),L instanceof Error?h(L.message):h("An unknown error occurred"),g({syncing:!1,lastSync:m.lastSync}),!1}},[t,p,g,m.lastSync,h]);async function w(P=""){try{h(null);const L=await Y1(P);if(!L){const B=new Error("Login failed: No user returned from Firebase");throw qh("auth_context_no_user",B,{authentication:{step:"auth_context_no_user",displayName:P}}),h(B.message),B}return i(L),L}catch(L){const B=sr(L);throw qh("auth_context_login_failed",L,{authentication:{step:"auth_context_login_failed",displayName:P}}),h(B),L}}async function S(P,L){try{s(!0);const B=await K1(P,L);return i(B),B}catch(B){const G=sr(B);throw h(G),B}finally{s(!1)}}async function C(){try{s(!0);const P=await $1();return i(P),P}catch(P){const L=sr(P);throw h(L),P}finally{s(!1)}}async function j(P,L,B){try{s(!0);const G=await H1(P,L,B);return i(G),G}catch(G){const Y=sr(G);throw h(Y),G}finally{s(!1)}}async function M(P){try{return await ST(P),!0}catch(L){const B=sr(L);throw h(B),L}}const T=_.useCallback(async(P,L)=>{try{s(!0);const B=await bT(P,L);return i(B),await v(eh),B}catch(B){throw B instanceof Error&&h(B.message),B}finally{s(!1)}},[s,i,v,h]);async function D(P=""){try{const L=await _T(P);return i(L),L}catch(L){const B=sr(L);throw h(B),L}}const A=_.useCallback(async()=>{try{if(t&&!t.isAnonymous){const P=v(eh),L=new Promise(B=>setTimeout(B,5e3,!1));await Promise.race([P,L])}await vT(),i(null)}catch(P){const L=sr(P);throw h(L),P}},[t,v,i,h]),E=_.useCallback(async()=>{try{await wT(),i(null),window.location.reload()}catch(P){const L=sr(P);throw h(L),P}},[i,h]),z=_.useCallback(async()=>v(eh),[v]);_.useEffect(()=>{const L=Zn().onAuthStateChanged(B=>{if(i(B||null),x.current||(x.current=!0,u(!1)),B&&!B.isAnonymous){const G=()=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{g({syncing:!0,lastSync:null});let Y;try{Y=Yh?Yh():Promise.resolve(!1)}catch(ee){console.warn("syncDataFromFirebase is not available:",ee),Y=Promise.resolve(!1)}(!Y||typeof Y.then!="function")&&(Y=Promise.resolve(!1)),Y.then(()=>{g({syncing:!1,lastSync:new Date}),sv&&sv()}).catch(ee=>{console.error("Error syncing from Firebase:",ee),g({syncing:!1,lastSync:null})}).finally(()=>{p.current=null})},1e3)};typeof window!="undefined"&&"requestIdleCallback"in window?window.requestIdleCallback(G,{timeout:5e3}):setTimeout(G,100)}else Sl&&Sl()});return window.authContext={user:null},()=>{typeof L=="function"&&L(),p.current&&clearTimeout(p.current),Sl&&Sl(),window.authContext=void 0}},[]),_.useEffect(()=>{const P=window;P.authContext&&(P.authContext.user=t)},[t]);const N=_.useMemo(()=>({user:t,loading:a,initializing:o,error:d,syncStatus:m,login:w,loginEmail:S,loginGoogle:C,register:j,updateUser:D,forgotPassword:M,convertToRegistered:T,logout:A,wipeAllData:E,syncData:z,isAnonymous:(t==null?void 0:t.isAnonymous)||!1}),[t,a,o,d,m,T,A,E,z]);return c.jsx(lo.Provider,{value:N,...e})}function ss(e){if(!e)return null;try{if(typeof e.toDate=="function")return e.toDate();if(typeof e=="string"){const t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid serialized timestamp format");return t}else if(typeof e=="number"){const t=e<3250368e4?e*1e3:e,i=new Date(t);if(isNaN(i.getTime()))throw new Error("Invalid numeric timestamp format");return i}else if(typeof e=="object"&&e.seconds!==void 0){const t=e,i=new Date(t.seconds*1e3+(t.nanoseconds||0)/1e6);if(isNaN(i.getTime()))throw new Error("Invalid Firestore timestamp object format");return i}else{if(e instanceof Date)return e;throw console.warn("Unsupported timestamp format:",typeof e,e),new Error(`Unsupported timestamp format: ${typeof e}`)}}catch(t){return console.warn("Failed to parse timestamp:",t),null}}function th(e){return e.sort((t,i)=>{const a=ss(t.timestamp),s=ss(i.timestamp);return!a||!s?0:a.getTime()-s.getTime()})}function Cc(e){return JSON.parse(JSON.stringify(e)).reverse()}function Kr(e,t){return Cc(e).find(i=>i.type===t)}function Tw(e,t,i="ASC"){let a=Cc(e);return i==="DESC"&&(a=a.reverse()),a.filter(s=>s.type===t)}function T2(e,t){return Cc(e).find(t)}function A2(e){return Cc(e)[0]}const E2={messages:[],loading:!0,error:null,room:null,paginationCursor:null},M2=Wm()(X1((e,t)=>({...E2,loadMessages:i=>{const s=th(i);e({messages:s,loading:!1,error:null})},addMessage:i=>{const{messages:a}=t();if(a.find(d=>d.id===i.id))return;const o=[...a,i],u=th(o);e({messages:u})},updateMessage:(i,a)=>{const{messages:s}=t();let o=!1;const u=s.map(d=>{if(d.id===i){const h={...d,...a};if(Object.keys(a).some(g=>d[g]!==a[g]))return o=!0,h}return d});if(o){const d=th(u);e({messages:d})}},clearMessages:()=>{e({messages:[],loading:!1,error:null})},setLoading:i=>{const{loading:a}=t();a!==i&&e({loading:i})},setError:i=>{const{error:a}=t();a!==i&&e({error:i})},setRoom:i=>{const{room:a}=t();a!==i&&e({room:i})},setPaginationCursor:i=>{const{paginationCursor:a}=t();a!==i&&e({paginationCursor:i})},getMessagesByType:i=>{const{messages:a}=t(),s=[];for(let o=0;o<a.length;o++)a[o].type===i&&s.push(a[o]);return s},getLatestMessage:()=>{const{messages:i}=t();return A2(i)},getLatestMessageByType:i=>{const{messages:a}=t();return Kr(a,i)},getFilteredMessages:i=>{const{messages:a}=t(),s=[];for(let o=0;o<a.length;o++)i(a[o])&&s.push(a[o]);return s},getOrderedMessagesByType:(i,a="ASC")=>{const{messages:s}=t();return Tw(s,i,a)}}),{name:"messages-storage",partialize:e=>({messages:e.messages,room:e.room,paginationCursor:e.paginationCursor}),onRehydrateStorage:()=>e=>{if(e){const t=new Date;t.setHours(t.getHours()-24);const i=e.messages.filter(a=>{try{const s=ss(a.timestamp);if(!s)throw console.warn(`Failed to parse timestamp for message ${a.id}:`,typeof a.timestamp,a.timestamp),new Error(`Failed to parse timestamp for message ${a.id}`);return s>t}catch(s){return console.warn(`Failed to parse message timestamp for message ID ${a.id}:`,s.message),!0}});i.length!==e.messages.length&&e.loadMessages(i)}}})),Aw=Pt.createContext(void 0);function lv(e){const{id:t}=tn(),{messages:i,loading:a,loadMessages:s,setLoading:o,setRoom:u,clearMessages:d}=M2();_.useEffect(()=>{if(o(!0),u(t||null),!t){d();return}return jT(t,m=>{s(m)})},[t,s,o,u,d]);const h={messages:i,isLoading:a};return c.jsx(Aw.Provider,{value:h,...e})}const ov=50,Ew=Wm((e,t)=>({onlineUsers:{},loading:!1,error:null,room:null,_performanceMetrics:{lastUpdateTime:Date.now(),updateCount:0,averageUpdateInterval:0},_pendingUpdates:{},_batchTimeout:null,setUsers:i=>{const a=Date.now();e(s=>{const o=a-s._performanceMetrics.lastUpdateTime,u=s._performanceMetrics.updateCount+1,d=(s._performanceMetrics.averageUpdateInterval*s._performanceMetrics.updateCount+o)/u;return{onlineUsers:i,loading:!1,error:null,_performanceMetrics:{lastUpdateTime:a,updateCount:u,averageUpdateInterval:d}}})},addUser:(i,a)=>{const s=t();s._pendingUpdates[i]=a,s._batchTimeout&&clearTimeout(s._batchTimeout);const o=setTimeout(()=>{s.flushPendingUpdates()},ov);e({_batchTimeout:o})},removeUser:i=>{const a=t();a._pendingUpdates[i]=null,a._batchTimeout&&clearTimeout(a._batchTimeout);const s=setTimeout(()=>{a.flushPendingUpdates()},ov);e({_batchTimeout:s})},batchUpdateUsers:i=>e(a=>{const s={...a.onlineUsers};Object.entries(i).forEach(([m,g])=>{if(g===null){const{[m]:p,...x}=s;Object.assign(s,x)}else s[m]=g});const o=Date.now(),u=o-a._performanceMetrics.lastUpdateTime,d=a._performanceMetrics.updateCount+1,h=(a._performanceMetrics.averageUpdateInterval*a._performanceMetrics.updateCount+u)/d;return{onlineUsers:s,_performanceMetrics:{lastUpdateTime:o,updateCount:d,averageUpdateInterval:h}}}),flushPendingUpdates:()=>{const i=t();Object.keys(i._pendingUpdates).length!==0&&(i.batchUpdateUsers(i._pendingUpdates),e(()=>({_pendingUpdates:{}})))},clearUsers:()=>e(()=>({onlineUsers:{},loading:!1,error:null,_pendingUpdates:{}})),setLoading:i=>e(()=>({loading:i})),setError:i=>e(()=>({error:i,loading:!1})),setRoom:i=>e(()=>({room:i})),getUsersByRoom:i=>{const a=t();return a.onlineUsers},getActiveUserCount:()=>{const i=t();return Object.keys(i.onlineUsers).length},getPerformanceMetrics:()=>t()._performanceMetrics}));function L2(e){if(!e||typeof e!="object")return!1;const t=e;return typeof t.displayName=="string"&&typeof t.uid=="string"&&(t.lastSeen instanceof Date||typeof t.lastSeen=="number"||typeof t.lastSeen=="string")}const R2=Pt.createContext(void 0);function uv(e){const{id:t}=tn(),{onlineUsers:i,setUsers:a,setRoom:s,clearUsers:o,flushPendingUpdates:u}=Ew(),d=_.useRef(null),h=_.useRef(t),m=_.useRef(()=>{});_.useEffect(()=>{m.current=v=>{if(v===null)o();else{const w={};Object.entries(v).forEach(([S,C])=>{if(L2(C)){const j={...C,lastSeen:C.lastSeen instanceof Date?C.lastSeen:new Date(C.lastSeen)};w[S]=j}else console.warn(`Invalid user data for uid ${S}:`,C)}),a(w)}}},[a,o]);const g=_.useCallback(v=>{var w;(w=m.current)==null||w.call(m,v)},[]),p=_.useCallback(()=>{d.current&&(d.current(),d.current=null),u()},[u]);_.useEffect(()=>{if(h.current!==t&&(s(t||null),h.current=t),!t){p(),o();return}p();const v=kT(t,g,i);return d.current=v||null,p},[t,s,o,g,p]),_.useEffect(()=>p,[p]);const x=_.useMemo(()=>({onlineUsers:i}),[i]);return c.jsx(R2.Provider,{value:x,...e})}function D2({onSuccess:e,onSwitchToRegister:t,onSwitchToForgotPassword:i,isLinking:a=!1}){const{t:s}=ce(),[o,u]=_.useState(""),[d,h]=_.useState(""),[m,g]=_.useState(""),[p,x]=_.useState(!1),v=async w=>{w.preventDefault(),g(""),x(!0);try{await K1(o,d),e&&e()}catch(S){console.error("Login error:",S),g(S.message||"Failed to sign in")}finally{x(!1)}};return c.jsxs(H,{component:"form",onSubmit:v,sx:{mt:1},children:[m&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:m}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:s("email"),name:"email",autoComplete:"email",autoFocus:!0,value:o,onChange:w=>u(w.target.value)}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:s("password"),type:"password",id:"password",autoComplete:"current-password",value:d,onChange:w=>h(w.target.value)}),c.jsx(fe,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:p,children:p?c.jsx(hn,{size:24}):a?c.jsx(K,{i18nKey:"linkAccount",children:"Link Account"}):c.jsx(K,{i18nKey:"signIn"})}),c.jsxs(q,{align:"center",children:[c.jsx(fe,{onClick:t,variant:"text",children:c.jsx(K,{i18nKey:"needAccount"})})," | ",c.jsx(fe,{onClick:i,variant:"text",children:c.jsx(K,{i18nKey:"forgotPassword"})})]})]})}function z2({onSuccess:e,onSwitchToLogin:t,isAnonymous:i=!1}){const{t:a}=ce(),[s,o]=_.useState(""),[u,d]=_.useState(""),[h,m]=_.useState(""),[g,p]=_.useState(""),[x,v]=_.useState(""),[w,S]=_.useState(!1),C=async j=>{if(j.preventDefault(),v(""),h!==g){v(a("passwordsDoNotMatch")||"Passwords do not match");return}S(!0);try{await H1(u==null?void 0:u.trim(),h,s==null?void 0:s.trim()),e&&e()}catch(M){console.error("Registration error:",M),v(M.message||"Failed to create account")}finally{S(!1)}};return c.jsxs(H,{component:"form",onSubmit:C,sx:{mt:1},children:[x&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:x}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,id:"displayName",label:a("displayName"),name:"displayName",autoComplete:"name",autoFocus:!0,value:s,onChange:j=>o(j.target.value)}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:a("email"),name:"email",autoComplete:"email",value:u,onChange:j=>d(j.target.value)}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:a("password"),type:"password",id:"password",autoComplete:"new-password",value:h,onChange:j=>m(j.target.value)}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,name:"confirmPassword",label:a("confirmPassword"),type:"password",id:"confirmPassword",autoComplete:"new-password",value:g,onChange:j=>p(j.target.value)}),c.jsx(fe,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:w,children:w?c.jsx(hn,{size:24}):i?c.jsx(K,{i18nKey:"linkAccount"}):c.jsx(K,{i18nKey:"createAccount"})}),c.jsx(q,{align:"center",children:c.jsx(fe,{onClick:t,variant:"text",children:c.jsx(K,{i18nKey:"alreadyHaveAccount"})})})]})}function O2({onSuccess:e,isLinking:t=!1}){const[i,a]=_.useState(""),[s,o]=_.useState(!1),u=async()=>{a(""),o(!0);try{await $1(),e&&e()}catch(d){a(d.message||"Failed to sign in with Google")}finally{o(!1)}};return c.jsxs(H,{sx:{mt:2,mb:2},children:[i&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:i}),c.jsx(xt,{sx:{mb:2},children:c.jsx(q,{variant:"body2",color:"text.secondary",children:c.jsx(K,{i18nKey:"or",children:"OR"})})}),c.jsx(fe,{fullWidth:!0,variant:"outlined",startIcon:c.jsx(cw,{}),onClick:u,disabled:s,sx:{mb:1},"aria-busy":s,"aria-live":"polite",children:s?c.jsx(hn,{size:24}):t?Ie("linkWithGoogle","Link with Google"):Ie("signInWithGoogle","Sign in with Google")})]})}function tp(){const e=_.useContext(lo);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function di({close:e}){return c.jsx(We,{"aria-label":"close",onClick:e,sx:{position:"absolute",right:8,top:8},children:c.jsx(Qm,{})})}function mn(e="sm"){const t=fi();return Hm(t.breakpoints.down(e))}function Mw({children:e,open:t,close:i=null,isMobile:a=null,title:s=null,isLoading:o=!1,maxWidth:u="md",fullWidth:d=!1,ariaLabelledby:h,ariaDescribedby:m,actions:g}){const p=mn(),x=a!==null?a:p;return o?null:c.jsxs($t,{fullScreen:x,open:t,maxWidth:u,fullWidth:d,"aria-labelledby":h,"aria-describedby":m,children:[c.jsxs(en,{children:[s,typeof i=="function"&&c.jsx(di,{close:i})]}),c.jsx(Kt,{children:e}),g&&c.jsx($r,{sx:{p:2,gap:1},children:g})]})}function N2({onToggleForm:e}){const[t,i]=_.useState(""),[a,s]=_.useState(""),[o,u]=_.useState(!1),[d,h]=_.useState(!1),{forgotPassword:m}=tp(),g=async p=>{p.preventDefault(),s(""),u(!1),h(!0);try{await m(t),u(!0)}catch(x){s(x.message||"Failed to send reset email")}finally{h(!1)}};return c.jsxs(H,{component:"form",onSubmit:g,sx:{mt:1},children:[a&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:a}),o&&c.jsx(Ut,{severity:"success",sx:{mb:2},children:c.jsx(K,{i18nKey:"resetEmailSent"})}),c.jsx(He,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:c.jsx(K,{i18nKey:"email"}),name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:p=>i(p.target.value)}),c.jsx(fe,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:d,children:d?c.jsx(hn,{size:24}):c.jsx(K,{i18nKey:"sendResetLink"})}),c.jsx(H,{sx:{textAlign:"center"},children:c.jsx(fe,{variant:"text",onClick:()=>e("login"),children:c.jsx(K,{i18nKey:"backToLogin"})})})]})}function Lw({open:e,close:t,initialView:i="login"}){const[a,s]=_.useState(i),{isAnonymous:o}=tp(),{t:u}=ce(),d=()=>{switch(a){case"login":return u(o?"linkAccount":"signIn");case"register":return u("createAccount");case"reset":return u("resetPassword");default:return u("Authentication")}};return c.jsxs(Mw,{title:d(),open:e,close:t,children:[a==="login"&&c.jsxs(c.Fragment,{children:[c.jsx(D2,{onSwitchToRegister:()=>s("register"),onSwitchToForgotPassword:()=>s("reset"),onSuccess:t,isLinking:o}),c.jsx(O2,{onSuccess:t,isLinking:o})]}),a==="reset"&&c.jsx(N2,{onToggleForm:s}),a==="register"&&c.jsx(z2,{onSwitchToLogin:()=>s("login"),onSuccess:t,isAnonymous:o})]})}const Yr=yc(e=>c.jsx(Xu,{disableGutters:!0,elevation:0,square:!0,...e}))(({theme:e})=>({border:`1px solid ${e.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),Xr=yc(Wu)(({theme:e})=>({padding:e.spacing(2),borderTop:`1px solid ${e.palette.divider}`})),Wr=yc(e=>c.jsx(Qu,{expandIcon:c.jsx(jA,{sx:{fontSize:"0.9rem"}}),...e}))(({theme:e})=>({backgroundColor:e.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(148, 163, 184, .08)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:e.spacing(1)}}));function Rw(){const{t:e}=ce(),[t,i]=_.useState(!1),a=s=>(o,u)=>{i(u?s:!1)};return c.jsxs(H,{className:"game-guide",children:[c.jsx(H,{className:"hero-section",children:c.jsxs(K,{i18nKey:"gameDesc",children:[c.jsx(q,{variant:"h5",className:"hero-title gradient-text-flame",children:"Transform Your Intimate Adventures"}),c.jsx(q,{variant:"body1",className:"hero-subtitle",children:"Blitzed Out is the ultimate customizable adult experience platform. Whether you're exploring solo, spicing things up as a couple, or hosting an unforgettable party — this is your playground."}),c.jsx(q,{variant:"body1",className:"hero-subtitle",children:"Create personalized experiences with endless customization, join private rooms, or discover new adventures with a vibrant community."})]})}),c.jsx(xt,{className:"section-divider"}),c.jsxs(H,{className:"features-section",children:[c.jsx(q,{variant:"h6",className:"section-title",children:c.jsx(K,{i18nKey:"whySpecialTitle"})}),c.jsxs(H,{className:"features-grid",children:[c.jsx(H,{className:"feature-item",children:c.jsxs(K,{i18nKey:"customizationFeature",children:[c.jsx(H,{className:"feature-icon",children:"🎲"}),c.jsx(q,{variant:"subtitle1",className:"feature-title",children:"Unlimited Customization"}),c.jsx(q,{variant:"body2",className:"feature-description",children:"Create your perfect experience with custom boards, actions, and intensity levels tailored to your desires."})]})}),c.jsx(H,{className:"feature-item",children:c.jsxs(K,{i18nKey:"privacyFeature",children:[c.jsx(H,{className:"feature-icon",children:"🔒"}),c.jsx(q,{variant:"subtitle1",className:"feature-title",children:"Complete Privacy Control"}),c.jsx(q,{variant:"body2",className:"feature-description",children:"Private rooms, local play options, and anonymous sessions. Your privacy and comfort come first."})]})}),c.jsx(H,{className:"feature-item",children:c.jsxs(K,{i18nKey:"varietyFeature",children:[c.jsx(H,{className:"feature-icon",children:"🌟"}),c.jsx(q,{variant:"subtitle1",className:"feature-title",children:"Endless Variety"}),c.jsx(q,{variant:"body2",className:"feature-description",children:"From gentle exploration to intense adventures — with community-created content and regular updates."})]})})]})]}),c.jsxs(Yr,{expanded:t==="panel1",onChange:a("panel1"),className:"about-accordion",children:[c.jsx(Wr,{"aria-controls":"panel1-content",id:"panel1-header",children:c.jsx(q,{className:"accordion-title",children:c.jsx(K,{i18nKey:"gettingStartedTitle"})})}),c.jsxs(Xr,{children:[c.jsx(q,{variant:"body1",sx:{mb:2},children:e("gettingStartedMainText")}),c.jsx(q,{variant:"body2",className:"helpful-tip",children:e("gettingStartedTip")})]})]})]})}function Dw(){const e=Pt.useContext(CT);if(!e)throw new Error("ScheduleContext's value is undefined.");return e}const B2="/img/blitzed-out-DGhYHOgx.png";window.__castApiInitialized=window.__castApiInitialized||!1;window.__castScriptLoading=window.__castScriptLoading||!1;function P2(){const[e,t]=_.useState(!1),[i,a]=_.useState(null),{id:s}=tn(),o=_.useRef(null),[u,d]=_.useState(!1),[h,m]=_.useState(!1),g=_.useCallback((v=!1)=>{t(!1),a(null),v&&m(!1)},[]),p=_.useCallback(v=>{try{const w=`${window.location.origin}/${s}/cast`;v.sendMessage("urn:x-cast:com.blitzedout.app",{type:"LOAD",url:w})}catch(w){console.error("Error sending cast message:",w)}},[s]);_.useEffect(()=>{const v=()=>{var S,C,j,M;try{if(!((S=window==null?void 0:window.cast)!=null&&S.framework))return;if(window.__castApiInitialized){d(!0),w();return}window.cast.framework.CastContext.getInstance().setOptions({receiverApplicationId:"1227B8DE",autoJoinPolicy:(M=(j=(C=window.chrome)==null?void 0:C.cast)==null?void 0:j.AutoJoinPolicy)==null?void 0:M.ORIGIN_SCOPED}),window.__castApiInitialized=!0,d(!0),w()}catch(T){console.error("Error initializing Cast API:",T)}},w=()=>{var S,C,j;try{const M=(C=(S=window.cast)==null?void 0:S.framework)==null?void 0:C.CastContext.getInstance();if(!M)return;const T=M.getCurrentSession();if(T&&(t(!0),a(T),s&&p(T)),!((j=window==null?void 0:window.cast)!=null&&j.framework))return;M.addEventListener(window.cast.framework.CastContextEventType.SESSION_STATE_CHANGED,D=>{var A,E,z,N,P,L;const B=M.getCurrentSession();switch(D.sessionState){case((E=(A=window.cast)==null?void 0:A.framework)==null?void 0:E.SessionState.SESSION_STARTED):case((N=(z=window.cast)==null?void 0:z.framework)==null?void 0:N.SessionState.SESSION_RESUMED):h||(t(!0),a(B),B&&s&&p(B));break;case((L=(P=window.cast)==null?void 0:P.framework)==null?void 0:L.SessionState.SESSION_ENDED):g(!0);break;default:D.sessionState==="SESSION_ENDING"&&g();break}})}catch(M){console.error("Error setting up session listener:",M)}};if(window.chrome&&window.chrome.cast&&window.cast)v();else if(window.__onGCastApiAvailable=function(S){S&&v()},!document.querySelector('script[src*="cast_sender.js"]')&&!window.__castScriptLoading){window.__castScriptLoading=!0;const S=document.createElement("script");S.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",S.onload=()=>{window.__castScriptLoading=!1},S.onerror=()=>{window.__castScriptLoading=!1,console.error("Failed to load Cast SDK")},document.head.appendChild(S)}return()=>{}},[s,p,h,g]);const x=()=>{var v,w,S,C;if(!u){console.warn("Cast API not ready yet");return}if(e){m(!0),g();try{const j=(w=(v=window.cast)==null?void 0:v.framework)==null?void 0:w.CastContext.getInstance();j&&j.endCurrentSession(!0),i&&i.endSession(!0)}catch(j){}}else{m(!1);try{const j=(C=(S=window.cast)==null?void 0:S.framework)==null?void 0:C.CastContext.getInstance();j&&j.requestSession().catch(M=>console.error("Error requesting cast session:",M))}catch(j){console.error("Error requesting cast session:",j)}}};return _.useEffect(()=>{e&&i&&s&&p(i)},[s,e,i,p]),u?c.jsx(Vt,{title:e?Ie("stopCasting"):Ie("startCasting"),children:c.jsx(We,{ref:o,onClick:x,color:e?"primary":"default",children:e?c.jsx(kA,{}):c.jsx(CA,{})})}):null}const I2={light:AA,dark:TA};function U2({size:e="medium",tooltip:t,"aria-label":i}){const{resolvedThemeMode:a,toggleTheme:s}=TT(),{t:o}=ce(),u=I2[a],d=()=>{s()},h=()=>t||(a==="light"?o("theme.switchToDark","Switch to dark theme"):o("theme.switchToLight","Switch to light theme")),m=()=>i||`Toggle theme, currently ${a}`;return c.jsx(Vt,{title:h(),arrow:!0,children:c.jsx(We,{onClick:d,size:e,"aria-label":m(),sx:{transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)",backgroundColor:"action.hover"},"& .MuiSvgIcon-root":{transition:"transform 0.3s ease"},"&:hover .MuiSvgIcon-root":{transform:"rotate(180deg)"}},children:c.jsx(u,{})})})}function V2(e){const t=e==null?void 0:e.replace(/([A-Z])/g," $1").trim();return t?t.charAt(0).toUpperCase()+t.slice(1):""}function Tl(e){return{id:`simple-tab-${e}`,"aria-controls":`simple-tabpanel-${e}`}}function zw(e){var t;const i=(e==null?void 0:e.split(/\r?\n/))||[];return(t=i[i.length-1])==null?void 0:t.split(":")[1]}function Ow(e,t){var i;const a=new RegExp(`\\d+\\s${t}`,"g");return(i=e.match(a))==null?void 0:i.filter((s,o,u)=>u.indexOf(s)===o)}function nt(e){return(e==null?void 0:e.toUpperCase())==="PUBLIC"}function Qt(e){return e==="online"}function pr({children:e,open:t,close:i,type:a="error",hideCloseButton:s=!1,vertical:o="bottom",horizontal:u="center",disableAutoHide:d=!1}){const{t:h}=ce(),m=(p,x)=>{x!=="clickaway"&&i()},g=!s&&c.jsx(We,{size:"small","aria-label":h("close"),onClick:m,children:c.jsx(Qm,{fontSize:"small"})});return c.jsx($m,{children:c.jsx(UT,{open:t,autoHideDuration:d?6e4:4e3,onClose:m,action:g,anchorOrigin:{vertical:o,horizontal:u},TransitionComponent:VT,children:c.jsx(Ut,{onClose:s?void 0:m,severity:a,sx:{width:"100%"},children:e})})})}function G2(e){const t=e==null?void 0:e.split(".");return!t||(t==null?void 0:t.length)<2?!1:t==null?void 0:t[t.length-1]}function F2(e){const t=G2(e);return typeof t=="string"&&["mp4","webm","mkv","flv","avi","mov","wmv","mpg","mv4"].includes(t)}function q2(e){return e?e!=null&&e.startsWith("http")?e:F2(e)?`/videos/${e}`:`/images/${e}`:""}function Nw(e){return new URL(e).hostname.replace("www.","").replace(".com","").replace(".net","").replace(".gg","")}function H2(e){if(!e||typeof e!="string")return!1;try{const t=e.trim();if(!t)return!1;const i=new URL(t);if(!["http:","https:"].includes(i.protocol))return!1;let a;try{a=decodeURIComponent(i.pathname)}catch(s){return!1}return!(a.includes("../")||a.includes("..\\")||!i.hostname||i.hostname.includes("..")||i.pathname==="/"&&!i.search&&!i.hash)}catch(t){return!1}}function $2({title:e,date:t,url:i,description:a="",location:s="",baseUrl:o="https://blitzedout.com/PUBLIC",downloadIcs:u,buttonSx:d={}}){const h=fi(),{t:m}=ce(),[g,p]=_.useState(null),x=!!g,v=A=>{p(A.currentTarget)},w=()=>{p(null)},S=()=>e||m("calendar.gameTitle"),C=()=>{u(S(),t,i,j()),w()},j=()=>{let A=`${S()}`;return o&&(A+=`
${o}`),i&&(A+=`

${m("calendar.videoLink")}: ${i}`),a&&(A+=`

${a}`),A},M=()=>{const A=t.toISOString().replace(/-|:|\.\d+/g,""),E=new Date(t.getTime()+3600*1e3).toISOString().replace(/-|:|\.\d+/g,""),z="https://calendar.google.com/calendar/render",N=new URLSearchParams({action:"TEMPLATE",text:S(),dates:`${A}/${E}`,details:j()});return(s||i)&&N.append("location",s||i||""),`${z}?${N.toString()}`},T=()=>{const A="https://outlook.live.com/calendar/0/deeplink/compose",E=new URLSearchParams({path:"/calendar/action/compose",rru:"addevent",subject:S(),startdt:t.toISOString(),enddt:new Date(t.getTime()+36e5).toISOString(),body:j()});return(s||i)&&E.append("location",s||i||""),`${A}?${E.toString()}`},D=()=>{const A=Math.floor(t.getTime()/1e3),E=Math.floor((t.getTime()+3600*1e3)/1e3),z="https://calendar.yahoo.com/",N=new URLSearchParams({v:"60",title:S(),st:A.toString(),et:E.toString(),desc:j()});return(s||i)&&N.append("in_loc",s||i||""),`${z}?${N.toString()}`};return c.jsxs(c.Fragment,{children:[c.jsx(fe,{variant:"outlined",size:"small",startIcon:c.jsx(wc,{fontSize:"small"}),onClick:v,"aria-controls":x?"calendar-menu":void 0,"aria-haspopup":"true","aria-expanded":x?"true":void 0,sx:{borderColor:Xn(h.palette.secondary.main,.3),color:h.palette.secondary.main,"&:hover":{borderColor:h.palette.secondary.main,backgroundColor:Xn(h.palette.secondary.main,.05)},...d},children:m("calendar.addToCalendar")}),c.jsxs(Zu,{id:"calendar-menu",anchorEl:g,open:x,onClose:w,MenuListProps:{"aria-labelledby":"calendar-button",dense:!0},children:[c.jsxs(pe,{onClick:C,children:[c.jsx(Wn,{children:c.jsx(EA,{fontSize:"small"})}),c.jsx(cn,{children:m("calendar.downloadIcs")})]}),c.jsxs(pe,{component:"a",href:M(),target:"_blank",rel:"noopener noreferrer",onClick:w,children:[c.jsx(Wn,{children:c.jsx(cw,{fontSize:"small"})}),c.jsx(cn,{children:m("calendar.googleCalendar")})]}),c.jsxs(pe,{component:"a",href:T(),target:"_blank",rel:"noopener noreferrer",onClick:w,children:[c.jsx(Wn,{children:c.jsx(MA,{fontSize:"small"})}),c.jsx(cn,{children:m("calendar.outlookCalendar")})]}),c.jsxs(pe,{component:"a",href:D(),target:"_blank",rel:"noopener noreferrer",onClick:w,children:[c.jsx(Wn,{children:c.jsx(dw,{fontSize:"small"})}),c.jsx(cn,{children:m("calendar.yahooCalendar")})]}),c.jsxs(pe,{onClick:C,children:[c.jsx(Wn,{children:c.jsx(LA,{fontSize:"small"})}),c.jsx(cn,{children:m("calendar.appleCalendar")})]})]})]})}const K2=(e,t,i,a)=>{const s=new Date(t.getTime()+36e5),o=m=>m.toISOString().replace(/-|:|\.\d+/g,"").slice(0,15)+"Z",u=o(t),d=o(s);let h=["BEGIN:VCALENDAR","VERSION:2.0","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`DTSTART:${u}`,`DTEND:${d}`,`SUMMARY:${e}`,`DESCRIPTION:${(a==null?void 0:a.replace(/\n/g,"\\n"))||e}`,"STATUS:CONFIRMED"];return i&&h.push(`URL:${i}`),h=h.concat(["END:VEVENT","END:VCALENDAR"]),h.join(`\r
`)},Y2=(e,t,i,a)=>{const s=K2(e,t,i,a),o=new Blob([s],{type:"text/calendar;charset=utf-8"}),u=document.createElement("a");u.href=URL.createObjectURL(o),u.download=`blitzed-out-game-${t.toISOString().split("T")[0]}.ics`,document.body.appendChild(u),u.click(),document.body.removeChild(u)},X2=e=>{try{const{href:t}=new URL(e),i=Nw(e);return c.jsx(fe,{href:t,target:"_blank",rel:"noreferrer",variant:"outlined",size:"small",startIcon:e.includes("meet")||e.includes("zoom")?c.jsx(RA,{}):c.jsx(fw,{}),children:i})}catch(t){return null}};function W2({game:e}){const t=fi(),{t:i}=ce(),a=e.dateTime.toDate(),s=new Date().toDateString()===a.toDateString(),o=a.getTime()-new Date().getTime()<1440*60*1e3&&a>new Date;return c.jsxs(Ee,{container:!0,spacing:2,alignItems:"center",children:[c.jsx(Ee,{size:12,children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(Hh,{fontSize:"small",color:s?"secondary":"action",sx:{opacity:s?1:.7}}),c.jsxs(H,{sx:{display:"flex",gap:2},children:[c.jsx(q,{variant:"body2",fontWeight:s?"bold":"normal",children:a.toLocaleString([],{weekday:"short",month:"short",day:"numeric"})}),c.jsx(q,{variant:"body2",color:"text.secondary",children:a.toLocaleString([],{hour:"numeric",minute:"2-digit"})})]}),o&&c.jsx(at,{label:i("soon"),size:"small",color:"primary",sx:{height:20,fontSize:"0.7rem",ml:1,borderRadius:1,fontWeight:"bold",backgroundColor:Xn(t.palette.success.main,.8)}})]})}),c.jsx(Ee,{size:12,children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.url?X2(e.url):c.jsx(q,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic",fontSize:"0.85rem"},children:i("noLinkProvided")}),c.jsx($2,{title:i("calendar.gameTitle"),date:a,url:e.url,downloadIcs:Y2,buttonSx:{ml:1}})]})})]})}function Bw({open:e,close:t,isMobile:i}){const{t:a}=ce(),[s,o]=_.useState(""),{schedule:u,addToSchedule:d}=Dw(),h=fr().add(2,"week"),m=fi(),g=_.useCallback(()=>{o(null)},[]),p=_.useCallback(x=>{x.preventDefault();const v=x.currentTarget,w=v.elements.namedItem("date-time"),S=new Date(w.value),j=v.elements.namedItem("link").value;if(!S||!(S instanceof Date)){o(a("scheduleValidation.selectDateTime"));return}if(S<fr().toDate()){o(a("scheduleValidation.selectFutureDateTime"));return}if(u.find(M=>M.dateTime.toDate().toUTCString()===S.toUTCString())){o(a("scheduleValidation.gameAlreadyScheduled"));return}if(S>h.toDate()){o(a("scheduleValidation.selectWithinTwoWeeks"));return}if(j&&!j.startsWith("http")){o(a("scheduleValidation.enterValidUrl"));return}d(S,j),v.reset()},[u,d,h,a]);return c.jsx(c.Fragment,{children:c.jsxs(DA,{dateAdapter:AT,children:[c.jsx($t,{fullScreen:i,open:e,onClose:t,maxWidth:"md",children:c.jsxs("form",{onSubmit:p,children:[c.jsxs(en,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(wc,{color:"primary"}),c.jsx(q,{variant:"h5",component:"span",fontWeight:"bold",children:c.jsx(K,{i18nKey:"schedule"})}),c.jsx(di,{close:t})]}),c.jsxs(Kt,{children:[c.jsxs(yt,{elevation:3,sx:{mb:4,background:Xn(m.palette.primary.main,.05),border:`1px solid ${Xn(m.palette.primary.main,.1)}`,borderRadius:2,overflow:"visible",position:"relative"},children:[c.jsx(Ju,{title:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(Hh,{color:"primary"}),c.jsx(q,{variant:"h6",fontWeight:"bold",children:a("upcomingGames")})]}),sx:{pb:1,borderBottom:`1px solid ${Xn(m.palette.divider,.1)}`}}),c.jsx(jt,{sx:{p:2},children:u.length?c.jsx(It,{spacing:2,children:u==null?void 0:u.map(x=>c.jsx(ew,{elevation:1,sx:{p:1.5,borderRadius:1.5},children:c.jsx(W2,{game:x})},x.id))}):c.jsxs(H,{sx:{p:3,textAlign:"center",color:Xn(m.palette.text.primary,.6),borderRadius:1,background:Xn(m.palette.background.paper,.5)},children:[c.jsx(q,{variant:"body1",children:a("noPlannedGames")}),c.jsx(q,{variant:"body2",sx:{mt:1,fontSize:"0.85rem"},children:a("scheduleFirstGame")})]})})]}),c.jsxs(yt,{elevation:2,sx:{background:Xn(m.palette.background.paper,.7),borderRadius:2},children:[c.jsx(Ju,{title:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(nc,{color:"secondary"}),c.jsx(q,{variant:"h6",fontWeight:"bold",children:c.jsx(K,{i18nKey:"scheduleGame"})})]}),sx:{pb:1,borderBottom:`1px solid ${Xn(m.palette.divider,.1)}`}}),c.jsx(jt,{children:c.jsxs(It,{spacing:3,sx:{mt:1},children:[c.jsx(zA,{name:"date-time",label:a("dateTime"),closeOnSelect:!1,disablePast:!0,maxDate:h,timeSteps:{minutes:30},sx:{width:"100%"},slotProps:{textField:{variant:"outlined",fullWidth:!0}}}),c.jsx(He,{label:a("camUrl"),variant:"outlined",name:"link",fullWidth:!0,placeholder:"https://...",helperText:a("optionalLinkHelper")}),c.jsx(fe,{variant:"contained",type:"submit",fullWidth:!0,size:"large",startIcon:c.jsx(Hh,{}),sx:{mt:2,py:1.2,borderRadius:1.5,fontWeight:"bold",textTransform:"none",boxShadow:m.shadows[4],"&:hover":{boxShadow:m.shadows[8]}},children:c.jsx(K,{i18nKey:"schedule"})})]})})]})]})]})}),c.jsx(pr,{open:!!s,close:g,children:s})]})})}const ql={en:{label:"English",voice:"Google UK English Male"},es:{label:"Español",voice:"Google español de Estados Unidos"},fr:{label:"Français",voice:"Google français"},zh:{label:"中文",voice:"Google 中文（中国大陆）"},hi:{label:"हिन्दी",voice:"Google हिन्दी"}};function Q2({open:e,onClose:t,onConfirm:i,onCancel:a,title:s,message:o,confirmText:u,cancelText:d,severity:h="info",confirmColor:m="primary"}){const{t:g}=ce(),p=mn(),x=()=>{a?a():t()},v=async()=>{try{await i(),t()}catch(w){console.error("Confirmation action failed:",w)}};return c.jsxs($t,{open:e,onClose:t,fullScreen:p,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"confirmation-dialog-title","aria-describedby":"confirmation-dialog-description",children:[c.jsx(en,{id:"confirmation-dialog-title",children:s}),c.jsxs(Kt,{children:[h!=="info"&&c.jsxs(Ut,{severity:h,sx:{mb:2},children:[h==="warning"&&g("warning"),h==="error"&&g("error"),h==="success"&&g("success")]}),c.jsx(GT,{id:"confirmation-dialog-description",children:o})]}),c.jsxs($r,{sx:{p:2,gap:1},children:[c.jsx(fe,{onClick:x,variant:"outlined",fullWidth:p,children:d||g("cancel")}),c.jsx(fe,{onClick:v,variant:"contained",color:m,fullWidth:p,autoFocus:!0,children:u||g("confirm")})]})]})}function Z2({open:e,onClose:t,onRebuildBoard:i,onKeepBoard:a,fromLanguage:s,toLanguage:o}){var u,d;const{t:h}=ce(),m=((u=ql[s])==null?void 0:u.label)||s,g=((d=ql[o])==null?void 0:d.label)||o,p=()=>{i(),t()},x=()=>{a(),t()};return c.jsx(Q2,{open:e,onClose:t,onConfirm:p,onCancel:x,title:c.jsx(K,{i18nKey:"languageChangeTitle"}),message:c.jsxs(c.Fragment,{children:[c.jsx(K,{i18nKey:"languageChangeMessage",values:{fromLanguage:m,toLanguage:g}}),c.jsx("br",{}),c.jsx("br",{}),c.jsx(K,{i18nKey:"languageChangeExplanation"})]}),confirmText:h("rebuildBoardAction"),cancelText:h("keepCurrentBoard"),severity:"info",confirmColor:"primary"})}function J2(e){const{t}=Hr;let i=`### ${t("roomSettings")}\r
`;return Object.entries(e).forEach(([a,s])=>{if(a!=="room"){if(a==="roomBackgroundURL"&&s!==""){i+=`* ${t(a)}: [${Nw(s)}:link:](${s})\r
`;return}if(a==="roomRealtime"){i+=`* ${t("playerList")}: ${t(s?"delayed":"realtime")}\r
`;return}s!==""&&(i+=`* ${t(a)}: ${s}\r
`)}}),i}function eE(e){const t={};return Object.entries(e).forEach(([i,a])=>{i.startsWith("room")&&!["roomUpdated","roomBackground","roomBackgroundURL"].includes(i)&&(t[i]=a)}),e.roomBackgroundURL&&e.roomBackgroundURL.trim()!==""&&(t.roomBackgroundURL=e.roomBackgroundURL),t}async function tE(e,t,i){let a=e;return t!==void 0&&t.length>0&&(a=await i(t)),a}function Pw(e,t){const i=eE(e);return qr({room:e.room,user:t,text:J2(i),type:"room",settings:JSON.stringify(i)})}const nE=()=>({debug:(e,...t)=>{console.debug(`[DEBUG] ${e}`,...t)},info:(e,...t)=>{console.info(`[INFO] ${e}`,...t)},warn:(e,t,...i)=>{const a=typeof t=="boolean"?i:[t,...i];console.warn(`[WARN] ${e}`,...a)},critical:(e,...t)=>{console.warn(`[CRITICAL] ${e}`,...t)},error:(e,...t)=>{console.error(`[ERROR] ${e}`,...t)}}),dn=nE(),Xh=50,Wh=100,Qh=50,Zh=1,Jh=10,em=1,tm=10,Iw=["none","all","default","undefined","null"],iE=["solo","foreplay","sex","consumption"],rE=(e,t="en",i="online",a)=>{const s=[],o=[];if(!e||e.trim().length===0)return s.push("Group name is required"),{isValid:!1,errors:s,warnings:o};const u=e.trim();return u.length>Xh&&s.push(`Group name must be ${Xh} characters or less`),Iw.includes(u.toLowerCase())&&s.push(`"${u}" is a reserved name and cannot be used`),/^[a-zA-Z0-9_-]+$/.test(u)||s.push("Group name can only contain letters, numbers, hyphens, and underscores"),/^[a-zA-Z]/.test(u)||s.push("Group name must start with a letter"),{isValid:s.length===0,errors:s,warnings:o}},Uw=e=>{const t=[],i=[];return!e||e.trim().length===0?(t.push(Ie("groupLabelRequired")),{isValid:!1,errors:t,warnings:i}):(e.trim().length>Wh&&t.push(`Group label must be ${Wh} characters or less`),{isValid:t.length===0,errors:t,warnings:i})},aE=e=>{const t=[],i=[];if(!e||e.length===0)return t.push("At least one intensity level is required"),{isValid:!1,errors:t,warnings:i};e.length<em&&t.push(`At least ${em} intensity level is required`),e.length>tm&&t.push(`Maximum ${tm} intensity levels allowed`);const a=new Set,s=new Set;for(let d=0;d<e.length;d++){const h=e[d];if((!h.id||h.id.trim().length===0)&&t.push(`Intensity level ${d+1} is missing an ID`),!h.label||h.label.trim().length===0)t.push(`Intensity level ${d+1} is missing a label`);else{const m=h.label.trim();m.length>Qh&&t.push(`Intensity level ${d+1} label must be ${Qh} characters or less`),s.has(m.toLowerCase())?t.push(`Intensity label "${m}" is used multiple times`):s.add(m.toLowerCase())}typeof h.value!="number"||!Number.isInteger(h.value)?t.push(`Intensity level ${d+1} must have a valid integer value`):((h.value<Zh||h.value>Jh)&&t.push(`Intensity level ${d+1} value must be between ${Zh} and ${Jh}`),a.has(h.value)?t.push(`Intensity value ${h.value} is used multiple times`):a.add(h.value))}const o=Array.from(a).sort((d,h)=>d-h);let u=o[0];for(const d of o){if(d!==u){i.push("Intensity values are not sequential. Consider using values like 1, 2, 3, 4 for better user experience");break}u++}return{isValid:t.length===0,errors:t,warnings:i}},Vw=async(e,t)=>{const i=[],a=[],s=rE(e.name,e.locale||"en",e.gameMode||"online");i.push(...s.errors),a.push(...s.warnings||[]);const o=Uw(e.label);i.push(...o.errors),a.push(...o.warnings||[]);const u=aE(e.intensities);if(i.push(...u.errors),a.push(...u.warnings||[]),s.isValid&&e.name)try{await ET(e.name,e.locale||"en",e.gameMode||"online",t)||i.push(`A group with the name "${e.name}" already exists for this locale and game mode`)}catch(d){a.push("Could not verify group name uniqueness"),dn.warn("Failed to check group name uniqueness:",!1,d instanceof Error?d.message:"Unknown error")}return{isValid:i.length===0,errors:i,warnings:a}},cv=async(e,t="en",i="online")=>{const a=[],s=[];if(!e.group||e.group.trim().length===0)return a.push("Tile must belong to a group"),{isValid:!1,errors:a,warnings:s};try{const o=await es(e.group,t,i);if(!o)return a.push(`Group "${e.group}" does not exist for ${t}/${i}`),{isValid:!1,errors:a,warnings:s};const u=o.intensities.map(d=>d.value);u.includes(e.intensity)||a.push(`Intensity ${e.intensity} is not valid for group "${e.group}". Valid intensities: ${u.join(", ")}`),(!e.action||e.action.trim().length===0)&&a.push("Tile action is required")}catch(o){a.push(`Error validating tile: ${o}`)}return{isValid:a.length===0,errors:a,warnings:s}},Gw=()=>({MAX_GROUP_NAME_LENGTH:Xh,MAX_GROUP_LABEL_LENGTH:Wh,MAX_INTENSITY_LABEL_LENGTH:Qh,MIN_INTENSITY_VALUE:Zh,MAX_INTENSITY_VALUE:Jh,MIN_INTENSITIES_COUNT:em,MAX_INTENSITIES_COUNT:tm,RESERVED_GROUP_NAMES:Iw,VALID_GROUP_TYPES:iE});function sE(e,t){return e!==null&&typeof e=="object"&&typeof t=="string"&&t in e}function lE(e,t,i){const a=e.selectedActions||{},s=Object.entries(i).filter(([u])=>a[u]).reduce((u,[d,h])=>{const m=a[d].levels||[],g=Object.keys(h.actions);return u[d]=m.map(p=>g[p]).filter(Boolean),u},{});return((t==null?void 0:t.filter(u=>{if(!u.isCustom)return!1;const d=s[u.group];return d&&d.length>=Number(u.intensity)}))||[]).length}async function oE(e,t,i,a){const{t:s}=Hr;let o=`### ${Hr.t("gameSettingsHeading")}\r
`;a&&(o+=`##### ${a}\r
`),o+=`--- \r
`;const u=e.selectedActions||{};if(Object.entries(i).forEach(([m,g])=>{if(!u[m])return;const{role:p,variation:x,levels:v}=u[m],w=p||e.role||"sub";if(v&&v.length>0){o+=g==null?void 0:g.label;let S=null;x?S=s(x):Qt(e.gameMode)||(S=sE(g,w)?g[w]:s(w)),S&&(o+=`: ${S}`),o+=`\r
`;const C=(g==null?void 0:g.intensities)||{};v.forEach(j=>{const M=C[j]||`Level ${j}`;o+=`* ${M}\r
`}),o+=`\r
`}}),e.customGroups&&Array.isArray(e.customGroups)){for(const m of e.customGroups)if(m.groupName&&m.intensity)try{const g=await es(m.groupName,e.locale||"en",e.gameMode||"online"),p=(g==null?void 0:g.label)||m.groupName;o+=`* ${p}: Level ${m.intensity} (Custom)\r
`}catch(g){console.error(`Error loading custom group ${m.groupName}:`,g),o+=`* ${m.groupName}: Level ${m.intensity} (Custom)\r
`}}if(o.endsWith(`--- \r
`))return"";const{finishRange:d}=e;if(o+=`--- \r
`,d){const m=d[0],g=d[1]-d[0],p=100-d[1],v=[m>0?{percent:m,text:s("noCum")}:null,g>0?{percent:g,text:s("ruined")}:null,p>0?{percent:p,text:s("cum")}:null].filter(w=>w!==null);v.length===1&&v[0].percent===100?o+=`* ${s("finishSlider")} ${v[0].text.replace(":","")} \r
`:v.length>0&&(o+=`* ${s("finishSlider")} \r
\r
`,v.forEach(w=>{const S=w.percent===100?w.text.replace(":",""):`${w.text} ${w.percent}%`;o+=`  - ${S} \r
`}))}const h=lE(e,t,i);return h&&(o+=`* ${s("customTilesLabel")}: ${h} \r
`),o}function uE(e){const t={};return Object.entries(e).forEach(([i,a])=>{!["displayName","background","boardUpdated","chatSound","mySound","otherSound","othersDialog","playerDialog","readRoll","hideBoardActions","advancedSettings"].includes(i)&&!i.startsWith("room")&&(t[i]=a)}),t}async function np({title:e,formData:t,user:i,actionsList:a,tiles:s,customTiles:o=[],reason:u=""}){const d=JSON.stringify(uE(t)),h=await W1({title:e,gameBoard:JSON.stringify(s),settings:d}),m=await oE(t,o,a,u);if(!(!(h!=null&&h.id)||m===""))return qr({room:(t==null?void 0:t.room)||"PUBLIC",user:i,text:m,type:"settings",gameBoardId:h.id,boardSize:s.length,gameMode:t.gameMode})}function En(){const e=_.useContext(lo);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function nm(e){for(let t=e.length-1;t>0;t-=1){const i=Math.floor(Math.random()*(t+1));[e[t],e[i]]=[e[i],e[t]]}return e}function dv(e,t){return(e==null?void 0:e.length)!==(t==null?void 0:t.length)?!1:e.every((i,a)=>i===t[a])}var cE=Object.defineProperty,dE=(e,t,i)=>t in e?cE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,fv=(e,t,i)=>dE(e,typeof t!="symbol"?t+"":t,i);const{t:Ga}=Hr;class fE{constructor(t){fv(this,"bags",new Map),fv(this,"originalTiles",new Map);const i=new Map;t.forEach(a=>{const s=`${a.group}-${a.intensity}`;i.has(s)||i.set(s,[]),i.get(s).push(a)}),i.forEach((a,s)=>{const o=[...a];nm(o),this.bags.set(s,o),this.originalTiles.set(s,[...a])})}getTile(t,i){const a=`${t}-${i}`;let s=this.bags.get(a);if(!s||s.length===0){const o=this.originalTiles.get(a);if(!o||o.length===0)return null;s=[...o],nm(s),this.bags.set(a,s)}return s.pop()||null}}function hE(e,t,i=[]){return e.filter(a=>{const s=a.action,o=i.find(u=>u.name===a.group);return(o==null?void 0:o.type)==="consumption"||(o==null?void 0:o.type)==="solo"?!0:t==="vers"?s.includes("{sub}")&&s.includes("{dom}")||s.includes("{player}"):!s.match(/{(dom|sub)}/)||s.includes(`{${t}}`)})}const hv=new Map;function mE(e,t,i){const a=`${e}-${t}-${i}`,s=hv.get(a);if(s!==void 0)return s;const o=e/t,u=Math.floor(i/o)+1;return hv.set(a,u),u}function Fw(e,t,i,a,s,o){if(!e.length)return{title:"",description:""};const u=e[0],d=i[u.name];if(!d||!d.levels||d.levels.length===0)return{title:"",description:""};if(d.variation){const v=d.variation==="appendSome"?.4:d.variation==="appendMost"?.9:1;if(d.variation!=="standalone"&&Math.random()>v)return{title:"",description:""}}const h=Math.max(...u.intensities.map(v=>v.value)),m=mE(s,h,a),g=d.levels;let p;g.includes(m)?p=m:p=g.reduce((v,w)=>Math.abs(w-m)<Math.abs(v-m)?w:v);let x=t.getTile(u.name,p);if(!x){const v=g.filter(w=>w!==p);for(const w of v)if(x=t.getTile(u.name,w),x)break;if(!x)return{title:"",description:""}}return{title:u.label,description:x.action,standalone:d.variation==="standalone",role:o.role||"sub"}}function pE(e,t,i,a,s,o,u){if(e.standalone||!t.length||!e.description)return e.description||"";const d=Fw(t,i,a,s,o,u);return d.description?`${d.description.trim().replace(/([^.,!?])$/,"$1.")} ${e.description}`:e.description}async function gE(e,t,i,a){const s=i.selectedActions||{},o=new fE(t),u=e.filter(g=>{const p=s[g.name];return p&&p.levels&&p.levels.length>0&&(!p.variation||p.variation==="standalone")}),d=e.filter(g=>{const p=s[g.name];return p&&p.levels&&p.levels.length>0&&(p.variation==="appendSome"||p.variation==="appendMost")});nm(u);let h=0;const m=[];for(let g=1;g<=a;g++){const p=u.length>0?[u[h%u.length]]:[];h++;const x=Fw(p,o,s,g,a,i),v=pE(x,d,o,s,g,a,i);m.push({title:x.title,description:v.trim(),role:x.role})}return m}function nh(e,t){const i={title:Ga("start"),description:Ga("start")},{finishRange:a=[33,66]}=t,s=`${Ga("noCum")} ${a[0]}%\r
${Ga("ruined")} ${a[1]-a[0]}%\r
${Ga("cum")} ${100-a[1]}%`,o={title:Ga("finish"),description:s};return[i,...e.map(u=>({title:u.title,description:u.description})),o]}async function yE(e,t,i,a=40){try{const[s,o]=await Promise.all([Pl({locale:t,gameMode:i}),Oi({locale:t,gameMode:i})]),u=e.selectedActions||{},d=Object.keys(u).filter(j=>{var M;return((M=u[j])==null?void 0:M.levels)&&u[j].levels.length>0}),h=s.filter(j=>d.includes(j.name)),m=s.map(j=>j.name),g=d.filter(j=>!m.includes(j)),p=e.role||"sub",v=hE(o,p,s).filter(j=>d.includes(j.group));if(!h.length||!v.length)return{board:nh([],e),metadata:{totalTiles:a+2,tilesWithContent:2,selectedGroups:d,missingGroups:g,availableTileCount:v.length}};const w=await gE(h,v,e,a),S=w.filter(j=>j.description.trim().length>0).length,C=nh(w,e);return{board:C,metadata:{totalTiles:C.length,tilesWithContent:S+2,selectedGroups:d,missingGroups:g,availableTileCount:v.length}}}catch(s){return console.error("Error building game board:",s),{board:nh([],e),metadata:{totalTiles:2,tilesWithContent:2,selectedGroups:[],missingGroups:[],availableTileCount:0}}}}function ip(){const e=Li(kc),[t,i]=pn(),{i18n:a}=ce(),s=_.useCallback(async o=>{var u,d;const h=o!=null&&o.roomUpdate||o!=null&&o.boardUpdated?o:{...t,...o,selectedActions:{...t.selectedActions,...o.selectedActions}};let{gameMode:m,boardUpdated:g}=h;const{roomTileCount:p=40,finishRange:x,room:v}=h,w=nt(v||"");if(!o||!x)return{gameMode:m};w&&!Qt(m||"")&&(m="online",g=!0);const S=m||"online",C=a.resolvedLanguage||"en",j=w?40:p||40,M=await yE(h,C,S,j);return M.metadata.missingGroups.length>0&&console.warn("Missing groups for board building:",M.metadata.missingGroups),M.metadata.tilesWithContent<j/2&&console.warn("Low tile content ratio:",{tilesWithContent:M.metadata.tilesWithContent,totalTiles:M.metadata.totalTiles,availableTileCount:M.metadata.availableTileCount}),(o!=null&&o.boardUpdated||g||((d=(u=e==null?void 0:e.tiles)==null?void 0:u.length)!=null?d:0)!==M.board.length)&&(await i(h),await ao({title:(e==null?void 0:e.title)||"",tiles:M.board})),{settingsBoardUpdated:g,gameMode:m,newBoard:M.board,metadata:M.metadata}},[e,a.resolvedLanguage,t,i]);return _.useCallback(o=>s(o),[s])}var xE=Object.defineProperty,bE=(e,t,i)=>t in e?xE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,qw=(e,t,i)=>bE(e,typeof t!="symbol"?t+"":t,i);const Hw=class _l{constructor(){qw(this,"currentSession",null)}static getInstance(){return _l.instance||(_l.instance=new _l),_l.instance}async createSession(t,i,a){try{this.validateSessionInput(t,i,a);const s=Nu(),o=Date.now(),u=i.map(m=>{var g,p;return{...m,location:(g=m.location)!=null?g:0,isFinished:(p=m.isFinished)!=null?p:!1}}),d={id:s,roomId:t,players:u,currentPlayerIndex:0,isActive:!0,createdAt:o,updatedAt:o,settings:{...a}},h={sessionId:d.id,roomId:d.roomId,players:d.players,currentPlayerIndex:d.currentPlayerIndex,isActive:d.isActive,createdAt:d.createdAt,updatedAt:d.updatedAt,settings:d.settings};return await dr.localPlayerSessions.add(h),this.currentSession=d,d}catch(s){throw new Error(`Failed to create local player session: ${s instanceof Error?s.message:"Unknown error"}`)}}async getSession(t){try{if(!t)throw new Error("Session ID is required");const i=await dr.localPlayerSessions.where("sessionId").equals(t).first();return i?this.convertDbSessionToSession(i):null}catch(i){throw new Error(`Failed to get session: ${i instanceof Error?i.message:"Unknown error"}`)}}async updateSession(t,i){var a;try{if(!t)throw new Error("Session ID is required");const s=await this.getSession(t);if(!s)throw new Error("Session not found");const o={...s,...i,id:t,createdAt:s.createdAt,updatedAt:Date.now()},u={roomId:o.roomId,players:o.players,currentPlayerIndex:o.currentPlayerIndex,isActive:o.isActive,updatedAt:o.updatedAt,settings:o.settings};return await dr.localPlayerSessions.where("sessionId").equals(t).modify(u),((a=this.currentSession)==null?void 0:a.id)===t&&(this.currentSession=o),o}catch(s){throw new Error(`Failed to update session: ${s instanceof Error?s.message:"Unknown error"}`)}}async advanceLocalTurn(t){try{if(!t)throw new Error("Session ID is required");const i=await this.getSession(t);if(!i)throw new Error("Session not found");if(!i.isActive)throw new Error("Cannot advance turn on inactive session");if(i.players.length===0)throw new Error("No players in session");const a=(i.currentPlayerIndex+1)%i.players.length,s=i.players.map((u,d)=>({...u,isActive:d===a}));return(await this.updateSession(t,{players:s,currentPlayerIndex:a})).players[a]}catch(i){throw new Error(`Failed to advance turn: ${i instanceof Error?i.message:"Unknown error"}`)}}getCurrentSession(){return this.currentSession}async updatePlayerPosition(t,i,a,s=!1){try{if(!t)throw new Error("Session ID is required");if(!i)throw new Error("Player ID is required");if(a<0)throw new Error("Location must be non-negative");const o=await this.getSession(t);if(!o)throw new Error("Session not found");if(!o.isActive)throw new Error("Cannot update player position on inactive session");const u=o.players.findIndex(h=>h.id===i);if(u===-1)throw new Error(`Player with ID ${i} not found in session`);const d=[...o.players];return d[u]={...d[u],location:a,isFinished:s},await this.updateSession(t,{players:d}),d[u]}catch(o){throw new Error(`Failed to update player position: ${o instanceof Error?o.message:"Unknown error"}`)}}clearCurrentSession(){this.currentSession=null}validateSessionInput(t,i,a){if(!t||typeof t!="string")throw new Error("Valid room ID is required");if(!Array.isArray(i)||i.length<2||i.length>4)throw new Error("Session must have between 2 and 4 players");i.forEach((h,m)=>{if(!h.id||typeof h.id!="string")throw new Error(`Player at index ${m} must have a valid ID`);if(!h.name||typeof h.name!="string")throw new Error(`Player at index ${m} must have a valid name`);if(!["sub","dom","vers"].includes(h.role))throw new Error(`Player at index ${m} must have a valid role`);if(typeof h.location!="undefined"&&(typeof h.location!="number"||h.location<0))throw new Error(`Player at index ${m} must have a valid location (non-negative number)`)});const s=i.map(h=>h.id),o=new Set(s);if(s.length!==o.size)throw new Error("All players must have unique IDs");const u=i.map(h=>h.name.toLowerCase()),d=new Set(u);if(u.length!==d.size)throw new Error("All players must have unique names");if(!a||typeof a!="object")throw new Error("Valid settings object is required")}convertDbSessionToSession(t){return{id:t.sessionId,roomId:t.roomId,players:t.players,currentPlayerIndex:t.currentPlayerIndex,isActive:t.isActive,createdAt:t.createdAt,updatedAt:t.updatedAt,settings:t.settings}}};qw(Hw,"instance");let vE=Hw;const Br=vE.getInstance(),$w=Wm()(X1((e,t)=>({session:null,error:null,isLoading:!1,hasLocalPlayers:()=>{const i=t().session;return(i==null?void 0:i.isActive)===!0&&i.players.length>0},isLocalPlayerRoom:()=>{const i=t().session;return(i==null?void 0:i.isActive)===!0},getCurrentPlayer:()=>{const i=t().session;if(!(i!=null&&i.isActive)||!i.players||i.players.length===0)return null;const a=i.currentPlayerIndex||0,s=i.players[a];if(!s)return null;const o={...s};return typeof o.location!="number"&&(o.location=0),typeof o.isFinished!="boolean"&&(o.isFinished=!1),o},setSession:i=>{const a=i?t()._migrateSession(i):null;e({session:a,error:null})},_migrateSession:i=>{if(!i||!i.players)return i;const a=i.players.map(s=>({...s,location:typeof s.location=="number"?s.location:0,isFinished:typeof s.isFinished=="boolean"?s.isFinished:!1,sound:s.sound||""}));return{...i,players:a}},clearSession:()=>{Br.clearCurrentSession(),e({session:null,error:null})},setError:i=>{e({error:i,isLoading:!1})},setLoading:i=>{e({isLoading:i})},initSession:async(i,a,s)=>{try{e({isLoading:!0,error:null});const o=await Br.createSession(i,a,s);e({session:o,isLoading:!1,error:null})}catch(o){const u=o instanceof Error?o.message:"Failed to create session";e({error:u,isLoading:!1,session:null})}},loadSession:async i=>{try{e({isLoading:!0,error:null});const a=await Br.getSession(i);e({session:a,isLoading:!1,error:null})}catch(a){const s=a instanceof Error?a.message:"Failed to load session";e({error:s,isLoading:!1,session:null})}},nextLocalPlayer:async()=>{try{e({isLoading:!0,error:null});const i=t().session;if(!i)throw new Error("No active session");await Br.advanceLocalTurn(i.id);const a=await Br.getSession(i.id);e({session:a,isLoading:!1,error:null})}catch(i){const a=i instanceof Error?i.message:"Failed to advance turn";e({error:a,isLoading:!1})}},updateSessionSettings:async i=>{try{e({isLoading:!0,error:null});const a=t().session;if(!a)throw new Error("No active session");const s=await Br.updateSession(a.id,{settings:i});e({session:s,isLoading:!1,error:null})}catch(a){const s=a instanceof Error?a.message:"Failed to update session settings";e({error:s,isLoading:!1})}}}),{name:"local-player-store",partialize:e=>({session:e.session}),onRehydrateStorage:()=>e=>{e&&(e.isLoading=!1,e.error=null)}}));function fs(){var e;const{session:t,error:i,isLoading:a,hasLocalPlayers:s,isLocalPlayerRoom:o,getCurrentPlayer:u,setSession:d,clearSession:h,setError:m,setLoading:g,initSession:p,loadSession:x,nextLocalPlayer:v,updateSessionSettings:w}=$w(),S=_.useMemo(()=>(t==null?void 0:t.players)||[],[t==null?void 0:t.players]),C=u(),j=(e=t==null?void 0:t.currentPlayerIndex)!=null?e:-1,M=t==null?void 0:t.settings,T=_.useCallback(async(Y,ee,le)=>{await p(Y,ee,le)},[p]),D=_.useCallback(async Y=>{await x(Y)},[x]),A=_.useCallback(async()=>{await v()},[v]),E=_.useCallback(()=>{h()},[h]),z=_.useCallback(async Y=>{await w(Y)},[w]),N=_.useCallback(Y=>Y>=0&&Y<S.length?S[Y]:null,[S]),P=_.useCallback(Y=>S.find(ee=>ee.id===Y)||null,[S]),L=_.useCallback(Y=>{const ee=P(Y);return(ee==null?void 0:ee.isActive)===!0},[P]),B=_.useCallback(()=>{if(S.length===0)return null;const Y=(j+1)%S.length;return N(Y)},[S,j,N]),G=_.useCallback(()=>{if(S.length===0)return null;const Y=j===0?S.length-1:j-1;return N(Y)},[S,j,N]);return{session:t,localPlayers:S,currentPlayer:C,currentPlayerIndex:j,sessionSettings:M,error:i,isLoading:a,hasLocalPlayers:s(),isLocalPlayerRoom:o(),playerCount:S.length,isValidSession:(t==null?void 0:t.isActive)===!0&&S.length>=2,createLocalSession:T,loadLocalSession:D,clearLocalSession:E,advanceToNextPlayer:A,updateSettings:z,getPlayerByIndex:N,getPlayerById:P,isPlayerActive:L,getNextPlayer:B,getPreviousPlayer:G,setSession:d,setError:m,setLoading:g}}function Zr(){const e=Pt.useContext(Aw);if(!e)throw new Error("MessagesContext's value is undefined.");return e}function wE(){const{id:e}=tn(),t=tw();return i=>{const a=e!==void 0&&(e==null?void 0:e.toUpperCase())!==(i==null?void 0:i.toUpperCase()),s=(i==null?void 0:i.replace(/^\/+/,""))||"PUBLIC";a&&t(`/${s}`)}}function SE(e){var t;const i=(t=e.roomBackgroundURL)==null?void 0:t.trim();i!==e.roomBackgroundURL&&(e.roomBackgroundURL=i||""),e.roomBackgroundURL&&!H2(e.roomBackgroundURL)&&(e.roomBackgroundURL="")}function _E(e){const t={...e},i={};e.selectedActions&&Object.entries(e.selectedActions).forEach(([s,o])=>{o&&o.levels&&o.levels.length>0&&(i[s]=o)});const a=Gw();return Object.keys(t).forEach(s=>{const o=t[s];o&&typeof o=="object"&&o.type&&a.VALID_GROUP_TYPES.includes(o.type)&&delete t[s]}),t.selectedActions=i,t}function rp(){const{user:e,updateUser:t}=En(),{id:i}=tn(),{t:a}=ce(),s=ip(),[o,u]=pn(),d=Li(()=>jc(o==null?void 0:o.gameMode)),h=Li(kc),m=wE(),{messages:g}=Zr(),{createLocalSession:p}=fs(),x=_.useCallback(w=>{var S;const C=(S=i||"")==null?void 0:S.toUpperCase(),j=(w.room||"").toUpperCase(),M=C!==j,T=!!(w.room&&!nt(w.room)),D=T&&w.roomTileCount!==(o==null?void 0:o.roomTileCount);return{roomChanged:M,isPrivateRoom:T,privateBoardSizeChanged:D}},[i,o==null?void 0:o.roomTileCount]),v=_.useCallback(async(w,S)=>{const{displayName:C}=w,j=await tE(e,C,t);SE(w);const{settingsBoardUpdated:M,gameMode:T,newBoard:D=[]}=await s(w),{roomChanged:A,isPrivateRoom:E,privateBoardSizeChanged:z}=x(w);if(!j)return;E&&(w.roomUpdated||!g.find(B=>B.type==="room"))&&await Pw(w,j),(h==null?void 0:h.tiles)!==D&&await ao({title:a("settingsGenerated"),tiles:D,isActive:1,gameMode:T}),(M||A||z)&&!g.some(B=>{var G;return B.type==="settings"&&B.uid===j.uid&&Date.now()-(((G=B.timestamp)==null?void 0:G.toMillis())||0)<5e3})&&await np({formData:w,user:j,customTiles:d,actionsList:S,title:"Settings Generated Board",tiles:D});const P=w;if(P.hasLocalPlayers&&P.localPlayersData&&P.localPlayerSessionSettings)try{await p(w.room,P.localPlayersData,P.localPlayerSessionSettings)}catch(B){console.error("Error creating local session:",B)}const L=_E(w);u({...L,boardUpdated:!1,roomUpdated:!1,gameMode:T}),m(w.room)},[e,t,s,x,g,h,a,d,u,m,p]);return _.useCallback((w,S)=>v(w,S),[v])}const ur=new Map,mv=w2;window.debugActionsCache=()=>{};window.clearActionsCache=()=>{ur.clear()};function Tc(e){const{i18n:t,t:i}=ce(),{currentLanguageMigrated:a,isHealthy:s,forceRecovery:o}=MT(),[u,d]=_.useState({}),[h,m]=_.useState(!0),[g,p]=_.useState(!1);_.useEffect(()=>{const w=()=>{e&&Array.from(ur.keys()).filter(C=>C.endsWith(`-${e}`)).forEach(C=>{ur.delete(C)})};return t.on("languageChanged",w),()=>{t.off("languageChanged",w)}},[t,e]);const x=_.useMemo(()=>!e||!t.resolvedLanguage?"":`${t.resolvedLanguage}-${e}`,[t.resolvedLanguage,e]);_.useEffect(()=>{a&&x&&ur.get(x)&&ur.delete(x)},[a,x]),_.useEffect(()=>{if(x){const w=ur.get(x);w&&Date.now()-w.timestamp<mv&&(d(w.data),m(!1))}},[x]);const v=_.useCallback(async()=>{if(!e||!x){console.warn("⚠️ useUnifiedActionList: Missing required params",{gameMode:e,cacheKey:x});return}if(!a)return;if(a&&!s&&!g){p(!0);try{await o();return}catch(S){}}const w=ur.get(x);if(w&&Date.now()-w.timestamp<mv){d(w.data),m(!1);return}m(!0);try{const S=await pc(t.resolvedLanguage,e),C={};for(const j of S){const M={[i("none")]:[]},T={};j.intensities&&Array.isArray(j.intensities)&&j.intensities.sort((A,E)=>A.value-E.value).forEach(A=>{M[A.label]=[],T[A.value]=A.label});const D=j.type||"action";C[j.name]={label:j.label||j.name,type:D,actions:M,intensities:T}}ur.set(x,{data:C,timestamp:Date.now()}),d(C)}catch(S){console.error("❌ useUnifiedActionList: Error loading unified actions",{error:S,locale:t.resolvedLanguage,gameMode:e,cacheKey:x}),d({})}finally{m(!1)}},[e,t.resolvedLanguage,x,i,a,s,g,o]);return _.useEffect(()=>{x&&a&&v()},[v,x,a,s]),{actionsList:u,isLoading:h}}function jE(e,t=!1,i=!1){if(t)return e;const a={...e};return i||delete a.useRoomBackground,a}function kE(e){return e?"roomBackground":"background"}function CE(e){return e?"roomBackgroundURL":"backgroundURL"}function TE({formData:e,setFormData:t,backgrounds:i,isRoom:a=!1,isPrivateRoom:s=!1}){const{t:o}=ce(),u=kE(a),d=CE(a),h=_.useMemo(()=>jE(i,a,s),[i,a,s]),m=e==null?void 0:e[u],[g,p]=_.useState(m||""),x=()=>[c.jsx(pe,{value:"",children:o(s?"useRoomBackground":"customTiles.color")},"empty"),...Object.entries(h).map(([C,j])=>c.jsx(pe,{value:C,children:j},C))],v=S=>{const C=S.target.value,j={...e,[u]:C};if(C!=="custom"){const M={...j,[d]:""};a&&(M.roomUpdated=!0),t(M),p(C);return}a&&(j.roomUpdated=!0),t(j),p(C)};_.useEffect(()=>{const S=m&&h[m]?m:"";g!==S&&p(S)},[g,m,h]);const w=S=>{const C={...e,[u]:"custom",[d]:S.target.value};a&&(C.roomUpdated=!0),t(C)};return c.jsxs(c.Fragment,{children:[c.jsxs(et,{fullWidth:!0,margin:"normal",children:[c.jsx(it,{id:"background-label",children:o("background")}),c.jsx(tt,{labelId:"background-label",id:"background",label:o("background"),value:g,onChange:v,displayEmpty:!0,children:x()})]}),g==="custom"&&c.jsx(He,{sx:{mt:2},label:o("url"),value:(e==null?void 0:e[d])||"",fullWidth:!0,onChange:w,helperText:c.jsxs(c.Fragment,{children:[o("supportedSites"),c.jsx("br",{}),o("requiresEmbeddedUrl")]})})]})}var AE=Object.defineProperty,EE=(e,t,i)=>t in e?AE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,ME=(e,t,i)=>EE(e,t+"",i);class LE{constructor(){ME(this,"voiceLoadPromise")}async waitForVoices(){return this.voiceLoadPromise?this.voiceLoadPromise:(this.voiceLoadPromise=new Promise(t=>{let i=window.speechSynthesis.getVoices();if(i.length>0){t(i);return}const a=()=>{i=window.speechSynthesis.getVoices(),i.length>0&&(window.speechSynthesis.removeEventListener("voiceschanged",a),t(i))};window.speechSynthesis.addEventListener("voiceschanged",a),setTimeout(()=>{window.speechSynthesis.removeEventListener("voiceschanged",a),t(window.speechSynthesis.getVoices())},3e3)}),this.voiceLoadPromise)}async getAvailableVoicesAsync(){return(await this.waitForVoices()).map(i=>({name:i.name,displayName:`${i.name} (${i.lang})`}))}async getPreferredVoiceAsync(){const t=await this.getAvailableVoicesAsync();return t.length>0?t[0].name:null}async speak(t,i,a=0){return new Promise((s,o)=>{if(!("speechSynthesis"in window)){o(new Error("Speech synthesis not supported"));return}const u=new SpeechSynthesisUtterance(t);if(u.pitch=a,i){const h=window.speechSynthesis.getVoices().find(m=>m.name===i);h&&(u.voice=h)}u.onend=()=>s(),u.onerror=d=>o(new Error(`Speech failed: ${d.error}`)),window.speechSynthesis.speak(u)})}stop(){var t;(t=window.speechSynthesis)!=null&&t.speaking&&window.speechSynthesis.cancel()}isAvailable(){return"speechSynthesis"in window}}const Hl=new LE,RE=()=>{const[e,t]=_.useState(!1),[i,a]=_.useState(!1),[s,o]=_.useState(null),u=_.useCallback(()=>{Hl.stop(),t(!1),a(!1)},[]),d=_.useCallback(async(h,m={})=>{try{a(!0),o(null),u(),t(!0),await Hl.speak(h,m.voice,m.pitch),a(!1),t(!1)}catch(g){const p=g instanceof Error?g.message:"TTS failed";o(p),t(!1),a(!1),console.error("TTS Error:",g)}},[u]);return _.useEffect(()=>()=>{u()},[u]),{speak:d,stop:u,isPlaying:e,error:s,isLoading:i}};function DE({formData:e,setFormData:t,onVoiceChange:i}){const{t:a}=ce(),[s,o]=_.useState([]),[u,d]=_.useState(!0),{speak:h}=RE(),m=e.voicePreference||"",g=_.useCallback(w=>{const S={...e,voicePreference:w};t(S),i==null||i(w)},[e,t,i]);_.useEffect(()=>{let w=!0;return(async()=>{try{if(w){d(!0);const C=await Hl.getAvailableVoicesAsync();if(w){const j=C.filter(M=>M.displayName.includes("Google")||M.name.includes("Google"));if(o(j),!m&&j.length>0){const M=await Hl.getPreferredVoiceAsync();M&&j.some(T=>T.name===M)&&w?g(M):w&&g(j[0].name)}d(!1)}}}catch(C){console.error("Failed to load voices:",C),w&&d(!1)}})(),()=>{w=!1}},[m,g]);const p=w=>{g(w.target.value)},x=async()=>{const w=m||(s.length>0?s[0].name:"");if(!w)return;const S=a("tts.sampleText","Take a drink and enjoy the game.");try{await h(S,{voice:w,pitch:-2})}catch(C){console.error("Failed to play sample:",C)}},v=w=>w.displayName.replace(/^Google\s+/i,"");return u?c.jsx(H,{sx:{py:1},children:c.jsx(q,{variant:"body2",color:"text.secondary",children:a("loadingVoices","Loading voices...")})}):s.length===0?c.jsx(H,{sx:{py:1},children:c.jsx(q,{variant:"body2",color:"text.secondary",children:a("noVoicesAvailable","No voices available for this language")})}):c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,py:1},children:[c.jsxs(et,{fullWidth:!0,size:"small",children:[c.jsx(it,{id:"voice-select-label",children:a("voiceSelection","Voice")}),c.jsx(tt,{labelId:"voice-select-label",value:m,label:a("voiceSelection","Voice"),onChange:p,children:s.map(w=>c.jsx(pe,{value:w.name,children:v(w)},w.name))})]}),c.jsx(Vt,{title:a("playSample","Play sample"),children:c.jsx(We,{onClick:x,color:"primary",disabled:!m,size:"small",children:c.jsx(io,{})})})]})}function zE({boardUpdated:e}){const{i18n:t}=ce(),[i,a]=_.useState(t.resolvedLanguage||"en"),[s,o]=_.useState(!1);async function u(h){o(!0),a(h);try{await t.changeLanguage(h),e()}catch(m){console.error("Error changing language:",m),await t.changeLanguage(h),e()}finally{o(!1)}}const d=Object.entries(ql).map(([h,m])=>c.jsx(pe,{value:h,children:m.label},h));return c.jsx(H,{sx:{minWidth:120,mt:1,mb:2},children:c.jsxs(et,{fullWidth:!0,children:[c.jsxs(it,{id:"language-label",sx:{display:"flex",alignItems:"center"},children:[c.jsx(Gl,{sx:{mr:1}}),c.jsx(K,{i18nKey:"language"})]}),c.jsx(tt,{labelId:"language-label",id:"language-select",value:i,disabled:s,label:c.jsxs(c.Fragment,{children:[c.jsx(Gl,{}),c.jsx(K,{i18nKey:"language"})]}),onChange:h=>u(h.target.value),endAdornment:s&&c.jsx(hn,{size:20}),MenuProps:{disableScrollLock:!0,BackdropProps:{invisible:!0},PaperProps:{style:{backdropFilter:"none",WebkitBackdropFilter:"none"}}},children:d})]})})}function Kw({trueCondition:e,onChange:t,yesLabel:i,noLabel:a=null,sx:s={}}){const o=a!=null?a:i;return c.jsx(H,{sx:{display:"flex",justifyContent:"center",my:1,...s},children:c.jsx(Ul,{control:c.jsx(Mi,{checked:e||!1,onChange:t}),label:Ie(e?i:o)})})}function lr({field:e,formData:t,handleSwitch:i}){return c.jsx(Kw,{trueCondition:t[e],onChange:a=>i(a,e),yesLabel:e,sx:{justifyContent:"left"}})}function OE({formData:e,setFormData:t,boardUpdated:i}){const[a,s]=pn(),o=!!(e.room&&!nt(e.room)),{t:u}=ce(),d={useRoomBackground:u("useRoomBackground"),color:u("color"),gray:u("gray"),"metronome.gif":u("hypnoDick"),"pink-spiral.gif":u("pinkSpiral"),custom:u("customURL")};function h(g,p){t({...e,[p]:g.target.checked}),s({...a,[p]:g.target.checked})}function m(g){s({...a,voicePreference:g})}return c.jsxs(c.Fragment,{children:[c.jsx(zE,{boardUpdated:i}),c.jsx(q,{variant:"h5",children:c.jsx(K,{i18nKey:"dialog"})}),c.jsx(lr,{field:"playerDialog",formData:e,handleSwitch:h}),c.jsx(lr,{field:"othersDialog",formData:e,handleSwitch:h}),c.jsx(xt,{}),c.jsx(q,{variant:"h5",sx:{mt:2},children:c.jsx(K,{i18nKey:"sounds"})}),c.jsx(lr,{field:"mySound",formData:e,handleSwitch:h}),c.jsx(lr,{field:"otherSound",formData:e,handleSwitch:h}),c.jsx(lr,{field:"chatSound",formData:e,handleSwitch:h}),c.jsx(lr,{field:"readRoll",formData:e,handleSwitch:h}),e.readRoll&&c.jsx(DE,{formData:e,setFormData:t,onVoiceChange:m}),c.jsx(xt,{}),c.jsx(q,{variant:"h5",sx:{mt:2,textTransform:"capitalize"},children:c.jsx(K,{i18nKey:"misc"})}),c.jsx(lr,{field:"hideBoardActions",formData:e,handleSwitch:h}),c.jsx(lr,{field:"advancedSettings",formData:e,handleSwitch:h}),c.jsx(TE,{formData:e,setFormData:t,backgrounds:d,isPrivateRoom:o}),c.jsx(xt,{})]})}function NE({formData:e,setFormData:t}){const i=(s,o)=>{t({...e,finishRange:o,boardUpdated:!0})},a=(e==null?void 0:e.finishRange)||[30,70];return c.jsxs(H,{children:[c.jsx(xt,{}),c.jsx(q,{id:"finish-slider",sx:{my:1},children:c.jsx(K,{i18nKey:"finishSlider"})}),c.jsx(FT,{"aria-labelledby":"finish-slider",value:a,onChange:i,valueLabelDisplay:"off"}),c.jsxs(H,{display:"flex",flexDirection:"column",justifyContent:"space-between",textAlign:"center",children:[c.jsxs(q,{whiteSpace:"nowrap",children:[c.jsx(K,{i18nKey:"noCum"})," ",a[0],"%"]}),c.jsxs(q,{whiteSpace:"nowrap",children:[c.jsx(K,{i18nKey:"ruined"})," ",a[1]-a[0],"%"]}),c.jsxs(q,{whiteSpace:"nowrap",children:[c.jsx(K,{i18nKey:"cum"})," ",100-a[1],"%"]})]}),c.jsx(xt,{sx:{my:1}})]})}function pv({children:e}){return c.jsx(Ee,{size:{xs:12,md:5},children:e})}function ih({children:e,title:t,subtitle:i,defaultExpanded:a=!1,hasSelectedOptions:s=!1,...o}){const u=fi();return c.jsxs(Xu,{defaultExpanded:a,...o,sx:{backgroundColor:"inherit",backgroundImage:"none",boxShadow:"none"},children:[c.jsx(Qu,{expandIcon:c.jsx(Fl,{}),sx:{px:0},children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[c.jsxs(q,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1,minWidth:"fit-content"},children:[t,":",s&&c.jsx(H,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:u.palette.primary.main,flexShrink:0}})]}),c.jsx(q,{sx:{pt:.5,ml:2,flex:1},children:i})]})}),c.jsx(Wu,{sx:{px:0},children:c.jsx(Ee,{container:!0,columnSpacing:2,justifyContent:"space-evenly",className:"columned-grid",children:e})})]})}function ap({actionName:e,actionLabel:t,selectedLevels:i,availableLevels:a,intensityNames:s={},onChange:o,disabled:u=!1,showValueGlow:d=!1}){const{t:h}=ce(),m=fi(),g=`${e}-intensity-label`,p=d&&i.length>0,x=p?{boxShadow:`0 0 8px ${m.palette.primary.main}`}:{},v=p?{backgroundColor:"var(--color-surface)",borderRadius:"8px",padding:"0 8px"}:{},w=j=>{const T=j.target.value.filter(D=>!isNaN(D)).sort((D,A)=>D-A);o(T)},S=j=>{j.stopPropagation(),o([])},C=j=>j.length===0?h("none"):j.map(M=>s[M]||`${h("level")} ${M}`).join(", ");return a.length===0?c.jsx(c.Fragment,{}):c.jsxs(et,{margin:"normal",fullWidth:!0,disabled:u,children:[c.jsx(it,{id:g,sx:v,children:t}),c.jsx(tt,{labelId:g,id:e,label:t,multiple:!0,value:i,onChange:w,renderValue:C,sx:x,endAdornment:i.length>0&&c.jsx(We,{size:"small",onClick:S,sx:{position:"absolute",right:24,top:"50%",transform:"translateY(-50%)",zIndex:1,"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04)"}},children:c.jsx(hw,{fontSize:"small"})}),children:a.map(j=>c.jsxs(pe,{value:j,children:[c.jsx(nw,{checked:i.includes(j)}),c.jsx(cn,{primary:s[j]||`${h("level")} ${j}`})]},j))})]})}const Yw=_.forwardRef(({value:e,onChange:t,label:i,options:a,defaultValue:s=null,sx:o,helpIcon:u=!1,fullWidth:d=!0,...h},m)=>{const g=_.useMemo(()=>a.map(p=>typeof p=="string"?c.jsx(pe,{value:p,children:Ie(p)},p):c.jsx(pe,{value:p.value,children:p.label},p.value)),[a]);return c.jsxs(et,{fullWidth:d,margin:"normal",sx:o,...h,ref:m,children:[c.jsxs(it,{id:`${i}Label`,children:[c.jsx(K,{i18nKey:i}),!!u&&c.jsx(ui,{sx:{ml:1,fontSize:16}})]}),c.jsx(tt,{labelId:`${i}Label`,id:i,label:c.jsxs(c.Fragment,{children:[c.jsx(K,{i18nKey:i}),!!u&&c.jsx(ui,{sx:{ml:1,fontSize:16}})]}),value:e||s||"",onChange:t,children:g})]})});function BE({option:e,settings:t,setSettings:i,actionsFolder:a,type:s,showVariation:o=!1,showRole:u=!1}){var d,h,m,g,p,x;const{t:v}=ce(),w=`${e}label`,S=(d=a[e])==null?void 0:d.label;function C(A,E,z){var N,P,L;const B=(N=t.selectedActions)==null?void 0:N[E];i({...t,selectedActions:{...t.selectedActions,[E]:{...B,type:s,levels:(P=B==null?void 0:B.levels)!=null?P:[],[z]:(L=A==null?void 0:A.target)==null?void 0:L.value}},boardUpdated:!0})}function j(A,E){var z;const N=(z=t.selectedActions)==null?void 0:z[E];i({...t,selectedActions:{...t.selectedActions,[E]:{...N,type:s,levels:A}},boardUpdated:!0})}let M=12;(o||u)&&(M=6);let T=["dom","vers","sub"];(h=a[e])!=null&&h.dom&&(T=[{label:a[e].dom,value:"dom"},{label:v("vers"),value:"vers"},{label:a[e].sub,value:"sub"}]);const D=()=>{var A,E;const z=a[e],N=z!=null&&z.intensities?Object.keys(z.intensities).map(Number).filter(L=>L>0).sort((L,B)=>L-B):[1,2,3,4],P=((E=(A=t.selectedActions)==null?void 0:A[e])==null?void 0:E.levels)||[];return c.jsx(ap,{actionName:e,actionLabel:(z==null?void 0:z.label)||e,selectedLevels:P,availableLevels:N,intensityNames:(z==null?void 0:z.intensities)||{},onChange:L=>j(L,e),showValueGlow:!0})};return c.jsxs(Ee,{container:!0,justifyContent:"center",children:[c.jsx(Ee,{size:M,children:D()}),!!u&&c.jsx(Ee,{size:6,children:c.jsx(Yw,{sx:{ml:1},value:(g=(m=t.selectedActions)==null?void 0:m[e])==null?void 0:g.role,onChange:A=>C(A,e,"role"),label:`${v("role")}: ${S}`,options:T,defaultValue:t.role||"sub"})}),!!o&&c.jsx(Ee,{size:6,children:c.jsx(Vt,{placement:"top",title:c.jsxs(K,{i18nKey:"variationTooltip",children:[c.jsx(q,{variant:"subtitle2",children:"Standalone = Its own tile. "}),c.jsx(q,{variant:"subtitle2",children:"Append Some = 50% chance."}),c.jsx(q,{variant:"subtitle2",children:"Append Most = 90% chance."})]}),arrow:!0,children:c.jsxs(et,{fullWidth:!0,margin:"normal",sx:{ml:1},children:[c.jsxs(it,{id:`${w}Variation`,children:[`${S} ${v("variation")}`,c.jsx(ui,{sx:{ml:1,fontSize:16}})]}),c.jsxs(tt,{labelId:`${w}Variation`,id:`${e}Variation`,label:c.jsxs(c.Fragment,{children:[S," ",v("variation"),c.jsx(ui,{sx:{ml:1,fontSize:16}})]}),value:((x=(p=t.selectedActions)==null?void 0:p[e])==null?void 0:x.variation)||"standalone",onChange:A=>C(A,e,"variation"),children:[c.jsx(pe,{value:"standalone",children:c.jsx(K,{i18nKey:"standalone"})}),c.jsx(pe,{value:"appendSome",children:c.jsx(K,{i18nKey:"appendSome"})}),c.jsx(pe,{value:"appendMost",children:c.jsx(K,{i18nKey:"appendMost"})})]})]})})})]},e)}function PE({formData:e,setFormData:t}){return c.jsxs(It,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",sx:{mt:1},children:[c.jsx(q,{children:c.jsx(K,{i18nKey:"solo"})}),c.jsx(Vt,{title:c.jsx(q,{variant:"subtitle2",children:c.jsx(K,{i18nKey:"soloTooltip"})}),arrow:!0,children:c.jsx(ui,{sx:{fontSize:15}})}),c.jsx(Mi,{id:"gameMode",checked:!Qt(e.gameMode),onChange:i=>t({...e,gameMode:i.target.checked?"local":"online",boardUpdated:!0}),inputProps:{"aria-label":"Game Type"}}),c.jsx(q,{children:c.jsx(K,{i18nKey:"local"})}),c.jsx(Vt,{title:c.jsx(q,{variant:"subtitle2",children:c.jsx(K,{i18nKey:"localTooltip"})}),arrow:!0,children:c.jsx(ui,{sx:{fontSize:15}})})]})}function IE({formData:e}){const[t,i]=_.useState(!1);return _.useEffect(()=>{const a=Object.values(e).filter(o=>typeof o=="object"&&(o==null?void 0:o.type)==="consumption"&&(o==null?void 0:o.levels)&&o.levels.length>0).length,s=Object.values(e).filter(o=>typeof o=="object"&&(o==null?void 0:o.levels)&&o.levels.length>0).length;i(a>1&&a>=s-a)},[e]),t?c.jsx(Ut,{severity:"warning",children:c.jsx(K,{i18nKey:"consumptionWarning"})}):null}function UE({formData:e,setFormData:t,actionsList:i}){const{t:a}=ce(),{hasLocalPlayers:s}=$w(),o=!Qt(e.gameMode),u=!s();function d(g){return Object.keys(i).filter(p=>{var x;return((x=i[p])==null?void 0:x.type)===g}).some(p=>{var x;const v=(x=e.selectedActions)==null?void 0:x[p];return(v==null?void 0:v.levels)&&v.levels.length>0})}function h(g,p={}){return Object.keys(i).filter(x=>{var v;return((v=i[x])==null?void 0:v.type)===g}).map(x=>c.jsx(pv,{children:c.jsx(BE,{option:x,settings:e,setSettings:t,actionsFolder:i,type:g,...p})},x))}const m=g=>{const p=JSON.parse(JSON.stringify(e));return Object.keys(p).forEach(x=>{p.role=g,x.includes("role")&&(p[x]=g)}),p};return c.jsxs(c.Fragment,{children:[c.jsx(PE,{formData:e,setFormData:t}),nt(e==null?void 0:e.room)&&!Qt(e.gameMode)&&c.jsx(Ee,{container:!0,alignContent:"center",justifyContent:"space-evenly",children:c.jsx(Ee,{sx:{py:3},children:c.jsx(q,{variant:"h5",children:c.jsx(K,{i18nKey:"privateRequired"})})})}),o?c.jsxs(c.Fragment,{children:[c.jsx(Ee,{container:!0,columnSpacing:2,justifyContent:"space-evenly",children:u&&c.jsx(pv,{children:c.jsx(Yw,{value:e.role,onChange:g=>t({...m(g.target.value),boardUpdated:!0}),label:"mainRole",options:["dom","vers","sub"],defaultValue:"sub"})})}),c.jsx(ih,{title:a("consumption"),subtitle:a("consumptionSubtitle"),hasSelectedOptions:d("consumption"),children:h("consumption",{showVariation:!0})}),c.jsx(ih,{title:a("foreplay"),subtitle:a("foreplaySubtitle"),hasSelectedOptions:d("foreplay"),children:h("foreplay",{showRole:u})}),c.jsx(ih,{title:a("sex"),subtitle:a("sexSubtitle"),hasSelectedOptions:d("sex"),children:h("sex",{showRole:u})})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ee,{container:!0,columnSpacing:2,justifyContent:"space-evenly",children:h("consumption",{showVariation:!0})}),c.jsx(xt,{}),c.jsx(Ee,{container:!0,columnSpacing:2,justifyContent:"center",children:h("solo")})]}),c.jsx(NE,{setFormData:t,formData:e}),c.jsx(IE,{formData:e})]})}function $l({text:e,copiedText:t=null,icon:i=null,tooltip:a=null}){const{t:s}=ce(),[o,u]=_.useState(!1),d=t||s("copied"),h=i||c.jsx(OA,{}),m=()=>{navigator.clipboard.writeText(e),u(!0)},g=()=>u(!1);return c.jsxs(c.Fragment,{children:[c.jsx(Vt,{title:a||s("copyToClipboard"),children:c.jsx(We,{onClick:m,children:h})}),c.jsx(pr,{open:o,close:g,type:"success",children:d})]})}function Xw(e){return Object.entries(e).flatMap(([t,{label:i,actions:a}])=>a?Object.keys(a).filter(o=>o!==v2).map((o,u)=>({group:V2(t),groupLabel:i,value:t,intensity:Number(u+1),translatedIntensity:o,label:`${i} - ${o}`})):[])}const im="2.0.0",VE=2,Ww=0;async function rm(e="en",t={}){try{let i;if(t.exportScope==="single"&&t.singleGroup){const x=await es(t.singleGroup,e);i=x&&!x.isDefault?[x]:[]}else t.exportScope==="default"?i=[]:i=(await Pl({locale:e})).filter(v=>!v.isDefault);const a=await Pl({locale:e}),s=new Set(a.filter(x=>x.isDefault).map(x=>x.name)),u=(await Oi({isCustom:1})).filter(x=>{const v=!x.locale||x.locale===e;return t.exportScope==="single"&&t.singleGroup?v&&x.group===t.singleGroup:t.exportScope==="default"?v&&s.has(x.group):v}),d={};for(const x of i){const v=x.intensities.sort((j,M)=>j.value-M.value).map(j=>j.label),w=x.intensities.find(j=>j.value===Ww),S=v.filter(j=>j!==(w==null?void 0:w.label)),C=w?[w.label,...S]:v;d[x.name]={label:x.label,type:x.type||"sex",intensities:C}}const h={};for(const x of u)h[x.group]||(h[x.group]={}),h[x.group][x.intensity]||(h[x.group][x.intensity]=[]),x.tags&&x.tags.length>0?h[x.group][x.intensity].push({action:x.action,tags:x.tags}):h[x.group][x.intensity].push(x.action);const m={};Object.keys(d).sort().forEach(x=>{m[x]=d[x]});const g={};return Object.keys(h).sort().forEach(x=>{g[x]={},Object.keys(h[x]).sort((v,w)=>Number.parseInt(v,10)-Number.parseInt(w,10)).forEach(v=>{g[x][Number.parseInt(v,10)]=h[x][Number.parseInt(v,10)]})}),JSON.stringify({version:im,locale:e,groups:m,customTiles:g},(x,v)=>(Array.isArray(v)&&v.length>0&&typeof v[0]=="string",v),VE)}catch(i){throw console.error("Error exporting clean data:",i),new Error(`Export failed: ${i}`)}}async function GE(e,t={}){const i={success:!1,importedGroups:0,importedTiles:0,errors:[],warnings:[]};try{let a;try{a=JSON.parse(e)}catch(u){return i.errors.push("Invalid JSON format"),console.warn("Failed to parse import data JSON:",u),i}if(!a.version||!a.groups||!a.customTiles)return i.errors.push("Invalid export format - missing version, groups, or customTiles"),i;a.version!==im&&i.warnings.push(`Format version mismatch: expected ${im}, got ${a.version}`);const s=t.locale||a.locale||"en",o=t.mergeStrategy||"skip";for(const[u,d]of Object.entries(a.groups))try{const h=await es(u,s);let m=u;if(h)switch(o){case"skip":i.warnings.push(`Skipped existing group: ${u}`);continue;case"overwrite":i.warnings.push(`Will update existing group: ${u}`);break;case"rename":{let v=1;for(m=`${u}_imported`;await es(m,s);)m=`${u}_imported_${v}`,v++;i.warnings.push(`Renamed group from ${u} to ${m}`);break}}const g=d.intensities.map((v,w)=>({id:`intensity-${w}`,label:v,value:w,isDefault:w===Ww})),p={name:m,label:d.label,intensities:g,type:d.type,locale:s,isDefault:!1},x=await Vw(p);if(!x.isValid){i.errors.push(`Invalid group ${m}: ${x.errors.join(", ")}`);continue}h&&o==="overwrite"?await Q1(h.id,p):await Z1(p),i.importedGroups++}catch(h){i.errors.push(`Error importing group ${u}: ${h}`)}for(const[u,d]of Object.entries(a.customTiles))try{const h=await es(u,s);if(!h){i.warnings.push(`Group ${u} not found for custom tiles, skipping tiles`);continue}for(const[m,g]of Object.entries(d)){const p=Number.parseInt(m,10);if(!h.intensities.find(v=>v.value===p)){i.warnings.push(`Intensity ${p} not valid for group ${u}, skipping tiles`);continue}for(const v of g)try{let w,S=[];if(typeof v=="string")w=v;else if(v&&typeof v=="object"&&"action"in v)w=v.action,S=v.tags||[];else{i.warnings.push(`Invalid tile data format in group ${u}, skipping`);continue}if((await Oi()).find(M=>M.group===u&&M.intensity===p&&M.action===w&&(!M.locale||M.locale===s))&&o==="skip"){i.warnings.push(`Skipped existing tile: ${w.substring(0,50)}...`);continue}await ro({group:u,intensity:p,action:w,tags:S,isCustom:1,locale:s}),i.importedTiles++}catch(w){i.errors.push(`Error importing tile "${typeof v=="string"?v.substring(0,30):"object"}...": ${w}`)}}}catch(h){i.errors.push(`Error importing tiles for group ${u}: ${h}`)}return i.success=i.errors.length===0,i}catch(a){return i.errors.push(`Import failed: ${a}`),i}}async function FE(e,t,i="en",a="online"){const s={success:!1,importedGroups:0,importedTiles:0,errors:[],warnings:[]};try{const{default:o}=await Il(async()=>{const{default:m}=await import("../js/getUniqueImportRecords.ts-CO3QprJG.js");return{default:m}},__vite__mapDeps([0,1,2,3,4,5])),u=await Oi(),{newUniqueRecords:d,changedTagRecords:h}=o(e,u,t);for(const m of d)try{await ro(m),s.importedTiles++}catch(g){s.errors.push(`Error importing tile: ${g}`)}for(const m of h)try{m.id&&await ep(m.id,m)}catch(g){s.errors.push(`Error updating tile: ${g}`)}return s.success=s.errors.length===0,s.warnings.push("Imported using legacy format. Consider exporting in clean v2.0 format for better compatibility."),s}catch(o){return s.errors.push(`Legacy import failed: ${o}`),s}}async function qE(e,t="en"){return rm(t,{singleGroup:e,exportScope:"single"})}async function HE(e,t,i={}){const a=e.trim();try{const s=JSON.parse(a);if(s.version&&s.groups)return GE(a,i);if(s.version&&s.customGroups!==void 0)return{success:!1,importedGroups:0,importedTiles:0,errors:["Old enhanced format no longer supported. Please use clean v2.0 format."],warnings:[]}}catch(s){}return FE(a,t,i.locale||"en",i.gameMode||"online")}async function $E(e="en"){try{const i=(await Pl({locale:e})).filter(s=>!s.isDefault),a=await Oi({isCustom:1});return i.map(s=>{const o=a.filter(u=>u.group===s.name&&(!u.locale||u.locale===e));return{name:s.name,label:s.label,tileCount:o.length}})}catch(t){return console.error("Error getting available groups for export:",t),[]}}function KE({expanded:e,handleChange:t,customTiles:i,mappedGroups:a,setSubmitMessage:s,bulkImport:o}){const u=_.useRef(null),{t:d}=ce(),{settings:h}=qm(),[m,g]=_.useState(""),[p,x]=_.useState(null),[v,w]=_.useState("clean"),[S,C]=_.useState("all"),[j,M]=_.useState(""),[T,D]=_.useState([]),[A,E]=_.useState("skip"),z=_.useCallback(async()=>{try{if(v==="clean"){let L;switch(S){case"single":if(!j){s({message:d("errors.selectGroupToExport"),type:"error"});return}L=await qE(j,h.locale||"en");break;case"default":L=await rm(h.locale||"en",{exportScope:"default"});break;default:L=await rm(h.locale||"en",{exportScope:"all"});break}g(L)}else{const B=i.filter(G=>G.isCustom).map(({group:G,intensity:Y,action:ee,tags:le,gameMode:V="online"})=>{const te=Xw(a[V]||{}).find(O=>(O==null?void 0:O.intensity)===Number(Y)&&(O==null?void 0:O.value)===G);let ne="";return ne+=`[${(te==null?void 0:te.group)||G} - ${(te==null?void 0:te.translatedIntensity)||Y}]
`,ne+=ee,ne+=le!=null&&le.length?`
Tags: `+(le==null?void 0:le.join(", ")):"",ne+=`
GameMode: ${V}`,ne});g(B.join(`
---
`))}}catch(L){console.error("Error exporting data:",L),s({message:d("errors.exportFailed",{error:L}),type:"error"})}},[i,a,g,v,S,j,h.locale,s,d]);async function N(L){if(!L.current)return;const G=L.current.importData.value;if(!G.trim())return s({type:"error",message:d("enterDataToImport")});try{s({type:"info",message:d("importMessages.importing")});const Y=await HE(G,a,{locale:h.locale||"en",mergeStrategy:A});if(x(Y),Y.success){Y.importedTiles>0&&(await Il(()=>Promise.resolve().then(function(){return p2}),void 0).then(V=>V.getTiles({isCustom:1}))).slice(-Y.importedTiles).forEach(async V=>{J1(`${V.group} - ${V.intensity}`,V.action)});let ee=d("importMessages.importSuccess");Y.importedGroups>0&&(ee+=` ${d("importMessages.importedGroups",{count:Y.importedGroups})}`),Y.importedTiles>0&&(ee+=` ${d("importMessages.importedTiles",{count:Y.importedTiles})}`),s({type:"success",message:ee}),await z()}else s({type:"error",message:d("errors.importFailed",{errors:Y.errors.join(", ")})})}catch(Y){console.error("Import error:",Y),s({type:"error",message:d("errors.importFailed",{errors:Y.message||Y})}),x(null)}}const P=_.useCallback(async()=>{try{const L=await $E(h.locale||"en");D(L)}catch(L){console.error("Error loading available groups:",L)}},[h.locale]);return _.useEffect(()=>{e==="ctImport"&&(P(),z())},[e,i,z,P]),c.jsxs(Yr,{expanded:e==="ctImport",onChange:t("ctImport"),className:"about-accordion",children:[c.jsx(Wr,{"aria-controls":"ctImport-content",id:"ctImport-header",children:c.jsx(q,{className:"accordion-title",children:c.jsx(K,{i18nKey:"importExport"})})}),c.jsxs(Xr,{children:[c.jsx(q,{variant:"body1",sx:{mb:2},children:c.jsx(K,{i18nKey:"ctImportDescription"})}),c.jsxs(H,{sx:{display:"flex",flexWrap:"wrap",gap:2,mb:2,"& .MuiFormControl-root":{minWidth:150,flex:"1 1 auto"}},children:[c.jsxs(et,{size:"small",children:[c.jsx(it,{children:d("labels.exportFormat")}),c.jsxs(tt,{value:v,onChange:L=>w(L.target.value),label:d("labels.exportFormat"),children:[c.jsx(pe,{value:"clean",children:d("exportFormat.clean")}),c.jsx(pe,{value:"legacy",children:d("exportFormat.legacy")})]})]}),v==="clean"&&c.jsxs(et,{size:"small",children:[c.jsx(it,{children:d("labels.exportScope")}),c.jsxs(tt,{value:S,onChange:L=>{C(L.target.value),M("")},label:d("labels.exportScope"),children:[c.jsx(pe,{value:"all",children:d("exportScope.all")}),c.jsx(pe,{value:"default",children:d("exportScope.default")}),c.jsx(pe,{value:"single",children:d("exportScope.single")})]})]}),c.jsxs(et,{size:"small",children:[c.jsx(it,{children:d("labels.importStrategy")}),c.jsxs(tt,{value:A,onChange:L=>E(L.target.value),label:d("labels.importStrategy"),children:[c.jsx(pe,{value:"skip",children:d("importStrategy.skip")}),c.jsx(pe,{value:"overwrite",children:d("importStrategy.overwrite")}),c.jsx(pe,{value:"rename",children:d("importStrategy.rename")})]})]})]}),v==="clean"&&S==="single"&&c.jsx(H,{sx:{mb:2},children:c.jsxs(et,{size:"small",fullWidth:!0,children:[c.jsx(it,{children:d("labels.selectGroup")}),c.jsx(tt,{value:j,onChange:L=>M(L.target.value),label:d("labels.selectGroup"),children:T.map(L=>c.jsxs(pe,{value:L.name,children:[L.label," (",L.tileCount," tiles)"]},L.name))})]})}),c.jsxs(H,{component:"form",method:"post",ref:u,children:[c.jsx(He,{id:"importData",name:"importData",multiline:!0,required:!0,fullWidth:!0,rows:6,sx:{pb:2},value:m,onChange:L=>g(L.target.value),placeholder:d(v==="clean"?"placeholder.cleanFormat":"placeholder.legacyFormat"),InputProps:{endAdornment:c.jsx($l,{text:m}),sx:{alignItems:"flex-start"}}}),p&&c.jsxs(Ut,{severity:p.success?"success":"error",sx:{mb:2},onClose:()=>x(null),children:[c.jsx(q,{variant:"body2",children:c.jsx("strong",{children:c.jsx(K,{i18nKey:"importResults.title"})})}),p.importedGroups>0&&c.jsxs(q,{variant:"body2",children:["•"," ",c.jsx(K,{i18nKey:"importResults.groupsImported",values:{count:p.importedGroups}})]}),p.importedTiles>0&&c.jsxs(q,{variant:"body2",children:["•"," ",c.jsx(K,{i18nKey:"importResults.tilesImported",values:{count:p.importedTiles}})]}),p.warnings.length>0&&c.jsxs(H,{sx:{mt:1},children:[c.jsx(q,{variant:"body2",color:"warning.main",children:c.jsx("strong",{children:c.jsx(K,{i18nKey:"importResults.warnings"})})}),p.warnings.map((L,B)=>c.jsxs(q,{variant:"body2",color:"warning.main",children:["• ",L]},B))]}),p.errors.length>0&&c.jsxs(H,{sx:{mt:1},children:[c.jsx(q,{variant:"body2",color:"error.main",children:c.jsx("strong",{children:c.jsx(K,{i18nKey:"importResults.errors"})})}),p.errors.map((L,B)=>c.jsxs(q,{variant:"body2",color:"error.main",children:["• ",L]},B))]})]}),c.jsx(fe,{fullWidth:!0,variant:"contained",type:"button",onClick:()=>N(u),children:c.jsx(K,{i18nKey:"import"})})]}),v==="clean"&&c.jsxs(Yr,{sx:{mt:2},className:"about-accordion",children:[c.jsx(Wr,{children:c.jsx(q,{variant:"subtitle2",className:"accordion-title",children:c.jsx(K,{i18nKey:"formatGuide.title"})})}),c.jsxs(Xr,{children:[c.jsx(q,{variant:"body2",sx:{mb:2},children:c.jsx(K,{i18nKey:"formatGuide.description"})}),c.jsx(q,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:c.jsx(K,{i18nKey:"formatGuide.keySections"})}),c.jsx(q,{variant:"body2",component:"div",sx:{mb:2,ml:2},children:c.jsx(K,{i18nKey:"formatGuide.keySectionsContent",components:{strong1:c.jsx("strong",{}),strong2:c.jsx("strong",{}),br:c.jsx("br",{})}})}),c.jsx(q,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:c.jsx(K,{i18nKey:"formatGuide.manualEditing"})}),c.jsx(q,{variant:"body2",component:"div",sx:{mb:2,ml:2},children:c.jsx(K,{i18nKey:"formatGuide.manualEditingContent",components:{br:c.jsx("br",{})}})}),c.jsx(q,{variant:"body2",sx:{mb:1,fontWeight:"bold"},children:c.jsx(K,{i18nKey:"formatGuide.customTilesFormat"})}),c.jsx(q,{variant:"body2",component:"div",sx:{ml:2},children:c.jsx(K,{i18nKey:"formatGuide.customTilesFormatContent",components:{br:c.jsx("br",{}),code1:c.jsx("code",{}),code2:c.jsx("code",{})}})})]})]})]})]})}function YE({value:e,onChange:t,locale:i,gameMode:a,includeDefault:s=!0,disabled:o=!1,refreshTrigger:u=0}){const{t:d}=ce(),[h,m]=_.useState([]),[g,p]=_.useState(!0);return _.useEffect(()=>{(async()=>{p(!0);try{const v=await pc(i,a),w=s?v:v.filter(S=>!S.isDefault);m(w)}catch(v){console.error("Error loading custom groups:",v),m([])}finally{p(!1)}})()},[i,a,s,u]),g?c.jsxs(et,{fullWidth:!0,disabled:!0,children:[c.jsx(it,{children:d("customGroups.loadingGroups")}),c.jsx(tt,{value:"",children:c.jsx(pe,{value:"",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(hn,{size:16}),c.jsx("span",{children:d("customGroups.loadingGroups")})]})})})]}):c.jsx(H,{children:c.jsxs(et,{fullWidth:!0,disabled:o,children:[c.jsx(it,{id:"group-label",children:d("group")}),c.jsx(tt,{labelId:"group-label",value:e,onChange:x=>t(x.target.value),label:d("group"),children:h.length===0?c.jsx(pe,{value:"",disabled:!0,children:c.jsx(q,{color:"text.secondary",children:d("customGroups.noGroupsAvailable",{locale:i,gameMode:a})})}):h.map(x=>c.jsx(pe,{value:x.name,children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx("span",{children:x.label}),x.isDefault&&c.jsx(at,{label:d("default"),size:"small",variant:"outlined"})]})},x.id))})]})})}function XE({groupName:e,value:t,onChange:i,locale:a,gameMode:s,disabled:o=!1}){const{t:u}=ce(),[d,h]=_.useState([]),[m,g]=_.useState(!1);_.useEffect(()=>{(async()=>{if(!e){h([]);return}g(!0);try{const v=await LT(e,a,s);h(v)}catch(v){console.error("Error loading group intensities:",v),h([])}finally{g(!1)}})()},[e,a,s]);const p=_.useMemo(()=>d.sort((x,v)=>x.value-v.value),[d]);return _.useEffect(()=>{if(d.length>0&&t&&!d.some(x=>x.value===t)){const x=p[0];x&&i(x.value)}},[d,t,i,p]),e?m?c.jsxs(et,{fullWidth:!0,disabled:!0,children:[c.jsx(it,{children:u("customGroups.loadingIntensities")}),c.jsx(tt,{value:"",children:c.jsx(pe,{value:"",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(hn,{size:16}),c.jsx("span",{children:u("customGroups.loadingIntensities")})]})})})]}):d.length===0?c.jsxs(et,{fullWidth:!0,disabled:!0,children:[c.jsx(it,{children:u("intensity")}),c.jsx(tt,{value:"",children:c.jsx(pe,{value:"",disabled:!0,children:c.jsx(q,{color:"text.secondary",children:u("customGroups.noIntensitiesAvailable",{groupName:e})})})})]}):c.jsx(H,{children:c.jsxs(et,{fullWidth:!0,disabled:o,children:[c.jsx(it,{children:u("intensity")}),c.jsx(tt,{value:t||"",onChange:x=>i(Number(x.target.value)),label:u("intensity"),children:p.map(x=>c.jsx(pe,{value:x.value,children:x.label},x.id))})]})}):c.jsxs(et,{fullWidth:!0,disabled:!0,children:[c.jsx(it,{children:u("intensity")}),c.jsx(tt,{value:"",children:c.jsx(pe,{value:"",disabled:!0,children:c.jsx(q,{color:"text.secondary",children:u("customGroups.selectGroupFirst")})})})]})}const am=[{name:"Basic (1-4)",intensities:[{label:"intensityLabels.light",value:1,isDefault:!0},{label:"intensityLabels.medium",value:2,isDefault:!0},{label:"intensityLabels.intense",value:3,isDefault:!0},{label:"intensityLabels.extreme",value:4,isDefault:!0}]},{name:"Simple (1-3)",intensities:[{label:"intensityLabels.beginner",value:1,isDefault:!0},{label:"intensityLabels.intermediate",value:2,isDefault:!0},{label:"intensityLabels.advanced",value:3,isDefault:!0}]},{name:"Extended (1-5)",intensities:[{label:"intensityLabels.veryLight",value:1,isDefault:!0},{label:"intensityLabels.light",value:2,isDefault:!0},{label:"intensityLabels.medium",value:3,isDefault:!0},{label:"intensityLabels.intense",value:4,isDefault:!0},{label:"intensityLabels.veryIntense",value:5,isDefault:!0}]}],gv=e=>{const t=am.findIndex(i=>i.intensities.length===e.length);return t>=0?t:1};function WE({open:e,onClose:t,onGroupCreated:i,onGroupUpdated:a,editingGroup:s,locale:o,gameMode:u}){var d;const{t:h}=ce(),[m,g]=_.useState(0),[p,x]=_.useState([]),[v,w]=_.useState(!0),[S,C]=_.useState({}),j=Gw(),[M,T]=_.useState(""),[D,A]=_.useState(""),[E,z]=_.useState(1),[N,P]=_.useState([h("intensityLabels.beginner"),h("intensityLabels.intermediate"),h("intensityLabels.advanced")]),[L,B]=_.useState(null),[G,Y]=_.useState(!1),[ee,le]=_.useState({isValid:!0,errors:[]}),[V,X]=_.useState(!1),[te,ne]=_.useState(null),O=_.useCallback(async()=>{try{const Se=(await pc(o,u)).filter(ct=>!ct.isDefault);x(Se);const Ve={};await Promise.all(Se.map(async ct=>{Ve[ct.id]=await jw(ct.name,o,u)})),C(Ve)}catch(de){console.error("Error reloading groups:",de)}},[o,u]);_.useEffect(()=>{(async()=>{if(e){w(!0);try{await O()}catch(Se){console.error("Error loading groups:",Se)}finally{w(!1)}}})()},[e,o,u,O]);const me=de=>de.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"_").substring(0,20)||`group_${Nu(6).toLowerCase()}`;_.useEffect(()=>{s?(B(s),T(s.label),A(s.type||""),P(s.intensities.map(de=>de.label)),z(gv(s.intensities))):L?(T(L.label),A(L.type||""),P(L.intensities.map(de=>de.label)),z(gv(L.intensities))):(B(null),T(""),A(""),z(1),P([h("intensityLabels.beginner"),h("intensityLabels.intermediate"),h("intensityLabels.advanced")])),le({isValid:!0,errors:[]})},[s,L,e,h]);const be=de=>{const Se=am[de];z(de),P(Se.intensities.map(Ve=>h(Ve.label)))},I=(de,Se)=>{const Ve=[...N];Ve[de]=Se,P(Ve)},Te=()=>{N.length>=j.MAX_INTENSITIES_COUNT||P([...N,h("customGroups.levelLabel",{level:N.length+1})])},Be=de=>{if(N.length<=j.MIN_INTENSITIES_COUNT)return;const Se=N.filter((Ve,ct)=>ct!==de);P(Se)};_.useEffect(()=>{(async()=>{if(!M.trim()&&!D&&N.length===0){le({isValid:!0,errors:[]});return}const Se=[];if(D&&!j.VALID_GROUP_TYPES.includes(D)&&Se.push(h("typeValidationError",{types:j.VALID_GROUP_TYPES.join(", ")})),M.trim()&&!D&&Se.push(h("typeRequiredError")),Se.length>0){le({isValid:!1,errors:Se});return}const Ve=N.map((ta,Xt)=>({id:Nu(),label:ta,value:Xt+1,isDefault:!1})),ct={name:L?L.name:me(M),label:M.trim(),intensities:Ve,type:D||void 0,locale:o,gameMode:u,isDefault:!1},ea=await Vw(ct,L==null?void 0:L.id);le(ea)})()},[M,D,N,o,u,L,h,j.VALID_GROUP_TYPES]);const je=de=>{B(de),T(de.label),P(de.intensities.map(Se=>Se.label)),g(1)},lt=async de=>{const Se=p.find(ct=>ct.id===de);if(!Se)return;const Ve=S[de]||0;ne({id:de,name:Se.label,tileCount:Ve}),X(!0)},bt=async()=>{if(!te)return;const{id:de,tileCount:Se}=te,Ve=p.find(ct=>ct.id===de);if(Ve)try{Se>0&&await kw(Ve.name,o,u),await RT(de),await O(),a==null||a(null)}catch(ct){console.error("Error deleting group:",ct)}finally{X(!1),ne(null)}},Dt=async()=>{if(!(!ee.isValid||G)){Y(!0);try{const de=N.map((Ve,ct)=>({id:Nu(),label:Ve,value:ct+1,isDefault:!1})),Se={name:L?L.name:me(M),label:M.trim(),intensities:de,type:D||void 0,locale:o,gameMode:u,isDefault:!1};if(L)await Q1(L.id,Se),a==null||a(L);else{const Ve=await Z1(Se);Ve&&(i==null||i({...Se,id:Ve,createdAt:new Date,updatedAt:new Date,isDefault:!1,locale:o,gameMode:u}))}yn(),t()}catch(de){console.error("Error saving custom group:",de),le({isValid:!1,errors:[h("failedToSaveGroup",{error:de})]})}finally{Y(!1)}}},yn=()=>{B(null),T(""),A(""),z(1),P([h("intensityLabels.beginner"),h("intensityLabels.intermediate"),h("intensityLabels.advanced")]),le({isValid:!0,errors:[]})};return c.jsxs(c.Fragment,{children:[c.jsxs($t,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{minHeight:"600px"}},children:[c.jsxs(en,{children:[h("customGroups.manageCustomGroups"),c.jsx(q,{variant:"body2",color:"text.secondary",sx:{mt:1},children:h("customGroups.createNewGroupsDescription")}),c.jsxs(Km,{value:m,onChange:(de,Se)=>{g(Se),Se===1&&!L&&yn()},sx:{mt:2,borderBottom:1,borderColor:"divider"},children:[c.jsx(Vr,{label:h("customGroups.existingGroups")}),c.jsx(Vr,{label:h(L?"customGroups.editGroup":"customGroups.createNew")})]})]}),c.jsxs(Kt,{dividers:!0,children:[m===0&&c.jsx(H,{children:v?c.jsx(q,{children:h("Loading groups...")}):p.length===0?c.jsx(q,{color:"text.secondary",sx:{textAlign:"center",py:4},children:h("customGroups.noCustomGroupsFound")}):c.jsx(ec,{children:p.map((de,Se)=>c.jsxs(Pt.Fragment,{children:[c.jsxs(tc,{children:[c.jsx(cn,{primary:de.label,secondary:c.jsxs(H,{component:"span",sx:{display:"block"},children:[c.jsxs(q,{variant:"body2",color:"text.secondary",component:"span",sx:{display:"block"},children:[h("customGroups.intensityLevelsCount",{count:de.intensities.length}),": ",de.intensities.map(Ve=>Ve.label).join(", ")]}),c.jsx(q,{variant:"body2",color:"text.secondary",component:"span",sx:{display:"block",mt:.5},children:h("customGroups.customTilesCount",{count:S[de.id]||0})})]})}),c.jsxs(qT,{children:[c.jsx(We,{edge:"end","aria-label":"edit",onClick:()=>je(de),sx:{mr:1},children:c.jsx(Sc,{})}),c.jsx(We,{edge:"end","aria-label":"delete",onClick:()=>lt(de.id),color:"error",children:c.jsx(as,{})})]})]}),Se<p.length-1&&c.jsx(xt,{})]},de.id))})}),m===1&&c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:3},children:[!ee.isValid&&c.jsx(Ut,{severity:"error",children:ee.errors.map((de,Se)=>c.jsx("div",{children:de},Se))}),c.jsxs(H,{sx:{p:2,bgcolor:"background.paper",borderRadius:1,border:"1px solid",borderColor:"divider"},children:[c.jsx(q,{variant:"h6",sx:{mb:2},children:h("customGroups.groupInformation")}),c.jsx(He,{label:h("customGroups.groupLabel"),value:M,onChange:de=>T(de.target.value),placeholder:"e.g., My Custom Group",helperText:h("customGroups.groupLabelHelp",{maxLength:j.MAX_GROUP_LABEL_LENGTH}),fullWidth:!0,required:!0,error:M.trim().length>0&&!Uw(M).isValid,sx:{mb:2}}),c.jsxs(He,{select:!0,label:h("customGroups.groupType"),value:D,onChange:de=>A(de.target.value),helperText:h("customGroups.groupTypeHelp"),fullWidth:!0,required:!0,error:M.trim().length>0&&!D,sx:{mb:2},children:[c.jsx(pe,{value:"",children:c.jsx("em",{children:h("groupTypes.selectType")})}),c.jsx(pe,{value:"solo",children:h("groupTypes.solo")}),c.jsx(pe,{value:"foreplay",children:h("groupTypes.foreplay")}),c.jsx(pe,{value:"sex",children:h("groupTypes.sex")}),c.jsx(pe,{value:"consumption",children:h("groupTypes.consumption")})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:.5},children:[c.jsxs(q,{variant:"body2",color:"text.secondary",children:[c.jsx("strong",{children:h("customGroups.locale")})," ",o," |"," ",c.jsx("strong",{children:h("customGroups.gameMode")})," ",u]}),L?c.jsxs(q,{variant:"body2",color:"text.secondary",children:[c.jsx("strong",{children:h("customGroups.internalId")})," ",L.name," ","(locked)"]}):c.jsxs(q,{variant:"body2",color:"text.secondary",children:[c.jsx("strong",{children:h("customGroups.internalId")})," ",M?me(M):h("customGroups.autoGenerated")]})]})]}),c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,p:2,bgcolor:"action.hover",borderRadius:1},children:[c.jsx(q,{variant:"body2",sx:{fontWeight:"medium",minWidth:"auto"},children:h("customGroups.quickStart")}),c.jsx(He,{select:!0,value:E,onChange:de=>be(Number(de.target.value)),size:"small",sx:{minWidth:200},label:h("customGroups.chooseTemplate"),children:am.map((de,Se)=>c.jsx(pe,{value:Se,children:de.name==="Basic (1-4)"?h("templateBasic"):de.name==="Simple (1-3)"?h("templateSimple"):de.name==="Extended (1-5)"?h("templateExtended"):de.name},Se))}),c.jsx(q,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.75rem"},children:h("customGroups.selectTemplateDescription")})]}),c.jsxs(H,{children:[c.jsxs(q,{variant:"h6",sx:{mb:2},children:[h("customGroups.intensityLabels")," (",N.length,"/",j.MAX_INTENSITIES_COUNT,")"]}),c.jsx(q,{variant:"body2",color:"text.secondary",sx:{mb:2},children:h("customGroups.customizeIntensityDescription")}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[N.map((de,Se)=>c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsx(q,{variant:"body2",sx:{minWidth:"30px",fontWeight:"bold",color:"primary.main"},children:Se+1}),c.jsx(He,{label:h("customGroups.levelInputLabel",{level:Se+1}),value:de,onChange:Ve=>I(Se,Ve.target.value),size:"small",sx:{flex:1},inputProps:{maxLength:j.MAX_INTENSITY_LABEL_LENGTH}}),c.jsx(We,{onClick:()=>Be(Se),disabled:N.length<=j.MIN_INTENSITIES_COUNT,color:"error",size:"small",children:c.jsx(as,{})})]},Se)),c.jsx(fe,{startIcon:c.jsx(nc,{}),onClick:Te,disabled:N.length>=j.MAX_INTENSITIES_COUNT,variant:"outlined",size:"small",sx:{alignSelf:"flex-start",mt:1},children:h("customGroups.addIntensityLevel")})]})]})]})]}),c.jsxs($r,{children:[c.jsx(fe,{onClick:t,disabled:G,children:h("cancel")}),c.jsx(fe,{onClick:Dt,variant:"contained",disabled:!ee.isValid||G,children:h(G?"customGroups.saving":L?"customGroups.updateGroup":"customGroups.createGroup")})]})]}),c.jsxs($t,{open:V,onClose:()=>X(!1),children:[c.jsx(en,{children:h("customGroups.confirmDelete")}),c.jsx(Kt,{children:c.jsx(q,{children:((d=te==null?void 0:te.tileCount)!=null?d:0)>0?h("customGroups.deleteGroupWithTiles",{name:te==null?void 0:te.name,count:te==null?void 0:te.tileCount}):h("customGroups.deleteGroupConfirm",{name:te==null?void 0:te.name})})}),c.jsxs($r,{children:[c.jsx(fe,{onClick:()=>X(!1),children:h("cancel")}),c.jsx(fe,{onClick:bt,color:"error",variant:"contained",children:h("delete")})]})]})]})}function QE({setSubmitMessage:e,boardUpdated:t,customTiles:i,mappedGroups:a,expanded:s,handleChange:o,tagList:u,updateTileId:d,setUpdateTileId:h}){const{t:m}=ce(),{settings:g}=qm(),[p,x]=_.useState({gameMode:g.gameMode||"online",group:"",intensity:"",action:"",tags:[m("custom")]}),[v,w]=_.useState(!1),[S,C]=_.useState(""),[j,M]=_.useState(0);_.useEffect(()=>{const G=setTimeout(async()=>{if(!p.group||!p.intensity||!p.action){C("");return}try{const Y=await cv({group:p.group,intensity:Number(p.intensity),action:p.action,tags:p.tags,gameMode:p.gameMode,isCustom:1},g.locale||"en",p.gameMode);Y.isValid?C(""):C(Y.errors.join(", "))}catch(Y){console.error("Error validating tile:",Y),C("")}},300);return()=>clearTimeout(G)},[p.group,p.intensity,p.action,p.gameMode,p.tags,g.locale]),_.useEffect(()=>{const G=(Array.isArray(i)?i:[]).find(({id:Y})=>Y===d);if(G){const Y=G.gameMode||g.gameMode;x({gameMode:Y,group:G.group||"",intensity:G.intensity||"",action:G.action||"",tags:G.tags||[m("custom")]})}else x(Y=>({...Y,gameMode:g.gameMode}))},[d,g.gameMode,i,m]);function T(B,G,Y){return(Array.isArray(i)?i:[]).find(le=>le.group===B&&le.intensity===G&&le.action===Y)}function D(){h(null),x({gameMode:g.gameMode,group:"",intensity:"",action:"",tags:[m("custom")]}),C("")}const A=B=>{x(G=>({...G,group:B.name,intensity:""})),w(!1),M(G=>G+1)},E=()=>{M(B=>B+1)},z=_.useCallback(B=>{x(G=>({...G,intensity:B.toString()}))},[]);async function N(){const B=document.querySelector('input[name="tags"]'),G=[...p.tags];B&&B.value.trim()&&(G.push(B.value.trim()),B.value="");const{gameMode:Y,group:ee,intensity:le,action:V}=p;if(!Y||!ee||!le||!V)return e({message:m("allFieldsRequired","All fields are required"),type:"error"});if(S)return e({message:S,type:"error"});if(d==null&&T(ee,le,V))return e({message:m("actionExists"),type:"error"});const X={group:ee,intensity:Number(le),action:V,tags:G,gameMode:Y,isCustom:1};try{const te=await cv(X,g.locale||"en",Y);if(!te.isValid)return e({message:te.errors.join(", "),type:"error"});if(d===null){const ne=`${ee} - Level ${le}`;J1(ne,V),await ro(X)}else await ep(d,X);return t(),x(ne=>({...ne,action:"",tags:[m("custom")]})),e({message:m(d?"customUpdated":"customAdded"),type:"success"})}catch(te){return console.error("Error saving custom tile:",te),e({message:m("errorSavingTile"),type:"error"})}}const P=B=>{switch(B.key){case",":case"Enter":{B.preventDefault(),B.stopPropagation(),B.currentTarget.value.length>0&&(x(G=>({...G,tags:[...G.tags,B.currentTarget.value]})),B.currentTarget.value="");break}}},L=B=>{B.target.value.length>0&&(x(G=>({...G,tags:[...G.tags,B.target.value]})),B.target.value=""),setTimeout(()=>{const G=document.querySelector(".MuiAutocomplete-popper");G&&(G.style.display="none")},150)};return c.jsxs(c.Fragment,{children:[c.jsxs(Yr,{expanded:s==="ctAdd",onChange:o("ctAdd"),className:"about-accordion",children:[c.jsx(Wr,{"aria-controls":"ctAdd-content",id:"ctAdd-header",children:c.jsx(q,{className:"accordion-title",children:c.jsx(K,{i18nKey:d?"ctUpdate":"ctAdd"})})}),c.jsx(Xr,{children:c.jsxs(H,{component:"form",method:"post",className:"settings-box",children:[c.jsxs(He,{select:!0,label:m("customTiles.gameMode"),value:p.gameMode,onChange:B=>{x(G=>({...G,gameMode:B.target.value,group:"",intensity:""}))},fullWidth:!0,sx:{mb:2},children:[c.jsx("option",{value:"online",children:m("online")}),c.jsx("option",{value:"local",children:m("local")}),c.jsx("option",{value:"solo",children:m("solo")})]}),c.jsx(YE,{value:p.group,onChange:B=>{x(G=>({...G,group:B,intensity:""}))},locale:g.locale||"en",gameMode:p.gameMode,refreshTrigger:j}),c.jsx(H,{sx:{mt:2},children:c.jsx(XE,{groupName:p.group,value:Number(p.intensity)||0,onChange:z,locale:g.locale||"en",gameMode:p.gameMode})}),S&&c.jsx(H,{sx:{mt:1,mb:2},children:c.jsx(q,{color:"error",variant:"body2",children:S})}),c.jsx(He,{id:"action",name:"action",required:!0,fullWidth:!0,label:m("action"),sx:{mt:2,pb:2},value:p.action,onChange:B=>{x({...p,action:B.target.value})}}),c.jsx(HT,{id:"tags",disableCloseOnSelect:!0,multiple:!0,freeSolo:!0,options:u,value:p.tags,onChange:(B,G)=>{x({...p,tags:G})},renderInput:B=>(B.inputProps.onKeyDown=P,B.inputProps.onBlur=L,c.jsx(He,{...B,label:m("tags")})),sx:{pb:2},clearOnBlur:!0,blurOnSelect:!0,openOnFocus:!0,disablePortal:!1,componentsProps:{popper:{modifiers:[{name:"preventOverflow",options:{altAxis:!0,altBoundary:!0,padding:8}}]}}}),c.jsxs(H,{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:{xs:"stretch",sm:"space-evenly"},gap:1,children:[c.jsx(fe,{variant:"outlined",type:"button",onClick:()=>w(!0),children:m("manageGroups")}),c.jsx(fe,{variant:"contained",type:"button",onClick:()=>D(),children:c.jsx(K,{i18nKey:"clear"})}),c.jsx(fe,{variant:"contained",type:"button",onClick:N,children:c.jsx(K,{i18nKey:d?"ctUpdate":"ctAdd"})})]})]})})]}),c.jsx(WE,{open:v,onClose:()=>w(!1),onGroupCreated:A,onGroupUpdated:E,locale:g.locale||"en",gameMode:p.gameMode})]})}function ZE({expanded:e,handleChange:t}){const i=mn(),[a,s]=_.useState({}),[o,u]=_.useState({}),d=p=>{s(x=>({...x,[p]:!x[p]}))},h=p=>{u(x=>({...x,[p]:!x[p]}))},m=[{id:"custom-actions",icon:c.jsx(tv,{}),title:"Custom Actions",description:"Add your own personalized activities to the game",tip:"Think of custom tiles as your personal touch - add activities that match your style and preferences perfectly.",color:"primary"},{id:"category-intensity",icon:c.jsx(_c,{}),title:"Category & Intensity Rules",description:"Tiles appear based on your game settings",tip:"Your tiles only show up when you select their category and intensity level (or higher) in game settings.",color:"secondary"}],g=[{id:"new-activities",icon:c.jsx(BA,{}),title:"New Activities",description:"Create unique actions not in the default list",tips:["Think outside the box - what creative activities would make your game more exciting?",'Add themed tiles like "Movie Night Actions" or "Kitchen Adventures"',"Create seasonal tiles for holidays or special occasions","Design role-play scenarios with specific character actions"],color:"primary"},{id:"intensity-boost",icon:c.jsx(PA,{}),title:"Early Intensity Boost",description:"Add advanced tiles to beginner levels",tips:["Pro tip: Add exciting advanced tiles to lower intensities to start games with more energy.","Copy your favorite advanced tiles and add them to beginner categories",'Create "gateway" tiles that introduce advanced concepts gradually',"Mix easy and challenging elements in the same tile for variety"],color:"secondary"},{id:"mix-match",icon:c.jsx(IA,{}),title:"Mix & Match",description:"Combine different activities into one tile",tips:["Mix activities that don't usually go together for unexpected combinations.","Combine physical actions with mental challenges or games","Create multi-step tiles that build on each other","Blend different intensity levels within a single creative tile"],color:"success"},{id:"custom-groups",icon:c.jsx(UA,{}),title:"Custom Groups",description:"Create your own tile categories with unique intensities",tips:['Design completely custom groups like "Couples Yoga" or "Adventure Challenges"',"Set your own intensity progression from gentle to wild","Create themed collections that tell a story or follow a theme","Build niche categories that perfectly match your interests"],color:"warning"},{id:"share-creations",icon:c.jsx(ic,{}),title:"Share & Discover",description:"Import/export tiles to share with others",tips:["Export your best tile collections to share with friends or partners","Import creative tiles from others to expand your game options","Create themed tile packs and share them in communities","Backup your custom tiles by exporting them regularly"],color:"info"}];return c.jsxs(c.Fragment,{children:[c.jsxs(Yr,{expanded:e==="help1",onChange:t("help1"),className:"about-accordion",children:[c.jsx(Wr,{"aria-controls":"help1-content",id:"help1-header",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[c.jsx(tv,{color:"primary"}),c.jsx(q,{className:"accordion-title",children:c.jsx(K,{i18nKey:"ctExplained"})})]})}),c.jsx(Xr,{sx:{p:0},children:c.jsx(ec,{dense:!0,children:m.map((p,x)=>c.jsxs(H,{children:[c.jsxs(tc,{sx:{cursor:"pointer",borderRadius:1,"&:hover":{bgcolor:"action.hover",transform:"translateX(4px)",transition:"all 0.2s ease-in-out"},transition:"all 0.2s ease-in-out"},onClick:()=>h(p.id),children:[c.jsx(Wn,{sx:{minWidth:i?36:40},children:c.jsx(H,{sx:{color:`${p.color}.main`,display:"flex",alignItems:"center"},children:p.icon})}),c.jsx(cn,{primary:c.jsx(q,{variant:"subtitle2",sx:{fontWeight:500,fontSize:i?"0.9rem":"1rem"},children:p.title}),secondary:c.jsx(q,{variant:"body2",sx:{fontSize:i?"0.8rem":"0.85rem",color:"text.secondary"},children:p.description})}),c.jsx(We,{size:"small",sx:{ml:1},children:o[p.id]?c.jsx(nv,{}):c.jsx(Fl,{})})]}),c.jsx(ev,{in:o[p.id],timeout:"auto",unmountOnExit:!0,children:c.jsx(H,{sx:{ml:i?4:6,mr:2,mb:1,p:1.5,bgcolor:"action.selected",borderRadius:1,borderLeft:3,borderLeftColor:`${p.color}.main`},children:c.jsxs(q,{variant:"body2",sx:{fontSize:i?"0.8rem":"0.85rem",fontStyle:"italic",color:"text.secondary"},children:["💡 ",p.tip]})})}),x<m.length-1&&c.jsx(xt,{variant:"inset",sx:{ml:i?4:6}})]},p.id))})})]}),c.jsxs(Yr,{expanded:e==="help2",onChange:t("help2"),className:"about-accordion",children:[c.jsx(Wr,{"aria-controls":"help2-content",id:"help2-header",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,width:"100%"},children:[c.jsx(NA,{color:"primary"}),c.jsx(q,{className:"accordion-title",children:c.jsx(K,{i18nKey:"ctIdeas"})})]})}),c.jsx(Xr,{sx:{p:0},children:c.jsx(ec,{dense:!0,children:g.map((p,x)=>c.jsxs(H,{children:[c.jsxs(tc,{sx:{cursor:"pointer",borderRadius:1,"&:hover":{bgcolor:"action.hover",transform:"translateX(4px)",transition:"all 0.2s ease-in-out"},transition:"all 0.2s ease-in-out"},onClick:()=>d(p.id),children:[c.jsx(Wn,{sx:{minWidth:i?36:40},children:c.jsx(H,{sx:{color:`${p.color}.main`,display:"flex",alignItems:"center"},children:p.icon})}),c.jsx(cn,{primary:c.jsx(q,{variant:"subtitle2",sx:{fontWeight:500,fontSize:i?"0.9rem":"1rem"},children:p.title}),secondary:c.jsx(q,{variant:"body2",sx:{fontSize:i?"0.8rem":"0.85rem",color:"text.secondary"},children:p.description})}),c.jsx(We,{size:"small",sx:{ml:1},children:a[p.id]?c.jsx(nv,{}):c.jsx(Fl,{})})]}),c.jsx(ev,{in:a[p.id],timeout:"auto",unmountOnExit:!0,children:c.jsx(H,{sx:{ml:i?4:6,mr:2,mb:1,p:1.5,bgcolor:"action.selected",borderRadius:1,borderLeft:3,borderLeftColor:`${p.color}.main`},children:p.tips.map((v,w)=>c.jsx(q,{variant:"body2",sx:{fontSize:i?"0.8rem":"0.85rem",fontStyle:w===0?"italic":"normal",color:"text.secondary",mb:w<p.tips.length-1?1:0,"&:before":w===0?{content:'"💡 "'}:{content:'"• "'}},children:v},w))})}),x<g.length-1&&c.jsx(xt,{variant:"inset",sx:{ml:i?4:6}})]},p.id))})})]})]})}function JE({gameMode:e,groupFilter:t,intensityFilter:i,groups:a,mappedGroups:s,dexieGroups:o,onGameModeChange:u,onGroupChange:d,onIntensityChange:h,hideAll:m=!1,sx:g={}}){const{t:p}=ce(),[x,v]=_.useState([]),w=m?1:"all",S=_.useMemo(()=>{if(!(s!=null&&s[e]))return[];const A=Xw(s[e]);return Array.isArray(A)?A:[]},[s,e]),C=_.useCallback(A=>{if(o!=null&&o[A])return o[A].label||A;const E=S.find(z=>z.value===A);return E!=null&&E.groupLabel?E.groupLabel:A},[o,S]),j=_.useCallback((A,E)=>{if(o!=null&&o[A]){const N=o[A].intensities.find(P=>P.value===Number(E));if(N!=null&&N.label)return N.label}const z=S.find(N=>N.value===A&&N.intensity===Number(E));return z!=null&&z.translatedIntensity?z.translatedIntensity:`Level ${Number(E)+1}`},[o,S]);_.useEffect(()=>{if(a){const A=Object.keys(a);v(A)}},[a,e]);function M(A){const E=A.target.value;d(E),h(w)}if(!(x!=null&&x.length))return null;const T=x.length===0||x.includes(t)?t:"",D=i==="all"?"all":i;return c.jsxs(H,{sx:{display:"flex",flexWrap:"wrap",gap:2,...g},children:[c.jsxs(et,{sx:{width:125,flexShrink:0},children:[c.jsx(it,{id:"game-mode-filter-label",children:c.jsx(K,{i18nKey:"customTiles.gameMode"})}),c.jsxs(tt,{labelId:"game-mode-filter-label",id:"game-mode-filter",value:e,label:p("customTiles.gameMode","Game Mode"),onChange:A=>{u(A.target.value)},slotProps:{input:{"aria-label":p("customTiles.gameMode","Game Mode")}},children:[c.jsx(pe,{value:"online",children:c.jsx(K,{i18nKey:"online"})}),c.jsx(pe,{value:"local",children:c.jsx(K,{i18nKey:"local"})})]})]}),c.jsxs(et,{sx:{minWidth:150,flex:1},children:[c.jsx(it,{id:"group-filter-label",children:c.jsx(K,{i18nKey:"group"})}),c.jsx(tt,{labelId:"group-filter-label",id:"group-filter",value:T,label:p("group"),onChange:M,slotProps:{input:{"aria-label":p("group")}},children:x.map(A=>c.jsxs(pe,{value:A,children:[C(A),!m&&a[A]&&` (${a[A].count})`]},A))})]}),c.jsxs(et,{sx:{minWidth:200,flex:1},disabled:!T,children:[c.jsx(it,{id:"intensity-filter-label",children:c.jsx(K,{i18nKey:"customTiles.intensityLevel",children:"Intensity Level"})}),c.jsxs(tt,{labelId:"intensity-filter-label",id:"intensity-filter",value:D,label:p("customTiles.intensityLevel","Intensity Level"),onChange:A=>h(A.target.value),slotProps:{input:{"aria-label":p("customTiles.intensityLevel","Intensity Level")}},children:[!m&&c.jsx(pe,{value:"all",children:c.jsx(K,{i18nKey:"all",children:"All"})},"all"),T&&a&&a[T]&&Object.entries(a[T].intensities||{}).sort(([A],[E])=>Number(A)-Number(E)).map(([A,E])=>c.jsxs(pe,{value:Number(A),children:[j(T,A),!m&&E!==void 0?` (${E})`:""]},A))]})]})]})}function eM({tagList:e,boardUpdated:t,mappedGroups:i,updateTile:a,refreshTrigger:s}){var o;const{t:u,i18n:d}=ce(),{settings:h}=qm(),[m,g]=_.useState(null),[p,x]=_.useState(h.gameMode||"online"),[v,w]=_.useState(""),[S,C]=_.useState(""),[j,M]=_.useState(1),[T,D]=_.useState(!0),[A,E]=_.useState({items:[],total:0,totalPages:1}),[z,N]=_.useState({}),[P,L]=_.useState({}),B=10;_.useEffect(()=>{async function ne(){try{D(!0);const[O,me]=await Promise.all([pc(d.resolvedLanguage,p),bw(d.resolvedLanguage,p,m)]),be={};O.forEach(je=>{be[je.name]=je}),L(be);const I={};O.forEach(je=>{const lt=me[je.name]||{count:0,intensities:{}};I[je.name]={label:je.label||je.name,count:lt.count,intensities:lt.intensities}}),N(I);const Te=O.map(je=>je.name),Be=Te.includes(v);if((!v||!Be)&&Te.length>0)w(Te[0]),C("all");else if(Be&&S!=="all"){const je=O.find(lt=>lt.name===v);je&&(je.intensities.map(bt=>bt.value).includes(Number(S))||C("all"))}}catch(O){console.error("Error loading groups and counts:",O)}finally{D(!1)}}ne()},[p,d.resolvedLanguage,m,v,S]),_.useEffect(()=>{let ne=!0;async function O(){try{D(!0);const me={group:v,intensity:S==="all"?null:Number(S),tag:m,gameMode:p,locale:h.locale,page:j,limit:B,paginated:!0},be=await $h(me);ne&&(E(be),setTimeout(()=>{ne&&D(!1)},300))}catch(me){console.error("Error loading tiles:",me),ne&&D(!1)}}return v?O():D(!1),()=>{ne=!1}},[v,S,m,p,j,B,s,h.locale]);function G(ne){D(!0),g(m===ne?null:ne)}function Y(ne,O){D(!0),M(O)}async function ee(ne){await Sw(ne),t();const O={group:v,intensity:S==="all"?null:S,tag:m,gameMode:p,locale:h.locale,page:j,limit:B,paginated:!0},me=await $h(O);E(me)}async function le(ne){await vw(ne),t(),E(O=>({...O,items:O.items.map(me=>me.id===ne?{...me,isEnabled:!me.isEnabled}:me)}))}function V(ne){a(ne);const O=document.querySelector(".MuiDialogContent-root");O&&(O.scrollTop=0)}function X(ne,O){const me=P[ne];if(me){const be=me.label||ne,I=me.intensities.find(Be=>Be.value===Number(O)),Te=(I==null?void 0:I.label)||`Level ${Number(O)+1}`;return`${be} - ${Te}`}return`${ne} - Level ${Number(O)+1}`}const te=(o=A.items)==null?void 0:o.map(({id:ne,group:O,intensity:me,action:be,tags:I,isEnabled:Te=!0,isCustom:Be=!0})=>c.jsxs(yt,{sx:{my:2},children:[c.jsx(Ju,{title:be,slotProps:{title:{variant:"body1"},subheader:{variant:"body2"},action:{"aria-label":u("customTiles.actions")}},subheader:X(O,me),action:c.jsxs(c.Fragment,{children:[c.jsx(Mi,{checked:!!Te,onChange:()=>ne!==void 0&&le(ne),slotProps:{input:{"aria-label":u("customTiles.toggleTile")}}}),!!Be&&c.jsxs(c.Fragment,{children:[c.jsx(We,{onClick:()=>ne!==void 0&&V(ne),"aria-label":u("customTiles.update"),children:c.jsx(Sc,{})}),c.jsx(We,{onClick:()=>ne!==void 0&&ee(ne),"aria-label":u("customTiles.delete"),children:c.jsx(as,{})})]})]}),sx:{pb:0}}),c.jsx($T,{children:I==null?void 0:I.map(je=>c.jsx(at,{label:je==="default"?u("default"):je,sx:{m:.5}},je))})]},ne));return c.jsxs(H,{children:[c.jsx(H,{children:e==null?void 0:e.map(ne=>c.jsx(at,{label:ne,sx:{m:.5},color:m===ne?"primary":"default",onClick:()=>G(ne)},ne))}),c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:2,my:2,transition:"all 0.3s ease-in-out"},children:c.jsx(JE,{gameMode:p,groupFilter:v,intensityFilter:S,groups:z,mappedGroups:i,dexieGroups:P,onGameModeChange:ne=>{x(ne),w(""),C(""),M(1)},onGroupChange:ne=>{w(ne),M(1)},onIntensityChange:ne=>{C(ne),M(1)}})}),c.jsxs(H,{sx:{position:"relative",minHeight:"200px"},children:[c.jsx(Ym,{in:T,timeout:300,children:c.jsx(H,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0)",zIndex:1,borderRadius:1},children:c.jsx(hn,{})})}),c.jsx(H,{sx:{opacity:T?.3:1,transition:"opacity 0.3s ease-in-out",pointerEvents:T?"none":"auto"},children:A.items.length===0?c.jsx(q,{variant:"body1",sx:{textAlign:"center",my:4},children:c.jsx(K,{i18nKey:"customTiles.noTilesFound",children:"No tiles found with the selected filters."})}):c.jsxs(c.Fragment,{children:[te,A.totalPages>1&&c.jsx(H,{sx:{display:"flex",justifyContent:"center",mt:3,mb:2},children:c.jsx(KT,{count:A.totalPages,page:j,onChange:Y,color:"primary"})}),c.jsx(q,{variant:"body2",sx:{textAlign:"center",mt:2,color:"text.secondary"},children:c.jsxs(K,{i18nKey:"customTiles.showingTiles",values:{shown:A.items.length,total:A.total},children:["Showing ",{shown:A.items.length}," of ",{total:A.total}," tiles"]})})]})})]})]})}function Qw({boardUpdated:e,setOpen:t,open:i=!1}){const{t:a,i18n:s}=ce(),o=mn(),u=mn("md"),[d,h]=_.useState({message:"",type:"info"}),[m,g]=_.useState("ctAdd"),[p,x]=_.useState(null),[v,w]=_.useState(0),[S,C]=_.useState({online:{},local:{},solo:{}}),[j,M]=_.useState(!0),T=_.useCallback(()=>{w(P=>P+1)},[]),D=P=>(L,B)=>{g(B?P:"")};_.useEffect(()=>{async function P(){M(!0);try{const[L,B,G]=await Promise.all([kl(s.resolvedLanguage,"online"),kl(s.resolvedLanguage,"local"),kl(s.resolvedLanguage,"solo")]);C({online:L,local:B,solo:G})}catch(L){console.error("Error loading game mode actions:",L)}finally{M(!1)}}P()},[s.resolvedLanguage]);const A=Li(()=>Oi({locale:s.resolvedLanguage})),E=_.useMemo(()=>A?Array.isArray(A)?A.map(({tags:P})=>P).flat().filter((P,L,B)=>P&&B.indexOf(P)===L).sort():[]:[],[A]),z=_.useCallback(async P=>{await gw(P),e(),T()},[e,T]);if(!A||j)return null;const N=()=>{const P=c.jsxs(c.Fragment,{children:[c.jsx(ZE,{expanded:m,handleChange:D}),c.jsx(QE,{setSubmitMessage:h,boardUpdated:()=>{e(),T()},customTiles:A,mappedGroups:S,expanded:m,handleChange:D,tagList:E,updateTileId:p,setUpdateTileId:x}),c.jsx(KE,{expanded:m,handleChange:D,customTiles:A,mappedGroups:S,setSubmitMessage:h,bulkImport:z})]}),L=Array.isArray(A)&&A.length>0&&c.jsx(H,{children:c.jsx(eM,{tagList:E,boardUpdated:()=>{e(),T()},mappedGroups:S,updateTile:B=>{x(B),g("ctAdd")},refreshTrigger:v})});return u?c.jsxs(c.Fragment,{children:[P,L&&c.jsxs(c.Fragment,{children:[c.jsx(xt,{sx:{my:2}}),L]})]}):c.jsxs(Ee,{container:!0,spacing:2,children:[c.jsx(Ee,{size:{xs:12,md:6},children:P}),c.jsx(Ee,{size:{xs:12,md:6},children:L})]})};return c.jsxs(c.Fragment,{children:[c.jsxs($t,{fullScreen:o,open:i,onClose:()=>t(!1),maxWidth:u?"sm":"lg",fullWidth:!0,children:[c.jsxs(en,{children:[c.jsx(K,{i18nKey:"manageTiles"}),c.jsx(We,{"aria-label":a("close"),onClick:()=>t(!1),sx:{position:"absolute",right:8,top:8,color:P=>P.palette.grey[500]},children:c.jsx(Qm,{})})]}),c.jsx(Kt,{children:N()})]}),c.jsx(pr,{open:!!d.message,close:()=>h({message:"",type:"info"}),type:d.type,children:d.message})]})}function tM({formData:e,setFormData:t}){const{t:i}=ce(),a=s=>{const o=s.target.value.trim();t({...e,roomBackgroundURL:o,roomUpdated:!0})};return c.jsx(He,{sx:{mt:2},label:i("roomBackgroundURL"),value:(e==null?void 0:e.roomBackgroundURL)||"",fullWidth:!0,onChange:a,helperText:i("supportedSites"),placeholder:i("roomBackgroundPlaceholder"),type:"url",inputMode:"url",autoComplete:"off",spellCheck:!1,autoCapitalize:"none"})}function nM({formData:e,setFormData:t}){const{t:i}=ce(),a={"1d4":2.5,"1d6":3.5,"2d4":5},s=e!=null&&e.roomTileCount?Math.floor(e.roomTileCount/a[e.roomDice||"1d6"]):16,o=Array.from({length:7},(u,d)=>(d+2)*10).map(u=>c.jsx(pe,{value:u,children:u},u));return c.jsxs(H,{children:[c.jsx(q,{variant:"subtitle1",sx:{mb:2,fontWeight:"medium"},children:c.jsx(K,{i18nKey:"gameSpeed"})}),c.jsxs(H,{sx:{display:"flex",gap:2,alignItems:"flex-end",flexWrap:"wrap"},children:[c.jsxs(et,{sx:{minWidth:120,flex:1},children:[c.jsx(it,{id:"diceRole-label",children:c.jsx(K,{i18nKey:"roomDice"})}),c.jsxs(tt,{labelId:"diceRole-label",id:"diceRole-select",value:(e==null?void 0:e.roomDice)||"1d4",label:i("roomDice"),onChange:u=>t({...e,roomDice:u.target.value,roomUpdated:!0}),children:[c.jsx(pe,{value:"1d4",children:"1d4"}),c.jsx(pe,{value:"1d6",children:"1d6"}),c.jsx(pe,{value:"2d4",children:"2d4"})]})]}),c.jsxs(et,{sx:{minWidth:120,flex:1},children:[c.jsx(it,{id:"tile-count-label",children:c.jsx(K,{i18nKey:"roomTileCount"})}),c.jsx(tt,{labelId:"tile-count-label",id:"tile-count-select",value:String((e==null?void 0:e.roomTileCount)||40),label:i("roomTileCount"),onChange:u=>t({...e,roomTileCount:Number(u.target.value),roomUpdated:!0}),children:o})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:120},children:[c.jsx(q,{variant:"body2",color:"text.secondary",sx:{mb:1},children:c.jsx(K,{i18nKey:"averageRolls"})}),c.jsx(at,{label:s,color:"primary",variant:"outlined",sx:{minWidth:50,fontWeight:"bold"}})]})]})]})}function iM({formData:e,setFormData:t}){const i=_.useCallback(()=>{t({...e,roomRealtime:!e.roomRealtime,roomUpdated:!0})},[e,t]);return c.jsxs(H,{children:[c.jsx(q,{variant:"subtitle1",sx:{mb:2,fontWeight:"medium"},children:c.jsx(K,{i18nKey:"playerListOptions"})}),c.jsx(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsxs(It,{direction:"row",spacing:2,alignItems:"center",children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(q,{variant:"body2",color:"text.secondary",children:c.jsx(K,{i18nKey:"realtime"})}),c.jsx(Vt,{title:c.jsx(q,{variant:"subtitle2",children:c.jsx(K,{i18nKey:"realtimeTooltip"})}),arrow:!0,children:c.jsx(ui,{sx:{fontSize:16,color:"text.secondary"}})})]}),c.jsx(Ul,{control:c.jsx(Mi,{checked:!!e.roomRealtime,onChange:i,inputProps:{"aria-label":Ie("playerList")}}),label:"",sx:{margin:0}}),c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(q,{variant:"body2",color:"text.secondary",children:c.jsx(K,{i18nKey:"delayed"})}),c.jsx(Vt,{title:c.jsx(q,{variant:"subtitle2",children:c.jsx(K,{i18nKey:"delayedTooltip"})}),arrow:!0,children:c.jsx(ui,{sx:{fontSize:16,color:"text.secondary"}})})]})]})})]})}function rM({formData:e,setFormData:t}){var i;const{id:a}=tn(),{t:s}=ce(),o=g=>{let p;g.target.checked&&nt(a)?p=uw("123456789ABCDEFGHJKLMNPQRSTUVWXYZ",5)():a&&g.target.checked&&!nt(a)?p=a:p="PUBLIC",t({...e,room:p.toUpperCase(),gameMode:nt(p)?"online":e.gameMode})},u=_.useCallback(g=>{t({...e,room:g.currentTarget.value,boardUpdated:!0})},[e,t]),d=_.useCallback(g=>{g.key==="Enter"&&t({...e,room:g.currentTarget.value,boardUpdated:!0})},[e,t]),h=_.useCallback(g=>{const p=g.target.value.toUpperCase();g.target.value=p},[]),m=!nt(e.room);return c.jsxs(c.Fragment,{children:[c.jsxs(It,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center",sx:{width:"100%"},children:[c.jsx(q,{children:c.jsx(K,{i18nKey:"public"})}),c.jsx(Mi,{id:"showPrivate",checked:m,onChange:o,slotProps:{input:{"aria-label":s("room")}}}),c.jsx(q,{children:c.jsx(K,{i18nKey:"private"})}),c.jsx(Vt,{title:c.jsx(q,{variant:"subtitle2",children:c.jsx(K,{i18nKey:"privateOptions"})}),arrow:!0,children:c.jsx(ui,{sx:{fontSize:15}})})]}),m&&c.jsx(He,{fullWidth:!0,id:"privateRoom",label:s("privateRoom"),defaultValue:(i=e.room)==null?void 0:i.toUpperCase(),margin:"normal",onBlur:u,onKeyDown:d,onChange:h,inputProps:{style:{textTransform:"uppercase"}}})]})}const aM=yc(jt)(`
  &:last-child {
    padding-bottom: 8px;
  }
`);function sM({player:e,index:t,isActive:i,canEdit:a=!0,canDelete:s=!0,onEdit:o,onDelete:u,onRoleChange:d}){const{t:h}=ce(),[m,g]=_.useState(null),[p,x]=_.useState(null),v=E=>{g(E.currentTarget)},w=()=>{g(null)},S=E=>{E.stopPropagation(),x(E.currentTarget)},C=()=>{x(null)},j=()=>{w(),o==null||o(e)},M=()=>{w(),u==null||u(e.id)},T=E=>{C(),d==null||d(e.id,E)},D=E=>E.split(" ").map(z=>z.charAt(0)).join("").toUpperCase().slice(0,2)||"P",A=E=>{switch(E){case"dom":return"primary";case"sub":return"secondary";case"vers":return"default";default:return"default"}};return c.jsxs(yt,{sx:{border:i?"2px solid":"1px solid",borderColor:i?"primary.main":"divider",bgcolor:i?"action.selected":"background.paper",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",elevation:2}},children:[c.jsx(aM,{children:c.jsxs(H,{sx:{display:"flex",alignItems:"flex-start",gap:2},children:[c.jsx(Xm,{sx:{bgcolor:i?"primary.main":"grey.500",marginTop:.5,width:24,height:24,fontWeight:"bold"},children:D(e.name)}),c.jsx(H,{sx:{flexGrow:1,minWidth:0},children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[c.jsx(q,{variant:"h6",component:"h3",sx:{fontWeight:i?600:500,color:i?"primary.main":"text.primary",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexGrow:1},children:e.name||h("localPlayers.defaultPlayerName",{number:t+1})}),c.jsx(at,{label:h(`roles.${e.role}`),size:"small",variant:"outlined",color:A(e.role),onClick:a?S:void 0,sx:{cursor:a?"pointer":"default","&:hover":a?{bgcolor:"action.hover"}:{}}}),i&&c.jsx(at,{label:h("localPlayers.currentPlayer"),size:"small",color:"primary",icon:c.jsx(VA,{})})]})}),(a||s)&&c.jsx(We,{size:"small",onClick:v,"aria-label":h("localPlayers.playerActions",{name:e.name}),children:c.jsx(dw,{})})]})}),c.jsxs(Zu,{anchorEl:m,open:!!m,onClose:w,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[a&&c.jsxs(pe,{onClick:j,children:[c.jsx(Wn,{children:c.jsx(Sc,{fontSize:"small"})}),c.jsx(cn,{children:h("localPlayers.editPlayer")})]}),s&&c.jsxs(pe,{onClick:M,sx:{color:"error.main"},children:[c.jsx(Wn,{children:c.jsx(as,{fontSize:"small",sx:{color:"error.main"}})}),c.jsx(cn,{children:h("localPlayers.deletePlayer")})]})]}),c.jsx(Zu,{anchorEl:p,open:!!p,onClose:C,transformOrigin:{horizontal:"left",vertical:"top"},anchorOrigin:{horizontal:"left",vertical:"bottom"},children:["dom","sub","vers"].map(E=>c.jsx(pe,{onClick:()=>T(E),selected:e.role===E,children:c.jsx(at,{label:h(`roles.${E}`),size:"small",variant:e.role===E?"filled":"outlined",color:A(E)})},E))})]})}const Zw=[{id:"tritone",name:"Tri-tone",frequency:1318,type:"sine",duration:400,category:"classic",frequencies:[1318,1568,1175]},{id:"rebound",name:"Rebound",frequency:800,type:"triangle",duration:350,category:"classic"},{id:"chime",name:"Chime",frequency:1e3,type:"sine",duration:500,category:"classic",frequencies:[1e3,1200,1400]},{id:"boop",name:"Boop",frequency:600,type:"sine",duration:150,category:"classic"},{id:"breeze",name:"Breeze",frequency:400,type:"triangle",duration:600,category:"classic",frequencies:[400,500,600,500]},{id:"pong",name:"Pong",frequency:1100,type:"square",duration:200,category:"classic"},{id:"glass",name:"Glass",frequency:1800,type:"sine",duration:300,category:"classic",frequencies:[1800,1600,1400]},{id:"funk",name:"Funk",frequency:220,type:"sawtooth",duration:400,category:"classic"}],Jw=[{id:"c4",name:"C Note",frequency:261.63,type:"sine",duration:300,category:"musical"},{id:"d4",name:"D Note",frequency:293.66,type:"sine",duration:300,category:"musical"},{id:"e4",name:"E Note",frequency:329.63,type:"sine",duration:300,category:"musical"},{id:"f4",name:"F Note",frequency:349.23,type:"sine",duration:300,category:"musical"},{id:"g4",name:"G Note",frequency:392,type:"sine",duration:300,category:"musical"},{id:"ascending",name:"Ascending",frequency:261.63,type:"triangle",duration:800,category:"musical",frequencies:[261.63,293.66,329.63,349.23]},{id:"descending",name:"Descending",frequency:523.25,type:"triangle",duration:800,category:"musical",frequencies:[523.25,466.16,415.3,369.99]},{id:"chord",name:"Major Chord",frequency:261.63,type:"sine",duration:600,category:"musical",frequencies:[261.63,329.63,392]},{id:"arpeggio",name:"Arpeggio",frequency:261.63,type:"triangle",duration:1e3,category:"musical",frequencies:[261.63,329.63,392,523.25]}],eS=[{id:"bell",name:"Bell",frequency:800,type:"sine",duration:200,category:"notification"},{id:"ding",name:"Ding",frequency:1200,type:"square",duration:150,category:"notification"},{id:"chirp",name:"Chirp",frequency:1500,type:"sine",duration:80,category:"notification"},{id:"beep",name:"Beep",frequency:600,type:"sine",duration:100,category:"notification"},{id:"tick",name:"Tick",frequency:2e3,type:"square",duration:50,category:"notification"},{id:"ping",name:"Ping",frequency:1800,type:"triangle",duration:120,category:"notification"},{id:"bubble",name:"Bubble",frequency:800,type:"sine",duration:200,category:"notification",frequencies:[800,1200]},{id:"pop",name:"Pop",frequency:1e3,type:"square",duration:80,category:"notification"}],tS=[{id:"buzz",name:"Buzz",frequency:400,type:"sawtooth",duration:250,category:"game"},{id:"whoosh",name:"Whoosh",frequency:200,type:"sawtooth",duration:500,category:"game",frequencies:[200,150,100]},{id:"bloop",name:"Bloop",frequency:300,type:"sine",duration:400,category:"game",frequencies:[300,400,350]},{id:"zap",name:"Zap",frequency:1500,type:"square",duration:120,category:"game",frequencies:[1500,1e3,500]},{id:"bounce",name:"Bounce",frequency:500,type:"triangle",duration:300,category:"game",frequencies:[500,700,600,800]},{id:"powerup",name:"Power Up",frequency:440,type:"square",duration:600,category:"game",frequencies:[440,523,659,784]},{id:"coin",name:"Coin",frequency:1046,type:"square",duration:300,category:"game",frequencies:[1046,1318]},{id:"fanfare",name:"Fanfare",frequency:523,type:"triangle",duration:1200,category:"game",frequencies:[523,659,784,1046]}],lM=[{id:"classic",name:"Classic System Alerts",sounds:Zw},{id:"musical",name:"Musical Notes & Melodies",sounds:Jw},{id:"notification",name:"Notification Alerts",sounds:eS},{id:"game",name:"Game & Action Sounds",sounds:tS}],sm=[...Zw,...Jw,...eS,...tS];async function nS(e){try{if(!e||!e.frequency||!e.type||!e.duration)return!1;const t=window.AudioContext||window.webkitAudioContext;if(!t)return!1;const i=new t;if(e.frequencies&&e.frequencies.length>1)return oM(i,e);const a=i.createOscillator(),s=i.createGain();return a.connect(s),s.connect(i.destination),a.frequency.value=e.frequency,a.type=e.type,s.gain.setValueAtTime?(s.gain.setValueAtTime(.3,i.currentTime),s.gain.exponentialRampToValueAtTime(.01,i.currentTime+e.duration/1e3)):s.gain.value=.3,a.start(),a.stop(i.currentTime+e.duration/1e3),setTimeout(()=>{i.close()},e.duration+100),!0}catch(t){return console.warn("Sound playback failed:",t),!1}}async function oM(e,t){try{const i=t.frequencies,a=t.duration/i.length,s=e.createGain();return s.connect(e.destination),s.gain.setValueAtTime?s.gain.setValueAtTime(.3,e.currentTime):s.gain.value=.3,i.forEach((o,u)=>{const d=e.createOscillator(),h=e.createGain();d.connect(h),h.connect(s),d.frequency.value=o,d.type=t.type;const m=e.currentTime+u*a/1e3,g=m+a/1e3;h.gain.setValueAtTime?(h.gain.setValueAtTime(1,m),h.gain.exponentialRampToValueAtTime(.01,g)):h.gain.value=1,d.start(m),d.stop(g)}),setTimeout(()=>{e.close()},t.duration+100),!0}catch(i){return console.warn("Melody playback failed:",i),!1}}function Tu(){return sm[Math.floor(Math.random()*sm.length)]}function iS(e){return e&&sm.find(t=>t.id===e)||null}function uM({selectedSoundId:e,onSoundChange:t,label:i="Turn Sound"}){const a=async()=>{if(!e)return;const o=iS(e);if(o)try{await nS(o)||console.error("Failed to play sound")}catch(u){console.error("Failed to play sound:",u)}},s=o=>{t(o.target.value)};return c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1,py:1},children:[c.jsxs(et,{fullWidth:!0,size:"small",children:[c.jsx(it,{id:"sound-select-label",children:i}),c.jsxs(tt,{labelId:"sound-select-label",value:e||"",label:i,onChange:s,children:[c.jsx(pe,{value:"",children:c.jsxs(H,{display:"flex",alignItems:"center",gap:1,children:[c.jsx(GA,{fontSize:"small"}),"No sound"]})}),lM.map(o=>[c.jsx(YT,{sx:{fontWeight:"bold"},children:o.name},`header-${o.id}`),...o.sounds.map(u=>c.jsx(pe,{value:u.id,sx:{pl:3},children:u.name},u.id))])]})]}),c.jsx(Vt,{title:"Play sample",children:c.jsx(We,{onClick:a,color:"primary",disabled:!e,size:"small",children:c.jsx(io,{})})})]})}function cM({open:e,player:t,existingPlayers:i,onSubmit:a,onCancel:s}){const{t:o}=ce(),[u,d]=_.useState({name:"",role:"vers",sound:Tu().id}),[h,m]=_.useState({}),[g,p]=_.useState(!1);_.useEffect(()=>{d(t?{name:t.name,role:t.role,sound:t.sound||Tu().id}:{name:"",role:"vers",sound:Tu().id}),m({})},[t,e]);const x=_.useCallback(()=>{const A={},E=u.name.trim();return E?E.length<2?A.name=o("localPlayers.form.errors.nameTooShort"):E.length>20?A.name=o("localPlayers.form.errors.nameTooLong"):i.some(N=>N.id!==(t==null?void 0:t.id)&&N.name.toLowerCase()===E.toLowerCase())&&(A.name=o("localPlayers.form.errors.nameDuplicate")):A.name=o("localPlayers.form.errors.nameRequired"),(!u.role||!["dom","sub","vers"].includes(u.role))&&(A.role=o("localPlayers.form.errors.roleRequired")),m(A),Object.keys(A).length===0},[u,i,t,o]),v=_.useCallback(A=>{const E=A.target.value;d(z=>({...z,name:E})),h.name&&m(z=>({...z,name:void 0}))},[h.name]),w=_.useCallback(A=>{const E=A.target.value;d(z=>({...z,role:E})),h.role&&m(z=>({...z,role:void 0}))},[h.role]),S=_.useCallback(A=>{d(E=>({...E,sound:A}))},[]),C=_.useCallback(async()=>{if(x()){p(!0);try{const A={name:u.name.trim(),role:u.role,sound:u.sound};await a(A)}catch(A){console.error("Error submitting player form:",A)}finally{p(!1)}}},[u,x,a]),j=_.useCallback(()=>{d({name:"",role:"vers",sound:Tu().id}),m({}),s()},[s]),M=_.useCallback(A=>A.split(" ").map(E=>E.charAt(0)).join("").toUpperCase().slice(0,2)||"P",[]),T=A=>{switch(A){case"dom":return"primary";case"sub":return"secondary";case"vers":return"default";default:return"default"}},D=!!t;return c.jsxs($t,{open:e,onClose:j,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:2}},children:[c.jsx(en,{children:o(D?"localPlayers.form.editPlayerTitle":"localPlayers.form.addPlayerTitle")}),c.jsxs(Kt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:3,p:2,bgcolor:"action.hover",borderRadius:1},children:[c.jsx(Xm,{sx:{bgcolor:"primary.main",width:56,height:56,fontSize:"1.5rem",fontWeight:"bold"},children:M(u.name||"P")}),c.jsxs(H,{sx:{direction:"row"},children:[c.jsx(q,{variant:"h6",children:u.name||o("localPlayers.form.previewName")}),c.jsx(H,{sx:{display:"flex",alignItems:"center",gap:1,mt:.5},children:c.jsx(at,{label:o(`roles.${u.role}`),size:"small",color:T(u.role),variant:"outlined"})})]})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:3},children:[c.jsx(He,{label:o("localPlayers.form.nameLabel"),value:u.name,onChange:v,error:!!h.name,helperText:h.name||o("localPlayers.form.nameHelper"),placeholder:o("localPlayers.form.namePlaceholder"),fullWidth:!0,autoFocus:!D,inputProps:{maxLength:20}}),c.jsxs(et,{fullWidth:!0,error:!!h.role,children:[c.jsx(it,{children:o("localPlayers.form.roleLabel")}),c.jsxs(tt,{value:u.role,onChange:w,label:o("localPlayers.form.roleLabel"),children:[c.jsx(pe,{value:"dom",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(at,{label:o("roles.dom"),size:"small",color:"primary",variant:"outlined"}),c.jsx(q,{variant:"body2",color:"text.secondary",children:o("localPlayers.form.roleDescriptions.dom")})]})}),c.jsx(pe,{value:"sub",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(at,{label:o("roles.sub"),size:"small",color:"secondary",variant:"outlined"}),c.jsx(q,{variant:"body2",color:"text.secondary",children:o("localPlayers.form.roleDescriptions.sub")})]})}),c.jsx(pe,{value:"vers",children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:1},children:[c.jsx(at,{label:o("roles.vers"),size:"small",color:"default",variant:"outlined"}),c.jsx(q,{variant:"body2",color:"text.secondary",children:o("localPlayers.form.roleDescriptions.vers")})]})})]}),h.role&&c.jsx(q,{variant:"caption",color:"error",sx:{mt:1,ml:1.5},children:h.role})]}),c.jsx(uM,{selectedSoundId:u.sound,onSoundChange:S,label:o("localPlayers.form.soundLabel","Turn Sound")}),c.jsx(Ut,{severity:"info",sx:{mt:1},children:c.jsx(q,{variant:"body2",children:o("localPlayers.form.helpText")})})]})]}),c.jsxs($r,{sx:{p:3,pt:1},children:[c.jsx(fe,{onClick:j,disabled:g,children:o("cancel")}),c.jsx(fe,{onClick:C,variant:"contained",disabled:g||!u.name.trim(),children:o(g?"localPlayers.form.saving":D?"localPlayers.form.saveChanges":"localPlayers.form.addPlayer")})]})]})}function rS({roomId:e,isPrivateRoom:t,onComplete:i,onCancel:a,initialPlayers:s=[],initialSettings:o}){const{t:u}=ce();console.debug("Setting up local players for room:",e);const[d,h]=_.useState(s),[m,g]=_.useState(!1),[p,x]=_.useState(null),[v,w]=_.useState(!1),[S,C]=_.useState(!1),[j,M]=_.useState(null),[T]=_.useState(o||{showTurnTransitions:!0,enableTurnSounds:!0,showPlayerAvatars:!0}),D=_.useCallback(()=>{const V=d.length>=2&&d.length<=4,X=d.every(O=>O.name.trim().length>0),te=new Set(d.map(O=>O.name.toLowerCase())).size===d.length,ne=V&&X&&te;return g(ne),d.length<2?x(u("localPlayers.errors.minimumPlayers")):d.length>4?x(u("localPlayers.errors.maximumPlayers")):x(X?te?null:u("localPlayers.errors.duplicateNames"):u("localPlayers.errors.emptyNames")),ne},[d,u]);_.useEffect(()=>{s.length>0&&h(s)},[]),_.useEffect(()=>{D()},[D]);const A=_.useCallback(()=>`local_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,[]),E=_.useCallback(()=>u("localPlayers.defaultPlayerName",{number:d.length+1}),[d.length,u]),z=_.useCallback(()=>{d.length>=4||(M(null),C(!0))},[d.length]),N=_.useCallback(V=>{h(X=>X.filter(ne=>ne.id!==V).map((ne,O)=>({...ne,order:O,isActive:O===0})))},[]),P=_.useCallback((V,X)=>{h(te=>te.map(ne=>ne.id===V?{...ne,...X}:ne))},[]),L=_.useCallback((V,X)=>{P(V,{role:X})},[P]),B=_.useCallback(V=>{M(V),C(!0)},[]),G=_.useCallback(async V=>{if(j)P(j.id,V);else{const X={id:A(),name:V.name||E(),role:V.role||"vers",order:d.length,isActive:d.length===0,deviceId:"current_device",location:0,isFinished:!1,sound:V.sound};h(te=>[...te,X])}C(!1),M(null)},[j,P,A,E,d.length]),Y=_.useCallback(()=>{C(!1),M(null)},[]),ee=_.useCallback(async()=>{if(D()){w(!0),x(null);try{await i(d,T)}catch(V){x(V instanceof Error?V.message:u("localPlayers.errors.sessionCreation"))}finally{w(!1)}}},[d,T,D,i,u]),le=_.useCallback(()=>{a()},[a]);return t?c.jsxs(yt,{children:[c.jsx(Ju,{title:c.jsx(q,{variant:"h5",component:"h2",children:c.jsx(K,{i18nKey:"localPlayers.setupTitle"})}),subheader:c.jsx(q,{variant:"body2",color:"text.secondary",children:c.jsx(K,{i18nKey:"localPlayers.setupSubtitle"})})}),c.jsxs(jt,{children:[p&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:p}),c.jsxs(H,{sx:{mb:3},children:[c.jsxs(H,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[c.jsx(q,{variant:"h6",children:c.jsx(K,{i18nKey:"localPlayers.playersTitle"})}),c.jsx(q,{variant:"body2",color:"text.secondary",children:u("localPlayers.playersCount",{count:d.length})})]}),d.length===0?c.jsxs(H,{sx:{textAlign:"center",py:4,border:"2px dashed",borderColor:"divider",borderRadius:1,bgcolor:"action.hover"},children:[c.jsx(q,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:c.jsx(K,{i18nKey:"localPlayers.noPlayersYet"})}),c.jsx(fe,{variant:"contained",startIcon:c.jsx(nc,{}),onClick:z,children:c.jsx(K,{i18nKey:"localPlayers.addFirstPlayer"})})]}):c.jsxs(c.Fragment,{children:[c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:2},children:d.map((V,X)=>c.jsx(sM,{player:V,index:X,isActive:V.isActive,canEdit:!0,canDelete:d.length>1,onEdit:B,onDelete:N,onRoleChange:L},V.id))}),d.length<4&&c.jsx(H,{sx:{display:"flex",justifyContent:"center",mt:2},children:c.jsx(iw,{size:"small",color:"primary",onClick:z,"aria-label":"Add player",children:c.jsx(nc,{})})})]})]}),c.jsxs(H,{sx:{display:"flex",gap:2,justifyContent:"flex-end"},children:[c.jsx(fe,{variant:"outlined",onClick:le,disabled:v,children:c.jsx(K,{i18nKey:"cancel"})}),c.jsx(fe,{variant:"contained",onClick:ee,disabled:!m||v,children:v?c.jsx(K,{i18nKey:"localPlayers.creatingSession"}):c.jsx(K,{i18nKey:"localPlayers.startSession"})})]})]}),c.jsx(cM,{open:S,player:j,existingPlayers:d,onSubmit:G,onCancel:Y})]}):c.jsx(yt,{children:c.jsx(jt,{children:c.jsx(Ut,{severity:"warning",children:c.jsx(q,{children:c.jsx(K,{i18nKey:"localPlayers.privateRoomRequired"})})})})})}function dM({roomId:e="PRIVATE",isPrivateRoom:t=!0}){const{t:i}=ce(),{localPlayers:a,hasLocalPlayers:s,session:o,sessionSettings:u,clearLocalSession:d,updateSettings:h,createLocalSession:m}=fs(),[g,p]=_.useState(!1),[x,v]=_.useState(null),w=_.useCallback(()=>{p(!0),v(null)},[]),S=_.useCallback(()=>{p(!1),v(null)},[]),C=_.useCallback(async(T,D)=>{try{await m(e,T,D),p(!1),v(null)}catch(A){v(A instanceof Error?A.message:"Failed to save local player configuration")}},[e,m]),j=_.useCallback(async()=>{try{await d(),v(null)}catch(T){v(T instanceof Error?T.message:"Failed to clear local session")}},[d]),M=_.useCallback(async(T,D)=>{if(u)try{const A={...u,[T]:D};await h(A),v(null)}catch(A){v(A instanceof Error?A.message:"Failed to update settings")}},[u,h]);return g?c.jsxs(H,{children:[x&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:x}),c.jsx(rS,{roomId:e,isPrivateRoom:t,onComplete:C,onCancel:S,initialPlayers:a,initialSettings:u})]}):c.jsxs(H,{children:[x&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:x}),s?c.jsxs(H,{children:[c.jsxs(H,{sx:{mb:3},children:[c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:1,mb:2},children:a.map(T=>c.jsxs(H,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",p:1,borderRadius:1,bgcolor:T.isActive?"primary.50":"background.default",border:T.isActive?"1px solid":"1px solid transparent",borderColor:T.isActive?"primary.main":"transparent"},children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2},children:[c.jsxs(q,{variant:"body2",color:"text.secondary",children:["#",T.order+1]}),c.jsx(q,{variant:"body1",fontWeight:T.isActive?"bold":"normal",children:T.name}),c.jsx(at,{label:i(`roles.${T.role}`),size:"small",variant:"outlined"})]}),T.isActive&&c.jsx(at,{label:i("localPlayerSettings.players.currentTurn"),color:"primary",size:"small"})]},T.id))}),c.jsxs(H,{sx:{display:"flex",gap:1},children:[c.jsx(fe,{variant:"outlined",startIcon:c.jsx(Sc,{}),onClick:w,size:"small",children:c.jsx(K,{i18nKey:"localPlayerSettings.session.editButton"})}),c.jsx(fe,{variant:"outlined",color:"error",startIcon:c.jsx(hw,{}),onClick:j,size:"small",children:c.jsx(K,{i18nKey:"localPlayerSettings.session.clearButton"})})]})]}),(o==null?void 0:o.settings)&&c.jsxs(H,{sx:{mt:3,p:2,borderRadius:1,bgcolor:"action.hover"},children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(_c,{sx:{color:"text.secondary"}}),c.jsx(q,{variant:"subtitle1",component:"h4",children:c.jsx(K,{i18nKey:"localPlayerSettings.settings.title"})})]}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:2},children:[c.jsx(Ul,{control:c.jsx(Mi,{checked:o.settings.showTurnTransitions,onChange:T=>M("showTurnTransitions",T.target.checked)}),label:i("localPlayerSettings.settings.showTurnTransitions")}),c.jsx(Ul,{control:c.jsx(Mi,{checked:o.settings.enableTurnSounds,onChange:T=>M("enableTurnSounds",T.target.checked)}),label:i("localPlayerSettings.settings.playTurnSounds")})]})]})]}):c.jsxs(H,{sx:{textAlign:"center",py:2},children:[c.jsx(mw,{sx:{fontSize:48,color:"text.secondary",mb:2}}),c.jsx(q,{variant:"body1",color:"text.secondary",paragraph:!0,children:c.jsx(K,{i18nKey:"localPlayerSettings.noPlayers.description"})}),c.jsx(fe,{variant:"contained",startIcon:c.jsx(io,{}),onClick:w,size:"large",children:c.jsx(K,{i18nKey:"localPlayerSettings.noPlayers.setupButton"})})]})]})}function fM({formData:e,setFormData:t}){const{t:i}=ce();return c.jsxs(H,{sx:{p:2},children:[c.jsx(yt,{variant:"outlined",sx:{mb:3},children:c.jsxs(jt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(FA,{sx:{color:"primary.main"}}),c.jsx(q,{variant:"h6",component:"h3",children:i("roomType")})]}),c.jsx(rM,{formData:e,setFormData:t})]})}),!nt(e.room)&&c.jsxs(c.Fragment,{children:[c.jsx(yt,{variant:"outlined",sx:{mb:3},children:c.jsxs(jt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(mw,{sx:{color:"primary.main"}}),c.jsx(q,{variant:"h6",component:"h3",children:i("localPlayerSettings.title")})]}),c.jsx(dM,{roomId:e.room,isPrivateRoom:!nt(e.room)})]})}),c.jsx(yt,{variant:"outlined",sx:{mb:3},children:c.jsxs(jt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(Zm,{sx:{color:"primary.main"}}),c.jsx(q,{variant:"h6",component:"h3",children:i("gameConfiguration")})]}),c.jsx(H,{sx:{mb:3},children:c.jsx(nM,{formData:e,setFormData:t})}),c.jsx(H,{sx:{p:2,borderRadius:1,bgcolor:"action.hover"},children:c.jsx(iM,{formData:e,setFormData:t})})]})}),c.jsx(yt,{variant:"outlined",sx:{mb:3},children:c.jsxs(jt,{children:[c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[c.jsx(qA,{sx:{color:"primary.main"}}),c.jsx(q,{variant:"h6",component:"h3",children:i("visualSettings")})]}),c.jsx(tM,{formData:e,setFormData:t})]})})]})]})}function Al({children:e,value:t,index:i,style:a,...s}){return c.jsx("div",{role:"tabpanel",hidden:t!==i,id:`simple-tabpanel-${i}`,"aria-labelledby":`simple-tab-${i}`,...s,children:t===i&&c.jsx(H,{sx:{p:3,...a},children:e})})}function sp(e={},t={}){const[i]=pn(),a={...e,...i,selectedActions:(i==null?void 0:i.selectedActions)||{},finishRange:(i==null?void 0:i.finishRange)||[30,70],...t},[s,o]=_.useState(a),{messages:u}=Zr(),[d,h]=_.useState(!1);return _.useEffect(()=>{const m=Kr(u,"room");if(m!=null&&m.settings)try{const g=JSON.parse(m.settings);o(p=>d?p.selectedActions&&Object.keys(p.selectedActions).length>0?{...p,...g,selectedActions:p.selectedActions}:{...p,...g}:(h(!0),{...p,...g}))}catch(g){console.error("Error parsing message settings:",g)}else d||h(!0)},[u,d]),[s,o]}const aS=({levels:e})=>!!(e!=null&&e.length)&&e.some(t=>t>0);function hM(e){return Object.values(e).some(aS)}function mM(e,t){const i=e.selectedActions||{};return Object.entries(i).reduce((a,[s,o])=>{var u;if(s in t){const d=(u=o==null?void 0:o.variation)!=null&&u.startsWith("append")?"withAppend":"withoutAppend";a[d][s]=o}return a},{withAppend:{},withoutAppend:{}})}function pM(e){return Object.keys(e).length>0&&Object.values(e).some(aS)}function gM(e,t){const{withAppend:i,withoutAppend:a}=mM(e,t);return hM(a)?nt(e.room)&&!Qt(e.gameMode)?"privateRequired":null:pM(i)?"appendWithAction":"pickSomething"}function lp({closeDialog:e,initialTab:t=0,onOpenSetupWizard:i}){const{user:a}=En(),{t:s}=ce(),[o,u]=pn(),[d,h]=_.useState(t),[m,g]=_.useState(null),[p,x]=_.useState(!1),[v,w]=sp(),S=rp(),{isLoading:C,actionsList:j}=Tc(v==null?void 0:v.gameMode),M=(z,N)=>{h(N)},T=()=>u({...o,boardUpdated:!0}),D=_.useCallback(async z=>{z.preventDefault();const{displayName:N,...P}=v,L=gM(P,j);return L?(g(s(L)),null):(await S(v,j),typeof e=="function"&&e(),null)},[v,j,s,g,S,e]),A=_.useCallback(z=>{w(N=>({...N,displayName:z.target.value}))},[w]),E=_.useCallback(z=>{z.key==="Enter"&&(w(N=>({...N,displayName:z.target.value})),D(z))},[D,w]);return!v.room||C?c.jsxs(H,{children:[c.jsxs(q,{variant:"h2",children:[c.jsx(K,{i18nKey:"loading"}),"..."]}),c.jsx(q,{variant:"body1",children:c.jsx(K,{i18nKey:"clearStorage"})})]}):c.jsxs(H,{component:"form",method:"post",onSubmit:D,className:"settings-box",children:[c.jsx(He,{fullWidth:!0,id:"displayName",label:s("displayName"),defaultValue:(a==null?void 0:a.displayName)||v.displayName||"",required:!0,autoFocus:!0,onBlur:A,onKeyDown:E,margin:"normal"}),c.jsx(H,{sx:{borderBottom:1,borderColor:"divider"},children:c.jsxs(Km,{value:d,onChange:M,"aria-label":s("gameSettings"),centered:!0,children:[c.jsx(Vr,{label:s("gameboard"),...Tl(0)}),c.jsx(Vr,{label:s("room"),...Tl(1)}),c.jsx(Vr,{label:s("application"),...Tl(2)})]})}),c.jsx(Al,{value:d,index:0,style:{p:0},children:c.jsx(UE,{formData:v,setFormData:w,actionsList:j})}),c.jsx(Al,{value:d,index:1,style:{p:0,pt:1},children:c.jsx(fM,{formData:v,setFormData:w})}),c.jsx(Al,{value:d,index:2,style:{p:0,pt:1},children:c.jsx(OE,{formData:v,setFormData:w,boardUpdated:T})}),c.jsxs("div",{className:"flex-buttons",children:[c.jsxs("div",{className:"left-buttons",children:[i&&c.jsx(fe,{variant:"outlined",type:"button",onClick:i,children:c.jsx(K,{i18nKey:"setupWizard"})}),d===0&&c.jsx(fe,{variant:"outlined",type:"button",onClick:()=>x(!0),children:c.jsx(K,{i18nKey:"customTilesLabel",children:"Game Tiles"})})]}),c.jsx(fe,{variant:"contained",type:"submit",children:c.jsx(K,{i18nKey:"update"})})]}),p&&c.jsx(Qw,{open:p,setOpen:x,boardUpdated:T,actionsList:j}),c.jsx(pr,{open:!!m,close:()=>g(null),children:m})]})}function yM({open:e,close:t,isMobile:i=!1}){const a=mn(),s=i||a,[o]=xc();return o.get("importBoard")?null:c.jsxs($t,{fullScreen:s,open:e,maxWidth:"md",children:[c.jsxs(en,{children:[c.jsx(K,{i18nKey:"gameSettingsHeading"}),typeof t=="function"&&c.jsx(di,{close:t})]}),c.jsx(Kt,{children:c.jsx(lp,{closeDialog:typeof t=="function"?t:void 0,initialTab:2})})]})}function ls({children:e,justifyContent:t="space-evenly"}){return c.jsx(H,{sx:{mt:3,display:"flex",flexDirection:"row",justifyContent:t,alignItems:"center"},children:e})}function yv({isPublic:e,onClick:t,isSelected:i}){const{t:a}=ce();return c.jsx(yt,{sx:{cursor:"pointer",border:i?"3px solid":"1px solid",borderColor:i?"primary.main":"grey.300",backgroundColor:i?"primary.50":"background.paper",transform:i?"scale(1.02)":"scale(1)",transition:"all 0.2s ease-in-out","&:hover":{borderColor:"primary.main",boxShadow:i?4:2,transform:"scale(1.02)"}},onClick:t,children:c.jsx(jt,{sx:{p:3},children:c.jsxs(It,{direction:"row",spacing:3,alignItems:"center",children:[c.jsx(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:56,height:56,borderRadius:"50%",backgroundColor:i?"primary.main":"primary.50",color:i?"primary.contrastText":"primary.main",transition:"all 0.2s ease-in-out"},children:e?c.jsx(HA,{sx:{fontSize:28},"aria-label":"Public"}):c.jsx($A,{sx:{fontSize:28},"aria-label":"Private"})}),c.jsxs(It,{spacing:.5,flex:1,children:[c.jsxs(It,{direction:"row",alignItems:"center",spacing:1,children:[c.jsx(q,{variant:"h6",component:"h3",sx:{fontWeight:600},children:c.jsx(K,{i18nKey:e?"public":"private"})}),i&&c.jsx(at,{label:a("selected"),size:"small",color:"primary",sx:{fontSize:"0.75rem",fontWeight:500,height:20}})]}),c.jsx(q,{variant:"body1",color:"text.secondary",sx:{fontSize:"0.95rem"},children:c.jsx(K,{i18nKey:e?"publicRoomBenefit":"privateRoomBenefit"})})]})]})})})}function xM({formData:e,setFormData:t,nextStep:i}){var a;const{t:s}=ce(),{id:o}=tn(),[u,d]=_.useState(!nt(e.room||o)),[h,m]=_.useState(((a=e.room)==null?void 0:a.toUpperCase())||"");_.useEffect(()=>{const D=e.room||o,A=!nt(D);d(A),m((D==null?void 0:D.toUpperCase())||"")},[o,e.room,u]);const g=async D=>{try{const A=vc(),E=rs(A,`rooms/${D}/uids`);return(await sw(E)).exists()}catch(A){return!1}},p=_.useCallback(async()=>{const D=uw("123456789ABCDEFGHJKLMNPQRSTUVWXYZ",5);let A,E=0;const z=10;do if(A=D(),E++,E>=z)break;while(await g(A));return A},[]),x=_.useCallback(()=>{t({...e,room:"PUBLIC",gameMode:"online",roomRealtime:!0}),d(!1)},[e,t]),v=_.useCallback(async()=>{const D=await p();t({...e,room:D,gameMode:"online",roomRealtime:!1}),m(D.toUpperCase()),d(!0)},[e,t,p]),w=_.useCallback(D=>{t({...e,room:D,boardUpdated:!0})},[e,t]),S=_.useCallback(D=>{const A=D.target.value.toUpperCase();m(A)},[]),C=_.useCallback(()=>{w(h)},[w,h]),j=_.useCallback(D=>{D.key==="Enter"&&w(h)},[w,h]),M=nt(e.room||o);function T(){i(M?3:1)}return c.jsxs(H,{sx:{m:1},children:[c.jsx(q,{variant:"h5",gutterBottom:!0,textAlign:"center",children:c.jsx(K,{i18nKey:"chooseRoomType"})}),c.jsx(q,{variant:"body1",color:"text.secondary",textAlign:"center",sx:{mb:3},children:c.jsx(K,{i18nKey:"roomTypeDescription"})}),c.jsxs(It,{spacing:2,sx:{mb:3},children:[c.jsx(yv,{isPublic:!0,onClick:x,isSelected:M}),c.jsx(yv,{isPublic:!1,onClick:v,isSelected:!M})]}),u&&c.jsxs(H,{sx:{p:3,borderRadius:2,backgroundColor:"primary.50",mb:2},children:[c.jsx(q,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:s("privateRoomCode")}),c.jsx(He,{fullWidth:!0,id:"privateRoom",value:h,onBlur:C,onKeyDown:j,onChange:S,inputProps:{style:{textTransform:"uppercase",fontFamily:"monospace",fontSize:"1.25rem",fontWeight:"bold",textAlign:"center",letterSpacing:"0.2em"}},sx:{"& .MuiOutlinedInput-root":{backgroundColor:"background.paper","& fieldset":{borderColor:"divider",borderWidth:2},"&:hover fieldset":{borderColor:"primary.main"},"&.Mui-focused fieldset":{borderColor:"primary.main",borderWidth:2}}}}),c.jsx(q,{variant:"body2",color:"text.secondary",sx:{mt:1.5,textAlign:"center"},children:s("privateRoomCodeHelp")})]}),c.jsx(ls,{children:c.jsx(fe,{variant:"contained",onClick:T,size:"large",children:c.jsx(K,{i18nKey:"next"})})})]})}function bM({formData:e,setFormData:t,nextStep:i,prevStep:a}){const{t:s}=ce(),{hasLocalPlayers:o,clearLocalSession:u}=fs(),[d,h]=_.useState(!1),[m,g]=_.useState(null),p=e.room!=="PUBLIC",x=_.useCallback(()=>{h(!0),g(null)},[]),v=_.useCallback(()=>{o&&u(),t(C=>({...C,hasLocalPlayers:!1,localPlayersData:void 0,localPlayerSessionSettings:void 0,gameMode:C.gameMode==="local"?"online":C.gameMode})),i()},[o,u,i,t]),w=_.useCallback(async(C,j)=>{try{t({...e,localPlayersData:C,localPlayerSessionSettings:j,hasLocalPlayers:!0}),h(!1),i()}catch(M){g(M instanceof Error?M.message:"Failed to save local player configuration")}},[e,t,i]),S=_.useCallback(()=>{h(!1),g(null)},[]);return _.useEffect(()=>{if(!p){const C=setTimeout(()=>{i()},100);return()=>clearTimeout(C)}},[p,i]),p?d?c.jsx(Ym,{in:!0,children:c.jsxs(H,{children:[m&&c.jsx(Ut,{severity:"error",sx:{mb:2},children:m}),c.jsx(rS,{roomId:e.room||"PRIVATE",isPrivateRoom:p,onComplete:w,onCancel:S,initialPlayers:e.localPlayersData,initialSettings:e.localPlayerSessionSettings})]})}):c.jsxs(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column"},children:[c.jsx(q,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(K,{i18nKey:"localPlayersStep.title"})}),c.jsx(q,{variant:"body1",color:"text.secondary",sx:{mb:3},children:c.jsx(K,{i18nKey:"localPlayersStep.subtitle"})}),c.jsxs(Ee,{container:!0,spacing:2,sx:{mb:3},children:[c.jsx(Ee,{size:{xs:12,sm:6},children:c.jsx(yt,{sx:{cursor:"pointer",border:"1px solid",borderColor:"divider",backgroundColor:"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:x,children:c.jsx(jt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(q,{variant:"h6",sx:{fontWeight:600},children:c.jsx(K,{i18nKey:"localPlayersStep.setupOption.title"})}),c.jsx(q,{variant:"body2",color:"text.secondary",sx:{whiteSpace:"pre-line",textAlign:"left",width:"100%",lineHeight:1.8,mb:2},children:c.jsx(K,{i18nKey:"localPlayersStep.setupOption.description"})}),c.jsx(fe,{variant:"outlined",fullWidth:!0,size:"large",sx:{mt:2},"data-testid":"localPlayersStep.setupOption.button",onClick:x,children:s("localPlayersStep.setupOption.button")})]})})})}),c.jsx(Ee,{size:{xs:12,sm:6},children:c.jsx(yt,{sx:{cursor:"pointer",border:"1px solid",borderColor:"divider",backgroundColor:"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:v,children:c.jsx(jt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(q,{variant:"h6",sx:{fontWeight:600},children:c.jsx(K,{i18nKey:"localPlayersStep.skipOption.title"})}),c.jsx(q,{variant:"body2",color:"text.secondary",sx:{whiteSpace:"pre-line",textAlign:"left",width:"100%",lineHeight:1.8,mb:2},children:c.jsx(K,{i18nKey:"localPlayersStep.skipOption.description"})}),c.jsx(fe,{variant:"outlined",fullWidth:!0,size:"large",sx:{mt:2},"data-testid":"localPlayersStep.skipOption.button",onClick:v,children:s("localPlayersStep.skipOption.button")})]})})})})]}),o&&c.jsx(Ut,{severity:"info",sx:{mb:3},children:c.jsx(q,{variant:"body2",children:c.jsx(K,{i18nKey:"localPlayersStep.currentStatus.hasPlayers"})})}),c.jsx(H,{sx:{flexGrow:1}}),c.jsxs(ls,{children:[c.jsx(fe,{onClick:a,children:c.jsx(K,{i18nKey:"previous"})}),c.jsx(fe,{variant:"contained",onClick:v,children:c.jsx(K,{i18nKey:"skip"})})]})]}):c.jsx(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:c.jsx(q,{variant:"h6",color:"text.secondary",children:s("localPlayersStep.publicRoomMessage","Local players are not available for public rooms. Continuing...")})})}function vM({formData:e,setFormData:t,nextStep:i,prevStep:a}){const{t:s}=ce(),o=!!e.hasLocalPlayers;_.useEffect(()=>{o&&t(p=>({...p,gameMode:"local",roomRealtime:!1}))},[o,t]);const[u,d]=_.useState(!Qt(e==null?void 0:e.gameMode)&&!o);_.useEffect(()=>{d(!Qt(e==null?void 0:e.gameMode)&&!o)},[e==null?void 0:e.gameMode,o]);const h=[{id:"local",title:"yesInteracting",description:s("physicalInteractionDesc"),isSelected:!Qt(e==null?void 0:e.gameMode)},{id:"online",title:"noInteracting",description:s("soloOnlinePlayDesc"),isSelected:Qt(e==null?void 0:e.gameMode)}],m=[{value:"dom",label:"Dominant",description:s("dominantRoleDesc")},{value:"vers",label:"Switch",description:s("switchRoleDesc")},{value:"sub",label:"Submissive",description:s("submissiveRoleDesc")}],g=[{id:"clothed",title:"noNaked",description:s("foreplayClothedDesc"),isSelected:!e.isNaked},{id:"naked",title:"yesNaked",description:s("intimateNudityDesc"),isSelected:e.isNaked}];return c.jsxs(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column"},children:[!o&&c.jsxs(c.Fragment,{children:[c.jsx(q,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(K,{i18nKey:"playingWithPeople"})}),c.jsx(Ee,{container:!0,spacing:2,sx:{mb:3},children:h.map(p=>c.jsx(Ee,{size:{xs:12,sm:6},children:c.jsx(yt,{role:"button",tabIndex:0,sx:{cursor:"pointer",border:p.isSelected?"3px solid":"1px solid",borderColor:p.isSelected?"primary.main":"divider",backgroundColor:p.isSelected?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:()=>t({...e,gameMode:p.id==="local"?"local":"online",roomRealtime:p.id!=="local"}),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),t({...e,gameMode:p.id==="local"?"local":"online",roomRealtime:p.id!=="local"}))},children:c.jsx(jt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(q,{variant:"h6",sx:{fontWeight:600},children:s(p.title)}),c.jsx(q,{variant:"body2",color:"text.secondary",children:p.description}),p.isSelected&&c.jsx(at,{label:s("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},p.id))})]}),o&&c.jsx(q,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(K,{i18nKey:"gameModeSelection"})}),u&&c.jsxs(H,{sx:{mb:3},children:[c.jsx(q,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:c.jsx(K,{i18nKey:"yourRole"})}),c.jsx(Ee,{container:!0,spacing:2,sx:{mb:3},children:m.map(p=>c.jsx(Ee,{size:{xs:12,sm:4},children:c.jsx(yt,{role:"button",tabIndex:0,sx:{cursor:"pointer",border:e.role===p.value?"2px solid":"1px solid",borderColor:e.role===p.value?"primary.main":"divider",backgroundColor:e.role===p.value?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:()=>t({...e,role:p.value}),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),t({...e,role:p.value}))},children:c.jsx(jt,{sx:{p:2.5},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(q,{variant:"subtitle1",sx:{fontWeight:600},children:s(p.value)}),c.jsx(q,{variant:"body2",color:"text.secondary",children:p.description}),e.role===p.value&&c.jsx(at,{label:s("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},p.value))})]}),!Qt(e==null?void 0:e.gameMode)&&c.jsxs(H,{sx:{mb:3},children:[c.jsx(q,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600,mb:2},children:c.jsx(K,{i18nKey:"areYouNaked"})}),c.jsx(Ee,{container:!0,spacing:2,children:g.map(p=>c.jsx(Ee,{size:{xs:12,sm:6},children:c.jsx(yt,{role:"button",tabIndex:0,sx:{cursor:"pointer",border:p.isSelected?"2px solid":"1px solid",borderColor:p.isSelected?"primary.main":"divider",backgroundColor:p.isSelected?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%","&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:2}},onClick:()=>t({...e,isNaked:p.id==="naked"}),onKeyDown:x=>{(x.key==="Enter"||x.key===" ")&&(x.preventDefault(),t({...e,isNaked:p.id==="naked"}))},children:c.jsx(jt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(q,{variant:"h6",sx:{fontWeight:600},children:s(p.title)}),c.jsx(q,{variant:"body2",color:"text.secondary",children:p.description}),p.isSelected&&c.jsx(at,{label:s("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},p.id))})]}),c.jsx(H,{sx:{flexGrow:1}}),c.jsxs(ls,{children:[c.jsx(fe,{onClick:a,children:c.jsx(K,{i18nKey:"previous"})}),c.jsx(fe,{variant:"contained",onClick:i,children:c.jsx(K,{i18nKey:"next"})})]})]})}const wM=(e,t)=>{const{gameMode:i,isNaked:a}=e,s=Qt(i);return s&&["foreplay","sex"].includes(t.type)||!s&&a&&["solo","foreplay"].includes(t.type)||!s&&!a&&["solo","sex"].includes(t.type)},SM=e=>{const t={...e},i=e.selectedActions||{},a={};return Object.entries(i).forEach(([s,o])=>{wM(e,o)||(a[s]=o)}),t.selectedActions=a,t},sS=(e,t,i)=>{const a=e.selectedActions||{};return Object.entries(a).map(([s,o])=>{const u=t.find(d=>d.value===s);return o.type!==i||!u?null:s}).filter(s=>!!s)},_M=(e,t,i)=>{const a={...e},s={...a.selectedActions};return Object.keys(s).forEach(o=>{s[o].type===t&&!i.includes(o)&&delete s[o]}),a.selectedActions=s,a},lS=(e,t,i)=>{i(a=>{const s=_M(a,t,e),o={...s.selectedActions};return e.forEach(u=>{if(o[u])return;let d={type:t,levels:[1]};t==="consumption"&&(d={...d,variation:s.isAppend?"appendMost":"standalone"}),o[u]=d}),{...s,selectedActions:o}})},oS=(e,t,i,a,s=null)=>{a(o=>{const u={...o.selectedActions||{}};return e.length===0?delete u[t]:u[t]={...u[t]||{},type:i,levels:e,...!!s&&{variation:s}},{...o,selectedActions:u}})},jM=e=>!!(e&&Object.keys(e).some(t=>{const i=e[t];return(i==null?void 0:i.levels)&&i.levels.length>0&&(i==null?void 0:i.variation)!=="appendMost"}));function uS(){return c.jsxs(q,{variant:"h6",sx:{mt:2},children:[c.jsx(K,{i18nKey:"setIntensityLevel"}),c.jsx(Vt,{title:c.jsx(q,{variant:"body1",children:c.jsx(K,{i18nKey:"intensityTooltip"})}),arrow:!0,sx:{ml:1},children:c.jsx(ui,{sx:{ml:.5,fontSize:15}})})]})}function cS({onChange:e,values:t,options:i,label:a}){const s=_.useCallback(u=>{var d;return(d=i==null?void 0:i.find(h=>h.value===u))==null?void 0:d.label},[i]),o=_.useCallback(u=>c.jsx(H,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:u==null?void 0:u.map(d=>c.jsx(at,{label:s(d)},d))}),[s]);return c.jsxs(et,{fullWidth:!0,children:[c.jsx(it,{id:`${a}-label`,children:a}),c.jsx(tt,{labelId:`${a}-label`,id:`${a}`,multiple:!0,value:t,onChange:e,fullWidth:!0,input:c.jsx(XT,{label:c.jsx(K,{i18nKey:"actionsLabel"})}),renderValue:o,children:i==null?void 0:i.map(({label:u,value:d})=>c.jsxs(pe,{value:d,children:[c.jsx(nw,{checked:t.includes(d)}),c.jsx(cn,{primary:u})]},d))})]})}const kM=4,CM=e=>Qt(e==null?void 0:e.gameMode)?"solo":e.isNaked?"sex":"foreplay";function TM({formData:e,setFormData:t,options:i,actionsList:a}){const s=CM(e),o=i(s),d=sS(e,o,s)||[],h=m=>{const{value:g}=m.target,p=typeof g=="string"?g.split(","):g;p.length<=kM&&lS(p,s,t)};return c.jsxs(c.Fragment,{children:[c.jsx(q,{variant:"h6",sx:{my:2},children:c.jsx(K,{i18nKey:"pickActions"})}),c.jsx(cS,{onChange:h,values:d,options:o,label:Ie("actionsLabel")}),d.length>0&&c.jsxs(c.Fragment,{children:[c.jsx(uS,{}),d.map(m=>{var g,p;const x=a[m],v=x!=null&&x.intensities?Object.keys(x.intensities).map(Number).filter(S=>S>0).sort((S,C)=>S-C):[1,2,3,4],w=((p=(g=e.selectedActions)==null?void 0:g[m])==null?void 0:p.levels)||[];return c.jsx(ap,{actionName:m,actionLabel:(x==null?void 0:x.label)||m,selectedLevels:w,availableLevels:v,intensityNames:(x==null?void 0:x.intensities)||{},onChange:S=>oS(S,m,s,t)},m)})]})]})}const AM=2;function EM({formData:e,setFormData:t,options:i,actionsList:a}){const s="consumption",o=i(s),d=sS(e,o,s)||[],h=g=>{const{value:p}=g.target,x=typeof p=="string"?p.split(","):p;x.length<=AM&&lS(x,s,t)},m=(g,p)=>{const x=g.target.checked?"appendMost":"standalone",v=g.target.checked,w={...e.selectedActions};p.forEach(C=>{w[C]&&(w[C]={...w[C],variation:x})});const S={...e,isAppend:v,selectedActions:w};t(S)};return c.jsxs(c.Fragment,{children:[c.jsx(q,{variant:"h6",sx:{my:2},children:c.jsx(K,{i18nKey:"pickConsumptions"})}),c.jsx(cS,{onChange:h,values:d,options:o,label:Ie("consumables")}),!!d.length&&c.jsxs(c.Fragment,{children:[c.jsx(uS,{}),d.map(g=>{var p,x;const v=a[g],w=v!=null&&v.intensities?Object.keys(v.intensities).map(Number).filter(C=>C>0).sort((C,j)=>C-j):[1,2,3,4],S=((x=(p=e.selectedActions)==null?void 0:p[g])==null?void 0:x.levels)||[];return c.jsx(ap,{actionName:g,actionLabel:(v==null?void 0:v.label)||g,selectedLevels:S,availableLevels:w,intensityNames:(v==null?void 0:v.intensities)||{},onChange:C=>oS(C,g,s,t,e.isAppend?"appendMost":"standalone")},g)}),c.jsx(q,{variant:"h6",sx:{mt:2},children:c.jsx(K,{i18nKey:"standaloneOrCombine"})}),c.jsx(Kw,{trueCondition:e.isAppend,onChange:g=>m(g,d),yesLabel:"combineWithActions"})]})]})}function MM({gameMode:e,onPresetSelect:t,selectedPreset:i,actionsList:a,showTitle:s=!0}){const{t:o}=ce(),u={solo:[{id:"popperbating",name:o("presetPopperbating"),description:o("presetPopperbatingDesc"),actions:["bating"],consumptions:["poppers"],intensities:{bating:2,poppers:1}},{id:"smoking-tits",name:o("presetSmokingTits"),description:o("presetSmokingTitsDesc"),actions:["titTorture"],consumptions:["vaping"],intensities:{titTorture:2,vaping:1}},{id:"exploration-solo",name:o("presetExplorationSolo"),description:o("presetExplorationSoloDesc"),actions:["throatTraining","buttPlay","titTorture","ballBusting"],consumptions:[],intensities:{throatTraining:1,buttPlay:1,titTorture:1,ballBusting:1}},{id:"ball-busting",name:o("presetBallBusting"),description:o("presetBallBustingDesc"),actions:["ballBusting","bating"],consumptions:["poppers"],intensities:{ballBusting:2,bating:2}}],foreplay:[{id:"romantic-start",name:o("presetRomanticStart"),description:o("presetRomanticStartDesc"),actions:["kissing","stripping"],consumptions:["alcohol"],intensities:{kissing:2,stripping:1,alcohol:1}},{id:"degrading",name:o("presetDegrading"),description:o("presetDegradingDesc"),actions:["humiliation","footPlay","breathPlay"],consumptions:["poppers"],intensities:{humiliation:2,footPlay:2,breathPlay:2,poppers:2}},{id:"sensual-touch",name:o("presetSensualTouch"),description:o("presetSensualTouchDesc"),actions:["kissing","footPlay","tickling"],consumptions:[],intensities:{kissing:2,footPlay:1,tickling:1}},{id:"electric-play",name:o("presetElectricPlay"),description:o("presetElectricPlayDesc"),actions:["electric","bondage"],consumptions:["vaping"],intensities:{electric:1,bondage:2,vaping:1}}],sex:[{id:"gentle-sex",name:o("presetGentleSex"),description:o("presetGentleSexDesc"),actions:["throatTraining","bating","buttPlay"],consumptions:["alcohol"],intensities:{throatTraining:1,bating:1,buttPlay:1,alcohol:1}},{id:"fisting",name:o("presetFisting"),description:o("presetFistingDesc"),actions:["buttPlay"],consumptions:["poppers"],intensities:{buttPlay:4,poppers:4}},{id:"bdsm",name:o("presetBdsm"),description:o("presetBdsmDesc"),actions:["pissPlay","throatTraining","spanking","titTorture"],consumptions:[],intensities:{pissPlay:2,throatTraining:2,spanking:2,titTorture:2}},{id:"breath-control",name:o("presetBreathControl"),description:o("presetBreathControlDesc"),actions:["bating"],consumptions:["gasMask"],intensities:{bating:2,gasMask:2}}]},d=u[e]||u.solo,h=m=>{t(m)};return c.jsxs(H,{children:[s&&c.jsx(q,{variant:"h6",gutterBottom:!0,children:o("quickStart")}),c.jsx(Ee,{container:!0,spacing:2,children:d.map(m=>c.jsx(Ee,{size:{xs:12,sm:6,lg:3},children:c.jsx(yt,{sx:{cursor:"pointer",border:i===m.id?2:1,borderColor:i===m.id?"primary.main":"divider",backgroundColor:i===m.id?"primary.dark":"background.paper",transition:"all 0.2s ease-in-out",height:"100%",boxShadow:1,"&:hover":{borderColor:"primary.main",transform:"translateY(-2px)",boxShadow:3,backgroundColor:i===m.id?"primary.dark":"action.hover"}},onClick:()=>h(m),children:c.jsxs(jt,{sx:{p:2.5},children:[c.jsx(q,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:m.name}),c.jsxs(H,{children:[m.actions.map((g,p)=>{var x;return c.jsx(at,{label:((x=a[g])==null?void 0:x.label)||g,size:"small",variant:"outlined",sx:{mr:.5,mb:.5,borderColor:"primary.main",color:"primary.main","&:hover":{backgroundColor:"primary.50"}}},`action-${p}`)}),m.consumptions.map((g,p)=>{var x;return c.jsx(at,{label:((x=a[g])==null?void 0:x.label)||g,size:"small",color:"secondary",variant:"outlined",sx:{mr:.5,mb:.5,borderColor:"secondary.main",color:"secondary.main","&:hover":{backgroundColor:"secondary.50"}}},`consumption-${p}`)})]})]})})},m.id))})]})}function LM({formData:e,setFormData:t,nextStep:i,prevStep:a,actionsList:s,isActionsLoading:o=!1}){const{t:u}=ce(),[d,h]=_.useState(""),[m,g]=_.useState(!1),[p,x]=_.useState(!0);function v(A){return Object.keys(s).filter(E=>{var z;return((z=s[E])==null?void 0:z.type)===A})}_.useEffect(()=>{const A=SM(e);t(A)},[]),_.useEffect(()=>{e.selectedActions&&Object.keys(e.selectedActions).length>0&&(g(!0),x(!1))},[]);const w=A=>v(A).map(E=>{var z;return{value:E,label:(z=s[E])==null?void 0:z.label}});let S;e.gameMode==="online"?S="solo":e.gameMode==="local"&&!e.isNaked?S="foreplay":S="sex";const C=(A,E,z,N)=>{A.forEach(P=>{var L;if(s[P]){const B=((L=z.intensities)==null?void 0:L[P])||E,Y=Object.keys(s[P].intensities||{}).filter(ee=>ee!=="None").length;N[P]={type:s[P].type,levels:Array.from({length:Math.min(B,Y)},(ee,le)=>le+1)}}})},j=A=>{h(A.id);const E={};C(A.actions,2,A,E),C(A.consumptions,1,A,E),t({...e,selectedActions:E}),x(!1),g(!0)},M=(A,E)=>{x(E),E&&g(!1)},T=(A,E)=>{g(E),E&&x(!1)},D=!jM(e.selectedActions);return o?c.jsxs(H,{children:[c.jsxs(H,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:300,gap:2},children:[c.jsx(hn,{size:48}),c.jsx(q,{variant:"h6",color:"text.secondary",children:u("loadingAvailableActions")})]}),c.jsx(H,{sx:{mt:4},children:c.jsxs(ls,{children:[c.jsx(fe,{disabled:!0,children:c.jsx(K,{i18nKey:"previous"})}),c.jsx(fe,{variant:"contained",disabled:!0,size:"large",children:c.jsx(K,{i18nKey:"next"})})]})})]}):c.jsxs(H,{children:[c.jsxs(Xu,{expanded:p,onChange:M,sx:{backgroundColor:"background.default",borderTop:1,borderBottom:1,borderColor:"divider",borderLeft:"none",borderRight:"none",borderRadius:0,"&:before":{display:"none"},boxShadow:"none"},children:[c.jsx(Qu,{expandIcon:c.jsx(Fl,{}),"aria-controls":"quickstart-content",id:"quickstart-header",sx:{backgroundColor:"background.default"},children:c.jsxs(It,{direction:"row",alignItems:"center",spacing:1,children:[c.jsx(io,{}),c.jsx(q,{variant:"h6",children:u("quickStart")})]})}),c.jsx(Wu,{sx:{pb:1},children:c.jsx(MM,{gameMode:S,onPresetSelect:j,selectedPreset:d,actionsList:s,showTitle:!1})})]}),c.jsxs(Xu,{expanded:m,onChange:T,sx:{backgroundColor:"background.default",borderTop:p?"none":1,borderBottom:1,borderColor:"divider",borderLeft:"none",borderRight:"none",borderRadius:0,marginTop:p?-1:0,"&:before":{display:"none"},boxShadow:"none"},children:[c.jsx(Qu,{expandIcon:c.jsx(Fl,{}),"aria-controls":"customization-content",id:"customization-header",sx:{backgroundColor:"background.default"},children:c.jsxs(It,{direction:"row",alignItems:"center",spacing:1,children:[c.jsx(Zm,{}),c.jsx(q,{variant:"h6",children:u("customizeActions")})]})}),c.jsxs(Wu,{children:[c.jsx(q,{variant:"body2",color:"text.secondary",sx:{mb:2},children:u("customizeActionsDesc")}),c.jsx(TM,{formData:e,setFormData:t,options:w,actionsList:s}),c.jsx(xt,{sx:{my:3}}),c.jsx(EM,{formData:e,setFormData:t,options:w,actionsList:s})]})]}),c.jsx(H,{sx:{mt:4},children:c.jsxs(ls,{children:[c.jsx(fe,{onClick:()=>a(nt(e.room)?3:1),children:c.jsx(K,{i18nKey:"previous"})}),c.jsx(fe,{variant:"contained",disabled:D,onClick:i,size:"large",children:c.jsx(K,{i18nKey:"next"})})]})})]})}function RM({formData:e,setFormData:t,prevStep:i,actionsList:a,close:s}){const o=[100,100],u=[0,0],[d,h]=_.useState(dv((e==null?void 0:e.finishRange)||[],u)),[m,g]=_.useState(!1),p=rp(),{t:x}=ce();_.useEffect(()=>{let S={...e,boardUpdated:!0};(!d||!dv(e.finishRange||[],o))&&(S.finishRange=o),t(S)},[]);async function v(){g(!0);try{await p(e,a)}catch(S){console.error("Error submitting settings:",S)}finally{g(!1)}typeof s=="function"&&s()}const w=[{id:"noOrgasm",title:"noOrgasm",description:x("noOrgasmDesc"),isSelected:!d},{id:"yesOrgasm",title:"yesOrgasm",description:x("yesOrgasmDesc"),isSelected:d}];return c.jsxs(H,{sx:{minHeight:"200px",display:"flex",flexDirection:"column"},children:[c.jsx(q,{variant:"h5",gutterBottom:!0,sx:{fontWeight:600,mb:3},children:c.jsx(K,{i18nKey:"WillYouOrgasm"})}),c.jsx(Ee,{container:!0,spacing:2,sx:{mb:4},children:w.map(S=>c.jsx(Ee,{size:{xs:12,sm:6},children:c.jsx(yt,{sx:{cursor:"pointer",border:S.isSelected?"3px solid":"1px solid",borderColor:S.isSelected?"primary.main":"divider",backgroundColor:S.isSelected?"primary.50":"background.paper",transition:"all 0.2s ease-in-out",height:"100%",transform:S.isSelected?"scale(1.02)":"scale(1)","&:hover":{borderColor:"primary.main",transform:"scale(1.02)",boxShadow:2}},onClick:()=>{const C=S.id==="yesOrgasm";t({...e,finishRange:C?u:o}),h(C)},children:c.jsx(jt,{sx:{p:3},children:c.jsxs(It,{spacing:1,alignItems:"center",textAlign:"center",children:[c.jsx(q,{variant:"h6",sx:{fontWeight:600},children:x(S.title)}),c.jsx(q,{variant:"body2",color:"text.secondary",children:S.description}),S.isSelected&&c.jsx(at,{label:x("selected"),color:"primary",size:"small",sx:{mt:1}})]})})})},S.id))}),c.jsx(H,{sx:{flexGrow:1}}),c.jsxs(ls,{children:[c.jsx(fe,{onClick:i,disabled:m,children:c.jsx(K,{i18nKey:"previous"})}),c.jsx(fe,{variant:"contained",onClick:v,disabled:m,startIcon:m?c.jsx(hn,{size:20}):null,size:"large",sx:{px:4},children:c.jsx(K,{i18nKey:"buildGame"})})]})]})}function DM({currentStep:e,isPublicRoom:t,onStepClick:i}){const{t:a}=ce(),s=fi(),o=Hm(s.breakpoints.down("md")),u=t?[{label:String(a("roomSelection","Room Selection")),wizardStep:1},{label:String(a("actionsSelection","Actions Selection")),wizardStep:4},{label:String(a("finishSetup","Finish Setup")),wizardStep:5}]:[{label:String(a("roomSelection","Room Selection")),wizardStep:1},{label:String(a("localPlayersStep.title","Local Players")),wizardStep:2},{label:String(a("gameModeSelection","Game Mode Selection")),wizardStep:3},{label:String(a("actionsSelection","Actions Selection")),wizardStep:4},{label:String(a("finishSetup","Finish Setup")),wizardStep:5}],d=u.findIndex(m=>m.wizardStep===e),h=m=>{if(i){const g=u[m].wizardStep;i(g)}};return c.jsx(WT,{activeStep:d,alternativeLabel:!o,orientation:"horizontal",sx:{...o&&{"& .MuiStepLabel-label":{display:"none"}}},children:u.map((m,g)=>c.jsx(QT,{children:c.jsx(ZT,{onClick:()=>h(g),sx:{cursor:i?"pointer":"default","&:hover":i?{"& .MuiStepLabel-label":{color:"primary.main"}}:{}},children:o?null:m.label})},g))})}function zM({close:e}){const{id:t}=tn(),[i,a]=_.useState(1),s={room:t||"PUBLIC"},[o,u]=sp({gameMode:"online",roomRealtime:!0,actions:[],consumption:[],role:"sub",boardUpdated:!1,room:t||"PUBLIC",selectedActions:{}},s),{actionsList:d,isLoading:h}=Tc(o.gameMode),m=w=>{if(!Number.isInteger(w))return a(i+1);a(i+(w||1))},g=w=>{if(!Number.isInteger(w))return a(i-1);a(i-(w||1))},p=()=>a(0),x=()=>{nt(o.room)||o.gameMode==="online"?a(4):a(1)},v=()=>{switch(i){case 1:return c.jsx(xM,{formData:o,setFormData:u,nextStep:m});case 2:return nt(o.room)?(a(4),null):c.jsx(bM,{formData:o,setFormData:u,nextStep:m,prevStep:g});case 3:return nt(o.room)?(a(4),null):c.jsx(vM,{formData:o,setFormData:u,nextStep:m,prevStep:g});case 4:return c.jsx(LM,{formData:o,setFormData:u,nextStep:m,prevStep:g,actionsList:d,isActionsLoading:h});case 5:return c.jsx(RM,{formData:o,setFormData:u,prevStep:g,actionsList:d,close:e});default:return null}};return i===0?c.jsx(lp,{closeDialog:e,onOpenSetupWizard:x}):c.jsxs(H,{children:[c.jsx(H,{sx:{width:"100%",mt:2,mb:4},children:c.jsx(DM,{currentStep:i,isPublicRoom:nt(o.room),onStepClick:a})}),v(),c.jsx(xt,{sx:{mt:3}}),c.jsx(fe,{onClick:p,children:c.jsx(K,{i18nKey:"advancedSetup"})})]})}function dS({open:e,close:t}){const i=mn(),[a]=xc();return a.get("importBoard")?null:c.jsxs($t,{fullScreen:i,open:e,maxWidth:"md",children:[c.jsxs(en,{children:[c.jsx(K,{i18nKey:"gameSettingsHeading"}),typeof t=="function"&&c.jsx(di,{close:t})]}),c.jsx(Kt,{children:c.jsx(zM,{close:typeof t=="function"?t:void 0})})]})}function OM({open:e,close:t,setAlert:i,board:a}){const{t:s}=ce(),[o,u]=_.useState(""),[d,h]=_.useState(a.title||"");function m(w){try{return d.length?w.map((S,C)=>{const[j,...M]=S.split(`
`).filter(D=>D);if(j===void 0)throw i({message:s("importNoEmpty")});if(!/^\[.+\]$/.test(j))throw i({message:s("importInvalidTitle",{entry:C+1})});if(!M.length)throw i({message:s("importMissingDescription",{entry:C+1})});return{title:j==null?void 0:j.replace(/\[|\]/g,""),description:M.join(`
`)}}):(i({message:s("importTitleRequired")}),null)}catch(S){return null}}const g=async()=>{const w=o.split(/~+/).filter(C=>C),S=m(w);if(!S)return null;try{if(JSON.stringify(a.tiles)===JSON.stringify(S))return i({message:s("importNoChange")}),null}catch(C){return i({message:s("error"),type:"error"}),null}return Kh({...a,title:d,tiles:S}),i({message:s("saved"),type:"success"}),t(),null},p=()=>{var w;const S=(w=a==null?void 0:a.tiles)==null?void 0:w.map(C=>{if(!C)return"";const j=C.title||"",M=C.description||"";return`[${j}]
${M}`}).filter(Boolean);u((S==null?void 0:S.join(`
~~
`))||"")},x=w=>{h(w.target.value)},v=async w=>{if(!w.target.value.length)return i({message:s("importTitleRequired")}),null;Kh({...a,title:w.target.value})};return _.useEffect(()=>{e&&p()},[e]),_.useEffect(()=>{h(a.title||"")},[a.title]),c.jsxs(c.Fragment,{children:[c.jsx(He,{fullWidth:!0,label:s("title"),value:d,onChange:x,onBlur:v}),c.jsx(He,{sx:{mt:2},multiline:!0,fullWidth:!0,value:o,onChange:w=>u(w.target.value),InputProps:{endAdornment:c.jsxs("div",{style:{display:"flex",flexDirection:"column",position:"sticky",top:0},children:[c.jsx(Vt,{title:s("save"),children:c.jsx(We,{size:"small",onClick:g,"aria-label":s("save"),children:c.jsx(KA,{color:"success"})})}),c.jsx($l,{text:o}),c.jsx($l,{text:`${window.location.href}?importBoard=${a.id}`,copiedText:s("copiedLink"),icon:c.jsx(ic,{}),tooltip:s("copyShareLink")})]}),sx:{alignItems:"flex-start"}}})]})}function NM({open:e,close:t,isMobile:i}){var a;const s=Li(Cw),[o,u]=_.useState(null),[d,h]=_.useState(0),[m,g]=_.useState(0),p=pn()[0],{user:x}=En();if(!s)return null;const v=z=>{if(!z||!z.length)return null;const N=z[z.length-1];return N!=null&&N.description?N.description.match(/\d+%/g):null},w=z=>{u(z)};async function S({title:z,tiles:N}){const P=N.map(({title:Y})=>`* ${Y} 
`);P.pop(),P.shift();let L=`### ${Ie("activated")}: ${z}
`;L+=`---
`,L+=[...new Set(P)].join(" "),L+=`---
`;const B=v(N);B&&B.length===3&&(L+=`* ${Ie("finishSlider")} ${B[0]}  | ${B[1]} | ${B[2]}`);const G=await W1({title:z,gameBoard:JSON.stringify(N),settings:JSON.stringify(p)});G!=null&&G.id&&await qr({room:(p==null?void 0:p.room)||"PUBLIC",user:x,text:L,type:"settings",gameBoardId:G.id,boardSize:N.length,gameMode:p==null?void 0:p.gameMode})}const C=async()=>{const z=await ao({isActive:0})||0;g(z)},j=z=>{y2(z.id),S(z),u({message:Ie("boardEnabled"),type:"success"})},M=z=>{z!==0&&h(z)},T=()=>{typeof d=="number"&&x2(d),h(0)},D=z=>(N,P)=>{g(P?z:0)},A=z=>!z.tiles||z.tiles.length!==((p==null?void 0:p.roomTileCount)||40),E=z=>A(z)?Ie("boardWrongSize",{size:(p==null?void 0:p.roomTileCount)||40}):z.isActive?Ie("boardActive"):Ie("enableBoard");return c.jsxs(c.Fragment,{children:[c.jsxs($t,{fullScreen:i,open:e,onClose:t,PaperProps:{sx:{maxHeight:"100%",height:"100%"}},children:[c.jsxs(en,{children:[c.jsx(K,{i18nKey:"manageGameBoards"}),c.jsx(di,{close:t})]}),c.jsxs(Kt,{style:{overflowY:"scroll"},children:[c.jsxs(H,{sx:{mb:1},children:[c.jsx(fe,{variant:"outlined",onClick:C,endIcon:c.jsx(YA,{}),sx:{float:"right"},children:c.jsx(K,{i18nKey:"add"})}),c.jsx(q,{children:c.jsx(K,{i18nKey:"gameBoardDescription"})})]}),s.map(z=>{var N;return c.jsxs(Yr,{expanded:m===z.id,onChange:D(z.id||0),children:[c.jsxs(Wr,{children:[c.jsxs(H,{children:[c.jsx(q,{variant:"body1",children:z.title}),c.jsx(q,{variant:"body2",children:Ie("tilesCount",{count:((N=z.tiles)==null?void 0:N.length)||0})})]}),c.jsxs(H,{style:{marginLeft:"auto"},justifyContent:"flex-end",children:[c.jsx(Vt,{title:E(z),children:c.jsx("div",{style:{display:"inline-block"},children:c.jsx(Mi,{checked:!!z.isActive,disabled:!!z.isActive||A(z),onChange:()=>j(z),size:"small"})})}),c.jsx(Vt,{title:Ie("delete"),children:c.jsx("span",{style:{display:"inline-block"},children:c.jsx(We,{onClick:()=>M(z.id||0),size:"small",component:"span",children:c.jsx(as,{color:"error"})})})})]})]}),c.jsx(Xr,{children:c.jsx(OM,{open:e,close:()=>D(z.id||0)(null,!1),setAlert:w,board:z})})]},z.id)})]})]}),c.jsx(pr,{open:!!(o!=null&&o.message),type:(o==null?void 0:o.type)||"error",close:()=>u(null),children:o==null?void 0:o.message}),c.jsxs($t,{open:!!d,onClose:()=>h(0),children:[c.jsxs(en,{children:[Ie("deleteBoard"),c.jsx(di,{close:()=>h(0)})]}),c.jsx(Kt,{children:c.jsx(q,{variant:"body1",children:Ie("confirmDeleteBoard",{title:(a=s.find(z=>z.id===d))==null?void 0:a.title})})}),c.jsxs($r,{children:[c.jsx(fe,{onClick:()=>h(0),children:Ie("cancel")}),c.jsx(fe,{onClick:T,children:Ie("delete")})]})]})]})}function BM({open:e,close:t=null}){const[i]=sp(),{isLoading:a,actionsList:s}=Tc(i==null?void 0:i.gameMode);return a?null:c.jsx(Qw,{setOpen:t||(()=>{}),boardUpdated:()=>null,actionsList:s,open:e})}function PM(){const{id:e}=tn(),{user:t,wipeAllData:i,isAnonymous:a}=tp(),s=mn(),{i18n:o}=ce(),[u,d]=_.useState(!1),h=_.useCallback(X=>d(X),[]),m=pn()[0],[g,p]=_.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1,linkAccount:!1,appSettings:!1,languageChange:!1}),x=_.useCallback((X,te)=>p(ne=>({...ne,[X]:te})),[]),v=_.useCallback(async()=>{await i(),h(!1)},[i,h]),w=X=>window.open(X,"_blank","noreferrer"),S=_.useMemo(()=>c.jsx(JT,{children:c.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),[]),{setLocale:C,updateSettings:j}=mc(),[M,T]=_.useState(!1),[D,A]=_.useState(null),E=rp(),{actionsList:z}=Tc(m==null?void 0:m.gameMode),N=_.useCallback(async X=>{const te=X.target.value,ne=o.resolvedLanguage||"en";if(ne!==te){T(!0);try{await o.changeLanguage(te),C(te),await new Promise(O=>{const me=()=>{o.off("languageChanged",me),O(void 0)};o.on("languageChanged",me),setTimeout(()=>{o.off("languageChanged",me),O(void 0)},500)}),A({from:ne,to:te}),x("languageChange",!0)}catch(O){console.error("Error changing language:",O),await o.changeLanguage(te),C(te),await new Promise(me=>{const be=()=>{o.off("languageChanged",be),me(void 0)};o.on("languageChanged",be),setTimeout(()=>{o.off("languageChanged",be),me(void 0)},500)}),A({from:ne,to:te}),x("languageChange",!0)}finally{T(!1)}}},[o,C,x]),P=_.useCallback(async X=>{if(X&&z)try{await E({...m,boardUpdated:!0},z)}catch(te){console.error("Error rebuilding board:",te),j({boardUpdated:!0})}A(null)},[E,m,z,j]),L=_.useCallback(async()=>{await P(!0)},[P]),B=_.useCallback(async()=>{await P(!1)},[P]),G=_.useCallback(()=>{A(null),x("languageChange",!1)},[x]),Y=_.useMemo(()=>Object.entries(ql).map(([X,te])=>c.jsx(pe,{value:X,children:te.label},X)),[]),le=_.useMemo(()=>{const X=[{key:"gameBoard",title:c.jsx(K,{i18nKey:"gameBoards"}),icon:c.jsx(QA,{}),onClick:()=>x("gameBoard",!0)},{key:"customTiles",title:c.jsx(K,{i18nKey:"customTilesLabel"}),icon:c.jsx(ZA,{}),onClick:()=>x("customTiles",!0)},{key:"cast",title:c.jsx(K,{i18nKey:"tvMode"}),icon:c.jsx(JA,{}),onClick:()=>w(`/${e==null?void 0:e.toUpperCase()}/cast`)},{key:"schedule",title:c.jsx(K,{i18nKey:"schedule"}),icon:c.jsx(wc,{}),onClick:()=>x("schedule",!0)},{key:"discord",title:"Discord",icon:S,onClick:()=>w("https://discord.gg/mSPBE2hFef")},{key:"about",title:c.jsx(K,{i18nKey:"about"}),icon:c.jsx(e2,{}),onClick:()=>x("about",!0)}];return t&&(X.unshift({key:"appSettings",title:c.jsx(K,{i18nKey:"appSettings"}),icon:c.jsx(Zm,{}),onClick:()=>x("appSettings",!0)}),X.unshift({key:"settings",title:c.jsx(K,{i18nKey:m.advancedSettings?"settings":"setupWizard"}),icon:c.jsx(_c,{}),onClick:()=>x("settings",!0)}),a&&X.push({key:"linkAccount",title:c.jsx(K,{i18nKey:"linkAccount"}),icon:c.jsx(fw,{}),onClick:()=>x("linkAccount",!0)}),X.push({key:"resetApp",title:c.jsx(K,{i18nKey:"resetApp"}),icon:c.jsx(XA,{}),onClick:()=>v()})),X},[t,e,a,m.advancedSettings,S,v,x]).map(({key:X,title:te,icon:ne,onClick:O})=>c.jsx(tc,{disablePadding:!0,onClick:O,children:c.jsxs(eA,{children:[c.jsx(Wn,{children:ne}),c.jsx(cn,{primary:te})]})},X)),V=(X,te,ne={})=>c.jsx(X,{open:g[te],close:()=>x(te.toString(),!1),isMobile:s,...ne});return c.jsxs(c.Fragment,{children:[c.jsx(We,{onClick:()=>h(!0),"aria-label":"open menu",children:c.jsx(WA,{})}),c.jsx(tA,{anchor:"right",open:u,onClose:()=>h(!1),children:c.jsxs(H,{role:"presentation",onClick:()=>h(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[c.jsx(ec,{sx:{flexGrow:1},children:le}),c.jsx(H,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2},children:c.jsxs(et,{fullWidth:!0,size:"small",sx:{maxWidth:200},children:[c.jsxs(it,{id:"drawer-language-label",sx:{display:"flex",alignItems:"center","& .MuiInputLabel-root":{fontSize:"0.875rem"}},children:[c.jsx(Gl,{sx:{mr:.5,fontSize:"1rem"}}),c.jsx(K,{i18nKey:"language"})]}),c.jsx(tt,{labelId:"drawer-language-label",id:"drawer-language-select",value:o.resolvedLanguage||"en",disabled:M,label:c.jsxs(c.Fragment,{children:[c.jsx(Gl,{sx:{fontSize:"1rem"}}),c.jsx(K,{i18nKey:"language"})]}),onChange:N,size:"small",MenuProps:{anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"left"}},children:Y})]})})]})}),g.settings&&V(dS,"settings"),g.appSettings&&V(yM,"appSettings"),g.about&&c.jsx(Mw,{open:g.about,close:()=>x("about",!1),children:c.jsx(Rw,{})}),g.gameBoard&&V(NM,"gameBoard"),g.schedule&&V(Bw,"schedule"),g.customTiles&&V(BM,"customTiles"),g.linkAccount&&V(Lw,"linkAccount"),D&&c.jsx(Z2,{open:g.languageChange,onClose:G,onRebuildBoard:L,onKeepBoard:B,fromLanguage:D.from,toLanguage:D.to})]})}function IM(e,t,i){const a=e.charAt(0)==="#"?e.substring(1,7):e,s=parseInt(a.substring(0,2),16),o=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16);return s*.299+o*.587+u*.114>186?i:t}function UM(e){let t=0,i;for(i=0;i<e.length;i+=1)t=e.charCodeAt(i)+((t<<5)-t);let a="#";for(i=0;i<3;i+=1){const s=t>>i*8&255;a+=`00${s.toString(16)}`.slice(-2)}return a}function VM(e,t,i){var a,s,o,u;const d=UM(t),h=i==="small"?18:24;return{sx:{bgcolor:d,width:h,height:h,fontSize:i==="small"?10:12,color:IM(d,"#FFFFFF","#000000")},children:`${((a=e==null?void 0:e.split(" ")[0])==null?void 0:a[0])||""}${(u=(o=(s=e==null?void 0:e.split(" "))==null?void 0:s[1])==null?void 0:o[0])!=null?u:""}`}}function GM({uid:e,displayName:t,size:i}){const a=_.useMemo(()=>VM(t,e,i),[t,e,i]);return c.jsx(Vt,{title:t,children:c.jsx(Xm,{...a,className:"player-online"})})}const op=_.memo(GM);function FM(e){const t=Tw(e,"actions","DESC");return[...new Map(t.map(i=>[i.uid,i])).values()]}function up(){const{user:e}=En(),{messages:t,isLoading:i}=Zr(),{onlineUsers:a}=Ew();return _.useMemo(()=>{if(i||!e)return[];const o=FM(t);return Object.values(a).map(u=>{var d,h,m;const g=(d=o.find(S=>S.uid===u.uid))==null?void 0:d.text,p=/(?:#)[\d]*(?=:)/gs;let x=0;if(g&&g.match(p)){const S=g.match(p);S&&S[0]&&(x=Number(S[0].replace("#","")))}const v=x>0?x-1:x,w=!!(g!=null&&g.includes(Ie("finish")));return{displayName:u.displayName||"Unknown",uid:u.uid,isSelf:u.uid===e.uid,location:((h=u.gameState)==null?void 0:h.location)||v,isFinished:((m=u.gameState)==null?void 0:m.isFinished)||w,status:u.status||"away",lastActivity:u.lastSeen||new Date(0)}}).sort((u,d)=>u.isSelf?-1:d.isSelf?1:u.status==="active"&&d.status!=="active"?-1:d.status==="active"&&u.status!=="active"?1:u.displayName.localeCompare(d.displayName))},[e,a,t,i])}function fS(){const e=up(),{localPlayers:t,hasLocalPlayers:i,isLocalPlayerRoom:a}=fs();return _.useMemo(()=>{const o=[],u=e.map(d=>({...d,isLocal:!1}));return o.push(...u),i&&a?t.map(h=>({displayName:h.name,uid:`local-${h.id}`,isSelf:h.isActive,location:h.location,isFinished:h.isFinished,status:"active",lastActivity:new Date,isLocal:!0,localId:h.id,role:h.role,order:h.order})).sort((h,m)=>h.order-m.order):o},[e,t,i,a])}function lm(e){return e.isLocal===!0}function qM({isOpen:e,onClose:t,playerList:i,anchorEl:a}){const{t:s}=ce(),o=_.useRef(null);return _.useEffect(()=>{e&&o.current&&o.current.focus()},[e]),c.jsx(rw,{open:e,anchorEl:a,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},sx:{zIndex:1300},slotProps:{paper:{sx:{borderRadius:2,boxShadow:3,p:{xs:1.5,sm:2},backgroundColor:"background.paper"}}},disableRestoreFocus:!0,disableEnforceFocus:!0,children:c.jsxs(H,{ref:o,role:"dialog","aria-label":s("online"),"aria-modal":"true",tabIndex:-1,onKeyDown:u=>{u.key==="Escape"&&t()},children:[c.jsxs(q,{variant:"subtitle2",sx:{mb:1.5,color:"text.secondary",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:.5},children:[i.some(u=>"isLocal"in u&&lm(u))?s("players"):s("online")," ","(",i.length,")"]}),c.jsx(H,{sx:{display:"flex",flexDirection:"column",gap:{xs:1,sm:1.5},alignItems:"flex-start"},children:i.map(u=>{const d="isLocal"in u&&u.isLocal,h=i.some(m=>"isLocal"in m&&lm(m));return c.jsxs(H,{sx:{display:"flex",alignItems:"center",gap:{xs:.75,sm:1},width:"auto"},children:[c.jsx(op,{uid:u.uid,displayName:u.displayName,size:"medium"}),c.jsxs(H,{sx:{display:"flex",flexDirection:"column",gap:.25,minWidth:0},children:[c.jsxs(q,{variant:"body2",sx:{fontSize:{xs:"0.8125rem",sm:"0.875rem"},color:u.isSelf?"primary.main":"text.primary",fontWeight:u.isSelf?600:400,whiteSpace:"nowrap"},children:[u.displayName,u.isSelf&&c.jsxs(q,{component:"span",sx:{ml:.5,fontSize:{xs:"0.7rem",sm:"0.75rem"},color:"text.secondary"},children:["(",s("you"),")"]})]}),d&&!h&&c.jsx(at,{label:s("localPlayer"),size:"small",color:"secondary",variant:"outlined",sx:{fontSize:"0.625rem",height:"16px",alignSelf:"flex-start"}})]})]},u.uid)})})]})})}const hS=_.forwardRef(({playerList:e,onClick:t,innerRef:i,...a},s)=>{const o=s||i;return t?c.jsxs(nA,{...a,ref:o,onClick:t,sx:{display:"flex",alignItems:"center",borderRadius:1,px:.5,py:.25,minWidth:44,minHeight:44,color:"text.primary",fontSize:"inherit",fontWeight:500,"&:hover":{backgroundColor:"action.hover"},"&:focus":{backgroundColor:"action.focus"}},children:[c.jsx(iv,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),e.length]}):c.jsxs("div",{...a,ref:o,style:{display:"flex",alignItems:"center",color:"var(--mui-palette-text-primary)",fontWeight:500},children:[c.jsx(iv,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),e.length]})});hS.displayName="PlayersOnline";function Pu({room:e,playerList:t=[]}){const{t:i}=ce(),[a,s]=_.useState(!1),[o,u]=_.useState(!1),[d,h]=_.useState(!1),{schedule:m}=Dw(),g=mn(),p=_.useRef(null),x=()=>{s(!0),h(!0)},v=()=>{u(!o)},w=()=>{u(!1)};return c.jsx(aw,{position:"fixed",children:c.jsxs(iA,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[c.jsxs("div",{className:"site-name",children:[c.jsx(H,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:B2}),c.jsx("h1",{className:"gradient-text",children:"Blitzed Out"})]}),c.jsx("div",{children:c.jsxs("div",{className:"nav-room-name",children:[c.jsx("h2",{children:nt(e)||e===void 0?i("public"):e}),c.jsx(hS,{playerList:t,onClick:v,ref:p,"aria-label":i("online"),"aria-expanded":o,"aria-haspopup":"dialog"}),c.jsx(We,{onClick:x,"aria-label":"schedule game",sx:{ml:2},children:c.jsx(rA,{color:"primary",badgeContent:d?null:m.length,children:c.jsx(wc,{})})}),a&&c.jsx($m,{children:c.jsx(Bw,{open:a,close:()=>s(!1),isMobile:g})}),t.length>0&&c.jsx(qM,{isOpen:o,onClose:w,playerList:t,anchorEl:p.current})]})}),c.jsxs("div",{className:"menu-drawer",children:[c.jsx(U2,{size:"medium","aria-label":"Toggle between light and dark theme"}),c.jsx(P2,{}),c.jsx(PM,{})]})]})})}function HM(){var e;const{i18n:t,t:i}=ce(),{login:a,user:s,error:o}=En(),[u,d]=_.useState(!1),[h,m]=_.useState("login"),[g,p]=_.useState(!1),[x,v]=_.useState(!1),[w,S]=_.useState(null),C=()=>{m("login"),d(!0)},j=()=>{m("register"),d(!0)},M=tn(),[T]=xc(),D=!!T.get("importBoard"),A=(e=M.id)!=null?e:"PUBLIC",E=up(),[z,N]=_.useState((s==null?void 0:s.displayName)||""),[P,L]=pn(),B=_.useCallback(async V=>{V.preventDefault();try{v(!0),S(null),await L({...P,displayName:z,room:A}),await a(z)}catch(X){const te=X instanceof Error?X.message:"Unknown error occurred";qh("unauthenticated_app_submit",X,{authentication:{step:"unauthenticated_app_submit",displayName:z,room:A}}),S(te),navigator.userAgent.toLowerCase().includes("firefox")&&S(`${te}. If you're using Firefox mobile, try refreshing the page or temporarily disabling uBlock Origin.`)}finally{v(!1)}},[z,a,A,P,L]),G=_.useCallback(async V=>{V.key==="Enter"&&await B(V)},[B]),Y=t.resolvedLanguage||"en",ee=_.useCallback(async V=>{const X=V.target.value;p(!0);try{await t.changeLanguage(X)}catch(te){console.error("Error changing language:",te),await t.changeLanguage(X)}finally{p(!1)}},[t]),le=_.useMemo(()=>Object.entries(ql).map(([V,X])=>c.jsx(pe,{value:V,children:X.label},V)),[]);return c.jsxs(c.Fragment,{children:[c.jsx(Pu,{room:A,playerList:E}),c.jsxs(H,{className:"unauthenticated-container gradient-background-vibrant",children:[c.jsx(aA,{maxWidth:"lg",sx:{pt:8},children:c.jsxs(Ee,{container:!0,spacing:4,justifyContent:"center",alignItems:"stretch",children:[c.jsx(Ee,{size:{xs:12,md:6,lg:4},children:c.jsx(yt,{className:"unauthenticated-card main-setup-card",children:c.jsxs(jt,{children:[c.jsx("h2",{className:"setup",children:c.jsx(K,{i18nKey:"setup"})}),c.jsx(q,{className:"setup-subtitle",variant:"body1",children:c.jsx(K,{i18nKey:"setupSubtitle"})}),c.jsxs(H,{component:"form",method:"post",onSubmit:B,className:"settings-box",children:[c.jsx(He,{fullWidth:!0,id:"displayName",label:i("displayName"),value:z,onChange:V=>N(V.target.value),required:!0,autoFocus:!0,onKeyDown:V=>G(V),margin:"normal"}),(w||o)&&c.jsxs(H,{sx:{mt:2,p:2,borderRadius:1,backgroundColor:"error.main",color:"error.contrastText"},children:[c.jsxs(q,{variant:"body2",children:[c.jsx("strong",{children:"Error:"})," ",w||o]}),navigator.userAgent.toLowerCase().includes("firefox")&&c.jsx(fe,{size:"small",variant:"text",sx:{mt:1,color:"inherit"},onClick:()=>{var V;const X={userAgent:navigator.userAgent,url:window.location.href,timestamp:new Date().toISOString(),cookiesEnabled:navigator.cookieEnabled,localStorageAvailable:typeof Storage!="undefined",error:w||o};(V=navigator.clipboard)==null||V.writeText(JSON.stringify(X,null,2)),alert("Debug info copied to clipboard. Please share this with support.")},children:"Copy Debug Info"})]}),c.jsx(fe,{variant:"contained",type:"submit",fullWidth:!0,className:"jump-in-button",size:"large",disabled:x,startIcon:x?c.jsx(hn,{size:20}):c.jsx(t2,{}),sx:{mt:2,py:1.25,fontSize:"1.1rem",fontWeight:600,touchAction:"manipulation",cursor:x?"default":"pointer",userSelect:"none","&:focus":{outline:"2px solid",outlineColor:"primary.main",outlineOffset:"2px"}},onClick:async V=>{await B(V)},onPointerDown:()=>{},children:x?"Loading...":D?c.jsx(K,{i18nKey:"import"}):c.jsx(K,{i18nKey:"anonymousLogin"})}),c.jsx(xt,{sx:{my:3},children:c.jsx(q,{variant:"body2",color:"text.secondary",sx:{fontSize:"0.9rem"},children:c.jsx(K,{i18nKey:"or"})})}),c.jsxs(H,{className:"auth-button-container",children:[c.jsx(fe,{variant:"outlined",startIcon:c.jsx(n2,{}),onClick:C,size:"medium",children:c.jsx(K,{i18nKey:"signIn"})}),c.jsx(fe,{variant:"outlined",onClick:j,size:"medium",children:c.jsx(K,{i18nKey:"createAccount"})})]})]})]})})}),c.jsx(Ee,{size:{md:12,lg:8},children:c.jsx(yt,{className:"unauthenticated-card",children:c.jsx(jt,{children:c.jsx(Rw,{})})})})]})}),c.jsx(H,{className:"footer-language-container",children:c.jsxs(H,{className:"footer-language-selector",children:[c.jsx(Gl,{sx:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.5)"}}),c.jsx(et,{size:"small",sx:{minWidth:120},children:c.jsx(tt,{value:Y,disabled:g,onChange:ee,size:"small",variant:"standard",sx:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.875rem","& .MuiSelect-icon":{color:"rgba(255, 255, 255, 0.5)"},"&:before":{borderBottomColor:"rgba(255, 255, 255, 0.3)"},"&:hover:before":{borderBottomColor:"rgba(255, 255, 255, 0.5)"}},endAdornment:g&&c.jsx(hn,{size:14}),children:le})})]})})]}),c.jsx(Lw,{open:u,close:()=>d(!1),initialView:h})]})}function $M(e){let t="";for(const a of String(e)){const s=a.codePointAt(0);s>=0&&s<=31||s===127||s>=128&&s<=159||s===8232||s===8233||(t+=a)}return`url("${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}")`}const xv=e=>e&&/\.(jpe?g|png|webp|bmp|svg|gif|avif|tiff?|heic|heif|jfif)(\?.*)?$/i.test(e)?"image":"video";function KM({url:e}){const[t,i]=_.useState(xv(e)),[a,s]=_.useState(e);if(_.useEffect(()=>{s(e),i(xv(e))},[e]),!a)return null;const o=()=>{var d,h;const m=(d=a!=null?a:e)!=null?d:"";let g=!1;try{const v=new URL(m);g=v.host==="imgur.com"||v.host==="i.imgur.com"}catch(v){g=!1}if(g){const v=(h=m.match(/(?:i\.)?imgur\.com\/([a-zA-Z0-9]+)(?:\.[a-z]+)?/))==null?void 0:h[1];if(v){const w=`https://i.imgur.com/${v}.jpg`;s(w),i("image");return}}const x=`${m.replace(/\.(mp4|webm|ogg|mov)(\?.*)?$/i,"")}.jpg`;s(x),i("image")},u=()=>{var d,h;const m=(d=a!=null?a:e)!=null?d:"";let g=!1;try{const p=new URL(m);g=p.host==="imgur.com"||p.host==="i.imgur.com"}catch(p){g=!1}if(g){const p=(h=m.match(/(?:i\.)?imgur\.com\/([a-zA-Z0-9]+)(?:\.[a-z]+)?/))==null?void 0:h[1];if(p){const x=["jpg","png","gif","jpeg","webp"],v=a==null?void 0:a.split(".").pop(),S=x.indexOf(v||"")+1;if(S<x.length){const C=x[S],j=`https://i.imgur.com/${p}.${C}`;s(j)}}}else{const p=["jpg","png","gif","jpeg","webp"],x=a==null?void 0:a.split(".").pop(),w=p.indexOf(x||"")+1;if(w<p.length&&a){const S=p[w],j=`${a.replace(/\.[^.]+(\?.*)?$/,"")}.${S}`;s(j)}}};return t==="video"?c.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,src:a||void 0,className:"video-background",onError:o,preload:"auto",crossOrigin:"anonymous",controls:!0}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"image-background",style:{backgroundImage:a?$M(a):void 0,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",height:"100%",position:"absolute",top:0,left:0}}),c.jsx("img",{src:a||void 0,onError:u,style:{display:"none"},alt:""})]})}function YM({images:e,className:t,zoomDuration:i=3e3,zoomScale:a=1.4}){const{t:s}=ce(),[o,u]=_.useState(0),[d,h]=_.useState(0),[m,g]=_.useState(new Set),[p,x]=_.useState(new Set),[v,w]=_.useState(!1),S=_.useRef(null),C=_.useRef(new Map);_.useEffect(()=>{w(!1),g(new Set),x(new Set),C.current.clear(),u(0),h(0)},[e]),_.useEffect(()=>{if(e.length===0)return;const D=E=>new Promise(z=>{if(C.current.has(E)||p.has(E)){z();return}const N=new Image;N.onload=()=>{C.current.set(E,N),g(P=>{const L=new Set(P).add(E);return!v&&E===e[0]&&w(!0),L}),z()},N.onerror=()=>{x(P=>new Set(P).add(E)),z()},N.src=E});(async()=>{const E=Math.min(5,e.length),z=[];for(let N=0;N<E;N++){const P=(o+N)%e.length;z.push(D(e[P]))}await Promise.all(z)})()},[e,o,p,v]),_.useEffect(()=>{if(e.length===0||e.length===1)return;const D=()=>{S.current=window.setInterval(()=>{u(E=>(E+1)%e.length),h(E=>E+1)},i)},A=window.setTimeout(D,2e3);return()=>{window.clearTimeout(A),S.current&&(window.clearInterval(S.current),S.current=null)}},[e.length,i]),_.useEffect(()=>()=>{S.current&&(window.clearInterval(S.current),S.current=null)},[]);const j=e[o]||"",M=m.has(j)||C.current.has(j),T=p.has(j);return _.useEffect(()=>{if(T&&e.length>1&&!e.every(A=>p.has(A))){const A=(o+1)%e.length;u(A),h(E=>E+1)}},[T,o,e.length,e,p]),e.length===0?null:c.jsxs("div",{className:Vl("image-slideshow-container",t),"aria-hidden":!0,children:[c.jsx("div",{className:"image-slideshow-fallback"}),!v&&e.length>0&&c.jsx("div",{className:"loading-message",children:s("loadingImages")}),M&&!T&&c.jsx("div",{className:"image-slideshow-slide",style:{backgroundImage:`url(${j})`,animationDuration:`${i}ms`,"--zoom-scale":a}},d)]})}function rh(e){return e.replace(/&amp;/g,"&")}const mS=["r.jina.ai","api.allorigins.win/get?url=","corsproxy.io/?"],XM=(e,t=0)=>{const i=mS[t];if(i==="api.allorigins.win/get?url=")return`https://${i}${encodeURIComponent(e)}`;if(i==="corsproxy.io/?")return`https://${i}${encodeURIComponent(e)}`;const a=e.replace(/^https?:\/\//,""),s=e.startsWith("https://")?"https":"http";return`https://${i}/${s}://${a}`};async function WM(e,t,i){var a,s,o,u,d,h,m,g,p,x,v;const w=new Set;let S=null;const C=[T=>`https://www.reddit.com/r/${e}/top.json?limit=100&t=year&raw_json=1${T?`&after=${T}`:""}`,T=>`https://www.reddit.com/r/${e}/hot.json?limit=100&raw_json=1${T?`&after=${T}`:""}`],j=async T=>{try{const D=await fetch(T,{signal:i,credentials:"omit",mode:"cors",headers:{"User-Agent":"BlitzedOut/1.0",Accept:"application/json, text/plain, */*","Accept-Language":"en-US,en;q=0.9"}});if(D.ok){const A=await D.text();try{return JSON.parse(A)}catch(E){const z=A.indexOf("{"),N=A.lastIndexOf("}");if(z!==-1&&N!==-1&&N>z)try{return JSON.parse(A.slice(z,N+1))}catch(P){return null}return null}}}catch(D){if(D instanceof DOMException&&D.name==="AbortError")throw D}for(let D=0;D<mS.length;D++)try{const A=await fetch(XM(T,D),{signal:i,credentials:"omit",mode:"cors",headers:{"User-Agent":"BlitzedOut/1.0",Accept:"application/json, text/plain, */*"}});if(!A.ok)continue;const E=await A.text();let z;try{const N=JSON.parse(E);z=N.contents?JSON.parse(N.contents):N}catch(N){const P=E.indexOf("{"),L=E.lastIndexOf("}");if(P!==-1&&L!==-1&&L>P)try{z=JSON.parse(E.slice(P,L+1))}catch(B){continue}else continue}if(z)return z}catch(A){if(A instanceof DOMException&&A.name==="AbortError")throw A;continue}return null};let M=0;for(;w.size<t&&M<C.length;){S=null;for(let T=0;T<5&&w.size<t;T+=1){const D=C[M](S),A=await j(D);if(!A)break;const E=(s=(a=A==null?void 0:A.data)==null?void 0:a.children)!=null?s:[];S=(u=(o=A==null?void 0:A.data)==null?void 0:o.after)!=null?u:null;for(const z of E){const N=z==null?void 0:z.data;if(!N)continue;const P=N.url_overridden_by_dest,L=N.post_hint;if(N.is_gallery&&N.media_metadata&&N.gallery_data){const G=N.gallery_data.items||[];for(const Y of G){const ee=N.media_metadata[Y.media_id],le=((d=ee==null?void 0:ee.s)==null?void 0:d.u)||((h=ee==null?void 0:ee.s)==null?void 0:h.gif)||((m=ee==null?void 0:ee.s)==null?void 0:m.mp4);if(typeof le=="string"){const V=le.startsWith("http")?le:`https:${le}`;/\.(jpe?g|png|gif|webp)(\?.*)?$/i.test(V)&&w.add(rh(V))}}continue}if(L==="image"&&typeof P=="string"&&/\.(jpe?g|png|gif|webp)(\?.*)?$/i.test(P)){w.add(rh(P));continue}const B=(v=(x=(p=(g=N.preview)==null?void 0:g.images)==null?void 0:p[0])==null?void 0:x.source)==null?void 0:v.url;if(B){const G=B.startsWith("http")?B:`https:${B}`;w.add(rh(G))}}if(!S)break}M+=1}return Array.from(w).slice(0,t)}async function QM(e,t){const i=e.maxImages||150;return{images:await WM(e.subreddit,i,t),source:`r/${e.subreddit}`}}function pS(e){try{const t=new URL(e);return/(^|\.)reddit\.com$/i.test(t.hostname)&&/\/r\//i.test(t.pathname)}catch(t){return!1}}function ZM(e){var t;try{const a=new URL(e).pathname.match(/\/r\/([^/]+)/i);return(t=a==null?void 0:a[1])!=null?t:null}catch(i){return null}}const JM=3e5,bv=new Map,ah=new Map;async function eL(e,t){const i=JSON.stringify(e),a=Date.now(),s=bv.get(i);if(s&&a-s.fetchedAt<JM)return s.result;const o=ah.get(i);if(o)try{return await o}catch(d){}const u=QM(e,t).then(d=>(bv.set(i,{fetchedAt:Date.now(),result:d}),d)).finally(()=>{ah.delete(i)});return ah.set(i,u),u}function tL(e){const{t}=ce(),[i,a]=_.useState([]),[s,o]=_.useState(!1),[u,d]=_.useState(null),[h,m]=_.useState(null),g=_.useRef(null),p=_.useRef(null),x=_.useRef(null);return _.useEffect(()=>{if(g.current&&g.current.abort(),p.current&&(clearTimeout(p.current),p.current=null),x.current&&(clearTimeout(x.current),x.current=null),a([]),d(null),m(null),!e||!pS(e)){o(!1);return}const v=ZM(e);if(!v){d("invalidRedditUrl"),o(!1);return}const w={subreddit:v,maxImages:150};o(!0);const S=new AbortController;g.current=S;const C=async(j=0)=>{try{const M=await eL(w,S.signal);if(S.signal.aborted)return;a(M.images),m(M.source),d(null),o(!1)}catch(M){if(S.signal.aborted)return;if(j<2){const D=Math.pow(2,j)*1e3;x.current=setTimeout(()=>{S.signal.aborted||C(j+1)},D);return}d("redditBlocked"),a([]),m(null),o(!1)}};return p.current=setTimeout(C,300),()=>{S.abort(),p.current&&(clearTimeout(p.current),p.current=null),x.current&&(clearTimeout(x.current),x.current=null)}},[e]),_.useEffect(()=>()=>{g.current&&g.current.abort(),p.current&&(clearTimeout(p.current),p.current=null),x.current&&(clearTimeout(x.current),x.current=null)},[]),{images:i,isLoading:s,error:u?t(u):null,source:h}}function nL({url:e}){const{t}=ce(),i=fi(),{images:a,isLoading:s,error:o}=tL(e);return s?c.jsxs("div",{className:"slideshow-container slideshow-loading","aria-hidden":!0,children:[c.jsx("div",{className:"image-slideshow-fallback"}),c.jsx("div",{className:"loading-message",children:t("loadingRedditImages")})]}):o?c.jsxs("div",{className:"slideshow-container slideshow-error","aria-hidden":!0,children:[c.jsx("div",{className:"image-slideshow-fallback"}),c.jsxs("div",{className:"error-message",style:{position:"absolute",bottom:"20px",right:"20px",background:Xn(i.palette.background.paper,.7),color:i.palette.text.primary,padding:"12px 16px",borderRadius:"8px",fontSize:"14px",maxWidth:"300px",zIndex:1e3},children:[c.jsx("strong",{children:t("redditBackgroundNote")}),c.jsx("br",{}),t("redditBlocked")]})]}):a.length===0?c.jsx("div",{className:"slideshow-container slideshow-empty","aria-hidden":!0,children:c.jsx("div",{className:"image-slideshow-fallback"})}):c.jsx(YM,{images:a})}function om({url:e=null,isVideo:t=null}){const i=e&&/\.(mp4|webm|ogg|mov|gif)(\?.*)?$/i.test(e),a=e?pS(e):!1,s=e==="color"||e==="gray"||(e==null?void 0:e.includes("/color"))||(e==null?void 0:e.includes("/gray")),o=e&&!s&&(t||!t&&e),u=!t&&a&&e;return c.jsxs(H,{className:Vl("main-container",!o&&"default-background"),role:"presentation",sx:{backgroundImage:!t&&e&&!s&&!a?`url(${e})`:"none"},children:[t&&!a&&(i?c.jsx(KM,{url:e}):c.jsx("iframe",{src:e||void 0,title:"video",width:"100%",height:"100%",allow:"autoplay; fullscreen; encrypted-media; picture-in-picture",sandbox:"allow-same-origin allow-scripts allow-presentation",style:{border:"none"}})),u?c.jsx(nL,{url:e}):null]})}function iL(){const[e,t]=_.useState(document.fullscreenElement!=null);_.useEffect(()=>{const a=()=>{t(document.fullscreenElement!=null)};return document.addEventListener("fullscreenchange",a),()=>{document.removeEventListener("fullscreenchange",a)}},[]);const i=_.useCallback(()=>{document.fullscreenElement==null?document.documentElement.requestFullscreen().catch(a=>{console.error("Error attempting to enable fullscreen:",a)}):document.exitFullscreen().catch(a=>{console.error("Error attempting to exit fullscreen:",a)})},[]);return{isFullscreen:e,toggleFullscreen:i}}function rL(e){const t=/vimeo\.com\/(\d+)/,i=e.match(t);return`https://player.vimeo.com/video/${i?i[1]:""}?autoplay=1&loop=1&autostart=true`}function aL(e){const t=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|[^#]*[?&]v=|youtu\.be\/)([^"&?/ ]{11})|^(?:[^"&?/ ]{11})$)/,i=e.match(t);return`https://www.youtube.com/embed/${i?i[1]:""}?autoplay=1&loop=1&autostart=true&mute=1&playsinline=1&controls=0&disablekb=1&fs=0&modestbranding=1&rel=0&iv_load_policy=3`}function sL(e){const t=/drive\.google\.com\/file\/d\/([^/]+)/,i=e.match(t);return`https://drive.google.com/file/d/${i?i[1]:""}/preview?loop=1`}function lL(e){const t=/dropbox\.com\/s\/([^/]+)/,i=e.match(t);return`https://www.dropbox.com/s/${i?i[1]:""}?raw=1`}function oL(e){return`https://pornhub.com/embed/${new URL(e).searchParams.get("viewkey")||""}?autoplay=1&loop=1&autostart=true&playsinline=1`}function uL(e){const t=e.split("-");return`https://xhamster.com/xembed.php?video=${t[t.length-1]}?autoplay=1&loop=1&autostart=true&playsinline=1`}function cL(e){const t=/media1?\.tenor\.com\/(?:m\/)?([a-zA-Z0-9_-]+)\/[^/]*\.(mp4|gif|webp|webm)/,i=e.match(t);if(i){const o=i[2].toLowerCase();return{url:e,isVideo:["mp4","webm"].includes(o)}}const a=/tenor\.com\/view\/[^/]*-(\d+)/,s=e.match(a);return s?{url:`https://tenor.com/embed/${s[1]}`,isVideo:!0}:{url:e,isVideo:!1}}function dL(e){const t=/giphy\.com\/gifs\/[^/]*-([a-zA-Z0-9]+)/,i=e.match(t);return`https://media.giphy.com/media/${i?i[1]:""}/giphy.gif`}function fL(e){return/\d+\.media\.tumblr\.com\/.*\.(gif|mp4|webm)(\?.*)?$/i.test(e),e}function hL(e){const t=/(?:gfycat\.com|redgifs\.com)\/(?:watch\/)?([a-zA-Z0-9]+)/,i=e.match(t),a=i?i[1]:"";return Tt(e,["redgifs.com"])?`https://files.redgifs.com/${a}.mp4`:`https://giant.gfycat.com/${a}.mp4`}function mL(e){const t=/redtube\.com\/(\d+)/,i=e.match(t);return`https://embed.redtube.com/?id=${i?i[1]:""}&autoplay=true&auto_play=1&playsinline=1&controls=1`}function pL(e){const t=/youporn\.com\/watch\/(\d+)/,i=e.match(t);return`https://www.youporn.com/embed/${i?i[1]:""}?autoplay=1&playsinline=1`}function gL(e){const t=/tube8\.com\/[^/]+\/[^/]+\/(\d+)/,i=e.match(t);return`https://www.tube8.com/embed/${i?i[1]:""}?autoplay=1&playsinline=1`}function yL(e){return`https://twitframe.com/show?url=${encodeURIComponent(e)}`}function xL(e){try{const u=new URL(e);if((u.host==="discordapp.net"||u.host.endsWith(".discordapp.net"))&&u.pathname.startsWith("/external/")&&(u.pathname.includes("/https/i.imgur.com/")||u.pathname.includes("/https/imgur.com/")))return e}catch(u){dn.debug("URL parsing failed for Discord proxy check:",u)}try{const u=new URL(e);if(u.host==="i.imgur.com"&&(u.search||u.pathname.match(/\.[a-zA-Z0-9]+$/)))return e}catch(u){dn.debug("URL parsing failed for direct link check:",u)}let t="",i=!1;try{const u=new URL(e);i=u.host==="imgur.com"||u.host==="i.imgur.com"}catch(u){return dn.debug("URL parsing failed for Imgur processing:",u),""}if(!i)return"";if(e.includes("/gallery/")){const u=e.match(/imgur\.com\/gallery\/[^#]*#([a-zA-Z0-9]+)/);if(u)t=u[1];else{const d=e.match(/imgur\.com\/gallery\/.*-([a-zA-Z0-9]+)/);if(d)t=d[1];else return dn.debug("Could not extract image ID from gallery URL, returning original:",e),e}}else{const u=/imgur\.com\/([a-zA-Z0-9]+)(?:\.(mp4|mov|avi|webm|mkv|flv|wmv|jpg|jpeg|png|gif|gifv|webp|bmp|tiff|svg))?|images-ext-\d+\.discordapp\.net\/external\/[^/]+\/https\/i\.imgur\.com\/([a-zA-Z0-9]+)\.(mp4|mov|avi|webm|mkv|flv|wmv|jpg|jpeg|png|gif|gifv|webp|bmp|tiff|svg)/,d=e.match(u);t=d?d[1]||d[3]:""}if(!t)return"";const a=e.match(/\.([a-zA-Z0-9]+)(?:\?.*)?$/);let s="jpg";if(a&&a[1]){let u=a[1].toLowerCase();const d={gifv:"mp4"};d[u]&&(u=d[u]),["jpg","jpeg","png","gif","webp","mp4","mov","avi","webm","mkv","flv","wmv","bmp","tiff","svg"].includes(u)&&(s=u)}return`https://i.imgur.com/${t}.${s}`}function um(e){return/\.(mp4|webm|ogg|mov)(\?.*)?$/.test(e)}function bL(e){return Tt(e,["media.discordapp.net","cdn.discordapp.com"])&&!um(e)}function Tt(e,t){try{const i=new URL(e);return t.some(a=>i.host===a||i.host.endsWith("."+a))}catch(i){return dn.debug("URL parsing failed in isValidHost, rejecting for security:",i),!1}}function gS(e){let t=null,i=!0;if(!e)return{url:"",isVideo:!1};switch(!0){case Tt(e,["vimeo.com"]):t=rL(e);break;case Tt(e,["youtube.com","youtu.be"]):t=aL(e);break;case Tt(e,["drive.google.com"]):t=sL(e);break;case Tt(e,["pornhub.com"]):t=oL(e);break;case Tt(e,["xhamster.com"]):t=uL(e);break;case Tt(e,["dropbox.com"]):t=lL(e);break;case Tt(e,["imgur.com","i.imgur.com"]):t=xL(e);break;case Tt(e,["tenor.com"]):{const a=cL(e);t=a.url,i=a.isVideo;break}case Tt(e,["giphy.com"]):t=dL(e),i=!0;break;case(Tt(e,["tumblr.com","media.tumblr.com"])||/\d+\.media\.tumblr\.com/.test(e)):t=fL(e),i=t?um(t):!1;break;case Tt(e,["gfycat.com","redgifs.com"]):t=hL(e),i=!0;break;case Tt(e,["redtube.com"]):t=mL(e);break;case Tt(e,["youporn.com"]):t=pL(e);break;case Tt(e,["tube8.com"]):t=gL(e);break;case Tt(e,["twitter.com","x.com"]):t=yL(e),i=!1;break;case Tt(e,["thisvid.com"]):t=e;break;case Tt(e,["boyfriendtv.com"]):t=e;break;case bL(e):t=e,i=!1;break;case um(e):t=e;break;default:t=q2(e),i=!1;break}return{url:t,isVideo:i}}function vL(e,t){const{background:i,backgroundURL:a,roomBackgroundURL:s}=e;let o=null;return i?i==="custom"?o=a||null:i==="useRoomBackground"?!nt(t)&&s?o=s:o="color":o=i:o="color",o||(o="color"),o==="color"||o==="gray"?{url:o,isVideo:!1}:gS(o)}function wL(e){const t=Kr(e,"room");let i=!1,a="";if(t){let s,o;try{const h=JSON.parse(t.settings||"{}");s=h.roomBackground,o=h.roomBackgroundURL}catch(h){}let u=null;s==="custom"&&o?u=o:s&&s!=="useAppBackground"?u=s:o&&(u=o);const d=gS(u);i=!!d.isVideo,d.url&&(a=d.url)}return["color","gray"].some(s=>a.includes(s))&&(a=""),{isVideo:i,url:a}}function SL(e){return{uid:e.uid,displayName:e.displayName,isSelf:e.isSelf,isFinished:e.isFinished}}function yS(e){const[t,i]=_.useState(null),a=fS(),s=_.useMemo(()=>a.map(u=>`${u.uid}-${u.displayName}-${u.isFinished}-${u.isSelf}`).join("|"),[a]),o=_.useMemo(()=>e?`${e.uid}-${e.displayName||""}`:null,[e]);return _.useEffect(()=>{if(!e){i(null);return}if(a.length<=1){i(null);return}const u=a.filter(p=>!p.isFinished);if(u.length<=1){i(null);return}let d=-1;d=u.findIndex(p=>p.uid===e.uid),d===-1&&(d=u.findIndex(p=>p.displayName===e.displayName)),d===-1&&(d=0);const h=(d+1)%u.length,m=u[h],g=SL(m);i(g)},[o,s]),t}const _L="actions",jL=e=>{var t,i;const{text:a,displayName:s}=e;if(!s)return{};const o=a==null?void 0:a.split(`
`),[u,d]=(o==null?void 0:o.slice(1))||[],h=(t=u==null?void 0:u.split(":")[1])==null?void 0:t.trim(),m=(i=d==null?void 0:d.split(":")[1])==null?void 0:i.trim();return{displayName:s,type:h,activity:m}};function kL(){const{id:e}=tn(),[t,i]=_.useState(""),[a,s]=_.useState(!1),[o,u]=_.useState(!1),[d,h]=_.useState(!1),{messages:m,isLoading:g}=Zr(),{isVideo:p,url:x}=wL(m),v=Kr(m,_L),w=yS(v),{isFullscreen:S,toggleFullscreen:C}=iL();_.useEffect(()=>{Zn().currentUser||Y1("Cast Viewer").catch(E=>{console.error("Anonymous login failed:",E)})},[e]),_.useEffect(()=>{if(!p||!x)return;const A=()=>{const N=document.querySelectorAll("video"),P=document.querySelectorAll("iframe");N.forEach(L=>{L.paused&&(L.muted=!0,L.play().catch(B=>{console.log("Video autoplay attempt failed:",B),h(!0)}))}),P.forEach(L=>{if(L.src)try{const B=new URL(L.src,window.location.origin),G=B.searchParams;let Y=!1;G.get("autoplay")!=="1"&&(G.set("autoplay","1"),Y=!0),G.get("mute")!=="1"&&(G.set("mute","1"),Y=!0),Y&&(B.search=G.toString(),L.src=B.toString())}catch(B){if(!L.src.includes("autoplay=1")){const G=L.src.includes("?")?"&":"?";L.src+=`${G}autoplay=1&mute=1`}}})},E=setTimeout(A,500),z=setTimeout(A,2e3);return()=>{clearTimeout(E),clearTimeout(z)}},[p,x,m.length]),_.useEffect(()=>{var A,E;const z=(E=(A=window.cast)==null?void 0:A.framework)==null?void 0:E.CastReceiverContext,N=navigator.userAgent,P=N.includes("CrKey")||N.includes("TV"),L=window.self!==window.top,B=z||P||window.location.search.includes("chromecast")||window.location.search.includes("receiver");return B&&(document.body.classList.add("cast-receiver-mode"),document.body.classList.remove("theme-light"),u(!0)),L&&document.body.classList.add("in-iframe"),()=>{B&&document.body.classList.remove("cast-receiver-mode"),L&&document.body.classList.remove("in-iframe")}},[]),_.useEffect(()=>{if(g)return;const A=m[m.length-1];(A==null?void 0:A.type)==="settings"&&(s(!0),i(`${A.displayName} ${Ie("changedSettings")}`))},[m,g]);const j=()=>{document.querySelectorAll("video").forEach(E=>{E.paused&&E.play().catch(console.error)}),h(!1)};if(!v)return c.jsxs(H,{className:"flex-column cast-main-container",style:{backgroundImage:!p&&x?`url(${x})`:"none"},children:[!!x&&c.jsx(om,{url:x,isVideo:p}),d&&c.jsx(H,{onClick:j,className:"user-interaction-overlay",children:"Click to enable autoplay"}),c.jsx(Ee,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",className:"cast-container cast-grid-container",children:c.jsx(Ee,{container:!0,justifyContent:"center",children:c.jsxs("div",{className:"action-box-large responsive-cast-box",children:[c.jsxs(q,{variant:"h2",className:"cast-title",children:["blitzedout.com/",e]}),g?c.jsx(q,{variant:"h4",className:"cast-loading-text",children:"Connecting to game..."}):c.jsx(q,{variant:"h4",className:"cast-ready-text",children:"Ready for game to start"})]})})})]});const{displayName:M,type:T,activity:D}=jL(v);return c.jsxs(H,{className:"flex-column cast-main-container",onClick:d?j:void 0,style:{backgroundImage:!p&&x?`url(${x})`:"none",cursor:d?"pointer":"default"},children:[!!x&&c.jsx(om,{url:x,isVideo:p}),c.jsxs(H,{display:"flex",justifyContent:"space-between",className:"cast-header-bar",children:[c.jsx(H,{flex:"1",children:!o&&!S&&c.jsx(fe,{variant:"text",onClick:C,className:"cast-fullscreen-button",children:Ie("fullscreen")})}),c.jsx(H,{textAlign:"center",flex:"1",children:!!(w!=null&&w.displayName)&&c.jsx(q,{variant:"h4",className:"cast-next-player",children:c.jsx(K,{i18nKey:"nextPlayersTurn",values:{player:w.displayName}})})},w==null?void 0:w.displayName),c.jsx(H,{flex:"1",textAlign:"right",className:"text-stroke",children:D&&c.jsxs(q,{variant:"h4",className:"cast-room-url",children:["blitzedout.com/",e]})})]}),c.jsx(Ee,{container:!0,spacing:0,direction:"column",alignItems:"center",justifyContent:"center",className:"cast-container cast-grid-container-adjusted",children:c.jsx(Ee,{container:!0,justifyContent:"center",children:D?c.jsxs(Ee,{size:12,className:"action-box-responsive responsive-cast-box",children:[c.jsx(q,{variant:"h3",className:"cast-type-text",children:`${T} ${Ie("for")} ${M}`}),c.jsx(H,{className:"cast-divider",children:c.jsx(xt,{})}),c.jsx(q,{variant:"h1",className:"cast-activity-text",children:D})]}):c.jsx("div",{className:"action-box-responsive responsive-cast-box",children:c.jsxs(q,{variant:"h1",className:"cast-room-main",children:["blitzedout.com/",e]})})})},m.length),c.jsx(pr,{open:!!a,close:()=>s(!1),hideCloseButton:!0,children:c.jsx(q,{variant:"h5",className:"cast-alert-text",children:t})})]})}/*! Capacitor: https://capacitorjs.com/ - MIT License */var os;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(os||(os={}));class ts extends Error{constructor(t,i,a){super(t),this.message=t,this.code=i,this.data=a}}const CL=e=>{var t,i;return e!=null&&e.androidBridge?"android":!((i=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||i===void 0)&&i.bridge?"ios":"web"},TL=e=>{const t=e.CapacitorCustomPlatform||null,i=e.Capacitor||{},a=i.Plugins=i.Plugins||{},s=()=>t!==null?t.name:CL(e),o=()=>s()!=="web",u=p=>{const x=m.get(p);return!!(x!=null&&x.platforms.has(s())||d(p))},d=p=>{var x;return(x=i.PluginHeaders)===null||x===void 0?void 0:x.find(v=>v.name===p)},h=p=>e.console.error(p),m=new Map,g=(p,x={})=>{const v=m.get(p);if(v)return console.warn(`Capacitor plugin "${p}" already registered. Cannot register plugins twice.`),v.proxy;const w=s(),S=d(p);let C;const j=async()=>(!C&&w in x?C=typeof x[w]=="function"?C=await x[w]():C=x[w]:t!==null&&!C&&"web"in x&&(C=typeof x.web=="function"?C=await x.web():C=x.web),C),M=(N,P)=>{var L,B;if(S){const G=S==null?void 0:S.methods.find(Y=>P===Y.name);if(G)return G.rtype==="promise"?Y=>i.nativePromise(p,P.toString(),Y):(Y,ee)=>i.nativeCallback(p,P.toString(),Y,ee);if(N)return(L=N[P])===null||L===void 0?void 0:L.bind(N)}else{if(N)return(B=N[P])===null||B===void 0?void 0:B.bind(N);throw new ts(`"${p}" plugin is not implemented on ${w}`,os.Unimplemented)}},T=N=>{let P;const L=(...B)=>{const G=j().then(Y=>{const ee=M(Y,N);if(ee){const le=ee(...B);return P=le==null?void 0:le.remove,le}else throw new ts(`"${p}.${N}()" is not implemented on ${w}`,os.Unimplemented)});return N==="addListener"&&(G.remove=async()=>P()),G};return L.toString=()=>`${N.toString()}() { [capacitor code] }`,Object.defineProperty(L,"name",{value:N,writable:!1,configurable:!1}),L},D=T("addListener"),A=T("removeListener"),E=(N,P)=>{const L=D({eventName:N},P),B=async()=>{const Y=await L;A({eventName:N,callbackId:Y},P)},G=new Promise(Y=>L.then(()=>Y({remove:B})));return G.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await B()},G},z=new Proxy({},{get(N,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return S?E:D;case"removeListener":return A;default:return T(P)}}});return a[p]=z,m.set(p,{name:p,proxy:z,platforms:new Set([...Object.keys(x),...S?[w]:[]])}),z};return i.convertFileSrc||(i.convertFileSrc=p=>p),i.getPlatform=s,i.handleError=h,i.isNativePlatform=o,i.isPluginAvailable=u,i.registerPlugin=g,i.Exception=ts,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i},AL=e=>e.Capacitor=TL(e),cm=AL(typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{}),cp=cm.registerPlugin;class dp{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,i){let a=!1;this.listeners[t]||(this.listeners[t]=[],a=!0),this.listeners[t].push(i);const o=this.windowListeners[t];o&&!o.registered&&this.addWindowListener(o),a&&this.sendRetainedArgumentsForEvent(t);const u=async()=>this.removeListener(t,i);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,i,a){const s=this.listeners[t];if(!s){if(a){let o=this.retainedEventArguments[t];o||(o=[]),o.push(i),this.retainedEventArguments[t]=o}return}s.forEach(o=>o(i))}hasListeners(t){var i;return!!(!((i=this.listeners[t])===null||i===void 0)&&i.length)}registerWindowListener(t,i){this.windowListeners[i]={registered:!1,windowEventName:t,pluginEventName:i,handler:a=>{this.notifyListeners(i,a)}}}unimplemented(t="not implemented"){return new cm.Exception(t,os.Unimplemented)}unavailable(t="not available"){return new cm.Exception(t,os.Unavailable)}async removeListener(t,i){const a=this.listeners[t];if(!a)return;const s=a.indexOf(i);this.listeners[t].splice(s,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const i=this.retainedEventArguments[t];i&&(delete this.retainedEventArguments[t],i.forEach(a=>{this.notifyListeners(t,a)}))}}const vv=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),wv=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class EL extends dp{async getCookies(){const t=document.cookie,i={};return t.split(";").forEach(a=>{if(a.length<=0)return;let[s,o]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=wv(s).trim(),o=wv(o).trim(),i[s]=o}),i}async setCookie(t){try{const i=vv(t.key),a=vv(t.value),s=`; expires=${(t.expires||"").replace("expires=","")}`,o=(t.path||"/").replace("path=",""),u=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${i}=${a||""}${s}; path=${o}; ${u};`}catch(i){return Promise.reject(i)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(i){return Promise.reject(i)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const i of t)document.cookie=i.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}cp("CapacitorCookies",{web:()=>new EL});const ML=async e=>new Promise((t,i)=>{const a=new FileReader;a.onload=()=>{const s=a.result;t(s.indexOf(",")>=0?s.split(",")[1]:s)},a.onerror=s=>i(s),a.readAsDataURL(e)}),LL=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(s=>s.toLocaleLowerCase()).reduce((s,o,u)=>(s[o]=e[t[u]],s),{})},RL=(e,t=!0)=>e?Object.entries(e).reduce((a,s)=>{const[o,u]=s;let d,h;return Array.isArray(u)?(h="",u.forEach(m=>{d=t?encodeURIComponent(m):m,h+=`${o}=${d}&`}),h.slice(0,-1)):(d=t?encodeURIComponent(u):u,h=`${o}=${d}`),`${a}&${h}`},"").substr(1):null,DL=(e,t={})=>{const i=Object.assign({method:e.method||"GET",headers:e.headers},t),s=LL(e.headers)["content-type"]||"";if(typeof e.data=="string")i.body=e.data;else if(s.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[u,d]of Object.entries(e.data||{}))o.set(u,d);i.body=o.toString()}else if(s.includes("multipart/form-data")||e.data instanceof FormData){const o=new FormData;if(e.data instanceof FormData)e.data.forEach((d,h)=>{o.append(h,d)});else for(const d of Object.keys(e.data))o.append(d,e.data[d]);i.body=o;const u=new Headers(i.headers);u.delete("content-type"),i.headers=u}else(s.includes("application/json")||typeof e.data=="object")&&(i.body=JSON.stringify(e.data));return i};class zL extends dp{async request(t){const i=DL(t,t.webFetchExtra),a=RL(t.params,t.shouldEncodeUrlParams),s=a?`${t.url}?${a}`:t.url,o=await fetch(s,i),u=o.headers.get("content-type")||"";let{responseType:d="text"}=o.ok?t:{};u.includes("application/json")&&(d="json");let h,m;switch(d){case"arraybuffer":case"blob":m=await o.blob(),h=await ML(m);break;case"json":h=await o.json();break;case"document":case"text":default:h=await o.text()}const g={};return o.headers.forEach((p,x)=>{g[x]=p}),{data:h,headers:g,status:o.status,url:o.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}cp("CapacitorHttp",{web:()=>new zL});var Ka;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(Ka||(Ka={}));var El;(function(e){e.Rear="REAR",e.Front="FRONT"})(El||(El={}));var dm;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(dm||(dm={}));class OL extends dp{async getPhoto(t){return new Promise(async(i,a)=>{if(t.webUseInput||t.source===Ka.Photos)this.fileInputExperience(t,i,a);else if(t.source===Ka.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=t.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async o=>{o.detail===0?this.fileInputExperience(t,i,a):this.cameraExperience(t,i,a)})}else this.cameraExperience(t,i,a)})}async pickImages(t){return new Promise(async(i,a)=>{this.multipleFileInputExperience(i,a)})}async cameraExperience(t,i,a){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=t.direction===El.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async o=>{const u=o.detail;u===null?a(new ts("User cancelled photos app")):u instanceof Error?a(u):i(await this._getCameraPhoto(u,t)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch(o){this.fileInputExperience(t,i,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,i,a)}fileInputExperience(t,i,a){let s=document.querySelector("#_capacitor-camera-input");const o=()=>{var u;(u=s.parentNode)===null||u===void 0||u.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",u=>{const d=s.files[0];let h="jpeg";if(d.type==="image/png"?h="png":d.type==="image/gif"&&(h="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const m=new FileReader;m.addEventListener("load",()=>{if(t.resultType==="dataUrl")i({dataUrl:m.result,format:h});else if(t.resultType==="base64"){const g=m.result.split(",")[1];i({base64String:g,format:h})}o()}),m.readAsDataURL(d)}else i({webPath:URL.createObjectURL(d),format:h}),o()}),s.addEventListener("cancel",u=>{a(new ts("User cancelled photos app")),o()})),s.accept="image/*",s.capture=!0,t.source===Ka.Photos||t.source===Ka.Prompt?s.removeAttribute("capture"):t.direction===El.Front?s.capture="user":t.direction===El.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(t,i){let a=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var o;(o=a.parentNode)===null||o===void 0||o.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",o=>{const u=[];for(let d=0;d<a.files.length;d++){const h=a.files[d];let m="jpeg";h.type==="image/png"?m="png":h.type==="image/gif"&&(m="gif"),u.push({webPath:URL.createObjectURL(h),format:m})}t({photos:u}),s()}),a.addEventListener("cancel",o=>{i(new ts("User cancelled photos app")),s()})),a.accept="image/*",a.click()}_getCameraPhoto(t,i){return new Promise((a,s)=>{const o=new FileReader,u=t.type.split("/")[1];i.resultType==="uri"?a({webPath:URL.createObjectURL(t),format:u,saved:!1}):(o.readAsDataURL(t),o.onloadend=()=>{const d=o.result;i.resultType==="dataUrl"?a({dataUrl:d,format:u,saved:!1}):a({base64String:d.split(",")[1],format:u,saved:!1})},o.onerror=d=>{s(d)})})}async checkPermissions(){if(typeof navigator=="undefined"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(t){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const NL=cp("Camera",{web:()=>new OL}),BL=e=>{const t=e.length-22;return 4*Math.ceil(t/3)*.5624896334383812/1e6};function PL({room:e,isTransparent:t}){const{user:i}=En(),[a,s]=_.useState(""),[o,u]=_.useState(""),{t:d}=ce(),h=p=>{s(p.target.value)},m=p=>{p.preventDefault(),qr({room:e,user:i,text:a,type:"chat"}),s("")},g=async()=>{let p="";try{p=await NL.getPhoto({quality:90,allowEditing:!0,resultType:dm.Base64})}catch(x){return dn.warn("Failed to take photo:",!1,x),""}return p.base64String&&BL(p.base64String)>5?u("File too large! Max size is 5MB. If you need to send a larger file, please use a link from another site."):qr({room:e,user:i,type:"media",image:p})};return c.jsxs(c.Fragment,{children:[c.jsx("form",{onSubmit:m,className:`message-input-container ${t?"transparent":""}`,children:c.jsx(He,{multiline:!0,placeholder:d("messageInput"),fullWidth:!0,value:a,onChange:h,onKeyDown:p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),m(p))},required:!0,inputProps:{minLength:1},InputProps:{startAdornment:c.jsx(Cl,{position:"start",children:c.jsx(We,{type:"button",color:"primary",onClick:g,children:c.jsx(r2,{})})}),endAdornment:c.jsx(Cl,{position:"end",children:c.jsx(We,{type:"submit",color:"primary",disabled:a.length<1,children:c.jsx(i2,{})})})},helperText:c.jsx(K,{i18nKey:"markdown"})})}),c.jsx(pr,{open:!!o,close:()=>u(""),children:o})]})}function fp(e,t=!0){const[i,a]=_.useState(e),[s,o]=_.useState(t),u=_.useCallback(()=>o(d=>!d),[]);return _.useEffect(()=>{if(i===-1&&a(0),i<=0||s)return;const d=setInterval(()=>{a(h=>h-1)},1e3);return()=>clearInterval(d)},[i,s]),{timeLeft:i,setTimeLeft:a,togglePause:u,isPaused:s}}function xS({textString:e,preventParentClose:t,noPadding:i=!1}){const[a,s]=_.useState(!1),o=mn(),[u,d]=e.split(" ");let h=parseInt(u,10);(Number.isNaN(h)||h<0)&&(h=0);const{timeLeft:m,setTimeLeft:g,togglePause:p,isPaused:x}=fp(h,!0);_.useEffect(()=>p(),[p]);const v=()=>{t(),s(!0),g(h),x&&p()};_.useEffect(()=>{a&&m<=0&&s(!1)},[a,m]);const w=()=>s(!1);return c.jsxs(c.Fragment,{children:[c.jsx(fe,{onClick:v,sx:{p:i?0:1},color:"secondary",children:e}),c.jsxs($t,{open:a,onClose:w,fullScreen:o,maxWidth:"xs","aria-labelledby":"countdown-dialog-title",children:[c.jsx(en,{id:"countdown-dialog-title",sx:{pr:6},children:c.jsx(di,{close:w})}),c.jsx(Kt,{children:c.jsxs(H,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2,py:1},children:[c.jsxs(H,{sx:{position:"relative",display:"inline-flex"},children:[c.jsx(hn,{variant:"determinate",value:Math.max(0,Math.min(100,m/h*100)),size:96,thickness:4,color:"primary",sx:{"& .MuiCircularProgress-circle":{transition:"stroke-dashoffset 1000ms linear"}}}),c.jsx(H,{sx:{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},children:c.jsx(q,{variant:"h3","aria-live":"polite",children:m})})]}),c.jsx(q,{variant:"body2",color:"text.secondary",children:d}),c.jsxs(H,{sx:{display:"flex",gap:1},children:[c.jsx(We,{onClick:p,color:"primary","aria-label":x?"resume countdown":"pause countdown",children:x?c.jsx(io,{}):c.jsx(a2,{})}),c.jsx(We,{onClick:()=>g(h),color:"primary","aria-label":"restart countdown",children:c.jsx(s2,{})})]})]})})]})]})}function sh({children:e,title:t,onClick:i,disabled:a}){return c.jsx(Ee,{size:{xs:12,sm:6},container:!0,children:c.jsx(yt,{sx:{width:"100%"},children:c.jsx(sA,{sx:{height:"100%",display:"inline-flex",alignItems:"flex-start",justifyContent:"flex-start"},onClick:i,disabled:a,children:c.jsxs(jt,{sx:{width:"100%",color:a?"gray":"white"},children:[c.jsx(q,{variant:"h5",children:t}),c.jsx(xt,{sx:{mb:2}}),e]})})})})}function IL(){const{t:e}=ce(),{id:t}=tn(),{user:i}=En();return _.useCallback(async()=>{const s=`${e("restartingGame")}
#1: ${e("start")}
${e("action")}: ${e("start")}`;await qr({room:t,user:i,text:s,type:"actions"})},[t,i,e])}function bS({isOpen:e=!1,close:t}){const{t:i}=ce(),[a,s]=_.useState(!1),o=IL(),u=mn(),d=ip(),[h]=pn(),m=_.useCallback(()=>{o(),t()},[o,t]),g=_.useCallback(async()=>{await d({...h,boardUpdated:!0}),o(),t()},[d,h,o,t]),p=_.useCallback(()=>{s(!0),t()},[t]),x=_.useCallback(()=>{s(!1),o()},[o]);return c.jsxs(c.Fragment,{children:[c.jsx($t,{open:e,onClose:t,fullScreen:u,"aria-labelledby":"modal-game-over",children:c.jsxs(Kt,{children:[c.jsx(q,{variant:"h4",textAlign:"center",sx:{mb:2,px:2},children:c.jsx(K,{i18nKey:"gameOverPlayAgain"})}),c.jsx(di,{close:t}),c.jsxs(Ee,{container:!0,spacing:2,alignItems:"stretch",children:[c.jsx(sh,{title:i("sameBoard"),onClick:m,children:c.jsx(K,{i18nKey:"sameBoardDescription"})}),c.jsx(sh,{title:i("rebuildBoard"),onClick:g,children:c.jsx(K,{i18nKey:"rebuildBoardDescription"})}),c.jsx(sh,{title:i("changeSettings"),onClick:p,children:c.jsx(K,{i18nKey:"changeSettingsDescription"})})]})]})}),!!a&&c.jsxs($t,{fullScreen:u,open:a,maxWidth:"md",children:[c.jsxs(en,{children:[c.jsx(K,{i18nKey:"gameSettingsHeading"}),c.jsx(di,{close:x})]}),c.jsx(Kt,{children:c.jsx(lp,{closeDialog:x})})]})]})}function UL({open:e,text:t="",displayName:i="",handleClose:a,stopAutoClose:s=()=>null,nextPlayer:o=null,isMyMessage:u=!1}){const{t:d}=ce(),h=mn(),[m,g]=_.useState(!1),p=t==null?void 0:t.match(/#\d*:.*(?=\n)/gs),x=zw(t)||"",v=Ow(t,d("seconds")),w=20,{timeLeft:S,togglePause:C}=fp(w,!1),[j,M]=_.useState(!0),T=o==null?void 0:o.displayName,D=_.useCallback(()=>{C(),s(),M(!1)},[C,s,M]),A=_.useCallback(()=>{D(),g(!0)},[D]),E=_.useCallback(()=>{g(!1)},[]);return c.jsxs("div",{children:[c.jsxs($t,{open:e,onClose:a,fullScreen:h,maxWidth:"sm",fullWidth:!0,"aria-labelledby":"transition-dialog-title","aria-describedby":"transition-dialog-description",children:[c.jsxs(en,{id:"transition-dialog-title",sx:{pr:6},children:[`${p} ${d("for")} ${i}`,c.jsx(di,{close:a})]}),c.jsx(H,{sx:{px:3},children:c.jsx(lA,{variant:"determinate",value:Math.max(0,Math.min(100,S/w*100)),sx:{height:4,borderRadius:2,mb:1,"& .MuiLinearProgress-bar":{transition:"transform 1000ms linear"}},"aria-label":d("autoCloseProgress")})}),c.jsxs(Kt,{children:[c.jsx(q,{id:"transition-dialog-description",variant:"h4",sx:{mt:1,mb:1},children:x}),c.jsx(q,{variant:"caption",display:"block",sx:{mb:2},children:j?c.jsx(K,{i18nKey:"autoCloseModal",values:{timeLeft:S}}):c.jsx(K,{i18nKey:"autoCloseStopped"})}),(v==null?void 0:v.length)&&c.jsxs(H,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[c.jsx(K,{i18nKey:"timers"}),v.map(z=>c.jsx(xS,{textString:z,preventParentClose:D},z))]}),!!o&&c.jsxs(H,{textAlign:"center",children:[c.jsx(xt,{sx:{my:2}}),c.jsx(q,{variant:"body1",children:o.isSelf?c.jsx(K,{i18nKey:"yourTurn"}):c.jsx(K,{i18nKey:"nextPlayersTurn",values:{player:T}})})]}),!!u&&t.includes(d("finish"))&&c.jsxs(H,{textAlign:"center",children:[c.jsx(xt,{sx:{my:2}}),c.jsx(fe,{onClick:A,children:c.jsx(q,{children:d("playAgain")})})]})]})]}),c.jsx(bS,{isOpen:m,close:E})]})}const VL="/audio/roll-dice-DysgIh_A.mp3",GL="/audio/message-CBVROrdp.mp3";function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},rc.apply(null,arguments)}function FL(e,t){if(e==null)return{};var i={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;i[a]=e[a]}return i}function qL(e){_.useEffect(e,[])}var HL=["id","volume","playbackRate","soundEnabled","interrupt","onload"];function Sv(e,t){var i={},a=i.volume,s=a===void 0?1:a,o=i.playbackRate,u=o===void 0?1:o,d=i.soundEnabled,h=d===void 0?!0:d,m=i.interrupt,g=m===void 0?!1:m,p=i.onload,x=FL(i,HL),v=Pt.useRef(null),w=Pt.useRef(!1),S=Pt.useState(null),C=S[0],j=S[1],M=Pt.useState(null),T=M[0],D=M[1],A=function(){typeof p=="function"&&p.call(this),w.current&&j(this.duration()*1e3),D(this)};qL(function(){return Il(()=>import("../js/chunk-WIoTRo1F.js").then(function(L){return L.h}),__vite__mapDeps([6,2,3])).then(function(L){if(!w.current){var B;v.current=(B=L.Howl)!==null&&B!==void 0?B:L.default.Howl,w.current=!0,new v.current(rc({src:Array.isArray(e)?e:[e],volume:s,rate:u,onload:A},x))}}),function(){w.current=!1}}),Pt.useEffect(function(){v.current&&T&&D(new v.current(rc({src:Array.isArray(e)?e:[e],volume:s,onload:A},x)))},[JSON.stringify(e)]),Pt.useEffect(function(){T&&(T.volume(s),x.sprite||T.rate(u))},[T,s,u]);var E=Pt.useCallback(function(L){typeof L=="undefined"&&(L={}),!(!T||!h&&!L.forceSoundEnabled)&&(g&&T.stop(),L.playbackRate&&T.rate(L.playbackRate),T.play(L.id))},[T,h,g]),z=Pt.useCallback(function(L){T&&T.stop(L)},[T]),N=Pt.useCallback(function(L){T&&T.pause(L)},[T]),P=[E,{sound:T,stop:z,pause:N,duration:C}];return P}async function $L(e,t){try{await Hl.speak(e,t,-2)}catch(i){console.error("TTS failed:",i)}}var Iu={exports:{}},KL=Iu.exports,_v;function YL(){return _v||(_v=1,function(e,t){(function(i,a){e.exports=a()})(KL,function(){return function(i,a,s){i=i||{};var o=a.prototype,u={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function d(m,g,p,x){return o.fromToBase(m,g,p,x)}s.en.relativeTime=u,o.fromToBase=function(m,g,p,x,v){for(var w,S,C,j=p.$locale().relativeTime||u,M=i.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],T=M.length,D=0;D<T;D+=1){var A=M[D];A.d&&(w=x?s(m).diff(p,A.d,!0):p.diff(m,A.d,!0));var E=(i.rounding||Math.round)(Math.abs(w));if(C=w>0,E<=A.r||!A.r){E<=1&&D>0&&(A=M[D-1]);var z=j[A.l];v&&(E=v(""+E)),S=typeof z=="string"?z.replace("%d",E):z(E,g,A.l,C);break}}if(g)return S;var N=C?j.future:j.past;return typeof N=="function"?N(S):N.replace("%s",S)},o.to=function(m,g){return d(m,g,this,!0)},o.from=function(m,g){return d(m,g,this)};var h=function(m){return m.$u?s.utc():s()};o.toNow=function(m){return this.to(h(this),m)},o.fromNow=function(m){return this.from(h(this),m)}}})}(Iu)),Iu.exports}var XL=YL();const WL=to(XL);var Uu={exports:{}},QL=Uu.exports,jv;function ZL(){return jv||(jv=1,function(e,t){(function(i,a){e.exports=a(gc())})(QL,function(i){function a(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var s=a(i),o={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},ordinal:function(u){return u+"º"}};return s.default.locale(o,null,!0),o})}(Uu)),Uu.exports}ZL();var Vu={exports:{}},JL=Vu.exports,kv;function eR(){return kv||(kv=1,function(e,t){(function(i,a){e.exports=a(gc())})(JL,function(i){function a(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var s=a(i),o={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(u){return""+u+(u===1?"er":"")}};return s.default.locale(o,null,!0),o})}(Vu)),Vu.exports}eR();var Gu={exports:{}},tR=Gu.exports,Cv;function nR(){return Cv||(Cv=1,function(e,t){(function(i,a){e.exports=a(gc())})(tR,function(i){function a(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var s=a(i),o={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(u,d){return d==="W"?u+"周":u+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(u,d){var h=100*u+d;return h<600?"凌晨":h<900?"早上":h<1100?"上午":h<1300?"中午":h<1800?"下午":"晚上"}};return s.default.locale(o,null,!0),o})}(Gu)),Gu.exports}nR();var Fu={exports:{}},iR=Fu.exports,Tv;function rR(){return Tv||(Tv=1,function(e,t){(function(i,a){e.exports=a(gc())})(iR,function(i){function a(u){return u&&typeof u=="object"&&"default"in u?u:{default:u}}var s=a(i),o={name:"hi",weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),ordinal:function(u){return u},formats:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"}};return s.default.locale(o,null,!0),o})}(Fu)),Fu.exports}rR();fr.extend(WL);const vS=e=>{switch(e){case"zh":return"zh-cn";case"es":return"es";case"fr":return"fr";case"hi":return"hi";default:return"en"}},aR=e=>{const t=vS(e);fr.locale(t)},sR=(e,t)=>{const i=vS(t);return fr(e).locale(i)};function lR(){const{i18n:e}=ce(),{user:t}=En(),{messages:i}=Zr(),[a,s]=_.useState(!1),[o]=Sv(VL),[u]=Sv(GL),[d]=pn(),{playerDialog:h,othersDialog:m,mySound:g,otherSound:p,chatSound:x,readRoll:v,voicePreference:w}=d||{},S=_.useMemo(()=>[...i].pop(),[i]),C=_.useCallback(async N=>{if(N)try{await $L(N,w)}catch(P){console.error("Failed to speak text:",P)}},[w]),j=_.useMemo(()=>{if(!(S!=null&&S.timestamp))return!1;const N=ss(S.timestamp);return N?fr(N).diff(fr(),"seconds")>=-2:!1},[S]),M=_.useMemo(()=>(S==null?void 0:S.uid)===(t==null?void 0:t.uid),[S,t]),T=!!(h&&M),D=!!(m&&!M),A=(M&&g||!M&&p)&&(S==null?void 0:S.type)==="actions",E=M&&v&&(S==null?void 0:S.type)==="actions",z=x&&(S==null?void 0:S.type)==="chat";return _.useEffect(()=>{if(aR(e.resolvedLanguage||e.language),j&&(S==null?void 0:S.type)==="actions"&&(T||D)&&s(S),j&&S){if(A&&o(),E){const N=zw(S==null?void 0:S.text);C(N)}z&&u()}},[e.resolvedLanguage,e.language,S,M,T,D,A,E,z,o,u,C,j]),{message:a,setMessage:s,isMyMessage:!!M}}const oR=()=>{const{t:e}=ce(),{message:t,setMessage:i,isMyMessage:a}=lR(),s=yS(t),o=_.useRef(void 0);_.useEffect(()=>(t&&(o.current=setTimeout(()=>i(!1),21e3)),()=>{o.current&&clearTimeout(o.current)}),[t,i]);const u=_.useCallback(()=>{o.current&&clearTimeout(o.current),i(!1)},[i]),d=_.useCallback(()=>{o.current&&clearTimeout(o.current)},[]);return!t||typeof t!="object"||!t.text||t.text.includes(e("start"))?null:c.jsx(UL,{text:t==null?void 0:t.text,displayName:t==null?void 0:t.displayName,open:!0,handleClose:u,stopAutoClose:d,nextPlayer:s,isMyMessage:a})},uR=({selectedRoll:e,handleMenuItemClick:t})=>{const[i,a]=_.useState(!1),s=_.useRef(null),o=()=>{a(h=>!h)},u=h=>{var m;h.target instanceof Node&&((m=s.current)!=null&&m.contains(h.target))||a(!1)},d=new Map;return d.set("restart",Ie("restart")).set("manual",Ie("manual")).set("30",Ie("auto30")).set("60",Ie("auto60")).set("90",Ie("auto90")).set("custom",Ie("setTimer")),c.jsxs(c.Fragment,{children:[c.jsx(fe,{size:"small","aria-controls":i?"split-button-menu":void 0,"aria-expanded":i?"true":void 0,"aria-label":"select roll options","aria-haspopup":"menu",onClick:o,ref:s,children:c.jsx(l2,{})}),c.jsx(oA,{sx:{zIndex:1},open:i,anchorEl:s.current,transition:!0,disablePortal:!0,placement:"top-end",children:({TransitionProps:h})=>c.jsx(uA,{...h,style:{transformOrigin:"right bottom"},children:c.jsx(ew,{children:c.jsx(cA,{onClickAway:u,children:c.jsx(dA,{id:"split-button-menu",autoFocusItem:!0,children:Array.from(d).map(([m,g])=>c.jsx(pe,{selected:m===e,onClick:()=>t(m),children:g},m))})})})})})]})},Fa=10,cR=({isOpen:e,onClose:t,onSubmit:i})=>{const{t:a}=ce(),s=mn(),[o,u]=_.useState(30),[d,h]=_.useState(!1),[m,g]=_.useState(!1),[p,x]=_.useState(20),[v,w]=_.useState(60),S={"& input[type=number]":{MozAppearance:"textfield"},"& input[type=number]::-webkit-outer-spin-button, & input[type=number]::-webkit-inner-spin-button":{WebkitAppearance:"none",margin:0}},C=T=>({input:{endAdornment:T,inputProps:{inputMode:"numeric",pattern:"[0-9]*"}}}),j=()=>{if(m){let T=Number.parseInt(String(p),10),D=Number.parseInt(String(v),10);Number.isNaN(T)?(T=d?1:Fa,x(T)):!d&&T<Fa&&(T=Fa),Number.isNaN(D)||D<T?(D=T,w(D)):D===0&&(D=180,w(D)),d&&(T*=60,D*=60);const A=Math.floor(Math.random()*(D-T+1))+T;i(A,{isRange:!0,min:T,max:D})}else{let T=Number.parseInt(String(o),10);Number.isNaN(T)?(T=d?1:Fa,u(T)):d?T*=60:T<Fa&&(T=Fa),i(T,{isRange:!1})}t()},M=()=>{u(T=>{const D=Number.parseFloat(String(T));return Number.isNaN(D)||D<=0?T:d?(D*60).toString():(D/60).toString()}),x(T=>{const D=Number.parseFloat(String(T));return Number.isNaN(D)||D<=0?T:d?(D*60).toString():(D/60).toString()}),w(T=>{const D=Number.parseFloat(String(T));return Number.isNaN(D)||D<=0?T:d?(D*60).toString():(D/60).toString()}),h(T=>!T)};return c.jsxs($t,{open:e,onClose:t,fullScreen:s,maxWidth:"xs","aria-labelledby":"custom-timer-dialog-title",children:[c.jsx(en,{id:"custom-timer-dialog-title",children:a("setTimer")}),c.jsxs(Kt,{children:[c.jsx(H,{sx:{mb:2},children:c.jsx(Ul,{control:c.jsx(Mi,{checked:m,onChange:T=>g(T.target.checked)}),label:a("useRandomRange")})}),m?c.jsxs(H,{children:[c.jsx(q,{variant:"subtitle2",children:a("randomTimerRange")}),c.jsxs(H,{sx:{display:"flex",gap:2,my:2},children:[c.jsx(He,{label:a("minValue"),type:"number",value:p,onChange:T=>{const D=parseInt(T.target.value,10);x(D)},fullWidth:!0,sx:S,slotProps:C(c.jsx(Cl,{position:"end",children:a(d?"minutes":"seconds")}))}),c.jsx(q,{variant:"body1",sx:{alignSelf:"center"},children:"-"}),c.jsx(He,{label:a("maxValue"),type:"number",value:v,onChange:T=>{const D=parseInt(T.target.value,10);w(Math.max(Number(p),D))},fullWidth:!0,sx:S,slotProps:C(c.jsx(Cl,{position:"end",children:a(d?"minutes":"seconds")}))})]}),c.jsxs(fe,{onClick:M,variant:"outlined",size:"small",children:[a(d?"minutes":"seconds"),c.jsx(rv,{sx:{ml:1}})]})]}):c.jsx(He,{autoFocus:!0,type:"number",value:o,onChange:T=>u(T.target.value),fullWidth:!0,sx:S,slotProps:C(c.jsx(Cl,{position:"end",children:c.jsxs(fe,{onClick:M,variant:"text",children:[a(d?"minutes":"seconds"),c.jsx(rv,{sx:{ml:1}})]})}))})]}),c.jsxs($r,{sx:{p:2,gap:1},children:[c.jsx(fe,{onClick:t,variant:"outlined",fullWidth:s,children:a("cancel")}),c.jsx(fe,{onClick:j,variant:"contained",autoFocus:!0,fullWidth:s,children:a("set")})]})]})},hp=_.createContext({});function mp(e){const t=_.useRef(null);return t.current===null&&(t.current=e()),t.current}const pp=typeof window!="undefined",wS=pp?_.useLayoutEffect:_.useEffect,Ac=_.createContext(null);function gp(e,t){e.indexOf(t)===-1&&e.push(t)}function yp(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}const Di=(e,t,i)=>i>t?t:i<e?e:i;let xp=()=>{};const zi={},SS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function _S(e){return typeof e=="object"&&e!==null}const jS=e=>/^0[^.\s]+$/u.test(e);function bp(e){let t;return()=>(t===void 0&&(t=e()),t)}const Fn=e=>e,dR=(e,t)=>i=>t(e(i)),oo=(...e)=>e.reduce(dR),Kl=(e,t,i)=>{const a=t-e;return a===0?1:(i-e)/a};class vp{constructor(){this.subscriptions=[]}add(t){return gp(this.subscriptions,t),()=>yp(this.subscriptions,t)}notify(t,i,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,i,a);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(t,i,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const si=e=>e*1e3,li=e=>e/1e3;function kS(e,t){return t?e*(1e3/t):0}const CS=(e,t,i)=>(((1-3*i+3*t)*e+(3*i-6*t))*e+3*t)*e,fR=1e-7,hR=12;function mR(e,t,i,a,s){let o,u,d=0;do u=t+(i-t)/2,o=CS(u,a,s)-e,o>0?i=u:t=u;while(Math.abs(o)>fR&&++d<hR);return u}function uo(e,t,i,a){if(e===t&&i===a)return Fn;const s=o=>mR(o,0,1,e,i);return o=>o===0||o===1?o:CS(s(o),t,a)}const TS=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,AS=e=>t=>1-e(1-t),ES=uo(.33,1.53,.69,.99),wp=AS(ES),MS=TS(wp),LS=e=>(e*=2)<1?.5*wp(e):.5*(2-Math.pow(2,-10*(e-1))),Sp=e=>1-Math.sin(Math.acos(e)),RS=AS(Sp),DS=TS(Sp),pR=uo(.42,0,1,1),gR=uo(0,0,.58,1),zS=uo(.42,0,.58,1),yR=e=>Array.isArray(e)&&typeof e[0]!="number",OS=e=>Array.isArray(e)&&typeof e[0]=="number",xR={linear:Fn,easeIn:pR,easeInOut:zS,easeOut:gR,circIn:Sp,circInOut:DS,circOut:RS,backIn:wp,backInOut:MS,backOut:ES,anticipate:LS},bR=e=>typeof e=="string",Av=e=>{if(OS(e)){xp(e.length===4);const[t,i,a,s]=e;return uo(t,i,a,s)}else if(bR(e))return xR[e];return e},Au=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vR(e,t){let i=new Set,a=new Set,s=!1,o=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(g){u.has(g)&&(m.schedule(g),e()),g(d)}const m={schedule:(g,p=!1,x=!1)=>{const w=x&&s?i:a;return p&&u.add(g),w.has(g)||w.add(g),g},cancel:g=>{a.delete(g),u.delete(g)},process:g=>{if(d=g,s){o=!0;return}s=!0,[i,a]=[a,i],i.forEach(h),i.clear(),s=!1,o&&(o=!1,m.process(g))}};return m}const wR=40;function NS(e,t){let i=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>i=!0,u=Au.reduce((T,D)=>(T[D]=vR(o),T),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:g,update:p,preRender:x,render:v,postRender:w}=u,S=()=>{const T=zi.useManualTiming?s.timestamp:performance.now();i=!1,zi.useManualTiming||(s.delta=a?1e3/60:Math.max(Math.min(T-s.timestamp,wR),1)),s.timestamp=T,s.isProcessing=!0,d.process(s),h.process(s),m.process(s),g.process(s),p.process(s),x.process(s),v.process(s),w.process(s),s.isProcessing=!1,i&&t&&(a=!1,e(S))},C=()=>{i=!0,a=!0,s.isProcessing||e(S)};return{schedule:Au.reduce((T,D)=>{const A=u[D];return T[D]=(E,z=!1,N=!1)=>(i||C(),A.schedule(E,z,N)),T},{}),cancel:T=>{for(let D=0;D<Au.length;D++)u[Au[D]].cancel(T)},state:s,steps:u}}const{schedule:st,cancel:hr,state:Bt,steps:lh}=NS(typeof requestAnimationFrame!="undefined"?requestAnimationFrame:Fn,!0);let qu;function SR(){qu=void 0}const fn={now:()=>(qu===void 0&&fn.set(Bt.isProcessing||zi.useManualTiming?Bt.timestamp:performance.now()),qu),set:e=>{qu=e,queueMicrotask(SR)}},BS=e=>t=>typeof t=="string"&&t.startsWith(e),_p=BS("--"),_R=BS("var(--"),jp=e=>_R(e)?jR.test(e.split("/*")[0].trim()):!1,jR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,hs={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yl={...hs,transform:e=>Di(0,1,e)},Eu={...hs,default:1},Ml=e=>Math.round(e*1e5)/1e5,kp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kR(e){return e==null}const CR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cp=(e,t)=>i=>!!(typeof i=="string"&&CR.test(i)&&i.startsWith(e)||t&&!kR(i)&&Object.prototype.hasOwnProperty.call(i,t)),PS=(e,t,i)=>a=>{if(typeof a!="string")return a;const[s,o,u,d]=a.match(kp);return{[e]:parseFloat(s),[t]:parseFloat(o),[i]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},TR=e=>Di(0,255,e),oh={...hs,transform:e=>Math.round(TR(e))},Ir={test:Cp("rgb","red"),parse:PS("red","green","blue"),transform:({red:e,green:t,blue:i,alpha:a=1})=>"rgba("+oh.transform(e)+", "+oh.transform(t)+", "+oh.transform(i)+", "+Ml(Yl.transform(a))+")"};function AR(e){let t="",i="",a="",s="";return e.length>5?(t=e.substring(1,3),i=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),i=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,i+=i,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(i,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const fm={test:Cp("#"),parse:AR,transform:Ir.transform},co=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cr=co("deg"),oi=co("%"),Ce=co("px"),ER=co("vh"),MR=co("vw"),Ev={...oi,parse:e=>oi.parse(e)/100,transform:e=>oi.transform(e*100)},Ya={test:Cp("hsl","hue"),parse:PS("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:i,alpha:a=1})=>"hsla("+Math.round(e)+", "+oi.transform(Ml(t))+", "+oi.transform(Ml(i))+", "+Ml(Yl.transform(a))+")"},_t={test:e=>Ir.test(e)||fm.test(e)||Ya.test(e),parse:e=>Ir.test(e)?Ir.parse(e):Ya.test(e)?Ya.parse(e):fm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ir.transform(e):Ya.transform(e),getAnimatableNone:e=>{const t=_t.parse(e);return t.alpha=0,_t.transform(t)}},LR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RR(e){var t,i;return isNaN(e)&&typeof e=="string"&&(((t=e.match(kp))==null?void 0:t.length)||0)+(((i=e.match(LR))==null?void 0:i.length)||0)>0}const IS="number",US="color",DR="var",zR="var(",Mv="${}",OR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xl(e){const t=e.toString(),i=[],a={color:[],number:[],var:[]},s=[];let o=0;const d=t.replace(OR,h=>(_t.test(h)?(a.color.push(o),s.push(US),i.push(_t.parse(h))):h.startsWith(zR)?(a.var.push(o),s.push(DR),i.push(h)):(a.number.push(o),s.push(IS),i.push(parseFloat(h))),++o,Mv)).split(Mv);return{values:i,split:d,indexes:a,types:s}}function VS(e){return Xl(e).values}function GS(e){const{split:t,types:i}=Xl(e),a=t.length;return s=>{let o="";for(let u=0;u<a;u++)if(o+=t[u],s[u]!==void 0){const d=i[u];d===IS?o+=Ml(s[u]):d===US?o+=_t.transform(s[u]):o+=s[u]}return o}}const NR=e=>typeof e=="number"?0:_t.test(e)?_t.getAnimatableNone(e):e;function BR(e){const t=VS(e);return GS(e)(t.map(NR))}const mr={test:RR,parse:VS,createTransformer:GS,getAnimatableNone:BR};function uh(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+(t-e)*6*i:i<1/2?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function PR({hue:e,saturation:t,lightness:i,alpha:a}){e/=360,t/=100,i/=100;let s=0,o=0,u=0;if(!t)s=o=u=i;else{const d=i<.5?i*(1+t):i+t-i*t,h=2*i-d;s=uh(h,d,e+1/3),o=uh(h,d,e),u=uh(h,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:a}}function ac(e,t){return i=>i>0?t:e}const ut=(e,t,i)=>e+(t-e)*i,ch=(e,t,i)=>{const a=e*e,s=i*(t*t-a)+a;return s<0?0:Math.sqrt(s)},IR=[fm,Ir,Ya],UR=e=>IR.find(t=>t.test(e));function Lv(e){const t=UR(e);if(!t)return!1;let i=t.parse(e);return t===Ya&&(i=PR(i)),i}const Rv=(e,t)=>{const i=Lv(e),a=Lv(t);if(!i||!a)return ac(e,t);const s={...i};return o=>(s.red=ch(i.red,a.red,o),s.green=ch(i.green,a.green,o),s.blue=ch(i.blue,a.blue,o),s.alpha=ut(i.alpha,a.alpha,o),Ir.transform(s))},hm=new Set(["none","hidden"]);function VR(e,t){return hm.has(e)?i=>i<=0?e:t:i=>i>=1?t:e}function GR(e,t){return i=>ut(e,t,i)}function Tp(e){return typeof e=="number"?GR:typeof e=="string"?jp(e)?ac:_t.test(e)?Rv:HR:Array.isArray(e)?FS:typeof e=="object"?_t.test(e)?Rv:FR:ac}function FS(e,t){const i=[...e],a=i.length,s=e.map((o,u)=>Tp(o)(o,t[u]));return o=>{for(let u=0;u<a;u++)i[u]=s[u](o);return i}}function FR(e,t){const i={...e,...t},a={};for(const s in i)e[s]!==void 0&&t[s]!==void 0&&(a[s]=Tp(e[s])(e[s],t[s]));return s=>{for(const o in a)i[o]=a[o](s);return i}}function qR(e,t){var s;const i=[],a={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],d=e.indexes[u][a[u]],h=(s=e.values[d])!=null?s:0;i[o]=h,a[u]++}return i}const HR=(e,t)=>{const i=mr.createTransformer(t),a=Xl(e),s=Xl(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?hm.has(e)&&!s.values.length||hm.has(t)&&!a.values.length?VR(e,t):oo(FS(qR(a,s),s.values),i):ac(e,t)};function qS(e,t,i){return typeof e=="number"&&typeof t=="number"&&typeof i=="number"?ut(e,t,i):Tp(e)(e,t)}const $R=e=>{const t=({timestamp:i})=>e(i);return{start:(i=!0)=>st.update(t,i),stop:()=>hr(t),now:()=>Bt.isProcessing?Bt.timestamp:fn.now()}},HS=(e,t,i=10)=>{let a="";const s=Math.max(Math.round(t/i),2);for(let o=0;o<s;o++)a+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},sc=2e4;function Ap(e){let t=0;const i=50;let a=e.next(t);for(;!a.done&&t<sc;)t+=i,a=e.next(t);return t>=sc?1/0:t}function KR(e,t=100,i){const a=i({...e,keyframes:[0,t]}),s=Math.min(Ap(a),sc);return{type:"keyframes",ease:o=>a.next(s*o).value/t,duration:li(s)}}const YR=5;function $S(e,t,i){const a=Math.max(t-YR,0);return kS(i-e(a),t-a)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dh=.001;function XR({duration:e=ht.duration,bounce:t=ht.bounce,velocity:i=ht.velocity,mass:a=ht.mass}){let s,o,u=1-t;u=Di(ht.minDamping,ht.maxDamping,u),e=Di(ht.minDuration,ht.maxDuration,li(e)),u<1?(s=m=>{const g=m*u,p=g*e,x=g-i,v=mm(m,u),w=Math.exp(-p);return dh-x/v*w},o=m=>{const p=m*u*e,x=p*i+i,v=Math.pow(u,2)*Math.pow(m,2)*e,w=Math.exp(-p),S=mm(Math.pow(m,2),u);return(-s(m)+dh>0?-1:1)*((x-v)*w)/S}):(s=m=>{const g=Math.exp(-m*e),p=(m-i)*e+1;return-dh+g*p},o=m=>{const g=Math.exp(-m*e),p=(i-m)*(e*e);return g*p});const d=5/e,h=QR(s,o,d);if(e=si(e),isNaN(h))return{stiffness:ht.stiffness,damping:ht.damping,duration:e};{const m=Math.pow(h,2)*a;return{stiffness:m,damping:u*2*Math.sqrt(a*m),duration:e}}}const WR=12;function QR(e,t,i){let a=i;for(let s=1;s<WR;s++)a=a-e(a)/t(a);return a}function mm(e,t){return e*Math.sqrt(1-t*t)}const ZR=["duration","bounce"],JR=["stiffness","damping","mass"];function Dv(e,t){return t.some(i=>e[i]!==void 0)}function eD(e){let t={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...e};if(!Dv(e,JR)&&Dv(e,ZR))if(e.visualDuration){const i=e.visualDuration,a=2*Math.PI/(i*1.2),s=a*a,o=2*Di(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ht.mass,stiffness:s,damping:o}}else{const i=XR(e);t={...t,...i,mass:ht.mass},t.isResolvedFromDuration=!0}return t}function lc(e=ht.visualDuration,t=ht.bounce){const i=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=i;const o=i.keyframes[0],u=i.keyframes[i.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:m,mass:g,duration:p,velocity:x,isResolvedFromDuration:v}=eD({...i,velocity:-li(i.velocity||0)}),w=x||0,S=m/(2*Math.sqrt(h*g)),C=u-o,j=li(Math.sqrt(h/g)),M=Math.abs(C)<5;a||(a=M?ht.restSpeed.granular:ht.restSpeed.default),s||(s=M?ht.restDelta.granular:ht.restDelta.default);let T;if(S<1){const A=mm(j,S);T=E=>{const z=Math.exp(-S*j*E);return u-z*((w+S*j*C)/A*Math.sin(A*E)+C*Math.cos(A*E))}}else if(S===1)T=A=>u-Math.exp(-j*A)*(C+(w+j*C)*A);else{const A=j*Math.sqrt(S*S-1);T=E=>{const z=Math.exp(-S*j*E),N=Math.min(A*E,300);return u-z*((w+S*j*C)*Math.sinh(N)+A*C*Math.cosh(N))/A}}const D={calculatedDuration:v&&p||null,next:A=>{const E=T(A);if(v)d.done=A>=p;else{let z=A===0?w:0;S<1&&(z=A===0?si(w):$S(T,A,E));const N=Math.abs(z)<=a,P=Math.abs(u-E)<=s;d.done=N&&P}return d.value=d.done?u:E,d},toString:()=>{const A=Math.min(Ap(D),sc),E=HS(z=>D.next(A*z).value,A,30);return A+"ms "+E},toTransition:()=>{}};return D}lc.applyToOptions=e=>{const t=KR(e,100,lc);return e.ease=t.ease,e.duration=si(t.duration),e.type="keyframes",e};function pm({keyframes:e,velocity:t=0,power:i=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:h,restDelta:m=.5,restSpeed:g}){const p=e[0],x={done:!1,value:p},v=N=>d!==void 0&&N<d||h!==void 0&&N>h,w=N=>d===void 0?h:h===void 0||Math.abs(d-N)<Math.abs(h-N)?d:h;let S=i*t;const C=p+S,j=u===void 0?C:u(C);j!==C&&(S=j-p);const M=N=>-S*Math.exp(-N/a),T=N=>j+M(N),D=N=>{const P=M(N),L=T(N);x.done=Math.abs(P)<=m,x.value=x.done?j:L};let A,E;const z=N=>{v(x.value)&&(A=N,E=lc({keyframes:[x.value,w(x.value)],velocity:$S(T,N,x.value),damping:s,stiffness:o,restDelta:m,restSpeed:g}))};return z(0),{calculatedDuration:null,next:N=>{let P=!1;return!E&&A===void 0&&(P=!0,D(N),z(N)),A!==void 0&&N>=A?E.next(N-A):(!P&&D(N),x)}}}function tD(e,t,i){const a=[],s=i||zi.mix||qS,o=e.length-1;for(let u=0;u<o;u++){let d=s(e[u],e[u+1]);if(t){const h=Array.isArray(t)?t[u]||Fn:t;d=oo(h,d)}a.push(d)}return a}function nD(e,t,{clamp:i=!0,ease:a,mixer:s}={}){const o=e.length;if(xp(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=tD(t,a,s),h=d.length,m=g=>{if(u&&g<e[0])return t[0];let p=0;if(h>1)for(;p<e.length-2&&!(g<e[p+1]);p++);const x=Kl(e[p],e[p+1],g);return d[p](x)};return i?g=>m(Di(e[0],e[o-1],g)):m}function iD(e,t){const i=e[e.length-1];for(let a=1;a<=t;a++){const s=Kl(0,t,a);e.push(ut(i,1,s))}}function rD(e){const t=[0];return iD(t,e.length-1),t}function aD(e,t){return e.map(i=>i*t)}function sD(e,t){return e.map(()=>t||zS).splice(0,e.length-1)}function Ll({duration:e=300,keyframes:t,times:i,ease:a="easeInOut"}){const s=yR(a)?a.map(Av):Av(a),o={done:!1,value:t[0]},u=aD(i&&i.length===t.length?i:rD(t),e),d=nD(u,t,{ease:Array.isArray(s)?s:sD(t,s)});return{calculatedDuration:e,next:h=>(o.value=d(h),o.done=h>=e,o)}}const lD=e=>e!==null;function Ep(e,{repeat:t,repeatType:i="loop"},a,s=1){const o=e.filter(lD),d=s<0||t&&i!=="loop"&&t%2===1?0:o.length-1;return!d||a===void 0?o[d]:a}const oD={decay:pm,inertia:pm,tween:Ll,keyframes:Ll,spring:lc};function KS(e){typeof e.type=="string"&&(e.type=oD[e.type])}class Mp{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,i){return this.finished.then(t,i)}}const uD=e=>e/100;class Lp extends Mp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,s;const{motionValue:i}=this.options;i&&i.updatedAt!==fn.now()&&this.tick(fn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(a=this.options).onStop)==null||s.call(a))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;KS(t);const{type:i=Ll,repeat:a=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=t;let{keyframes:d}=t;const h=i||Ll;h!==Ll&&typeof d[0]!="number"&&(this.mixKeyframes=oo(uD,qS(d[0],d[1])),d=[0,100]);const m=h({...t,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...d].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=Ap(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(a+1)-s,this.generator=m}updateTime(t){const i=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(t,i=!1){const{generator:a,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:g,repeat:p,repeatType:x,repeatDelay:v,type:w,onUpdate:S,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),i?this.currentTime=t:this.updateTime(t);const j=this.currentTime-m*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?j<0:j>s;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,D=a;if(p){const N=Math.min(this.currentTime,s)/d;let P=Math.floor(N),L=N%1;!L&&N>=1&&(L=1),L===1&&P--,P=Math.min(P,p+1),!!(P%2)&&(x==="reverse"?(L=1-L,v&&(L-=v/d)):x==="mirror"&&(D=u)),T=Di(0,1,L)*d}const A=M?{done:!1,value:g[0]}:D.next(T);o&&(A.value=o(A.value));let{done:E}=A;!M&&h!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return z&&w!==pm&&(A.value=Ep(g,this.options,C,this.speed)),S&&S(A.value),z&&this.finish(),A}then(t,i){return this.finished.then(t,i)}get duration(){return li(this.calculatedDuration)}get time(){return li(this.currentTime)}set time(t){var i;t=si(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(i=this.driver)==null||i.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(fn.now());const i=this.playbackSpeed!==t;this.playbackSpeed=t,i&&(this.time=li(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:t=$R,startTime:i}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(o=(s=this.options).onPlay)==null||o.call(s);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=i!=null?i:a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(fn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,i;this.notifyFinished(),this.teardown(),this.state="finished",(i=(t=this.options).onComplete)==null||i.call(t)}cancel(){var t,i;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(i=(t=this.options).onCancel)==null||i.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var i;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(i=this.driver)==null||i.stop(),t.observe(this)}}function cD(e){var t;for(let i=1;i<e.length;i++)(t=e[i])!=null||(e[i]=e[i-1])}const Ur=e=>e*180/Math.PI,gm=e=>{const t=Ur(Math.atan2(e[1],e[0]));return ym(t)},dD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:gm,rotateZ:gm,skewX:e=>Ur(Math.atan(e[1])),skewY:e=>Ur(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ym=e=>(e=e%360,e<0&&(e+=360),e),zv=gm,Ov=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Nv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ov,scaleY:Nv,scale:e=>(Ov(e)+Nv(e))/2,rotateX:e=>ym(Ur(Math.atan2(e[6],e[5]))),rotateY:e=>ym(Ur(Math.atan2(-e[2],e[0]))),rotateZ:zv,rotate:zv,skewX:e=>Ur(Math.atan(e[4])),skewY:e=>Ur(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xm(e){return e.includes("scale")?1:0}function bm(e,t){if(!e||e==="none")return xm(t);const i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,s;if(i)a=fD,s=i;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=dD,s=d}if(!s)return xm(t);const o=a[t],u=s[1].split(",").map(mD);return typeof o=="function"?o(u):u[o]}const hD=(e,t)=>{const{transform:i="none"}=getComputedStyle(e);return bm(i,t)};function mD(e){return parseFloat(e.trim())}const ms=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ps=new Set(ms),Bv=e=>e===hs||e===Ce,pD=new Set(["x","y","z"]),gD=ms.filter(e=>!pD.has(e));function yD(e){const t=[];return gD.forEach(i=>{const a=e.getValue(i);a!==void 0&&(t.push([i,a.get()]),a.set(i.startsWith("scale")?1:0))}),t}const Gr={width:({x:e},{paddingLeft:t="0",paddingRight:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),height:({y:e},{paddingTop:t="0",paddingBottom:i="0"})=>e.max-e.min-parseFloat(t)-parseFloat(i),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>bm(t,"x"),y:(e,{transform:t})=>bm(t,"y")};Gr.translateX=Gr.x;Gr.translateY=Gr.y;const Fr=new Set;let vm=!1,wm=!1,Sm=!1;function YS(){if(wm){const e=Array.from(Fr).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),i=new Map;t.forEach(a=>{const s=yD(a);s.length&&(i.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=i.get(a);s&&s.forEach(([o,u])=>{var d;(d=a.getValue(o))==null||d.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}wm=!1,vm=!1,Fr.forEach(e=>e.complete(Sm)),Fr.clear()}function XS(){Fr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wm=!0)})}function xD(){Sm=!0,XS(),YS(),Sm=!1}class Rp{constructor(t,i,a,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=i,this.name=a,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Fr.add(this),vm||(vm=!0,st.read(XS),st.resolveKeyframes(YS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:i,element:a,motionValue:s}=this;if(t[0]===null){const o=s==null?void 0:s.get(),u=t[t.length-1];if(o!==void 0)t[0]=o;else if(a&&i){const d=a.readValue(i,u);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=u),s&&o===void 0&&s.set(t[0])}cD(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fr.delete(this)}cancel(){this.state==="scheduled"&&(Fr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bD=e=>e.startsWith("--");function vD(e,t,i){bD(t)?e.style.setProperty(t,i):e.style[t]=i}const wD=bp(()=>window.ScrollTimeline!==void 0),SD={};function _D(e,t){const i=bp(e);return()=>{var a;return(a=SD[t])!=null?a:i()}}const WS=_D(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),jl=([e,t,i,a])=>`cubic-bezier(${e}, ${t}, ${i}, ${a})`,Pv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:jl([0,.65,.55,1]),circOut:jl([.55,0,1,.45]),backIn:jl([.31,.01,.66,-.59]),backOut:jl([.33,1.53,.69,.99])};function QS(e,t){if(e)return typeof e=="function"?WS()?HS(e,t):"ease-out":OS(e)?jl(e):Array.isArray(e)?e.map(i=>QS(i,t)||Pv.easeOut):Pv[e]}function jD(e,t,i,{delay:a=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:d="easeOut",times:h}={},m=void 0){const g={[t]:i};h&&(g.offset=h);const p=QS(d,s);Array.isArray(p)&&(g.easing=p);const x={delay:a,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),e.animate(g,x)}function ZS(e){return typeof e=="function"&&"applyToOptions"in e}function kD({type:e,...t}){var i,a;return ZS(e)&&WS()?e.applyToOptions(t):((i=t.duration)!=null||(t.duration=300),(a=t.ease)!=null||(t.ease="easeOut"),t)}class CD extends Mp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:i,name:a,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:d,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=t,xp(typeof t.type!="string");const m=kD(t);this.animation=jD(i,a,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const g=Ep(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(g):vD(i,a,g),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,i;(i=(t=this.animation).finish)==null||i.call(t)}cancel(){try{this.animation.cancel()}catch(t){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,i;this.isPseudoElement||(i=(t=this.animation).commitStyles)==null||i.call(t)}get duration(){var i,a;const t=((a=(i=this.animation.effect)==null?void 0:i.getComputedTiming)==null?void 0:a.call(i).duration)||0;return li(Number(t))}get time(){return li(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=si(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:i}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wD()?(this.animation.timeline=t,Fn):i(this)}}const JS={anticipate:LS,backInOut:MS,circInOut:DS};function TD(e){return e in JS}function AD(e){typeof e.ease=="string"&&TD(e.ease)&&(e.ease=JS[e.ease])}const Iv=10;class ED extends CD{constructor(t){AD(t),KS(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){var m;const{motionValue:i,onUpdate:a,onComplete:s,element:o,...u}=this.options;if(!i)return;if(t!==void 0){i.set(t);return}const d=new Lp({...u,autoplay:!1}),h=si((m=this.finishedTime)!=null?m:this.time);i.setWithVelocity(d.sample(h-Iv).value,d.sample(h).value,Iv),d.stop()}}const Uv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mr.test(e)||e==="0")&&!e.startsWith("url("));function MD(e){const t=e[0];if(e.length===1)return!0;for(let i=0;i<e.length;i++)if(e[i]!==t)return!0}function LD(e,t,i,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],u=Uv(s,t),d=Uv(o,t);return!u||!d?!1:MD(e)||(i==="spring"||ZS(i))&&a}function _m(e){e.duration=0,e.type}const RD=new Set(["opacity","clipPath","filter","transform"]),DD=bp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zD(e){var g;const{motionValue:t,name:i,repeatDelay:a,repeatType:s,damping:o,type:u}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=t.owner.getProps();return DD()&&i&&RD.has(i)&&(i!=="transform"||!m)&&!h&&!a&&s!=="mirror"&&o!==0&&u!=="inertia"}const OD=40;class ND extends Mp{constructor({autoplay:t=!0,delay:i=0,type:a="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:d,name:h,motionValue:m,element:g,...p}){var w;super(),this.stop=()=>{var S,C;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=fn.now();const x={autoplay:t,delay:i,type:a,repeat:s,repeatDelay:o,repeatType:u,name:h,motionValue:m,element:g,...p},v=(g==null?void 0:g.KeyframeResolver)||Rp;this.keyframeResolver=new v(d,(S,C,j)=>this.onKeyframesResolved(S,C,x,!j),h,m,g),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,i,a,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:d,delay:h,isHandoff:m,onUpdate:g}=a;this.resolvedAt=fn.now(),LD(t,o,u,d)||((zi.instantAnimations||!h)&&(g==null||g(Ep(t,a,i))),t[0]=t[t.length-1],_m(a),a.repeat=0);const x={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>OD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...a,keyframes:t},v=!m&&zD(x)?new ED({...x,element:x.motionValue.owner.current}):new Lp(x);v.finished.then(()=>this.notifyFinished()).catch(Fn),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,i){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xD()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const BD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PD(e){const t=BD.exec(e);if(!t)return[,];const[,i,a,s]=t;return[`--${i!=null?i:a}`,s]}function e_(e,t,i=1){const[a,s]=PD(e);if(!a)return;const o=window.getComputedStyle(t).getPropertyValue(a);if(o){const u=o.trim();return SS(u)?parseFloat(u):u}return jp(s)?e_(s,t,i+1):s}function Dp(e,t){var i,a;return(a=(i=e==null?void 0:e[t])!=null?i:e==null?void 0:e.default)!=null?a:e}const t_=new Set(["width","height","top","left","right","bottom",...ms]),ID={test:e=>e==="auto",parse:e=>e},n_=e=>t=>t.test(e),i_=[hs,Ce,oi,cr,MR,ER,ID],Vv=e=>i_.find(n_(e));function UD(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||jS(e):!0}const VD=new Set(["brightness","contrast","saturate","opacity"]);function GD(e){const[t,i]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=i.match(kp)||[];if(!a)return e;const s=i.replace(a,"");let o=VD.has(t)?1:0;return a!==i&&(o*=100),t+"("+o+s+")"}const FD=/\b([a-z-]*)\(.*?\)/gu,jm={...mr,getAnimatableNone:e=>{const t=e.match(FD);return t?t.map(GD).join(" "):e}},Gv={...hs,transform:Math.round},qD={rotate:cr,rotateX:cr,rotateY:cr,rotateZ:cr,scale:Eu,scaleX:Eu,scaleY:Eu,scaleZ:Eu,skew:cr,skewX:cr,skewY:cr,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:Yl,originX:Ev,originY:Ev,originZ:Ce},zp={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce,...qD,zIndex:Gv,fillOpacity:Yl,strokeOpacity:Yl,numOctaves:Gv},HD={...zp,color:_t,backgroundColor:_t,outlineColor:_t,fill:_t,stroke:_t,borderColor:_t,borderTopColor:_t,borderRightColor:_t,borderBottomColor:_t,borderLeftColor:_t,filter:jm,WebkitFilter:jm},r_=e=>HD[e];function a_(e,t){let i=r_(e);return i!==jm&&(i=mr),i.getAnimatableNone?i.getAnimatableNone(t):void 0}const $D=new Set(["auto","none","0"]);function KD(e,t,i){let a=0,s;for(;a<e.length&&!s;){const o=e[a];typeof o=="string"&&!$D.has(o)&&Xl(o).values.length&&(s=e[a]),a++}if(s&&i)for(const o of t)e[o]=a_(i,s)}class YD extends Rp{constructor(t,i,a,s,o){super(t,i,a,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:i,name:a}=this;if(!i||!i.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),jp(m))){const g=e_(m,i.current);g!==void 0&&(t[h]=g),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!t_.has(a)||t.length!==2)return;const[s,o]=t,u=Vv(s),d=Vv(o);if(u!==d)if(Bv(u)&&Bv(d))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else Gr[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:i}=this,a=[];for(let s=0;s<t.length;s++)(t[s]===null||UD(t[s]))&&a.push(s);a.length&&KD(t,a,i)}measureInitialState(){const{element:t,unresolvedKeyframes:i,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gr[a](t.measureViewportBox(),window.getComputedStyle(t.current)),i[0]=this.measuredOrigin;const s=i[i.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:i,unresolvedKeyframes:a}=this;if(!t||!t.current)return;const s=t.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=a.length-1,u=a[o];a[o]=Gr[i](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function XD(e,t,i){var a;if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(a=i==null?void 0:i[e])!=null?a:s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const s_=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function l_(e){return _S(e)&&"offsetHeight"in e}const Fv=30,WD=e=>!isNaN(parseFloat(e));class QD{constructor(t,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var o;const s=fn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=i.owner}setCurrent(t){this.current=t,this.updatedAt=fn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=WD(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,i){this.events[t]||(this.events[t]=new vp);const a=this.events[t].add(i);return t==="change"?()=>{a(),st.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,i){this.passiveEffect=t,this.stopPassiveEffect=i}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,i,a){this.set(i),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,i=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=fn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fv)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,Fv);return kS(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(t){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=t(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,i;(t=this.dependents)==null||t.clear(),(i=this.events.destroy)==null||i.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function us(e,t){return new QD(e,t)}const{schedule:Op}=NS(queueMicrotask,!1),Yn={x:!1,y:!1};function o_(){return Yn.x||Yn.y}function ZD(e){return e==="x"||e==="y"?Yn[e]?null:(Yn[e]=!0,()=>{Yn[e]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function u_(e,t){const i=XD(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[i,s,()=>a.abort()]}function qv(e){return!(e.pointerType==="touch"||o_())}function JD(e,t,i={}){const[a,s,o]=u_(e,i),u=d=>{if(!qv(d))return;const{target:h}=d,m=t(h,d);if(typeof m!="function"||!h)return;const g=p=>{qv(p)&&(m(p),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return a.forEach(d=>{d.addEventListener("pointerenter",u,s)}),o}const c_=(e,t)=>t?e===t?!0:c_(e,t.parentElement):!1,Np=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ez=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tz(e){return ez.has(e.tagName)||e.tabIndex!==-1}const Hu=new WeakSet;function Hv(e){return t=>{t.key==="Enter"&&e(t)}}function fh(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nz=(e,t)=>{const i=e.currentTarget;if(!i)return;const a=Hv(()=>{if(Hu.has(i))return;fh(i,"down");const s=Hv(()=>{fh(i,"up")}),o=()=>fh(i,"cancel");i.addEventListener("keyup",s,t),i.addEventListener("blur",o,t)});i.addEventListener("keydown",a,t),i.addEventListener("blur",()=>i.removeEventListener("keydown",a),t)};function $v(e){return Np(e)&&!o_()}function iz(e,t,i={}){const[a,s,o]=u_(e,i),u=d=>{const h=d.currentTarget;if(!$v(d))return;Hu.add(h);const m=t(h,d),g=(v,w)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),Hu.has(h)&&Hu.delete(h),$v(v)&&typeof m=="function"&&m(v,{success:w})},p=v=>{g(v,h===window||h===document||i.useGlobalTarget||c_(h,v.target))},x=v=>{g(v,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",x,s)};return a.forEach(d=>{(i.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),l_(d)&&(d.addEventListener("focus",m=>nz(m,s)),!tz(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function d_(e){return _S(e)&&"ownerSVGElement"in e}function rz(e){return d_(e)&&e.tagName==="svg"}const qt=e=>!!(e&&e.getVelocity),az=[...i_,_t,mr],sz=e=>az.find(n_(e)),Bp=_.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class lz extends _.Component{getSnapshotBeforeUpdate(t){const i=this.props.childRef.current;if(i&&t.isPresent&&!this.props.isPresent){const a=i.offsetParent,s=l_(a)&&a.offsetWidth||0,o=this.props.sizeRef.current;o.height=i.offsetHeight||0,o.width=i.offsetWidth||0,o.top=i.offsetTop,o.left=i.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oz({children:e,isPresent:t,anchorX:i,root:a}){const s=_.useId(),o=_.useRef(null),u=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=_.useContext(Bp);return _.useInsertionEffect(()=>{const{width:h,height:m,top:g,left:p,right:x}=u.current;if(t||!o.current||!h||!m)return;const v=i==="left"?`left: ${p}`:`right: ${x}`;o.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const S=a!=null?a:document.head;return S.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(w)&&S.removeChild(w)}},[t]),c.jsx(lz,{isPresent:t,childRef:o,sizeRef:u,children:_.cloneElement(e,{ref:o})})}const uz=({children:e,initial:t,isPresent:i,onExitComplete:a,custom:s,presenceAffectsLayout:o,mode:u,anchorX:d,root:h})=>{const m=mp(cz),g=_.useId();let p=!0,x=_.useMemo(()=>(p=!1,{id:g,initial:t,isPresent:i,custom:s,onExitComplete:v=>{m.set(v,!0);for(const w of m.values())if(!w)return;a&&a()},register:v=>(m.set(v,!1),()=>m.delete(v))}),[i,m,a]);return o&&p&&(x={...x}),_.useMemo(()=>{m.forEach((v,w)=>m.set(w,!1))},[i]),_.useEffect(()=>{!i&&!m.size&&a&&a()},[i]),u==="popLayout"&&(e=c.jsx(oz,{isPresent:i,anchorX:d,root:h,children:e})),c.jsx(Ac.Provider,{value:x,children:e})};function cz(){return new Map}function f_(e=!0){const t=_.useContext(Ac);if(t===null)return[!0,null];const{isPresent:i,onExitComplete:a,register:s}=t,o=_.useId();_.useEffect(()=>{if(e)return s(o)},[e]);const u=_.useCallback(()=>e&&a&&a(o),[o,a,e]);return!i&&a?[!1,u]:[!0]}const Mu=e=>e.key||"";function Kv(e){const t=[];return _.Children.forEach(e,i=>{_.isValidElement(i)&&t.push(i)}),t}const dz=({children:e,custom:t,initial:i=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:d="left",root:h})=>{const[m,g]=f_(u),p=_.useMemo(()=>Kv(e),[e]),x=u&&!m?[]:p.map(Mu),v=_.useRef(!0),w=_.useRef(p),S=mp(()=>new Map),[C,j]=_.useState(p),[M,T]=_.useState(p);wS(()=>{v.current=!1,w.current=p;for(let E=0;E<M.length;E++){const z=Mu(M[E]);x.includes(z)?S.delete(z):S.get(z)!==!0&&S.set(z,!1)}},[M,x.length,x.join("-")]);const D=[];if(p!==C){let E=[...p];for(let z=0;z<M.length;z++){const N=M[z],P=Mu(N);x.includes(P)||(E.splice(z,0,N),D.push(N))}return o==="wait"&&D.length&&(E=D),T(Kv(E)),j(p),null}const{forceRender:A}=_.useContext(hp);return c.jsx(c.Fragment,{children:M.map(E=>{const z=Mu(E),N=u&&!m?!1:p===M||x.includes(z),P=()=>{if(S.has(z))S.set(z,!0);else return;let L=!0;S.forEach(B=>{B||(L=!1)}),L&&(A==null||A(),T(w.current),u&&(g==null||g()),a&&a())};return c.jsx(uz,{isPresent:N,initial:!v.current||i?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,root:h,onExitComplete:N?void 0:P,anchorX:d,children:E},z)})})},h_=_.createContext({strict:!1}),Yv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cs={};for(const e in Yv)cs[e]={isEnabled:t=>Yv[e].some(i=>!!t[i])};function fz(e){for(const t in e)cs[t]={...cs[t],...e[t]}}const hz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||hz.has(e)}let m_=e=>!oc(e);function mz(e){typeof e=="function"&&(m_=t=>t.startsWith("on")?!oc(t):e(t))}try{mz(require("@emotion/is-prop-valid").default)}catch(e){}function pz(e,t,i){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(m_(s)||i===!0&&oc(s)||!t&&!oc(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}const Ec=_.createContext({});function Mc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wl(e){return typeof e=="string"||Array.isArray(e)}const Pp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ip=["initial",...Pp];function Lc(e){return Mc(e.animate)||Ip.some(t=>Wl(e[t]))}function p_(e){return!!(Lc(e)||e.variants)}function gz(e,t){if(Lc(e)){const{initial:i,animate:a}=e;return{initial:i===!1||Wl(i)?i:void 0,animate:Wl(a)?a:void 0}}return e.inherit!==!1?t:{}}function yz(e){const{initial:t,animate:i}=gz(e,_.useContext(Ec));return _.useMemo(()=>({initial:t,animate:i}),[Xv(t),Xv(i)])}function Xv(e){return Array.isArray(e)?e.join(" "):e}const Ql={};function xz(e){for(const t in e)Ql[t]=e[t],_p(t)&&(Ql[t].isCSSVariable=!0)}function g_(e,{layout:t,layoutId:i}){return ps.has(e)||e.startsWith("origin")||(t||i!==void 0)&&(!!Ql[e]||e==="opacity")}const bz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vz=ms.length;function wz(e,t,i){let a="",s=!0;for(let o=0;o<vz;o++){const u=ms[o],d=e[u];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(u.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||i){const m=s_(d,zp[u]);if(!h){s=!1;const g=bz[u]||u;a+=`${g}(${m}) `}i&&(t[u]=m)}}return a=a.trim(),i?a=i(t,s?"":a):s&&(a="none"),a}function Up(e,t,i){const{style:a,vars:s,transformOrigin:o}=e;let u=!1,d=!1;for(const h in t){const m=t[h];if(ps.has(h)){u=!0;continue}else if(_p(h)){s[h]=m;continue}else{const g=s_(m,zp[h]);h.startsWith("origin")?(d=!0,o[h]=g):a[h]=g}}if(t.transform||(u||i?a.transform=wz(t,e.transform,i):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:g=0}=o;a.transformOrigin=`${h} ${m} ${g}`}}const Vp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function y_(e,t,i){for(const a in t)!qt(t[a])&&!g_(a,i)&&(e[a]=t[a])}function Sz({transformTemplate:e},t){return _.useMemo(()=>{const i=Vp();return Up(i,t,e),Object.assign({},i.vars,i.style)},[t])}function _z(e,t){const i=e.style||{},a={};return y_(a,i,e),Object.assign(a,Sz(e,t)),a}function jz(e,t){const i={},a=_z(e,t);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}const kz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cz={offset:"strokeDashoffset",array:"strokeDasharray"};function Tz(e,t,i=1,a=0,s=!0){e.pathLength=1;const o=s?kz:Cz;e[o.offset]=Ce.transform(-a);const u=Ce.transform(t),d=Ce.transform(i);e[o.array]=`${u} ${d}`}function x_(e,{attrX:t,attrY:i,attrScale:a,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...d},h,m,g){var v,w;if(Up(e,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:x}=e;p.transform&&(x.transform=p.transform,delete p.transform),(x.transform||p.transformOrigin)&&(x.transformOrigin=(v=p.transformOrigin)!=null?v:"50% 50%",delete p.transformOrigin),x.transform&&(x.transformBox=(w=g==null?void 0:g.transformBox)!=null?w:"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),i!==void 0&&(p.y=i),a!==void 0&&(p.scale=a),s!==void 0&&Tz(p,s,o,u,!1)}const b_=()=>({...Vp(),attrs:{}}),v_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Az(e,t,i,a){const s=_.useMemo(()=>{const o=b_();return x_(o,t,v_(a),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};y_(o,e.style,e),s.style={...o,...s.style}}return s}const Ez=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gp(e){return typeof e!="string"||e.includes("-")?!1:!!(Ez.indexOf(e)>-1||/[A-Z]/u.test(e))}function Mz(e,t,i,{latestValues:a},s,o=!1){const d=(Gp(e)?Az:jz)(t,a,s,e),h=pz(t,typeof e=="string",o),m=e!==_.Fragment?{...h,...d,ref:i}:{},{children:g}=t,p=_.useMemo(()=>qt(g)?g.get():g,[g]);return _.createElement(e,{...m,children:p})}function Wv(e){const t=[{},{}];return e==null||e.values.forEach((i,a)=>{t[0][a]=i.get(),t[1][a]=i.getVelocity()}),t}function Fp(e,t,i,a){if(typeof t=="function"){const[s,o]=Wv(a);t=t(i!==void 0?i:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Wv(a);t=t(i!==void 0?i:e.custom,s,o)}return t}function $u(e){return qt(e)?e.get():e}function Lz({scrapeMotionValuesFromProps:e,createRenderState:t},i,a,s){return{latestValues:Rz(i,a,s,e),renderState:t()}}function Rz(e,t,i,a){const s={},o=a(e,{});for(const x in o)s[x]=$u(o[x]);let{initial:u,animate:d}=e;const h=Lc(e),m=p_(e);t&&m&&!h&&e.inherit!==!1&&(u===void 0&&(u=t.initial),d===void 0&&(d=t.animate));let g=i?i.initial===!1:!1;g=g||u===!1;const p=g?d:u;if(p&&typeof p!="boolean"&&!Mc(p)){const x=Array.isArray(p)?p:[p];for(let v=0;v<x.length;v++){const w=Fp(e,x[v]);if(w){const{transitionEnd:S,transition:C,...j}=w;for(const M in j){let T=j[M];if(Array.isArray(T)){const D=g?T.length-1:0;T=T[D]}T!==null&&(s[M]=T)}for(const M in S)s[M]=S[M]}}}return s}const w_=e=>(t,i)=>{const a=_.useContext(Ec),s=_.useContext(Ac),o=()=>Lz(e,t,a,s);return i?o():mp(o)};function qp(e,t,i){var o;const{style:a}=e,s={};for(const u in a)(qt(a[u])||t.style&&qt(t.style[u])||g_(u,e)||((o=i==null?void 0:i.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(s[u]=a[u]);return s}const Dz=w_({scrapeMotionValuesFromProps:qp,createRenderState:Vp});function S_(e,t,i){const a=qp(e,t,i);for(const s in e)if(qt(e[s])||qt(t[s])){const o=ms.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[o]=e[s]}return a}const zz=w_({scrapeMotionValuesFromProps:S_,createRenderState:b_}),Oz=Symbol.for("motionComponentSymbol");function Xa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Nz(e,t,i){return _.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),i&&(typeof i=="function"?i(a):Xa(i)&&(i.current=a))},[t])}const Hp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Bz="framerAppearId",__="data-"+Hp(Bz),j_=_.createContext({});function Pz(e,t,i,a,s){var S,C;const{visualElement:o}=_.useContext(Ec),u=_.useContext(h_),d=_.useContext(Ac),h=_.useContext(Bp).reducedMotion,m=_.useRef(null);a=a||u.renderer,!m.current&&a&&(m.current=a(e,{visualState:t,parent:o,props:i,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const g=m.current,p=_.useContext(j_);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&Iz(m.current,i,s,p);const x=_.useRef(!1);_.useInsertionEffect(()=>{g&&x.current&&g.update(i,d)});const v=i[__],w=_.useRef(!!v&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,v))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,v)));return wS(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),_.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)==null||j.call(window,v)}),w.current=!1),g.enteringChildren=void 0)}),g}function Iz(e,t,i,a){const{layoutId:s,layout:o,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new i(e.latestValues,t["data-framer-portal-id"]?void 0:k_(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||d&&Xa(d),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:g,layoutScroll:h,layoutRoot:m})}function k_(e){if(e)return e.options.allowProjection!==!1?e.projection:k_(e.parent)}function hh(e,{forwardMotionProps:t=!1}={},i,a){var d,h;i&&fz(i);const s=Gp(e)?zz:Dz;function o(m,g){let p;const x={..._.useContext(Bp),...m,layoutId:Uz(m)},{isStatic:v}=x,w=yz(m),S=s(m,v);if(!v&&pp){Vz();const C=Gz(x);p=C.MeasureLayout,w.visualElement=Pz(e,S,x,a,C.ProjectionNode)}return c.jsxs(Ec.Provider,{value:w,children:[p&&w.visualElement?c.jsx(p,{visualElement:w.visualElement,...x}):null,Mz(e,m,Nz(S,w.visualElement,g),S,v,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${(h=(d=e.displayName)!=null?d:e.name)!=null?h:""})`}`;const u=_.forwardRef(o);return u[Oz]=e,u}function Uz({layoutId:e}){const t=_.useContext(hp).id;return t&&e!==void 0?t+"-"+e:e}function Vz(e,t){_.useContext(h_).strict}function Gz(e){const{drag:t,layout:i}=cs;if(!t&&!i)return{};const a={...t,...i};return{MeasureLayout:t!=null&&t.isEnabled(e)||i!=null&&i.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Fz(e,t){if(typeof Proxy=="undefined")return hh;const i=new Map,a=(o,u)=>hh(o,u,e,t),s=(o,u)=>a(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?a:(i.has(u)||i.set(u,hh(u,void 0,e,t)),i.get(u))})}function C_({top:e,left:t,right:i,bottom:a}){return{x:{min:t,max:i},y:{min:e,max:a}}}function qz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Hz(e,t){if(!t)return e;const i=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:i.y,left:i.x,bottom:a.y,right:a.x}}function mh(e){return e===void 0||e===1}function km({scale:e,scaleX:t,scaleY:i}){return!mh(e)||!mh(t)||!mh(i)}function Pr(e){return km(e)||T_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function T_(e){return Qv(e.x)||Qv(e.y)}function Qv(e){return e&&e!=="0%"}function uc(e,t,i){const a=e-i,s=t*a;return i+s}function Zv(e,t,i,a,s){return s!==void 0&&(e=uc(e,s,a)),uc(e,i,a)+t}function Cm(e,t=0,i=1,a,s){e.min=Zv(e.min,t,i,a,s),e.max=Zv(e.max,t,i,a,s)}function A_(e,{x:t,y:i}){Cm(e.x,t.translate,t.scale,t.originPoint),Cm(e.y,i.translate,i.scale,i.originPoint)}const Jv=.999999999999,e0=1.0000000000001;function $z(e,t,i,a=!1){const s=i.length;if(!s)return;t.x=t.y=1;let o,u;for(let d=0;d<s;d++){o=i[d],u=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qa(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,A_(e,u)),a&&Pr(o.latestValues)&&Qa(e,o.latestValues))}t.x<e0&&t.x>Jv&&(t.x=1),t.y<e0&&t.y>Jv&&(t.y=1)}function Wa(e,t){e.min=e.min+t,e.max=e.max+t}function t0(e,t,i,a,s=.5){const o=ut(e.min,e.max,s);Cm(e,t,i,o,a)}function Qa(e,t){t0(e.x,t.x,t.scaleX,t.scale,t.originX),t0(e.y,t.y,t.scaleY,t.scale,t.originY)}function E_(e,t){return C_(Hz(e.getBoundingClientRect(),t))}function Kz(e,t,i){const a=E_(e,i),{scroll:s}=t;return s&&(Wa(a.x,s.offset.x),Wa(a.y,s.offset.y)),a}const n0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Za=()=>({x:n0(),y:n0()}),i0=()=>({min:0,max:0}),gt=()=>({x:i0(),y:i0()}),Tm={current:null},M_={current:!1};function Yz(){if(M_.current=!0,!!pp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tm.current=e.matches;e.addEventListener("change",t),t()}else Tm.current=!1}const Xz=new WeakMap;function Wz(e,t,i){for(const a in t){const s=t[a],o=i[a];if(qt(s))e.addValue(a,s);else if(qt(o))e.addValue(a,us(s,{owner:e}));else if(o!==s)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=e.getStaticValue(a);e.addValue(a,us(u!==void 0?u:s,{owner:e}))}}for(const a in i)t[a]===void 0&&e.removeValue(a);return t}const r0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qz{scrapeMotionValuesFromProps(t,i,a){return{}}constructor({parent:t,props:i,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=fn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,st.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=u;this.latestValues=h,this.baseTarget={...h},this.initialValues=i.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=i,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=Lc(i),this.isVariantNode=p_(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...p}=this.scrapeMotionValuesFromProps(i,{},this);for(const x in p){const v=p[x];h[x]!==void 0&&qt(v)&&v.set(h[x])}}mount(t){var i;this.current=t,Xz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,s)=>this.bindToMotionValue(s,a)),M_.current||Yz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Tm.current,(i=this.parent)==null||i.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(i=>i()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const i in this.events)this.events[i].clear();for(const i in this.features){const a=this.features[i];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){var i;this.children.add(t),(i=this.enteringChildren)!=null||(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,i){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=ps.has(t);a&&this.onBindTransform&&this.onBindTransform();const s=i.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&st.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,i)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),i.owner&&i.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cs){const i=cs[t];if(!i)continue;const{isEnabled:a,Feature:s}=i;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,i){this.latestValues[t]=i}update(t,i){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let a=0;a<r0.length;a++){const s=r0[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=t[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=Wz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(t),()=>i.variantChildren.delete(t)}addValue(t,i){const a=this.values.get(t);i!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,i),this.values.set(t,i),this.latestValues[t]=i.get())}removeValue(t){this.values.delete(t);const i=this.valueSubscriptions.get(t);i&&(i(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,i){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&i!==void 0&&(a=us(i===null?void 0:i,{owner:this}),this.addValue(t,a)),a}readValue(t,i){var s;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(s=this.getBaseTargetFromProps(this.props,t))!=null?s:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(SS(a)||jS(a))?a=parseFloat(a):!sz(a)&&mr.test(i)&&(a=a_(t,i)),this.setBaseTarget(t,qt(a)?a.get():a)),qt(a)?a.get():a}setBaseTarget(t,i){this.baseTarget[t]=i}getBaseTarget(t){var o;const{initial:i}=this.props;let a;if(typeof i=="string"||typeof i=="object"){const u=Fp(this.props,i,(o=this.presenceContext)==null?void 0:o.custom);u&&(a=u[t])}if(i&&a!==void 0)return a;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!qt(s)?s:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,i){return this.events[t]||(this.events[t]=new vp),this.events[t].add(i)}notify(t,...i){this.events[t]&&this.events[t].notify(...i)}scheduleRenderMicrotask(){Op.render(this.render)}}class L_ extends Qz{constructor(){super(...arguments),this.KeyframeResolver=YD}sortInstanceNodePosition(t,i){return t.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(t,i){return t.style?t.style[i]:void 0}removeValueFromRenderState(t,{vars:i,style:a}){delete i[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qt(t)&&(this.childSubscription=t.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function R_(e,{style:t,vars:i},a,s){const o=e.style;let u;for(u in t)o[u]=t[u];s==null||s.applyProjectionStyles(o,a);for(u in i)o.setProperty(u,i[u])}function Zz(e){return window.getComputedStyle(e)}class Jz extends L_{constructor(){super(...arguments),this.type="html",this.renderInstance=R_}readValueFromInstance(t,i){var a;if(ps.has(i))return(a=this.projection)!=null&&a.isProjecting?xm(i):hD(t,i);{const s=Zz(t),o=(_p(i)?s.getPropertyValue(i):s[i])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:i}){return E_(t,i)}build(t,i,a){Up(t,i,a.transformTemplate)}scrapeMotionValuesFromProps(t,i,a){return qp(t,i,a)}}const D_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function e3(e,t,i,a){R_(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(D_.has(s)?s:Hp(s),t.attrs[s])}class t3 extends L_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(t,i){return t[i]}readValueFromInstance(t,i){if(ps.has(i)){const a=r_(i);return a&&a.default||0}return i=D_.has(i)?i:Hp(i),t.getAttribute(i)}scrapeMotionValuesFromProps(t,i,a){return S_(t,i,a)}build(t,i,a){x_(t,i,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(t,i,a,s){e3(t,i,a,s)}mount(t){this.isSVGTag=v_(t.tagName),super.mount(t)}}const n3=(e,t)=>Gp(e)?new t3(t):new Jz(t,{allowProjection:e!==_.Fragment});function ns(e,t,i){const a=e.getProps();return Fp(a,t,i!==void 0?i:a.custom,e)}const Am=e=>Array.isArray(e);function i3(e,t,i){e.hasValue(t)?e.getValue(t).set(i):e.addValue(t,us(i))}function r3(e){return Am(e)?e[e.length-1]||0:e}function a3(e,t){const i=ns(e,t);let{transitionEnd:a={},transition:s={},...o}=i||{};o={...o,...a};for(const u in o){const d=r3(o[u]);i3(e,u,d)}}function s3(e){return!!(qt(e)&&e.add)}function Em(e,t){const i=e.getValue("willChange");if(s3(i))return i.add(t);if(!i&&zi.WillChange){const a=new zi.WillChange("auto");e.addValue("willChange",a),a.add(t)}}function z_(e){return e.props[__]}const l3=e=>e!==null;function o3(e,{repeat:t,repeatType:i="loop"},a){const s=e.filter(l3),o=t&&i!=="loop"&&t%2===1?0:s.length-1;return s[o]}const u3={type:"spring",stiffness:500,damping:25,restSpeed:10},c3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),d3={type:"keyframes",duration:.8},f3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},h3=(e,{keyframes:t})=>t.length>2?d3:ps.has(e)?e.startsWith("scale")?c3(t[1]):u3:f3;function m3({when:e,delay:t,delayChildren:i,staggerChildren:a,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:d,from:h,elapsed:m,...g}){return!!Object.keys(g).length}const $p=(e,t,i,a={},s,o)=>u=>{const d=Dp(a,e)||{},h=d.delay||a.delay||0;let{elapsed:m=0}=a;m=m-si(h);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:x=>{t.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:o?void 0:s};m3(d)||Object.assign(g,h3(e,g)),g.duration&&(g.duration=si(g.duration)),g.repeatDelay&&(g.repeatDelay=si(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let p=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(_m(g),g.delay===0&&(p=!0)),(zi.instantAnimations||zi.skipAnimations)&&(p=!0,_m(g),g.delay=0),g.allowFlatten=!d.type&&!d.ease,p&&!o&&t.get()!==void 0){const x=o3(g.keyframes,d);if(x!==void 0){st.update(()=>{g.onUpdate(x),g.onComplete()});return}}return d.isSync?new Lp(g):new ND(g)};function p3({protectedKeys:e,needsAnimating:t},i){const a=e.hasOwnProperty(i)&&t[i]!==!0;return t[i]=!1,a}function O_(e,t,{delay:i=0,transitionOverride:a,type:s}={}){var g;let{transition:o=e.getDefaultTransition(),transitionEnd:u,...d}=t;a&&(o=a);const h=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const p in d){const x=e.getValue(p,(g=e.latestValues[p])!=null?g:null),v=d[p];if(v===void 0||m&&p3(m,p))continue;const w={delay:i,...Dp(o||{},p)},S=x.get();if(S!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===S&&!w.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=z_(e);if(M){const T=window.MotionHandoffAnimation(M,p,st);T!==null&&(w.startTime=T,C=!0)}}Em(e,p),x.start($p(p,x,v,e.shouldReduceMotion&&t_.has(p)?{type:!1}:w,e,C));const j=x.animation;j&&h.push(j)}return u&&Promise.all(h).then(()=>{st.update(()=>{u&&a3(e,u)})}),h}function N_(e,t,i,a=0,s=1){const o=Array.from(e).sort((m,g)=>m.sortNodePosition(g)).indexOf(t),u=e.size,d=(u-1)*a;return typeof i=="function"?i(o,u):s===1?o*a:d-o*a}function Mm(e,t,i={}){var h;const a=ns(e,t,i.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=a||{};i.transitionOverride&&(s=i.transitionOverride);const o=a?()=>Promise.all(O_(e,a,i)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:x}=s;return g3(e,t,m,g,p,x,i)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,g]=d==="beforeChildren"?[o,u]:[u,o];return m().then(()=>g())}else return Promise.all([o(),u(i.delay)])}function g3(e,t,i=0,a=0,s=0,o=1,u){const d=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),d.push(Mm(h,t,{...u,delay:i+(typeof a=="function"?0:a)+N_(e.variantChildren,h,a,s,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(d)}function y3(e,t,i={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(o=>Mm(e,o,i));a=Promise.all(s)}else if(typeof t=="string")a=Mm(e,t,i);else{const s=typeof t=="function"?ns(e,t,i.custom):t;a=Promise.all(O_(e,s,i))}return a.then(()=>{e.notify("AnimationComplete",t)})}function B_(e,t){if(!Array.isArray(t))return!1;const i=t.length;if(i!==e.length)return!1;for(let a=0;a<i;a++)if(t[a]!==e[a])return!1;return!0}const x3=Ip.length;function P_(e){if(!e)return;if(!e.isControllingVariants){const i=e.parent?P_(e.parent)||{}:{};return e.props.initial!==void 0&&(i.initial=e.props.initial),i}const t={};for(let i=0;i<x3;i++){const a=Ip[i],s=e.props[a];(Wl(s)||s===!1)&&(t[a]=s)}return t}const b3=[...Pp].reverse(),v3=Pp.length;function w3(e){return t=>Promise.all(t.map(({animation:i,options:a})=>y3(e,i,a)))}function S3(e){let t=w3(e),i=a0(),a=!0;const s=h=>(m,g)=>{var x;const p=ns(e,g,h==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(p){const{transition:v,transitionEnd:w,...S}=p;m={...m,...S,...w}}return m};function o(h){t=h(e)}function u(h){const{props:m}=e,g=P_(e.parent)||{},p=[],x=new Set;let v={},w=1/0;for(let C=0;C<v3;C++){const j=b3[C],M=i[j],T=m[j]!==void 0?m[j]:g[j],D=Wl(T),A=j===h?M.isActive:null;A===!1&&(w=C);let E=T===g[j]&&T!==m[j]&&D;if(E&&a&&e.manuallyAnimateOnMount&&(E=!1),M.protectedKeys={...v},!M.isActive&&A===null||!T&&!M.prevProp||Mc(T)||typeof T=="boolean")continue;const z=_3(M.prevProp,T);let N=z||j===h&&M.isActive&&!E&&D||C>w&&D,P=!1;const L=Array.isArray(T)?T:[T];let B=L.reduce(s(j),{});A===!1&&(B={});const{prevResolvedValues:G={}}=M,Y={...G,...B},ee=X=>{N=!0,x.has(X)&&(P=!0,x.delete(X)),M.needsAnimating[X]=!0;const te=e.getValue(X);te&&(te.liveStyle=!1)};for(const X in Y){const te=B[X],ne=G[X];if(v.hasOwnProperty(X))continue;let O=!1;Am(te)&&Am(ne)?O=!B_(te,ne):O=te!==ne,O?te!=null?ee(X):x.add(X):te!==void 0&&x.has(X)?ee(X):M.protectedKeys[X]=!0}M.prevProp=T,M.prevResolvedValues=B,M.isActive&&(v={...v,...B}),a&&e.blockInitialAnimation&&(N=!1);const le=E&&z;N&&(!le||P)&&p.push(...L.map(X=>{const te={type:j};if(typeof X=="string"&&a&&!le&&e.manuallyAnimateOnMount&&e.parent){const{parent:ne}=e,O=ns(ne,X);if(ne.enteringChildren&&O){const{delayChildren:me}=O.transition||{};te.delay=N_(ne.enteringChildren,e,me)}}return{animation:X,options:te}}))}if(x.size){const C={};if(typeof m.initial!="boolean"){const j=ns(e,Array.isArray(m.initial)?m.initial[0]:m.initial);j&&j.transition&&(C.transition=j.transition)}x.forEach(j=>{const M=e.getBaseTarget(j),T=e.getValue(j);T&&(T.liveStyle=!0),C[j]=M!=null?M:null}),p.push({animation:C})}let S=!!p.length;return a&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(S=!1),a=!1,S?t(p):Promise.resolve()}function d(h,m){var p;if(i[h].isActive===m)return Promise.resolve();(p=e.variantChildren)==null||p.forEach(x=>{var v;return(v=x.animationState)==null?void 0:v.setActive(h,m)}),i[h].isActive=m;const g=u(h);for(const x in i)i[x].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>i,reset:()=>{i=a0(),a=!0}}}function _3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!B_(t,e):!1}function Or(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function a0(){return{animate:Or(!0),whileInView:Or(),whileHover:Or(),whileTap:Or(),whileDrag:Or(),whileFocus:Or(),exit:Or()}}class gr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class j3 extends gr{constructor(t){super(t),t.animationState||(t.animationState=S3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:i}=this.node.prevProps||{};t!==i&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let k3=0;class C3 extends gr{constructor(){super(...arguments),this.id=k3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);i&&!t&&s.then(()=>{i(this.id)})}mount(){const{register:t,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const T3={animation:{Feature:j3},exit:{Feature:C3}};function Zl(e,t,i,a={passive:!0}){return e.addEventListener(t,i,a),()=>e.removeEventListener(t,i)}function fo(e){return{point:{x:e.pageX,y:e.pageY}}}const A3=e=>t=>Np(t)&&e(t,fo(t));function Rl(e,t,i,a){return Zl(e,t,A3(i),a)}const I_=1e-4,E3=1-I_,M3=1+I_,U_=.01,L3=0-U_,R3=0+U_;function Jt(e){return e.max-e.min}function D3(e,t,i){return Math.abs(e-t)<=i}function s0(e,t,i,a=.5){e.origin=a,e.originPoint=ut(t.min,t.max,e.origin),e.scale=Jt(i)/Jt(t),e.translate=ut(i.min,i.max,e.origin)-e.originPoint,(e.scale>=E3&&e.scale<=M3||isNaN(e.scale))&&(e.scale=1),(e.translate>=L3&&e.translate<=R3||isNaN(e.translate))&&(e.translate=0)}function Dl(e,t,i,a){s0(e.x,t.x,i.x,a?a.originX:void 0),s0(e.y,t.y,i.y,a?a.originY:void 0)}function l0(e,t,i){e.min=i.min+t.min,e.max=e.min+Jt(t)}function z3(e,t,i){l0(e.x,t.x,i.x),l0(e.y,t.y,i.y)}function o0(e,t,i){e.min=t.min-i.min,e.max=e.min+Jt(t)}function zl(e,t,i){o0(e.x,t.x,i.x),o0(e.y,t.y,i.y)}function Vn(e){return[e("x"),e("y")]}const V_=({current:e})=>e?e.ownerDocument.defaultView:null,u0=(e,t)=>Math.abs(e-t);function O3(e,t){const i=u0(e.x,t.x),a=u0(e.y,t.y);return Math.sqrt(i**2+a**2)}class G_{constructor(t,i,{transformPagePoint:a,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=gh(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=O3(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:S}=x,{timestamp:C}=Bt;this.history.push({...S,timestamp:C});const{onStart:j,onMove:M}=this.handlers;v||(j&&j(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=ph(v,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:w,onSessionEnd:S,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=gh(x.type==="pointercancel"?this.lastMoveEventInfo:ph(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,j),S&&S(x,j)},!Np(t))return;this.dragSnapToOrigin=o,this.handlers=i,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=s||window;const d=fo(t),h=ph(d,this.transformPagePoint),{point:m}=h,{timestamp:g}=Bt;this.history=[{...m,timestamp:g}];const{onSessionStart:p}=i;p&&p(t,gh(h,this.history)),this.removeListeners=oo(Rl(this.contextWindow,"pointermove",this.handlePointerMove),Rl(this.contextWindow,"pointerup",this.handlePointerUp),Rl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function ph(e,t){return t?{point:t(e.point)}:e}function c0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gh({point:e},t){return{point:e,delta:c0(e,F_(t)),offset:c0(e,N3(t)),velocity:B3(t,.1)}}function N3(e){return e[0]}function F_(e){return e[e.length-1]}function B3(e,t){if(e.length<2)return{x:0,y:0};let i=e.length-1,a=null;const s=F_(e);for(;i>=0&&(a=e[i],!(s.timestamp-a.timestamp>si(t)));)i--;if(!a)return{x:0,y:0};const o=li(s.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-a.x)/o,y:(s.y-a.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function P3(e,{min:t,max:i},a){return t!==void 0&&e<t?e=a?ut(t,e,a.min):Math.max(e,t):i!==void 0&&e>i&&(e=a?ut(i,e,a.max):Math.min(e,i)),e}function d0(e,t,i){return{min:t!==void 0?e.min+t:void 0,max:i!==void 0?e.max+i-(e.max-e.min):void 0}}function I3(e,{top:t,left:i,bottom:a,right:s}){return{x:d0(e.x,i,s),y:d0(e.y,t,a)}}function f0(e,t){let i=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([i,a]=[a,i]),{min:i,max:a}}function U3(e,t){return{x:f0(e.x,t.x),y:f0(e.y,t.y)}}function V3(e,t){let i=.5;const a=Jt(e),s=Jt(t);return s>a?i=Kl(t.min,t.max-a,e.min):a>s&&(i=Kl(e.min,e.max-s,t.min)),Di(0,1,i)}function G3(e,t){const i={};return t.min!==void 0&&(i.min=t.min-e.min),t.max!==void 0&&(i.max=t.max-e.min),i}const Lm=.35;function F3(e=Lm){return e===!1?e=0:e===!0&&(e=Lm),{x:h0(e,"left","right"),y:h0(e,"top","bottom")}}function h0(e,t,i){return{min:m0(e,t),max:m0(e,i)}}function m0(e,t){return typeof e=="number"?e:e[t]||0}const q3=new WeakMap;class H3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:i=!1,distanceThreshold:a}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(fo(p).point)},u=(p,x)=>{const{drag:v,dragPropagation:w,onDragStart:S}=this.getProps();if(v&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZD(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(j=>{let M=this.getAxisMotionValue(j).get()||0;if(oi.test(M)){const{projection:T}=this.visualElement;if(T&&T.layout){const D=T.layout.layoutBox[j];D&&(M=Jt(D)*(parseFloat(M)/100))}}this.originPoint[j]=M}),S&&st.postRender(()=>S(p,x)),Em(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(p,x)=>{this.latestPointerEvent=p,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:w,onDirectionLock:S,onDrag:C}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:j}=x;if(w&&this.currentDirection===null){this.currentDirection=$3(j),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",x.point,j),this.updateAxis("y",x.point,j),this.visualElement.render(),C&&C(p,x)},h=(p,x)=>{this.latestPointerEvent=p,this.latestPanInfo=x,this.stop(p,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Vn(p=>{var x;return this.getAnimationState(p)==="paused"&&((x=this.getAxisMotionValue(p).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new G_(t,{onSessionStart:o,onStart:u,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:a,contextWindow:V_(this.visualElement)})}stop(t,i){const a=t||this.latestPointerEvent,s=i||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!a)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&st.postRender(()=>d(a,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:i}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(t,i,a){const{drag:s}=this.getProps();if(!a||!Lu(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let u=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(u=P3(u,this.constraints[t],this.elastic[t])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&Xa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&a?this.constraints=I3(a.layoutBox,t):this.constraints=!1,this.elastic=F3(i),s!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=G3(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:i}=this.getProps();if(!t||!Xa(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Kz(a,s.root,this.visualElement.getTransformPagePoint());let u=U3(s.layout.layoutBox,o);if(i){const d=i(qz(u));this.hasMutatedConstraints=!!d,d&&(u=C_(d))}return u}startAnimation(t){const{drag:i,dragMomentum:a,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=Vn(g=>{if(!Lu(g,i,this.currentDirection))return;let p=h&&h[g]||{};u&&(p={min:0,max:0});const x=s?200:1e6,v=s?40:1e7,w={type:"inertia",velocity:a?t[g]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(g,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,i){const a=this.getAxisMotionValue(t);return Em(this.visualElement,t),a.start($p(t,a,0,i,this.visualElement,!1))}stopAnimation(){Vn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vn(t=>{var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.pause()})}getAnimationState(t){var i;return(i=this.getAxisMotionValue(t).animation)==null?void 0:i.state}getAxisMotionValue(t){const i=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[i];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Vn(i=>{const{drag:a}=this.getProps();if(!Lu(i,a,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(i);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[i];o.set(t[i]-ut(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:i}=this.getProps(),{projection:a}=this.visualElement;if(!Xa(i)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const h=d.get();s[u]=V3({min:h,max:h},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!Lu(u,t,null))return;const d=this.getAxisMotionValue(u),{min:h,max:m}=this.constraints[u];d.set(ut(h,m,s[u]))})}addListeners(){if(!this.visualElement.current)return;q3.set(this.visualElement,this);const t=this.visualElement.current,i=Rl(t,"pointerdown",h=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();Xa(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),st.read(a);const u=Zl(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vn(g=>{const p=this.getAxisMotionValue(g);p&&(this.originPoint[g]+=h[g].translate,p.set(p.get()+h[g].translate))}),this.visualElement.render())});return()=>{u(),i(),o(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=Lm,dragMomentum:d=!0}=t;return{...t,drag:i,dragDirectionLock:a,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function Lu(e,t,i){return(t===!0||t===e)&&(i===null||i===e)}function $3(e,t=10){let i=null;return Math.abs(e.y)>t?i="y":Math.abs(e.x)>t&&(i="x"),i}class K3 extends gr{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new H3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const p0=e=>(t,i)=>{e&&st.postRender(()=>e(t,i))};class Y3 extends gr{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new G_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:V_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:i,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:p0(t),onStart:p0(i),onMove:a,onEnd:(o,u)=>{delete this.session,s&&st.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=Rl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ku={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const gl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ce.test(e))e=parseFloat(e);else return e;const i=g0(e,t.target.x),a=g0(e,t.target.y);return`${i}% ${a}%`}},X3={correct:(e,{treeScale:t,projectionDelta:i})=>{const a=e,s=mr.parse(e);if(s.length>5)return a;const o=mr.createTransformer(e),u=typeof s[0]!="number"?1:0,d=i.x.scale*t.x,h=i.y.scale*t.y;s[0+u]/=d,s[1+u]/=h;const m=ut(d,h,.5);return typeof s[2+u]=="number"&&(s[2+u]/=m),typeof s[3+u]=="number"&&(s[3+u]/=m),o(s)}};let yh=!1;class W3 extends _.Component{componentDidMount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a,layoutId:s}=this.props,{projection:o}=t;xz(Q3),o&&(i.group&&i.group.add(o),a&&a.register&&s&&a.register(o),yh&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ku.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:i,visualElement:a,drag:s,isPresent:o}=this.props,{projection:u}=a;return u&&(u.isPresent=o,yh=!0,s||t.layoutDependency!==i||i===void 0||t.isPresent!==o?u.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?u.promote():u.relegate()||st.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Op.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:i,switchLayoutGroup:a}=this.props,{projection:s}=t;yh=!0,s&&(s.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function q_(e){const[t,i]=f_(),a=_.useContext(hp);return c.jsx(W3,{...e,layoutGroup:a,switchLayoutGroup:_.useContext(j_),isPresent:t,safeToRemove:i})}const Q3={borderRadius:{...gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gl,borderTopRightRadius:gl,borderBottomLeftRadius:gl,borderBottomRightRadius:gl,boxShadow:X3};function Z3(e,t,i){const a=qt(e)?e:us(e);return a.start($p("",a,t,i)),a.animation}const J3=(e,t)=>e.depth-t.depth;class eO{constructor(){this.children=[],this.isDirty=!1}add(t){gp(this.children,t),this.isDirty=!0}remove(t){yp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(J3),this.isDirty=!1,this.children.forEach(t)}}function tO(e,t){const i=fn.now(),a=({timestamp:s})=>{const o=s-i;o>=t&&(hr(a),e(o-t))};return st.setup(a,!0),()=>hr(a)}const H_=["TopLeft","TopRight","BottomLeft","BottomRight"],nO=H_.length,y0=e=>typeof e=="string"?parseFloat(e):e,x0=e=>typeof e=="number"||Ce.test(e);function iO(e,t,i,a,s,o){var u,d,h,m;s?(e.opacity=ut(0,(u=i.opacity)!=null?u:1,rO(a)),e.opacityExit=ut((d=t.opacity)!=null?d:1,0,aO(a))):o&&(e.opacity=ut((h=t.opacity)!=null?h:1,(m=i.opacity)!=null?m:1,a));for(let g=0;g<nO;g++){const p=`border${H_[g]}Radius`;let x=b0(t,p),v=b0(i,p);if(x===void 0&&v===void 0)continue;x||(x=0),v||(v=0),x===0||v===0||x0(x)===x0(v)?(e[p]=Math.max(ut(y0(x),y0(v),a),0),(oi.test(v)||oi.test(x))&&(e[p]+="%")):e[p]=v}(t.rotate||i.rotate)&&(e.rotate=ut(t.rotate||0,i.rotate||0,a))}function b0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rO=$_(0,.5,RS),aO=$_(.5,.95,Fn);function $_(e,t,i){return a=>a<e?0:a>t?1:i(Kl(e,t,a))}function v0(e,t){e.min=t.min,e.max=t.max}function Un(e,t){v0(e.x,t.x),v0(e.y,t.y)}function w0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function S0(e,t,i,a,s){return e-=t,e=uc(e,1/i,a),s!==void 0&&(e=uc(e,1/s,a)),e}function sO(e,t=0,i=1,a=.5,s,o=e,u=e){if(oi.test(t)&&(t=parseFloat(t),t=ut(u.min,u.max,t/100)-u.min),typeof t!="number")return;let d=ut(o.min,o.max,a);e===o&&(d-=t),e.min=S0(e.min,t,i,d,s),e.max=S0(e.max,t,i,d,s)}function _0(e,t,[i,a,s],o,u){sO(e,t[i],t[a],t[s],t.scale,o,u)}const lO=["x","scaleX","originX"],oO=["y","scaleY","originY"];function j0(e,t,i,a){_0(e.x,t,lO,i?i.x:void 0,a?a.x:void 0),_0(e.y,t,oO,i?i.y:void 0,a?a.y:void 0)}function k0(e){return e.translate===0&&e.scale===1}function K_(e){return k0(e.x)&&k0(e.y)}function C0(e,t){return e.min===t.min&&e.max===t.max}function uO(e,t){return C0(e.x,t.x)&&C0(e.y,t.y)}function T0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Y_(e,t){return T0(e.x,t.x)&&T0(e.y,t.y)}function A0(e){return Jt(e.x)/Jt(e.y)}function E0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cO{constructor(){this.members=[]}add(t){gp(this.members,t),t.scheduleRender()}remove(t){if(yp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(t){const i=this.members.findIndex(s=>t===s);if(i===0)return!1;let a;for(let s=i;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(t,i){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,i&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:i,resumingFrom:a}=t;i.onExitComplete&&i.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dO(e,t,i){let a="";const s=e.x.translate/t.x,o=e.y.translate/t.y,u=(i==null?void 0:i.z)||0;if((s||o||u)&&(a=`translate3d(${s}px, ${o}px, ${u}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),i){const{transformPerspective:m,rotate:g,rotateX:p,rotateY:x,skewX:v,skewY:w}=i;m&&(a=`perspective(${m}px) ${a}`),g&&(a+=`rotate(${g}deg) `),p&&(a+=`rotateX(${p}deg) `),x&&(a+=`rotateY(${x}deg) `),v&&(a+=`skewX(${v}deg) `),w&&(a+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,h=e.y.scale*t.y;return(d!==1||h!==1)&&(a+=`scale(${d}, ${h})`),a||"none"}const xh=["","X","Y","Z"],fO=1e3;let hO=0;function bh(e,t,i,a){const{latestValues:s}=t;s[e]&&(i[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function X_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const i=z_(t);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(i,"transform",st,!(s||o))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&X_(a)}function W_({attachResizeListener:e,defaultParent:t,measureScroll:i,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(u={},d=t==null?void 0:t()){this.id=hO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gO),this.nodes.forEach(vO),this.nodes.forEach(wO),this.nodes.forEach(yO)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new eO)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vp),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const h=this.eventHandlers.get(u);h&&h.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=d_(u)&&!rz(u),this.instance=u;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),e){let g,p=0;const x=()=>this.root.updateBlockedByResize=!1;st.read(()=>{p=window.innerWidth}),e(u,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,g&&g(),g=tO(x,250),Ku.hasAnimatedSinceResize&&(Ku.hasAnimatedSinceResize=!1,this.nodes.forEach(R0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:p,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||CO,{onLayoutAnimationStart:S,onLayoutAnimationComplete:C}=m.getProps(),j=!this.targetLayout||!Y_(this.targetLayout,v),M=!p&&x;if(this.options.layoutRoot||this.resumeFrom||M||p&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const T={...Dp(w,"layout"),onPlay:S,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T),this.setAnimationOrigin(g,M)}else p||R0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SO),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const p=this.path[g];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bO),this.nodes.forEach(mO),this.nodes.forEach(pO)):this.nodes.forEach(L0),this.clearAllSnapshots();const d=fn.now();Bt.delta=Di(0,1e3/60,d-Bt.timestamp),Bt.timestamp=d,Bt.isProcessing=!0,lh.update.process(Bt),lh.preRender.process(Bt),lh.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Op.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xO),this.sharedNodes.forEach(_O)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:h,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!K_(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(d||Pr(this.latestValues)||g)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return u&&(h=this.removeTransform(h)),TO(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return gt();const d=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(AO))){const{scroll:g}=this.root;g&&(Wa(d.x,g.offset.x),Wa(d.y,g.offset.y))}return d}removeElementScroll(u){var h;const d=gt();if(Un(d,u),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:p,options:x}=g;g!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&Un(d,u),Wa(d.x,p.offset.x),Wa(d.y,p.offset.y))}return d}applyTransform(u,d=!1){const h=gt();Un(h,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qa(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Pr(g.latestValues)&&Qa(h,g.latestValues)}return Pr(this.latestValues)&&Qa(h,this.latestValues),h}removeTransform(u){const d=gt();Un(d,u);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Pr(m.latestValues))continue;km(m.latestValues)&&m.updateSnapshot();const g=gt(),p=m.measurePageBox();Un(g,p),j0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Pr(this.latestValues)&&j0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var x;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(u||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:p}=this.options;if(!(!this.layout||!(g||p))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),zl(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),z3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),A_(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),zl(this.relativeTargetOrigin,this.target,v.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||km(this.parent.latestValues)||T_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;Un(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;$z(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=gt());const{target:v}=u;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w0(this.prevProjectionDelta.x,this.projectionDelta.x),w0(this.prevProjectionDelta.y,this.projectionDelta.y)),Dl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==x||!E0(this.projectionDelta.x,this.prevProjectionDelta.x)||!E0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Za(),this.projectionDelta=Za(),this.projectionDeltaWithTransform=Za()}setAnimationOrigin(u,d=!1){const h=this.snapshot,m=h?h.latestValues:{},g={...this.latestValues},p=Za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=gt(),v=h?h.source:void 0,w=this.layout?this.layout.source:void 0,S=v!==w,C=this.getStack(),j=!C||C.members.length<=1,M=!!(S&&!j&&this.options.crossfade===!0&&!this.path.some(kO));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const A=D/1e3;D0(p.x,u.x,A),D0(p.y,u.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jO(this.relativeTarget,this.relativeTargetOrigin,x,A),T&&uO(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=gt()),Un(T,this.relativeTarget)),S&&(this.animationValues=g,iO(g,m,this.latestValues,A,M,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,h,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Ku.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=us(0)),this.currentAnimation=Z3(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:g}=u;if(!(!d||!h||!m)){if(this!==u&&this.layout&&m&&Q_(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||gt();const p=Jt(this.layout.layoutBox.x);h.x.min=u.target.x.min,h.x.max=h.x.min+p;const x=Jt(this.layout.layoutBox.y);h.y.min=u.target.y.min,h.y.max=h.y.min+x}Un(d,h),Qa(d,g),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new cO),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:h}=u;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&bh("z",u,m,this.animationValues);for(let g=0;g<xh.length;g++)bh(`rotate${xh[g]}`,u,m,this.animationValues),bh(`skew${xh[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,d){var w,S;if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=$u(d==null?void 0:d.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=$u(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Pr(this.latestValues)&&(u.transform=h?h({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let p=dO(this.projectionDeltaWithTransform,this.treeScale,g);h&&(p=h(g,p)),u.transform=p;const{x,y:v}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,m.animationValues?u.opacity=m===this?(S=(w=g.opacity)!=null?w:this.latestValues.opacity)!=null?S:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in Ql){if(g[C]===void 0)continue;const{correct:j,applyTo:M,isCSSVariable:T}=Ql[C],D=p==="none"?g[C]:j(g[C],m);if(M){const A=M.length;for(let E=0;E<A;E++)u[M[E]]=D}else T?this.options.visualElement.renderState.vars[C]=D:u[C]=D}this.options.layoutId&&(u.pointerEvents=m===this?$u(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(M0),this.root.sharedNodes.clear()}}}function mO(e){e.updateLayout()}function pO(e){var i;const t=((i=e.resumeFrom)==null?void 0:i.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Vn(p=>{const x=u?t.measuredBox[p]:t.layoutBox[p],v=Jt(x);x.min=a[p].min,x.max=x.min+v}):Q_(o,t.layoutBox,a)&&Vn(p=>{const x=u?t.measuredBox[p]:t.layoutBox[p],v=Jt(a[p]);x.max=x.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const d=Za();Dl(d,a,t.layoutBox);const h=Za();u?Dl(h,e.applyTransform(s,!0),t.measuredBox):Dl(h,a,t.layoutBox);const m=!K_(d);let g=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:v}=p;if(x&&v){const w=gt();zl(w,t.layoutBox,x.layoutBox);const S=gt();zl(S,a,v.layoutBox),Y_(w,S)||(g=!0),p.options.layoutRoot&&(e.relativeTarget=S,e.relativeTargetOrigin=w,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function gO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function yO(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function xO(e){e.clearSnapshot()}function M0(e){e.clearMeasurements()}function L0(e){e.isLayoutDirty=!1}function bO(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function R0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vO(e){e.resolveTargetDelta()}function wO(e){e.calcProjection()}function SO(e){e.resetSkewAndRotation()}function _O(e){e.removeLeadSnapshot()}function D0(e,t,i){e.translate=ut(t.translate,0,i),e.scale=ut(t.scale,1,i),e.origin=t.origin,e.originPoint=t.originPoint}function z0(e,t,i,a){e.min=ut(t.min,i.min,a),e.max=ut(t.max,i.max,a)}function jO(e,t,i,a){z0(e.x,t.x,i.x,a),z0(e.y,t.y,i.y,a)}function kO(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const CO={duration:.45,ease:[.4,0,.1,1]},O0=e=>typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),N0=O0("applewebkit/")&&!O0("chrome/")?Math.round:Fn;function B0(e){e.min=N0(e.min),e.max=N0(e.max)}function TO(e){B0(e.x),B0(e.y)}function Q_(e,t,i){return e==="position"||e==="preserve-aspect"&&!D3(A0(t),A0(i),.2)}function AO(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const EO=W_({attachResizeListener:(e,t)=>Zl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vh={current:void 0},Z_=W_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vh.current){const e=new EO({});e.mount(window),e.setOptions({layoutScroll:!0}),vh.current=e}return vh.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),MO={pan:{Feature:Y3},drag:{Feature:K3,ProjectionNode:Z_,MeasureLayout:q_}};function P0(e,t,i){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",i==="Start");const s="onHover"+i,o=a[s];o&&st.postRender(()=>o(t,fo(t)))}class LO extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=JD(t,(i,a)=>(P0(this.node,a,"Start"),s=>P0(this.node,s,"End"))))}unmount(){}}class RO extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(i){t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oo(Zl(this.node.current,"focus",()=>this.onFocus()),Zl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I0(e,t,i){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",i==="Start");const s="onTap"+(i==="End"?"":i),o=a[s];o&&st.postRender(()=>o(t,fo(t)))}class DO extends gr{mount(){const{current:t}=this.node;t&&(this.unmount=iz(t,(i,a)=>(I0(this.node,a,"Start"),(s,{success:o})=>I0(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Rm=new WeakMap,wh=new WeakMap,zO=e=>{const t=Rm.get(e.target);t&&t(e)},OO=e=>{e.forEach(zO)};function NO({root:e,...t}){const i=e||document;wh.has(i)||wh.set(i,{});const a=wh.get(i),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(OO,{root:e,...t})),a[s]}function BO(e,t,i){const a=NO(t);return Rm.set(e,i),a.observe(e),()=>{Rm.delete(e),a.unobserve(e)}}const PO={some:0,all:1};class IO extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:i,margin:a,amount:s="some",once:o}=t,u={root:i?i.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:PO[s]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:p}=this.node.getProps(),x=m?g:p;x&&x(h)};return BO(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver=="undefined")return;const{props:t,prevProps:i}=this.node;["amount","margin","root"].some(UO(t,i))&&this.startObserver()}unmount(){}}function UO({viewport:e={}},{viewport:t={}}={}){return i=>e[i]!==t[i]}const VO={inView:{Feature:IO},tap:{Feature:DO},focus:{Feature:RO},hover:{Feature:LO}},GO={layout:{ProjectionNode:Z_,MeasureLayout:q_}},FO={...T3,...VO,...MO,...GO},U0=Fz(FO,n3),qO=({children:e,className:t})=>{const i=fi(),a=Hm(i.breakpoints.up("md")),{settings:s,updateSettings:o}=mc(),[u,d]=_.useState(!1),[h,m]=_.useState(!1),g=_.useRef(null),[p,x]=_.useState({x:0,y:0,width:0,height:0}),v=a&&!s.hasSeenRollButton&&!h;_.useEffect(()=>{if(v&&g.current){const S=()=>{const C=g.current.getBoundingClientRect();x({x:C.left,y:C.top,width:C.width,height:C.height})};return S(),window.addEventListener("resize",S),window.addEventListener("scroll",S),()=>{window.removeEventListener("resize",S),window.removeEventListener("scroll",S)}}},[v]),_.useEffect(()=>{if(v){const S=setTimeout(()=>{d(!0)},1500);return()=>{clearTimeout(S)}}},[v]);const w=()=>{s.hasSeenRollButton||(m(!0),d(!1),o({hasSeenRollButton:!0}))};return v?c.jsxs(c.Fragment,{children:[c.jsx(dz,{children:v&&c.jsx($m,{children:c.jsx(U0.div,{initial:{opacity:1,background:`radial-gradient(
                  circle at ${p.x+p.width/2}px ${p.y+p.height/2}px,
                  transparent 0px,
                  transparent ${Math.max(p.width,p.height)*11.25}px,
                  rgba(0, 0, 0, 0.2) ${Math.max(p.width,p.height)*13.5}px,
                  rgba(0, 0, 0, 0.5) ${Math.max(p.width,p.height)*16.5}px,
                  rgba(0, 0, 0, 0.7) ${Math.max(p.width,p.height)*21}px,
                  rgba(0, 0, 0, 0.8) 100%
                )`},animate:u?{opacity:1,background:`radial-gradient(
                  circle at ${p.x+p.width/2}px ${p.y+p.height/2}px,
                  transparent 0px,
                  transparent ${Math.max(p.width,p.height)*1.125}px,
                  rgba(0, 0, 0, 0.2) ${Math.max(p.width,p.height)*1.35}px,
                  rgba(0, 0, 0, 0.5) ${Math.max(p.width,p.height)*1.65}px,
                  rgba(0, 0, 0, 0.7) ${Math.max(p.width,p.height)*2.1}px,
                  rgba(0, 0, 0, 0.8) 100%
                )`}:{},exit:{opacity:0},transition:{duration:1.8,ease:[.25,.46,.45,.94]},onClick:w,style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,cursor:"pointer",pointerEvents:u?"auto":"none"}})})}),c.jsx(U0.div,{ref:g,className:t,onClick:w,animate:{scale:[1,1.05,1],boxShadow:["0 0 0 0 rgba(25, 118, 210, 0.8), 0 0 40px rgba(25, 118, 210, 0.6), 0 0 80px rgba(25, 118, 210, 0.4), 0 0 120px rgba(25, 118, 210, 0.2)","0 0 0 12px rgba(25, 118, 210, 0), 0 0 60px rgba(25, 118, 210, 0.8), 0 0 120px rgba(25, 118, 210, 0.6), 0 0 180px rgba(25, 118, 210, 0.3)","0 0 0 0 rgba(25, 118, 210, 0), 0 0 40px rgba(25, 118, 210, 0.6), 0 0 80px rgba(25, 118, 210, 0.4), 0 0 120px rgba(25, 118, 210, 0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},whileHover:{scale:1.02,transition:{duration:.2}},style:{borderRadius:4,position:"relative",zIndex:9999},children:e})]}):c.jsx("div",{className:t,children:e})};function HO(e){return/^-?\d+$/.test(String(e))}function Sh(e,t,i){let a=0;for(let s=0;s<Number(e);s+=1)a+=Math.floor(Math.random()*Number(t))+1;i(a)}const $O=_.memo(function({setRollValue:t,dice:i,isEndOfBoard:a}){const{t:s}=ce(),[o,u]=_.useState(!1),[d,h]=_.useState("manual"),[m,g]=_.useState(0),[p,x]=_.useState(s("roll")),{timeLeft:v,setTimeLeft:w,togglePause:S,isPaused:C}=fp(m),[j,M]=_.useState(!1),[T,D]=_.useState({isRange:!1,min:30,max:120}),A=_.useCallback(G=>{t(G)},[t]),[E,z]=i.split("d"),N=()=>{if(d==="manual"){Sh(E,z,A),u(!0),setTimeout(()=>u(!1),4e3);return}C&&v===m&&Sh(E,z,A),S()},P=_.useCallback(G=>{if(G==="restart"){A(-1);return}if(h(String(G)),G==="custom"){M(!0);return}if(HO(G)){C||S();const Y=Number(G);g(Y),w(Y)}},[C,w,S,A]),L=()=>{M(!1)},B=(G,Y={isRange:!1})=>{C||S(),g(G),w(G),D({...T,...Y}),h("custom"),M(!1)};return _.useEffect(()=>{a&&S()},[a,S]),_.useEffect(()=>{if(o)x(s("wait"));else if(d==="manual")x(s("roll"));else if(C)x(`${s("play")} (${v})`);else if(v>0)x(`${s("pause")} (${v})`);else if(v===0&&!C&&d!=="manual"){Sh(E,z,A);let G;if(T.isRange){const{min:Y,max:ee}=T;G=Math.floor(Math.random()*(ee-Y+1))+Y}else G=m;g(G),w(G),x(`${s("pause")} (${G})`)}},[o,d,v,C,m,T,s,E,z,A,w]),c.jsxs(c.Fragment,{children:[c.jsx(qO,{className:"dice-roller",children:c.jsxs(fA,{variant:"contained",children:[c.jsxs(fe,{"aria-label":s("roll"),onClick:N,disabled:o,size:"large",children:[c.jsx(o2,{sx:{mr:1}}),p]}),c.jsx(uR,{selectedRoll:d,handleMenuItemClick:P})]})}),c.jsx(cR,{isOpen:j,onClose:L,onSubmit:B})]})});function KO({playerName:e,show:t,onComplete:i,duration:a=3e3}){const s=fi();return _.useEffect(()=>{if(t){const o=setTimeout(i,a);return()=>clearTimeout(o)}},[t,a,i]),c.jsx(Ym,{in:t,timeout:300,children:c.jsx(H,{sx:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:s.zIndex.modal-1,bgcolor:"rgba(0, 0, 0, 0.8)",borderRadius:2,p:3,textAlign:"center"},children:c.jsxs(q,{variant:"h5",sx:{color:"white",fontWeight:600},children:[e,"'s Turn"]})})})}const{t:Ja}=Hr;function V0(e){return e.replace(/(?:^|\.\s|!\s)(\w)/g,t=>t.toUpperCase())}function G0(e,t,i){if(!e||e.length===0)return Ja("anotherPlayer");const a=e.filter(o=>i&&o.name===i?!1:t==="sub"?o.role==="sub"||o.role==="vers":t==="dom"?o.role==="dom"||o.role==="vers":!1);if(a.length===0)return Ja("anotherPlayer");const s=Math.floor(Math.random()*a.length);return a[s].name}function YO(e,t,i){const a=Math.random(),s=e.includes("{dom}")&&e.includes("{sub}"),o=t==="vers";function u(d){if(d==="{player}")return!0;const h=d==="{dom}"||d==="{sub}";if(!o&&d===`{${t}}`||!s&&o&&h)return!0;if(s&&o){const m=d==="{dom}"&&a<.5,g=d==="{sub}"&&a>=.5;return m||g}return!1}return e.replace(/{(player|dom|sub)}/g,d=>u(d)?i:d)}function J_(e,t,i,a,s){let o=e;if(s)return o=o.replace(/{player}/g,Ja("theCurrentPlayer")),o=o.replace(/{dom}/g,Ja("aDominant")),o=o.replace(/{sub}/g,Ja("aSubmissive")),V0(o);if(a&&a.length>0)o=o.replace(/{player}/g,i),t==="dom"&&o.includes("{dom}")?o=o.replace(/{dom}/,i):t==="sub"&&o.includes("{sub}")?o=o.replace(/{sub}/,i):t==="vers"&&(o.includes("{dom}")&&o.includes("{sub}")?Math.random()<.5&&o.includes("{dom}")?o=o.replace(/{dom}/,i):o.includes("{sub}")&&(o=o.replace(/{sub}/,i)):o.includes("{dom}")?o=o.replace(/{dom}/,i):o.includes("{sub}")&&(o=o.replace(/{sub}/,i))),o=o.replace(/{dom}/g,()=>G0(a,"dom",i)),o=o.replace(/{sub}/g,()=>G0(a,"sub",i));else{if(o=YO(e,t,i),!o.includes(i)&&t!=="vers"&&(o.includes("{dom}")||o.includes("{sub}"))){const d=new RegExp(`\\{${t}\\}`);o.match(d)?o=o.replace(d,i):o=o.replace(/{(dom|sub)}/,i)}o=o.replace(/{(dom|sub)}/g,Ja("anotherPlayer"))}return V0(o)}function XO(e){var t;const i=e.filter(o=>o).map(o=>o.split(": ")),a=[];i.forEach((o,u)=>{if(Number(o[1])===0)return;const d=Array(Number(o[1])).fill(u);a.push(...d)});const s=a[Math.floor(Math.random()*a.length)];return((t=i.map(([o])=>o)[s])==null?void 0:t.replace(/(\r\n|\n|\r)/gm,""))||""}function WO(e,t,i,a){if(!e)return"";const s=e.split("%");return s.length<=1?J_(e,t||"",i||"",a,!1):XO(s)}function QO(e,t,i=[]){const{user:a}=En(),{t:s}=ce(),[o]=pn(),u=up(),{currentPlayer:d,hasLocalPlayers:h,isLocalPlayerRoom:m,advanceToNextPlayer:g,session:p}=fs(),x=i.length,v=(D,A=0)=>({id:A,title:D.title||"",description:D.description,index:A,players:[],current:null,isTransparent:!1,className:""}),[w,S]=_.useState(i[0]?v(i[0],0):v({title:"",description:""},0)),C=x-1,j=_.useRef(0),M=_.useCallback(async(D,A,E,z)=>{if(!D){console.error("Tile not found at location:",E);return}let N="";const P=h&&m,L=P&&d?d.name:(a==null?void 0:a.displayName)||"",B=P&&d?d.role:o.role||"sub",G=WO(D.description||"",B,L,P&&p?p.players:void 0);A!==-1&&(N+=`${s("roll")}: ${A}
`),N+=`#${E+1}: ${D.title||s("unknownTile")}
`,N+=`${s("action")}: ${G}`;const Y={room:e,user:P&&d?{...a,displayName:d.name}:a,text:z?z+N:N,type:"actions"};try{await qr(Y)||console.error("Failed to send message - no result returned")}catch(ee){console.error("Failed to send message:",ee)}P&&A!==-1&&setTimeout(()=>{g()},100)},[e,a,s,o.role,h,m,d,g,p]),T=_.useCallback(D=>{var A;if(typeof D!="number"||isNaN(D))return console.warn("Invalid rollNumber detected, ignoring move:",D),{newLocation:0};if(D===-1)return{preMessage:`${s("restartingGame")}
`,newLocation:0};const E=h&&m;let z=0;if(E&&d?z=typeof d.location=="number"?d.location:0:z=((A=u.find(P=>P.isSelf))==null?void 0:A.location)||0,(typeof z!="number"||isNaN(z))&&(console.warn("Invalid currentLocation detected, defaulting to 0:",z),z=0),z===C)return{preMessage:`${s("alreadyFinished")}
`,newLocation:D};const N=D+z;return N>=C?{newLocation:C}:{newLocation:N}},[s,u,C,h,m,d]);return _.useEffect(()=>{let D;Array.isArray(t.value)?D=t.value[0]:D=t.value;const A=t.time;if(typeof D!="number"||isNaN(D)||D===0||A<=j.current){(typeof D!="number"||isNaN(D))&&console.warn("Invalid rollNumber in useEffect:",D,"rollValue:",t);return}j.current=A;const{preMessage:E,newLocation:z}=T(D);if(typeof z!="number"||isNaN(z)){console.error("Invalid newLocation calculated:",z,"rollNumber:",D);return}if(z>=0&&z<i.length&&i[z]){if(S(v(i[z],z)),h&&m&&d&&p){const P=z===i.length-1;Br.updatePlayerPosition(p.id,d.id,z,P).catch(L=>{console.error("Failed to update local player position:",L)})}M(i[z],D,z,E).catch(P=>{console.error("Failed to send roll message:",P)})}else console.error(`Invalid location or missing tile: ${z}, gameBoard length: ${i.length}, tile exists:`,!!i[z])},[t,i,M,T,h,m,d,p]),{tile:w,playerList:u}}async function ZO({newRoom:e,oldRoom:t,newDisplayName:i,removeOnDisconnect:a=!0}){const o=Zn().currentUser;if(!o){dn.warn("Cannot set presence: user not authenticated");return}const u=vc();try{const d=(t||"").toUpperCase(),h=(e||"").toUpperCase();if(t&&d!==h){const p=rs(u,`users/${o.uid}`);await lw(p)}const m=rs(u,`users/${o.uid}`),g={displayName:i||"Unknown",isAnonymous:o.isAnonymous,room:h,joinedAt:Date.now(),lastSeen:Date.now()};await ow(m,g),a&&_A(m).remove()}catch(d){dn.error("Error setting user presence:",d)}}async function F0(){const t=Zn().currentUser;if(!t)return;const i=vc(),a=rs(i,`users/${t.uid}`);try{const s=rs(i,`users/${t.uid}`),o=await sw(s);if(o.exists()){const d={...o.val(),lastSeen:Date.now()};await ow(a,d)}else dn.warn("No existing user data found, skipping heartbeat update")}catch(s){dn.error("Error updating presence heartbeat:",s)}}async function q0(){const t=Zn().currentUser;if(!t)return;const i=vc(),a=rs(i,`users/${t.uid}`);try{await lw(a)}catch(s){dn.error("Error removing user presence:",s)}}function H0(){const e=setInterval(()=>{F0()},6e4);return F0(),()=>{clearInterval(e)}}function JO(e,t){const{user:{displayName:i}}=En(),[a,s]=_.useState(null),[o,u]=_.useState(i||"");_.useEffect(()=>{let d=null;return a!==e||i!==o?(ZO({newRoom:e,oldRoom:a,newDisplayName:i||"",removeOnDisconnect:(e==null?void 0:e.toUpperCase())==="PUBLIC"}).then(()=>{e&&(d=H0())}).catch(h=>{console.error("Failed to set presence:",h)}),s(e),u(i||"")):e&&!d&&(d=H0()),()=>{d&&d()}},[e,i,a,o,t]),_.useEffect(()=>{const d=()=>{q0()};return window.addEventListener("beforeunload",d),()=>{window.removeEventListener("beforeunload",d),q0()}},[])}function eN(e,t){const i=_.useRef(void 0);return _.useCallback((...a)=>{i.current&&clearTimeout(i.current),i.current=setTimeout(()=>e(...a),t)},[e,t])}function tN(e,t){const{i18n:a,t:s}=ce(),{user:o}=En(),[u,d]=pn(),h=Li(()=>jc(u==null?void 0:u.gameMode)),{messages:m,isLoading:g}=Zr(),[p,x]=_.useState("1d6"),[v,w]=_.useState(""),S=ip(),C=_.useRef(!1),j=_.useRef(!0),M=_.useCallback(async(A,E=null)=>{if(!C.current){C.current=!0;try{const{gameMode:z,newBoard:N}=await S(A),P={formData:{...u,...A},user:o,customTiles:h,actionsList:await kl(a.resolvedLanguage,z||"online"),tiles:N,title:s("settingsGenerated")};E&&(P.reason=s("rebuiltBoard",{messageUser:E})),await np(P)}finally{setTimeout(()=>{C.current=!1},500)}}},[u,o,h,a.resolvedLanguage,s,S]),T=_.useCallback(async()=>{(u==null?void 0:u.room)!==e&&(await d({...u,room:e}),await M({...u,roomUpdated:!0,room:e}))},[u,e,d,M]),D=eN(T,200);return _.useEffect(()=>{if(!(g||!m.length))try{const A=Kr(m,"room");if(A){const E=JSON.parse(A.settings),{roomDice:z,roomBackgroundURL:N,roomTileCount:P}=E;let L="1d6";!nt(e)&&z&&(L=z),x(L),w(N||"");const B=ss(A.timestamp),Y=(B?Date.now()-B.getTime():1/0)<300*1e3;A.uid!==(o==null?void 0:o.uid)&&P&&(t==null?void 0:t.length)&&P!==(t==null?void 0:t.length)&&Y&&!C.current&&M(E,A.displayName)}}catch(A){console.error("Error processing room message:",A)}},[m,g,e,o,t,M]),_.useEffect(()=>{var A,E;if(!g)try{const z=Kr(m,"room");if(z||!nt(e)&&!z||nt(e)&&!Qt((u==null?void 0:u.gameMode)||""))return;if(j.current){j.current=!1,(A=u==null?void 0:u.roomBackgroundURL)!=null&&A.length&&w(u.roomBackgroundURL);return}const N=e!==(u==null?void 0:u.room),P=u&&typeof u.room!="undefined",L=t==null?void 0:t.length,B=!C.current;if(P&&N&&L&&B){D();return}(E=u==null?void 0:u.roomBackgroundURL)!=null&&E.length&&w(u.roomBackgroundURL)}catch(z){console.error("Error in room change effect:",z)}},[e,u,t,m,g,D]),{roller:p,roomBgUrl:v}}function nN(e,t){const[i,a]=_.useState(null),[s,o]=_.useState(!1),[u,d]=xc(),h=u.get("importBoard"),{t:m}=ce(),g=_.useCallback(()=>{a(null)},[]),p=_.useCallback(w=>{try{const S=JSON.parse(w);return Array.isArray(S)?S:null}catch(S){return dn.warn("Failed to parse game board JSON:",!1,S),null}},[]),x=_.useCallback(w=>{try{return w?JSON.parse(w):{}}catch(S){return dn.warn("Failed to parse settings JSON:",!1,S),{}}},[]),v=_.useCallback(async()=>{if(d({}),!!h){o(!0);try{const w=await DT(h);if(!(w!=null&&w.gameBoard)){a(m("failedBoardImport"));return}const S=p(w.gameBoard);if(!S){a(m("failedBoardImport"));return}const C=(w==null?void 0:w.title)!==m("settingsGenerated")?w.title:m("importedBoard");ao({...w,title:C,tiles:S,isActive:1});const j=x(w==null?void 0:w.settings),T=new URL(window.location.href).pathname.split("/").pop()||"",D={...e,...j};T.toUpperCase()==="PUBLIC"&&j.gameMode==="local"&&(D.gameMode="online"),t(D),i!==m("updated")&&a(m("updated"))}finally{o(!1)}}},[h,p,x,e,t,m,i,d]);return _.useEffect(()=>{h&&v()},[h,v]),[i,g,s||!!h]}function iN({tab1:e,tab2:t}){const[i,a]=_.useState(0),{t:s}=ce(),o=(u,d)=>{a(d)};return c.jsxs(c.Fragment,{children:[c.jsx(aw,{position:"fixed",sx:{top:"auto",bottom:0},children:c.jsxs(Km,{value:i,onChange:o,indicatorColor:"secondary",variant:"fullWidth",children:[c.jsx(Vr,{label:s("game"),...Tl(0)}),c.jsx(Vr,{label:s("messages"),...Tl(1)})]})}),c.jsxs(H,{sx:{marginTop:"3rem",height:"calc(100vh - 3rem)"},children:[c.jsx(Al,{value:i,index:0,children:e}),c.jsx(Al,{value:i,index:1,style:{p:1},children:t})]})]})}function rN(e,t,i,a){if(!e&&t===40)return!0;if(!i)return!1;const{roomTileCount:s}=i;return t!==s?!1:t===a}function aN(e,t,i){const{id:a}=tn(),[s,o]=_.useState(!1),{i18n:u}=ce(),[d]=pn(),h=Li(()=>jc(d==null?void 0:d.gameMode)),m=Li(kc),g=_.useCallback(async()=>{var p;if(!d||i||s||!((p=m==null?void 0:m.tiles)!=null&&p.length)||a===void 0)return;const x=!nt(a||""),v={...d,room:a},w=Kr(t,"room");x&&!w&&await Pw(v,e),o(!0);const S=rN(x,m.tiles.length,w,d.roomTileCount);if(!T2(t,j=>j.type==="settings"&&j.uid===e.uid)&&S){const j=await kl(u.resolvedLanguage,d.gameMode);await np({formData:v,user:e,customTiles:h,actionsList:j,tiles:m.tiles,title:m.title})}},[m,h,u.resolvedLanguage,i,t,a,d,s,e]);_.useEffect(()=>{g()},[g])}const sN=45,lN=6;function oN(e,t,i){return e!=="settings"&&e!=="room"||typeof t!="string"?null:e==="settings"?i("updatedGameSettings"):e==="room"?i("updatedRoomSettings"):null}function uN(e,t){if(!(t!=null&&t.trim())||!(e!=null&&e.trim()))return!1;const i=`${e} ${t}`;return i.length>sN?!0:i.split(/\s+/).length>lN}var _h,$0;function cN(){if($0)return _h;$0=1;var e=function(o){return o instanceof RegExp},t=function(u){var d=/[\\^$.*+?()[\]{}|]/g,h=RegExp(d.source);return u&&h.test(u)?u.replace(d,"\\$&"):u},i=function(o){return typeof o=="string"},a=function(o){var u=[];return o.forEach(function(d){Array.isArray(d)?u=u.concat(d):u.push(d)}),u};function s(o,u,d){var h=0,m=0;if(o==="")return o;if(!o||!i(o))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var g=u;e(g)||(g=new RegExp("("+t(g)+")","gi"));for(var p=o.split(g),x=1,v=p.length;x<v;x+=2){if(p[x]===void 0||p[x-1]===void 0){console.warn("reactStringReplace: Encountered undefined value during string replacement. Your RegExp may not be working the way you expect.");continue}m=p[x].length,h+=p[x-1].length,p[x]=d(p[x],x,h),h+=m}return p}return _h=function(u,d,h){return Array.isArray(u)||(u=[u]),a(u.map(function(m){return i(m)?s(m,d,h):m}))},_h}var dN=cN();const K0=to(dN);function fN({text:e}){const{t}=ce();return _.useMemo(()=>{const a=Ow(e,t("seconds"));let s=e;return a==null||a.forEach(o=>{o&&(s=K0(s,o,(u,d)=>c.jsx(xS,{textString:o,preventParentClose:()=>null,noPadding:!0},u+d)))}),K0(s,`
`,(o,u)=>c.jsx("br",{},`br${u}`))},[e,t])}const hN=_.memo(fN);function mN({room:e,id:t}){return c.jsx(Vt,{title:c.jsx(K,{i18nKey:"delete"}),children:c.jsx(We,{onClick:()=>zT(e,t),"aria-label":"delete",size:"small",sx:{p:.5,ml:1,opacity:.6,transition:"all 0.2s ease","&:hover":{opacity:1,color:"error.main",backgroundColor:"rgba(255, 82, 82, 0.1)",transform:"scale(1.1)"}},children:c.jsx(as,{fontSize:"small"})})})}function pN(e,t){const i={};return(e[e.length-1]===""?[...e,""]:e).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}const gN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,xN={};function Y0(e,t){return(xN.jsx?yN:gN).test(e)}const bN=/[ \t\n\f\r]/g;function vN(e){return typeof e=="object"?e.type==="text"?X0(e.value):!1:X0(e)}function X0(e){return e.replace(bN,"")===""}class ho{constructor(t,i,a){this.normal=i,this.property=t,a&&(this.space=a)}}ho.prototype.normal={};ho.prototype.property={};ho.prototype.space=void 0;function ej(e,t){const i={},a={};for(const s of e)Object.assign(i,s.property),Object.assign(a,s.normal);return new ho(i,a,t)}function Dm(e){return e.toLowerCase()}class gn{constructor(t,i){this.attribute=i,this.property=t}}gn.prototype.attribute="";gn.prototype.booleanish=!1;gn.prototype.boolean=!1;gn.prototype.commaOrSpaceSeparated=!1;gn.prototype.commaSeparated=!1;gn.prototype.defined=!1;gn.prototype.mustUseProperty=!1;gn.prototype.number=!1;gn.prototype.overloadedBoolean=!1;gn.prototype.property="";gn.prototype.spaceSeparated=!1;gn.prototype.space=void 0;let wN=0;const Ae=Jr(),St=Jr(),zm=Jr(),ue=Jr(),Je=Jr(),is=Jr(),Tn=Jr();function Jr(){return 2**++wN}const Om=Object.freeze({__proto__:null,boolean:Ae,booleanish:St,commaOrSpaceSeparated:Tn,commaSeparated:is,number:ue,overloadedBoolean:zm,spaceSeparated:Je}),jh=Object.keys(Om);class Kp extends gn{constructor(t,i,a,s){let o=-1;if(super(t,i),W0(this,"space",s),typeof a=="number")for(;++o<jh.length;){const u=jh[o];W0(this,jh[o],(a&Om[u])===Om[u])}}}Kp.prototype.defined=!0;function W0(e,t,i){i&&(e[t]=i)}function gs(e){const t={},i={};for(const[a,s]of Object.entries(e.properties)){const o=new Kp(a,e.transform(e.attributes||{},a),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(o.mustUseProperty=!0),t[a]=o,i[Dm(a)]=a,i[Dm(o.attribute)]=a}return new ho(t,i,e.space)}const tj=gs({properties:{ariaActiveDescendant:null,ariaAtomic:St,ariaAutoComplete:null,ariaBusy:St,ariaChecked:St,ariaColCount:ue,ariaColIndex:ue,ariaColSpan:ue,ariaControls:Je,ariaCurrent:null,ariaDescribedBy:Je,ariaDetails:null,ariaDisabled:St,ariaDropEffect:Je,ariaErrorMessage:null,ariaExpanded:St,ariaFlowTo:Je,ariaGrabbed:St,ariaHasPopup:null,ariaHidden:St,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Je,ariaLevel:ue,ariaLive:null,ariaModal:St,ariaMultiLine:St,ariaMultiSelectable:St,ariaOrientation:null,ariaOwns:Je,ariaPlaceholder:null,ariaPosInSet:ue,ariaPressed:St,ariaReadOnly:St,ariaRelevant:null,ariaRequired:St,ariaRoleDescription:Je,ariaRowCount:ue,ariaRowIndex:ue,ariaRowSpan:ue,ariaSelected:St,ariaSetSize:ue,ariaSort:null,ariaValueMax:ue,ariaValueMin:ue,ariaValueNow:ue,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function nj(e,t){return t in e?e[t]:t}function ij(e,t){return nj(e,t.toLowerCase())}const SN=gs({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:is,acceptCharset:Je,accessKey:Je,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:Je,autoFocus:Ae,autoPlay:Ae,blocking:Je,capture:null,charSet:null,checked:Ae,cite:null,className:Je,cols:ue,colSpan:null,content:null,contentEditable:St,controls:Ae,controlsList:Je,coords:ue|is,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:zm,draggable:St,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:Je,height:ue,hidden:zm,high:ue,href:null,hrefLang:null,htmlFor:Je,httpEquiv:Je,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:Je,itemRef:Je,itemScope:Ae,itemType:Je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:ue,manifest:null,max:null,maxLength:ue,media:null,method:null,min:null,minLength:ue,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:ue,pattern:null,ping:Je,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:Je,required:Ae,reversed:Ae,rows:ue,rowSpan:ue,sandbox:Je,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:ue,sizes:null,slot:null,span:ue,spellCheck:St,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ue,step:null,style:null,tabIndex:ue,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:St,width:ue,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Je,axis:null,background:null,bgColor:null,border:ue,borderColor:null,bottomMargin:ue,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:ue,leftMargin:ue,link:null,longDesc:null,lowSrc:null,marginHeight:ue,marginWidth:ue,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:ue,rules:null,scheme:null,scrolling:St,standby:null,summary:null,text:null,topMargin:ue,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ue,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:ue,security:null,unselectable:null},space:"html",transform:ij}),_N=gs({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Tn,accentHeight:ue,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ue,amplitude:ue,arabicForm:null,ascent:ue,attributeName:null,attributeType:null,azimuth:ue,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ue,by:null,calcMode:null,capHeight:ue,className:Je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ue,diffuseConstant:ue,direction:null,display:null,dur:null,divisor:ue,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:ue,enableBackground:null,end:null,event:null,exponent:ue,externalResourcesRequired:null,fill:null,fillOpacity:ue,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:is,g2:is,glyphName:is,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ue,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ue,horizOriginX:ue,horizOriginY:ue,id:null,ideographic:ue,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ue,k:ue,k1:ue,k2:ue,k3:ue,k4:ue,kernelMatrix:Tn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ue,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ue,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ue,overlineThickness:ue,paintOrder:null,panose1:null,path:null,pathLength:ue,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ue,pointsAtY:ue,pointsAtZ:ue,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Tn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Tn,rev:Tn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Tn,requiredFeatures:Tn,requiredFonts:Tn,requiredFormats:Tn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ue,specularExponent:ue,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ue,strikethroughThickness:ue,string:null,stroke:null,strokeDashArray:Tn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ue,strokeOpacity:ue,strokeWidth:null,style:null,surfaceScale:ue,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Tn,tabIndex:ue,tableValues:null,target:null,targetX:ue,targetY:ue,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Tn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ue,underlineThickness:ue,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ue,values:null,vAlphabetic:ue,vMathematical:ue,vectorEffect:null,vHanging:ue,vIdeographic:ue,version:null,vertAdvY:ue,vertOriginX:ue,vertOriginY:ue,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ue,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:nj}),rj=gs({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),aj=gs({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:ij}),sj=gs({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),jN={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},kN=/[A-Z]/g,Q0=/-[a-z]/g,CN=/^data[-\w.:]+$/i;function TN(e,t){const i=Dm(t);let a=t,s=gn;if(i in e.normal)return e.property[e.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&CN.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Q0,EN);a="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Q0.test(o)){let u=o.replace(kN,AN);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}s=Kp}return new s(a,t)}function AN(e){return"-"+e.toLowerCase()}function EN(e){return e.charAt(1).toUpperCase()}const MN=ej([tj,SN,rj,aj,sj],"html"),Yp=ej([tj,_N,rj,aj,sj],"svg");function LN(e){return e.join(" ").trim()}var qa={},kh,Z0;function RN(){if(Z0)return kh;Z0=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,i=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,h=`
`,m="/",g="*",p="",x="comment",v="declaration";kh=function(S,C){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];C=C||{};var j=1,M=1;function T(Y){var ee=Y.match(t);ee&&(j+=ee.length);var le=Y.lastIndexOf(h);M=~le?Y.length-le:M+Y.length}function D(){var Y={line:j,column:M};return function(ee){return ee.position=new A(Y),N(),ee}}function A(Y){this.start=Y,this.end={line:j,column:M},this.source=C.source}A.prototype.content=S;function E(Y){var ee=new Error(C.source+":"+j+":"+M+": "+Y);if(ee.reason=Y,ee.filename=C.source,ee.line=j,ee.column=M,ee.source=S,!C.silent)throw ee}function z(Y){var ee=Y.exec(S);if(ee){var le=ee[0];return T(le),S=S.slice(le.length),ee}}function N(){z(i)}function P(Y){var ee;for(Y=Y||[];ee=L();)ee!==!1&&Y.push(ee);return Y}function L(){var Y=D();if(!(m!=S.charAt(0)||g!=S.charAt(1))){for(var ee=2;p!=S.charAt(ee)&&(g!=S.charAt(ee)||m!=S.charAt(ee+1));)++ee;if(ee+=2,p===S.charAt(ee-1))return E("End of comment missing");var le=S.slice(2,ee-2);return M+=2,T(le),S=S.slice(ee),M+=2,Y({type:x,comment:le})}}function B(){var Y=D(),ee=z(a);if(ee){if(L(),!z(s))return E("property missing ':'");var le=z(o),V=Y({type:v,property:w(ee[0].replace(e,p)),value:le?w(le[0].replace(e,p)):p});return z(u),V}}function G(){var Y=[];P(Y);for(var ee;ee=B();)ee!==!1&&(Y.push(ee),P(Y));return Y}return N(),G()};function w(S){return S?S.replace(d,p):p}return kh}var J0;function DN(){if(J0)return qa;J0=1;var e=qa&&qa.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(qa,"__esModule",{value:!0}),qa.default=i;var t=e(RN());function i(a,s){var o=null;if(!a||typeof a!="string")return o;var u=(0,t.default)(a),d=typeof s=="function";return u.forEach(function(h){if(h.type==="declaration"){var m=h.property,g=h.value;d?s(m,g,h):g&&(o=o||{},o[m]=g)}}),o}return qa}var yl={},e1;function zN(){if(e1)return yl;e1=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,i=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(m){return!m||i.test(m)||e.test(m)},u=function(m,g){return g.toUpperCase()},d=function(m,g){return"".concat(g,"-")},h=function(m,g){return g===void 0&&(g={}),o(m)?m:(m=m.toLowerCase(),g.reactCompat?m=m.replace(s,d):m=m.replace(a,d),m.replace(t,u))};return yl.camelCase=h,yl}var xl,t1;function ON(){if(t1)return xl;t1=1;var e=xl&&xl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},t=e(DN()),i=zN();function a(s,o){var u={};return!s||typeof s!="string"||(0,t.default)(s,function(d,h){d&&h&&(u[(0,i.camelCase)(d,o)]=h)}),u}return a.default=a,xl=a,xl}var NN=ON();const BN=to(NN),lj=oj("end"),Xp=oj("start");function oj(e){return t;function t(i){const a=i&&i.position&&i.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function PN(e){const t=Xp(e),i=lj(e);if(t&&i)return{start:t,end:i}}function Ol(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?n1(e.position):"start"in e||"end"in e?n1(e):"line"in e||"column"in e?Nm(e):""}function Nm(e){return i1(e&&e.line)+":"+i1(e&&e.column)}function n1(e){return Nm(e&&e.start)+"-"+Nm(e&&e.end)}function i1(e){return e&&typeof e=="number"?e:1}class Yt extends Error{constructor(t,i,a){super(),typeof i=="string"&&(a=i,i=void 0);let s="",o={},u=!1;if(i&&("line"in i&&"column"in i?o={place:i}:"start"in i&&"end"in i?o={place:i}:"type"in i?o={ancestors:[i],place:i.position}:o={...i}),typeof t=="string"?s=t:!o.cause&&t&&(u=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof a=="string"){const h=a.indexOf(":");h===-1?o.ruleId=a:(o.source=a.slice(0,h),o.ruleId=a.slice(h+1))}if(!o.place&&o.ancestors&&o.ancestors){const h=o.ancestors[o.ancestors.length-1];h&&(o.place=h.position)}const d=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=Ol(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const Wp={}.hasOwnProperty,IN=new Map,UN=/[A-Z]/g,VN=new Set(["table","tbody","thead","tfoot","tr"]),GN=new Set(["td","th"]),uj="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function FN(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const i=t.filePath||void 0;let a;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=QN(i,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=WN(i,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:a,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Yp:MN,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=cj(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function cj(e,t,i){if(t.type==="element")return qN(e,t,i);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return HN(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return KN(e,t,i);if(t.type==="mdxjsEsm")return $N(e,t);if(t.type==="root")return YN(e,t,i);if(t.type==="text")return XN(e,t)}function qN(e,t,i){const a=e.schema;let s=a;t.tagName.toLowerCase()==="svg"&&a.space==="html"&&(s=Yp,e.schema=s),e.ancestors.push(t);const o=fj(e,t.tagName,!1),u=ZN(e,t);let d=Zp(e,t);return VN.has(t.tagName)&&(d=d.filter(function(h){return typeof h=="string"?!vN(h):!0})),dj(e,u,o,t),Qp(u,d),e.ancestors.pop(),e.schema=a,e.create(t,o,u,i)}function HN(e,t){if(t.data&&t.data.estree&&e.evaluater){const a=t.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}Jl(e,t.position)}function $N(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Jl(e,t.position)}function KN(e,t,i){const a=e.schema;let s=a;t.name==="svg"&&a.space==="html"&&(s=Yp,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:fj(e,t.name,!0),u=JN(e,t),d=Zp(e,t);return dj(e,u,o,t),Qp(u,d),e.ancestors.pop(),e.schema=a,e.create(t,o,u,i)}function YN(e,t,i){const a={};return Qp(a,Zp(e,t)),e.create(t,e.Fragment,a,i)}function XN(e,t){return t.value}function dj(e,t,i,a){typeof i!="string"&&i!==e.Fragment&&e.passNode&&(t.node=a)}function Qp(e,t){if(t.length>0){const i=t.length>1?t:t[0];i&&(e.children=i)}}function WN(e,t,i){return a;function a(s,o,u,d){const m=Array.isArray(u.children)?i:t;return d?m(o,u,d):m(o,u)}}function QN(e,t){return i;function i(a,s,o,u){const d=Array.isArray(o.children),h=Xp(a);return t(s,o,u,d,{columnNumber:h?h.column-1:void 0,fileName:e,lineNumber:h?h.line:void 0},void 0)}}function ZN(e,t){const i={};let a,s;for(s in t.properties)if(s!=="children"&&Wp.call(t.properties,s)){const o=e4(e,s,t.properties[s]);if(o){const[u,d]=o;e.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&GN.has(t.tagName)?a=d:i[u]=d}}if(a){const o=i.style||(i.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return i}function JN(e,t){const i={};for(const a of t.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const o=a.data.estree.body[0];o.type;const u=o.expression;u.type;const d=u.properties[0];d.type,Object.assign(i,e.evaluater.evaluateExpression(d.argument))}else Jl(e,t.position);else{const s=a.name;let o;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const d=a.value.data.estree.body[0];d.type,o=e.evaluater.evaluateExpression(d.expression)}else Jl(e,t.position);else o=a.value===null?!0:a.value;i[s]=o}return i}function Zp(e,t){const i=[];let a=-1;const s=e.passKeys?new Map:IN;for(;++a<t.children.length;){const o=t.children[a];let u;if(e.passKeys){const h=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(h){const m=s.get(h)||0;u=h+"-"+m,s.set(h,m+1)}}const d=cj(e,o,u);d!==void 0&&i.push(d)}return i}function e4(e,t,i){const a=TN(e.schema,t);if(!(i==null||typeof i=="number"&&Number.isNaN(i))){if(Array.isArray(i)&&(i=a.commaSeparated?pN(i):LN(i)),a.property==="style"){let s=typeof i=="object"?i:t4(e,String(i));return e.stylePropertyNameCase==="css"&&(s=n4(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&a.space?jN[a.property]||a.property:a.attribute,i]}}function t4(e,t){try{return BN(t,{reactCompat:!0})}catch(i){if(e.ignoreInvalidStyle)return{};const a=i,s=new Yt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=uj+"#cannot-parse-style-attribute",s}}function fj(e,t,i){let a;if(!i)a={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,u;for(;++o<s.length;){const d=Y0(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(o&&d.type==="Literal"),optional:!1}:d}a=u}else a=Y0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(a.type==="Literal"){const s=a.value;return Wp.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(a);Jl(e)}function Jl(e,t){const i=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=uj+"#cannot-handle-mdx-estrees-without-createevaluater",i}function n4(e){const t={};let i;for(i in e)Wp.call(e,i)&&(t[i4(i)]=e[i]);return t}function i4(e){let t=e.replace(UN,r4);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function r4(e){return"-"+e.toLowerCase()}const Ch={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},a4={};function Jp(e,t){const i=a4,a=typeof i.includeImageAlt=="boolean"?i.includeImageAlt:!0,s=typeof i.includeHtml=="boolean"?i.includeHtml:!0;return hj(e,a,s)}function hj(e,t,i){if(s4(e)){if("value"in e)return e.type==="html"&&!i?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return r1(e.children,t,i)}return Array.isArray(e)?r1(e,t,i):""}function r1(e,t,i){const a=[];let s=-1;for(;++s<e.length;)a[s]=hj(e[s],t,i);return a.join("")}function s4(e){return!!(e&&typeof e=="object")}const a1=document.createElement("i");function eg(e){const t="&"+e+";";a1.innerHTML=t;const i=a1.textContent;return i.charCodeAt(i.length-1)===59&&e!=="semi"||i===t?!1:i}function An(e,t,i,a){const s=e.length;let o=0,u;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,i=i>0?i:0,a.length<1e4)u=Array.from(a),u.unshift(t,i),e.splice(...u);else for(i&&e.splice(t,i);o<a.length;)u=a.slice(o,o+1e4),u.unshift(t,0),e.splice(...u),o+=1e4,t+=1e4}function Gn(e,t){return e.length>0?(An(e,e.length,0,t),e):t}const s1={}.hasOwnProperty;function mj(e){const t={};let i=-1;for(;++i<e.length;)l4(t,e[i]);return t}function l4(e,t){let i;for(i in t){const s=(s1.call(e,i)?e[i]:void 0)||(e[i]={}),o=t[i];let u;if(o)for(u in o){s1.call(s,u)||(s[u]=[]);const d=o[u];o4(s[u],Array.isArray(d)?d:d?[d]:[])}}}function o4(e,t){let i=-1;const a=[];for(;++i<t.length;)(t[i].add==="after"?e:a).push(t[i]);An(e,0,0,a)}function pj(e,t){const i=Number.parseInt(e,t);return i<9||i===11||i>13&&i<32||i>126&&i<160||i>55295&&i<57344||i>64975&&i<65008||(i&65535)===65535||(i&65535)===65534||i>1114111?"�":String.fromCodePoint(i)}function Qn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Zt=yr(/[A-Za-z]/),Ht=yr(/[\dA-Za-z]/),u4=yr(/[#-'*+\--9=?A-Z^-~]/);function cc(e){return e!==null&&(e<32||e===127)}const Bm=yr(/\d/),c4=yr(/[\dA-Fa-f]/),d4=yr(/[!-/:-@[-`{-~]/);function xe(e){return e!==null&&e<-2}function Qe(e){return e!==null&&(e<0||e===32)}function ze(e){return e===-2||e===-1||e===32}const Rc=yr(new RegExp("\\p{P}|\\p{S}","u")),Qr=yr(/\s/);function yr(e){return t;function t(i){return i!==null&&i>-1&&e.test(String.fromCharCode(i))}}function ys(e){const t=[];let i=-1,a=0,s=0;for(;++i<e.length;){const o=e.charCodeAt(i);let u="";if(o===37&&Ht(e.charCodeAt(i+1))&&Ht(e.charCodeAt(i+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const d=e.charCodeAt(i+1);o<56320&&d>56319&&d<57344?(u=String.fromCharCode(o,d),s=1):u="�"}else u=String.fromCharCode(o);u&&(t.push(e.slice(a,i),encodeURIComponent(u)),a=i+s+1,u=""),s&&(i+=s,s=0)}return t.join("")+e.slice(a)}function Ne(e,t,i,a){const s=a?a-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(h){return ze(h)?(e.enter(i),d(h)):t(h)}function d(h){return ze(h)&&o++<s?(e.consume(h),d):(e.exit(i),t(h))}}const f4={tokenize:h4};function h4(e){const t=e.attempt(this.parser.constructs.contentInitial,a,s);let i;return t;function a(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),Ne(e,t,"linePrefix")}function s(d){return e.enter("paragraph"),o(d)}function o(d){const h=e.enter("chunkText",{contentType:"text",previous:i});return i&&(i.next=h),i=h,u(d)}function u(d){if(d===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(d);return}return xe(d)?(e.consume(d),e.exit("chunkText"),o):(e.consume(d),u)}}const m4={tokenize:p4},l1={tokenize:g4};function p4(e){const t=this,i=[];let a=0,s,o,u;return d;function d(T){if(a<i.length){const D=i[a];return t.containerState=D[1],e.attempt(D[0].continuation,h,m)(T)}return m(T)}function h(T){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&M();const D=t.events.length;let A=D,E;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){E=t.events[A][1].end;break}j(a);let z=D;for(;z<t.events.length;)t.events[z][1].end={...E},z++;return An(t.events,A+1,0,t.events.slice(D)),t.events.length=z,m(T)}return d(T)}function m(T){if(a===i.length){if(!s)return x(T);if(s.currentConstruct&&s.currentConstruct.concrete)return w(T);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(l1,g,p)(T)}function g(T){return s&&M(),j(a),x(T)}function p(T){return t.parser.lazy[t.now().line]=a!==i.length,u=t.now().offset,w(T)}function x(T){return t.containerState={},e.attempt(l1,v,w)(T)}function v(T){return a++,i.push([t.currentConstruct,t.containerState]),x(T)}function w(T){if(T===null){s&&M(),j(0),e.consume(T);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),S(T)}function S(T){if(T===null){C(e.exit("chunkFlow"),!0),j(0),e.consume(T);return}return xe(T)?(e.consume(T),C(e.exit("chunkFlow")),a=0,t.interrupt=void 0,d):(e.consume(T),S)}function C(T,D){const A=t.sliceStream(T);if(D&&A.push(null),T.previous=o,o&&(o.next=T),o=T,s.defineSkip(T.start),s.write(A),t.parser.lazy[T.start.line]){let E=s.events.length;for(;E--;)if(s.events[E][1].start.offset<u&&(!s.events[E][1].end||s.events[E][1].end.offset>u))return;const z=t.events.length;let N=z,P,L;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(P){L=t.events[N][1].end;break}P=!0}for(j(a),E=z;E<t.events.length;)t.events[E][1].end={...L},E++;An(t.events,N+1,0,t.events.slice(z)),t.events.length=E}}function j(T){let D=i.length;for(;D-- >T;){const A=i[D];t.containerState=A[1],A[0].exit.call(t,e)}i.length=T}function M(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function g4(e,t,i){return Ne(e,e.attempt(this.parser.constructs.document,t,i),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ds(e){if(e===null||Qe(e)||Qr(e))return 1;if(Rc(e))return 2}function Dc(e,t,i){const a=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!a.includes(o)&&(t=o(t,i),a.push(o))}return t}const Pm={name:"attention",resolveAll:y4,tokenize:x4};function y4(e,t){let i=-1,a,s,o,u,d,h,m,g;for(;++i<e.length;)if(e[i][0]==="enter"&&e[i][1].type==="attentionSequence"&&e[i][1]._close){for(a=i;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&t.sliceSerialize(e[a][1]).charCodeAt(0)===t.sliceSerialize(e[i][1]).charCodeAt(0)){if((e[a][1]._close||e[i][1]._open)&&(e[i][1].end.offset-e[i][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[i][1].end.offset-e[i][1].start.offset)%3))continue;h=e[a][1].end.offset-e[a][1].start.offset>1&&e[i][1].end.offset-e[i][1].start.offset>1?2:1;const p={...e[a][1].end},x={...e[i][1].start};o1(p,-h),o1(x,h),u={type:h>1?"strongSequence":"emphasisSequence",start:p,end:{...e[a][1].end}},d={type:h>1?"strongSequence":"emphasisSequence",start:{...e[i][1].start},end:x},o={type:h>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[i][1].start}},s={type:h>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},e[a][1].end={...u.start},e[i][1].start={...d.end},m=[],e[a][1].end.offset-e[a][1].start.offset&&(m=Gn(m,[["enter",e[a][1],t],["exit",e[a][1],t]])),m=Gn(m,[["enter",s,t],["enter",u,t],["exit",u,t],["enter",o,t]]),m=Gn(m,Dc(t.parser.constructs.insideSpan.null,e.slice(a+1,i),t)),m=Gn(m,[["exit",o,t],["enter",d,t],["exit",d,t],["exit",s,t]]),e[i][1].end.offset-e[i][1].start.offset?(g=2,m=Gn(m,[["enter",e[i][1],t],["exit",e[i][1],t]])):g=0,An(e,a-1,i-a+3,m),i=a+m.length-g-2;break}}for(i=-1;++i<e.length;)e[i][1].type==="attentionSequence"&&(e[i][1].type="data");return e}function x4(e,t){const i=this.parser.constructs.attentionMarkers.null,a=this.previous,s=ds(a);let o;return u;function u(h){return o=h,e.enter("attentionSequence"),d(h)}function d(h){if(h===o)return e.consume(h),d;const m=e.exit("attentionSequence"),g=ds(h),p=!g||g===2&&s||i.includes(h),x=!s||s===2&&g||i.includes(a);return m._open=!!(o===42?p:p&&(s||!x)),m._close=!!(o===42?x:x&&(g||!p)),t(h)}}function o1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const b4={name:"autolink",tokenize:v4};function v4(e,t,i){let a=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(v){return Zt(v)?(e.consume(v),u):v===64?i(v):m(v)}function u(v){return v===43||v===45||v===46||Ht(v)?(a=1,d(v)):m(v)}function d(v){return v===58?(e.consume(v),a=0,h):(v===43||v===45||v===46||Ht(v))&&a++<32?(e.consume(v),d):(a=0,m(v))}function h(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||cc(v)?i(v):(e.consume(v),h)}function m(v){return v===64?(e.consume(v),g):u4(v)?(e.consume(v),m):i(v)}function g(v){return Ht(v)?p(v):i(v)}function p(v){return v===46?(e.consume(v),a=0,g):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):x(v)}function x(v){if((v===45||Ht(v))&&a++<63){const w=v===45?x:p;return e.consume(v),w}return i(v)}}const mo={partial:!0,tokenize:w4};function w4(e,t,i){return a;function a(o){return ze(o)?Ne(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||xe(o)?t(o):i(o)}}const gj={continuation:{tokenize:_4},exit:j4,name:"blockQuote",tokenize:S4};function S4(e,t,i){const a=this;return s;function s(u){if(u===62){const d=a.containerState;return d.open||(e.enter("blockQuote",{_container:!0}),d.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return i(u)}function o(u){return ze(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function _4(e,t,i){const a=this;return s;function s(u){return ze(u)?Ne(e,o,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return e.attempt(gj,t,i)(u)}}function j4(e){e.exit("blockQuote")}const yj={name:"characterEscape",tokenize:k4};function k4(e,t,i){return a;function a(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return d4(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):i(o)}}const xj={name:"characterReference",tokenize:C4};function C4(e,t,i){const a=this;let s=0,o,u;return d;function d(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),h}function h(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),m):(e.enter("characterReferenceValue"),o=31,u=Ht,g(p))}function m(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=c4,g):(e.enter("characterReferenceValue"),o=7,u=Bm,g(p))}function g(p){if(p===59&&s){const x=e.exit("characterReferenceValue");return u===Ht&&!eg(a.sliceSerialize(x))?i(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return u(p)&&s++<o?(e.consume(p),g):i(p)}}const u1={partial:!0,tokenize:A4},c1={concrete:!0,name:"codeFenced",tokenize:T4};function T4(e,t,i){const a=this,s={partial:!0,tokenize:A};let o=0,u=0,d;return h;function h(E){return m(E)}function m(E){const z=a.events[a.events.length-1];return o=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,d=E,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),g(E)}function g(E){return E===d?(u++,e.consume(E),g):u<3?i(E):(e.exit("codeFencedFenceSequence"),ze(E)?Ne(e,p,"whitespace")(E):p(E))}function p(E){return E===null||xe(E)?(e.exit("codeFencedFence"),a.interrupt?t(E):e.check(u1,S,D)(E)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),x(E))}function x(E){return E===null||xe(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(E)):ze(E)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ne(e,v,"whitespace")(E)):E===96&&E===d?i(E):(e.consume(E),x)}function v(E){return E===null||xe(E)?p(E):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(E))}function w(E){return E===null||xe(E)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(E)):E===96&&E===d?i(E):(e.consume(E),w)}function S(E){return e.attempt(s,D,C)(E)}function C(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),j}function j(E){return o>0&&ze(E)?Ne(e,M,"linePrefix",o+1)(E):M(E)}function M(E){return E===null||xe(E)?e.check(u1,S,D)(E):(e.enter("codeFlowValue"),T(E))}function T(E){return E===null||xe(E)?(e.exit("codeFlowValue"),M(E)):(e.consume(E),T)}function D(E){return e.exit("codeFenced"),t(E)}function A(E,z,N){let P=0;return L;function L(le){return E.enter("lineEnding"),E.consume(le),E.exit("lineEnding"),B}function B(le){return E.enter("codeFencedFence"),ze(le)?Ne(E,G,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):G(le)}function G(le){return le===d?(E.enter("codeFencedFenceSequence"),Y(le)):N(le)}function Y(le){return le===d?(P++,E.consume(le),Y):P>=u?(E.exit("codeFencedFenceSequence"),ze(le)?Ne(E,ee,"whitespace")(le):ee(le)):N(le)}function ee(le){return le===null||xe(le)?(E.exit("codeFencedFence"),z(le)):N(le)}}}function A4(e,t,i){const a=this;return s;function s(u){return u===null?i(u):(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o)}function o(u){return a.parser.lazy[a.now().line]?i(u):t(u)}}const Th={name:"codeIndented",tokenize:M4},E4={partial:!0,tokenize:L4};function M4(e,t,i){const a=this;return s;function s(m){return e.enter("codeIndented"),Ne(e,o,"linePrefix",5)(m)}function o(m){const g=a.events[a.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(m):i(m)}function u(m){return m===null?h(m):xe(m)?e.attempt(E4,u,h)(m):(e.enter("codeFlowValue"),d(m))}function d(m){return m===null||xe(m)?(e.exit("codeFlowValue"),u(m)):(e.consume(m),d)}function h(m){return e.exit("codeIndented"),t(m)}}function L4(e,t,i){const a=this;return s;function s(u){return a.parser.lazy[a.now().line]?i(u):xe(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),s):Ne(e,o,"linePrefix",5)(u)}function o(u){const d=a.events[a.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(u):xe(u)?s(u):i(u)}}const R4={name:"codeText",previous:z4,resolve:D4,tokenize:O4};function D4(e){let t=e.length-4,i=3,a,s;if((e[i][1].type==="lineEnding"||e[i][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(a=i;++a<t;)if(e[a][1].type==="codeTextData"){e[i][1].type="codeTextPadding",e[t][1].type="codeTextPadding",i+=2,t-=2;break}}for(a=i-1,t++;++a<=t;)s===void 0?a!==t&&e[a][1].type!=="lineEnding"&&(s=a):(a===t||e[a][1].type==="lineEnding")&&(e[s][1].type="codeTextData",a!==s+2&&(e[s][1].end=e[a-1][1].end,e.splice(s+2,a-s-2),t-=a-s-2,a=s+2),s=void 0);return e}function z4(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function O4(e,t,i){let a=0,s,o;return u;function u(p){return e.enter("codeText"),e.enter("codeTextSequence"),d(p)}function d(p){return p===96?(e.consume(p),a++,d):(e.exit("codeTextSequence"),h(p))}function h(p){return p===null?i(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),h):p===96?(o=e.enter("codeTextSequence"),s=0,g(p)):xe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),h):(e.enter("codeTextData"),m(p))}function m(p){return p===null||p===32||p===96||xe(p)?(e.exit("codeTextData"),h(p)):(e.consume(p),m)}function g(p){return p===96?(e.consume(p),s++,g):s===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",m(p))}}class N4{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,i){const a=i==null?Number.POSITIVE_INFINITY:i;return a<this.left.length?this.left.slice(t,a):t>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(t,i,a){const s=i||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return a&&bl(this.left,a),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),bl(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),bl(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const i=this.left.splice(t,Number.POSITIVE_INFINITY);bl(this.right,i.reverse())}else{const i=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);bl(this.left,i.reverse())}}}function bl(e,t){let i=0;if(t.length<1e4)e.push(...t);else for(;i<t.length;)e.push(...t.slice(i,i+1e4)),i+=1e4}function bj(e){const t={};let i=-1,a,s,o,u,d,h,m;const g=new N4(e);for(;++i<g.length;){for(;i in t;)i=t[i];if(a=g.get(i),i&&a[1].type==="chunkFlow"&&g.get(i-1)[1].type==="listItemPrefix"&&(h=a[1]._tokenizer.events,o=0,o<h.length&&h[o][1].type==="lineEndingBlank"&&(o+=2),o<h.length&&h[o][1].type==="content"))for(;++o<h.length&&h[o][1].type!=="content";)h[o][1].type==="chunkText"&&(h[o][1]._isInFirstContentOfListItem=!0,o++);if(a[0]==="enter")a[1].contentType&&(Object.assign(t,B4(g,i)),i=t[i],m=!0);else if(a[1]._container){for(o=i,s=void 0;o--;)if(u=g.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(a[1].end={...g.get(s)[1].start},d=g.slice(s,i),d.unshift(a),g.splice(s,i-s+1,d))}}return An(e,0,Number.POSITIVE_INFINITY,g.slice(0)),!m}function B4(e,t){const i=e.get(t)[1],a=e.get(t)[2];let s=t-1;const o=[];let u=i._tokenizer;u||(u=a.parser[i.contentType](i.start),i._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,h=[],m={};let g,p,x=-1,v=i,w=0,S=0;const C=[S];for(;v;){for(;e.get(++s)[1]!==v;);o.push(s),v._tokenizer||(g=a.sliceStream(v),v.next||g.push(null),p&&u.defineSkip(v.start),v._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),v._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),p=v,v=v.next}for(v=i;++x<d.length;)d[x][0]==="exit"&&d[x-1][0]==="enter"&&d[x][1].type===d[x-1][1].type&&d[x][1].start.line!==d[x][1].end.line&&(S=x+1,C.push(S),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(u.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),x=C.length;x--;){const j=d.slice(C[x],C[x+1]),M=o.pop();h.push([M,M+j.length-1]),e.splice(M,2,j)}for(h.reverse(),x=-1;++x<h.length;)m[w+h[x][0]]=w+h[x][1],w+=h[x][1]-h[x][0]-1;return m}const P4={resolve:U4,tokenize:V4},I4={partial:!0,tokenize:G4};function U4(e){return bj(e),e}function V4(e,t){let i;return a;function a(d){return e.enter("content"),i=e.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?o(d):xe(d)?e.check(I4,u,o)(d):(e.consume(d),s)}function o(d){return e.exit("chunkContent"),e.exit("content"),t(d)}function u(d){return e.consume(d),e.exit("chunkContent"),i.next=e.enter("chunkContent",{contentType:"content",previous:i}),i=i.next,s}}function G4(e,t,i){const a=this;return s;function s(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),Ne(e,o,"linePrefix")}function o(u){if(u===null||xe(u))return i(u);const d=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?t(u):e.interrupt(a.parser.constructs.flow,i,t)(u)}}function vj(e,t,i,a,s,o,u,d,h){const m=h||Number.POSITIVE_INFINITY;let g=0;return p;function p(j){return j===60?(e.enter(a),e.enter(s),e.enter(o),e.consume(j),e.exit(o),x):j===null||j===32||j===41||cc(j)?i(j):(e.enter(a),e.enter(u),e.enter(d),e.enter("chunkString",{contentType:"string"}),S(j))}function x(j){return j===62?(e.enter(o),e.consume(j),e.exit(o),e.exit(s),e.exit(a),t):(e.enter(d),e.enter("chunkString",{contentType:"string"}),v(j))}function v(j){return j===62?(e.exit("chunkString"),e.exit(d),x(j)):j===null||j===60||xe(j)?i(j):(e.consume(j),j===92?w:v)}function w(j){return j===60||j===62||j===92?(e.consume(j),v):v(j)}function S(j){return!g&&(j===null||j===41||Qe(j))?(e.exit("chunkString"),e.exit(d),e.exit(u),e.exit(a),t(j)):g<m&&j===40?(e.consume(j),g++,S):j===41?(e.consume(j),g--,S):j===null||j===32||j===40||cc(j)?i(j):(e.consume(j),j===92?C:S)}function C(j){return j===40||j===41||j===92?(e.consume(j),S):S(j)}}function wj(e,t,i,a,s,o){const u=this;let d=0,h;return m;function m(v){return e.enter(a),e.enter(s),e.consume(v),e.exit(s),e.enter(o),g}function g(v){return d>999||v===null||v===91||v===93&&!h||v===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?i(v):v===93?(e.exit(o),e.enter(s),e.consume(v),e.exit(s),e.exit(a),t):xe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),g):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===null||v===91||v===93||xe(v)||d++>999?(e.exit("chunkString"),g(v)):(e.consume(v),h||(h=!ze(v)),v===92?x:p)}function x(v){return v===91||v===92||v===93?(e.consume(v),d++,p):p(v)}}function Sj(e,t,i,a,s,o){let u;return d;function d(x){return x===34||x===39||x===40?(e.enter(a),e.enter(s),e.consume(x),e.exit(s),u=x===40?41:x,h):i(x)}function h(x){return x===u?(e.enter(s),e.consume(x),e.exit(s),e.exit(a),t):(e.enter(o),m(x))}function m(x){return x===u?(e.exit(o),h(u)):x===null?i(x):xe(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),Ne(e,m,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===u||x===null||xe(x)?(e.exit("chunkString"),m(x)):(e.consume(x),x===92?p:g)}function p(x){return x===u||x===92?(e.consume(x),g):g(x)}}function Nl(e,t){let i;return a;function a(s){return xe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i=!0,a):ze(s)?Ne(e,a,i?"linePrefix":"lineSuffix")(s):t(s)}}const F4={name:"definition",tokenize:H4},q4={partial:!0,tokenize:$4};function H4(e,t,i){const a=this;let s;return o;function o(v){return e.enter("definition"),u(v)}function u(v){return wj.call(a,e,d,i,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function d(v){return s=Qn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),h):i(v)}function h(v){return Qe(v)?Nl(e,m)(v):m(v)}function m(v){return vj(e,g,i,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function g(v){return e.attempt(q4,p,p)(v)}function p(v){return ze(v)?Ne(e,x,"whitespace")(v):x(v)}function x(v){return v===null||xe(v)?(e.exit("definition"),a.parser.defined.push(s),t(v)):i(v)}}function $4(e,t,i){return a;function a(d){return Qe(d)?Nl(e,s)(d):i(d)}function s(d){return Sj(e,o,i,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function o(d){return ze(d)?Ne(e,u,"whitespace")(d):u(d)}function u(d){return d===null||xe(d)?t(d):i(d)}}const K4={name:"hardBreakEscape",tokenize:Y4};function Y4(e,t,i){return a;function a(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return xe(o)?(e.exit("hardBreakEscape"),t(o)):i(o)}}const X4={name:"headingAtx",resolve:W4,tokenize:Q4};function W4(e,t){let i=e.length-2,a=3,s,o;return e[a][1].type==="whitespace"&&(a+=2),i-2>a&&e[i][1].type==="whitespace"&&(i-=2),e[i][1].type==="atxHeadingSequence"&&(a===i-1||i-4>a&&e[i-2][1].type==="whitespace")&&(i-=a+1===i?2:4),i>a&&(s={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},o={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},An(e,a,i-a+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function Q4(e,t,i){let a=0;return s;function s(g){return e.enter("atxHeading"),o(g)}function o(g){return e.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&a++<6?(e.consume(g),u):g===null||Qe(g)?(e.exit("atxHeadingSequence"),d(g)):i(g)}function d(g){return g===35?(e.enter("atxHeadingSequence"),h(g)):g===null||xe(g)?(e.exit("atxHeading"),t(g)):ze(g)?Ne(e,d,"whitespace")(g):(e.enter("atxHeadingText"),m(g))}function h(g){return g===35?(e.consume(g),h):(e.exit("atxHeadingSequence"),d(g))}function m(g){return g===null||g===35||Qe(g)?(e.exit("atxHeadingText"),d(g)):(e.consume(g),m)}}const Z4=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],d1=["pre","script","style","textarea"],J4={concrete:!0,name:"htmlFlow",resolveTo:nB,tokenize:iB},eB={partial:!0,tokenize:aB},tB={partial:!0,tokenize:rB};function nB(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function iB(e,t,i){const a=this;let s,o,u,d,h;return m;function m(I){return g(I)}function g(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),p}function p(I){return I===33?(e.consume(I),x):I===47?(e.consume(I),o=!0,S):I===63?(e.consume(I),s=3,a.interrupt?t:O):Zt(I)?(e.consume(I),u=String.fromCharCode(I),C):i(I)}function x(I){return I===45?(e.consume(I),s=2,v):I===91?(e.consume(I),s=5,d=0,w):Zt(I)?(e.consume(I),s=4,a.interrupt?t:O):i(I)}function v(I){return I===45?(e.consume(I),a.interrupt?t:O):i(I)}function w(I){const Te="CDATA[";return I===Te.charCodeAt(d++)?(e.consume(I),d===Te.length?a.interrupt?t:G:w):i(I)}function S(I){return Zt(I)?(e.consume(I),u=String.fromCharCode(I),C):i(I)}function C(I){if(I===null||I===47||I===62||Qe(I)){const Te=I===47,Be=u.toLowerCase();return!Te&&!o&&d1.includes(Be)?(s=1,a.interrupt?t(I):G(I)):Z4.includes(u.toLowerCase())?(s=6,Te?(e.consume(I),j):a.interrupt?t(I):G(I)):(s=7,a.interrupt&&!a.parser.lazy[a.now().line]?i(I):o?M(I):T(I))}return I===45||Ht(I)?(e.consume(I),u+=String.fromCharCode(I),C):i(I)}function j(I){return I===62?(e.consume(I),a.interrupt?t:G):i(I)}function M(I){return ze(I)?(e.consume(I),M):L(I)}function T(I){return I===47?(e.consume(I),L):I===58||I===95||Zt(I)?(e.consume(I),D):ze(I)?(e.consume(I),T):L(I)}function D(I){return I===45||I===46||I===58||I===95||Ht(I)?(e.consume(I),D):A(I)}function A(I){return I===61?(e.consume(I),E):ze(I)?(e.consume(I),A):T(I)}function E(I){return I===null||I===60||I===61||I===62||I===96?i(I):I===34||I===39?(e.consume(I),h=I,z):ze(I)?(e.consume(I),E):N(I)}function z(I){return I===h?(e.consume(I),h=null,P):I===null||xe(I)?i(I):(e.consume(I),z)}function N(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||Qe(I)?A(I):(e.consume(I),N)}function P(I){return I===47||I===62||ze(I)?T(I):i(I)}function L(I){return I===62?(e.consume(I),B):i(I)}function B(I){return I===null||xe(I)?G(I):ze(I)?(e.consume(I),B):i(I)}function G(I){return I===45&&s===2?(e.consume(I),V):I===60&&s===1?(e.consume(I),X):I===62&&s===4?(e.consume(I),me):I===63&&s===3?(e.consume(I),O):I===93&&s===5?(e.consume(I),ne):xe(I)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(eB,be,Y)(I)):I===null||xe(I)?(e.exit("htmlFlowData"),Y(I)):(e.consume(I),G)}function Y(I){return e.check(tB,ee,be)(I)}function ee(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),le}function le(I){return I===null||xe(I)?Y(I):(e.enter("htmlFlowData"),G(I))}function V(I){return I===45?(e.consume(I),O):G(I)}function X(I){return I===47?(e.consume(I),u="",te):G(I)}function te(I){if(I===62){const Te=u.toLowerCase();return d1.includes(Te)?(e.consume(I),me):G(I)}return Zt(I)&&u.length<8?(e.consume(I),u+=String.fromCharCode(I),te):G(I)}function ne(I){return I===93?(e.consume(I),O):G(I)}function O(I){return I===62?(e.consume(I),me):I===45&&s===2?(e.consume(I),O):G(I)}function me(I){return I===null||xe(I)?(e.exit("htmlFlowData"),be(I)):(e.consume(I),me)}function be(I){return e.exit("htmlFlow"),t(I)}}function rB(e,t,i){const a=this;return s;function s(u){return xe(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),o):i(u)}function o(u){return a.parser.lazy[a.now().line]?i(u):t(u)}}function aB(e,t,i){return a;function a(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(mo,t,i)}}const sB={name:"htmlText",tokenize:lB};function lB(e,t,i){const a=this;let s,o,u;return d;function d(O){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(O),h}function h(O){return O===33?(e.consume(O),m):O===47?(e.consume(O),A):O===63?(e.consume(O),T):Zt(O)?(e.consume(O),N):i(O)}function m(O){return O===45?(e.consume(O),g):O===91?(e.consume(O),o=0,w):Zt(O)?(e.consume(O),M):i(O)}function g(O){return O===45?(e.consume(O),v):i(O)}function p(O){return O===null?i(O):O===45?(e.consume(O),x):xe(O)?(u=p,X(O)):(e.consume(O),p)}function x(O){return O===45?(e.consume(O),v):p(O)}function v(O){return O===62?V(O):O===45?x(O):p(O)}function w(O){const me="CDATA[";return O===me.charCodeAt(o++)?(e.consume(O),o===me.length?S:w):i(O)}function S(O){return O===null?i(O):O===93?(e.consume(O),C):xe(O)?(u=S,X(O)):(e.consume(O),S)}function C(O){return O===93?(e.consume(O),j):S(O)}function j(O){return O===62?V(O):O===93?(e.consume(O),j):S(O)}function M(O){return O===null||O===62?V(O):xe(O)?(u=M,X(O)):(e.consume(O),M)}function T(O){return O===null?i(O):O===63?(e.consume(O),D):xe(O)?(u=T,X(O)):(e.consume(O),T)}function D(O){return O===62?V(O):T(O)}function A(O){return Zt(O)?(e.consume(O),E):i(O)}function E(O){return O===45||Ht(O)?(e.consume(O),E):z(O)}function z(O){return xe(O)?(u=z,X(O)):ze(O)?(e.consume(O),z):V(O)}function N(O){return O===45||Ht(O)?(e.consume(O),N):O===47||O===62||Qe(O)?P(O):i(O)}function P(O){return O===47?(e.consume(O),V):O===58||O===95||Zt(O)?(e.consume(O),L):xe(O)?(u=P,X(O)):ze(O)?(e.consume(O),P):V(O)}function L(O){return O===45||O===46||O===58||O===95||Ht(O)?(e.consume(O),L):B(O)}function B(O){return O===61?(e.consume(O),G):xe(O)?(u=B,X(O)):ze(O)?(e.consume(O),B):P(O)}function G(O){return O===null||O===60||O===61||O===62||O===96?i(O):O===34||O===39?(e.consume(O),s=O,Y):xe(O)?(u=G,X(O)):ze(O)?(e.consume(O),G):(e.consume(O),ee)}function Y(O){return O===s?(e.consume(O),s=void 0,le):O===null?i(O):xe(O)?(u=Y,X(O)):(e.consume(O),Y)}function ee(O){return O===null||O===34||O===39||O===60||O===61||O===96?i(O):O===47||O===62||Qe(O)?P(O):(e.consume(O),ee)}function le(O){return O===47||O===62||Qe(O)?P(O):i(O)}function V(O){return O===62?(e.consume(O),e.exit("htmlTextData"),e.exit("htmlText"),t):i(O)}function X(O){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),te}function te(O){return ze(O)?Ne(e,ne,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):ne(O)}function ne(O){return e.enter("htmlTextData"),u(O)}}const tg={name:"labelEnd",resolveAll:dB,resolveTo:fB,tokenize:hB},oB={tokenize:mB},uB={tokenize:pB},cB={tokenize:gB};function dB(e){let t=-1;const i=[];for(;++t<e.length;){const a=e[t][1];if(i.push(e[t]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const s=a.type==="labelImage"?4:2;a.type="data",t+=s}}return e.length!==i.length&&An(e,0,e.length,i),e}function fB(e,t){let i=e.length,a=0,s,o,u,d;for(;i--;)if(s=e[i][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[i][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(e[i][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=i,s.type!=="labelLink")){a=2;break}}else s.type==="labelEnd"&&(u=i);const h={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},m={type:"label",start:{...e[o][1].start},end:{...e[u][1].end}},g={type:"labelText",start:{...e[o+a+2][1].end},end:{...e[u-2][1].start}};return d=[["enter",h,t],["enter",m,t]],d=Gn(d,e.slice(o+1,o+a+3)),d=Gn(d,[["enter",g,t]]),d=Gn(d,Dc(t.parser.constructs.insideSpan.null,e.slice(o+a+4,u-3),t)),d=Gn(d,[["exit",g,t],e[u-2],e[u-1],["exit",m,t]]),d=Gn(d,e.slice(u+1)),d=Gn(d,[["exit",h,t]]),An(e,o,e.length,d),e}function hB(e,t,i){const a=this;let s=a.events.length,o,u;for(;s--;)if((a.events[s][1].type==="labelImage"||a.events[s][1].type==="labelLink")&&!a.events[s][1]._balanced){o=a.events[s][1];break}return d;function d(x){return o?o._inactive?p(x):(u=a.parser.defined.includes(Qn(a.sliceSerialize({start:o.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(x),e.exit("labelMarker"),e.exit("labelEnd"),h):i(x)}function h(x){return x===40?e.attempt(oB,g,u?g:p)(x):x===91?e.attempt(uB,g,u?m:p)(x):u?g(x):p(x)}function m(x){return e.attempt(cB,g,p)(x)}function g(x){return t(x)}function p(x){return o._balanced=!0,i(x)}}function mB(e,t,i){return a;function a(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),s}function s(p){return Qe(p)?Nl(e,o)(p):o(p)}function o(p){return p===41?g(p):vj(e,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function u(p){return Qe(p)?Nl(e,h)(p):g(p)}function d(p){return i(p)}function h(p){return p===34||p===39||p===40?Sj(e,m,i,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):g(p)}function m(p){return Qe(p)?Nl(e,g)(p):g(p)}function g(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):i(p)}}function pB(e,t,i){const a=this;return s;function s(d){return wj.call(a,e,o,u,"reference","referenceMarker","referenceString")(d)}function o(d){return a.parser.defined.includes(Qn(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?t(d):i(d)}function u(d){return i(d)}}function gB(e,t,i){return a;function a(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):i(o)}}const yB={name:"labelStartImage",resolveAll:tg.resolveAll,tokenize:xB};function xB(e,t,i){const a=this;return s;function s(d){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(d),e.exit("labelImageMarker"),o}function o(d){return d===91?(e.enter("labelMarker"),e.consume(d),e.exit("labelMarker"),e.exit("labelImage"),u):i(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(d):t(d)}}const bB={name:"labelStartLink",resolveAll:tg.resolveAll,tokenize:vB};function vB(e,t,i){const a=this;return s;function s(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in a.parser.constructs?i(u):t(u)}}const Ah={name:"lineEnding",tokenize:wB};function wB(e,t){return i;function i(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ne(e,t,"linePrefix")}}const Yu={name:"thematicBreak",tokenize:SB};function SB(e,t,i){let a=0,s;return o;function o(m){return e.enter("thematicBreak"),u(m)}function u(m){return s=m,d(m)}function d(m){return m===s?(e.enter("thematicBreakSequence"),h(m)):a>=3&&(m===null||xe(m))?(e.exit("thematicBreak"),t(m)):i(m)}function h(m){return m===s?(e.consume(m),a++,h):(e.exit("thematicBreakSequence"),ze(m)?Ne(e,d,"whitespace")(m):d(m))}}const un={continuation:{tokenize:CB},exit:AB,name:"list",tokenize:kB},_B={partial:!0,tokenize:EB},jB={partial:!0,tokenize:TB};function kB(e,t,i){const a=this,s=a.events[a.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return d;function d(v){const w=a.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||v===a.containerState.marker:Bm(v)){if(a.containerState.type||(a.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Yu,i,m)(v):m(v);if(!a.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),h(v)}return i(v)}function h(v){return Bm(v)&&++u<10?(e.consume(v),h):(!a.interrupt||u<2)&&(a.containerState.marker?v===a.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),m(v)):i(v)}function m(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||v,e.check(mo,a.interrupt?i:g,e.attempt(_B,x,p))}function g(v){return a.containerState.initialBlankLine=!0,o++,x(v)}function p(v){return ze(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),x):i(v)}function x(v){return a.containerState.size=o+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function CB(e,t,i){const a=this;return a.containerState._closeFlow=void 0,e.check(mo,s,o);function s(d){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,Ne(e,t,"listItemIndent",a.containerState.size+1)(d)}function o(d){return a.containerState.furtherBlankLines||!ze(d)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,u(d)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(jB,t,u)(d))}function u(d){return a.containerState._closeFlow=!0,a.interrupt=void 0,Ne(e,e.attempt(un,t,i),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function TB(e,t,i){const a=this;return Ne(e,s,"listItemIndent",a.containerState.size+1);function s(o){const u=a.events[a.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===a.containerState.size?t(o):i(o)}}function AB(e){e.exit(this.containerState.type)}function EB(e,t,i){const a=this;return Ne(e,s,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const u=a.events[a.events.length-1];return!ze(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):i(o)}}const f1={name:"setextUnderline",resolveTo:MB,tokenize:LB};function MB(e,t){let i=e.length,a,s,o;for(;i--;)if(e[i][0]==="enter"){if(e[i][1].type==="content"){a=i;break}e[i][1].type==="paragraph"&&(s=i)}else e[i][1].type==="content"&&e.splice(i,1),!o&&e[i][1].type==="definition"&&(o=i);const u={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",u,t]),e.splice(o+1,0,["exit",e[a][1],t]),e[a][1].end={...e[o][1].end}):e[a][1]=u,e.push(["exit",u,t]),e}function LB(e,t,i){const a=this;let s;return o;function o(m){let g=a.events.length,p;for(;g--;)if(a.events[g][1].type!=="lineEnding"&&a.events[g][1].type!=="linePrefix"&&a.events[g][1].type!=="content"){p=a.events[g][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||p)?(e.enter("setextHeadingLine"),s=m,u(m)):i(m)}function u(m){return e.enter("setextHeadingLineSequence"),d(m)}function d(m){return m===s?(e.consume(m),d):(e.exit("setextHeadingLineSequence"),ze(m)?Ne(e,h,"lineSuffix")(m):h(m))}function h(m){return m===null||xe(m)?(e.exit("setextHeadingLine"),t(m)):i(m)}}const RB={tokenize:DB};function DB(e){const t=this,i=e.attempt(mo,a,e.attempt(this.parser.constructs.flowInitial,s,Ne(e,e.attempt(this.parser.constructs.flow,s,e.attempt(P4,s)),"linePrefix")));return i;function a(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,i}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,i}}const zB={resolveAll:jj()},OB=_j("string"),NB=_j("text");function _j(e){return{resolveAll:jj(e==="text"?BB:void 0),tokenize:t};function t(i){const a=this,s=this.parser.constructs[e],o=i.attempt(s,u,d);return u;function u(g){return m(g)?o(g):d(g)}function d(g){if(g===null){i.consume(g);return}return i.enter("data"),i.consume(g),h}function h(g){return m(g)?(i.exit("data"),o(g)):(i.consume(g),h)}function m(g){if(g===null)return!0;const p=s[g];let x=-1;if(p)for(;++x<p.length;){const v=p[x];if(!v.previous||v.previous.call(a,a.previous))return!0}return!1}}}function jj(e){return t;function t(i,a){let s=-1,o;for(;++s<=i.length;)o===void 0?i[s]&&i[s][1].type==="data"&&(o=s,s++):(!i[s]||i[s][1].type!=="data")&&(s!==o+2&&(i[o][1].end=i[s-1][1].end,i.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(i,a):i}}function BB(e,t){let i=0;for(;++i<=e.length;)if((i===e.length||e[i][1].type==="lineEnding")&&e[i-1][1].type==="data"){const a=e[i-1][1],s=t.sliceStream(a);let o=s.length,u=-1,d=0,h;for(;o--;){const m=s[o];if(typeof m=="string"){for(u=m.length;m.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(m===-2)h=!0,d++;else if(m!==-1){o++;break}}if(t._contentTypeTextTrailing&&i===e.length&&(d=0),d){const m={type:i===e.length||h||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:a.start._bufferIndex+u,_index:a.start._index+o,line:a.end.line,column:a.end.column-d,offset:a.end.offset-d},end:{...a.end}};a.end={...m.start},a.start.offset===a.end.offset?Object.assign(a,m):(e.splice(i,0,["enter",m,t],["exit",m,t]),i+=2)}i++}return e}const PB={42:un,43:un,45:un,48:un,49:un,50:un,51:un,52:un,53:un,54:un,55:un,56:un,57:un,62:gj},IB={91:F4},UB={[-2]:Th,[-1]:Th,32:Th},VB={35:X4,42:Yu,45:[f1,Yu],60:J4,61:f1,95:Yu,96:c1,126:c1},GB={38:xj,92:yj},FB={[-5]:Ah,[-4]:Ah,[-3]:Ah,33:yB,38:xj,42:Pm,60:[b4,sB],91:bB,92:[K4,yj],93:tg,95:Pm,96:R4},qB={null:[Pm,zB]},HB={null:[42,95]},$B={null:[]},KB=Object.freeze({__proto__:null,attentionMarkers:HB,contentInitial:IB,disable:$B,document:PB,flow:VB,flowInitial:UB,insideSpan:qB,string:GB,text:FB});function YB(e,t,i){let a={_bufferIndex:-1,_index:0,line:i&&i.line||1,column:i&&i.column||1,offset:i&&i.offset||0};const s={},o=[];let u=[],d=[];const h={attempt:z(A),check:z(E),consume:M,enter:T,exit:D,interrupt:z(E,{interrupt:!0})},m={code:null,containerState:{},defineSkip:S,events:[],now:w,parser:e,previous:null,sliceSerialize:x,sliceStream:v,write:p};let g=t.tokenize.call(m,h);return t.resolveAll&&o.push(t),m;function p(B){return u=Gn(u,B),C(),u[u.length-1]!==null?[]:(N(t,0),m.events=Dc(o,m.events,m),m.events)}function x(B,G){return WB(v(B),G)}function v(B){return XB(u,B)}function w(){const{_bufferIndex:B,_index:G,line:Y,column:ee,offset:le}=a;return{_bufferIndex:B,_index:G,line:Y,column:ee,offset:le}}function S(B){s[B.line]=B.column,L()}function C(){let B;for(;a._index<u.length;){const G=u[a._index];if(typeof G=="string")for(B=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===B&&a._bufferIndex<G.length;)j(G.charCodeAt(a._bufferIndex));else j(G)}}function j(B){g=g(B)}function M(B){xe(B)?(a.line++,a.column=1,a.offset+=B===-3?2:1,L()):B!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===u[a._index].length&&(a._bufferIndex=-1,a._index++)),m.previous=B}function T(B,G){const Y=G||{};return Y.type=B,Y.start=w(),m.events.push(["enter",Y,m]),d.push(Y),Y}function D(B){const G=d.pop();return G.end=w(),m.events.push(["exit",G,m]),G}function A(B,G){N(B,G.from)}function E(B,G){G.restore()}function z(B,G){return Y;function Y(ee,le,V){let X,te,ne,O;return Array.isArray(ee)?be(ee):"tokenize"in ee?be([ee]):me(ee);function me(je){return lt;function lt(bt){const Dt=bt!==null&&je[bt],yn=bt!==null&&je.null,de=[...Array.isArray(Dt)?Dt:Dt?[Dt]:[],...Array.isArray(yn)?yn:yn?[yn]:[]];return be(de)(bt)}}function be(je){return X=je,te=0,je.length===0?V:I(je[te])}function I(je){return lt;function lt(bt){return O=P(),ne=je,je.partial||(m.currentConstruct=je),je.name&&m.parser.constructs.disable.null.includes(je.name)?Be():je.tokenize.call(G?Object.assign(Object.create(m),G):m,h,Te,Be)(bt)}}function Te(je){return B(ne,O),le}function Be(je){return O.restore(),++te<X.length?I(X[te]):V}}}function N(B,G){B.resolveAll&&!o.includes(B)&&o.push(B),B.resolve&&An(m.events,G,m.events.length-G,B.resolve(m.events.slice(G),m)),B.resolveTo&&(m.events=B.resolveTo(m.events,m))}function P(){const B=w(),G=m.previous,Y=m.currentConstruct,ee=m.events.length,le=Array.from(d);return{from:ee,restore:V};function V(){a=B,m.previous=G,m.currentConstruct=Y,m.events.length=ee,d=le,L()}}function L(){a.line in s&&a.column<2&&(a.column=s[a.line],a.offset+=s[a.line]-1)}}function XB(e,t){const i=t.start._index,a=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let u;if(i===s)u=[e[i].slice(a,o)];else{if(u=e.slice(i,s),a>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(a):u.shift()}o>0&&u.push(e[s].slice(0,o))}return u}function WB(e,t){let i=-1;const a=[];let s;for(;++i<e.length;){const o=e[i];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&s)continue;u=" ";break}default:u=String.fromCharCode(o)}s=o===-2,a.push(u)}return a.join("")}function QB(e){const a={constructs:mj([KB,...(e||{}).extensions||[]]),content:s(f4),defined:[],document:s(m4),flow:s(RB),lazy:{},string:s(OB),text:s(NB)};return a;function s(o){return u;function u(d){return YB(a,o,d)}}}function ZB(e){for(;!bj(e););return e}const h1=/[\0\t\n\r]/g;function JB(){let e=1,t="",i=!0,a;return s;function s(o,u,d){const h=[];let m,g,p,x,v;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),p=0,t="",i&&(o.charCodeAt(0)===65279&&p++,i=void 0);p<o.length;){if(h1.lastIndex=p,m=h1.exec(o),x=m&&m.index!==void 0?m.index:o.length,v=o.charCodeAt(x),!m){t=o.slice(p);break}if(v===10&&p===x&&a)h.push(-3),a=void 0;else switch(a&&(h.push(-5),a=void 0),p<x&&(h.push(o.slice(p,x)),e+=x-p),v){case 0:{h.push(65533),e++;break}case 9:{for(g=Math.ceil(e/4)*4,h.push(-2);e++<g;)h.push(-1);break}case 10:{h.push(-4),e=1;break}default:a=!0,e=1}p=x+1}return d&&(a&&h.push(-5),t&&h.push(t),h.push(null)),h}}const eP=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function tP(e){return e.replace(eP,nP)}function nP(e,t,i){if(t)return t;if(i.charCodeAt(0)===35){const s=i.charCodeAt(1),o=s===120||s===88;return pj(i.slice(o?2:1),o?16:10)}return eg(i)||e}const kj={}.hasOwnProperty;function iP(e,t,i){return typeof t!="string"&&(i=t,t=void 0),rP(i)(ZB(QB(i).document().write(JB()(e,t,!0))))}function rP(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(xs),autolinkProtocol:P,autolinkEmail:P,atxHeading:o(ea),blockQuote:o(yn),characterEscape:P,characterReference:P,codeFenced:o(de),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(de,u),codeText:o(Se,u),codeTextData:P,data:P,codeFlowValue:P,definition:o(Ve),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(ct),hardBreakEscape:o(ta),hardBreakTrailing:o(ta),htmlFlow:o(Xt,u),htmlFlowData:P,htmlText:o(Xt,u),htmlTextData:P,image:o(Bc),label:u,link:o(xs),listItem:o(na),listItemValue:x,listOrdered:o(bs,p),listUnordered:o(bs),paragraph:o(Pc),reference:I,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(ea),strong:o(go),thematicBreak:o(Uc)},exit:{atxHeading:h(),atxHeadingSequence:A,autolink:h(),autolinkEmail:Dt,autolinkProtocol:bt,blockQuote:h(),characterEscapeValue:L,characterReferenceMarkerHexadecimal:Be,characterReferenceMarkerNumeric:Be,characterReferenceValue:je,characterReference:lt,codeFenced:h(C),codeFencedFence:S,codeFencedFenceInfo:v,codeFencedFenceMeta:w,codeFlowValue:L,codeIndented:h(j),codeText:h(le),codeTextData:L,data:L,definition:h(),definitionDestinationString:D,definitionLabelString:M,definitionTitleString:T,emphasis:h(),hardBreakEscape:h(G),hardBreakTrailing:h(G),htmlFlow:h(Y),htmlFlowData:L,htmlText:h(ee),htmlTextData:L,image:h(X),label:ne,labelText:te,lineEnding:B,link:h(V),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Te,resourceDestinationString:O,resourceTitleString:me,resource:be,setextHeading:h(N),setextHeadingLineSequence:z,setextHeadingText:E,strong:h(),thematicBreak:h()}};Cj(t,(e||{}).mdastExtensions||[]);const i={};return a;function a(ie){let oe={type:"root",children:[]};const ye={stack:[oe],tokenStack:[],config:t,enter:d,exit:m,buffer:u,resume:g,data:i},_e=[];let Ge=-1;for(;++Ge<ie.length;)if(ie[Ge][1].type==="listOrdered"||ie[Ge][1].type==="listUnordered")if(ie[Ge][0]==="enter")_e.push(Ge);else{const xn=_e.pop();Ge=s(ie,xn,Ge)}for(Ge=-1;++Ge<ie.length;){const xn=t[ie[Ge][0]];kj.call(xn,ie[Ge][1].type)&&xn[ie[Ge][1].type].call(Object.assign({sliceSerialize:ie[Ge][2].sliceSerialize},ye),ie[Ge][1])}if(ye.tokenStack.length>0){const xn=ye.tokenStack[ye.tokenStack.length-1];(xn[1]||m1).call(ye,void 0,xn[0])}for(oe.position={start:or(ie.length>0?ie[0][1].start:{line:1,column:1,offset:0}),end:or(ie.length>0?ie[ie.length-2][1].end:{line:1,column:1,offset:0})},Ge=-1;++Ge<t.transforms.length;)oe=t.transforms[Ge](oe)||oe;return oe}function s(ie,oe,ye){let _e=oe-1,Ge=-1,xn=!1,mi,nn,Jn,bn;for(;++_e<=ye;){const At=ie[_e];switch(At[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{At[0]==="enter"?Ge++:Ge--,bn=void 0;break}case"lineEndingBlank":{At[0]==="enter"&&(mi&&!bn&&!Ge&&!Jn&&(Jn=_e),bn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:bn=void 0}if(!Ge&&At[0]==="enter"&&At[1].type==="listItemPrefix"||Ge===-1&&At[0]==="exit"&&(At[1].type==="listUnordered"||At[1].type==="listOrdered")){if(mi){let Mn=_e;for(nn=void 0;Mn--;){const qn=ie[Mn];if(qn[1].type==="lineEnding"||qn[1].type==="lineEndingBlank"){if(qn[0]==="exit")continue;nn&&(ie[nn][1].type="lineEndingBlank",xn=!0),qn[1].type="lineEnding",nn=Mn}else if(!(qn[1].type==="linePrefix"||qn[1].type==="blockQuotePrefix"||qn[1].type==="blockQuotePrefixWhitespace"||qn[1].type==="blockQuoteMarker"||qn[1].type==="listItemIndent"))break}Jn&&(!nn||Jn<nn)&&(mi._spread=!0),mi.end=Object.assign({},nn?ie[nn][1].start:At[1].end),ie.splice(nn||_e,0,["exit",mi,At[2]]),_e++,ye++}if(At[1].type==="listItemPrefix"){const Mn={type:"listItem",_spread:!1,start:Object.assign({},At[1].start),end:void 0};mi=Mn,ie.splice(_e,0,["enter",Mn,At[2]]),_e++,ye++,Jn=void 0,bn=!0}}}return ie[oe][1]._spread=xn,ye}function o(ie,oe){return ye;function ye(_e){d.call(this,ie(_e),_e),oe&&oe.call(this,_e)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(ie,oe,ye){this.stack[this.stack.length-1].children.push(ie),this.stack.push(ie),this.tokenStack.push([oe,ye||void 0]),ie.position={start:or(oe.start),end:void 0}}function h(ie){return oe;function oe(ye){ie&&ie.call(this,ye),m.call(this,ye)}}function m(ie,oe){const ye=this.stack.pop(),_e=this.tokenStack.pop();if(_e)_e[0].type!==ie.type&&(oe?oe.call(this,ie,_e[0]):(_e[1]||m1).call(this,ie,_e[0]));else throw new Error("Cannot close `"+ie.type+"` ("+Ol({start:ie.start,end:ie.end})+"): it’s not open");ye.position.end=or(ie.end)}function g(){return Jp(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function x(ie){if(this.data.expectingFirstListItemValue){const oe=this.stack[this.stack.length-2];oe.start=Number.parseInt(this.sliceSerialize(ie),10),this.data.expectingFirstListItemValue=void 0}}function v(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.lang=ie}function w(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.meta=ie}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function j(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie.replace(/(\r?\n|\r)$/g,"")}function M(ie){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=Qn(this.sliceSerialize(ie)).toLowerCase()}function T(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ie}function D(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ie}function A(ie){const oe=this.stack[this.stack.length-1];if(!oe.depth){const ye=this.sliceSerialize(ie).length;oe.depth=ye}}function E(){this.data.setextHeadingSlurpLineEnding=!0}function z(ie){const oe=this.stack[this.stack.length-1];oe.depth=this.sliceSerialize(ie).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function P(ie){const ye=this.stack[this.stack.length-1].children;let _e=ye[ye.length-1];(!_e||_e.type!=="text")&&(_e=Ic(),_e.position={start:or(ie.start),end:void 0},ye.push(_e)),this.stack.push(_e)}function L(ie){const oe=this.stack.pop();oe.value+=this.sliceSerialize(ie),oe.position.end=or(ie.end)}function B(ie){const oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ye=oe.children[oe.children.length-1];ye.position.end=or(ie.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(oe.type)&&(P.call(this,ie),L.call(this,ie))}function G(){this.data.atHardBreak=!0}function Y(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie}function ee(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie}function le(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.value=ie}function V(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=oe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function X(){const ie=this.stack[this.stack.length-1];if(this.data.inReference){const oe=this.data.referenceType||"shortcut";ie.type+="Reference",ie.referenceType=oe,delete ie.url,delete ie.title}else delete ie.identifier,delete ie.label;this.data.referenceType=void 0}function te(ie){const oe=this.sliceSerialize(ie),ye=this.stack[this.stack.length-2];ye.label=tP(oe),ye.identifier=Qn(oe).toLowerCase()}function ne(){const ie=this.stack[this.stack.length-1],oe=this.resume(),ye=this.stack[this.stack.length-1];if(this.data.inReference=!0,ye.type==="link"){const _e=ie.children;ye.children=_e}else ye.alt=oe}function O(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.url=ie}function me(){const ie=this.resume(),oe=this.stack[this.stack.length-1];oe.title=ie}function be(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function Te(ie){const oe=this.resume(),ye=this.stack[this.stack.length-1];ye.label=oe,ye.identifier=Qn(this.sliceSerialize(ie)).toLowerCase(),this.data.referenceType="full"}function Be(ie){this.data.characterReferenceType=ie.type}function je(ie){const oe=this.sliceSerialize(ie),ye=this.data.characterReferenceType;let _e;ye?(_e=pj(oe,ye==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):_e=eg(oe);const Ge=this.stack[this.stack.length-1];Ge.value+=_e}function lt(ie){const oe=this.stack.pop();oe.position.end=or(ie.end)}function bt(ie){L.call(this,ie);const oe=this.stack[this.stack.length-1];oe.url=this.sliceSerialize(ie)}function Dt(ie){L.call(this,ie);const oe=this.stack[this.stack.length-1];oe.url="mailto:"+this.sliceSerialize(ie)}function yn(){return{type:"blockquote",children:[]}}function de(){return{type:"code",lang:null,meta:null,value:""}}function Se(){return{type:"inlineCode",value:""}}function Ve(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ct(){return{type:"emphasis",children:[]}}function ea(){return{type:"heading",depth:0,children:[]}}function ta(){return{type:"break"}}function Xt(){return{type:"html",value:""}}function Bc(){return{type:"image",title:null,url:"",alt:null}}function xs(){return{type:"link",title:null,url:"",children:[]}}function bs(ie){return{type:"list",ordered:ie.type==="listOrdered",start:null,spread:ie._spread,children:[]}}function na(ie){return{type:"listItem",spread:ie._spread,checked:null,children:[]}}function Pc(){return{type:"paragraph",children:[]}}function go(){return{type:"strong",children:[]}}function Ic(){return{type:"text",value:""}}function Uc(){return{type:"thematicBreak"}}}function or(e){return{line:e.line,column:e.column,offset:e.offset}}function Cj(e,t){let i=-1;for(;++i<t.length;){const a=t[i];Array.isArray(a)?Cj(e,a):aP(e,a)}}function aP(e,t){let i;for(i in t)if(kj.call(t,i))switch(i){case"canContainEols":{const a=t[i];a&&e[i].push(...a);break}case"transforms":{const a=t[i];a&&e[i].push(...a);break}case"enter":case"exit":{const a=t[i];a&&Object.assign(e[i],a);break}}}function m1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ol({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ol({start:t.start,end:t.end})+") is still open")}function sP(e){const t=this;t.parser=i;function i(a){return iP(a,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function lP(e,t){const i={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,i),e.applyData(t,i)}function oP(e,t){const i={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,i),[e.applyData(t,i),{type:"text",value:`
`}]}function uP(e,t){const i=t.value?t.value+`
`:"",a={};t.lang&&(a.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:a,children:[{type:"text",value:i}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function cP(e,t){const i={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function dP(e,t){const i={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function fP(e,t){const i=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(t.identifier).toUpperCase(),s=ys(a.toLowerCase()),o=e.footnoteOrder.indexOf(a);let u,d=e.footnoteCounts.get(a);d===void 0?(d=0,e.footnoteOrder.push(a),u=e.footnoteOrder.length):u=o+1,d+=1,e.footnoteCounts.set(a,d);const h={type:"element",tagName:"a",properties:{href:"#"+i+"fn-"+s,id:i+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};e.patch(t,h);const m={type:"element",tagName:"sup",properties:{},children:[h]};return e.patch(t,m),e.applyData(t,m)}function hP(e,t){const i={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function mP(e,t){if(e.options.allowDangerousHtml){const i={type:"raw",value:t.value};return e.patch(t,i),e.applyData(t,i)}}function Tj(e,t){const i=t.referenceType;let a="]";if(i==="collapsed"?a+="[]":i==="full"&&(a+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+a}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=a:s.push({type:"text",value:a}),s}function pP(e,t){const i=String(t.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Tj(e,t);const s={src:ys(a.url||""),alt:t.alt};a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function gP(e,t){const i={src:ys(t.url)};t.alt!==null&&t.alt!==void 0&&(i.alt=t.alt),t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function yP(e,t){const i={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,i);const a={type:"element",tagName:"code",properties:{},children:[i]};return e.patch(t,a),e.applyData(t,a)}function xP(e,t){const i=String(t.identifier).toUpperCase(),a=e.definitionById.get(i);if(!a)return Tj(e,t);const s={href:ys(a.url||"")};a.title!==null&&a.title!==void 0&&(s.title=a.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function bP(e,t){const i={href:ys(t.url)};t.title!==null&&t.title!==void 0&&(i.title=t.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function vP(e,t,i){const a=e.all(t),s=i?wP(i):Aj(t),o={},u=[];if(typeof t.checked=="boolean"){const g=a[0];let p;g&&g.type==="element"&&g.tagName==="p"?p=g:(p={type:"element",tagName:"p",properties:{},children:[]},a.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let d=-1;for(;++d<a.length;){const g=a[d];(s||d!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?u.push(...g.children):u.push(g)}const h=a[a.length-1];h&&(s||h.type!=="element"||h.tagName!=="p")&&u.push({type:"text",value:`
`});const m={type:"element",tagName:"li",properties:o,children:u};return e.patch(t,m),e.applyData(t,m)}function wP(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const i=e.children;let a=-1;for(;!t&&++a<i.length;)t=Aj(i[a])}return t}function Aj(e){const t=e.spread;return t==null?e.children.length>1:t}function SP(e,t){const i={},a=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(i.start=t.start);++s<a.length;){const u=a[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){i.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:i,children:e.wrap(a,!0)};return e.patch(t,o),e.applyData(t,o)}function _P(e,t){const i={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function jP(e,t){const i={type:"root",children:e.wrap(e.all(t))};return e.patch(t,i),e.applyData(t,i)}function kP(e,t){const i={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function CP(e,t){const i=e.all(t),a=i.shift(),s=[];if(a){const u={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(t.children[0],u),s.push(u)}if(i.length>0){const u={type:"element",tagName:"tbody",properties:{},children:e.wrap(i,!0)},d=Xp(t.children[1]),h=lj(t.children[t.children.length-1]);d&&h&&(u.position={start:d,end:h}),s.push(u)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function TP(e,t,i){const a=i?i.children:void 0,o=(a?a.indexOf(t):1)===0?"th":"td",u=i&&i.type==="table"?i.align:void 0,d=u?u.length:t.children.length;let h=-1;const m=[];for(;++h<d;){const p=t.children[h],x={},v=u?u[h]:void 0;v&&(x.align=v);let w={type:"element",tagName:o,properties:x,children:[]};p&&(w.children=e.all(p),e.patch(p,w),w=e.applyData(p,w)),m.push(w)}const g={type:"element",tagName:"tr",properties:{},children:e.wrap(m,!0)};return e.patch(t,g),e.applyData(t,g)}function AP(e,t){const i={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}const p1=9,g1=32;function EP(e){const t=String(e),i=/\r?\n|\r/g;let a=i.exec(t),s=0;const o=[];for(;a;)o.push(y1(t.slice(s,a.index),s>0,!0),a[0]),s=a.index+a[0].length,a=i.exec(t);return o.push(y1(t.slice(s),s>0,!1)),o.join("")}function y1(e,t,i){let a=0,s=e.length;if(t){let o=e.codePointAt(a);for(;o===p1||o===g1;)a++,o=e.codePointAt(a)}if(i){let o=e.codePointAt(s-1);for(;o===p1||o===g1;)s--,o=e.codePointAt(s-1)}return s>a?e.slice(a,s):""}function MP(e,t){const i={type:"text",value:EP(String(t.value))};return e.patch(t,i),e.applyData(t,i)}function LP(e,t){const i={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,i),e.applyData(t,i)}const RP={blockquote:lP,break:oP,code:uP,delete:cP,emphasis:dP,footnoteReference:fP,heading:hP,html:mP,imageReference:pP,image:gP,inlineCode:yP,linkReference:xP,link:bP,listItem:vP,list:SP,paragraph:_P,root:jP,strong:kP,table:CP,tableCell:AP,tableRow:TP,text:MP,thematicBreak:LP,toml:Ru,yaml:Ru,definition:Ru,footnoteDefinition:Ru};function Ru(){}const Ej=-1,zc=0,Bl=1,dc=2,ng=3,ig=4,rg=5,ag=6,Mj=7,Lj=8,x1=typeof self=="object"?self:globalThis,DP=(e,t)=>{const i=(s,o)=>(e.set(o,s),s),a=s=>{if(e.has(s))return e.get(s);const[o,u]=t[s];switch(o){case zc:case Ej:return i(u,s);case Bl:{const d=i([],s);for(const h of u)d.push(a(h));return d}case dc:{const d=i({},s);for(const[h,m]of u)d[a(h)]=a(m);return d}case ng:return i(new Date(u),s);case ig:{const{source:d,flags:h}=u;return i(new RegExp(d,h),s)}case rg:{const d=i(new Map,s);for(const[h,m]of u)d.set(a(h),a(m));return d}case ag:{const d=i(new Set,s);for(const h of u)d.add(a(h));return d}case Mj:{const{name:d,message:h}=u;return i(new x1[d](h),s)}case Lj:return i(BigInt(u),s);case"BigInt":return i(Object(BigInt(u)),s);case"ArrayBuffer":return i(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return i(new DataView(d),u)}}return i(new x1[o](u),s)};return a},b1=e=>DP(new Map,e)(0),Ha="",{toString:zP}={},{keys:OP}=Object,vl=e=>{const t=typeof e;if(t!=="object"||!e)return[zc,t];const i=zP.call(e).slice(8,-1);switch(i){case"Array":return[Bl,Ha];case"Object":return[dc,Ha];case"Date":return[ng,Ha];case"RegExp":return[ig,Ha];case"Map":return[rg,Ha];case"Set":return[ag,Ha];case"DataView":return[Bl,i]}return i.includes("Array")?[Bl,i]:i.includes("Error")?[Mj,i]:[dc,i]},Du=([e,t])=>e===zc&&(t==="function"||t==="symbol"),NP=(e,t,i,a)=>{const s=(u,d)=>{const h=a.push(u)-1;return i.set(d,h),h},o=u=>{if(i.has(u))return i.get(u);let[d,h]=vl(u);switch(d){case zc:{let g=u;switch(h){case"bigint":d=Lj,g=u.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+h);g=null;break;case"undefined":return s([Ej],u)}return s([d,g],u)}case Bl:{if(h){let x=u;return h==="DataView"?x=new Uint8Array(u.buffer):h==="ArrayBuffer"&&(x=new Uint8Array(u)),s([h,[...x]],u)}const g=[],p=s([d,g],u);for(const x of u)g.push(o(x));return p}case dc:{if(h)switch(h){case"BigInt":return s([h,u.toString()],u);case"Boolean":case"Number":case"String":return s([h,u.valueOf()],u)}if(t&&"toJSON"in u)return o(u.toJSON());const g=[],p=s([d,g],u);for(const x of OP(u))(e||!Du(vl(u[x])))&&g.push([o(x),o(u[x])]);return p}case ng:return s([d,u.toISOString()],u);case ig:{const{source:g,flags:p}=u;return s([d,{source:g,flags:p}],u)}case rg:{const g=[],p=s([d,g],u);for(const[x,v]of u)(e||!(Du(vl(x))||Du(vl(v))))&&g.push([o(x),o(v)]);return p}case ag:{const g=[],p=s([d,g],u);for(const x of u)(e||!Du(vl(x)))&&g.push(o(x));return p}}const{message:m}=u;return s([d,{name:h,message:m}],u)};return o},v1=(e,{json:t,lossy:i}={})=>{const a=[];return NP(!(t||i),!!t,new Map,a)(e),a},fc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?b1(v1(e,t)):structuredClone(e):(e,t)=>b1(v1(e,t));function BP(e,t){const i=[{type:"text",value:"↩"}];return t>1&&i.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),i}function PP(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function IP(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",i=e.options.footnoteBackContent||BP,a=e.options.footnoteBackLabel||PP,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",u=e.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let h=-1;for(;++h<e.footnoteOrder.length;){const m=e.footnoteById.get(e.footnoteOrder[h]);if(!m)continue;const g=e.all(m),p=String(m.identifier).toUpperCase(),x=ys(p.toLowerCase());let v=0;const w=[],S=e.footnoteCounts.get(p);for(;S!==void 0&&++v<=S;){w.length>0&&w.push({type:"text",value:" "});let M=typeof i=="string"?i:i(h,v);typeof M=="string"&&(M={type:"text",value:M}),w.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+x+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(h,v),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const C=g[g.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const M=C.children[C.children.length-1];M&&M.type==="text"?M.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...w)}else g.push(...w);const j={type:"element",tagName:"li",properties:{id:t+"fn-"+x},children:e.wrap(g,!0)};e.patch(m,j),d.push(j)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...fc(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(d,!0)},{type:"text",value:`
`}]}}const Oc=function(e){if(e==null)return FP;if(typeof e=="function")return Nc(e);if(typeof e=="object")return Array.isArray(e)?UP(e):VP(e);if(typeof e=="string")return GP(e);throw new Error("Expected function, string, or object as test")};function UP(e){const t=[];let i=-1;for(;++i<e.length;)t[i]=Oc(e[i]);return Nc(a);function a(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function VP(e){const t=e;return Nc(i);function i(a){const s=a;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function GP(e){return Nc(t);function t(i){return i&&i.type===e}}function Nc(e){return t;function t(i,a,s){return!!(qP(i)&&e.call(this,i,typeof a=="number"?a:void 0,s||void 0))}}function FP(){return!0}function qP(e){return e!==null&&typeof e=="object"&&"type"in e}const Rj=[],HP=!0,Im=!1,$P="skip";function Dj(e,t,i,a){let s;typeof t=="function"&&typeof i!="function"?(a=i,i=t):s=t;const o=Oc(s),u=a?-1:1;d(e,void 0,[])();function d(h,m,g){const p=h&&typeof h=="object"?h:{};if(typeof p.type=="string"){const v=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(h.type+(v?"<"+v+">":""))+")"})}return x;function x(){let v=Rj,w,S,C;if((!t||o(h,m,g[g.length-1]||void 0))&&(v=KP(i(h,g)),v[0]===Im))return v;if("children"in h&&h.children){const j=h;if(j.children&&v[0]!==$P)for(S=(a?j.children.length:-1)+u,C=g.concat(j);S>-1&&S<j.children.length;){const M=j.children[S];if(w=d(M,S,C)(),w[0]===Im)return w;S=typeof w[1]=="number"?w[1]:S+u}}return v}}}function KP(e){return Array.isArray(e)?e:typeof e=="number"?[HP,e]:e==null?Rj:[e]}function sg(e,t,i,a){let s,o,u;typeof t=="function"&&typeof i!="function"?(o=void 0,u=t,s=i):(o=t,u=i,s=a),Dj(e,o,d,s);function d(h,m){const g=m[m.length-1],p=g?g.children.indexOf(h):void 0;return u(h,p,g)}}const Um={}.hasOwnProperty,YP={};function XP(e,t){const i=t||YP,a=new Map,s=new Map,o=new Map,u={...RP,...i.handlers},d={all:m,applyData:QP,definitionById:a,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:u,one:h,options:i,patch:WP,wrap:JP};return sg(e,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const p=g.type==="definition"?a:s,x=String(g.identifier).toUpperCase();p.has(x)||p.set(x,g)}}),d;function h(g,p){const x=g.type,v=d.handlers[x];if(Um.call(d.handlers,x)&&v)return v(d,g,p);if(d.options.passThrough&&d.options.passThrough.includes(x)){if("children"in g){const{children:S,...C}=g,j=fc(C);return j.children=d.all(g),j}return fc(g)}return(d.options.unknownHandler||ZP)(d,g,p)}function m(g){const p=[];if("children"in g){const x=g.children;let v=-1;for(;++v<x.length;){const w=d.one(x[v],g);if(w){if(v&&x[v-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=w1(w.value)),!Array.isArray(w)&&w.type==="element")){const S=w.children[0];S&&S.type==="text"&&(S.value=w1(S.value))}Array.isArray(w)?p.push(...w):p.push(w)}}}return p}}function WP(e,t){e.position&&(t.position=PN(e))}function QP(e,t){let i=t;if(e&&e.data){const a=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof a=="string")if(i.type==="element")i.tagName=a;else{const u="children"in i?i.children:[i];i={type:"element",tagName:a,properties:{},children:u}}i.type==="element"&&o&&Object.assign(i.properties,fc(o)),"children"in i&&i.children&&s!==null&&s!==void 0&&(i.children=s)}return i}function ZP(e,t){const i=t.data||{},a="value"in t&&!(Um.call(i,"hProperties")||Um.call(i,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function JP(e,t){const i=[];let a=-1;for(t&&i.push({type:"text",value:`
`});++a<e.length;)a&&i.push({type:"text",value:`
`}),i.push(e[a]);return t&&e.length>0&&i.push({type:"text",value:`
`}),i}function w1(e){let t=0,i=e.charCodeAt(t);for(;i===9||i===32;)t++,i=e.charCodeAt(t);return e.slice(t)}function S1(e,t){const i=XP(e,t),a=i.one(e,void 0),s=IP(i),o=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function e5(e,t){return e&&"run"in e?async function(i,a){const s=S1(i,{file:a,...t});await e.run(s,a)}:function(i,a){return S1(i,{file:a,...e||t})}}function _1(e){if(e)throw e}var Eh,j1;function t5(){if(j1)return Eh;j1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,i=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=function(m){return typeof Array.isArray=="function"?Array.isArray(m):t.call(m)==="[object Array]"},o=function(m){if(!m||t.call(m)!=="[object Object]")return!1;var g=e.call(m,"constructor"),p=m.constructor&&m.constructor.prototype&&e.call(m.constructor.prototype,"isPrototypeOf");if(m.constructor&&!g&&!p)return!1;var x;for(x in m);return typeof x=="undefined"||e.call(m,x)},u=function(m,g){i&&g.name==="__proto__"?i(m,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):m[g.name]=g.newValue},d=function(m,g){if(g==="__proto__")if(e.call(m,g)){if(a)return a(m,g).value}else return;return m[g]};return Eh=function h(){var m,g,p,x,v,w,S=arguments[0],C=1,j=arguments.length,M=!1;for(typeof S=="boolean"&&(M=S,S=arguments[1]||{},C=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});C<j;++C)if(m=arguments[C],m!=null)for(g in m)p=d(S,g),x=d(m,g),S!==x&&(M&&x&&(o(x)||(v=s(x)))?(v?(v=!1,w=p&&s(p)?p:[]):w=p&&o(p)?p:{},u(S,{name:g,newValue:h(M,w,x)})):typeof x!="undefined"&&u(S,{name:g,newValue:x}));return S},Eh}var n5=t5();const Mh=to(n5);function Vm(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function i5(){const e=[],t={run:i,use:a};return t;function i(...s){let o=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...s);function d(h,...m){const g=e[++o];let p=-1;if(h){u(h);return}for(;++p<s.length;)(m[p]===null||m[p]===void 0)&&(m[p]=s[p]);s=m,g?r5(g,d)(...m):u(null,...m)}}function a(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function r5(e,t){let i;return a;function a(...u){const d=e.length>u.length;let h;d&&u.push(s);try{h=e.apply(this,u)}catch(m){const g=m;if(d&&i)throw g;return s(g)}d||(h&&h.then&&typeof h.then=="function"?h.then(o,s):h instanceof Error?s(h):o(h))}function s(u,...d){i||(i=!0,t(u,...d))}function o(u){s(null,u)}}const ai={basename:a5,dirname:s5,extname:l5,join:o5,sep:"/"};function a5(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');po(e);let i=0,a=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){i=s+1;break}}else a<0&&(o=!0,a=s+1);return a<0?"":e.slice(i,a)}if(t===e)return"";let u=-1,d=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){i=s+1;break}}else u<0&&(o=!0,u=s+1),d>-1&&(e.codePointAt(s)===t.codePointAt(d--)?d<0&&(a=s):(d=-1,a=u));return i===a?a=u:a<0&&(a=e.length),e.slice(i,a)}function s5(e){if(po(e),e.length===0)return".";let t=-1,i=e.length,a;for(;--i;)if(e.codePointAt(i)===47){if(a){t=i;break}}else a||(a=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function l5(e){po(e);let t=e.length,i=-1,a=0,s=-1,o=0,u;for(;t--;){const d=e.codePointAt(t);if(d===47){if(u){a=t+1;break}continue}i<0&&(u=!0,i=t+1),d===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||i<0||o===0||o===1&&s===i-1&&s===a+1?"":e.slice(s,i)}function o5(...e){let t=-1,i;for(;++t<e.length;)po(e[t]),e[t]&&(i=i===void 0?e[t]:i+"/"+e[t]);return i===void 0?".":u5(i)}function u5(e){po(e);const t=e.codePointAt(0)===47;let i=c5(e,!t);return i.length===0&&!t&&(i="."),i.length>0&&e.codePointAt(e.length-1)===47&&(i+="/"),t?"/"+i:i}function c5(e,t){let i="",a=0,s=-1,o=0,u=-1,d,h;for(;++u<=e.length;){if(u<e.length)d=e.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(s===u-1||o===1))if(s!==u-1&&o===2){if(i.length<2||a!==2||i.codePointAt(i.length-1)!==46||i.codePointAt(i.length-2)!==46){if(i.length>2){if(h=i.lastIndexOf("/"),h!==i.length-1){h<0?(i="",a=0):(i=i.slice(0,h),a=i.length-1-i.lastIndexOf("/")),s=u,o=0;continue}}else if(i.length>0){i="",a=0,s=u,o=0;continue}}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(s+1,u):i=e.slice(s+1,u),a=u-s-1;s=u,o=0}else d===46&&o>-1?o++:o=-1}return i}function po(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const d5={cwd:f5};function f5(){return"/"}function Gm(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function h5(e){if(typeof e=="string")e=new URL(e);else if(!Gm(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return m5(e)}function m5(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const t=e.pathname;let i=-1;for(;++i<t.length;)if(t.codePointAt(i)===37&&t.codePointAt(i+1)===50){const a=t.codePointAt(i+2);if(a===70||a===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Lh=["history","path","basename","stem","extname","dirname"];class zj{constructor(t){let i;t?Gm(t)?i={path:t}:typeof t=="string"||p5(t)?i={value:t}:i=t:i={},this.cwd="cwd"in i?"":d5.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Lh.length;){const o=Lh[a];o in i&&i[o]!==void 0&&i[o]!==null&&(this[o]=o==="history"?[...i[o]]:i[o])}let s;for(s in i)Lh.includes(s)||(this[s]=i[s])}get basename(){return typeof this.path=="string"?ai.basename(this.path):void 0}set basename(t){Dh(t,"basename"),Rh(t,"basename"),this.path=ai.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ai.dirname(this.path):void 0}set dirname(t){k1(this.basename,"dirname"),this.path=ai.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ai.extname(this.path):void 0}set extname(t){if(Rh(t,"extname"),k1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ai.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Gm(t)&&(t=h5(t)),Dh(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ai.basename(this.path,this.extname):void 0}set stem(t){Dh(t,"stem"),Rh(t,"stem"),this.path=ai.join(this.dirname||"",t+(this.extname||""))}fail(t,i,a){const s=this.message(t,i,a);throw s.fatal=!0,s}info(t,i,a){const s=this.message(t,i,a);return s.fatal=void 0,s}message(t,i,a){const s=new Yt(t,i,a);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rh(e,t){if(e&&e.includes(ai.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ai.sep+"`")}function Dh(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function k1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function p5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const g5=function(e){const a=this.constructor.prototype,s=a[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,a),o},y5={}.hasOwnProperty;class lg extends g5{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=i5()}copy(){const t=new lg;let i=-1;for(;++i<this.attachers.length;){const a=this.attachers[i];t.use(...a)}return t.data(Mh(!0,{},this.namespace)),t}data(t,i){return typeof t=="string"?arguments.length===2?(Nh("data",this.frozen),this.namespace[t]=i,this):y5.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Nh("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[i,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const s=i.call(t,...a);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const i=zu(t),a=this.parser||this.Parser;return zh("parse",a),a(String(i),i)}process(t,i){const a=this;return this.freeze(),zh("process",this.parser||this.Parser),Oh("process",this.compiler||this.Compiler),i?s(void 0,i):new Promise(s);function s(o,u){const d=zu(t),h=a.parse(d);a.run(h,d,function(g,p,x){if(g||!p||!x)return m(g);const v=p,w=a.stringify(v,x);v5(w)?x.value=w:x.result=w,m(g,x)});function m(g,p){g||!p?u(g):o?o(p):i(void 0,p)}}}processSync(t){let i=!1,a;return this.freeze(),zh("processSync",this.parser||this.Parser),Oh("processSync",this.compiler||this.Compiler),this.process(t,s),T1("processSync","process",i),a;function s(o,u){i=!0,_1(o),a=u}}run(t,i,a){C1(t),this.freeze();const s=this.transformers;return!a&&typeof i=="function"&&(a=i,i=void 0),a?o(void 0,a):new Promise(o);function o(u,d){const h=zu(i);s.run(t,h,m);function m(g,p,x){const v=p||t;g?d(g):u?u(v):a(void 0,v,x)}}}runSync(t,i){let a=!1,s;return this.run(t,i,o),T1("runSync","run",a),s;function o(u,d){_1(u),s=d,a=!0}}stringify(t,i){this.freeze();const a=zu(i),s=this.compiler||this.Compiler;return Oh("stringify",s),C1(t),s(t,a)}use(t,...i){const a=this.attachers,s=this.namespace;if(Nh("use",this.frozen),t!=null)if(typeof t=="function")h(t,i);else if(typeof t=="object")Array.isArray(t)?d(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(m){if(typeof m=="function")h(m,[]);else if(typeof m=="object")if(Array.isArray(m)){const[g,...p]=m;h(g,p)}else u(m);else throw new TypeError("Expected usable value, not `"+m+"`")}function u(m){if(!("plugins"in m)&&!("settings"in m))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(m.plugins),m.settings&&(s.settings=Mh(!0,s.settings,m.settings))}function d(m){let g=-1;if(m!=null)if(Array.isArray(m))for(;++g<m.length;){const p=m[g];o(p)}else throw new TypeError("Expected a list of plugins, not `"+m+"`")}function h(m,g){let p=-1,x=-1;for(;++p<a.length;)if(a[p][0]===m){x=p;break}if(x===-1)a.push([m,...g]);else if(g.length>0){let[v,...w]=g;const S=a[x][1];Vm(S)&&Vm(v)&&(v=Mh(!0,S,v)),a[x]=[m,v,...w]}}}}const x5=new lg().freeze();function zh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Oh(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Nh(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function C1(e){if(!Vm(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function T1(e,t,i){if(!i)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function zu(e){return b5(e)?e:new zj(e)}function b5(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function v5(e){return typeof e=="string"||w5(e)}function w5(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const S5="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",A1=[],E1={allowDangerousHtml:!0},_5=/^(https?|ircs?|mailto|xmpp)$/i,j5=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function k5(e){const t=C5(e),i=T5(e);return A5(t.runSync(t.parse(i),i),e)}function C5(e){const t=e.rehypePlugins||A1,i=e.remarkPlugins||A1,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...E1}:E1;return x5().use(sP).use(i).use(e5,a).use(t)}function T5(e){const t=e.children||"",i=new zj;return typeof t=="string"&&(i.value=t),i}function A5(e,t){const i=t.allowedElements,a=t.allowElement,s=t.components,o=t.disallowedElements,u=t.skipHtml,d=t.unwrapDisallowed,h=t.urlTransform||E5;for(const g of j5)Object.hasOwn(t,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+S5+g.id,void 0);return sg(e,m),FN(e,{Fragment:c.Fragment,components:s,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function m(g,p,x){if(g.type==="raw"&&x&&typeof p=="number")return u?x.children.splice(p,1):x.children[p]={type:"text",value:g.value},p;if(g.type==="element"){let v;for(v in Ch)if(Object.hasOwn(Ch,v)&&Object.hasOwn(g.properties,v)){const w=g.properties[v],S=Ch[v];(S===null||S.includes(g.tagName))&&(g.properties[v]=h(String(w||""),v,g))}}if(g.type==="element"){let v=i?!i.includes(g.tagName):o?o.includes(g.tagName):!1;if(!v&&a&&typeof p=="number"&&(v=!a(g,p,x)),v&&x&&typeof p=="number")return d&&g.children?x.children.splice(p,1,...g.children):x.children.splice(p,1),p}}}function E5(e){const t=e.indexOf(":"),i=e.indexOf("?"),a=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||i!==-1&&t>i||a!==-1&&t>a||_5.test(e.slice(0,t))?e:""}const M1={100:"💯",1234:"🔢",grinning:"😀",smiley:"😃",smile:"😄",grin:"😁",laughing:"😆",satisfied:"😆",sweat_smile:"😅",rofl:"🤣",joy:"😂",slightly_smiling_face:"🙂",upside_down_face:"🙃",melting_face:"🫠",wink:"😉",blush:"😊",innocent:"😇",smiling_face_with_three_hearts:"🥰",heart_eyes:"😍",star_struck:"🤩",kissing_heart:"😘",kissing:"😗",relaxed:"☺️",kissing_closed_eyes:"😚",kissing_smiling_eyes:"😙",smiling_face_with_tear:"🥲",yum:"😋",stuck_out_tongue:"😛",stuck_out_tongue_winking_eye:"😜",zany_face:"🤪",stuck_out_tongue_closed_eyes:"😝",money_mouth_face:"🤑",hugs:"🤗",hand_over_mouth:"🤭",face_with_open_eyes_and_hand_over_mouth:"🫢",face_with_peeking_eye:"🫣",shushing_face:"🤫",thinking:"🤔",saluting_face:"🫡",zipper_mouth_face:"🤐",raised_eyebrow:"🤨",neutral_face:"😐",expressionless:"😑",no_mouth:"😶",dotted_line_face:"🫥",face_in_clouds:"😶‍🌫️",smirk:"😏",unamused:"😒",roll_eyes:"🙄",grimacing:"😬",face_exhaling:"😮‍💨",lying_face:"🤥",shaking_face:"🫨",relieved:"😌",pensive:"😔",sleepy:"😪",drooling_face:"🤤",sleeping:"😴",mask:"😷",face_with_thermometer:"🤒",face_with_head_bandage:"🤕",nauseated_face:"🤢",vomiting_face:"🤮",sneezing_face:"🤧",hot_face:"🥵",cold_face:"🥶",woozy_face:"🥴",dizzy_face:"😵",face_with_spiral_eyes:"😵‍💫",exploding_head:"🤯",cowboy_hat_face:"🤠",partying_face:"🥳",disguised_face:"🥸",sunglasses:"😎",nerd_face:"🤓",monocle_face:"🧐",confused:"😕",face_with_diagonal_mouth:"🫤",worried:"😟",slightly_frowning_face:"🙁",frowning_face:"☹️",open_mouth:"😮",hushed:"😯",astonished:"😲",flushed:"😳",pleading_face:"🥺",face_holding_back_tears:"🥹",frowning:"😦",anguished:"😧",fearful:"😨",cold_sweat:"😰",disappointed_relieved:"😥",cry:"😢",sob:"😭",scream:"😱",confounded:"😖",persevere:"😣",disappointed:"😞",sweat:"😓",weary:"😩",tired_face:"😫",yawning_face:"🥱",triumph:"😤",rage:"😡",pout:"😡",angry:"😠",cursing_face:"🤬",smiling_imp:"😈",imp:"👿",skull:"💀",skull_and_crossbones:"☠️",hankey:"💩",poop:"💩",shit:"💩",clown_face:"🤡",japanese_ogre:"👹",japanese_goblin:"👺",ghost:"👻",alien:"👽",space_invader:"👾",robot:"🤖",smiley_cat:"😺",smile_cat:"😸",joy_cat:"😹",heart_eyes_cat:"😻",smirk_cat:"😼",kissing_cat:"😽",scream_cat:"🙀",crying_cat_face:"😿",pouting_cat:"😾",see_no_evil:"🙈",hear_no_evil:"🙉",speak_no_evil:"🙊",love_letter:"💌",cupid:"💘",gift_heart:"💝",sparkling_heart:"💖",heartpulse:"💗",heartbeat:"💓",revolving_hearts:"💞",two_hearts:"💕",heart_decoration:"💟",heavy_heart_exclamation:"❣️",broken_heart:"💔",heart_on_fire:"❤️‍🔥",mending_heart:"❤️‍🩹",heart:"❤️",pink_heart:"🩷",orange_heart:"🧡",yellow_heart:"💛",green_heart:"💚",blue_heart:"💙",light_blue_heart:"🩵",purple_heart:"💜",brown_heart:"🤎",black_heart:"🖤",grey_heart:"🩶",white_heart:"🤍",kiss:"💋",anger:"💢",boom:"💥",collision:"💥",dizzy:"💫",sweat_drops:"💦",dash:"💨",hole:"🕳️",speech_balloon:"💬",eye_speech_bubble:"👁️‍🗨️",left_speech_bubble:"🗨️",right_anger_bubble:"🗯️",thought_balloon:"💭",zzz:"💤",wave:"👋",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐️",hand:"✋",raised_hand:"✋",vulcan_salute:"🖖",rightwards_hand:"🫱",leftwards_hand:"🫲",palm_down_hand:"🫳",palm_up_hand:"🫴",leftwards_pushing_hand:"🫷",rightwards_pushing_hand:"🫸",ok_hand:"👌",pinched_fingers:"🤌",pinching_hand:"🤏",v:"✌️",crossed_fingers:"🤞",hand_with_index_finger_and_thumb_crossed:"🫰",love_you_gesture:"🤟",metal:"🤘",call_me_hand:"🤙",point_left:"👈",point_right:"👉",point_up_2:"👆",middle_finger:"🖕",fu:"🖕",point_down:"👇",point_up:"☝️",index_pointing_at_the_viewer:"🫵","+1":"👍",thumbsup:"👍","-1":"👎",thumbsdown:"👎",fist_raised:"✊",fist:"✊",fist_oncoming:"👊",facepunch:"👊",punch:"👊",fist_left:"🤛",fist_right:"🤜",clap:"👏",raised_hands:"🙌",heart_hands:"🫶",open_hands:"👐",palms_up_together:"🤲",handshake:"🤝",pray:"🙏",writing_hand:"✍️",nail_care:"💅",selfie:"🤳",muscle:"💪",mechanical_arm:"🦾",mechanical_leg:"🦿",leg:"🦵",foot:"🦶",ear:"👂",ear_with_hearing_aid:"🦻",nose:"👃",brain:"🧠",anatomical_heart:"🫀",lungs:"🫁",tooth:"🦷",bone:"🦴",eyes:"👀",eye:"👁️",tongue:"👅",lips:"👄",biting_lip:"🫦",baby:"👶",child:"🧒",boy:"👦",girl:"👧",adult:"🧑",blond_haired_person:"👱",man:"👨",bearded_person:"🧔",man_beard:"🧔‍♂️",woman_beard:"🧔‍♀️",red_haired_man:"👨‍🦰",curly_haired_man:"👨‍🦱",white_haired_man:"👨‍🦳",bald_man:"👨‍🦲",woman:"👩",red_haired_woman:"👩‍🦰",person_red_hair:"🧑‍🦰",curly_haired_woman:"👩‍🦱",person_curly_hair:"🧑‍🦱",white_haired_woman:"👩‍🦳",person_white_hair:"🧑‍🦳",bald_woman:"👩‍🦲",person_bald:"🧑‍🦲",blond_haired_woman:"👱‍♀️",blonde_woman:"👱‍♀️",blond_haired_man:"👱‍♂️",older_adult:"🧓",older_man:"👴",older_woman:"👵",frowning_person:"🙍",frowning_man:"🙍‍♂️",frowning_woman:"🙍‍♀️",pouting_face:"🙎",pouting_man:"🙎‍♂️",pouting_woman:"🙎‍♀️",no_good:"🙅",no_good_man:"🙅‍♂️",ng_man:"🙅‍♂️",no_good_woman:"🙅‍♀️",ng_woman:"🙅‍♀️",ok_person:"🙆",ok_man:"🙆‍♂️",ok_woman:"🙆‍♀️",tipping_hand_person:"💁",information_desk_person:"💁",tipping_hand_man:"💁‍♂️",sassy_man:"💁‍♂️",tipping_hand_woman:"💁‍♀️",sassy_woman:"💁‍♀️",raising_hand:"🙋",raising_hand_man:"🙋‍♂️",raising_hand_woman:"🙋‍♀️",deaf_person:"🧏",deaf_man:"🧏‍♂️",deaf_woman:"🧏‍♀️",bow:"🙇",bowing_man:"🙇‍♂️",bowing_woman:"🙇‍♀️",facepalm:"🤦",man_facepalming:"🤦‍♂️",woman_facepalming:"🤦‍♀️",shrug:"🤷",man_shrugging:"🤷‍♂️",woman_shrugging:"🤷‍♀️",health_worker:"🧑‍⚕️",man_health_worker:"👨‍⚕️",woman_health_worker:"👩‍⚕️",student:"🧑‍🎓",man_student:"👨‍🎓",woman_student:"👩‍🎓",teacher:"🧑‍🏫",man_teacher:"👨‍🏫",woman_teacher:"👩‍🏫",judge:"🧑‍⚖️",man_judge:"👨‍⚖️",woman_judge:"👩‍⚖️",farmer:"🧑‍🌾",man_farmer:"👨‍🌾",woman_farmer:"👩‍🌾",cook:"🧑‍🍳",man_cook:"👨‍🍳",woman_cook:"👩‍🍳",mechanic:"🧑‍🔧",man_mechanic:"👨‍🔧",woman_mechanic:"👩‍🔧",factory_worker:"🧑‍🏭",man_factory_worker:"👨‍🏭",woman_factory_worker:"👩‍🏭",office_worker:"🧑‍💼",man_office_worker:"👨‍💼",woman_office_worker:"👩‍💼",scientist:"🧑‍🔬",man_scientist:"👨‍🔬",woman_scientist:"👩‍🔬",technologist:"🧑‍💻",man_technologist:"👨‍💻",woman_technologist:"👩‍💻",singer:"🧑‍🎤",man_singer:"👨‍🎤",woman_singer:"👩‍🎤",artist:"🧑‍🎨",man_artist:"👨‍🎨",woman_artist:"👩‍🎨",pilot:"🧑‍✈️",man_pilot:"👨‍✈️",woman_pilot:"👩‍✈️",astronaut:"🧑‍🚀",man_astronaut:"👨‍🚀",woman_astronaut:"👩‍🚀",firefighter:"🧑‍🚒",man_firefighter:"👨‍🚒",woman_firefighter:"👩‍🚒",police_officer:"👮",cop:"👮",policeman:"👮‍♂️",policewoman:"👮‍♀️",detective:"🕵️",male_detective:"🕵️‍♂️",female_detective:"🕵️‍♀️",guard:"💂",guardsman:"💂‍♂️",guardswoman:"💂‍♀️",ninja:"🥷",construction_worker:"👷",construction_worker_man:"👷‍♂️",construction_worker_woman:"👷‍♀️",person_with_crown:"🫅",prince:"🤴",princess:"👸",person_with_turban:"👳",man_with_turban:"👳‍♂️",woman_with_turban:"👳‍♀️",man_with_gua_pi_mao:"👲",woman_with_headscarf:"🧕",person_in_tuxedo:"🤵",man_in_tuxedo:"🤵‍♂️",woman_in_tuxedo:"🤵‍♀️",person_with_veil:"👰",man_with_veil:"👰‍♂️",woman_with_veil:"👰‍♀️",bride_with_veil:"👰‍♀️",pregnant_woman:"🤰",pregnant_man:"🫃",pregnant_person:"🫄",breast_feeding:"🤱",woman_feeding_baby:"👩‍🍼",man_feeding_baby:"👨‍🍼",person_feeding_baby:"🧑‍🍼",angel:"👼",santa:"🎅",mrs_claus:"🤶",mx_claus:"🧑‍🎄",superhero:"🦸",superhero_man:"🦸‍♂️",superhero_woman:"🦸‍♀️",supervillain:"🦹",supervillain_man:"🦹‍♂️",supervillain_woman:"🦹‍♀️",mage:"🧙",mage_man:"🧙‍♂️",mage_woman:"🧙‍♀️",fairy:"🧚",fairy_man:"🧚‍♂️",fairy_woman:"🧚‍♀️",vampire:"🧛",vampire_man:"🧛‍♂️",vampire_woman:"🧛‍♀️",merperson:"🧜",merman:"🧜‍♂️",mermaid:"🧜‍♀️",elf:"🧝",elf_man:"🧝‍♂️",elf_woman:"🧝‍♀️",genie:"🧞",genie_man:"🧞‍♂️",genie_woman:"🧞‍♀️",zombie:"🧟",zombie_man:"🧟‍♂️",zombie_woman:"🧟‍♀️",troll:"🧌",massage:"💆",massage_man:"💆‍♂️",massage_woman:"💆‍♀️",haircut:"💇",haircut_man:"💇‍♂️",haircut_woman:"💇‍♀️",walking:"🚶",walking_man:"🚶‍♂️",walking_woman:"🚶‍♀️",standing_person:"🧍",standing_man:"🧍‍♂️",standing_woman:"🧍‍♀️",kneeling_person:"🧎",kneeling_man:"🧎‍♂️",kneeling_woman:"🧎‍♀️",person_with_probing_cane:"🧑‍🦯",man_with_probing_cane:"👨‍🦯",woman_with_probing_cane:"👩‍🦯",person_in_motorized_wheelchair:"🧑‍🦼",man_in_motorized_wheelchair:"👨‍🦼",woman_in_motorized_wheelchair:"👩‍🦼",person_in_manual_wheelchair:"🧑‍🦽",man_in_manual_wheelchair:"👨‍🦽",woman_in_manual_wheelchair:"👩‍🦽",runner:"🏃",running:"🏃",running_man:"🏃‍♂️",running_woman:"🏃‍♀️",woman_dancing:"💃",dancer:"💃",man_dancing:"🕺",business_suit_levitating:"🕴️",dancers:"👯",dancing_men:"👯‍♂️",dancing_women:"👯‍♀️",sauna_person:"🧖",sauna_man:"🧖‍♂️",sauna_woman:"🧖‍♀️",climbing:"🧗",climbing_man:"🧗‍♂️",climbing_woman:"🧗‍♀️",person_fencing:"🤺",horse_racing:"🏇",skier:"⛷️",snowboarder:"🏂",golfing:"🏌️",golfing_man:"🏌️‍♂️",golfing_woman:"🏌️‍♀️",surfer:"🏄",surfing_man:"🏄‍♂️",surfing_woman:"🏄‍♀️",rowboat:"🚣",rowing_man:"🚣‍♂️",rowing_woman:"🚣‍♀️",swimmer:"🏊",swimming_man:"🏊‍♂️",swimming_woman:"🏊‍♀️",bouncing_ball_person:"⛹️",bouncing_ball_man:"⛹️‍♂️",basketball_man:"⛹️‍♂️",bouncing_ball_woman:"⛹️‍♀️",basketball_woman:"⛹️‍♀️",weight_lifting:"🏋️",weight_lifting_man:"🏋️‍♂️",weight_lifting_woman:"🏋️‍♀️",bicyclist:"🚴",biking_man:"🚴‍♂️",biking_woman:"🚴‍♀️",mountain_bicyclist:"🚵",mountain_biking_man:"🚵‍♂️",mountain_biking_woman:"🚵‍♀️",cartwheeling:"🤸",man_cartwheeling:"🤸‍♂️",woman_cartwheeling:"🤸‍♀️",wrestling:"🤼",men_wrestling:"🤼‍♂️",women_wrestling:"🤼‍♀️",water_polo:"🤽",man_playing_water_polo:"🤽‍♂️",woman_playing_water_polo:"🤽‍♀️",handball_person:"🤾",man_playing_handball:"🤾‍♂️",woman_playing_handball:"🤾‍♀️",juggling_person:"🤹",man_juggling:"🤹‍♂️",woman_juggling:"🤹‍♀️",lotus_position:"🧘",lotus_position_man:"🧘‍♂️",lotus_position_woman:"🧘‍♀️",bath:"🛀",sleeping_bed:"🛌",people_holding_hands:"🧑‍🤝‍🧑",two_women_holding_hands:"👭",couple:"👫",two_men_holding_hands:"👬",couplekiss:"💏",couplekiss_man_woman:"👩‍❤️‍💋‍👨",couplekiss_man_man:"👨‍❤️‍💋‍👨",couplekiss_woman_woman:"👩‍❤️‍💋‍👩",couple_with_heart:"💑",couple_with_heart_woman_man:"👩‍❤️‍👨",couple_with_heart_man_man:"👨‍❤️‍👨",couple_with_heart_woman_woman:"👩‍❤️‍👩",family:"👪",family_man_woman_boy:"👨‍👩‍👦",family_man_woman_girl:"👨‍👩‍👧",family_man_woman_girl_boy:"👨‍👩‍👧‍👦",family_man_woman_boy_boy:"👨‍👩‍👦‍👦",family_man_woman_girl_girl:"👨‍👩‍👧‍👧",family_man_man_boy:"👨‍👨‍👦",family_man_man_girl:"👨‍👨‍👧",family_man_man_girl_boy:"👨‍👨‍👧‍👦",family_man_man_boy_boy:"👨‍👨‍👦‍👦",family_man_man_girl_girl:"👨‍👨‍👧‍👧",family_woman_woman_boy:"👩‍👩‍👦",family_woman_woman_girl:"👩‍👩‍👧",family_woman_woman_girl_boy:"👩‍👩‍👧‍👦",family_woman_woman_boy_boy:"👩‍👩‍👦‍👦",family_woman_woman_girl_girl:"👩‍👩‍👧‍👧",family_man_boy:"👨‍👦",family_man_boy_boy:"👨‍👦‍👦",family_man_girl:"👨‍👧",family_man_girl_boy:"👨‍👧‍👦",family_man_girl_girl:"👨‍👧‍👧",family_woman_boy:"👩‍👦",family_woman_boy_boy:"👩‍👦‍👦",family_woman_girl:"👩‍👧",family_woman_girl_boy:"👩‍👧‍👦",family_woman_girl_girl:"👩‍👧‍👧",speaking_head:"🗣️",bust_in_silhouette:"👤",busts_in_silhouette:"👥",people_hugging:"🫂",footprints:"👣",monkey_face:"🐵",monkey:"🐒",gorilla:"🦍",orangutan:"🦧",dog:"🐶",dog2:"🐕",guide_dog:"🦮",service_dog:"🐕‍🦺",poodle:"🐩",wolf:"🐺",fox_face:"🦊",raccoon:"🦝",cat:"🐱",cat2:"🐈",black_cat:"🐈‍⬛",lion:"🦁",tiger:"🐯",tiger2:"🐅",leopard:"🐆",horse:"🐴",moose:"🫎",donkey:"🫏",racehorse:"🐎",unicorn:"🦄",zebra:"🦓",deer:"🦌",bison:"🦬",cow:"🐮",ox:"🐂",water_buffalo:"🐃",cow2:"🐄",pig:"🐷",pig2:"🐖",boar:"🐗",pig_nose:"🐽",ram:"🐏",sheep:"🐑",goat:"🐐",dromedary_camel:"🐪",camel:"🐫",llama:"🦙",giraffe:"🦒",elephant:"🐘",mammoth:"🦣",rhinoceros:"🦏",hippopotamus:"🦛",mouse:"🐭",mouse2:"🐁",rat:"🐀",hamster:"🐹",rabbit:"🐰",rabbit2:"🐇",chipmunk:"🐿️",beaver:"🦫",hedgehog:"🦔",bat:"🦇",bear:"🐻",polar_bear:"🐻‍❄️",koala:"🐨",panda_face:"🐼",sloth:"🦥",otter:"🦦",skunk:"🦨",kangaroo:"🦘",badger:"🦡",feet:"🐾",paw_prints:"🐾",turkey:"🦃",chicken:"🐔",rooster:"🐓",hatching_chick:"🐣",baby_chick:"🐤",hatched_chick:"🐥",bird:"🐦",penguin:"🐧",dove:"🕊️",eagle:"🦅",duck:"🦆",swan:"🦢",owl:"🦉",dodo:"🦤",feather:"🪶",flamingo:"🦩",peacock:"🦚",parrot:"🦜",wing:"🪽",black_bird:"🐦‍⬛",goose:"🪿",frog:"🐸",crocodile:"🐊",turtle:"🐢",lizard:"🦎",snake:"🐍",dragon_face:"🐲",dragon:"🐉",sauropod:"🦕","t-rex":"🦖",whale:"🐳",whale2:"🐋",dolphin:"🐬",flipper:"🐬",seal:"🦭",fish:"🐟",tropical_fish:"🐠",blowfish:"🐡",shark:"🦈",octopus:"🐙",shell:"🐚",coral:"🪸",jellyfish:"🪼",snail:"🐌",butterfly:"🦋",bug:"🐛",ant:"🐜",bee:"🐝",honeybee:"🐝",beetle:"🪲",lady_beetle:"🐞",cricket:"🦗",cockroach:"🪳",spider:"🕷️",spider_web:"🕸️",scorpion:"🦂",mosquito:"🦟",fly:"🪰",worm:"🪱",microbe:"🦠",bouquet:"💐",cherry_blossom:"🌸",white_flower:"💮",lotus:"🪷",rosette:"🏵️",rose:"🌹",wilted_flower:"🥀",hibiscus:"🌺",sunflower:"🌻",blossom:"🌼",tulip:"🌷",hyacinth:"🪻",seedling:"🌱",potted_plant:"🪴",evergreen_tree:"🌲",deciduous_tree:"🌳",palm_tree:"🌴",cactus:"🌵",ear_of_rice:"🌾",herb:"🌿",shamrock:"☘️",four_leaf_clover:"🍀",maple_leaf:"🍁",fallen_leaf:"🍂",leaves:"🍃",empty_nest:"🪹",nest_with_eggs:"🪺",mushroom:"🍄",grapes:"🍇",melon:"🍈",watermelon:"🍉",tangerine:"🍊",orange:"🍊",mandarin:"🍊",lemon:"🍋",banana:"🍌",pineapple:"🍍",mango:"🥭",apple:"🍎",green_apple:"🍏",pear:"🍐",peach:"🍑",cherries:"🍒",strawberry:"🍓",blueberries:"🫐",kiwi_fruit:"🥝",tomato:"🍅",olive:"🫒",coconut:"🥥",avocado:"🥑",eggplant:"🍆",potato:"🥔",carrot:"🥕",corn:"🌽",hot_pepper:"🌶️",bell_pepper:"🫑",cucumber:"🥒",leafy_green:"🥬",broccoli:"🥦",garlic:"🧄",onion:"🧅",peanuts:"🥜",beans:"🫘",chestnut:"🌰",ginger_root:"🫚",pea_pod:"🫛",bread:"🍞",croissant:"🥐",baguette_bread:"🥖",flatbread:"🫓",pretzel:"🥨",bagel:"🥯",pancakes:"🥞",waffle:"🧇",cheese:"🧀",meat_on_bone:"🍖",poultry_leg:"🍗",cut_of_meat:"🥩",bacon:"🥓",hamburger:"🍔",fries:"🍟",pizza:"🍕",hotdog:"🌭",sandwich:"🥪",taco:"🌮",burrito:"🌯",tamale:"🫔",stuffed_flatbread:"🥙",falafel:"🧆",egg:"🥚",fried_egg:"🍳",shallow_pan_of_food:"🥘",stew:"🍲",fondue:"🫕",bowl_with_spoon:"🥣",green_salad:"🥗",popcorn:"🍿",butter:"🧈",salt:"🧂",canned_food:"🥫",bento:"🍱",rice_cracker:"🍘",rice_ball:"🍙",rice:"🍚",curry:"🍛",ramen:"🍜",spaghetti:"🍝",sweet_potato:"🍠",oden:"🍢",sushi:"🍣",fried_shrimp:"🍤",fish_cake:"🍥",moon_cake:"🥮",dango:"🍡",dumpling:"🥟",fortune_cookie:"🥠",takeout_box:"🥡",crab:"🦀",lobster:"🦞",shrimp:"🦐",squid:"🦑",oyster:"🦪",icecream:"🍦",shaved_ice:"🍧",ice_cream:"🍨",doughnut:"🍩",cookie:"🍪",birthday:"🎂",cake:"🍰",cupcake:"🧁",pie:"🥧",chocolate_bar:"🍫",candy:"🍬",lollipop:"🍭",custard:"🍮",honey_pot:"🍯",baby_bottle:"🍼",milk_glass:"🥛",coffee:"☕",teapot:"🫖",tea:"🍵",sake:"🍶",champagne:"🍾",wine_glass:"🍷",cocktail:"🍸",tropical_drink:"🍹",beer:"🍺",beers:"🍻",clinking_glasses:"🥂",tumbler_glass:"🥃",pouring_liquid:"🫗",cup_with_straw:"🥤",bubble_tea:"🧋",beverage_box:"🧃",mate:"🧉",ice_cube:"🧊",chopsticks:"🥢",plate_with_cutlery:"🍽️",fork_and_knife:"🍴",spoon:"🥄",hocho:"🔪",knife:"🔪",jar:"🫙",amphora:"🏺",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",globe_with_meridians:"🌐",world_map:"🗺️",japan:"🗾",compass:"🧭",mountain_snow:"🏔️",mountain:"⛰️",volcano:"🌋",mount_fuji:"🗻",camping:"🏕️",beach_umbrella:"🏖️",desert:"🏜️",desert_island:"🏝️",national_park:"🏞️",stadium:"🏟️",classical_building:"🏛️",building_construction:"🏗️",bricks:"🧱",rock:"🪨",wood:"🪵",hut:"🛖",houses:"🏘️",derelict_house:"🏚️",house:"🏠",house_with_garden:"🏡",office:"🏢",post_office:"🏣",european_post_office:"🏤",hospital:"🏥",bank:"🏦",hotel:"🏨",love_hotel:"🏩",convenience_store:"🏪",school:"🏫",department_store:"🏬",factory:"🏭",japanese_castle:"🏯",european_castle:"🏰",wedding:"💒",tokyo_tower:"🗼",statue_of_liberty:"🗽",church:"⛪",mosque:"🕌",hindu_temple:"🛕",synagogue:"🕍",shinto_shrine:"⛩️",kaaba:"🕋",fountain:"⛲",tent:"⛺",foggy:"🌁",night_with_stars:"🌃",cityscape:"🏙️",sunrise_over_mountains:"🌄",sunrise:"🌅",city_sunset:"🌆",city_sunrise:"🌇",bridge_at_night:"🌉",hotsprings:"♨️",carousel_horse:"🎠",playground_slide:"🛝",ferris_wheel:"🎡",roller_coaster:"🎢",barber:"💈",circus_tent:"🎪",steam_locomotive:"🚂",railway_car:"🚃",bullettrain_side:"🚄",bullettrain_front:"🚅",train2:"🚆",metro:"🚇",light_rail:"🚈",station:"🚉",tram:"🚊",monorail:"🚝",mountain_railway:"🚞",train:"🚋",bus:"🚌",oncoming_bus:"🚍",trolleybus:"🚎",minibus:"🚐",ambulance:"🚑",fire_engine:"🚒",police_car:"🚓",oncoming_police_car:"🚔",taxi:"🚕",oncoming_taxi:"🚖",car:"🚗",red_car:"🚗",oncoming_automobile:"🚘",blue_car:"🚙",pickup_truck:"🛻",truck:"🚚",articulated_lorry:"🚛",tractor:"🚜",racing_car:"🏎️",motorcycle:"🏍️",motor_scooter:"🛵",manual_wheelchair:"🦽",motorized_wheelchair:"🦼",auto_rickshaw:"🛺",bike:"🚲",kick_scooter:"🛴",skateboard:"🛹",roller_skate:"🛼",busstop:"🚏",motorway:"🛣️",railway_track:"🛤️",oil_drum:"🛢️",fuelpump:"⛽",wheel:"🛞",rotating_light:"🚨",traffic_light:"🚥",vertical_traffic_light:"🚦",stop_sign:"🛑",construction:"🚧",anchor:"⚓",ring_buoy:"🛟",boat:"⛵",sailboat:"⛵",canoe:"🛶",speedboat:"🚤",passenger_ship:"🛳️",ferry:"⛴️",motor_boat:"🛥️",ship:"🚢",airplane:"✈️",small_airplane:"🛩️",flight_departure:"🛫",flight_arrival:"🛬",parachute:"🪂",seat:"💺",helicopter:"🚁",suspension_railway:"🚟",mountain_cableway:"🚠",aerial_tramway:"🚡",artificial_satellite:"🛰️",rocket:"🚀",flying_saucer:"🛸",bellhop_bell:"🛎️",luggage:"🧳",hourglass:"⌛",hourglass_flowing_sand:"⏳",watch:"⌚",alarm_clock:"⏰",stopwatch:"⏱️",timer_clock:"⏲️",mantelpiece_clock:"🕰️",clock12:"🕛",clock1230:"🕧",clock1:"🕐",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",new_moon:"🌑",waxing_crescent_moon:"🌒",first_quarter_moon:"🌓",moon:"🌔",waxing_gibbous_moon:"🌔",full_moon:"🌕",waning_gibbous_moon:"🌖",last_quarter_moon:"🌗",waning_crescent_moon:"🌘",crescent_moon:"🌙",new_moon_with_face:"🌚",first_quarter_moon_with_face:"🌛",last_quarter_moon_with_face:"🌜",thermometer:"🌡️",sunny:"☀️",full_moon_with_face:"🌝",sun_with_face:"🌞",ringed_planet:"🪐",star:"⭐",star2:"🌟",stars:"🌠",milky_way:"🌌",cloud:"☁️",partly_sunny:"⛅",cloud_with_lightning_and_rain:"⛈️",sun_behind_small_cloud:"🌤️",sun_behind_large_cloud:"🌥️",sun_behind_rain_cloud:"🌦️",cloud_with_rain:"🌧️",cloud_with_snow:"🌨️",cloud_with_lightning:"🌩️",tornado:"🌪️",fog:"🌫️",wind_face:"🌬️",cyclone:"🌀",rainbow:"🌈",closed_umbrella:"🌂",open_umbrella:"☂️",umbrella:"☔",parasol_on_ground:"⛱️",zap:"⚡",snowflake:"❄️",snowman_with_snow:"☃️",snowman:"⛄",comet:"☄️",fire:"🔥",droplet:"💧",ocean:"🌊",jack_o_lantern:"🎃",christmas_tree:"🎄",fireworks:"🎆",sparkler:"🎇",firecracker:"🧨",sparkles:"✨",balloon:"🎈",tada:"🎉",confetti_ball:"🎊",tanabata_tree:"🎋",bamboo:"🎍",dolls:"🎎",flags:"🎏",wind_chime:"🎐",rice_scene:"🎑",red_envelope:"🧧",ribbon:"🎀",gift:"🎁",reminder_ribbon:"🎗️",tickets:"🎟️",ticket:"🎫",medal_military:"🎖️",trophy:"🏆",medal_sports:"🏅","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉",soccer:"⚽",baseball:"⚾",softball:"🥎",basketball:"🏀",volleyball:"🏐",football:"🏈",rugby_football:"🏉",tennis:"🎾",flying_disc:"🥏",bowling:"🎳",cricket_game:"🏏",field_hockey:"🏑",ice_hockey:"🏒",lacrosse:"🥍",ping_pong:"🏓",badminton:"🏸",boxing_glove:"🥊",martial_arts_uniform:"🥋",goal_net:"🥅",golf:"⛳",ice_skate:"⛸️",fishing_pole_and_fish:"🎣",diving_mask:"🤿",running_shirt_with_sash:"🎽",ski:"🎿",sled:"🛷",curling_stone:"🥌",dart:"🎯",yo_yo:"🪀",kite:"🪁",gun:"🔫","8ball":"🎱",crystal_ball:"🔮",magic_wand:"🪄",video_game:"🎮",joystick:"🕹️",slot_machine:"🎰",game_die:"🎲",jigsaw:"🧩",teddy_bear:"🧸",pinata:"🪅",mirror_ball:"🪩",nesting_dolls:"🪆",spades:"♠️",hearts:"♥️",diamonds:"♦️",clubs:"♣️",chess_pawn:"♟️",black_joker:"🃏",mahjong:"🀄",flower_playing_cards:"🎴",performing_arts:"🎭",framed_picture:"🖼️",art:"🎨",thread:"🧵",sewing_needle:"🪡",yarn:"🧶",knot:"🪢",eyeglasses:"👓",dark_sunglasses:"🕶️",goggles:"🥽",lab_coat:"🥼",safety_vest:"🦺",necktie:"👔",shirt:"👕",tshirt:"👕",jeans:"👖",scarf:"🧣",gloves:"🧤",coat:"🧥",socks:"🧦",dress:"👗",kimono:"👘",sari:"🥻",one_piece_swimsuit:"🩱",swim_brief:"🩲",shorts:"🩳",bikini:"👙",womans_clothes:"👚",folding_hand_fan:"🪭",purse:"👛",handbag:"👜",pouch:"👝",shopping:"🛍️",school_satchel:"🎒",thong_sandal:"🩴",mans_shoe:"👞",shoe:"👞",athletic_shoe:"👟",hiking_boot:"🥾",flat_shoe:"🥿",high_heel:"👠",sandal:"👡",ballet_shoes:"🩰",boot:"👢",hair_pick:"🪮",crown:"👑",womans_hat:"👒",tophat:"🎩",mortar_board:"🎓",billed_cap:"🧢",military_helmet:"🪖",rescue_worker_helmet:"⛑️",prayer_beads:"📿",lipstick:"💄",ring:"💍",gem:"💎",mute:"🔇",speaker:"🔈",sound:"🔉",loud_sound:"🔊",loudspeaker:"📢",mega:"📣",postal_horn:"📯",bell:"🔔",no_bell:"🔕",musical_score:"🎼",musical_note:"🎵",notes:"🎶",studio_microphone:"🎙️",level_slider:"🎚️",control_knobs:"🎛️",microphone:"🎤",headphones:"🎧",radio:"📻",saxophone:"🎷",accordion:"🪗",guitar:"🎸",musical_keyboard:"🎹",trumpet:"🎺",violin:"🎻",banjo:"🪕",drum:"🥁",long_drum:"🪘",maracas:"🪇",flute:"🪈",iphone:"📱",calling:"📲",phone:"☎️",telephone:"☎️",telephone_receiver:"📞",pager:"📟",fax:"📠",battery:"🔋",low_battery:"🪫",electric_plug:"🔌",computer:"💻",desktop_computer:"🖥️",printer:"🖨️",keyboard:"⌨️",computer_mouse:"🖱️",trackball:"🖲️",minidisc:"💽",floppy_disk:"💾",cd:"💿",dvd:"📀",abacus:"🧮",movie_camera:"🎥",film_strip:"🎞️",film_projector:"📽️",clapper:"🎬",tv:"📺",camera:"📷",camera_flash:"📸",video_camera:"📹",vhs:"📼",mag:"🔍",mag_right:"🔎",candle:"🕯️",bulb:"💡",flashlight:"🔦",izakaya_lantern:"🏮",lantern:"🏮",diya_lamp:"🪔",notebook_with_decorative_cover:"📔",closed_book:"📕",book:"📖",open_book:"📖",green_book:"📗",blue_book:"📘",orange_book:"📙",books:"📚",notebook:"📓",ledger:"📒",page_with_curl:"📃",scroll:"📜",page_facing_up:"📄",newspaper:"📰",newspaper_roll:"🗞️",bookmark_tabs:"📑",bookmark:"🔖",label:"🏷️",moneybag:"💰",coin:"🪙",yen:"💴",dollar:"💵",euro:"💶",pound:"💷",money_with_wings:"💸",credit_card:"💳",receipt:"🧾",chart:"💹",envelope:"✉️",email:"📧","e-mail":"📧",incoming_envelope:"📨",envelope_with_arrow:"📩",outbox_tray:"📤",inbox_tray:"📥",package:"📦",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",postbox:"📮",ballot_box:"🗳️",pencil2:"✏️",black_nib:"✒️",fountain_pen:"🖋️",pen:"🖊️",paintbrush:"🖌️",crayon:"🖍️",memo:"📝",pencil:"📝",briefcase:"💼",file_folder:"📁",open_file_folder:"📂",card_index_dividers:"🗂️",date:"📅",calendar:"📆",spiral_notepad:"🗒️",spiral_calendar:"🗓️",card_index:"📇",chart_with_upwards_trend:"📈",chart_with_downwards_trend:"📉",bar_chart:"📊",clipboard:"📋",pushpin:"📌",round_pushpin:"📍",paperclip:"📎",paperclips:"🖇️",straight_ruler:"📏",triangular_ruler:"📐",scissors:"✂️",card_file_box:"🗃️",file_cabinet:"🗄️",wastebasket:"🗑️",lock:"🔒",unlock:"🔓",lock_with_ink_pen:"🔏",closed_lock_with_key:"🔐",key:"🔑",old_key:"🗝️",hammer:"🔨",axe:"🪓",pick:"⛏️",hammer_and_pick:"⚒️",hammer_and_wrench:"🛠️",dagger:"🗡️",crossed_swords:"⚔️",bomb:"💣",boomerang:"🪃",bow_and_arrow:"🏹",shield:"🛡️",carpentry_saw:"🪚",wrench:"🔧",screwdriver:"🪛",nut_and_bolt:"🔩",gear:"⚙️",clamp:"🗜️",balance_scale:"⚖️",probing_cane:"🦯",link:"🔗",chains:"⛓️",hook:"🪝",toolbox:"🧰",magnet:"🧲",ladder:"🪜",alembic:"⚗️",test_tube:"🧪",petri_dish:"🧫",dna:"🧬",microscope:"🔬",telescope:"🔭",satellite:"📡",syringe:"💉",drop_of_blood:"🩸",pill:"💊",adhesive_bandage:"🩹",crutch:"🩼",stethoscope:"🩺",x_ray:"🩻",door:"🚪",elevator:"🛗",mirror:"🪞",window:"🪟",bed:"🛏️",couch_and_lamp:"🛋️",chair:"🪑",toilet:"🚽",plunger:"🪠",shower:"🚿",bathtub:"🛁",mouse_trap:"🪤",razor:"🪒",lotion_bottle:"🧴",safety_pin:"🧷",broom:"🧹",basket:"🧺",roll_of_paper:"🧻",bucket:"🪣",soap:"🧼",bubbles:"🫧",toothbrush:"🪥",sponge:"🧽",fire_extinguisher:"🧯",shopping_cart:"🛒",smoking:"🚬",coffin:"⚰️",headstone:"🪦",funeral_urn:"⚱️",nazar_amulet:"🧿",hamsa:"🪬",moyai:"🗿",placard:"🪧",identification_card:"🪪",atm:"🏧",put_litter_in_its_place:"🚮",potable_water:"🚰",wheelchair:"♿",mens:"🚹",womens:"🚺",restroom:"🚻",baby_symbol:"🚼",wc:"🚾",passport_control:"🛂",customs:"🛃",baggage_claim:"🛄",left_luggage:"🛅",warning:"⚠️",children_crossing:"🚸",no_entry:"⛔",no_entry_sign:"🚫",no_bicycles:"🚳",no_smoking:"🚭",do_not_litter:"🚯","non-potable_water":"🚱",no_pedestrians:"🚷",no_mobile_phones:"📵",underage:"🔞",radioactive:"☢️",biohazard:"☣️",arrow_up:"⬆️",arrow_upper_right:"↗️",arrow_right:"➡️",arrow_lower_right:"↘️",arrow_down:"⬇️",arrow_lower_left:"↙️",arrow_left:"⬅️",arrow_upper_left:"↖️",arrow_up_down:"↕️",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",arrow_right_hook:"↪️",arrow_heading_up:"⤴️",arrow_heading_down:"⤵️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",back:"🔙",end:"🔚",on:"🔛",soon:"🔜",top:"🔝",place_of_worship:"🛐",atom_symbol:"⚛️",om:"🕉️",star_of_david:"✡️",wheel_of_dharma:"☸️",yin_yang:"☯️",latin_cross:"✝️",orthodox_cross:"☦️",star_and_crescent:"☪️",peace_symbol:"☮️",menorah:"🕎",six_pointed_star:"🔯",khanda:"🪯",aries:"♈",taurus:"♉",gemini:"♊",cancer:"♋",leo:"♌",virgo:"♍",libra:"♎",scorpius:"♏",sagittarius:"♐",capricorn:"♑",aquarius:"♒",pisces:"♓",ophiuchus:"⛎",twisted_rightwards_arrows:"🔀",repeat:"🔁",repeat_one:"🔂",arrow_forward:"▶️",fast_forward:"⏩",next_track_button:"⏭️",play_or_pause_button:"⏯️",arrow_backward:"◀️",rewind:"⏪",previous_track_button:"⏮️",arrow_up_small:"🔼",arrow_double_up:"⏫",arrow_down_small:"🔽",arrow_double_down:"⏬",pause_button:"⏸️",stop_button:"⏹️",record_button:"⏺️",eject_button:"⏏️",cinema:"🎦",low_brightness:"🔅",high_brightness:"🔆",signal_strength:"📶",wireless:"🛜",vibration_mode:"📳",mobile_phone_off:"📴",female_sign:"♀️",male_sign:"♂️",transgender_symbol:"⚧️",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",heavy_minus_sign:"➖",heavy_division_sign:"➗",heavy_equals_sign:"🟰",infinity:"♾️",bangbang:"‼️",interrobang:"⁉️",question:"❓",grey_question:"❔",grey_exclamation:"❕",exclamation:"❗",heavy_exclamation_mark:"❗",wavy_dash:"〰️",currency_exchange:"💱",heavy_dollar_sign:"💲",medical_symbol:"⚕️",recycle:"♻️",fleur_de_lis:"⚜️",trident:"🔱",name_badge:"📛",beginner:"🔰",o:"⭕",white_check_mark:"✅",ballot_box_with_check:"☑️",heavy_check_mark:"✔️",x:"❌",negative_squared_cross_mark:"❎",curly_loop:"➰",loop:"➿",part_alternation_mark:"〽️",eight_spoked_asterisk:"✳️",eight_pointed_black_star:"✴️",sparkle:"❇️",copyright:"©️",registered:"®️",tm:"™️",hash:"#️⃣",asterisk:"*️⃣",zero:"0️⃣",one:"1️⃣",two:"2️⃣",three:"3️⃣",four:"4️⃣",five:"5️⃣",six:"6️⃣",seven:"7️⃣",eight:"8️⃣",nine:"9️⃣",keycap_ten:"🔟",capital_abcd:"🔠",abcd:"🔡",symbols:"🔣",abc:"🔤",a:"🅰️",ab:"🆎",b:"🅱️",cl:"🆑",cool:"🆒",free:"🆓",information_source:"ℹ️",id:"🆔",m:"Ⓜ️",new:"🆕",ng:"🆖",o2:"🅾️",ok:"🆗",parking:"🅿️",sos:"🆘",up:"🆙",vs:"🆚",koko:"🈁",sa:"🈂️",u6708:"🈷️",u6709:"🈶",u6307:"🈯",ideograph_advantage:"🉐",u5272:"🈹",u7121:"🈚",u7981:"🈲",accept:"🉑",u7533:"🈸",u5408:"🈴",u7a7a:"🈳",congratulations:"㊗️",secret:"㊙️",u55b6:"🈺",u6e80:"🈵",red_circle:"🔴",orange_circle:"🟠",yellow_circle:"🟡",green_circle:"🟢",large_blue_circle:"🔵",purple_circle:"🟣",brown_circle:"🟤",black_circle:"⚫",white_circle:"⚪",red_square:"🟥",orange_square:"🟧",yellow_square:"🟨",green_square:"🟩",blue_square:"🟦",purple_square:"🟪",brown_square:"🟫",black_large_square:"⬛",white_large_square:"⬜",black_medium_square:"◼️",white_medium_square:"◻️",black_medium_small_square:"◾",white_medium_small_square:"◽",black_small_square:"▪️",white_small_square:"▫️",large_orange_diamond:"🔶",large_blue_diamond:"🔷",small_orange_diamond:"🔸",small_blue_diamond:"🔹",small_red_triangle:"🔺",small_red_triangle_down:"🔻",diamond_shape_with_a_dot_inside:"💠",radio_button:"🔘",white_square_button:"🔳",black_square_button:"🔲",checkered_flag:"🏁",triangular_flag_on_post:"🚩",crossed_flags:"🎌",black_flag:"🏴",white_flag:"🏳️",rainbow_flag:"🏳️‍🌈",transgender_flag:"🏳️‍⚧️",pirate_flag:"🏴‍☠️",ascension_island:"🇦🇨",andorra:"🇦🇩",united_arab_emirates:"🇦🇪",afghanistan:"🇦🇫",antigua_barbuda:"🇦🇬",anguilla:"🇦🇮",albania:"🇦🇱",armenia:"🇦🇲",angola:"🇦🇴",antarctica:"🇦🇶",argentina:"🇦🇷",american_samoa:"🇦🇸",austria:"🇦🇹",australia:"🇦🇺",aruba:"🇦🇼",aland_islands:"🇦🇽",azerbaijan:"🇦🇿",bosnia_herzegovina:"🇧🇦",barbados:"🇧🇧",bangladesh:"🇧🇩",belgium:"🇧🇪",burkina_faso:"🇧🇫",bulgaria:"🇧🇬",bahrain:"🇧🇭",burundi:"🇧🇮",benin:"🇧🇯",st_barthelemy:"🇧🇱",bermuda:"🇧🇲",brunei:"🇧🇳",bolivia:"🇧🇴",caribbean_netherlands:"🇧🇶",brazil:"🇧🇷",bahamas:"🇧🇸",bhutan:"🇧🇹",bouvet_island:"🇧🇻",botswana:"🇧🇼",belarus:"🇧🇾",belize:"🇧🇿",canada:"🇨🇦",cocos_islands:"🇨🇨",congo_kinshasa:"🇨🇩",central_african_republic:"🇨🇫",congo_brazzaville:"🇨🇬",switzerland:"🇨🇭",cote_divoire:"🇨🇮",cook_islands:"🇨🇰",chile:"🇨🇱",cameroon:"🇨🇲",cn:"🇨🇳",colombia:"🇨🇴",clipperton_island:"🇨🇵",costa_rica:"🇨🇷",cuba:"🇨🇺",cape_verde:"🇨🇻",curacao:"🇨🇼",christmas_island:"🇨🇽",cyprus:"🇨🇾",czech_republic:"🇨🇿",de:"🇩🇪",diego_garcia:"🇩🇬",djibouti:"🇩🇯",denmark:"🇩🇰",dominica:"🇩🇲",dominican_republic:"🇩🇴",algeria:"🇩🇿",ceuta_melilla:"🇪🇦",ecuador:"🇪🇨",estonia:"🇪🇪",egypt:"🇪🇬",western_sahara:"🇪🇭",eritrea:"🇪🇷",es:"🇪🇸",ethiopia:"🇪🇹",eu:"🇪🇺",european_union:"🇪🇺",finland:"🇫🇮",fiji:"🇫🇯",falkland_islands:"🇫🇰",micronesia:"🇫🇲",faroe_islands:"🇫🇴",fr:"🇫🇷",gabon:"🇬🇦",gb:"🇬🇧",uk:"🇬🇧",grenada:"🇬🇩",georgia:"🇬🇪",french_guiana:"🇬🇫",guernsey:"🇬🇬",ghana:"🇬🇭",gibraltar:"🇬🇮",greenland:"🇬🇱",gambia:"🇬🇲",guinea:"🇬🇳",guadeloupe:"🇬🇵",equatorial_guinea:"🇬🇶",greece:"🇬🇷",south_georgia_south_sandwich_islands:"🇬🇸",guatemala:"🇬🇹",guam:"🇬🇺",guinea_bissau:"🇬🇼",guyana:"🇬🇾",hong_kong:"🇭🇰",heard_mcdonald_islands:"🇭🇲",honduras:"🇭🇳",croatia:"🇭🇷",haiti:"🇭🇹",hungary:"🇭🇺",canary_islands:"🇮🇨",indonesia:"🇮🇩",ireland:"🇮🇪",israel:"🇮🇱",isle_of_man:"🇮🇲",india:"🇮🇳",british_indian_ocean_territory:"🇮🇴",iraq:"🇮🇶",iran:"🇮🇷",iceland:"🇮🇸",it:"🇮🇹",jersey:"🇯🇪",jamaica:"🇯🇲",jordan:"🇯🇴",jp:"🇯🇵",kenya:"🇰🇪",kyrgyzstan:"🇰🇬",cambodia:"🇰🇭",kiribati:"🇰🇮",comoros:"🇰🇲",st_kitts_nevis:"🇰🇳",north_korea:"🇰🇵",kr:"🇰🇷",kuwait:"🇰🇼",cayman_islands:"🇰🇾",kazakhstan:"🇰🇿",laos:"🇱🇦",lebanon:"🇱🇧",st_lucia:"🇱🇨",liechtenstein:"🇱🇮",sri_lanka:"🇱🇰",liberia:"🇱🇷",lesotho:"🇱🇸",lithuania:"🇱🇹",luxembourg:"🇱🇺",latvia:"🇱🇻",libya:"🇱🇾",morocco:"🇲🇦",monaco:"🇲🇨",moldova:"🇲🇩",montenegro:"🇲🇪",st_martin:"🇲🇫",madagascar:"🇲🇬",marshall_islands:"🇲🇭",macedonia:"🇲🇰",mali:"🇲🇱",myanmar:"🇲🇲",mongolia:"🇲🇳",macau:"🇲🇴",northern_mariana_islands:"🇲🇵",martinique:"🇲🇶",mauritania:"🇲🇷",montserrat:"🇲🇸",malta:"🇲🇹",mauritius:"🇲🇺",maldives:"🇲🇻",malawi:"🇲🇼",mexico:"🇲🇽",malaysia:"🇲🇾",mozambique:"🇲🇿",namibia:"🇳🇦",new_caledonia:"🇳🇨",niger:"🇳🇪",norfolk_island:"🇳🇫",nigeria:"🇳🇬",nicaragua:"🇳🇮",netherlands:"🇳🇱",norway:"🇳🇴",nepal:"🇳🇵",nauru:"🇳🇷",niue:"🇳🇺",new_zealand:"🇳🇿",oman:"🇴🇲",panama:"🇵🇦",peru:"🇵🇪",french_polynesia:"🇵🇫",papua_new_guinea:"🇵🇬",philippines:"🇵🇭",pakistan:"🇵🇰",poland:"🇵🇱",st_pierre_miquelon:"🇵🇲",pitcairn_islands:"🇵🇳",puerto_rico:"🇵🇷",palestinian_territories:"🇵🇸",portugal:"🇵🇹",palau:"🇵🇼",paraguay:"🇵🇾",qatar:"🇶🇦",reunion:"🇷🇪",romania:"🇷🇴",serbia:"🇷🇸",ru:"🇷🇺",rwanda:"🇷🇼",saudi_arabia:"🇸🇦",solomon_islands:"🇸🇧",seychelles:"🇸🇨",sudan:"🇸🇩",sweden:"🇸🇪",singapore:"🇸🇬",st_helena:"🇸🇭",slovenia:"🇸🇮",svalbard_jan_mayen:"🇸🇯",slovakia:"🇸🇰",sierra_leone:"🇸🇱",san_marino:"🇸🇲",senegal:"🇸🇳",somalia:"🇸🇴",suriname:"🇸🇷",south_sudan:"🇸🇸",sao_tome_principe:"🇸🇹",el_salvador:"🇸🇻",sint_maarten:"🇸🇽",syria:"🇸🇾",swaziland:"🇸🇿",tristan_da_cunha:"🇹🇦",turks_caicos_islands:"🇹🇨",chad:"🇹🇩",french_southern_territories:"🇹🇫",togo:"🇹🇬",thailand:"🇹🇭",tajikistan:"🇹🇯",tokelau:"🇹🇰",timor_leste:"🇹🇱",turkmenistan:"🇹🇲",tunisia:"🇹🇳",tonga:"🇹🇴",tr:"🇹🇷",trinidad_tobago:"🇹🇹",tuvalu:"🇹🇻",taiwan:"🇹🇼",tanzania:"🇹🇿",ukraine:"🇺🇦",uganda:"🇺🇬",us_outlying_islands:"🇺🇲",united_nations:"🇺🇳",us:"🇺🇸",uruguay:"🇺🇾",uzbekistan:"🇺🇿",vatican_city:"🇻🇦",st_vincent_grenadines:"🇻🇨",venezuela:"🇻🇪",british_virgin_islands:"🇻🇬",us_virgin_islands:"🇻🇮",vietnam:"🇻🇳",vanuatu:"🇻🇺",wallis_futuna:"🇼🇫",samoa:"🇼🇸",kosovo:"🇽🇰",yemen:"🇾🇪",mayotte:"🇾🇹",south_africa:"🇿🇦",zambia:"🇿🇲",zimbabwe:"🇿🇼",england:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",scotland:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",wales:"🏴󠁧󠁢󠁷󠁬󠁳󠁿"};function M5(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Oj(e,t,i){const s=Oc((i||{}).ignore||[]),o=L5(t);let u=-1;for(;++u<o.length;)Dj(e,"text",d);function d(m,g){let p=-1,x;for(;++p<g.length;){const v=g[p],w=x?x.children:void 0;if(s(v,w?w.indexOf(v):void 0,x))return;x=v}if(x)return h(m,g)}function h(m,g){const p=g[g.length-1],x=o[u][0],v=o[u][1];let w=0;const C=p.children.indexOf(m);let j=!1,M=[];x.lastIndex=0;let T=x.exec(m.value);for(;T;){const D=T.index,A={index:T.index,input:T.input,stack:[...g,m]};let E=v(...T,A);if(typeof E=="string"&&(E=E.length>0?{type:"text",value:E}:void 0),E===!1?x.lastIndex=D+1:(w!==D&&M.push({type:"text",value:m.value.slice(w,D)}),Array.isArray(E)?M.push(...E):E&&M.push(E),w=D+T[0].length,j=!0),!x.global)break;T=x.exec(m.value)}return j?(w<m.value.length&&M.push({type:"text",value:m.value.slice(w)}),p.children.splice(C,1,...M)):M=[m],C+M.length}}function L5(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const i=!e[0]||Array.isArray(e[0])?e:[e];let a=-1;for(;++a<i.length;){const s=i[a];t.push([R5(s[0]),D5(s[1])])}return t}function R5(e){return typeof e=="string"?new RegExp(M5(e),"g"):e}function D5(e){return typeof e=="function"?e:function(){return e}}function z5(){return function(e){Oj(e,[/:(\+1|[-\w]+):/g,function(t,i){return Object.hasOwn(M1,i)?M1[i]:!1}])}}function L1(e,t){const i=String(e);if(typeof t!="string")throw new TypeError("Expected character");let a=0,s=i.indexOf(t);for(;s!==-1;)a++,s=i.indexOf(t,s+t.length);return a}const Bh="phrasing",Ph=["autolink","link","image","label"];function O5(){return{transforms:[G5],enter:{literalAutolink:B5,literalAutolinkEmail:Ih,literalAutolinkHttp:Ih,literalAutolinkWww:Ih},exit:{literalAutolink:V5,literalAutolinkEmail:U5,literalAutolinkHttp:P5,literalAutolinkWww:I5}}}function N5(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Bh,notInConstruct:Ph},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Bh,notInConstruct:Ph},{character:":",before:"[ps]",after:"\\/",inConstruct:Bh,notInConstruct:Ph}]}}function B5(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Ih(e){this.config.enter.autolinkProtocol.call(this,e)}function P5(e){this.config.exit.autolinkProtocol.call(this,e)}function I5(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function U5(e){this.config.exit.autolinkEmail.call(this,e)}function V5(e){this.exit(e)}function G5(e){Oj(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,F5],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),q5]],{ignore:["link","linkReference"]})}function F5(e,t,i,a,s){let o="";if(!Nj(s)||(/^w/i.test(t)&&(i=t+i,t="",o="http://"),!H5(i)))return!1;const u=$5(i+a);if(!u[0])return!1;const d={type:"link",title:null,url:o+t+u[0],children:[{type:"text",value:t+u[0]}]};return u[1]?[d,{type:"text",value:u[1]}]:d}function q5(e,t,i,a){return!Nj(a,!0)||/[-\d_]$/.test(i)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+i,children:[{type:"text",value:t+"@"+i}]}}function H5(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function $5(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let i=t[0],a=i.indexOf(")");const s=L1(e,"(");let o=L1(e,")");for(;a!==-1&&s>o;)e+=i.slice(0,a+1),i=i.slice(a+1),a=i.indexOf(")"),o++;return[e,i]}function Nj(e,t){const i=e.input.charCodeAt(e.index-1);return(e.index===0||Qr(i)||Rc(i))&&(!t||i!==47)}Bj.peek=tI;function K5(){this.buffer()}function Y5(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function X5(){this.buffer()}function W5(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Q5(e){const t=this.resume(),i=this.stack[this.stack.length-1];i.type,i.identifier=Qn(this.sliceSerialize(e)).toLowerCase(),i.label=t}function Z5(e){this.exit(e)}function J5(e){const t=this.resume(),i=this.stack[this.stack.length-1];i.type,i.identifier=Qn(this.sliceSerialize(e)).toLowerCase(),i.label=t}function eI(e){this.exit(e)}function tI(){return"["}function Bj(e,t,i,a){const s=i.createTracker(a);let o=s.move("[^");const u=i.enter("footnoteReference"),d=i.enter("reference");return o+=s.move(i.safe(i.associationId(e),{after:"]",before:o})),d(),u(),o+=s.move("]"),o}function nI(){return{enter:{gfmFootnoteCallString:K5,gfmFootnoteCall:Y5,gfmFootnoteDefinitionLabelString:X5,gfmFootnoteDefinition:W5},exit:{gfmFootnoteCallString:Q5,gfmFootnoteCall:Z5,gfmFootnoteDefinitionLabelString:J5,gfmFootnoteDefinition:eI}}}function iI(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:i,footnoteReference:Bj},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function i(a,s,o,u){const d=o.createTracker(u);let h=d.move("[^");const m=o.enter("footnoteDefinition"),g=o.enter("label");return h+=d.move(o.safe(o.associationId(a),{before:h,after:"]"})),g(),h+=d.move("]:"),a.children&&a.children.length>0&&(d.shift(4),h+=d.move((t?`
`:" ")+o.indentLines(o.containerFlow(a,d.current()),t?Pj:rI))),m(),h}}function rI(e,t,i){return t===0?e:Pj(e,t,i)}function Pj(e,t,i){return(i?"":"    ")+e}const aI=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Ij.peek=cI;function sI(){return{canContainEols:["delete"],enter:{strikethrough:oI},exit:{strikethrough:uI}}}function lI(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:aI}],handlers:{delete:Ij}}}function oI(e){this.enter({type:"delete",children:[]},e)}function uI(e){this.exit(e)}function Ij(e,t,i,a){const s=i.createTracker(a),o=i.enter("strikethrough");let u=s.move("~~");return u+=i.containerPhrasing(e,{...s.current(),before:u,after:"~"}),u+=s.move("~~"),o(),u}function cI(){return"~"}function dI(e){return e.length}function fI(e,t){const i=t||{},a=(i.align||[]).concat(),s=i.stringLength||dI,o=[],u=[],d=[],h=[];let m=0,g=-1;for(;++g<e.length;){const S=[],C=[];let j=-1;for(e[g].length>m&&(m=e[g].length);++j<e[g].length;){const M=hI(e[g][j]);if(i.alignDelimiters!==!1){const T=s(M);C[j]=T,(h[j]===void 0||T>h[j])&&(h[j]=T)}S.push(M)}u[g]=S,d[g]=C}let p=-1;if(typeof a=="object"&&"length"in a)for(;++p<m;)o[p]=R1(a[p]);else{const S=R1(a);for(;++p<m;)o[p]=S}p=-1;const x=[],v=[];for(;++p<m;){const S=o[p];let C="",j="";S===99?(C=":",j=":"):S===108?C=":":S===114&&(j=":");let M=i.alignDelimiters===!1?1:Math.max(1,h[p]-C.length-j.length);const T=C+"-".repeat(M)+j;i.alignDelimiters!==!1&&(M=C.length+M+j.length,M>h[p]&&(h[p]=M),v[p]=M),x[p]=T}u.splice(1,0,x),d.splice(1,0,v),g=-1;const w=[];for(;++g<u.length;){const S=u[g],C=d[g];p=-1;const j=[];for(;++p<m;){const M=S[p]||"";let T="",D="";if(i.alignDelimiters!==!1){const A=h[p]-(C[p]||0),E=o[p];E===114?T=" ".repeat(A):E===99?A%2?(T=" ".repeat(A/2+.5),D=" ".repeat(A/2-.5)):(T=" ".repeat(A/2),D=T):D=" ".repeat(A)}i.delimiterStart!==!1&&!p&&j.push("|"),i.padding!==!1&&!(i.alignDelimiters===!1&&M==="")&&(i.delimiterStart!==!1||p)&&j.push(" "),i.alignDelimiters!==!1&&j.push(T),j.push(M),i.alignDelimiters!==!1&&j.push(D),i.padding!==!1&&j.push(" "),(i.delimiterEnd!==!1||p!==m-1)&&j.push("|")}w.push(i.delimiterEnd===!1?j.join("").replace(/ +$/,""):j.join(""))}return w.join(`
`)}function hI(e){return e==null?"":String(e)}function R1(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function mI(e,t,i,a){const s=i.enter("blockquote"),o=i.createTracker(a);o.move("> "),o.shift(2);const u=i.indentLines(i.containerFlow(e,o.current()),pI);return s(),u}function pI(e,t,i){return">"+(i?"":" ")+e}function gI(e,t){return D1(e,t.inConstruct,!0)&&!D1(e,t.notInConstruct,!1)}function D1(e,t,i){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return i;let a=-1;for(;++a<t.length;)if(e.includes(t[a]))return!0;return!1}function z1(e,t,i,a){let s=-1;for(;++s<i.unsafe.length;)if(i.unsafe[s].character===`
`&&gI(i.stack,i.unsafe[s]))return/[ \t]/.test(a.before)?"":" ";return`\\
`}function yI(e,t){const i=String(e);let a=i.indexOf(t),s=a,o=0,u=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;a!==-1;)a===s?++o>u&&(u=o):o=1,s=a+t.length,a=i.indexOf(t,s);return u}function xI(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function bI(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function vI(e,t,i,a){const s=bI(i),o=e.value||"",u=s==="`"?"GraveAccent":"Tilde";if(xI(e,i)){const p=i.enter("codeIndented"),x=i.indentLines(o,wI);return p(),x}const d=i.createTracker(a),h=s.repeat(Math.max(yI(o,s)+1,3)),m=i.enter("codeFenced");let g=d.move(h);if(e.lang){const p=i.enter(`codeFencedLang${u}`);g+=d.move(i.safe(e.lang,{before:g,after:" ",encode:["`"],...d.current()})),p()}if(e.lang&&e.meta){const p=i.enter(`codeFencedMeta${u}`);g+=d.move(" "),g+=d.move(i.safe(e.meta,{before:g,after:`
`,encode:["`"],...d.current()})),p()}return g+=d.move(`
`),o&&(g+=d.move(o+`
`)),g+=d.move(h),m(),g}function wI(e,t,i){return(i?"":"    ")+e}function og(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function SI(e,t,i,a){const s=og(i),o=s==='"'?"Quote":"Apostrophe",u=i.enter("definition");let d=i.enter("label");const h=i.createTracker(a);let m=h.move("[");return m+=h.move(i.safe(i.associationId(e),{before:m,after:"]",...h.current()})),m+=h.move("]: "),d(),!e.url||/[\0- \u007F]/.test(e.url)?(d=i.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(i.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(d=i.enter("destinationRaw"),m+=h.move(i.safe(e.url,{before:m,after:e.title?" ":`
`,...h.current()}))),d(),e.title&&(d=i.enter(`title${o}`),m+=h.move(" "+s),m+=h.move(i.safe(e.title,{before:m,after:s,...h.current()})),m+=h.move(s),d()),u(),m}function _I(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function eo(e){return"&#x"+e.toString(16).toUpperCase()+";"}function hc(e,t,i){const a=ds(e),s=ds(t);return a===void 0?s===void 0?i==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:a===1?s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:s===void 0?{inside:!1,outside:!1}:s===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Uj.peek=jI;function Uj(e,t,i,a){const s=_I(i),o=i.enter("emphasis"),u=i.createTracker(a),d=u.move(s);let h=u.move(i.containerPhrasing(e,{after:s,before:d,...u.current()}));const m=h.charCodeAt(0),g=hc(a.before.charCodeAt(a.before.length-1),m,s);g.inside&&(h=eo(m)+h.slice(1));const p=h.charCodeAt(h.length-1),x=hc(a.after.charCodeAt(0),p,s);x.inside&&(h=h.slice(0,-1)+eo(p));const v=u.move(s);return o(),i.attentionEncodeSurroundingInfo={after:x.outside,before:g.outside},d+h+v}function jI(e,t,i){return i.options.emphasis||"*"}function kI(e,t){let i=!1;return sg(e,function(a){if("value"in a&&/\r?\n|\r/.test(a.value)||a.type==="break")return i=!0,Im}),!!((!e.depth||e.depth<3)&&Jp(e)&&(t.options.setext||i))}function CI(e,t,i,a){const s=Math.max(Math.min(6,e.depth||1),1),o=i.createTracker(a);if(kI(e,i)){const g=i.enter("headingSetext"),p=i.enter("phrasing"),x=i.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return p(),g(),x+`
`+(s===1?"=":"-").repeat(x.length-(Math.max(x.lastIndexOf("\r"),x.lastIndexOf(`
`))+1))}const u="#".repeat(s),d=i.enter("headingAtx"),h=i.enter("phrasing");o.move(u+" ");let m=i.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(m)&&(m=eo(m.charCodeAt(0))+m.slice(1)),m=m?u+" "+m:u,i.options.closeAtx&&(m+=" "+u),h(),d(),m}Vj.peek=TI;function Vj(e){return e.value||""}function TI(){return"<"}Gj.peek=AI;function Gj(e,t,i,a){const s=og(i),o=s==='"'?"Quote":"Apostrophe",u=i.enter("image");let d=i.enter("label");const h=i.createTracker(a);let m=h.move("![");return m+=h.move(i.safe(e.alt,{before:m,after:"]",...h.current()})),m+=h.move("]("),d(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(d=i.enter("destinationLiteral"),m+=h.move("<"),m+=h.move(i.safe(e.url,{before:m,after:">",...h.current()})),m+=h.move(">")):(d=i.enter("destinationRaw"),m+=h.move(i.safe(e.url,{before:m,after:e.title?" ":")",...h.current()}))),d(),e.title&&(d=i.enter(`title${o}`),m+=h.move(" "+s),m+=h.move(i.safe(e.title,{before:m,after:s,...h.current()})),m+=h.move(s),d()),m+=h.move(")"),u(),m}function AI(){return"!"}Fj.peek=EI;function Fj(e,t,i,a){const s=e.referenceType,o=i.enter("imageReference");let u=i.enter("label");const d=i.createTracker(a);let h=d.move("![");const m=i.safe(e.alt,{before:h,after:"]",...d.current()});h+=d.move(m+"]["),u();const g=i.stack;i.stack=[],u=i.enter("reference");const p=i.safe(i.associationId(e),{before:h,after:"]",...d.current()});return u(),i.stack=g,o(),s==="full"||!m||m!==p?h+=d.move(p+"]"):s==="shortcut"?h=h.slice(0,-1):h+=d.move("]"),h}function EI(){return"!"}qj.peek=MI;function qj(e,t,i){let a=e.value||"",s="`",o=-1;for(;new RegExp("(^|[^`])"+s+"([^`]|$)").test(a);)s+="`";for(/[^ \r\n]/.test(a)&&(/^[ \r\n]/.test(a)&&/[ \r\n]$/.test(a)||/^`|`$/.test(a))&&(a=" "+a+" ");++o<i.unsafe.length;){const u=i.unsafe[o],d=i.compilePattern(u);let h;if(u.atBreak)for(;h=d.exec(a);){let m=h.index;a.charCodeAt(m)===10&&a.charCodeAt(m-1)===13&&m--,a=a.slice(0,m)+" "+a.slice(h.index+1)}}return s+a+s}function MI(){return"`"}function Hj(e,t){const i=Jp(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(i===e.url||"mailto:"+i===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}$j.peek=LI;function $j(e,t,i,a){const s=og(i),o=s==='"'?"Quote":"Apostrophe",u=i.createTracker(a);let d,h;if(Hj(e,i)){const g=i.stack;i.stack=[],d=i.enter("autolink");let p=u.move("<");return p+=u.move(i.containerPhrasing(e,{before:p,after:">",...u.current()})),p+=u.move(">"),d(),i.stack=g,p}d=i.enter("link"),h=i.enter("label");let m=u.move("[");return m+=u.move(i.containerPhrasing(e,{before:m,after:"](",...u.current()})),m+=u.move("]("),h(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(h=i.enter("destinationLiteral"),m+=u.move("<"),m+=u.move(i.safe(e.url,{before:m,after:">",...u.current()})),m+=u.move(">")):(h=i.enter("destinationRaw"),m+=u.move(i.safe(e.url,{before:m,after:e.title?" ":")",...u.current()}))),h(),e.title&&(h=i.enter(`title${o}`),m+=u.move(" "+s),m+=u.move(i.safe(e.title,{before:m,after:s,...u.current()})),m+=u.move(s),h()),m+=u.move(")"),d(),m}function LI(e,t,i){return Hj(e,i)?"<":"["}Kj.peek=RI;function Kj(e,t,i,a){const s=e.referenceType,o=i.enter("linkReference");let u=i.enter("label");const d=i.createTracker(a);let h=d.move("[");const m=i.containerPhrasing(e,{before:h,after:"]",...d.current()});h+=d.move(m+"]["),u();const g=i.stack;i.stack=[],u=i.enter("reference");const p=i.safe(i.associationId(e),{before:h,after:"]",...d.current()});return u(),i.stack=g,o(),s==="full"||!m||m!==p?h+=d.move(p+"]"):s==="shortcut"?h=h.slice(0,-1):h+=d.move("]"),h}function RI(){return"["}function ug(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function DI(e){const t=ug(e),i=e.options.bulletOther;if(!i)return t==="*"?"-":"*";if(i!=="*"&&i!=="+"&&i!=="-")throw new Error("Cannot serialize items with `"+i+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(i===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+i+"`) to be different");return i}function zI(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Yj(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function OI(e,t,i,a){const s=i.enter("list"),o=i.bulletCurrent;let u=e.ordered?zI(i):ug(i);const d=e.ordered?u==="."?")":".":DI(i);let h=t&&i.bulletLastUsed?u===i.bulletLastUsed:!1;if(!e.ordered){const g=e.children?e.children[0]:void 0;if((u==="*"||u==="-")&&g&&(!g.children||!g.children[0])&&i.stack[i.stack.length-1]==="list"&&i.stack[i.stack.length-2]==="listItem"&&i.stack[i.stack.length-3]==="list"&&i.stack[i.stack.length-4]==="listItem"&&i.indexStack[i.indexStack.length-1]===0&&i.indexStack[i.indexStack.length-2]===0&&i.indexStack[i.indexStack.length-3]===0&&(h=!0),Yj(i)===u&&g){let p=-1;for(;++p<e.children.length;){const x=e.children[p];if(x&&x.type==="listItem"&&x.children&&x.children[0]&&x.children[0].type==="thematicBreak"){h=!0;break}}}}h&&(u=d),i.bulletCurrent=u;const m=i.containerFlow(e,a);return i.bulletLastUsed=u,i.bulletCurrent=o,s(),m}function NI(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function BI(e,t,i,a){const s=NI(i);let o=i.bulletCurrent||ug(i);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(i.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let u=o.length+1;(s==="tab"||s==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(u=Math.ceil(u/4)*4);const d=i.createTracker(a);d.move(o+" ".repeat(u-o.length)),d.shift(u);const h=i.enter("listItem"),m=i.indentLines(i.containerFlow(e,d.current()),g);return h(),m;function g(p,x,v){return x?(v?"":" ".repeat(u))+p:(v?o:o+" ".repeat(u-o.length))+p}}function PI(e,t,i,a){const s=i.enter("paragraph"),o=i.enter("phrasing"),u=i.containerPhrasing(e,a);return o(),s(),u}const II=Oc(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function UI(e,t,i,a){return(e.children.some(function(u){return II(u)})?i.containerPhrasing:i.containerFlow).call(i,e,a)}function VI(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Xj.peek=GI;function Xj(e,t,i,a){const s=VI(i),o=i.enter("strong"),u=i.createTracker(a),d=u.move(s+s);let h=u.move(i.containerPhrasing(e,{after:s,before:d,...u.current()}));const m=h.charCodeAt(0),g=hc(a.before.charCodeAt(a.before.length-1),m,s);g.inside&&(h=eo(m)+h.slice(1));const p=h.charCodeAt(h.length-1),x=hc(a.after.charCodeAt(0),p,s);x.inside&&(h=h.slice(0,-1)+eo(p));const v=u.move(s+s);return o(),i.attentionEncodeSurroundingInfo={after:x.outside,before:g.outside},d+h+v}function GI(e,t,i){return i.options.strong||"*"}function FI(e,t,i,a){return i.safe(e.value,a)}function qI(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function HI(e,t,i){const a=(Yj(i)+(i.options.ruleSpaces?" ":"")).repeat(qI(i));return i.options.ruleSpaces?a.slice(0,-1):a}const Wj={blockquote:mI,break:z1,code:vI,definition:SI,emphasis:Uj,hardBreak:z1,heading:CI,html:Vj,image:Gj,imageReference:Fj,inlineCode:qj,link:$j,linkReference:Kj,list:OI,listItem:BI,paragraph:PI,root:UI,strong:Xj,text:FI,thematicBreak:HI};function $I(){return{enter:{table:KI,tableData:O1,tableHeader:O1,tableRow:XI},exit:{codeText:WI,table:YI,tableData:Uh,tableHeader:Uh,tableRow:Uh}}}function KI(e){const t=e._align;this.enter({type:"table",align:t.map(function(i){return i==="none"?null:i}),children:[]},e),this.data.inTable=!0}function YI(e){this.exit(e),this.data.inTable=void 0}function XI(e){this.enter({type:"tableRow",children:[]},e)}function Uh(e){this.exit(e)}function O1(e){this.enter({type:"tableCell",children:[]},e)}function WI(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,QI));const i=this.stack[this.stack.length-1];i.type,i.value=t,this.exit(e)}function QI(e,t){return t==="|"?t:e}function ZI(e){const t=e||{},i=t.tableCellPadding,a=t.tablePipeAlign,s=t.stringLength,o=i?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:x,table:u,tableCell:h,tableRow:d}};function u(v,w,S,C){return m(g(v,S,C),v.align)}function d(v,w,S,C){const j=p(v,S,C),M=m([j]);return M.slice(0,M.indexOf(`
`))}function h(v,w,S,C){const j=S.enter("tableCell"),M=S.enter("phrasing"),T=S.containerPhrasing(v,{...C,before:o,after:o});return M(),j(),T}function m(v,w){return fI(v,{align:w,alignDelimiters:a,padding:i,stringLength:s})}function g(v,w,S){const C=v.children;let j=-1;const M=[],T=w.enter("table");for(;++j<C.length;)M[j]=p(C[j],w,S);return T(),M}function p(v,w,S){const C=v.children;let j=-1;const M=[],T=w.enter("tableRow");for(;++j<C.length;)M[j]=h(C[j],v,w,S);return T(),M}function x(v,w,S){let C=Wj.inlineCode(v,w,S);return S.stack.includes("tableCell")&&(C=C.replace(/\|/g,"\\$&")),C}}function JI(){return{exit:{taskListCheckValueChecked:N1,taskListCheckValueUnchecked:N1,paragraph:tU}}}function eU(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nU}}}function N1(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function tU(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const i=this.stack[this.stack.length-1];i.type;const a=i.children[0];if(a&&a.type==="text"){const s=t.children;let o=-1,u;for(;++o<s.length;){const d=s[o];if(d.type==="paragraph"){u=d;break}}u===i&&(a.value=a.value.slice(1),a.value.length===0?i.children.shift():i.position&&a.position&&typeof a.position.start.offset=="number"&&(a.position.start.column++,a.position.start.offset++,i.position.start=Object.assign({},a.position.start)))}}this.exit(e)}function nU(e,t,i,a){const s=e.children[0],o=typeof e.checked=="boolean"&&s&&s.type==="paragraph",u="["+(e.checked?"x":" ")+"] ",d=i.createTracker(a);o&&d.move(u);let h=Wj.listItem(e,t,i,{...a,...d.current()});return o&&(h=h.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,m)),h;function m(g){return g+u}}function iU(){return[O5(),nI(),sI(),$I(),JI()]}function rU(e){return{extensions:[N5(),iI(e),lI(),ZI(e),eU()]}}const aU={tokenize:dU,partial:!0},Qj={tokenize:fU,partial:!0},Zj={tokenize:hU,partial:!0},Jj={tokenize:mU,partial:!0},sU={tokenize:pU,partial:!0},ek={name:"wwwAutolink",tokenize:uU,previous:nk},tk={name:"protocolAutolink",tokenize:cU,previous:ik},Ni={name:"emailAutolink",tokenize:oU,previous:rk},hi={};function lU(){return{text:hi}}let Nr=48;for(;Nr<123;)hi[Nr]=Ni,Nr++,Nr===58?Nr=65:Nr===91&&(Nr=97);hi[43]=Ni;hi[45]=Ni;hi[46]=Ni;hi[95]=Ni;hi[72]=[Ni,tk];hi[104]=[Ni,tk];hi[87]=[Ni,ek];hi[119]=[Ni,ek];function oU(e,t,i){const a=this;let s,o;return u;function u(p){return!Fm(p)||!rk.call(a,a.previous)||cg(a.events)?i(p):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),d(p))}function d(p){return Fm(p)?(e.consume(p),d):p===64?(e.consume(p),h):i(p)}function h(p){return p===46?e.check(sU,g,m)(p):p===45||p===95||Ht(p)?(o=!0,e.consume(p),h):g(p)}function m(p){return e.consume(p),s=!0,h}function g(p){return o&&s&&Zt(a.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(p)):i(p)}}function uU(e,t,i){const a=this;return s;function s(u){return u!==87&&u!==119||!nk.call(a,a.previous)||cg(a.events)?i(u):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(aU,e.attempt(Qj,e.attempt(Zj,o),i),i)(u))}function o(u){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(u)}}function cU(e,t,i){const a=this;let s="",o=!1;return u;function u(p){return(p===72||p===104)&&ik.call(a,a.previous)&&!cg(a.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),s+=String.fromCodePoint(p),e.consume(p),d):i(p)}function d(p){if(Zt(p)&&s.length<5)return s+=String.fromCodePoint(p),e.consume(p),d;if(p===58){const x=s.toLowerCase();if(x==="http"||x==="https")return e.consume(p),h}return i(p)}function h(p){return p===47?(e.consume(p),o?m:(o=!0,h)):i(p)}function m(p){return p===null||cc(p)||Qe(p)||Qr(p)||Rc(p)?i(p):e.attempt(Qj,e.attempt(Zj,g),i)(p)}function g(p){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(p)}}function dU(e,t,i){let a=0;return s;function s(u){return(u===87||u===119)&&a<3?(a++,e.consume(u),s):u===46&&a===3?(e.consume(u),o):i(u)}function o(u){return u===null?i(u):t(u)}}function fU(e,t,i){let a,s,o;return u;function u(m){return m===46||m===95?e.check(Jj,h,d)(m):m===null||Qe(m)||Qr(m)||m!==45&&Rc(m)?h(m):(o=!0,e.consume(m),u)}function d(m){return m===95?a=!0:(s=a,a=void 0),e.consume(m),u}function h(m){return s||a||!o?i(m):t(m)}}function hU(e,t){let i=0,a=0;return s;function s(u){return u===40?(i++,e.consume(u),s):u===41&&a<i?o(u):u===33||u===34||u===38||u===39||u===41||u===42||u===44||u===46||u===58||u===59||u===60||u===63||u===93||u===95||u===126?e.check(Jj,t,o)(u):u===null||Qe(u)||Qr(u)?t(u):(e.consume(u),s)}function o(u){return u===41&&a++,e.consume(u),s}}function mU(e,t,i){return a;function a(d){return d===33||d===34||d===39||d===41||d===42||d===44||d===46||d===58||d===59||d===63||d===95||d===126?(e.consume(d),a):d===38?(e.consume(d),o):d===93?(e.consume(d),s):d===60||d===null||Qe(d)||Qr(d)?t(d):i(d)}function s(d){return d===null||d===40||d===91||Qe(d)||Qr(d)?t(d):a(d)}function o(d){return Zt(d)?u(d):i(d)}function u(d){return d===59?(e.consume(d),a):Zt(d)?(e.consume(d),u):i(d)}}function pU(e,t,i){return a;function a(o){return e.consume(o),s}function s(o){return Ht(o)?i(o):t(o)}}function nk(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Qe(e)}function ik(e){return!Zt(e)}function rk(e){return!(e===47||Fm(e))}function Fm(e){return e===43||e===45||e===46||e===95||Ht(e)}function cg(e){let t=e.length,i=!1;for(;t--;){const a=e[t][1];if((a.type==="labelLink"||a.type==="labelImage")&&!a._balanced){i=!0;break}if(a._gfmAutolinkLiteralWalkedInto){i=!1;break}}return e.length>0&&!i&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),i}const gU={tokenize:jU,partial:!0};function yU(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:wU,continuation:{tokenize:SU},exit:_U}},text:{91:{name:"gfmFootnoteCall",tokenize:vU},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:xU,resolveTo:bU}}}}function xU(e,t,i){const a=this;let s=a.events.length;const o=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let u;for(;s--;){const h=a.events[s][1];if(h.type==="labelImage"){u=h;break}if(h.type==="gfmFootnoteCall"||h.type==="labelLink"||h.type==="label"||h.type==="image"||h.type==="link")break}return d;function d(h){if(!u||!u._balanced)return i(h);const m=Qn(a.sliceSerialize({start:u.end,end:a.now()}));return m.codePointAt(0)!==94||!o.includes(m.slice(1))?i(h):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),t(h))}}function bU(e,t){let i=e.length;for(;i--;)if(e[i][1].type==="labelImage"&&e[i][0]==="enter"){e[i][1];break}e[i+1][1].type="data",e[i+3][1].type="gfmFootnoteCallLabelMarker";const a={type:"gfmFootnoteCall",start:Object.assign({},e[i+3][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"gfmFootnoteCallMarker",start:Object.assign({},e[i+3][1].end),end:Object.assign({},e[i+3][1].end)};s.end.column++,s.end.offset++,s.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},s.end),end:Object.assign({},e[e.length-1][1].start)},u={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},d=[e[i+1],e[i+2],["enter",a,t],e[i+3],e[i+4],["enter",s,t],["exit",s,t],["enter",o,t],["enter",u,t],["exit",u,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",a,t]];return e.splice(i,e.length-i+1,...d),e}function vU(e,t,i){const a=this,s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o=0,u;return d;function d(p){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),h}function h(p){return p!==94?i(p):(e.enter("gfmFootnoteCallMarker"),e.consume(p),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",m)}function m(p){if(o>999||p===93&&!u||p===null||p===91||Qe(p))return i(p);if(p===93){e.exit("chunkString");const x=e.exit("gfmFootnoteCallString");return s.includes(Qn(a.sliceSerialize(x)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(p),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):i(p)}return Qe(p)||(u=!0),o++,e.consume(p),p===92?g:m}function g(p){return p===91||p===92||p===93?(e.consume(p),o++,m):m(p)}}function wU(e,t,i){const a=this,s=a.parser.gfmFootnotes||(a.parser.gfmFootnotes=[]);let o,u=0,d;return h;function h(w){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),m}function m(w){return w===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",g):i(w)}function g(w){if(u>999||w===93&&!d||w===null||w===91||Qe(w))return i(w);if(w===93){e.exit("chunkString");const S=e.exit("gfmFootnoteDefinitionLabelString");return o=Qn(a.sliceSerialize(S)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(w),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),x}return Qe(w)||(d=!0),u++,e.consume(w),w===92?p:g}function p(w){return w===91||w===92||w===93?(e.consume(w),u++,g):g(w)}function x(w){return w===58?(e.enter("definitionMarker"),e.consume(w),e.exit("definitionMarker"),s.includes(o)||s.push(o),Ne(e,v,"gfmFootnoteDefinitionWhitespace")):i(w)}function v(w){return t(w)}}function SU(e,t,i){return e.check(mo,t,e.attempt(gU,t,i))}function _U(e){e.exit("gfmFootnoteDefinition")}function jU(e,t,i){const a=this;return Ne(e,s,"gfmFootnoteDefinitionIndent",5);function s(o){const u=a.events[a.events.length-1];return u&&u[1].type==="gfmFootnoteDefinitionIndent"&&u[2].sliceSerialize(u[1],!0).length===4?t(o):i(o)}}function kU(e){let i=(e||{}).singleTilde;const a={name:"strikethrough",tokenize:o,resolveAll:s};return i==null&&(i=!0),{text:{126:a},insideSpan:{null:[a]},attentionMarkers:{null:[126]}};function s(u,d){let h=-1;for(;++h<u.length;)if(u[h][0]==="enter"&&u[h][1].type==="strikethroughSequenceTemporary"&&u[h][1]._close){let m=h;for(;m--;)if(u[m][0]==="exit"&&u[m][1].type==="strikethroughSequenceTemporary"&&u[m][1]._open&&u[h][1].end.offset-u[h][1].start.offset===u[m][1].end.offset-u[m][1].start.offset){u[h][1].type="strikethroughSequence",u[m][1].type="strikethroughSequence";const g={type:"strikethrough",start:Object.assign({},u[m][1].start),end:Object.assign({},u[h][1].end)},p={type:"strikethroughText",start:Object.assign({},u[m][1].end),end:Object.assign({},u[h][1].start)},x=[["enter",g,d],["enter",u[m][1],d],["exit",u[m][1],d],["enter",p,d]],v=d.parser.constructs.insideSpan.null;v&&An(x,x.length,0,Dc(v,u.slice(m+1,h),d)),An(x,x.length,0,[["exit",p,d],["enter",u[h][1],d],["exit",u[h][1],d],["exit",g,d]]),An(u,m-1,h-m+3,x),h=m+x.length-2;break}}for(h=-1;++h<u.length;)u[h][1].type==="strikethroughSequenceTemporary"&&(u[h][1].type="data");return u}function o(u,d,h){const m=this.previous,g=this.events;let p=0;return x;function x(w){return m===126&&g[g.length-1][1].type!=="characterEscape"?h(w):(u.enter("strikethroughSequenceTemporary"),v(w))}function v(w){const S=ds(m);if(w===126)return p>1?h(w):(u.consume(w),p++,v);if(p<2&&!i)return h(w);const C=u.exit("strikethroughSequenceTemporary"),j=ds(w);return C._open=!j||j===2&&!!S,C._close=!S||S===2&&!!j,d(w)}}}class CU{constructor(){this.map=[]}add(t,i,a){TU(this,t,i,a)}consume(t){if(this.map.sort(function(o,u){return o[0]-u[0]}),this.map.length===0)return;let i=this.map.length;const a=[];for(;i>0;)i-=1,a.push(t.slice(this.map[i][0]+this.map[i][1]),this.map[i][2]),t.length=this.map[i][0];a.push(t.slice()),t.length=0;let s=a.pop();for(;s;){for(const o of s)t.push(o);s=a.pop()}this.map.length=0}}function TU(e,t,i,a){let s=0;if(!(i===0&&a.length===0)){for(;s<e.map.length;){if(e.map[s][0]===t){e.map[s][1]+=i,e.map[s][2].push(...a);return}s+=1}e.map.push([t,i,a])}}function AU(e,t){let i=!1;const a=[];for(;t<e.length;){const s=e[t];if(i){if(s[0]==="enter")s[1].type==="tableContent"&&a.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(s[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=a.length-1;a[o]=a[o]==="left"?"center":"right"}}else if(s[1].type==="tableDelimiterRow")break}else s[0]==="enter"&&s[1].type==="tableDelimiterRow"&&(i=!0);t+=1}return a}function EU(){return{flow:{null:{name:"table",tokenize:MU,resolveAll:LU}}}}function MU(e,t,i){const a=this;let s=0,o=0,u;return d;function d(L){let B=a.events.length-1;for(;B>-1;){const ee=a.events[B][1].type;if(ee==="lineEnding"||ee==="linePrefix")B--;else break}const G=B>-1?a.events[B][1].type:null,Y=G==="tableHead"||G==="tableRow"?E:h;return Y===E&&a.parser.lazy[a.now().line]?i(L):Y(L)}function h(L){return e.enter("tableHead"),e.enter("tableRow"),m(L)}function m(L){return L===124||(u=!0,o+=1),g(L)}function g(L){return L===null?i(L):xe(L)?o>1?(o=0,a.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),v):i(L):ze(L)?Ne(e,g,"whitespace")(L):(o+=1,u&&(u=!1,s+=1),L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),u=!0,g):(e.enter("data"),p(L)))}function p(L){return L===null||L===124||Qe(L)?(e.exit("data"),g(L)):(e.consume(L),L===92?x:p)}function x(L){return L===92||L===124?(e.consume(L),p):p(L)}function v(L){return a.interrupt=!1,a.parser.lazy[a.now().line]?i(L):(e.enter("tableDelimiterRow"),u=!1,ze(L)?Ne(e,w,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):w(L))}function w(L){return L===45||L===58?C(L):L===124?(u=!0,e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),S):A(L)}function S(L){return ze(L)?Ne(e,C,"whitespace")(L):C(L)}function C(L){return L===58?(o+=1,u=!0,e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),j):L===45?(o+=1,j(L)):L===null||xe(L)?D(L):A(L)}function j(L){return L===45?(e.enter("tableDelimiterFiller"),M(L)):A(L)}function M(L){return L===45?(e.consume(L),M):L===58?(u=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(L),e.exit("tableDelimiterMarker"),T):(e.exit("tableDelimiterFiller"),T(L))}function T(L){return ze(L)?Ne(e,D,"whitespace")(L):D(L)}function D(L){return L===124?w(L):L===null||xe(L)?!u||s!==o?A(L):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(L)):A(L)}function A(L){return i(L)}function E(L){return e.enter("tableRow"),z(L)}function z(L){return L===124?(e.enter("tableCellDivider"),e.consume(L),e.exit("tableCellDivider"),z):L===null||xe(L)?(e.exit("tableRow"),t(L)):ze(L)?Ne(e,z,"whitespace")(L):(e.enter("data"),N(L))}function N(L){return L===null||L===124||Qe(L)?(e.exit("data"),z(L)):(e.consume(L),L===92?P:N)}function P(L){return L===92||L===124?(e.consume(L),N):N(L)}}function LU(e,t){let i=-1,a=!0,s=0,o=[0,0,0,0],u=[0,0,0,0],d=!1,h=0,m,g,p;const x=new CU;for(;++i<e.length;){const v=e[i],w=v[1];v[0]==="enter"?w.type==="tableHead"?(d=!1,h!==0&&(B1(x,t,h,m,g),g=void 0,h=0),m={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},x.add(i,0,[["enter",m,t]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(a=!0,p=void 0,o=[0,0,0,0],u=[0,i+1,0,0],d&&(d=!1,g={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},x.add(i,0,[["enter",g,t]])),s=w.type==="tableDelimiterRow"?2:g?3:1):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(a=!1,u[2]===0&&(o[1]!==0&&(u[0]=u[1],p=Ou(x,t,o,s,void 0,p),o=[0,0,0,0]),u[2]=i)):w.type==="tableCellDivider"&&(a?a=!1:(o[1]!==0&&(u[0]=u[1],p=Ou(x,t,o,s,void 0,p)),o=u,u=[o[1],i,0,0])):w.type==="tableHead"?(d=!0,h=i):w.type==="tableRow"||w.type==="tableDelimiterRow"?(h=i,o[1]!==0?(u[0]=u[1],p=Ou(x,t,o,s,i,p)):u[1]!==0&&(p=Ou(x,t,u,s,i,p)),s=0):s&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(u[3]=i)}for(h!==0&&B1(x,t,h,m,g),x.consume(t.events),i=-1;++i<t.events.length;){const v=t.events[i];v[0]==="enter"&&v[1].type==="table"&&(v[1]._align=AU(t.events,i))}return e}function Ou(e,t,i,a,s,o){const u=a===1?"tableHeader":a===2?"tableDelimiter":"tableData",d="tableContent";i[0]!==0&&(o.end=Object.assign({},$a(t.events,i[0])),e.add(i[0],0,[["exit",o,t]]));const h=$a(t.events,i[1]);if(o={type:u,start:Object.assign({},h),end:Object.assign({},h)},e.add(i[1],0,[["enter",o,t]]),i[2]!==0){const m=$a(t.events,i[2]),g=$a(t.events,i[3]),p={type:d,start:Object.assign({},m),end:Object.assign({},g)};if(e.add(i[2],0,[["enter",p,t]]),a!==2){const x=t.events[i[2]],v=t.events[i[3]];if(x[1].end=Object.assign({},v[1].end),x[1].type="chunkText",x[1].contentType="text",i[3]>i[2]+1){const w=i[2]+1,S=i[3]-i[2]-1;e.add(w,S,[])}}e.add(i[3]+1,0,[["exit",p,t]])}return s!==void 0&&(o.end=Object.assign({},$a(t.events,s)),e.add(s,0,[["exit",o,t]]),o=void 0),o}function B1(e,t,i,a,s){const o=[],u=$a(t.events,i);s&&(s.end=Object.assign({},u),o.push(["exit",s,t])),a.end=Object.assign({},u),o.push(["exit",a,t]),e.add(i+1,0,o)}function $a(e,t){const i=e[t],a=i[0]==="enter"?"start":"end";return i[1][a]}const RU={name:"tasklistCheck",tokenize:zU};function DU(){return{text:{91:RU}}}function zU(e,t,i){const a=this;return s;function s(h){return a.previous!==null||!a._gfmTasklistFirstContentOfListItem?i(h):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),o)}function o(h){return Qe(h)?(e.enter("taskListCheckValueUnchecked"),e.consume(h),e.exit("taskListCheckValueUnchecked"),u):h===88||h===120?(e.enter("taskListCheckValueChecked"),e.consume(h),e.exit("taskListCheckValueChecked"),u):i(h)}function u(h){return h===93?(e.enter("taskListCheckMarker"),e.consume(h),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),d):i(h)}function d(h){return xe(h)?t(h):ze(h)?e.check({tokenize:OU},t,i)(h):i(h)}}function OU(e,t,i){return Ne(e,a,"whitespace");function a(s){return s===null?i(s):t(s)}}function NU(e){return mj([lU(),yU(),kU(e),EU(),DU()])}const BU={};function PU(e){const t=this,i=e||BU,a=t.data(),s=a.micromarkExtensions||(a.micromarkExtensions=[]),o=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),u=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);s.push(NU(i)),o.push(iU()),u.push(rU(i))}const P1=6e4;function IU(e){return typeof e=="object"&&e!==null&&"base64String"in e&&"format"in e&&typeof e.base64String=="string"&&typeof e.format=="string"}function UU({message:e,isOwnMessage:t,isTransparent:i,currentGameBoardSize:a=40,room:s}){const{t:o,i18n:u}=ce(),[d,h]=_.useState(!1),[m,g]=_.useState(null),p=_.useCallback(()=>{h(!1)},[]),x=_.useCallback(ee=>{g(ee.currentTarget)},[]),v=_.useCallback(()=>{g(null)},[]),{id:w,displayName:S,text:C,uid:j,timestamp:M,type:T}=e;let D,A,E;if(T==="settings"||T==="room"){const ee=e;D=ee.boardSize,A=ee.gameBoardId}T==="media"&&(E=e.image);const z=T==="settings"&&D===a,N=_.useMemo(()=>{const ee=ss(M);if(!ee)return"";const le=new Date(Math.floor(ee.getTime()/P1)*P1),V=u.resolvedLanguage||u.language,X=sR(le,V);let te=X.fromNow();return Math.abs(X.diff(fr(),"seconds"))<30&&(te=X.subtract(1,"minute").fromNow()),te},[M,u.language,u.resolvedLanguage]),P=_.useMemo(()=>T!=="media"?!1:IU(E)?`data:image/${E.format};base64,${E.base64String}`:typeof E=="string"&&E?E:typeof C=="string"&&C&&C.startsWith("http")?C:!1,[T,E,C]),L=_.useMemo(()=>T==="actions"||!C||C.trim()===""?null:c.jsx(k5,{remarkPlugins:[PU,z5],children:C}),[C,T]),B=_.useMemo(()=>oN(T,C,o),[T,C,o]),G=T==="settings"||T==="room",Y=_.useMemo(()=>G?uN(S,B):!1,[G,S,B]);return G?c.jsxs("li",{className:Vl("message","system-message",i&&"transparent",Y&&"full-width"),"data-testid":`message-${w}`,children:[c.jsxs(H,{component:"div",sx:{display:"flex",alignItems:"center",gap:.5},children:[c.jsx(H,{component:"span",sx:{display:"flex",alignItems:"center",color:"text.secondary"},children:T==="settings"?c.jsx(_c,{fontSize:"small"}):c.jsx(u2,{fontSize:"small"})}),c.jsxs(H,{sx:{flex:1,minWidth:0,ml:.5},children:[c.jsxs(q,{variant:"body2",component:"span",sx:{lineHeight:1.2},children:[c.jsx("strong",{children:S})," ",B]}),c.jsx(q,{variant:"caption",sx:{display:"block",opacity:.7,fontSize:"0.65rem",mt:.25},children:N})]}),c.jsx(We,{size:"small",onClick:x,"aria-label":"View details","data-testid":`details-button-${w}`,children:c.jsx(c2,{fontSize:"small"})})]}),c.jsx(rw,{open:!!m,anchorEl:m,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},"data-testid":`details-popover-${w}`,children:c.jsxs(H,{className:"system-details-popover",children:[c.jsx("div",{className:"system-details-content",children:L}),T==="settings"&&c.jsx(H,{className:"system-action-buttons",children:z?c.jsxs(H,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,children:[c.jsx(fe,{component:hA,to:`?importBoard=${A}`,variant:"contained",size:"small",color:"primary",children:c.jsx(K,{i18nKey:"importBoard"})}),c.jsx($l,{text:`${window.location.href}?importBoard=${A}`,copiedText:o("copiedLink"),icon:c.jsx(ic,{})})]}):c.jsx(q,{variant:"body2",color:"text.secondary",children:c.jsx(K,{i18nKey:"incompatibleBoard"})})}),T==="room"&&c.jsx(H,{className:"system-action-buttons",children:c.jsxs(H,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:1,children:[c.jsxs(q,{variant:"body2",children:[o("room"),": ",c.jsx("strong",{children:s})]}),c.jsx($l,{text:window.location.href,copiedText:o("copiedLink"),icon:c.jsx(ic,{})})]})})]})})]}):c.jsxs("li",{className:Vl("message",t&&"own-message",i&&"transparent"),"data-testid":`message-${w}`,children:[c.jsxs("div",{className:"message-header",children:[c.jsxs("div",{className:"sender",children:[c.jsx(op,{uid:j,displayName:S,size:"small"}),c.jsx("span",{className:"sender-name",children:S}),c.jsx(at,{label:N,size:"small",variant:"outlined",className:"timestamp-chip"})]}),c.jsx("div",{className:"message-actions",children:!!t&&["media","chat"].includes(T)&&w&&c.jsx(mN,{room:s,id:w})})]}),c.jsxs("div",{className:"message-message",children:[T==="actions"?c.jsx(hN,{text:C}):L,!!P&&c.jsx("img",{src:P,alt:"uploaded by user"}),C.includes(o("finish"))&&t&&c.jsxs(H,{textAlign:"center",className:"message-action-box",children:[c.jsx(fe,{onClick:()=>h(!0),variant:"outlined",size:"small",children:c.jsx(q,{children:o("playAgain")})}),c.jsx(bS,{isOpen:d,close:p})]})]})]})}function VU({count:e=3}){return c.jsx(c.Fragment,{children:Array.from({length:e},(t,i)=>c.jsxs("li",{style:{padding:"16px",listStyle:"none"},children:[c.jsxs(H,{display:"flex",alignItems:"center",gap:1,mb:1,children:[c.jsx(pl,{variant:"circular",width:32,height:32}),c.jsx(pl,{variant:"text",width:120,height:20}),c.jsx(H,{flexGrow:1}),c.jsx(pl,{variant:"text",width:80,height:16})]}),c.jsx(xt,{sx:{mb:1}}),c.jsxs(H,{ml:5,children:[c.jsx(pl,{variant:"text",width:"90%",height:20}),c.jsx(pl,{variant:"text",width:"70%",height:20})]})]},`skeleton-${i}`))})}function GU({room:e,isTransparent:t,currentGameBoardSize:i=40}){const a=_.useRef(null),{user:s}=En(),{messages:o,isLoading:u}=Zr();aN(s,o,u);const[d,h]=_.useState(0),[m,g]=_.useState(null),{t:p}=ce(),x=_.useMemo(()=>o.filter(M=>d===1?["settings","room"].includes(M.type):d===2?["chat","media"].includes(M.type):d===3?M.type==="actions":!0),[o,d]),v=_.useRef(null);_.useEffect(()=>{const M=o[o.length-1],T=(M==null?void 0:M.id)||null;if(T&&T!==v.current&&(v.current=T,a.current)){const D=()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)};D(),requestAnimationFrame(D),setTimeout(D,10)}},[o.length,o]);const w=_.useCallback(M=>{g(M.currentTarget)},[]),S=_.useCallback(()=>{g(null)},[]),C=_.useCallback(M=>{h(M),g(null)},[]),j=[{label:p("all"),value:0},{label:p("setting"),value:1},{label:p("chat"),value:2},{label:p("actions"),value:3}];return c.jsxs("div",{className:"message-list-container",children:[c.jsx("div",{className:"message-list-scroll transparent-scrollbar",ref:a,children:c.jsx("div",{className:"message-list-scroll-content",children:c.jsx("ul",{className:"message-list",children:u&&x.length===0?c.jsx(VU,{count:5}):x.map(M=>{const T=M.uid===s.uid;return c.jsx(UU,{message:M,isOwnMessage:T,isTransparent:t,currentGameBoardSize:i,room:e},M.id)})})})}),c.jsx("div",{className:"message-filter-header",children:c.jsx(iw,{size:"medium",color:"primary","aria-label":"filter messages",onClick:w,className:"message-filter-fab",sx:{transform:"scale(0.8)"},children:c.jsx(d2,{})})}),c.jsx(Zu,{anchorEl:m,open:!!m,onClose:S,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},slotProps:{paper:{style:{maxHeight:"200px",minWidth:"120px"}}},children:j.map(M=>c.jsxs(pe,{onClick:()=>C(M.value),selected:d===M.value,children:[c.jsx(Wn,{children:d===M.value&&c.jsx(f2,{})}),c.jsx(cn,{primary:M.label})]},M.value))})]})}function FU({title:e,description:t,players:i,current:a,isTransparent:s,className:o}){const u=_.useMemo(()=>i.map(m=>c.jsx(op,{displayName:m.displayName||"",uid:m.uid||""},m.uid)),[i]),d=_.useRef(null);_.useEffect(()=>{d.current&&a&&d.current.scrollIntoView({behavior:"smooth"})},[a]);const h=[a&&"pulse-animation",s&&"gray-tiles",o].join(" ").trim();return c.jsxs("li",{className:h,ref:d,children:[c.jsxs("div",{className:"tile-title-row",children:[c.jsx("div",{className:`tile-title ${s&&"pop-text"}`,children:e}),c.jsx("div",{className:"player-indicator",children:c.jsx(mA,{max:4,children:u})})]}),c.jsx(xt,{sx:{margin:"0.5rem 0"}}),c.jsx("div",{className:`tile-description ${s&&"pop-text"}`,children:t})]})}function qU({playerList:e,isTransparent:t,gameBoard:i,settings:a}){const{user:s}=En();if(!Array.isArray(i)||!i.length)return null;const o=[];e&&Array.isArray(e)&&e.forEach(m=>{lm(m)&&o.push({id:m.localId,name:m.displayName,role:m.role,order:m.order,isActive:m.isSelf,deviceId:"local-device",location:m.location,isFinished:m.isFinished})});const u=new Set;i.forEach(({title:h},m)=>{h&&m!==0&&m!==i.length-1&&u.add(h)});const d=i.map((h,m)=>{const g=e.filter(S=>S.location===m),p=e.find(S=>S.isSelf&&S.location===m&&m!==0)||null,x=Array.from(u).indexOf(h.title)%10+1,v=!a.hideBoardActions||m===0||p?J_(h.description||"",a.role||"sub",(s==null?void 0:s.displayName)||"",o.length>0?o:void 0,!0):(h.description||"").replace(/[^\w\s]/g,"").replace(/[a-zA-Z0-9]/g,"?"),w={title:h.title,description:h.description,players:g.map(S=>({...S,isSelf:S.isSelf||!1,isFinished:!1})),current:p?{...p,isSelf:p.isSelf||!1,isFinished:!1}:null,isTransparent:t,className:`hue${x}`};return c.jsx(FU,{title:`#${m+1}: ${h.title}`,description:v,players:w.players,current:w.current,isTransparent:w.isTransparent,className:w.className},m)});return c.jsx("div",{className:"gameboard transparent-scrollbar",children:c.jsx("ol",{children:d})})}function HU(){var e,t;const i=tn(),a=i.id||"",s=mn(),{t:o}=ce(),[u,d]=pn();JO(a);const[h,m]=_.useState({value:0,time:0}),{localPlayers:g,sessionSettings:p,currentPlayerIndex:x}=fs(),[v,w]=_.useState(!1),[S,C]=_.useState(""),j=_.useRef(x),M=(e=Li(kc))==null?void 0:e.tiles,T=_.useCallback(Be=>{m({value:Be,time:Date.now()})},[]);_.useEffect(()=>{if(!g.length||!p)return;const Be=x!=null?x:0,je=j.current;if(Be!==je&&je!==void 0){const lt=g[Be];if(lt&&(p.showTurnTransitions&&(C(lt.name),w(!0)),p.enableTurnSounds&&lt.sound)){const bt=iS(lt.sound);bt&&nS(bt).catch(Dt=>{console.warn("Failed to play turn sound:",Dt)})}}j.current=Be},[x,g,p]);const D=_.useCallback(()=>{w(!1)},[]),{playerList:A,tile:E}=QO(a,h,M),z=fS(),{roller:N}=tN(a,M),[P,L,B]=nN(u,d);if((!M||!M.length||!Object.keys(u).length||nt(a)&&!Qt(u.gameMode))&&!B)return c.jsxs(c.Fragment,{children:[c.jsx(Pu,{room:i.id,playerList:A}),c.jsx(dS,{open:!0})]});if(B)return c.jsxs(c.Fragment,{children:[c.jsx(Pu,{room:i.id,playerList:A}),c.jsx(H,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh",children:c.jsx(hn,{size:48})})]});const{isVideo:G,url:Y}=vL(u,a),ee=G?"video-adjust":"",V=Y&&(G||!G&&Y)?"":"default-room-background",{background:X,roomBackground:te}=u,O=X==="useRoomBackground"?te||null:X||null,me=O!=="color",be=!!(O&&!["color","gray"].includes(O)),I=c.jsx(qU,{playerList:z,isTransparent:me,gameBoard:M||[],settings:u}),Te=c.jsxs("div",{className:"messages-container",children:[c.jsx(GU,{room:a,isTransparent:be,currentGameBoardSize:(M==null?void 0:M.length)||0}),c.jsx(PL,{room:a,isTransparent:be})]});return c.jsxs(c.Fragment,{children:[c.jsx(Pu,{room:a,playerList:z}),c.jsx($O,{setRollValue:T,dice:N,isEndOfBoard:(E==null?void 0:E.index)!==void 0&&E.index>=((t=M==null?void 0:M.length)!=null?t:0)-1}),c.jsx(om,{isVideo:G,url:Y}),c.jsx(KO,{playerName:S,show:v,onComplete:D,duration:2e3}),s?c.jsx(iN,{tab1:I,tab2:Te}):c.jsxs(H,{className:Vl("desktop-container",ee,V),children:[I,Te]}),c.jsx(oR,{}),c.jsx(pr,{type:P===o("updated")?"success":"error",open:!!P,close:L,children:P})]})}function I1({children:e}){const{id:t}=tn(),i=tw(),a=xA();return _.useEffect(()=>{if(t&&t!==t.toUpperCase()){const s=a.pathname.replace(t,t.toUpperCase());i(s+a.search+a.hash,{replace:!0})}},[t,i,a]),c.jsx(c.Fragment,{children:e})}function $U(){const e=_.useContext(lo);if(_.useEffect(()=>(e&&(window.authContext=e),()=>{window.authContext=null}),[e]),!e||e.initializing)return c.jsx(Jm,{});const t=e.user?c.jsx(HU,{}):c.jsx(HM,{});return c.jsxs(gA,{children:[c.jsx(Jf,{path:"/",element:c.jsx(yA,{replace:!0,to:"/PUBLIC"})}),c.jsx(Jf,{path:"/:id/cast",element:c.jsx(I1,{children:c.jsx(uv,{children:c.jsx(lv,{children:c.jsx(kL,{})})})})}),c.jsx(Jf,{path:"/:id",element:c.jsx(I1,{children:c.jsx(uv,{children:c.jsx(lv,{children:t})})})})]})}function KU(){return c.jsx(pA,{children:c.jsx($U,{})})}function YU(){const e=_.useContext(lo);return!e||e.initializing?c.jsx(Jm,{}):c.jsx(OT,{children:c.jsx(KU,{})})}function XU(){return c.jsx(C2,{children:c.jsx(YU,{})})}function WU(){const{initializing:e}=h2();return e?c.jsx(Jm,{}):c.jsx(XU,{})}var Vh={exports:{}},wl={},Gh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1;function QU(){return U1||(U1=1,function(e){function t(V,X){var te=V.length;V.push(X);e:for(;0<te;){var ne=te-1>>>1,O=V[ne];if(0<s(O,X))V[ne]=X,V[te]=O,te=ne;else break e}}function i(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var X=V[0],te=V.pop();if(te!==X){V[0]=te;e:for(var ne=0,O=V.length,me=O>>>1;ne<me;){var be=2*(ne+1)-1,I=V[be],Te=be+1,Be=V[Te];if(0>s(I,te))Te<O&&0>s(Be,I)?(V[ne]=Be,V[Te]=te,ne=Te):(V[ne]=I,V[be]=te,ne=be);else if(Te<O&&0>s(Be,te))V[ne]=Be,V[Te]=te,ne=Te;else break e}}return X}function s(V,X){var te=V.sortIndex-X.sortIndex;return te!==0?te:V.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,p=null,x=3,v=!1,w=!1,S=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate!="undefined"?setImmediate:null;function D(V){for(var X=i(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=V)a(m),X.sortIndex=X.expirationTime,t(h,X);else break;X=i(m)}}function A(V){if(S=!1,D(V),!w)if(i(h)!==null)w=!0,E||(E=!0,G());else{var X=i(m);X!==null&&le(A,X.startTime-V)}}var E=!1,z=-1,N=5,P=-1;function L(){return C?!0:!(e.unstable_now()-P<N)}function B(){if(C=!1,E){var V=e.unstable_now();P=V;var X=!0;try{e:{w=!1,S&&(S=!1,M(z),z=-1),v=!0;var te=x;try{t:{for(D(V),p=i(h);p!==null&&!(p.expirationTime>V&&L());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,x=p.priorityLevel;var O=ne(p.expirationTime<=V);if(V=e.unstable_now(),typeof O=="function"){p.callback=O,D(V),X=!0;break t}p===i(h)&&a(h),D(V)}else a(h);p=i(h)}if(p!==null)X=!0;else{var me=i(m);me!==null&&le(A,me.startTime-V),X=!1}}break e}finally{p=null,x=te,v=!1}X=void 0}}finally{X?G():E=!1}}}var G;if(typeof T=="function")G=function(){T(B)};else if(typeof MessageChannel!="undefined"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=B,G=function(){ee.postMessage(null)}}else G=function(){j(B,0)};function le(V,X){z=j(function(){V(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(V){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var te=x;x=X;try{return V()}finally{x=te}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=x;x=V;try{return X()}finally{x=te}},e.unstable_scheduleCallback=function(V,X,te){var ne=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ne+te:ne):te=ne,V){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=te+O,V={id:g++,callback:X,priorityLevel:V,startTime:te,expirationTime:O,sortIndex:-1},te>ne?(V.sortIndex=te,t(m,V),i(h)===null&&V===i(m)&&(S?(M(z),z=-1):S=!0,le(A,te-ne))):(V.sortIndex=O,t(h,V),w||v||(w=!0,E||(E=!0,G()))),V},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(V){var X=x;return function(){var te=x;x=X;try{return V.apply(this,arguments)}finally{x=te}}}}(Fh)),Fh}var V1;function ZU(){return V1||(V1=1,Gh.exports=QU()),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function JU(){if(G1)return wl;G1=1;var e=ZU(),t=bA(),i=vA();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function u(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(o(n)!==n)throw Error(a(188))}function h(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(a(188));return r!==n?null:n}for(var l=n,f=r;;){var y=l.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){l=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===l)return d(y),n;if(b===f)return d(y),r;b=b.sibling}throw Error(a(188))}if(l.return!==f.return)l=y,f=b;else{for(var k=!1,R=y.child;R;){if(R===l){k=!0,l=y,f=b;break}if(R===f){k=!0,f=y,l=b;break}R=R.sibling}if(!k){for(R=b.child;R;){if(R===l){k=!0,l=b,f=y;break}if(R===f){k=!0,f=b,l=y;break}R=R.sibling}if(!k)throw Error(a(189))}}if(l.alternate!==f)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:r}function m(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=m(n),r!==null)return r;n=n.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Symbol.for("react.client.reference");function ee(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Y?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case E:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case v:return"Portal";case T:return(n.displayName||"Context")+".Provider";case M:return(n._context.displayName||"Context")+".Consumer";case D:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:ee(n.type)||"Memo";case N:r=n._payload,n=n._init;try{return ee(n(r))}catch(l){}}return null}var le=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ne=[],O=-1;function me(n){return{current:n}}function be(n){0>O||(n.current=ne[O],ne[O]=null,O--)}function I(n,r){O++,ne[O]=n.current,n.current=r}var Te=me(null),Be=me(null),je=me(null),lt=me(null);function bt(n,r){switch(I(je,r),I(Be,n),I(Te,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Ab(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Ab(r),n=Eb(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}be(Te),I(Te,n)}function Dt(){be(Te),be(Be),be(je)}function yn(n){n.memoizedState!==null&&I(lt,n);var r=Te.current,l=Eb(r,n.type);r!==l&&(I(Be,n),I(Te,l))}function de(n){Be.current===n&&(be(Te),be(Be)),lt.current===n&&(be(lt),cl._currentValue=te)}var Se=Object.prototype.hasOwnProperty,Ve=e.unstable_scheduleCallback,ct=e.unstable_cancelCallback,ea=e.unstable_shouldYield,ta=e.unstable_requestPaint,Xt=e.unstable_now,Bc=e.unstable_getCurrentPriorityLevel,xs=e.unstable_ImmediatePriority,bs=e.unstable_UserBlockingPriority,na=e.unstable_NormalPriority,Pc=e.unstable_LowPriority,go=e.unstable_IdlePriority,Ic=e.log,Uc=e.unstable_setDisableYieldValue,ie=null,oe=null;function ye(n){if(typeof Ic=="function"&&Uc(n),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(ie,n)}catch(r){}}var _e=Math.clz32?Math.clz32:mi,Ge=Math.log,xn=Math.LN2;function mi(n){return n>>>=0,n===0?32:31-(Ge(n)/xn|0)|0}var nn=256,Jn=4194304;function bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function At(n,r,l){var f=n.pendingLanes;if(f===0)return 0;var y=0,b=n.suspendedLanes,k=n.pingedLanes;n=n.warmLanes;var R=f&134217727;return R!==0?(f=R&~b,f!==0?y=bn(f):(k&=R,k!==0?y=bn(k):l||(l=R&~n,l!==0&&(y=bn(l))))):(R=f&~b,R!==0?y=bn(R):k!==0?y=bn(k):l||(l=f&~n,l!==0&&(y=bn(l)))),y===0?0:r!==0&&r!==y&&(r&b)===0&&(b=y&-y,l=r&-r,b>=l||b===32&&(l&4194048)!==0)?r:y}function Mn(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function qn(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(){var n=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),n}function fg(){var n=Jn;return Jn<<=1,(Jn&62914560)===0&&(Jn=4194304),n}function Vc(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function vs(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ak(n,r,l,f,y,b){var k=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var R=n.entanglements,U=n.expirationTimes,Q=n.hiddenUpdates;for(l=k&~l;0<l;){var re=31-_e(l),se=1<<re;R[re]=0,U[re]=-1;var Z=Q[re];if(Z!==null)for(Q[re]=null,re=0;re<Z.length;re++){var J=Z[re];J!==null&&(J.lane&=-536870913)}l&=~se}f!==0&&hg(n,f,0),b!==0&&y===0&&n.tag!==0&&(n.suspendedLanes|=b&~(k&~r))}function hg(n,r,l){n.pendingLanes|=r,n.suspendedLanes&=~r;var f=31-_e(r);n.entangledLanes|=r,n.entanglements[f]=n.entanglements[f]|1073741824|l&4194090}function mg(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var f=31-_e(l),y=1<<f;y&r|n[f]&r&&(n[f]|=r),l&=~y}}function Gc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function pg(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:Yb(n.type))}function sk(n,r){var l=X.p;try{return X.p=n,r()}finally{X.p=l}}var Bi=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Bi,rn="__reactProps$"+Bi,ia="__reactContainer$"+Bi,qc="__reactEvents$"+Bi,lk="__reactListeners$"+Bi,ok="__reactHandles$"+Bi,gg="__reactResources$"+Bi,ws="__reactMarker$"+Bi;function Hc(n){delete n[Gt],delete n[rn],delete n[qc],delete n[lk],delete n[ok]}function ra(n){var r=n[Gt];if(r)return r;for(var l=n.parentNode;l;){if(r=l[ia]||l[Gt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=Db(n);n!==null;){if(l=n[Gt])return l;n=Db(n)}return r}n=l,l=n.parentNode}return null}function aa(n){if(n=n[Gt]||n[ia]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Ss(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function sa(n){var r=n[gg];return r||(r=n[gg]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Et(n){n[ws]=!0}var yg=new Set,xg={};function xr(n,r){la(n,r),la(n+"Capture",r)}function la(n,r){for(xg[n]=r,n=0;n<r.length;n++)yg.add(r[n])}var uk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bg={},vg={};function ck(n){return Se.call(vg,n)?!0:Se.call(bg,n)?!1:uk.test(n)?vg[n]=!0:(bg[n]=!0,!1)}function yo(n,r,l){if(ck(r))if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+l)}}function xo(n,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+l)}}function pi(n,r,l,f){if(f===null)n.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(r,l,""+f)}}var $c,wg;function oa(n){if($c===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);$c=r&&r[1]||"",wg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$c+n+wg}var Kc=!1;function Yc(n,r){if(!n||Kc)return"";Kc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(J){var Z=J}Reflect.construct(n,[],se)}else{try{se.call()}catch(J){Z=J}n.call(se.prototype)}}else{try{throw Error()}catch(J){Z=J}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),k=b[0],R=b[1];if(k&&R){var U=k.split(`
`),Q=R.split(`
`);for(y=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;if(f===U.length||y===Q.length)for(f=U.length-1,y=Q.length-1;1<=f&&0<=y&&U[f]!==Q[y];)y--;for(;1<=f&&0<=y;f--,y--)if(U[f]!==Q[y]){if(f!==1||y!==1)do if(f--,y--,0>y||U[f]!==Q[y]){var re=`
`+U[f].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=f&&0<=y);break}}}finally{Kc=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?oa(l):""}function dk(n){switch(n.tag){case 26:case 27:case 5:return oa(n.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return Yc(n.type,!1);case 11:return Yc(n.type.render,!1);case 1:return Yc(n.type,!0);case 31:return oa("Activity");default:return""}}function Sg(n){try{var r="";do r+=dk(n),n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ln(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function _g(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fk(n){var r=_g(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),f=""+n[r];if(!n.hasOwnProperty(r)&&typeof l!="undefined"&&typeof l.get=="function"&&typeof l.set=="function"){var y=l.get,b=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return y.call(this)},set:function(k){f=""+k,b.call(this,k)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function bo(n){n._valueTracker||(n._valueTracker=fk(n))}function jg(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),f="";return n&&(f=_g(n)?n.checked?"true":"false":n.value),n=f,n!==l?(r.setValue(n),!0):!1}function vo(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch(r){return n.body}}var hk=/[\n"\\]/g;function Rn(n){return n.replace(hk,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Xc(n,r,l,f,y,b,k,R){n.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.type=k:n.removeAttribute("type"),r!=null?k==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ln(r)):n.value!==""+Ln(r)&&(n.value=""+Ln(r)):k!=="submit"&&k!=="reset"||n.removeAttribute("value"),r!=null?Wc(n,k,Ln(r)):l!=null?Wc(n,k,Ln(l)):f!=null&&n.removeAttribute("value"),y==null&&b!=null&&(n.defaultChecked=!!b),y!=null&&(n.checked=y&&typeof y!="function"&&typeof y!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+Ln(R):n.removeAttribute("name")}function kg(n,r,l,f,y,b,k,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),r!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||r!=null))return;l=l!=null?""+Ln(l):"",r=r!=null?""+Ln(r):l,R||r===n.value||(n.value=r),n.defaultValue=r}f=f!=null?f:y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,n.checked=R?n.checked:!!f,n.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(n.name=k)}function Wc(n,r,l){r==="number"&&vo(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function ua(n,r,l,f){if(n=n.options,r){r={};for(var y=0;y<l.length;y++)r["$"+l[y]]=!0;for(l=0;l<n.length;l++)y=r.hasOwnProperty("$"+n[l].value),n[l].selected!==y&&(n[l].selected=y),y&&f&&(n[l].defaultSelected=!0)}else{for(l=""+Ln(l),r=null,y=0;y<n.length;y++){if(n[y].value===l){n[y].selected=!0,f&&(n[y].defaultSelected=!0);return}r!==null||n[y].disabled||(r=n[y])}r!==null&&(r.selected=!0)}}function Cg(n,r,l){if(r!=null&&(r=""+Ln(r),r!==n.value&&(n.value=r),l==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=l!=null?""+Ln(l):""}function Tg(n,r,l,f){if(r==null){if(f!=null){if(l!=null)throw Error(a(92));if(le(f)){if(1<f.length)throw Error(a(93));f=f[0]}l=f}l==null&&(l=""),r=l}l=Ln(r),n.defaultValue=l,f=n.textContent,f===l&&f!==""&&f!==null&&(n.value=f)}function ca(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var mk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ag(n,r,l){var f=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":f?n.setProperty(r,l):typeof l!="number"||l===0||mk.has(r)?r==="float"?n.cssFloat=l:n[r]=(""+l).trim():n[r]=l+"px"}function Eg(n,r,l){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?n.setProperty(f,""):f==="float"?n.cssFloat="":n[f]="");for(var y in r)f=r[y],r.hasOwnProperty(y)&&l[y]!==f&&Ag(n,y,f)}else for(var b in r)r.hasOwnProperty(b)&&Ag(n,b,r[b])}function Qc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(n){return gk.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Zc=null;function Jc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var da=null,fa=null;function Mg(n){var r=aa(n);if(r&&(n=r.stateNode)){var l=n[rn]||null;e:switch(n=r.stateNode,r.type){case"input":if(Xc(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var f=l[r];if(f!==n&&f.form===n.form){var y=f[rn]||null;if(!y)throw Error(a(90));Xc(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<l.length;r++)f=l[r],f.form===n.form&&jg(f)}break e;case"textarea":Cg(n,l.value,l.defaultValue);break e;case"select":r=l.value,r!=null&&ua(n,!!l.multiple,r,!1)}}}var ed=!1;function Lg(n,r,l){if(ed)return n(r,l);ed=!0;try{var f=n(r);return f}finally{if(ed=!1,(da!==null||fa!==null)&&(su(),da&&(r=da,n=fa,fa=da=null,Mg(r),n)))for(r=0;r<n.length;r++)Mg(n[r])}}function _s(n,r){var l=n.stateNode;if(l===null)return null;var f=l[rn]||null;if(f===null)return null;l=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(n=n.type,f=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!f;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var gi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),td=!1;if(gi)try{var js={};Object.defineProperty(js,"passive",{get:function(){td=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch(n){td=!1}var Pi=null,nd=null,So=null;function Rg(){if(So)return So;var n,r=nd,l=r.length,f,y="value"in Pi?Pi.value:Pi.textContent,b=y.length;for(n=0;n<l&&r[n]===y[n];n++);var k=l-n;for(f=1;f<=k&&r[l-f]===y[b-f];f++);return So=y.slice(n,1<f?1-f:void 0)}function _o(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function jo(){return!0}function Dg(){return!1}function an(n){function r(l,f,y,b,k){this._reactName=l,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(l=n[R],this[R]=l?l(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?jo:Dg,this.isPropagationStopped=Dg,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),r}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=an(br),ks=g({},br,{view:0,detail:0}),yk=an(ks),id,rd,Cs,Co=g({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Cs&&(Cs&&n.type==="mousemove"?(id=n.screenX-Cs.screenX,rd=n.screenY-Cs.screenY):rd=id=0,Cs=n),id)},movementY:function(n){return"movementY"in n?n.movementY:rd}}),zg=an(Co),xk=g({},Co,{dataTransfer:0}),bk=an(xk),vk=g({},ks,{relatedTarget:0}),ad=an(vk),wk=g({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),Sk=an(wk),_k=g({},br,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),jk=an(_k),kk=g({},br,{data:0}),Og=an(kk),Ck={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ak={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ek(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ak[n])?!!r[n]:!1}function sd(){return Ek}var Mk=g({},ks,{key:function(n){if(n.key){var r=Ck[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=_o(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Tk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(n){return n.type==="keypress"?_o(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_o(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Lk=an(Mk),Rk=g({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ng=an(Rk),Dk=g({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),zk=an(Dk),Ok=g({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nk=an(Ok),Bk=g({},Co,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pk=an(Bk),Ik=g({},br,{newState:0,oldState:0}),Uk=an(Ik),Vk=[9,13,27,32],ld=gi&&"CompositionEvent"in window,Ts=null;gi&&"documentMode"in document&&(Ts=document.documentMode);var Gk=gi&&"TextEvent"in window&&!Ts,Bg=gi&&(!ld||Ts&&8<Ts&&11>=Ts),Pg=" ",Ig=!1;function Ug(n,r){switch(n){case"keyup":return Vk.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ha=!1;function Fk(n,r){switch(n){case"compositionend":return Vg(r);case"keypress":return r.which!==32?null:(Ig=!0,Pg);case"textInput":return n=r.data,n===Pg&&Ig?null:n;default:return null}}function qk(n,r){if(ha)return n==="compositionend"||!ld&&Ug(n,r)?(n=Rg(),So=nd=Pi=null,ha=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bg&&r.locale!=="ko"?null:r.data;default:return null}}var Hk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Hk[n.type]:r==="textarea"}function Fg(n,r,l,f){da?fa?fa.push(f):fa=[f]:da=f,r=fu(r,"onChange"),0<r.length&&(l=new ko("onChange","change",null,l,f),n.push({event:l,listeners:r}))}var As=null,Es=null;function $k(n){_b(n,0)}function To(n){var r=Ss(n);if(jg(r))return n}function qg(n,r){if(n==="change")return r}var Hg=!1;if(gi){var od;if(gi){var ud="oninput"in document;if(!ud){var $g=document.createElement("div");$g.setAttribute("oninput","return;"),ud=typeof $g.oninput=="function"}od=ud}else od=!1;Hg=od&&(!document.documentMode||9<document.documentMode)}function Kg(){As&&(As.detachEvent("onpropertychange",Yg),Es=As=null)}function Yg(n){if(n.propertyName==="value"&&To(Es)){var r=[];Fg(r,Es,n,Jc(n)),Lg($k,r)}}function Kk(n,r,l){n==="focusin"?(Kg(),As=r,Es=l,As.attachEvent("onpropertychange",Yg)):n==="focusout"&&Kg()}function Yk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return To(Es)}function Xk(n,r){if(n==="click")return To(r)}function Wk(n,r){if(n==="input"||n==="change")return To(r)}function Qk(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var vn=typeof Object.is=="function"?Object.is:Qk;function Ms(n,r){if(vn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),f=Object.keys(r);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var y=l[f];if(!Se.call(r,y)||!vn(n[y],r[y]))return!1}return!0}function Xg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Wg(n,r){var l=Xg(n);n=0;for(var f;l;){if(l.nodeType===3){if(f=n+l.textContent.length,n<=r&&f>=r)return{node:l,offset:r-n};n=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Xg(l)}}function Qg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Qg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=vo(n.document);r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch(f){l=!1}if(l)n=r.contentWindow;else break;r=vo(n.document)}return r}function cd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Zk=gi&&"documentMode"in document&&11>=document.documentMode,ma=null,dd=null,Ls=null,fd=!1;function Jg(n,r,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fd||ma==null||ma!==vo(f)||(f=ma,"selectionStart"in f&&cd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ls&&Ms(Ls,f)||(Ls=f,f=fu(dd,"onSelect"),0<f.length&&(r=new ko("onSelect","select",null,r,l),n.push({event:r,listeners:f}),r.target=ma)))}function vr(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var pa={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},hd={},ey={};gi&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function wr(n){if(hd[n])return hd[n];if(!pa[n])return n;var r=pa[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in ey)return hd[n]=r[l];return n}var ty=wr("animationend"),ny=wr("animationiteration"),iy=wr("animationstart"),Jk=wr("transitionrun"),eC=wr("transitionstart"),tC=wr("transitioncancel"),ry=wr("transitionend"),ay=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function Hn(n,r){ay.set(n,r),xr(r,[n])}var sy=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var l=sy.get(n);return l!==void 0?l:(r={value:n,source:r,stack:Sg(r)},sy.set(n,r),r)}return{value:n,source:r,stack:Sg(r)}}var zn=[],ga=0,pd=0;function Ao(){for(var n=ga,r=pd=ga=0;r<n;){var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var y=zn[r];zn[r++]=null;var b=zn[r];if(zn[r++]=null,f!==null&&y!==null){var k=f.pending;k===null?y.next=y:(y.next=k.next,k.next=y),f.pending=y}b!==0&&ly(l,y,b)}}function Eo(n,r,l,f){zn[ga++]=n,zn[ga++]=r,zn[ga++]=l,zn[ga++]=f,pd|=f,n.lanes|=f,n=n.alternate,n!==null&&(n.lanes|=f)}function gd(n,r,l,f){return Eo(n,r,l,f),Mo(n)}function ya(n,r){return Eo(n,null,null,r),Mo(n)}function ly(n,r,l){n.lanes|=l;var f=n.alternate;f!==null&&(f.lanes|=l);for(var y=!1,b=n.return;b!==null;)b.childLanes|=l,f=b.alternate,f!==null&&(f.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(y=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,y&&r!==null&&(y=31-_e(l),n=b.hiddenUpdates,f=n[y],f===null?n[y]=[r]:f.push(r),r.lane=l|536870912),b):null}function Mo(n){if(50<nl)throw nl=0,_f=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var xa={};function nC(n,r,l,f){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,r,l,f){return new nC(n,r,l,f)}function yd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yi(n,r){var l=n.alternate;return l===null?(l=wn(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function oy(n,r){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,r=l.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Lo(n,r,l,f,y,b){var k=0;if(f=n,typeof n=="function")yd(n)&&(k=1);else if(typeof n=="string")k=rT(n,l,Te.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=wn(31,l,r,y),n.elementType=P,n.lanes=b,n;case w:return Sr(l.children,y,b,r);case S:k=8,y|=24;break;case C:return n=wn(12,l,r,y|2),n.elementType=C,n.lanes=b,n;case A:return n=wn(13,l,r,y),n.elementType=A,n.lanes=b,n;case E:return n=wn(19,l,r,y),n.elementType=E,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:case T:k=10;break e;case M:k=9;break e;case D:k=11;break e;case z:k=14;break e;case N:k=16,f=null;break e}k=29,l=Error(a(130,n===null?"null":typeof n,"")),f=null}return r=wn(k,l,r,y),r.elementType=n,r.type=f,r.lanes=b,r}function Sr(n,r,l,f){return n=wn(7,n,f,r),n.lanes=l,n}function xd(n,r,l){return n=wn(6,n,null,r),n.lanes=l,n}function bd(n,r,l){return r=wn(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ba=[],va=0,Ro=null,Do=0,On=[],Nn=0,_r=null,xi=1,bi="";function jr(n,r){ba[va++]=Do,ba[va++]=Ro,Ro=n,Do=r}function uy(n,r,l){On[Nn++]=xi,On[Nn++]=bi,On[Nn++]=_r,_r=n;var f=xi;n=bi;var y=32-_e(f)-1;f&=~(1<<y),l+=1;var b=32-_e(r)+y;if(30<b){var k=y-y%5;b=(f&(1<<k)-1).toString(32),f>>=k,y-=k,xi=1<<32-_e(r)+y|l<<y|f,bi=b+n}else xi=1<<b|l<<y|f,bi=n}function vd(n){n.return!==null&&(jr(n,1),uy(n,1,0))}function wd(n){for(;n===Ro;)Ro=ba[--va],ba[va]=null,Do=ba[--va],ba[va]=null;for(;n===_r;)_r=On[--Nn],On[Nn]=null,bi=On[--Nn],On[Nn]=null,xi=On[--Nn],On[Nn]=null}var Wt=null,dt=null,Ue=!1,kr=null,ei=!1,Sd=Error(a(519));function Cr(n){var r=Error(a(418,""));throw zs(Dn(r,n)),Sd}function cy(n){var r=n.stateNode,l=n.type,f=n.memoizedProps;switch(r[Gt]=n,r[rn]=f,l){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(l=0;l<rl.length;l++)De(rl[l],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),kg(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),bo(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),Tg(r,f.value,f.defaultValue,f.children),bo(r)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||f.suppressHydrationWarning===!0||Tb(r.textContent,l)?(f.popover!=null&&(De("beforetoggle",r),De("toggle",r)),f.onScroll!=null&&De("scroll",r),f.onScrollEnd!=null&&De("scrollend",r),f.onClick!=null&&(r.onclick=hu),r=!0):r=!1,r||Cr(n)}function dy(n){for(Wt=n.return;Wt;)switch(Wt.tag){case 5:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:Wt=Wt.return}}function Rs(n){if(n!==Wt)return!1;if(!Ue)return dy(n),Ue=!0,!1;var r=n.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||If(n.type,n.memoizedProps)),l=!l),l&&dt&&Cr(n),dy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(r===0){dt=Kn(n.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;n=n.nextSibling}dt=null}}else r===27?(r=dt,er(n.type)?(n=Ff,Ff=null,dt=n):dt=r):dt=Wt?Kn(n.stateNode.nextSibling):null;return!0}function Ds(){dt=Wt=null,Ue=!1}function fy(){var n=kr;return n!==null&&(on===null?on=n:on.push.apply(on,n),kr=null),n}function zs(n){kr===null?kr=[n]:kr.push(n)}var _d=me(null),Tr=null,vi=null;function Ii(n,r,l){I(_d,r._currentValue),r._currentValue=l}function wi(n){n._currentValue=_d.current,be(_d)}function jd(n,r,l){for(;n!==null;){var f=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),n===l)break;n=n.return}}function kd(n,r,l,f){var y=n.child;for(y!==null&&(y.return=n);y!==null;){var b=y.dependencies;if(b!==null){var k=y.child;b=b.firstContext;e:for(;b!==null;){var R=b;b=y;for(var U=0;U<r.length;U++)if(R.context===r[U]){b.lanes|=l,R=b.alternate,R!==null&&(R.lanes|=l),jd(b.return,l,n),f||(k=null);break e}b=R.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(a(341));k.lanes|=l,b=k.alternate,b!==null&&(b.lanes|=l),jd(k,l,n),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===n){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function Os(n,r,l,f){n=null;for(var y=r,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(a(387));if(k=k.memoizedProps,k!==null){var R=y.type;vn(y.pendingProps.value,k.value)||(n!==null?n.push(R):n=[R])}}else if(y===lt.current){if(k=y.alternate,k===null)throw Error(a(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(n!==null?n.push(cl):n=[cl])}y=y.return}n!==null&&kd(r,n,l,f),r.flags|=262144}function zo(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ar(n){Tr=n,vi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ft(n){return hy(Tr,n)}function Oo(n,r){return Tr===null&&Ar(n),hy(n,r)}function hy(n,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},vi===null){if(n===null)throw Error(a(308));vi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else vi=vi.next=r;return l}var iC=typeof AbortController!="undefined"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(l,f){n.push(f)}};this.abort=function(){r.aborted=!0,n.forEach(function(l){return l()})}},rC=e.unstable_scheduleCallback,aC=e.unstable_NormalPriority,kt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new iC,data:new Map,refCount:0}}function Ns(n){n.refCount--,n.refCount===0&&rC(aC,function(){n.controller.abort()})}var Bs=null,Td=0,wa=0,Sa=null;function sC(n,r){if(Bs===null){var l=Bs=[];Td=0,wa=Mf(),Sa={status:"pending",value:void 0,then:function(f){l.push(f)}}}return Td++,r.then(my,my),r}function my(){if(--Td===0&&Bs!==null){Sa!==null&&(Sa.status="fulfilled");var n=Bs;Bs=null,wa=0,Sa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function lC(n,r){var l=[],f={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return n.then(function(){f.status="fulfilled",f.value=r;for(var y=0;y<l.length;y++)(0,l[y])(r)},function(y){for(f.status="rejected",f.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),f}var py=V.S;V.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&sC(n,r),py!==null&&py(n,r)};var Er=me(null);function Ad(){var n=Er.current;return n!==null?n:Ze.pooledCache}function No(n,r){r===null?I(Er,Er.current):I(Er,r.pool)}function gy(){var n=Ad();return n===null?null:{parent:kt._currentValue,pool:n}}var Ps=Error(a(460)),yy=Error(a(474)),Bo=Error(a(542)),Ed={then:function(){}};function xy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Po(){}function by(n,r,l){switch(l=n[l],l===void 0?n.push(r):l!==r&&(r.then(Po,Po),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,wy(n),n;default:if(typeof r.status=="string")r.then(Po,Po);else{if(n=Ze,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(f){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=f}},function(f){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,wy(n),n}throw Is=r,Ps}}var Is=null;function vy(){if(Is===null)throw Error(a(459));var n=Is;return Is=null,n}function wy(n){if(n===Ps||n===Bo)throw Error(a(483))}var Ui=!1;function Md(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ld(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Gi(n,r,l){var f=n.updateQueue;if(f===null)return null;if(f=f.shared,(Fe&2)!==0){var y=f.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),f.pending=r,r=Mo(n),ly(n,null,l),r}return Eo(n,f,r,l),Mo(n)}function Us(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var f=r.lanes;f&=n.pendingLanes,l|=f,r.lanes=l,mg(n,l)}}function Rd(n,r){var l=n.updateQueue,f=n.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var y=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var k={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?y=b=k:b=b.next=k,l=l.next}while(l!==null);b===null?y=b=r:b=b.next=r}else y=b=r;l={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}var Dd=!1;function Vs(){if(Dd){var n=Sa;if(n!==null)throw n}}function Gs(n,r,l,f){Dd=!1;var y=n.updateQueue;Ui=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,R=y.shared.pending;if(R!==null){y.shared.pending=null;var U=R,Q=U.next;U.next=null,k===null?b=Q:k.next=Q,k=U;var re=n.alternate;re!==null&&(re=re.updateQueue,R=re.lastBaseUpdate,R!==k&&(R===null?re.firstBaseUpdate=Q:R.next=Q,re.lastBaseUpdate=U))}if(b!==null){var se=y.baseState;k=0,re=Q=U=null,R=b;do{var Z=R.lane&-536870913,J=Z!==R.lane;if(J?(Oe&Z)===Z:(f&Z)===Z){Z!==0&&Z===wa&&(Dd=!0),re!==null&&(re=re.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var ke=n,ve=R;Z=r;var Ye=l;switch(ve.tag){case 1:if(ke=ve.payload,typeof ke=="function"){se=ke.call(Ye,se,Z);break e}se=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=ve.payload,Z=typeof ke=="function"?ke.call(Ye,se,Z):ke,Z==null)break e;se=g({},se,Z);break e;case 2:Ui=!0}}Z=R.callback,Z!==null&&(n.flags|=64,J&&(n.flags|=8192),J=y.callbacks,J===null?y.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},re===null?(Q=re=J,U=se):re=re.next=J,k|=Z;if(R=R.next,R===null){if(R=y.shared.pending,R===null)break;J=R,R=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);re===null&&(U=se),y.baseState=U,y.firstBaseUpdate=Q,y.lastBaseUpdate=re,b===null&&(y.shared.lanes=0),Wi|=k,n.lanes=k,n.memoizedState=se}}function Sy(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function _y(n,r){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Sy(l[n],r)}var _a=me(null),Io=me(0);function jy(n,r){n=Ai,I(Io,n),I(_a,r),Ai=n|r.baseLanes}function zd(){I(Io,Ai),I(_a,_a.current)}function Od(){Ai=Io.current,be(_a),be(Io)}var Fi=0,Me=null,$e=null,vt=null,Uo=!1,ja=!1,Mr=!1,Vo=0,Fs=0,ka=null,oC=0;function mt(){throw Error(a(321))}function Nd(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!vn(n[l],r[l]))return!1;return!0}function Bd(n,r,l,f,y,b){return Fi=b,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=n===null||n.memoizedState===null?lx:ox,Mr=!1,b=l(f,y),Mr=!1,ja&&(b=Cy(r,l,f,y)),ky(n),b}function ky(n){V.H=Ko;var r=$e!==null&&$e.next!==null;if(Fi=0,vt=$e=Me=null,Uo=!1,Fs=0,ka=null,r)throw Error(a(300));n===null||Mt||(n=n.dependencies,n!==null&&zo(n)&&(Mt=!0))}function Cy(n,r,l,f){Me=n;var y=0;do{if(ja&&(ka=null),Fs=0,ja=!1,25<=y)throw Error(a(301));if(y+=1,vt=$e=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}V.H=pC,b=r(l,f)}while(ja);return b}function uC(){var n=V.H,r=n.useState()[0];return r=typeof r.then=="function"?qs(r):r,n=n.useState()[0],($e!==null?$e.memoizedState:null)!==n&&(Me.flags|=1024),r}function Pd(){var n=Vo!==0;return Vo=0,n}function Id(n,r,l){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~l}function Ud(n){if(Uo){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Uo=!1}Fi=0,vt=$e=Me=null,ja=!1,Fs=Vo=0,ka=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Me.memoizedState=vt=n:vt=vt.next=n,vt}function wt(){if($e===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=$e.next;var r=vt===null?Me.memoizedState:vt.next;if(r!==null)vt=r,$e=n;else{if(n===null)throw Me.alternate===null?Error(a(467)):Error(a(310));$e=n,n={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Me.memoizedState=vt=n:vt=vt.next=n}return vt}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qs(n){var r=Fs;return Fs+=1,ka===null&&(ka=[]),n=by(ka,n,r),r=Me,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?lx:ox),n}function Go(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return qs(n);if(n.$$typeof===T)return Ft(n)}throw Error(a(438,String(n)))}function Gd(n){var r=null,l=Me.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var f=Me.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Vd(),Me.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(n),f=0;f<n;f++)l[f]=L;return r.index++,l}function Si(n,r){return typeof r=="function"?r(n):r}function Fo(n){var r=wt();return Fd(r,$e,n)}function Fd(n,r,l){var f=n.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=l;var y=n.baseQueue,b=f.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}r.baseQueue=y=b,f.pending=null}if(b=n.baseState,y===null)n.memoizedState=b;else{r=y.next;var R=k=null,U=null,Q=r,re=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Oe&se)===se:(Fi&se)===se){var Z=Q.revertLane;if(Z===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===wa&&(re=!0);else if((Fi&Z)===Z){Q=Q.next,Z===wa&&(re=!0);continue}else se={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(R=U=se,k=b):U=U.next=se,Me.lanes|=Z,Wi|=Z;se=Q.action,Mr&&l(b,se),b=Q.hasEagerState?Q.eagerState:l(b,se)}else Z={lane:se,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(R=U=Z,k=b):U=U.next=Z,Me.lanes|=se,Wi|=se;Q=Q.next}while(Q!==null&&Q!==r);if(U===null?k=b:U.next=R,!vn(b,n.memoizedState)&&(Mt=!0,re&&(l=Sa,l!==null)))throw l;n.memoizedState=b,n.baseState=k,n.baseQueue=U,f.lastRenderedState=b}return y===null&&(f.lanes=0),[n.memoizedState,f.dispatch]}function qd(n){var r=wt(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var f=l.dispatch,y=l.pending,b=r.memoizedState;if(y!==null){l.pending=null;var k=y=y.next;do b=n(b,k.action),k=k.next;while(k!==y);vn(b,r.memoizedState)||(Mt=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),l.lastRenderedState=b}return[b,f]}function Ty(n,r,l){var f=Me,y=wt(),b=Ue;if(b){if(l===void 0)throw Error(a(407));l=l()}else l=r();var k=!vn(($e||y).memoizedState,l);k&&(y.memoizedState=l,Mt=!0),y=y.queue;var R=My.bind(null,f,y,n);if(Hs(2048,8,R,[n]),y.getSnapshot!==r||k||vt!==null&&vt.memoizedState.tag&1){if(f.flags|=2048,Ca(9,qo(),Ey.bind(null,f,y,l,r),null),Ze===null)throw Error(a(349));b||(Fi&124)!==0||Ay(f,r,l)}return l}function Ay(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Me.updateQueue,r===null?(r=Vd(),Me.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function Ey(n,r,l,f){r.value=l,r.getSnapshot=f,Ly(r)&&Ry(n)}function My(n,r,l){return l(function(){Ly(r)&&Ry(n)})}function Ly(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!vn(n,l)}catch(f){return!0}}function Ry(n){var r=ya(n,2);r!==null&&Cn(r,n,2)}function Hd(n){var r=sn();if(typeof n=="function"){var l=n;if(n=l(),Mr){ye(!0);try{l()}finally{ye(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:n},r}function Dy(n,r,l,f){return n.baseState=l,Fd(n,$e,typeof f=="function"?f:Si)}function cC(n,r,l,f,y){if($o(n))throw Error(a(485));if(n=r.action,n!==null){var b={payload:y,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};V.T!==null?l(!0):b.isTransition=!1,f(b),l=r.pending,l===null?(b.next=r.pending=b,zy(r,b)):(b.next=l.next,r.pending=l.next=b)}}function zy(n,r){var l=r.action,f=r.payload,y=n.state;if(r.isTransition){var b=V.T,k={};V.T=k;try{var R=l(y,f),U=V.S;U!==null&&U(k,R),Oy(n,r,R)}catch(Q){$d(n,r,Q)}finally{V.T=b}}else try{b=l(y,f),Oy(n,r,b)}catch(Q){$d(n,r,Q)}}function Oy(n,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Ny(n,r,f)},function(f){return $d(n,r,f)}):Ny(n,r,l)}function Ny(n,r,l){r.status="fulfilled",r.value=l,By(r),n.state=l,r=n.pending,r!==null&&(l=r.next,l===r?n.pending=null:(l=l.next,r.next=l,zy(n,l)))}function $d(n,r,l){var f=n.pending;if(n.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=l,By(r),r=r.next;while(r!==f)}n.action=null}function By(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Py(n,r){return r}function Iy(n,r){if(Ue){var l=Ze.formState;if(l!==null){e:{var f=Me;if(Ue){if(dt){t:{for(var y=dt,b=ei;y.nodeType!==8;){if(!b){y=null;break t}if(y=Kn(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){dt=Kn(y.nextSibling),f=y.data==="F!";break e}}Cr(f)}f=!1}f&&(r=l[0])}}return l=sn(),l.memoizedState=l.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Py,lastRenderedState:r},l.queue=f,l=rx.bind(null,Me,f),f.dispatch=l,f=Hd(!1),b=Qd.bind(null,Me,!1,f.queue),f=sn(),y={state:r,dispatch:null,action:n,pending:null},f.queue=y,l=cC.bind(null,Me,y,b,l),y.dispatch=l,f.memoizedState=n,[r,l,!1]}function Uy(n){var r=wt();return Vy(r,$e,n)}function Vy(n,r,l){if(r=Fd(n,r,Py)[0],n=Fo(Si)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=qs(r)}catch(k){throw k===Ps?Bo:k}else f=r;r=wt();var y=r.queue,b=y.dispatch;return l!==r.memoizedState&&(Me.flags|=2048,Ca(9,qo(),dC.bind(null,y,l),null)),[f,b,n]}function dC(n,r){n.action=r}function Gy(n){var r=wt(),l=$e;if(l!==null)return Vy(r,l,n);wt(),r=r.memoizedState,l=wt();var f=l.queue.dispatch;return l.memoizedState=n,[r,f,!1]}function Ca(n,r,l,f){return n={tag:n,create:l,deps:f,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Vd(),Me.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=n.next=n:(f=l.next,l.next=n,n.next=f,r.lastEffect=n),n}function qo(){return{destroy:void 0,resource:void 0}}function Fy(){return wt().memoizedState}function Ho(n,r,l,f){var y=sn();f=f===void 0?null:f,Me.flags|=n,y.memoizedState=Ca(1|r,qo(),l,f)}function Hs(n,r,l,f){var y=wt();f=f===void 0?null:f;var b=y.memoizedState.inst;$e!==null&&f!==null&&Nd(f,$e.memoizedState.deps)?y.memoizedState=Ca(r,b,l,f):(Me.flags|=n,y.memoizedState=Ca(1|r,b,l,f))}function qy(n,r){Ho(8390656,8,n,r)}function Hy(n,r){Hs(2048,8,n,r)}function $y(n,r){return Hs(4,2,n,r)}function Ky(n,r){return Hs(4,4,n,r)}function Yy(n,r){if(typeof r=="function"){n=n();var l=r(n);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Xy(n,r,l){l=l!=null?l.concat([n]):null,Hs(4,4,Yy.bind(null,r,n),l)}function Kd(){}function Wy(n,r){var l=wt();r=r===void 0?null:r;var f=l.memoizedState;return r!==null&&Nd(r,f[1])?f[0]:(l.memoizedState=[n,r],n)}function Qy(n,r){var l=wt();r=r===void 0?null:r;var f=l.memoizedState;if(r!==null&&Nd(r,f[1]))return f[0];if(f=n(),Mr){ye(!0);try{n()}finally{ye(!1)}}return l.memoizedState=[f,r],f}function Yd(n,r,l){return l===void 0||(Fi&1073741824)!==0?n.memoizedState=r:(n.memoizedState=l,n=eb(),Me.lanes|=n,Wi|=n,l)}function Zy(n,r,l,f){return vn(l,r)?l:_a.current!==null?(n=Yd(n,l,f),vn(n,r)||(Mt=!0),n):(Fi&42)===0?(Mt=!0,n.memoizedState=l):(n=eb(),Me.lanes|=n,Wi|=n,r)}function Jy(n,r,l,f,y){var b=X.p;X.p=b!==0&&8>b?b:8;var k=V.T,R={};V.T=R,Qd(n,!1,r,l);try{var U=y(),Q=V.S;if(Q!==null&&Q(R,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=lC(U,f);$s(n,r,re,kn(n))}else $s(n,r,f,kn(n))}catch(se){$s(n,r,{then:function(){},status:"rejected",reason:se},kn())}finally{X.p=b,V.T=k}}function fC(){}function Xd(n,r,l,f){if(n.tag!==5)throw Error(a(476));var y=ex(n).queue;Jy(n,y,r,te,l===null?fC:function(){return tx(n),l(f)})}function ex(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:te},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:l},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function tx(n){var r=ex(n).next.queue;$s(n,r,{},kn())}function Wd(){return Ft(cl)}function nx(){return wt().memoizedState}function ix(){return wt().memoizedState}function hC(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var l=kn();n=Vi(l);var f=Gi(r,n,l);f!==null&&(Cn(f,r,l),Us(f,r,l)),r={cache:Cd()},n.payload=r;return}r=r.return}}function mC(n,r,l){var f=kn();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},$o(n)?ax(r,l):(l=gd(n,r,l,f),l!==null&&(Cn(l,n,f),sx(l,r,f)))}function rx(n,r,l){var f=kn();$s(n,r,l,f)}function $s(n,r,l,f){var y={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if($o(n))ax(r,y);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var k=r.lastRenderedState,R=b(k,l);if(y.hasEagerState=!0,y.eagerState=R,vn(R,k))return Eo(n,r,y,0),Ze===null&&Ao(),!1}catch(U){}finally{}if(l=gd(n,r,y,f),l!==null)return Cn(l,n,f),sx(l,r,f),!0}return!1}function Qd(n,r,l,f){if(f={lane:2,revertLane:Mf(),action:f,hasEagerState:!1,eagerState:null,next:null},$o(n)){if(r)throw Error(a(479))}else r=gd(n,l,f,2),r!==null&&Cn(r,n,2)}function $o(n){var r=n.alternate;return n===Me||r!==null&&r===Me}function ax(n,r){ja=Uo=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function sx(n,r,l){if((l&4194048)!==0){var f=r.lanes;f&=n.pendingLanes,l|=f,r.lanes=l,mg(n,l)}}var Ko={readContext:Ft,use:Go,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},lx={readContext:Ft,use:Go,useCallback:function(n,r){return sn().memoizedState=[n,r===void 0?null:r],n},useContext:Ft,useEffect:qy,useImperativeHandle:function(n,r,l){l=l!=null?l.concat([n]):null,Ho(4194308,4,Yy.bind(null,r,n),l)},useLayoutEffect:function(n,r){return Ho(4194308,4,n,r)},useInsertionEffect:function(n,r){Ho(4,2,n,r)},useMemo:function(n,r){var l=sn();r=r===void 0?null:r;var f=n();if(Mr){ye(!0);try{n()}finally{ye(!1)}}return l.memoizedState=[f,r],f},useReducer:function(n,r,l){var f=sn();if(l!==void 0){var y=l(r);if(Mr){ye(!0);try{l(r)}finally{ye(!1)}}}else y=r;return f.memoizedState=f.baseState=y,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:y},f.queue=n,n=n.dispatch=mC.bind(null,Me,n),[f.memoizedState,n]},useRef:function(n){var r=sn();return n={current:n},r.memoizedState=n},useState:function(n){n=Hd(n);var r=n.queue,l=rx.bind(null,Me,r);return r.dispatch=l,[n.memoizedState,l]},useDebugValue:Kd,useDeferredValue:function(n,r){var l=sn();return Yd(l,n,r)},useTransition:function(){var n=Hd(!1);return n=Jy.bind(null,Me,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,l){var f=Me,y=sn();if(Ue){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),Ze===null)throw Error(a(349));(Oe&124)!==0||Ay(f,r,l)}y.memoizedState=l;var b={value:l,getSnapshot:r};return y.queue=b,qy(My.bind(null,f,b,n),[n]),f.flags|=2048,Ca(9,qo(),Ey.bind(null,f,b,l,r),null),l},useId:function(){var n=sn(),r=Ze.identifierPrefix;if(Ue){var l=bi,f=xi;l=(f&~(1<<32-_e(f)-1)).toString(32)+l,r="«"+r+"R"+l,l=Vo++,0<l&&(r+="H"+l.toString(32)),r+="»"}else l=oC++,r="«"+r+"r"+l.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Wd,useFormState:Iy,useActionState:Iy,useOptimistic:function(n){var r=sn();r.memoizedState=r.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Qd.bind(null,Me,!0,l),l.dispatch=r,[n,r]},useMemoCache:Gd,useCacheRefresh:function(){return sn().memoizedState=hC.bind(null,Me)}},ox={readContext:Ft,use:Go,useCallback:Wy,useContext:Ft,useEffect:Hy,useImperativeHandle:Xy,useInsertionEffect:$y,useLayoutEffect:Ky,useMemo:Qy,useReducer:Fo,useRef:Fy,useState:function(){return Fo(Si)},useDebugValue:Kd,useDeferredValue:function(n,r){var l=wt();return Zy(l,$e.memoizedState,n,r)},useTransition:function(){var n=Fo(Si)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:qs(n),r]},useSyncExternalStore:Ty,useId:nx,useHostTransitionStatus:Wd,useFormState:Uy,useActionState:Uy,useOptimistic:function(n,r){var l=wt();return Dy(l,$e,n,r)},useMemoCache:Gd,useCacheRefresh:ix},pC={readContext:Ft,use:Go,useCallback:Wy,useContext:Ft,useEffect:Hy,useImperativeHandle:Xy,useInsertionEffect:$y,useLayoutEffect:Ky,useMemo:Qy,useReducer:qd,useRef:Fy,useState:function(){return qd(Si)},useDebugValue:Kd,useDeferredValue:function(n,r){var l=wt();return $e===null?Yd(l,n,r):Zy(l,$e.memoizedState,n,r)},useTransition:function(){var n=qd(Si)[0],r=wt().memoizedState;return[typeof n=="boolean"?n:qs(n),r]},useSyncExternalStore:Ty,useId:nx,useHostTransitionStatus:Wd,useFormState:Gy,useActionState:Gy,useOptimistic:function(n,r){var l=wt();return $e!==null?Dy(l,$e,n,r):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Gd,useCacheRefresh:ix},Ta=null,Ks=0;function Yo(n){var r=Ks;return Ks+=1,Ta===null&&(Ta=[]),by(Ta,n,r)}function Ys(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Xo(n,r){throw r.$$typeof===p?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ux(n){var r=n._init;return r(n._payload)}function cx(n){function r($,F){if(n){var W=$.deletions;W===null?($.deletions=[F],$.flags|=16):W.push(F)}}function l($,F){if(!n)return null;for(;F!==null;)r($,F),F=F.sibling;return null}function f($){for(var F=new Map;$!==null;)$.key!==null?F.set($.key,$):F.set($.index,$),$=$.sibling;return F}function y($,F){return $=yi($,F),$.index=0,$.sibling=null,$}function b($,F,W){return $.index=W,n?(W=$.alternate,W!==null?(W=W.index,W<F?($.flags|=67108866,F):W):($.flags|=67108866,F)):($.flags|=1048576,F)}function k($){return n&&$.alternate===null&&($.flags|=67108866),$}function R($,F,W,ae){return F===null||F.tag!==6?(F=xd(W,$.mode,ae),F.return=$,F):(F=y(F,W),F.return=$,F)}function U($,F,W,ae){var he=W.type;return he===w?re($,F,W.props.children,ae,W.key):F!==null&&(F.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===N&&ux(he)===F.type)?(F=y(F,W.props),Ys(F,W),F.return=$,F):(F=Lo(W.type,W.key,W.props,null,$.mode,ae),Ys(F,W),F.return=$,F)}function Q($,F,W,ae){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=bd(W,$.mode,ae),F.return=$,F):(F=y(F,W.children||[]),F.return=$,F)}function re($,F,W,ae,he){return F===null||F.tag!==7?(F=Sr(W,$.mode,ae,he),F.return=$,F):(F=y(F,W),F.return=$,F)}function se($,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=xd(""+F,$.mode,W),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return W=Lo(F.type,F.key,F.props,null,$.mode,W),Ys(W,F),W.return=$,W;case v:return F=bd(F,$.mode,W),F.return=$,F;case N:var ae=F._init;return F=ae(F._payload),se($,F,W)}if(le(F)||G(F))return F=Sr(F,$.mode,W,null),F.return=$,F;if(typeof F.then=="function")return se($,Yo(F),W);if(F.$$typeof===T)return se($,Oo($,F),W);Xo($,F)}return null}function Z($,F,W,ae){var he=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return he!==null?null:R($,F,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case x:return W.key===he?U($,F,W,ae):null;case v:return W.key===he?Q($,F,W,ae):null;case N:return he=W._init,W=he(W._payload),Z($,F,W,ae)}if(le(W)||G(W))return he!==null?null:re($,F,W,ae,null);if(typeof W.then=="function")return Z($,F,Yo(W),ae);if(W.$$typeof===T)return Z($,F,Oo($,W),ae);Xo($,W)}return null}function J($,F,W,ae,he){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(W)||null,R(F,$,""+ae,he);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return $=$.get(ae.key===null?W:ae.key)||null,U(F,$,ae,he);case v:return $=$.get(ae.key===null?W:ae.key)||null,Q(F,$,ae,he);case N:var Le=ae._init;return ae=Le(ae._payload),J($,F,W,ae,he)}if(le(ae)||G(ae))return $=$.get(W)||null,re(F,$,ae,he,null);if(typeof ae.then=="function")return J($,F,W,Yo(ae),he);if(ae.$$typeof===T)return J($,F,W,Oo(F,ae),he);Xo(F,ae)}return null}function ke($,F,W,ae){for(var he=null,Le=null,ge=F,we=F=0,Rt=null;ge!==null&&we<W.length;we++){ge.index>we?(Rt=ge,ge=null):Rt=ge.sibling;var Pe=Z($,ge,W[we],ae);if(Pe===null){ge===null&&(ge=Rt);break}n&&ge&&Pe.alternate===null&&r($,ge),F=b(Pe,F,we),Le===null?he=Pe:Le.sibling=Pe,Le=Pe,ge=Rt}if(we===W.length)return l($,ge),Ue&&jr($,we),he;if(ge===null){for(;we<W.length;we++)ge=se($,W[we],ae),ge!==null&&(F=b(ge,F,we),Le===null?he=ge:Le.sibling=ge,Le=ge);return Ue&&jr($,we),he}for(ge=f(ge);we<W.length;we++)Rt=J(ge,$,we,W[we],ae),Rt!==null&&(n&&Rt.alternate!==null&&ge.delete(Rt.key===null?we:Rt.key),F=b(Rt,F,we),Le===null?he=Rt:Le.sibling=Rt,Le=Rt);return n&&ge.forEach(function(ar){return r($,ar)}),Ue&&jr($,we),he}function ve($,F,W,ae){if(W==null)throw Error(a(151));for(var he=null,Le=null,ge=F,we=F=0,Rt=null,Pe=W.next();ge!==null&&!Pe.done;we++,Pe=W.next()){ge.index>we?(Rt=ge,ge=null):Rt=ge.sibling;var ar=Z($,ge,Pe.value,ae);if(ar===null){ge===null&&(ge=Rt);break}n&&ge&&ar.alternate===null&&r($,ge),F=b(ar,F,we),Le===null?he=ar:Le.sibling=ar,Le=ar,ge=Rt}if(Pe.done)return l($,ge),Ue&&jr($,we),he;if(ge===null){for(;!Pe.done;we++,Pe=W.next())Pe=se($,Pe.value,ae),Pe!==null&&(F=b(Pe,F,we),Le===null?he=Pe:Le.sibling=Pe,Le=Pe);return Ue&&jr($,we),he}for(ge=f(ge);!Pe.done;we++,Pe=W.next())Pe=J(ge,$,we,Pe.value,ae),Pe!==null&&(n&&Pe.alternate!==null&&ge.delete(Pe.key===null?we:Pe.key),F=b(Pe,F,we),Le===null?he=Pe:Le.sibling=Pe,Le=Pe);return n&&ge.forEach(function(gT){return r($,gT)}),Ue&&jr($,we),he}function Ye($,F,W,ae){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case x:e:{for(var he=W.key;F!==null;){if(F.key===he){if(he=W.type,he===w){if(F.tag===7){l($,F.sibling),ae=y(F,W.props.children),ae.return=$,$=ae;break e}}else if(F.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===N&&ux(he)===F.type){l($,F.sibling),ae=y(F,W.props),Ys(ae,W),ae.return=$,$=ae;break e}l($,F);break}else r($,F);F=F.sibling}W.type===w?(ae=Sr(W.props.children,$.mode,ae,W.key),ae.return=$,$=ae):(ae=Lo(W.type,W.key,W.props,null,$.mode,ae),Ys(ae,W),ae.return=$,$=ae)}return k($);case v:e:{for(he=W.key;F!==null;){if(F.key===he)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){l($,F.sibling),ae=y(F,W.children||[]),ae.return=$,$=ae;break e}else{l($,F);break}else r($,F);F=F.sibling}ae=bd(W,$.mode,ae),ae.return=$,$=ae}return k($);case N:return he=W._init,W=he(W._payload),Ye($,F,W,ae)}if(le(W))return ke($,F,W,ae);if(G(W)){if(he=G(W),typeof he!="function")throw Error(a(150));return W=he.call(W),ve($,F,W,ae)}if(typeof W.then=="function")return Ye($,F,Yo(W),ae);if(W.$$typeof===T)return Ye($,F,Oo($,W),ae);Xo($,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(l($,F.sibling),ae=y(F,W),ae.return=$,$=ae):(l($,F),ae=xd(W,$.mode,ae),ae.return=$,$=ae),k($)):l($,F)}return function($,F,W,ae){try{Ks=0;var he=Ye($,F,W,ae);return Ta=null,he}catch(ge){if(ge===Ps||ge===Bo)throw ge;var Le=wn(29,ge,null,$.mode);return Le.lanes=ae,Le.return=$,Le}finally{}}}var Aa=cx(!0),dx=cx(!1),Bn=me(null),ti=null;function qi(n){var r=n.alternate;I(Ct,Ct.current&1),I(Bn,n),ti===null&&(r===null||_a.current!==null||r.memoizedState!==null)&&(ti=n)}function fx(n){if(n.tag===22){if(I(Ct,Ct.current),I(Bn,n),ti===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ti=n)}}else Hi()}function Hi(){I(Ct,Ct.current),I(Bn,Bn.current)}function _i(n){be(Bn),ti===n&&(ti=null),be(Ct)}var Ct=me(0);function Wo(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gf(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Zd(n,r,l,f){r=n.memoizedState,l=l(f,r),l=l==null?r:g({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Jd={enqueueSetState:function(n,r,l){n=n._reactInternals;var f=kn(),y=Vi(f);y.payload=r,l!=null&&(y.callback=l),r=Gi(n,y,f),r!==null&&(Cn(r,n,f),Us(r,n,f))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var f=kn(),y=Vi(f);y.tag=1,y.payload=r,l!=null&&(y.callback=l),r=Gi(n,y,f),r!==null&&(Cn(r,n,f),Us(r,n,f))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=kn(),f=Vi(l);f.tag=2,r!=null&&(f.callback=r),r=Gi(n,f,l),r!==null&&(Cn(r,n,l),Us(r,n,l))}};function hx(n,r,l,f,y,b,k){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(f,b,k):r.prototype&&r.prototype.isPureReactComponent?!Ms(l,f)||!Ms(y,b):!0}function mx(n,r,l,f){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,f),r.state!==n&&Jd.enqueueReplaceState(r,r.state,null)}function Lr(n,r){var l=r;if("ref"in r){l={};for(var f in r)f!=="ref"&&(l[f]=r[f])}if(n=n.defaultProps){l===r&&(l=g({},l));for(var y in n)l[y]===void 0&&(l[y]=n[y])}return l}var Qo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function px(n){Qo(n)}function gx(n){console.error(n)}function yx(n){Qo(n)}function Zo(n,r){try{var l=n.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function xx(n,r,l){try{var f=n.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function ef(n,r,l){return l=Vi(l),l.tag=3,l.payload={element:null},l.callback=function(){Zo(n,r)},l}function bx(n){return n=Vi(n),n.tag=3,n}function vx(n,r,l,f){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;n.payload=function(){return y(b)},n.callback=function(){xx(r,l,f)}}var k=l.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(n.callback=function(){xx(r,l,f),typeof y!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var R=f.stack;this.componentDidCatch(f.value,{componentStack:R!==null?R:""})})}function gC(n,r,l,f,y){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=l.alternate,r!==null&&Os(r,l,y,!0),l=Bn.current,l!==null){switch(l.tag){case 13:return ti===null?kf():l.alternate===null&&ft===0&&(ft=3),l.flags&=-257,l.flags|=65536,l.lanes=y,f===Ed?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([f]):r.add(f),Tf(n,f,y)),!1;case 22:return l.flags|=65536,f===Ed?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([f]):l.add(f)),Tf(n,f,y)),!1}throw Error(a(435,l.tag))}return Tf(n,f,y),kf(),!1}if(Ue)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,f!==Sd&&(n=Error(a(422),{cause:f}),zs(Dn(n,l)))):(f!==Sd&&(r=Error(a(423),{cause:f}),zs(Dn(r,l))),n=n.current.alternate,n.flags|=65536,y&=-y,n.lanes|=y,f=Dn(f,l),y=ef(n.stateNode,f,y),Rd(n,y),ft!==4&&(ft=2)),!1;var b=Error(a(520),{cause:f});if(b=Dn(b,l),tl===null?tl=[b]:tl.push(b),ft!==4&&(ft=2),r===null)return!0;f=Dn(f,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,n=y&-y,l.lanes|=n,n=ef(l.stateNode,f,n),Rd(l,n),!1;case 1:if(r=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qi===null||!Qi.has(b))))return l.flags|=65536,y&=-y,l.lanes|=y,y=bx(y),vx(y,n,l,f),Rd(l,y),!1}l=l.return}while(l!==null);return!1}var wx=Error(a(461)),Mt=!1;function zt(n,r,l,f){r.child=n===null?dx(r,null,l,f):Aa(r,n.child,l,f)}function Sx(n,r,l,f,y){l=l.render;var b=r.ref;if("ref"in f){var k={};for(var R in f)R!=="ref"&&(k[R]=f[R])}else k=f;return Ar(r),f=Bd(n,r,l,k,b,y),R=Pd(),n!==null&&!Mt?(Id(n,r,y),ji(n,r,y)):(Ue&&R&&vd(r),r.flags|=1,zt(n,r,f,y),r.child)}function _x(n,r,l,f,y){if(n===null){var b=l.type;return typeof b=="function"&&!yd(b)&&b.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=b,jx(n,r,b,f,y)):(n=Lo(l.type,null,f,r,r.mode,y),n.ref=r.ref,n.return=r,r.child=n)}if(b=n.child,!uf(n,y)){var k=b.memoizedProps;if(l=l.compare,l=l!==null?l:Ms,l(k,f)&&n.ref===r.ref)return ji(n,r,y)}return r.flags|=1,n=yi(b,f),n.ref=r.ref,n.return=r,r.child=n}function jx(n,r,l,f,y){if(n!==null){var b=n.memoizedProps;if(Ms(b,f)&&n.ref===r.ref)if(Mt=!1,r.pendingProps=f=b,uf(n,y))(n.flags&131072)!==0&&(Mt=!0);else return r.lanes=n.lanes,ji(n,r,y)}return tf(n,r,l,f,y)}function kx(n,r,l){var f=r.pendingProps,y=f.children,b=n!==null?n.memoizedState:null;if(f.mode==="hidden"){if((r.flags&128)!==0){if(f=b!==null?b.baseLanes|l:l,n!==null){for(y=r.child=n.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;r.childLanes=b&~f}else r.childLanes=0,r.child=null;return Cx(n,r,f,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&No(r,b!==null?b.cachePool:null),b!==null?jy(r,b):zd(),fx(r);else return r.lanes=r.childLanes=536870912,Cx(n,r,b!==null?b.baseLanes|l:l,l)}else b!==null?(No(r,b.cachePool),jy(r,b),Hi(),r.memoizedState=null):(n!==null&&No(r,null),zd(),Hi());return zt(n,r,y,l),r.child}function Cx(n,r,l,f){var y=Ad();return y=y===null?null:{parent:kt._currentValue,pool:y},r.memoizedState={baseLanes:l,cachePool:y},n!==null&&No(r,null),zd(),fx(r),n!==null&&Os(n,r,f,!0),null}function Jo(n,r){var l=r.ref;if(l===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(r.flags|=4194816)}}function tf(n,r,l,f,y){return Ar(r),l=Bd(n,r,l,f,void 0,y),f=Pd(),n!==null&&!Mt?(Id(n,r,y),ji(n,r,y)):(Ue&&f&&vd(r),r.flags|=1,zt(n,r,l,y),r.child)}function Tx(n,r,l,f,y,b){return Ar(r),r.updateQueue=null,l=Cy(r,f,l,y),ky(n),f=Pd(),n!==null&&!Mt?(Id(n,r,b),ji(n,r,b)):(Ue&&f&&vd(r),r.flags|=1,zt(n,r,l,b),r.child)}function Ax(n,r,l,f,y){if(Ar(r),r.stateNode===null){var b=xa,k=l.contextType;typeof k=="object"&&k!==null&&(b=Ft(k)),b=new l(f,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Jd,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=f,b.state=r.memoizedState,b.refs={},Md(r),k=l.contextType,b.context=typeof k=="object"&&k!==null?Ft(k):xa,b.state=r.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(Zd(r,l,k,f),b.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&Jd.enqueueReplaceState(b,b.state,null),Gs(r,f,b,y),Vs(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(n===null){b=r.stateNode;var R=r.memoizedProps,U=Lr(l,R);b.props=U;var Q=b.context,re=l.contextType;k=xa,typeof re=="object"&&re!==null&&(k=Ft(re));var se=l.getDerivedStateFromProps;re=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,re||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||Q!==k)&&mx(r,b,f,k),Ui=!1;var Z=r.memoizedState;b.state=Z,Gs(r,f,b,y),Vs(),Q=r.memoizedState,R||Z!==Q||Ui?(typeof se=="function"&&(Zd(r,l,se,f),Q=r.memoizedState),(U=Ui||hx(r,l,U,f,Z,Q,k))?(re||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=Q),b.props=f,b.state=Q,b.context=k,f=U):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{b=r.stateNode,Ld(n,r),k=r.memoizedProps,re=Lr(l,k),b.props=re,se=r.pendingProps,Z=b.context,Q=l.contextType,U=xa,typeof Q=="object"&&Q!==null&&(U=Ft(Q)),R=l.getDerivedStateFromProps,(Q=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==se||Z!==U)&&mx(r,b,f,U),Ui=!1,Z=r.memoizedState,b.state=Z,Gs(r,f,b,y),Vs();var J=r.memoizedState;k!==se||Z!==J||Ui||n!==null&&n.dependencies!==null&&zo(n.dependencies)?(typeof R=="function"&&(Zd(r,l,R,f),J=r.memoizedState),(re=Ui||hx(r,l,re,f,Z,J,U)||n!==null&&n.dependencies!==null&&zo(n.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,J,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,J,U)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=J),b.props=f,b.state=J,b.context=U,f=re):(typeof b.componentDidUpdate!="function"||k===n.memoizedProps&&Z===n.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===n.memoizedProps&&Z===n.memoizedState||(r.flags|=1024),f=!1)}return b=f,Jo(n,r),f=(r.flags&128)!==0,b||f?(b=r.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,n!==null&&f?(r.child=Aa(r,n.child,null,y),r.child=Aa(r,null,l,y)):zt(n,r,l,y),r.memoizedState=b.state,n=r.child):n=ji(n,r,y),n}function Ex(n,r,l,f){return Ds(),r.flags|=256,zt(n,r,l,f),r.child}var nf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(n){return{baseLanes:n,cachePool:gy()}}function af(n,r,l){return n=n!==null?n.childLanes&~l:0,r&&(n|=Pn),n}function Mx(n,r,l){var f=r.pendingProps,y=!1,b=(r.flags&128)!==0,k;if((k=b)||(k=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),k&&(y=!0,r.flags&=-129),k=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ue){if(y?qi(r):Hi(),Ue){var R=dt,U;if(U=R){e:{for(U=R,R=ei;U.nodeType!==8;){if(!R){R=null;break e}if(U=Kn(U.nextSibling),U===null){R=null;break e}}R=U}R!==null?(r.memoizedState={dehydrated:R,treeContext:_r!==null?{id:xi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},U=wn(18,null,null,0),U.stateNode=R,U.return=r,r.child=U,Wt=r,dt=null,U=!0):U=!1}U||Cr(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Gf(R)?r.lanes=32:r.lanes=536870912,null;_i(r)}return R=f.children,f=f.fallback,y?(Hi(),y=r.mode,R=eu({mode:"hidden",children:R},y),f=Sr(f,y,l,null),R.return=r,f.return=r,R.sibling=f,r.child=R,y=r.child,y.memoizedState=rf(l),y.childLanes=af(n,k,l),r.memoizedState=nf,f):(qi(r),sf(r,R))}if(U=n.memoizedState,U!==null&&(R=U.dehydrated,R!==null)){if(b)r.flags&256?(qi(r),r.flags&=-257,r=lf(n,r,l)):r.memoizedState!==null?(Hi(),r.child=n.child,r.flags|=128,r=null):(Hi(),y=f.fallback,R=r.mode,f=eu({mode:"visible",children:f.children},R),y=Sr(y,R,l,null),y.flags|=2,f.return=r,y.return=r,f.sibling=y,r.child=f,Aa(r,n.child,null,l),f=r.child,f.memoizedState=rf(l),f.childLanes=af(n,k,l),r.memoizedState=nf,r=y);else if(qi(r),Gf(R)){if(k=R.nextSibling&&R.nextSibling.dataset,k)var Q=k.dgst;k=Q,f=Error(a(419)),f.stack="",f.digest=k,zs({value:f,source:null,stack:null}),r=lf(n,r,l)}else if(Mt||Os(n,r,l,!1),k=(l&n.childLanes)!==0,Mt||k){if(k=Ze,k!==null&&(f=l&-l,f=(f&42)!==0?1:Gc(f),f=(f&(k.suspendedLanes|l))!==0?0:f,f!==0&&f!==U.retryLane))throw U.retryLane=f,ya(n,f),Cn(k,n,f),wx;R.data==="$?"||kf(),r=lf(n,r,l)}else R.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=U.treeContext,dt=Kn(R.nextSibling),Wt=r,Ue=!0,kr=null,ei=!1,n!==null&&(On[Nn++]=xi,On[Nn++]=bi,On[Nn++]=_r,xi=n.id,bi=n.overflow,_r=r),r=sf(r,f.children),r.flags|=4096);return r}return y?(Hi(),y=f.fallback,R=r.mode,U=n.child,Q=U.sibling,f=yi(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,Q!==null?y=yi(Q,y):(y=Sr(y,R,l,null),y.flags|=2),y.return=r,f.return=r,f.sibling=y,r.child=f,f=y,y=r.child,R=n.child.memoizedState,R===null?R=rf(l):(U=R.cachePool,U!==null?(Q=kt._currentValue,U=U.parent!==Q?{parent:Q,pool:Q}:U):U=gy(),R={baseLanes:R.baseLanes|l,cachePool:U}),y.memoizedState=R,y.childLanes=af(n,k,l),r.memoizedState=nf,f):(qi(r),l=n.child,n=l.sibling,l=yi(l,{mode:"visible",children:f.children}),l.return=r,l.sibling=null,n!==null&&(k=r.deletions,k===null?(r.deletions=[n],r.flags|=16):k.push(n)),r.child=l,r.memoizedState=null,l)}function sf(n,r){return r=eu({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function eu(n,r){return n=wn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function lf(n,r,l){return Aa(r,n.child,null,l),n=sf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Lx(n,r,l){n.lanes|=r;var f=n.alternate;f!==null&&(f.lanes|=r),jd(n.return,r,l)}function of(n,r,l,f,y){var b=n.memoizedState;b===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:y}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=l,b.tailMode=y)}function Rx(n,r,l){var f=r.pendingProps,y=f.revealOrder,b=f.tail;if(zt(n,r,f.children,l),f=Ct.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lx(n,l,r);else if(n.tag===19)Lx(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}f&=1}switch(I(Ct,f),y){case"forwards":for(l=r.child,y=null;l!==null;)n=l.alternate,n!==null&&Wo(n)===null&&(y=l),l=l.sibling;l=y,l===null?(y=r.child,r.child=null):(y=l.sibling,l.sibling=null),of(r,!1,y,l,b);break;case"backwards":for(l=null,y=r.child,r.child=null;y!==null;){if(n=y.alternate,n!==null&&Wo(n)===null){r.child=y;break}n=y.sibling,y.sibling=l,l=y,y=n}of(r,!0,l,null,b);break;case"together":of(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ji(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),Wi|=r.lanes,(l&r.childLanes)===0)if(n!==null){if(Os(n,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,l=yi(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=yi(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function uf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&zo(n)))}function yC(n,r,l){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),Ii(r,kt,n.memoizedState.cache),Ds();break;case 27:case 5:yn(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:Ii(r,r.type,r.memoizedProps.value);break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(qi(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Mx(n,r,l):(qi(r),n=ji(n,r,l),n!==null?n.sibling:null);qi(r);break;case 19:var y=(n.flags&128)!==0;if(f=(l&r.childLanes)!==0,f||(Os(n,r,l,!1),f=(l&r.childLanes)!==0),y){if(f)return Rx(n,r,l);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),I(Ct,Ct.current),f)break;return null;case 22:case 23:return r.lanes=0,kx(n,r,l);case 24:Ii(r,kt,n.memoizedState.cache)}return ji(n,r,l)}function Dx(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps)Mt=!0;else{if(!uf(n,l)&&(r.flags&128)===0)return Mt=!1,yC(n,r,l);Mt=(n.flags&131072)!==0}else Mt=!1,Ue&&(r.flags&1048576)!==0&&uy(r,Do,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var f=r.elementType,y=f._init;if(f=y(f._payload),r.type=f,typeof f=="function")yd(f)?(n=Lr(f,n),r.tag=1,r=Ax(null,r,f,n,l)):(r.tag=0,r=tf(null,r,f,n,l));else{if(f!=null){if(y=f.$$typeof,y===D){r.tag=11,r=Sx(null,r,f,n,l);break e}else if(y===z){r.tag=14,r=_x(null,r,f,n,l);break e}}throw r=ee(f)||f,Error(a(306,r,""))}}return r;case 0:return tf(n,r,r.type,r.pendingProps,l);case 1:return f=r.type,y=Lr(f,r.pendingProps),Ax(n,r,f,y,l);case 3:e:{if(bt(r,r.stateNode.containerInfo),n===null)throw Error(a(387));f=r.pendingProps;var b=r.memoizedState;y=b.element,Ld(n,r),Gs(r,f,null,l);var k=r.memoizedState;if(f=k.cache,Ii(r,kt,f),f!==b.cache&&kd(r,[kt],l,!0),Vs(),f=k.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:k.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=Ex(n,r,f,l);break e}else if(f!==y){y=Dn(Error(a(424)),r),zs(y),r=Ex(n,r,f,l);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=Kn(n.firstChild),Wt=r,Ue=!0,kr=null,ei=!0,l=dx(r,null,f,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ds(),f===y){r=ji(n,r,l);break e}zt(n,r,f,l)}r=r.child}return r;case 26:return Jo(n,r),n===null?(l=Bb(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ue||(l=r.type,n=r.pendingProps,f=mu(je.current).createElement(l),f[Gt]=r,f[rn]=n,Nt(f,l,n),Et(f),r.stateNode=f):r.memoizedState=Bb(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return yn(r),n===null&&Ue&&(f=r.stateNode=zb(r.type,r.pendingProps,je.current),Wt=r,ei=!0,y=dt,er(r.type)?(Ff=y,dt=Kn(f.firstChild)):dt=y),zt(n,r,r.pendingProps.children,l),Jo(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ue&&((y=f=dt)&&(f=HC(f,r.type,r.pendingProps,ei),f!==null?(r.stateNode=f,Wt=r,dt=Kn(f.firstChild),ei=!1,y=!0):y=!1),y||Cr(r)),yn(r),y=r.type,b=r.pendingProps,k=n!==null?n.memoizedProps:null,f=b.children,If(y,b)?f=null:k!==null&&If(y,k)&&(r.flags|=32),r.memoizedState!==null&&(y=Bd(n,r,uC,null,null,l),cl._currentValue=y),Jo(n,r),zt(n,r,f,l),r.child;case 6:return n===null&&Ue&&((n=l=dt)&&(l=$C(l,r.pendingProps,ei),l!==null?(r.stateNode=l,Wt=r,dt=null,n=!0):n=!1),n||Cr(r)),null;case 13:return Mx(n,r,l);case 4:return bt(r,r.stateNode.containerInfo),f=r.pendingProps,n===null?r.child=Aa(r,null,f,l):zt(n,r,f,l),r.child;case 11:return Sx(n,r,r.type,r.pendingProps,l);case 7:return zt(n,r,r.pendingProps,l),r.child;case 8:return zt(n,r,r.pendingProps.children,l),r.child;case 12:return zt(n,r,r.pendingProps.children,l),r.child;case 10:return f=r.pendingProps,Ii(r,r.type,f.value),zt(n,r,f.children,l),r.child;case 9:return y=r.type._context,f=r.pendingProps.children,Ar(r),y=Ft(y),f=f(y),r.flags|=1,zt(n,r,f,l),r.child;case 14:return _x(n,r,r.type,r.pendingProps,l);case 15:return jx(n,r,r.type,r.pendingProps,l);case 19:return Rx(n,r,l);case 31:return f=r.pendingProps,l=r.mode,f={mode:f.mode,children:f.children},n===null?(l=eu(f,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=yi(n.child,f),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return kx(n,r,l);case 24:return Ar(r),f=Ft(kt),n===null?(y=Ad(),y===null&&(y=Ze,b=Cd(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=l),y=b),r.memoizedState={parent:f,cache:y},Md(r),Ii(r,kt,y)):((n.lanes&l)!==0&&(Ld(n,r),Gs(r,null,null,l),Vs()),y=n.memoizedState,b=r.memoizedState,y.parent!==f?(y={parent:f,cache:f},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Ii(r,kt,f)):(f=b.cache,Ii(r,kt,f),f!==y.cache&&kd(r,[kt],l,!0))),zt(n,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function ki(n){n.flags|=4}function zx(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gb(r)){if(r=Bn.current,r!==null&&((Oe&4194048)===Oe?ti!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||r!==ti))throw Is=Ed,yy;n.flags|=8192}}function tu(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?fg():536870912,n.lanes|=r,Ra|=r)}function Xs(n,r){if(!Ue)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:f.sibling=null}}function ot(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,f=0;if(r)for(var y=n.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=n,y=y.sibling;else for(y=n.child;y!==null;)l|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=n,y=y.sibling;return n.subtreeFlags|=f,n.childLanes=l,r}function xC(n,r,l){var f=r.pendingProps;switch(wd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return l=r.stateNode,f=null,n!==null&&(f=n.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),wi(kt),Dt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Rs(r)?ki(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fy())),ot(r),null;case 26:return l=r.memoizedState,n===null?(ki(r),l!==null?(ot(r),zx(r,l)):(ot(r),r.flags&=-16777217)):l?l!==n.memoizedState?(ki(r),ot(r),zx(r,l)):(ot(r),r.flags&=-16777217):(n.memoizedProps!==f&&ki(r),ot(r),r.flags&=-16777217),null;case 27:de(r),l=je.current;var y=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==f&&ki(r);else{if(!f){if(r.stateNode===null)throw Error(a(166));return ot(r),null}n=Te.current,Rs(r)?cy(r):(n=zb(y,f,l),r.stateNode=n,ki(r))}return ot(r),null;case 5:if(de(r),l=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==f&&ki(r);else{if(!f){if(r.stateNode===null)throw Error(a(166));return ot(r),null}if(n=Te.current,Rs(r))cy(r);else{switch(y=mu(je.current),n){case 1:n=y.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=y.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=y.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=y.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof f.is=="string"?y.createElement("select",{is:f.is}):y.createElement("select"),f.multiple?n.multiple=!0:f.size&&(n.size=f.size);break;default:n=typeof f.is=="string"?y.createElement(l,{is:f.is}):y.createElement(l)}}n[Gt]=r,n[rn]=f;e:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)n.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break e;for(;y.sibling===null;){if(y.return===null||y.return===r)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=n;e:switch(Nt(n,l,f),l){case"button":case"input":case"select":case"textarea":n=!!f.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ki(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==f&&ki(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(a(166));if(n=je.current,Rs(r)){if(n=r.stateNode,l=r.memoizedProps,f=null,y=Wt,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}n[Gt]=r,n=!!(n.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Tb(n.nodeValue,l)),n||Cr(r)}else n=mu(n).createTextNode(f),n[Gt]=r,r.stateNode=n}return ot(r),null;case 13:if(f=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(y=Rs(r),f!==null&&f.dehydrated!==null){if(n===null){if(!y)throw Error(a(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(a(317));y[Gt]=r}else Ds(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),y=!1}else y=fy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(_i(r),r):(_i(r),null)}if(_i(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=f!==null,n=n!==null&&n.memoizedState!==null,l){f=r.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)}return l!==n&&l&&(r.child.flags|=8192),tu(r,r.updateQueue),ot(r),null;case 4:return Dt(),n===null&&zf(r.stateNode.containerInfo),ot(r),null;case 10:return wi(r.type),ot(r),null;case 19:if(be(Ct),y=r.memoizedState,y===null)return ot(r),null;if(f=(r.flags&128)!==0,b=y.rendering,b===null)if(f)Xs(y,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(b=Wo(n),b!==null){for(r.flags|=128,Xs(y,!1),n=b.updateQueue,r.updateQueue=n,tu(r,n),r.subtreeFlags=0,n=l,l=r.child;l!==null;)oy(l,n),l=l.sibling;return I(Ct,Ct.current&1|2),r.child}n=n.sibling}y.tail!==null&&Xt()>ru&&(r.flags|=128,f=!0,Xs(y,!1),r.lanes=4194304)}else{if(!f)if(n=Wo(b),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,tu(r,n),Xs(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Ue)return ot(r),null}else 2*Xt()-y.renderingStartTime>ru&&l!==536870912&&(r.flags|=128,f=!0,Xs(y,!1),r.lanes=4194304);y.isBackwards?(b.sibling=r.child,r.child=b):(n=y.last,n!==null?n.sibling=b:r.child=b,y.last=b)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=Xt(),r.sibling=null,n=Ct.current,I(Ct,f?n&1|2:n&1),r):(ot(r),null);case 22:case 23:return _i(r),Od(),f=r.memoizedState!==null,n!==null?n.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(l&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),l=r.updateQueue,l!==null&&tu(r,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==l&&(r.flags|=2048),n!==null&&be(Er),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),wi(kt),ot(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function bC(n,r){switch(wd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return wi(kt),Dt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return de(r),null;case 13:if(_i(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ds()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return be(Ct),null;case 4:return Dt(),null;case 10:return wi(r.type),null;case 22:case 23:return _i(r),Od(),n!==null&&be(Er),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return wi(kt),null;case 25:return null;default:return null}}function Ox(n,r){switch(wd(r),r.tag){case 3:wi(kt),Dt();break;case 26:case 27:case 5:de(r);break;case 4:Dt();break;case 13:_i(r);break;case 19:be(Ct);break;case 10:wi(r.type);break;case 22:case 23:_i(r),Od(),n!==null&&be(Er);break;case 24:wi(kt)}}function Ws(n,r){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var y=f.next;l=y;do{if((l.tag&n)===n){f=void 0;var b=l.create,k=l.inst;f=b(),k.destroy=f}l=l.next}while(l!==y)}}catch(R){Xe(r,r.return,R)}}function $i(n,r,l){try{var f=r.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&n)===n){var k=f.inst,R=k.destroy;if(R!==void 0){k.destroy=void 0,y=r;var U=l,Q=R;try{Q()}catch(re){Xe(y,U,re)}}}f=f.next}while(f!==b)}}catch(re){Xe(r,r.return,re)}}function Nx(n){var r=n.updateQueue;if(r!==null){var l=n.stateNode;try{_y(r,l)}catch(f){Xe(n,n.return,f)}}}function Bx(n,r,l){l.props=Lr(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(f){Xe(n,r,f)}}function Qs(n,r){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var f=n.stateNode;break;case 30:f=n.stateNode;break;default:f=n.stateNode}typeof l=="function"?n.refCleanup=l(f):l.current=f}}catch(y){Xe(n,r,y)}}function ni(n,r){var l=n.ref,f=n.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(y){Xe(n,r,y)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){Xe(n,r,y)}else l.current=null}function Px(n){var r=n.type,l=n.memoizedProps,f=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(y){Xe(n,n.return,y)}}function cf(n,r,l){try{var f=n.stateNode;UC(f,n.type,l,r),f[rn]=r}catch(y){Xe(n,n.return,y)}}function Ix(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&er(n.type)||n.tag===4}function df(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Ix(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&er(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function ff(n,r,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(n),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=hu));else if(f!==4&&(f===27&&er(n.type)&&(l=n.stateNode,r=null),n=n.child,n!==null))for(ff(n,r,l),n=n.sibling;n!==null;)ff(n,r,l),n=n.sibling}function nu(n,r,l){var f=n.tag;if(f===5||f===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(f!==4&&(f===27&&er(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(nu(n,r,l),n=n.sibling;n!==null;)nu(n,r,l),n=n.sibling}function Ux(n){var r=n.stateNode,l=n.memoizedProps;try{for(var f=n.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Nt(r,f,l),r[Gt]=n,r[rn]=l}catch(b){Xe(n,n.return,b)}}var Ci=!1,pt=!1,hf=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function vC(n,r){if(n=n.containerInfo,Bf=vu,n=Zg(n),cd(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{l.nodeType,b.nodeType}catch(ve){l=null;break e}var k=0,R=-1,U=-1,Q=0,re=0,se=n,Z=null;t:for(;;){for(var J;se!==l||y!==0&&se.nodeType!==3||(R=k+y),se!==b||f!==0&&se.nodeType!==3||(U=k+f),se.nodeType===3&&(k+=se.nodeValue.length),(J=se.firstChild)!==null;)Z=se,se=J;for(;;){if(se===n)break t;if(Z===l&&++Q===y&&(R=k),Z===b&&++re===f&&(U=k),(J=se.nextSibling)!==null)break;se=Z,Z=se.parentNode}se=J}l=R===-1||U===-1?null:{start:R,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pf={focusedElem:n,selectionRange:l},vu=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,b=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=r,y=b.memoizedProps,b=b.memoizedState,f=l.stateNode;try{var ke=Lr(l.type,y,l.elementType===l.type);n=f.getSnapshotBeforeUpdate(ke,b),f.__reactInternalSnapshotBeforeUpdate=n}catch(ve){Xe(l,l.return,ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,l=n.nodeType,l===9)Vf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Vf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function Gx(n,r,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ki(n,l),f&4&&Ws(5,l);break;case 1:if(Ki(n,l),f&4)if(n=l.stateNode,r===null)try{n.componentDidMount()}catch(k){Xe(l,l.return,k)}else{var y=Lr(l.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(y,r,n.__reactInternalSnapshotBeforeUpdate)}catch(k){Xe(l,l.return,k)}}f&64&&Nx(l),f&512&&Qs(l,l.return);break;case 3:if(Ki(n,l),f&64&&(n=l.updateQueue,n!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{_y(n,r)}catch(k){Xe(l,l.return,k)}}break;case 27:r===null&&f&4&&Ux(l);case 26:case 5:Ki(n,l),r===null&&f&4&&Px(l),f&512&&Qs(l,l.return);break;case 12:Ki(n,l);break;case 13:Ki(n,l),f&4&&Hx(n,l),f&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=EC.bind(null,l),KC(n,l))));break;case 22:if(f=l.memoizedState!==null||Ci,!f){r=r!==null&&r.memoizedState!==null||pt,y=Ci;var b=pt;Ci=f,(pt=r)&&!b?Yi(n,l,(l.subtreeFlags&8772)!==0):Ki(n,l),Ci=y,pt=b}break;case 30:break;default:Ki(n,l)}}function Fx(n){var r=n.alternate;r!==null&&(n.alternate=null,Fx(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Hc(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var rt=null,ln=!1;function Ti(n,r,l){for(l=l.child;l!==null;)qx(n,r,l),l=l.sibling}function qx(n,r,l){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(ie,l)}catch(b){}switch(l.tag){case 26:pt||ni(l,r),Ti(n,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pt||ni(l,r);var f=rt,y=ln;er(l.type)&&(rt=l.stateNode,ln=!1),Ti(n,r,l),sl(l.stateNode),rt=f,ln=y;break;case 5:pt||ni(l,r);case 6:if(f=rt,y=ln,rt=null,Ti(n,r,l),rt=f,ln=y,rt!==null)if(ln)try{(rt.nodeType===9?rt.body:rt.nodeName==="HTML"?rt.ownerDocument.body:rt).removeChild(l.stateNode)}catch(b){Xe(l,r,b)}else try{rt.removeChild(l.stateNode)}catch(b){Xe(l,r,b)}break;case 18:rt!==null&&(ln?(n=rt,Rb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),ml(n)):Rb(rt,l.stateNode));break;case 4:f=rt,y=ln,rt=l.stateNode.containerInfo,ln=!0,Ti(n,r,l),rt=f,ln=y;break;case 0:case 11:case 14:case 15:pt||$i(2,l,r),pt||$i(4,l,r),Ti(n,r,l);break;case 1:pt||(ni(l,r),f=l.stateNode,typeof f.componentWillUnmount=="function"&&Bx(l,r,f)),Ti(n,r,l);break;case 21:Ti(n,r,l);break;case 22:pt=(f=pt)||l.memoizedState!==null,Ti(n,r,l),pt=f;break;default:Ti(n,r,l)}}function Hx(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ml(n)}catch(l){Xe(r,r.return,l)}}function wC(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Vx),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Vx),r;default:throw Error(a(435,n.tag))}}function mf(n,r){var l=wC(n);r.forEach(function(f){var y=MC.bind(null,n,f);l.has(f)||(l.add(f),f.then(y,y))})}function Sn(n,r){var l=r.deletions;if(l!==null)for(var f=0;f<l.length;f++){var y=l[f],b=n,k=r,R=k;e:for(;R!==null;){switch(R.tag){case 27:if(er(R.type)){rt=R.stateNode,ln=!1;break e}break;case 5:rt=R.stateNode,ln=!1;break e;case 3:case 4:rt=R.stateNode.containerInfo,ln=!0;break e}R=R.return}if(rt===null)throw Error(a(160));qx(b,k,y),rt=null,ln=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)$x(r,n),r=r.sibling}var $n=null;function $x(n,r){var l=n.alternate,f=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(r,n),_n(n),f&4&&($i(3,n,n.return),Ws(3,n),$i(5,n,n.return));break;case 1:Sn(r,n),_n(n),f&512&&(pt||l===null||ni(l,l.return)),f&64&&Ci&&(n=n.updateQueue,n!==null&&(f=n.callbacks,f!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var y=$n;if(Sn(r,n),_n(n),f&512&&(pt||l===null||ni(l,l.return)),f&4){var b=l!==null?l.memoizedState:null;if(f=n.memoizedState,l===null)if(f===null)if(n.stateNode===null){e:{f=n.type,l=n.memoizedProps,y=y.ownerDocument||y;t:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[ws]||b[Gt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Nt(b,f,l),b[Gt]=n,Et(b),f=b;break e;case"link":var k=Ub("link","href",y).get(f+(l.href||""));if(k){for(var R=0;R<k.length;R++)if(b=k[R],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){k.splice(R,1);break t}}b=y.createElement(f),Nt(b,f,l),y.head.appendChild(b);break;case"meta":if(k=Ub("meta","content",y).get(f+(l.content||""))){for(R=0;R<k.length;R++)if(b=k[R],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){k.splice(R,1);break t}}b=y.createElement(f),Nt(b,f,l),y.head.appendChild(b);break;default:throw Error(a(468,f))}b[Gt]=n,Et(b),f=b}n.stateNode=f}else Vb(y,n.type,n.stateNode);else n.stateNode=Ib(y,f,n.memoizedProps);else b!==f?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,f===null?Vb(y,n.type,n.stateNode):Ib(y,f,n.memoizedProps)):f===null&&n.stateNode!==null&&cf(n,n.memoizedProps,l.memoizedProps)}break;case 27:Sn(r,n),_n(n),f&512&&(pt||l===null||ni(l,l.return)),l!==null&&f&4&&cf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Sn(r,n),_n(n),f&512&&(pt||l===null||ni(l,l.return)),n.flags&32){y=n.stateNode;try{ca(y,"")}catch(J){Xe(n,n.return,J)}}f&4&&n.stateNode!=null&&(y=n.memoizedProps,cf(n,y,l!==null?l.memoizedProps:y)),f&1024&&(hf=!0);break;case 6:if(Sn(r,n),_n(n),f&4){if(n.stateNode===null)throw Error(a(162));f=n.memoizedProps,l=n.stateNode;try{l.nodeValue=f}catch(J){Xe(n,n.return,J)}}break;case 3:if(yu=null,y=$n,$n=pu(r.containerInfo),Sn(r,n),$n=y,_n(n),f&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(r.containerInfo)}catch(J){Xe(n,n.return,J)}hf&&(hf=!1,Kx(n));break;case 4:f=$n,$n=pu(n.stateNode.containerInfo),Sn(r,n),_n(n),$n=f;break;case 12:Sn(r,n),_n(n);break;case 13:Sn(r,n),_n(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vf=Xt()),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,mf(n,f)));break;case 22:y=n.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,Q=Ci,re=pt;if(Ci=Q||y,pt=re||U,Sn(r,n),pt=re,Ci=Q,_n(n),f&8192)e:for(r=n.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(l===null||U||Ci||pt||Rr(n)),l=null,r=n;;){if(r.tag===5||r.tag===26){if(l===null){U=l=r;try{if(b=U.stateNode,y)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{R=U.stateNode;var se=U.memoizedProps.style,Z=se!=null&&se.hasOwnProperty("display")?se.display:null;R.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){Xe(U,U.return,J)}}}else if(r.tag===6){if(l===null){U=r;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(J){Xe(U,U.return,J)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=n.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,mf(n,l))));break;case 19:Sn(r,n),_n(n),f&4&&(f=n.updateQueue,f!==null&&(n.updateQueue=null,mf(n,f)));break;case 30:break;case 21:break;default:Sn(r,n),_n(n)}}function _n(n){var r=n.flags;if(r&2){try{for(var l,f=n.return;f!==null;){if(Ix(f)){l=f;break}f=f.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var y=l.stateNode,b=df(n);nu(n,b,y);break;case 5:var k=l.stateNode;l.flags&32&&(ca(k,""),l.flags&=-33);var R=df(n);nu(n,R,k);break;case 3:case 4:var U=l.stateNode.containerInfo,Q=df(n);ff(n,Q,U);break;default:throw Error(a(161))}}catch(re){Xe(n,n.return,re)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Kx(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Kx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ki(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gx(n,r.alternate,r),r=r.sibling}function Rr(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),Rr(r);break;case 1:ni(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Bx(r,r.return,l),Rr(r);break;case 27:sl(r.stateNode);case 26:case 5:ni(r,r.return),Rr(r);break;case 22:r.memoizedState===null&&Rr(r);break;case 30:Rr(r);break;default:Rr(r)}n=n.sibling}}function Yi(n,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,y=n,b=r,k=b.flags;switch(b.tag){case 0:case 11:case 15:Yi(y,b,l),Ws(4,b);break;case 1:if(Yi(y,b,l),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Q){Xe(f,f.return,Q)}if(f=b,y=f.updateQueue,y!==null){var R=f.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Sy(U[y],R)}catch(Q){Xe(f,f.return,Q)}}l&&k&64&&Nx(b),Qs(b,b.return);break;case 27:Ux(b);case 26:case 5:Yi(y,b,l),l&&f===null&&k&4&&Px(b),Qs(b,b.return);break;case 12:Yi(y,b,l);break;case 13:Yi(y,b,l),l&&k&4&&Hx(y,b);break;case 22:b.memoizedState===null&&Yi(y,b,l),Qs(b,b.return);break;case 30:break;default:Yi(y,b,l)}r=r.sibling}}function pf(n,r){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ns(l))}function gf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ns(n))}function ii(n,r,l,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Yx(n,r,l,f),r=r.sibling}function Yx(n,r,l,f){var y=r.flags;switch(r.tag){case 0:case 11:case 15:ii(n,r,l,f),y&2048&&Ws(9,r);break;case 1:ii(n,r,l,f);break;case 3:ii(n,r,l,f),y&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ns(n)));break;case 12:if(y&2048){ii(n,r,l,f),n=r.stateNode;try{var b=r.memoizedProps,k=b.id,R=b.onPostCommit;typeof R=="function"&&R(k,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Xe(r,r.return,U)}}else ii(n,r,l,f);break;case 13:ii(n,r,l,f);break;case 23:break;case 22:b=r.stateNode,k=r.alternate,r.memoizedState!==null?b._visibility&2?ii(n,r,l,f):Zs(n,r):b._visibility&2?ii(n,r,l,f):(b._visibility|=2,Ea(n,r,l,f,(r.subtreeFlags&10256)!==0)),y&2048&&pf(k,r);break;case 24:ii(n,r,l,f),y&2048&&gf(r.alternate,r);break;default:ii(n,r,l,f)}}function Ea(n,r,l,f,y){for(y=y&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var b=n,k=r,R=l,U=f,Q=k.flags;switch(k.tag){case 0:case 11:case 15:Ea(b,k,R,U,y),Ws(8,k);break;case 23:break;case 22:var re=k.stateNode;k.memoizedState!==null?re._visibility&2?Ea(b,k,R,U,y):Zs(b,k):(re._visibility|=2,Ea(b,k,R,U,y)),y&&Q&2048&&pf(k.alternate,k);break;case 24:Ea(b,k,R,U,y),y&&Q&2048&&gf(k.alternate,k);break;default:Ea(b,k,R,U,y)}r=r.sibling}}function Zs(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=n,f=r,y=f.flags;switch(f.tag){case 22:Zs(l,f),y&2048&&pf(f.alternate,f);break;case 24:Zs(l,f),y&2048&&gf(f.alternate,f);break;default:Zs(l,f)}r=r.sibling}}var Js=8192;function Ma(n){if(n.subtreeFlags&Js)for(n=n.child;n!==null;)Xx(n),n=n.sibling}function Xx(n){switch(n.tag){case 26:Ma(n),n.flags&Js&&n.memoizedState!==null&&sT($n,n.memoizedState,n.memoizedProps);break;case 5:Ma(n);break;case 3:case 4:var r=$n;$n=pu(n.stateNode.containerInfo),Ma(n),$n=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Js,Js=16777216,Ma(n),Js=r):Ma(n));break;default:Ma(n)}}function Wx(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function el(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Lt=f,Zx(f,n)}Wx(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qx(n),n=n.sibling}function Qx(n){switch(n.tag){case 0:case 11:case 15:el(n),n.flags&2048&&$i(9,n,n.return);break;case 3:el(n);break;case 12:el(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,iu(n)):el(n);break;default:el(n)}}function iu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var f=r[l];Lt=f,Zx(f,n)}Wx(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$i(8,r,r.return),iu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,iu(r));break;default:iu(r)}n=n.sibling}}function Zx(n,r){for(;Lt!==null;){var l=Lt;switch(l.tag){case 0:case 11:case 15:$i(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ns(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Lt=f;else e:for(l=n;Lt!==null;){f=Lt;var y=f.sibling,b=f.return;if(Fx(f),f===l){Lt=null;break e}if(y!==null){y.return=b,Lt=y;break e}Lt=b}}}var SC={getCacheForType:function(n){var r=Ft(kt),l=r.data.get(n);return l===void 0&&(l=n(),r.data.set(n,l)),l}},_C=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Ze=null,Re=null,Oe=0,qe=0,jn=null,Xi=!1,La=!1,yf=!1,Ai=0,ft=0,Wi=0,Dr=0,xf=0,Pn=0,Ra=0,tl=null,on=null,bf=!1,vf=0,ru=1/0,au=null,Qi=null,Ot=0,Zi=null,Da=null,za=0,wf=0,Sf=null,Jx=null,nl=0,_f=null;function kn(){if((Fe&2)!==0&&Oe!==0)return Oe&-Oe;if(V.T!==null){var n=wa;return n!==0?n:Mf()}return pg()}function eb(){Pn===0&&(Pn=(Oe&536870912)===0||Ue?dg():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),Pn}function Cn(n,r,l){(n===Ze&&(qe===2||qe===9)||n.cancelPendingCommit!==null)&&(Oa(n,0),Ji(n,Oe,Pn,!1)),vs(n,l),((Fe&2)===0||n!==Ze)&&(n===Ze&&((Fe&2)===0&&(Dr|=l),ft===4&&Ji(n,Oe,Pn,!1)),ri(n))}function tb(n,r,l){if((Fe&6)!==0)throw Error(a(327));var f=!l&&(r&124)===0&&(r&n.expiredLanes)===0||Mn(n,r),y=f?CC(n,r):Cf(n,r,!0),b=f;do{if(y===0){La&&!f&&Ji(n,r,0,!1);break}else{if(l=n.current.alternate,b&&!jC(l)){y=Cf(n,r,!1),b=!1;continue}if(y===2){if(b=r,n.errorRecoveryDisabledLanes&b)var k=0;else k=n.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){r=k;e:{var R=n;y=tl;var U=R.current.memoizedState.isDehydrated;if(U&&(Oa(R,k).flags|=256),k=Cf(R,k,!1),k!==2){if(yf&&!U){R.errorRecoveryDisabledLanes|=b,Dr|=b,y=4;break e}b=on,on=y,b!==null&&(on===null?on=b:on.push.apply(on,b))}y=k}if(b=!1,y!==2)continue}}if(y===1){Oa(n,0),Ji(n,r,0,!0);break}e:{switch(f=n,b=y,b){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Ji(f,r,Pn,!Xi);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(y=vf+300-Xt(),10<y)){if(Ji(f,r,Pn,!Xi),At(f,0,!0)!==0)break e;f.timeoutHandle=Mb(nb.bind(null,f,l,on,au,bf,r,Pn,Dr,Ra,Xi,b,2,-0,0),y);break e}nb(f,l,on,au,bf,r,Pn,Dr,Ra,Xi,b,0,-0,0)}}break}while(!0);ri(n)}function nb(n,r,l,f,y,b,k,R,U,Q,re,se,Z,J){if(n.timeoutHandle=-1,se=r.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:aT},Xx(r),se=lT(),se!==null)){n.cancelPendingCommit=se(ub.bind(null,n,r,b,l,f,y,k,R,U,re,1,Z,J)),Ji(n,b,k,!Q);return}ub(n,r,b,l,f,y,k,R,U)}function jC(n){for(var r=n;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var y=l[f],b=y.getSnapshot;y=y.value;try{if(!vn(b(),y))return!1}catch(k){return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ji(n,r,l,f){r&=~xf,r&=~Dr,n.suspendedLanes|=r,n.pingedLanes&=~r,f&&(n.warmLanes|=r),f=n.expirationTimes;for(var y=r;0<y;){var b=31-_e(y),k=1<<b;f[b]=-1,y&=~k}l!==0&&hg(n,l,r)}function su(){return(Fe&6)===0?(il(0),!1):!0}function jf(){if(Re!==null){if(qe===0)var n=Re.return;else n=Re,vi=Tr=null,Ud(n),Ta=null,Ks=0,n=Re;for(;n!==null;)Ox(n.alternate,n),n=n.return;Re=null}}function Oa(n,r){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,GC(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),jf(),Ze=n,Re=l=yi(n.current,null),Oe=r,qe=0,jn=null,Xi=!1,La=Mn(n,r),yf=!1,Ra=Pn=xf=Dr=Wi=ft=0,on=tl=null,bf=!1,(r&8)!==0&&(r|=r&32);var f=n.entangledLanes;if(f!==0)for(n=n.entanglements,f&=r;0<f;){var y=31-_e(f),b=1<<y;r|=n[y],f&=~b}return Ai=r,Ao(),l}function ib(n,r){Me=null,V.H=Ko,r===Ps||r===Bo?(r=vy(),qe=3):r===yy?(r=vy(),qe=4):qe=r===wx?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,jn=r,Re===null&&(ft=1,Zo(n,Dn(r,n.current)))}function rb(){var n=V.H;return V.H=Ko,n===null?Ko:n}function ab(){var n=V.A;return V.A=SC,n}function kf(){ft=4,Xi||(Oe&4194048)!==Oe&&Bn.current!==null||(La=!0),(Wi&134217727)===0&&(Dr&134217727)===0||Ze===null||Ji(Ze,Oe,Pn,!1)}function Cf(n,r,l){var f=Fe;Fe|=2;var y=rb(),b=ab();(Ze!==n||Oe!==r)&&(au=null,Oa(n,r)),r=!1;var k=ft;e:do try{if(qe!==0&&Re!==null){var R=Re,U=jn;switch(qe){case 8:jf(),k=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var Q=qe;if(qe=0,jn=null,Na(n,R,U,Q),l&&La){k=0;break e}break;default:Q=qe,qe=0,jn=null,Na(n,R,U,Q)}}kC(),k=ft;break}catch(re){ib(n,re)}while(!0);return r&&n.shellSuspendCounter++,vi=Tr=null,Fe=f,V.H=y,V.A=b,Re===null&&(Ze=null,Oe=0,Ao()),k}function kC(){for(;Re!==null;)sb(Re)}function CC(n,r){var l=Fe;Fe|=2;var f=rb(),y=ab();Ze!==n||Oe!==r?(au=null,ru=Xt()+500,Oa(n,r)):La=Mn(n,r);e:do try{if(qe!==0&&Re!==null){r=Re;var b=jn;t:switch(qe){case 1:qe=0,jn=null,Na(n,r,b,1);break;case 2:case 9:if(xy(b)){qe=0,jn=null,lb(r);break}r=function(){qe!==2&&qe!==9||Ze!==n||(qe=7),ri(n)},b.then(r,r);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:xy(b)?(qe=0,jn=null,lb(r)):(qe=0,jn=null,Na(n,r,b,7));break;case 5:var k=null;switch(Re.tag){case 26:k=Re.memoizedState;case 5:case 27:var R=Re;if(!k||Gb(k)){qe=0,jn=null;var U=R.sibling;if(U!==null)Re=U;else{var Q=R.return;Q!==null?(Re=Q,lu(Q)):Re=null}break t}}qe=0,jn=null,Na(n,r,b,5);break;case 6:qe=0,jn=null,Na(n,r,b,6);break;case 8:jf(),ft=6;break e;default:throw Error(a(462))}}TC();break}catch(re){ib(n,re)}while(!0);return vi=Tr=null,V.H=f,V.A=y,Fe=l,Re!==null?0:(Ze=null,Oe=0,Ao(),ft)}function TC(){for(;Re!==null&&!ea();)sb(Re)}function sb(n){var r=Dx(n.alternate,n,Ai);n.memoizedProps=n.pendingProps,r===null?lu(n):Re=r}function lb(n){var r=n,l=r.alternate;switch(r.tag){case 15:case 0:r=Tx(l,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=Tx(l,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:Ud(r);default:Ox(l,r),r=Re=oy(r,Ai),r=Dx(l,r,Ai)}n.memoizedProps=n.pendingProps,r===null?lu(n):Re=r}function Na(n,r,l,f){vi=Tr=null,Ud(r),Ta=null,Ks=0;var y=r.return;try{if(gC(n,y,r,l,Oe)){ft=1,Zo(n,Dn(l,n.current)),Re=null;return}}catch(b){if(y!==null)throw Re=y,b;ft=1,Zo(n,Dn(l,n.current)),Re=null;return}r.flags&32768?(Ue||f===1?n=!0:La||(Oe&536870912)!==0?n=!1:(Xi=n=!0,(f===2||f===9||f===3||f===6)&&(f=Bn.current,f!==null&&f.tag===13&&(f.flags|=16384))),ob(r,n)):lu(r)}function lu(n){var r=n;do{if((r.flags&32768)!==0){ob(r,Xi);return}n=r.return;var l=xC(r.alternate,r,Ai);if(l!==null){Re=l;return}if(r=r.sibling,r!==null){Re=r;return}Re=r=n}while(r!==null);ft===0&&(ft=5)}function ob(n,r){do{var l=bC(n.alternate,n);if(l!==null){l.flags&=32767,Re=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(n=n.sibling,n!==null)){Re=n;return}Re=n=l}while(n!==null);ft=6,Re=null}function ub(n,r,l,f,y,b,k,R,U){n.cancelPendingCommit=null;do ou();while(Ot!==0);if((Fe&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(b=r.lanes|r.childLanes,b|=pd,ak(n,l,b,k,R,U),n===Ze&&(Re=Ze=null,Oe=0),Da=r,Zi=n,za=l,wf=b,Sf=y,Jx=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LC(na,function(){return mb(),null})):(n.callbackNode=null,n.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=V.T,V.T=null,y=X.p,X.p=2,k=Fe,Fe|=4;try{vC(n,r,l)}finally{Fe=k,X.p=y,V.T=f}}Ot=1,cb(),db(),fb()}}function cb(){if(Ot===1){Ot=0;var n=Zi,r=Da,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=V.T,V.T=null;var f=X.p;X.p=2;var y=Fe;Fe|=4;try{$x(r,n);var b=Pf,k=Zg(n.containerInfo),R=b.focusedElem,U=b.selectionRange;if(k!==R&&R&&R.ownerDocument&&Qg(R.ownerDocument.documentElement,R)){if(U!==null&&cd(R)){var Q=U.start,re=U.end;if(re===void 0&&(re=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(re,R.value.length);else{var se=R.ownerDocument||document,Z=se&&se.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),ke=R.textContent.length,ve=Math.min(U.start,ke),Ye=U.end===void 0?ve:Math.min(U.end,ke);!J.extend&&ve>Ye&&(k=Ye,Ye=ve,ve=k);var $=Wg(R,ve),F=Wg(R,Ye);if($&&F&&(J.rangeCount!==1||J.anchorNode!==$.node||J.anchorOffset!==$.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var W=se.createRange();W.setStart($.node,$.offset),J.removeAllRanges(),ve>Ye?(J.addRange(W),J.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),J.addRange(W))}}}}for(se=[],J=R;J=J.parentNode;)J.nodeType===1&&se.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<se.length;R++){var ae=se[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}vu=!!Bf,Pf=Bf=null}finally{Fe=y,X.p=f,V.T=l}}n.current=r,Ot=2}}function db(){if(Ot===2){Ot=0;var n=Zi,r=Da,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=V.T,V.T=null;var f=X.p;X.p=2;var y=Fe;Fe|=4;try{Gx(n,r.alternate,r)}finally{Fe=y,X.p=f,V.T=l}}Ot=3}}function fb(){if(Ot===4||Ot===3){Ot=0,ta();var n=Zi,r=Da,l=za,f=Jx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ot=5:(Ot=0,Da=Zi=null,hb(n,n.pendingLanes));var y=n.pendingLanes;if(y===0&&(Qi=null),Fc(l),r=r.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(ie,r,void 0,(r.current.flags&128)===128)}catch(U){}if(f!==null){r=V.T,y=X.p,X.p=2,V.T=null;try{for(var b=n.onRecoverableError,k=0;k<f.length;k++){var R=f[k];b(R.value,{componentStack:R.stack})}}finally{V.T=r,X.p=y}}(za&3)!==0&&ou(),ri(n),y=n.pendingLanes,(l&4194090)!==0&&(y&42)!==0?n===_f?nl++:(nl=0,_f=n):nl=0,il(0)}}function hb(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ns(r)))}function ou(n){return cb(),db(),fb(),mb()}function mb(){if(Ot!==5)return!1;var n=Zi,r=wf;wf=0;var l=Fc(za),f=V.T,y=X.p;try{X.p=32>l?32:l,V.T=null,l=Sf,Sf=null;var b=Zi,k=za;if(Ot=0,Da=Zi=null,za=0,(Fe&6)!==0)throw Error(a(331));var R=Fe;if(Fe|=4,Qx(b.current),Yx(b,b.current,k,l),Fe=R,il(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(ie,b)}catch(U){}return!0}finally{X.p=y,V.T=f,hb(n,r)}}function pb(n,r,l){r=Dn(l,r),r=ef(n.stateNode,r,2),n=Gi(n,r,2),n!==null&&(vs(n,2),ri(n))}function Xe(n,r,l){if(n.tag===3)pb(n,n,l);else for(;r!==null;){if(r.tag===3){pb(r,n,l);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qi===null||!Qi.has(f))){n=Dn(l,n),l=bx(2),f=Gi(r,l,2),f!==null&&(vx(l,f,r,n),vs(f,2),ri(f));break}}r=r.return}}function Tf(n,r,l){var f=n.pingCache;if(f===null){f=n.pingCache=new _C;var y=new Set;f.set(r,y)}else y=f.get(r),y===void 0&&(y=new Set,f.set(r,y));y.has(l)||(yf=!0,y.add(l),n=AC.bind(null,n,r,l),r.then(n,n))}function AC(n,r,l){var f=n.pingCache;f!==null&&f.delete(r),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Ze===n&&(Oe&l)===l&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>Xt()-vf?(Fe&2)===0&&Oa(n,0):xf|=l,Ra===Oe&&(Ra=0)),ri(n)}function gb(n,r){r===0&&(r=fg()),n=ya(n,r),n!==null&&(vs(n,r),ri(n))}function EC(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),gb(n,l)}function MC(n,r){var l=0;switch(n.tag){case 13:var f=n.stateNode,y=n.memoizedState;y!==null&&(l=y.retryLane);break;case 19:f=n.stateNode;break;case 22:f=n.stateNode._retryCache;break;default:throw Error(a(314))}f!==null&&f.delete(r),gb(n,l)}function LC(n,r){return Ve(n,r)}var uu=null,Ba=null,Af=!1,cu=!1,Ef=!1,zr=0;function ri(n){n!==Ba&&n.next===null&&(Ba===null?uu=Ba=n:Ba=Ba.next=n),cu=!0,Af||(Af=!0,DC())}function il(n,r){if(!Ef&&cu){Ef=!0;do for(var l=!1,f=uu;f!==null;){if(n!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var k=f.suspendedLanes,R=f.pingedLanes;b=(1<<31-_e(42|n)+1)-1,b&=y&~(k&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,vb(f,b))}else b=Oe,b=At(f,f===Ze?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Mn(f,b)||(l=!0,vb(f,b));f=f.next}while(l);Ef=!1}}function RC(){yb()}function yb(){cu=Af=!1;var n=0;zr!==0&&(VC()&&(n=zr),zr=0);for(var r=Xt(),l=null,f=uu;f!==null;){var y=f.next,b=xb(f,r);b===0?(f.next=null,l===null?uu=y:l.next=y,y===null&&(Ba=l)):(l=f,(n!==0||(b&3)!==0)&&(cu=!0)),f=y}il(n)}function xb(n,r){for(var l=n.suspendedLanes,f=n.pingedLanes,y=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var k=31-_e(b),R=1<<k,U=y[k];U===-1?((R&l)===0||(R&f)!==0)&&(y[k]=qn(R,r)):U<=r&&(n.expiredLanes|=R),b&=~R}if(r=Ze,l=Oe,l=At(n,n===r?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f=n.callbackNode,l===0||n===r&&(qe===2||qe===9)||n.cancelPendingCommit!==null)return f!==null&&f!==null&&ct(f),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Mn(n,l)){if(r=l&-l,r===n.callbackPriority)return r;switch(f!==null&&ct(f),Fc(l)){case 2:case 8:l=bs;break;case 32:l=na;break;case 268435456:l=go;break;default:l=na}return f=bb.bind(null,n),l=Ve(l,f),n.callbackPriority=r,n.callbackNode=l,r}return f!==null&&f!==null&&ct(f),n.callbackPriority=2,n.callbackNode=null,2}function bb(n,r){if(Ot!==0&&Ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(ou()&&n.callbackNode!==l)return null;var f=Oe;return f=At(n,n===Ze?f:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),f===0?null:(tb(n,f,r),xb(n,Xt()),n.callbackNode!=null&&n.callbackNode===l?bb.bind(null,n):null)}function vb(n,r){if(ou())return null;tb(n,r,!0)}function DC(){FC(function(){(Fe&6)!==0?Ve(xs,RC):yb()})}function Mf(){return zr===0&&(zr=dg()),zr}function wb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wo(""+n)}function Sb(n,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,n.id&&l.setAttribute("form",n.id),r.parentNode.insertBefore(l,r),n=new FormData(n),l.parentNode.removeChild(l),n}function zC(n,r,l,f,y){if(r==="submit"&&l&&l.stateNode===y){var b=wb((y[rn]||null).action),k=f.submitter;k&&(r=(r=k[rn]||null)?wb(r.formAction):k.getAttribute("formAction"),r!==null&&(b=r,k=null));var R=new ko("action","action",null,f,y);n.push({event:R,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(zr!==0){var U=k?Sb(y,k):new FormData(y);Xd(l,{pending:!0,data:U,method:y.method,action:b},null,U)}}else typeof b=="function"&&(R.preventDefault(),U=k?Sb(y,k):new FormData(y),Xd(l,{pending:!0,data:U,method:y.method,action:b},b,U))},currentTarget:y}]})}}for(var Lf=0;Lf<md.length;Lf++){var Rf=md[Lf],OC=Rf.toLowerCase(),NC=Rf[0].toUpperCase()+Rf.slice(1);Hn(OC,"on"+NC)}Hn(ty,"onAnimationEnd"),Hn(ny,"onAnimationIteration"),Hn(iy,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Jk,"onTransitionRun"),Hn(eC,"onTransitionStart"),Hn(tC,"onTransitionCancel"),Hn(ry,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),xr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xr("onBeforeInput",["compositionend","keypress","textInput","paste"]),xr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function _b(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var f=n[l],y=f.event;f=f.listeners;e:{var b=void 0;if(r)for(var k=f.length-1;0<=k;k--){var R=f[k],U=R.instance,Q=R.currentTarget;if(R=R.listener,U!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=Q;try{b(y)}catch(re){Qo(re)}y.currentTarget=null,b=U}else for(k=0;k<f.length;k++){if(R=f[k],U=R.instance,Q=R.currentTarget,R=R.listener,U!==b&&y.isPropagationStopped())break e;b=R,y.currentTarget=Q;try{b(y)}catch(re){Qo(re)}y.currentTarget=null,b=U}}}}function De(n,r){var l=r[qc];l===void 0&&(l=r[qc]=new Set);var f=n+"__bubble";l.has(f)||(jb(r,n,2,!1),l.add(f))}function Df(n,r,l){var f=0;r&&(f|=4),jb(l,n,f,r)}var du="_reactListening"+Math.random().toString(36).slice(2);function zf(n){if(!n[du]){n[du]=!0,yg.forEach(function(l){l!=="selectionchange"&&(BC.has(l)||Df(l,!1,n),Df(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[du]||(r[du]=!0,Df("selectionchange",!1,r))}}function jb(n,r,l,f){switch(Yb(r)){case 2:var y=cT;break;case 8:y=dT;break;default:y=Yf}l=y.bind(null,r,l,n),y=void 0,!td||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),f?y!==void 0?n.addEventListener(r,l,{capture:!0,passive:y}):n.addEventListener(r,l,!0):y!==void 0?n.addEventListener(r,l,{passive:y}):n.addEventListener(r,l,!1)}function Of(n,r,l,f,y){var b=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var R=f.stateNode.containerInfo;if(R===y)break;if(k===4)for(k=f.return;k!==null;){var U=k.tag;if((U===3||U===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;R!==null;){if(k=ra(R),k===null)return;if(U=k.tag,U===5||U===6||U===26||U===27){f=b=k;continue e}R=R.parentNode}}f=f.return}Lg(function(){var Q=b,re=Jc(l),se=[];e:{var Z=ay.get(n);if(Z!==void 0){var J=ko,ke=n;switch(n){case"keypress":if(_o(l)===0)break e;case"keydown":case"keyup":J=Lk;break;case"focusin":ke="focus",J=ad;break;case"focusout":ke="blur",J=ad;break;case"beforeblur":case"afterblur":J=ad;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=zg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=zk;break;case ty:case ny:case iy:J=Sk;break;case ry:J=Nk;break;case"scroll":case"scrollend":J=yk;break;case"wheel":J=Pk;break;case"copy":case"cut":case"paste":J=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Ng;break;case"toggle":case"beforetoggle":J=Uk}var ve=(r&4)!==0,Ye=!ve&&(n==="scroll"||n==="scrollend"),$=ve?Z!==null?Z+"Capture":null:Z;ve=[];for(var F=Q,W;F!==null;){var ae=F;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||$===null||(ae=_s(F,$),ae!=null&&ve.push(al(F,ae,W))),Ye)break;F=F.return}0<ve.length&&(Z=new J(Z,ke,null,l,re),se.push({event:Z,listeners:ve}))}}if((r&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Z&&l!==Zc&&(ke=l.relatedTarget||l.fromElement)&&(ra(ke)||ke[ia]))break e;if((J||Z)&&(Z=re.window===re?re:(Z=re.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(ke=l.relatedTarget||l.toElement,J=Q,ke=ke?ra(ke):null,ke!==null&&(Ye=o(ke),ve=ke.tag,ke!==Ye||ve!==5&&ve!==27&&ve!==6)&&(ke=null)):(J=null,ke=Q),J!==ke)){if(ve=zg,ae="onMouseLeave",$="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(ve=Ng,ae="onPointerLeave",$="onPointerEnter",F="pointer"),Ye=J==null?Z:Ss(J),W=ke==null?Z:Ss(ke),Z=new ve(ae,F+"leave",J,l,re),Z.target=Ye,Z.relatedTarget=W,ae=null,ra(re)===Q&&(ve=new ve($,F+"enter",ke,l,re),ve.target=W,ve.relatedTarget=Ye,ae=ve),Ye=ae,J&&ke)t:{for(ve=J,$=ke,F=0,W=ve;W;W=Pa(W))F++;for(W=0,ae=$;ae;ae=Pa(ae))W++;for(;0<F-W;)ve=Pa(ve),F--;for(;0<W-F;)$=Pa($),W--;for(;F--;){if(ve===$||$!==null&&ve===$.alternate)break t;ve=Pa(ve),$=Pa($)}ve=null}else ve=null;J!==null&&kb(se,Z,J,ve,!1),ke!==null&&Ye!==null&&kb(se,Ye,ke,ve,!0)}}e:{if(Z=Q?Ss(Q):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var he=qg;else if(Gg(Z))if(Hg)he=Wk;else{he=Yk;var Le=Kk}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Q&&Qc(Q.elementType)&&(he=qg):he=Xk;if(he&&(he=he(n,Q))){Fg(se,he,l,re);break e}Le&&Le(n,Z,Q),n==="focusout"&&Q&&Z.type==="number"&&Q.memoizedProps.value!=null&&Wc(Z,"number",Z.value)}switch(Le=Q?Ss(Q):window,n){case"focusin":(Gg(Le)||Le.contentEditable==="true")&&(ma=Le,dd=Q,Ls=null);break;case"focusout":Ls=dd=ma=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Jg(se,l,re);break;case"selectionchange":if(Zk)break;case"keydown":case"keyup":Jg(se,l,re)}var ge;if(ld)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else ha?Ug(n,l)&&(we="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(Bg&&l.locale!=="ko"&&(ha||we!=="onCompositionStart"?we==="onCompositionEnd"&&ha&&(ge=Rg()):(Pi=re,nd="value"in Pi?Pi.value:Pi.textContent,ha=!0)),Le=fu(Q,we),0<Le.length&&(we=new Og(we,n,null,l,re),se.push({event:we,listeners:Le}),ge?we.data=ge:(ge=Vg(l),ge!==null&&(we.data=ge)))),(ge=Gk?Fk(n,l):qk(n,l))&&(we=fu(Q,"onBeforeInput"),0<we.length&&(Le=new Og("onBeforeInput","beforeinput",null,l,re),se.push({event:Le,listeners:we}),Le.data=ge)),zC(se,n,Q,l,re)}_b(se,r)})}function al(n,r,l){return{instance:n,listener:r,currentTarget:l}}function fu(n,r){for(var l=r+"Capture",f=[];n!==null;){var y=n,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=_s(n,l),y!=null&&f.unshift(al(n,y,b)),y=_s(n,r),y!=null&&f.push(al(n,y,b))),n.tag===3)return f;n=n.return}return[]}function Pa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function kb(n,r,l,f,y){for(var b=r._reactName,k=[];l!==null&&l!==f;){var R=l,U=R.alternate,Q=R.stateNode;if(R=R.tag,U!==null&&U===f)break;R!==5&&R!==26&&R!==27||Q===null||(U=Q,y?(Q=_s(l,b),Q!=null&&k.unshift(al(l,Q,U))):y||(Q=_s(l,b),Q!=null&&k.push(al(l,Q,U)))),l=l.return}k.length!==0&&n.push({event:r,listeners:k})}var PC=/\r\n?/g,IC=/\u0000|\uFFFD/g;function Cb(n){return(typeof n=="string"?n:""+n).replace(PC,`
`).replace(IC,"")}function Tb(n,r){return r=Cb(r),Cb(n)===r}function hu(){}function Ke(n,r,l,f,y,b){switch(l){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||ca(n,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&ca(n,""+f);break;case"className":xo(n,"class",f);break;case"tabIndex":xo(n,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(n,l,f);break;case"style":Eg(n,f,b);break;case"data":if(r!=="object"){xo(n,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||l!=="href")){n.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=wo(""+f),n.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(r!=="input"&&Ke(n,r,"name",y.name,y,null),Ke(n,r,"formEncType",y.formEncType,y,null),Ke(n,r,"formMethod",y.formMethod,y,null),Ke(n,r,"formTarget",y.formTarget,y,null)):(Ke(n,r,"encType",y.encType,y,null),Ke(n,r,"method",y.method,y,null),Ke(n,r,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){n.removeAttribute(l);break}f=wo(""+f),n.setAttribute(l,f);break;case"onClick":f!=null&&(n.onclick=hu);break;case"onScroll":f!=null&&De("scroll",n);break;case"onScrollEnd":f!=null&&De("scrollend",n);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(l=f.__html,l!=null){if(y.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":n.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){n.removeAttribute("xlink:href");break}l=wo(""+f),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""+f):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":f===!0?n.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?n.setAttribute(l,f):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?n.setAttribute(l,f):n.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?n.removeAttribute(l):n.setAttribute(l,f);break;case"popover":De("beforetoggle",n),De("toggle",n),yo(n,"popover",f);break;case"xlinkActuate":pi(n,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":pi(n,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":pi(n,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":pi(n,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":pi(n,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":pi(n,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":pi(n,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":pi(n,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":pi(n,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":yo(n,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=pk.get(l)||l,yo(n,l,f))}}function Nf(n,r,l,f,y,b){switch(l){case"style":Eg(n,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(l=f.__html,l!=null){if(y.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof f=="string"?ca(n,f):(typeof f=="number"||typeof f=="bigint")&&ca(n,""+f);break;case"onScroll":f!=null&&De("scroll",n);break;case"onScrollEnd":f!=null&&De("scrollend",n);break;case"onClick":f!=null&&(n.onclick=hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),r=l.slice(2,y?l.length-7:void 0),b=n[rn]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(r,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(r,f,y);break e}l in n?n[l]=f:f===!0?n.setAttribute(l,""):yo(n,l,f)}}}function Nt(n,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",n),De("load",n);var f=!1,y=!1,b;for(b in l)if(l.hasOwnProperty(b)){var k=l[b];if(k!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ke(n,r,b,k,l,null)}}y&&Ke(n,r,"srcSet",l.srcSet,l,null),f&&Ke(n,r,"src",l.src,l,null);return;case"input":De("invalid",n);var R=b=k=y=null,U=null,Q=null;for(f in l)if(l.hasOwnProperty(f)){var re=l[f];if(re!=null)switch(f){case"name":y=re;break;case"type":k=re;break;case"checked":U=re;break;case"defaultChecked":Q=re;break;case"value":b=re;break;case"defaultValue":R=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,r));break;default:Ke(n,r,f,re,l,null)}}kg(n,b,R,U,Q,k,y,!1),bo(n);return;case"select":De("invalid",n),f=k=b=null;for(y in l)if(l.hasOwnProperty(y)&&(R=l[y],R!=null))switch(y){case"value":b=R;break;case"defaultValue":k=R;break;case"multiple":f=R;default:Ke(n,r,y,R,l,null)}r=b,l=k,n.multiple=!!f,r!=null?ua(n,!!f,r,!1):l!=null&&ua(n,!!f,l,!0);return;case"textarea":De("invalid",n),b=y=f=null;for(k in l)if(l.hasOwnProperty(k)&&(R=l[k],R!=null))switch(k){case"value":f=R;break;case"defaultValue":y=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Ke(n,r,k,R,l,null)}Tg(n,f,y,b),bo(n);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(f=l[U],f!=null))switch(U){case"selected":n.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ke(n,r,U,f,l,null)}return;case"dialog":De("beforetoggle",n),De("toggle",n),De("cancel",n),De("close",n);break;case"iframe":case"object":De("load",n);break;case"video":case"audio":for(f=0;f<rl.length;f++)De(rl[f],n);break;case"image":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"embed":case"source":case"link":De("error",n),De("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(f=l[Q],f!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ke(n,r,Q,f,l,null)}return;default:if(Qc(r)){for(re in l)l.hasOwnProperty(re)&&(f=l[re],f!==void 0&&Nf(n,r,re,f,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(f=l[R],f!=null&&Ke(n,r,R,f,l,null))}function UC(n,r,l,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,k=null,R=null,U=null,Q=null,re=null;for(J in l){var se=l[J];if(l.hasOwnProperty(J)&&se!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=se;default:f.hasOwnProperty(J)||Ke(n,r,J,null,f,se)}}for(var Z in f){var J=f[Z];if(se=l[Z],f.hasOwnProperty(Z)&&(J!=null||se!=null))switch(Z){case"type":b=J;break;case"name":y=J;break;case"checked":Q=J;break;case"defaultChecked":re=J;break;case"value":k=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,r));break;default:J!==se&&Ke(n,r,Z,J,f,se)}}Xc(n,k,R,U,Q,re,b,y);return;case"select":J=k=R=Z=null;for(b in l)if(U=l[b],l.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":J=U;default:f.hasOwnProperty(b)||Ke(n,r,b,null,f,U)}for(y in f)if(b=f[y],U=l[y],f.hasOwnProperty(y)&&(b!=null||U!=null))switch(y){case"value":Z=b;break;case"defaultValue":R=b;break;case"multiple":k=b;default:b!==U&&Ke(n,r,y,b,f,U)}r=R,l=k,f=J,Z!=null?ua(n,!!l,Z,!1):!!f!=!!l&&(r!=null?ua(n,!!l,r,!0):ua(n,!!l,l?[]:"",!1));return;case"textarea":J=Z=null;for(R in l)if(y=l[R],l.hasOwnProperty(R)&&y!=null&&!f.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ke(n,r,R,null,f,y)}for(k in f)if(y=f[k],b=l[k],f.hasOwnProperty(k)&&(y!=null||b!=null))switch(k){case"value":Z=y;break;case"defaultValue":J=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:y!==b&&Ke(n,r,k,y,f,b)}Cg(n,Z,J);return;case"option":for(var ke in l)if(Z=l[ke],l.hasOwnProperty(ke)&&Z!=null&&!f.hasOwnProperty(ke))switch(ke){case"selected":n.selected=!1;break;default:Ke(n,r,ke,null,f,Z)}for(U in f)if(Z=f[U],J=l[U],f.hasOwnProperty(U)&&Z!==J&&(Z!=null||J!=null))switch(U){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ke(n,r,U,Z,f,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)Z=l[ve],l.hasOwnProperty(ve)&&Z!=null&&!f.hasOwnProperty(ve)&&Ke(n,r,ve,null,f,Z);for(Q in f)if(Z=f[Q],J=l[Q],f.hasOwnProperty(Q)&&Z!==J&&(Z!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:Ke(n,r,Q,Z,f,J)}return;default:if(Qc(r)){for(var Ye in l)Z=l[Ye],l.hasOwnProperty(Ye)&&Z!==void 0&&!f.hasOwnProperty(Ye)&&Nf(n,r,Ye,void 0,f,Z);for(re in f)Z=f[re],J=l[re],!f.hasOwnProperty(re)||Z===J||Z===void 0&&J===void 0||Nf(n,r,re,Z,f,J);return}}for(var $ in l)Z=l[$],l.hasOwnProperty($)&&Z!=null&&!f.hasOwnProperty($)&&Ke(n,r,$,null,f,Z);for(se in f)Z=f[se],J=l[se],!f.hasOwnProperty(se)||Z===J||Z==null&&J==null||Ke(n,r,se,Z,f,J)}var Bf=null,Pf=null;function mu(n){return n.nodeType===9?n:n.ownerDocument}function Ab(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function If(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Uf=null;function VC(){var n=window.event;return n&&n.type==="popstate"?n===Uf?!1:(Uf=n,!0):(Uf=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,GC=typeof clearTimeout=="function"?clearTimeout:void 0,Lb=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof Lb!="undefined"?function(n){return Lb.resolve(null).then(n).catch(qC)}:Mb;function qC(n){setTimeout(function(){throw n})}function er(n){return n==="head"}function Rb(n,r){var l=r,f=0,y=0;do{var b=l.nextSibling;if(n.removeChild(l),b&&b.nodeType===8)if(l=b.data,l==="/$"){if(0<f&&8>f){l=f;var k=n.ownerDocument;if(l&1&&sl(k.documentElement),l&2&&sl(k.body),l&4)for(l=k.head,sl(l),k=l.firstChild;k;){var R=k.nextSibling,U=k.nodeName;k[ws]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&k.rel.toLowerCase()==="stylesheet"||l.removeChild(k),k=R}}if(y===0){n.removeChild(b),ml(r);return}y--}else l==="$"||l==="$?"||l==="$!"?y++:f=l.charCodeAt(0)-48;else f=0;l=b}while(l);ml(r)}function Vf(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Vf(l),Hc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function HC(n,r,l,f){for(;n.nodeType===1;){var y=l;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(f){if(!n[ws])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==y.rel||n.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||n.getAttribute("title")!==(y.title==null?null:y.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(y.src==null?null:y.src)||n.getAttribute("type")!==(y.type==null?null:y.type)||n.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=Kn(n.nextSibling),n===null)break}return null}function $C(n,r,l){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Kn(n.nextSibling),n===null))return null;return n}function Gf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function KC(n,r){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")r();else{var f=function(){r(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),n._reactRetry=f}}function Kn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Ff=null;function Db(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}function zb(n,r,l){switch(r=mu(l),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function sl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Hc(n)}var In=new Map,Ob=new Set;function pu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ei=X.d;X.d={f:YC,r:XC,D:WC,C:QC,L:ZC,m:JC,X:tT,S:eT,M:nT};function YC(){var n=Ei.f(),r=su();return n||r}function XC(n){var r=aa(n);r!==null&&r.tag===5&&r.type==="form"?tx(r):Ei.r(n)}var Ia=typeof document=="undefined"?null:document;function Nb(n,r,l){var f=Ia;if(f&&typeof r=="string"&&r){var y=Rn(r);y='link[rel="'+n+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),Ob.has(y)||(Ob.add(y),n={rel:n,crossOrigin:l,href:r},f.querySelector(y)===null&&(r=f.createElement("link"),Nt(r,"link",n),Et(r),f.head.appendChild(r)))}}function WC(n){Ei.D(n),Nb("dns-prefetch",n,null)}function QC(n,r){Ei.C(n,r),Nb("preconnect",n,r)}function ZC(n,r,l){Ei.L(n,r,l);var f=Ia;if(f&&n&&r){var y='link[rel="preload"][as="'+Rn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+Rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+Rn(l.imageSizes)+'"]')):y+='[href="'+Rn(n)+'"]';var b=y;switch(r){case"style":b=Ua(n);break;case"script":b=Va(n)}In.has(b)||(n=g({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:n,as:r},l),In.set(b,n),f.querySelector(y)!==null||r==="style"&&f.querySelector(ll(b))||r==="script"&&f.querySelector(ol(b))||(r=f.createElement("link"),Nt(r,"link",n),Et(r),f.head.appendChild(r)))}}function JC(n,r){Ei.m(n,r);var l=Ia;if(l&&n){var f=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+Rn(f)+'"][href="'+Rn(n)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Va(n)}if(!In.has(b)&&(n=g({rel:"modulepreload",href:n},r),In.set(b,n),l.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ol(b)))return}f=l.createElement("link"),Nt(f,"link",n),Et(f),l.head.appendChild(f)}}}function eT(n,r,l){Ei.S(n,r,l);var f=Ia;if(f&&n){var y=sa(f).hoistableStyles,b=Ua(n);r=r||"default";var k=y.get(b);if(!k){var R={loading:0,preload:null};if(k=f.querySelector(ll(b)))R.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":r},l),(l=In.get(b))&&qf(n,l);var U=k=f.createElement("link");Et(U),Nt(U,"link",n),U._p=new Promise(function(Q,re){U.onload=Q,U.onerror=re}),U.addEventListener("load",function(){R.loading|=1}),U.addEventListener("error",function(){R.loading|=2}),R.loading|=4,gu(k,r,f)}k={type:"stylesheet",instance:k,count:1,state:R},y.set(b,k)}}}function tT(n,r){Ei.X(n,r);var l=Ia;if(l&&n){var f=sa(l).hoistableScripts,y=Va(n),b=f.get(y);b||(b=l.querySelector(ol(y)),b||(n=g({src:n,async:!0},r),(r=In.get(y))&&Hf(n,r),b=l.createElement("script"),Et(b),Nt(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function nT(n,r){Ei.M(n,r);var l=Ia;if(l&&n){var f=sa(l).hoistableScripts,y=Va(n),b=f.get(y);b||(b=l.querySelector(ol(y)),b||(n=g({src:n,async:!0,type:"module"},r),(r=In.get(y))&&Hf(n,r),b=l.createElement("script"),Et(b),Nt(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function Bb(n,r,l,f){var y=(y=je.current)?pu(y):null;if(!y)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Ua(l.href),l=sa(y).hoistableStyles,f=l.get(r),f||(f={type:"style",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Ua(l.href);var b=sa(y).hoistableStyles,k=b.get(n);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,k),(b=y.querySelector(ll(n)))&&!b._p&&(k.instance=b,k.state.loading=5),In.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},In.set(n,l),b||iT(y,n,l,k.state))),r&&f===null)throw Error(a(528,""));return k}if(r&&f!==null)throw Error(a(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Va(l),l=sa(y).hoistableScripts,f=l.get(r),f||(f={type:"script",instance:null,count:0,state:null},l.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ua(n){return'href="'+Rn(n)+'"'}function ll(n){return'link[rel="stylesheet"]['+n+"]"}function Pb(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function iT(n,r,l,f){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=n.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Nt(r,"link",l),Et(r),n.head.appendChild(r))}function Va(n){return'[src="'+Rn(n)+'"]'}function ol(n){return"script[async]"+n}function Ib(n,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var f=n.querySelector('style[data-href~="'+Rn(l.href)+'"]');if(f)return r.instance=f,Et(f),f;var y=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(n.ownerDocument||n).createElement("style"),Et(f),Nt(f,"style",y),gu(f,l.precedence,n),r.instance=f;case"stylesheet":y=Ua(l.href);var b=n.querySelector(ll(y));if(b)return r.state.loading|=4,r.instance=b,Et(b),b;f=Pb(l),(y=In.get(y))&&qf(f,y),b=(n.ownerDocument||n).createElement("link"),Et(b);var k=b;return k._p=new Promise(function(R,U){k.onload=R,k.onerror=U}),Nt(b,"link",f),r.state.loading|=4,gu(b,l.precedence,n),r.instance=b;case"script":return b=Va(l.src),(y=n.querySelector(ol(b)))?(r.instance=y,Et(y),y):(f=l,(y=In.get(b))&&(f=g({},l),Hf(f,y)),n=n.ownerDocument||n,y=n.createElement("script"),Et(y),Nt(y,"link",f),n.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,gu(f,l.precedence,n));return r.instance}function gu(n,r,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,k=0;k<f.length;k++){var R=f[k];if(R.dataset.precedence===r)b=R;else if(b!==y)break}b?b.parentNode.insertBefore(n,b.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(n,r.firstChild))}function qf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Hf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var yu=null;function Ub(n,r,l){if(yu===null){var f=new Map,y=yu=new Map;y.set(l,f)}else y=yu,f=y.get(l),f||(f=new Map,y.set(l,f));if(f.has(n))return f;for(f.set(n,null),l=l.getElementsByTagName(n),y=0;y<l.length;y++){var b=l[y];if(!(b[ws]||b[Gt]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(r)||"";k=n+k;var R=f.get(k);R?R.push(b):f.set(k,[b])}}return f}function Vb(n,r,l){n=n.ownerDocument||n,n.head.insertBefore(l,r==="title"?n.querySelector("head > title"):null)}function rT(n,r,l){if(l===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Gb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ul=null;function aT(){}function sT(n,r,l){if(ul===null)throw Error(a(475));var f=ul;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var y=Ua(l.href),b=n.querySelector(ll(y));if(b){n=b._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(f.count++,f=xu.bind(f),n.then(f,f)),r.state.loading|=4,r.instance=b,Et(b);return}b=n.ownerDocument||n,l=Pb(l),(y=In.get(y))&&qf(l,y),b=b.createElement("link"),Et(b);var k=b;k._p=new Promise(function(R,U){k.onload=R,k.onerror=U}),Nt(b,"link",l),r.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(f.count++,r=xu.bind(f),n.addEventListener("load",r),n.addEventListener("error",r))}}function lT(){if(ul===null)throw Error(a(475));var n=ul;return n.stylesheets&&n.count===0&&$f(n,n.stylesheets),0<n.count?function(r){var l=setTimeout(function(){if(n.stylesheets&&$f(n,n.stylesheets),n.unsuspend){var f=n.unsuspend;n.unsuspend=null,f()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bu=null;function $f(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bu=new Map,r.forEach(oT,n),bu=null,xu.call(n))}function oT(n,r){if(!(r.state.loading&4)){var l=bu.get(n);if(l)var f=l.get(null);else{l=new Map,bu.set(n,l);for(var y=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var k=y[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(l.set(k.dataset.precedence,k),f=k)}f&&l.set(null,f)}y=r.instance,k=y.getAttribute("data-precedence"),b=l.get(k)||f,b===f&&l.set(null,y),l.set(k,y),this.count++,f=xu.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(y,n.firstChild)),r.state.loading|=4}}var cl={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function uT(n,r,l,f,y,b,k,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.hiddenUpdates=Vc(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Fb(n,r,l,f,y,b,k,R,U,Q,re,se){return n=new uT(n,r,l,k,R,U,Q,se),r=1,b===!0&&(r|=24),b=wn(3,null,null,r),n.current=b,b.stateNode=n,r=Cd(),r.refCount++,n.pooledCache=r,r.refCount++,b.memoizedState={element:f,isDehydrated:l,cache:r},Md(b),n}function qb(n){return n?(n=xa,n):xa}function Hb(n,r,l,f,y,b){y=qb(y),f.context===null?f.context=y:f.pendingContext=y,f=Vi(r),f.payload={element:l},b=b===void 0?null:b,b!==null&&(f.callback=b),l=Gi(n,f,r),l!==null&&(Cn(l,n,r),Us(l,n,r))}function $b(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function Kf(n,r){$b(n,r),(n=n.alternate)&&$b(n,r)}function Kb(n){if(n.tag===13){var r=ya(n,67108864);r!==null&&Cn(r,n,67108864),Kf(n,67108864)}}var vu=!0;function cT(n,r,l,f){var y=V.T;V.T=null;var b=X.p;try{X.p=2,Yf(n,r,l,f)}finally{X.p=b,V.T=y}}function dT(n,r,l,f){var y=V.T;V.T=null;var b=X.p;try{X.p=8,Yf(n,r,l,f)}finally{X.p=b,V.T=y}}function Yf(n,r,l,f){if(vu){var y=Xf(f);if(y===null)Of(n,r,f,wu,l),Xb(n,f);else if(hT(y,n,r,l,f))f.stopPropagation();else if(Xb(n,f),r&4&&-1<fT.indexOf(n)){for(;y!==null;){var b=aa(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=bn(b.pendingLanes);if(k!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;k;){var U=1<<31-_e(k);R.entanglements[1]|=U,k&=~U}ri(b),(Fe&6)===0&&(ru=Xt()+500,il(0))}}break;case 13:R=ya(b,2),R!==null&&Cn(R,b,2),su(),Kf(b,2)}if(b=Xf(f),b===null&&Of(n,r,f,wu,l),b===y)break;y=b}y!==null&&f.stopPropagation()}else Of(n,r,f,null,l)}}function Xf(n){return n=Jc(n),Wf(n)}var wu=null;function Wf(n){if(wu=null,n=ra(n),n!==null){var r=o(n);if(r===null)n=null;else{var l=r.tag;if(l===13){if(n=u(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return wu=n,null}function Yb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case xs:return 2;case bs:return 8;case na:case Pc:return 32;case go:return 268435456;default:return 32}default:return 32}}var Qf=!1,tr=null,nr=null,ir=null,dl=new Map,fl=new Map,rr=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xb(n,r){switch(n){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(r.pointerId)}}function hl(n,r,l,f,y,b){return n===null||n.nativeEvent!==b?(n={blockedOn:r,domEventName:l,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},r!==null&&(r=aa(r),r!==null&&Kb(r)),n):(n.eventSystemFlags|=f,r=n.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),n)}function hT(n,r,l,f,y){switch(r){case"focusin":return tr=hl(tr,n,r,l,f,y),!0;case"dragenter":return nr=hl(nr,n,r,l,f,y),!0;case"mouseover":return ir=hl(ir,n,r,l,f,y),!0;case"pointerover":var b=y.pointerId;return dl.set(b,hl(dl.get(b)||null,n,r,l,f,y)),!0;case"gotpointercapture":return b=y.pointerId,fl.set(b,hl(fl.get(b)||null,n,r,l,f,y)),!0}return!1}function Wb(n){var r=ra(n.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){n.blockedOn=r,sk(n.priority,function(){if(l.tag===13){var f=kn();f=Gc(f);var y=ya(l,f);y!==null&&Cn(y,l,f),Kf(l,f)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Su(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=Xf(n.nativeEvent);if(l===null){l=n.nativeEvent;var f=new l.constructor(l.type,l);Zc=f,l.target.dispatchEvent(f),Zc=null}else return r=aa(l),r!==null&&Kb(r),n.blockedOn=l,!1;r.shift()}return!0}function Qb(n,r,l){Su(n)&&l.delete(r)}function mT(){Qf=!1,tr!==null&&Su(tr)&&(tr=null),nr!==null&&Su(nr)&&(nr=null),ir!==null&&Su(ir)&&(ir=null),dl.forEach(Qb),fl.forEach(Qb)}function _u(n,r){n.blockedOn===r&&(n.blockedOn=null,Qf||(Qf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mT)))}var ju=null;function Zb(n){ju!==n&&(ju=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ju===n&&(ju=null);for(var r=0;r<n.length;r+=3){var l=n[r],f=n[r+1],y=n[r+2];if(typeof f!="function"){if(Wf(f||l)===null)continue;break}var b=aa(l);b!==null&&(n.splice(r,3),r-=3,Xd(b,{pending:!0,data:y,method:l.method,action:f},f,y))}}))}function ml(n){function r(U){return _u(U,n)}tr!==null&&_u(tr,n),nr!==null&&_u(nr,n),ir!==null&&_u(ir,n),dl.forEach(r),fl.forEach(r);for(var l=0;l<rr.length;l++){var f=rr[l];f.blockedOn===n&&(f.blockedOn=null)}for(;0<rr.length&&(l=rr[0],l.blockedOn===null);)Wb(l),l.blockedOn===null&&rr.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var y=l[f],b=l[f+1],k=y[rn]||null;if(typeof b=="function")k||Zb(l);else if(k){var R=null;if(b&&b.hasAttribute("formAction")){if(y=b,k=b[rn]||null)R=k.formAction;else if(Wf(y)!==null)continue}else R=k.action;typeof R=="function"?l[f+1]=R:(l.splice(f,3),f-=3),Zb(l)}}}function Zf(n){this._internalRoot=n}ku.prototype.render=Zf.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var l=r.current,f=kn();Hb(l,f,n,r,null,null)},ku.prototype.unmount=Zf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Hb(n.current,2,null,n,null,null),su(),r[ia]=null}};function ku(n){this._internalRoot=n}ku.prototype.unstable_scheduleHydration=function(n){if(n){var r=pg();n={blockedOn:null,target:n,priority:r};for(var l=0;l<rr.length&&r!==0&&r<rr[l].priority;l++);rr.splice(l,0,n),l===0&&Wb(n)}};var Jb=t.version;if(Jb!=="19.1.1")throw Error(a(527,Jb,"19.1.1"));X.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=h(r),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var pT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{ie=Cu.inject(pT),oe=Cu}catch(n){}}return wl.createRoot=function(n,r){if(!s(n))throw Error(a(299));var l=!1,f="",y=px,b=gx,k=yx,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(k=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=Fb(n,1,!1,null,null,l,f,y,b,k,R,null),n[ia]=r.current,zf(n),new Zf(r)},wl.hydrateRoot=function(n,r,l){if(!s(n))throw Error(a(299));var f=!1,y="",b=px,k=gx,R=yx,U=null,Q=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(k=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(Q=l.formState)),r=Fb(n,1,!0,r,l!=null?l:null,f,y,b,k,R,U,Q),r.context=qb(null),l=r.current,f=kn(),f=Gc(f),y=Vi(f),y.callback=null,Gi(l,y,f),l=f,r.current.lanes=l,vs(r,l),ri(r),n[ia]=r.current,zf(n),new ku(r)},wl.version="19.1.1",wl}var F1;function e6(){if(F1)return Vh.exports;F1=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vh.exports=JU(),Vh.exports}var t6=e6();const n6=to(t6);function i6(){BT({dsn:"https://648e7e08e36307ea3dea4554e1d41501@o4509823318818816.ingest.us.sentry.io/4509823321047040",environment:"production",integrations:[PT(),IT({maskAllText:!1,blockAllMedia:!1})],tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,beforeSend(e){var t,i,a,s,o,u,d,h,m,g,p,x,v,w,S,C,j,M,T,D,A,E,z,N,P,L,B,G,Y,ee,le,V,X,te;(s=(a=(i=(t=e.exception)==null?void 0:t.values)==null?void 0:i[0])==null?void 0:a.value)!=null&&s.includes("Importing a module script failed")&&(e.tags={...e.tags,ios_safari_module_error:!0},e.fingerprint=["ios-safari-module-loading-error"]),((h=(d=(u=(o=e.exception)==null?void 0:o.values)==null?void 0:u[0])==null?void 0:d.value)!=null&&h.includes("insertBefore")||(x=(p=(g=(m=e.exception)==null?void 0:m.values)==null?void 0:g[0])==null?void 0:p.value)!=null&&x.includes("not a child of this node"))&&(e.tags={...e.tags,react_dom_insertion_error:!0},e.fingerprint=["react-dom-insertion-error"]),((C=(S=(w=(v=e.exception)==null?void 0:v.values)==null?void 0:w[0])==null?void 0:S.value)!=null&&C.includes("Method not found")||(D=(T=(M=(j=e.exception)==null?void 0:j.values)==null?void 0:M[0])==null?void 0:T.value)!=null&&D.includes("Failed to resolve module specifier"))&&(e.tags={...e.tags,module_resolution_error:!0},e.fingerprint=["module-resolution-error"]);const ne=navigator.userAgent.toLowerCase();return ne.includes("firefox")&&(ne.includes("mobile")||ne.includes("tablet"))&&(e.tags={...e.tags,firefox_mobile:!0},((N=(z=(E=(A=e.exception)==null?void 0:A.values)==null?void 0:E[0])==null?void 0:z.value)!=null&&N.includes("login")||(G=(B=(L=(P=e.exception)==null?void 0:P.values)==null?void 0:L[0])==null?void 0:B.value)!=null&&G.includes("auth")||(V=(le=(ee=(Y=e.exception)==null?void 0:Y.values)==null?void 0:ee[0])==null?void 0:le.value)!=null&&V.includes("firebase")||(X=e.message)!=null&&X.includes("login")||(te=e.message)!=null&&te.includes("auth"))&&(e.tags={...e.tags,firefox_mobile_auth_error:!0},e.fingerprint=["firefox-mobile-auth-error"])),e}})}const r6=NT;typeof window!="undefined"&&!window.importShim&&(window.addEventListener("error",function(e){const t=e.message||e.error&&e.error.message;if(t&&typeof t=="string"&&(t.includes("Importing a module script failed")||t.includes("Failed to resolve module specifier")||t.includes("Method not found"))&&(console.warn("Module loading/resolution issue detected:",t),!sessionStorage.getItem("module_reload_attempted"))){sessionStorage.setItem("module_reload_attempted","1"),setTimeout(()=>window.location.reload(),1e3),e.preventDefault();return}}),window.addEventListener("unhandledrejection",function(e){const t=e.reason;if(t&&t.message){const i=t.message;(i.includes("module script failed")||i.includes("Failed to resolve module specifier")||i.includes("Method not found"))&&(console.warn("Dynamic import/method resolution failed:",i),e.preventDefault())}}));i6();const q1=()=>{Il(()=>import("../js/chunk-BNAJ8HKu.js").then(function(i){return i.Y}),__vite__mapDeps([1,2,3,4,5])).catch(i=>{console.warn("Failed to load i18n module:",i)}),Il(()=>import("../js/chunk-jKbTT2ql.js").then(function(i){return i.i}),__vite__mapDeps([7,1,2,3,4,5])).then(i=>{i!=null&&i.defineCustomElements&&i.defineCustomElements(window)}).catch(i=>{console.warn("Failed to load PWA elements:",i)});const e=(i,a=!1)=>{const s=document.createElement("link");return s.rel="stylesheet",s.href=`https://fonts.googleapis.com/css2?family=Roboto:wght@${i.join(";")}&display=swap`,s.crossOrigin="anonymous",s.onerror=()=>{console.warn(`Failed to load Roboto font weights: ${i.join(", ")}`)},a?document.head.insertBefore(s,document.head.firstChild):document.head.appendChild(s),s};e(["400","500"],!0);const t=()=>{const i=navigator.connection||navigator.mozConnection||navigator.webkitConnection;(!i||i.effectiveType!=="slow-2g")&&e(["300","700"])};document.readyState==="complete"?t():window.addEventListener("load",t,{once:!0})};typeof window!="undefined"&&("requestIdleCallback"in window?window.requestIdleCallback(q1,{timeout:500}):setTimeout(q1,100));const a6=()=>{const e=document.getElementById("instant-loading");e&&(e.style.transition="opacity 200ms ease-out",e.style.opacity="0",requestAnimationFrame(()=>{setTimeout(()=>{const t=document.getElementById("instant-loading");if(t&&t.parentNode&&t.parentNode.contains(t))try{t.parentNode.removeChild(t)}catch(i){console.warn("Failed to remove instant loading element:",i),t.style.display="none"}},250)}))},s6=n6.createRoot(document.getElementById("root"));s6.render(c.jsx(Pt.StrictMode,{children:c.jsx(r6,{fallback:({error:e,resetError:t})=>c.jsxs("div",{style:{padding:"20px",textAlign:"center"},children:[c.jsx("h2",{children:"Something went wrong"}),c.jsx("p",{children:"The error has been reported to our team."}),c.jsxs("details",{style:{marginTop:"10px"},children:[c.jsx("summary",{children:"Error details"}),c.jsx("pre",{style:{textAlign:"left",background:"#f5f5f5",padding:"10px",margin:"10px 0"},children:e.toString()})]}),c.jsx("button",{onClick:t,style:{padding:"10px 20px",marginTop:"10px"},children:"Try again"})]}),children:c.jsx(m2,{children:c.jsx(Pt.Suspense,{fallback:null,children:c.jsx(WU,{})})})})}));a6();export{p2 as c,Xw as g,gw as i};
//# sourceMappingURL=index-Q65SAN92.js.map

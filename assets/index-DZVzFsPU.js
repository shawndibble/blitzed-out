const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DgxLdaHm.js","assets/mui-Bjnq2ocN.js","assets/vendor-Bf6wU4zJ.js","assets/strings-CDDZH-Xs.js","assets/translations-CairTNs2.js","assets/index-GXGqHI8R.js","assets/firebase-CsLsfVdN.js","assets/index-BLzN9Xjz.css","assets/index-NwOQyngl.js","assets/index-e79GV5zf.js","assets/gameBoard-DSIbRPPN.js","assets/urls-bwAPA7IR.js","assets/useActionList-DVU254-F.js","assets/languages-KK0t13AM.js","assets/index-CignLajt.css","assets/index-BFEl5mb6.js","assets/index-0XjfPz8-.css","assets/index-BKpJKaIN.js","assets/index-DEg2tgeF.js","assets/index-Cq_gTrn8.js"])))=>i.map(i=>d[i]);
import{a as t,b as D,u as E}from"./vendor-Bf6wU4zJ.js";import{S as O,u as A,f as B,_ as p}from"./index-GXGqHI8R.js";import{z as M,$ as z,j as e,i as v,a0 as P,n as N,p as R,o as G,a1 as V,a2 as $,a3 as W,a4 as F,a5 as J,a6 as K,a7 as q,a8 as H,f as u,a9 as Q,aa as U,ab as Y,ac as X,ad as Z,ae as I,af as ee,ag as se,h as C,v as ne,ah as oe,k as te,ai as ae,aj as ie,ak as k,al as re,am as le,an as ce,ao as de}from"./mui-Bjnq2ocN.js";import{u as T,T as m}from"./translations-CairTNs2.js";import{i as ue}from"./strings-CDDZH-Xs.js";function _(s="sm"){const n=M();return z(n.breakpoints.down(s))}function me(s,n){const o=localStorage.getItem(s);if(!o)return n;const a=JSON.parse(o);return typeof n=="object"&&Object.keys(n).length?{...n,...a}:a}function Oe(s,n={}){const o=`${s}Storage`,[a,d]=t.useState(()=>me(s,n));t.useEffect(()=>{const l=r=>d(r.newValue);return window.addEventListener(o,l),()=>window.removeEventListener(o,l)},[o]);const x=t.useCallback(l=>{localStorage.setItem(s,JSON.stringify(l));const r=new Event(o);r.newValue=l,window.dispatchEvent(r)},[s,o]);return[a,x]}function xe(){const s=D.useContext(O);if(!s)throw new Error("ScheduleContext's value is undefined.");return s}const ge="/assets/blitzed-out-DGhYHOgx.png";function pe({close:s}){return e.jsx(v,{"aria-label":"close",onClick:s,sx:{position:"absolute",right:8,top:8},children:e.jsx(P,{})})}function he({children:s,open:n,close:o=null,isMobile:a=null,title:d=null,isLoading:x=!1}){const l=a||_();return x?null:e.jsxs(N,{fullScreen:l,open:n,maxWidth:"md",children:[e.jsxs(R,{children:[d,typeof o=="function"&&e.jsx(pe,{close:o})]}),e.jsx(G,{children:s})]})}const je=t.lazy(()=>p(()=>import("./index-DgxLdaHm.js").then(s=>s.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),fe=t.lazy(()=>p(()=>import("./index-BFEl5mb6.js"),__vite__mapDeps([15,1,2,4,5,6,7,3,16]))),be=t.lazy(()=>p(()=>import("./index-BKpJKaIN.js"),__vite__mapDeps([17,1,2,8,5,6,4,7,9,10,3]))),ye=t.lazy(()=>p(()=>import("./index-DEg2tgeF.js"),__vite__mapDeps([18,1,2,9,4,5,6,7,11,3]))),Se=t.lazy(()=>p(()=>import("./index-Cq_gTrn8.js"),__vite__mapDeps([19,1,2,12,8,5,6,4,7,9,3])));function ve(){const{id:s}=E(),{user:n}=A(),o=_(),{i18n:a}=T(),[d,x]=t.useState(!1),l=i=>x(i),[r,b]=t.useState({settings:!1,gameBoard:!1,about:!1,schedule:!1,customTiles:!1}),c=(i,g)=>b({...r,[i]:g}),h=i=>window.open(i,"_blank","noreferrer"),j=e.jsx(U,{children:e.jsx("path",{d:"M18.942 5.556a16.299 16.299 0 0 0-4.126-1.297c-.178.321-.385.754-.529 1.097a15.175 15.175 0 0 0-4.573 0 11.583 11.583 0 0 0-.535-1.097 16.274 16.274 0 0 0-4.129 1.3c-2.611 3.946-3.319 7.794-2.965 11.587a16.494 16.494 0 0 0 5.061 2.593 12.65 12.65 0 0 0 1.084-1.785 10.689 10.689 0 0 1-1.707-.831c.143-.106.283-.217.418-.331 3.291 1.539 6.866 1.539 10.118 0 .137.114.277.225.418.331-.541.326-1.114.606-1.71.832a12.52 12.52 0 0 0 1.084 1.785 16.46 16.46 0 0 0 5.064-2.595c.415-4.396-.709-8.209-2.973-11.589zM8.678 14.813c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c.001 1.123-.793 2.045-1.798 2.045zm6.644 0c-.988 0-1.798-.922-1.798-2.045s.793-2.047 1.798-2.047 1.815.922 1.798 2.047c0 1.123-.793 2.045-1.798 2.045z"})}),y=i=>{a.changeLanguage(i),localStorage.setItem("gameSettings",JSON.stringify({...JSON.parse(localStorage.getItem("gameSettings")||"{}"),locale:i}))},w=t.useMemo(()=>{const i=[{key:"gameBoard",title:e.jsx(m,{i18nKey:"gameBoards"}),icon:e.jsx(Y,{}),onClick:()=>c("gameBoard",!0)},{key:"customTiles",title:e.jsx(m,{i18nKey:"customTilesLabel"}),icon:e.jsx(X,{}),onClick:()=>c("customTiles",!0)},{key:"cast",title:e.jsx(m,{i18nKey:"cast"}),icon:e.jsx(Z,{}),onClick:()=>h(`/${s.toUpperCase()}/cast`)},{key:"schedule",title:e.jsx(m,{i18nKey:"schedule"}),icon:e.jsx(I,{}),onClick:()=>c("schedule",!0)},{key:"discord",title:"Discord",icon:j,onClick:()=>h("https://discord.gg/mSPBE2hFef")},{key:"about",title:e.jsx(m,{i18nKey:"about"}),icon:e.jsx(ee,{}),onClick:()=>c("about",!0)}];return n&&(i.unshift({key:"settings",title:e.jsx(m,{i18nKey:"settings"}),icon:e.jsx(V,{}),onClick:()=>c("settings",!0)}),i.push({key:"logout",title:e.jsx(m,{i18nKey:"logout"}),icon:e.jsx($,{}),onClick:()=>B()})),i},[n,s]).map(({key:i,title:g,icon:S,onClick:L})=>e.jsx(W,{disablePadding:!0,onClick:L,children:e.jsxs(F,{children:[e.jsx(J,{children:S}),e.jsx(K,{primary:g})]})},i)),f=(i,g,S={})=>e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(i,{open:r[g],close:()=>c(g,!1),isMobile:o,...S})});return e.jsxs(e.Fragment,{children:[e.jsx(v,{onClick:()=>l(!0),"aria-label":"open menu",children:e.jsx(q,{})}),e.jsx(H,{anchor:"right",open:d,onClose:()=>l(!1),children:e.jsxs(u,{role:"presentation",onClick:()=>l(!1),sx:{width:250,display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx(Q,{sx:{flexGrow:1},children:w}),e.jsxs(u,{sx:{borderTop:"1px solid rgba(0, 0, 0, 0.12)",p:2,display:"flex",justifyContent:"center",gap:1},children:[e.jsx(u,{component:"span",onClick:()=>y("en"),sx:{cursor:"pointer",fontWeight:a.language==="en"?"bold":"normal",color:a.language==="en"?"primary.main":"inherit"},children:"English"}),e.jsx(u,{component:"span",children:"|"}),e.jsx(u,{component:"span",onClick:()=>y("fr"),sx:{cursor:"pointer",fontWeight:a.language==="fr"?"bold":"normal",color:a.language==="fr"?"primary.main":"inherit"},children:"Français"}),e.jsx(u,{component:"span",children:"|"}),e.jsx(u,{component:"span",onClick:()=>y("es"),sx:{cursor:"pointer",fontWeight:a.language==="es"?"bold":"normal",color:a.language==="es"?"primary.main":"inherit"},children:"Español"})]})]})}),r.settings&&f(je,"settings"),r.about&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(he,{open:r.about,close:()=>c("about",!1),fullScreen:o,children:e.jsx(fe,{close:()=>c("about",!1),isMobile:o})})}),r.gameBoard&&f(be,"gameBoard"),r.schedule&&f(ye,"schedule"),r.customTiles&&f(Se,"customTiles")]})}function ke({playerList:s,innerRef:n,...o}){return e.jsxs("div",{...o,ref:n,children:[e.jsx(se,{color:"success",sx:{fontSize:8,marginRight:"0.2rem"}}),s.length]})}const _e=t.lazy(()=>p(()=>import("./index-DEg2tgeF.js"),__vite__mapDeps([18,1,2,9,4,5,6,7,11,3])));function Ae({room:s,playerList:n=[]}){const{t:o}=T(),[a,d]=t.useState(!1),[x,l]=t.useState(!1),{schedule:r}=xe(),{isMobile:b}=_(),c=()=>{d(!0),l(!0)},h=e.jsxs(e.Fragment,{children:[e.jsx(C,{variant:"h6",children:e.jsx(m,{i18nKey:"online"})}),e.jsx("ul",{children:n.map(j=>e.jsx("li",{children:e.jsx(C,{variant:"body1",children:j.displayName})},j.uid))})]});return e.jsx(ne,{position:"fixed",children:e.jsxs(oe,{disableGutters:!0,variant:"dense",component:"nav",className:"nav",children:[e.jsxs("div",{className:"site-name",children:[e.jsx(u,{component:"img",sx:{height:32},alt:"Blitzed Out Logo",src:ge}),e.jsx("h1",{children:"Blitzed Out"})]}),e.jsx("div",{children:e.jsxs("div",{className:"nav-room-name",children:[e.jsx("h2",{children:ue(s)||s===void 0?o("public"):s}),e.jsx(te,{title:h,children:e.jsx(Ce,{playerList:n})}),e.jsx(v,{onClick:c,"aria-label":"schedule game",sx:{ml:2},children:e.jsx(ae,{color:"primary",badgeContent:x?null:r.length,children:e.jsx(I,{})})}),a&&e.jsx(ie,{children:e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(_e,{open:a,close:()=>d(!1),isMobile:b})})})]})}),e.jsx("div",{className:"menu-drawer",children:e.jsx(ve,{})})]})})}const Ce=t.forwardRef((s,n)=>e.jsx(ke,{...s,innerRef:n})),Be=k(s=>e.jsx(re,{disableGutters:!0,elevation:0,square:!0,...s}))(({theme:s})=>({border:`1px solid ${s.palette.divider}`,"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}})),Me=k(s=>e.jsx(le,{expandIcon:e.jsx(ce,{sx:{fontSize:"0.9rem"}}),...s}))(({theme:s})=>({backgroundColor:s.palette.mode==="dark"?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:s.spacing(1)}})),ze=k(de)(({theme:s})=>({padding:s.spacing(2),borderTop:"1px solid rgba(0, 0, 0, .125)"}));export{Be as A,pe as C,Ae as N,Oe as a,Me as b,ze as c,xe as d,_ as u};

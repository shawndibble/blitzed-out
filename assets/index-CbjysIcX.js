import{j as a,B as m,b as B,G as s,d as i,e as o,f as D,g as v,L as K,h as T}from"./mui-BnTXCE-8.js";import{u as P}from"./index-CzcRMrQJ.js";import{u as k,a as w,l as E,N as G}from"./index-Dp22mWpS.js";import{u as U}from"./strings-DL3cDbr1.js";import{u as A,k as F,a as q}from"./vendor-Bf6wU4zJ.js";import I from"./index-B_7XCKGW.js";import{u as M,T as t}from"./translations-CairTNs2.js";import"./firebase-CsLsfVdN.js";function X(){const{i18n:l,t:u}=M(),{login:x,user:n}=P(),h=A(),[g]=F(),p=!!g.get("importBoard"),c=h.id??"PUBLIC",j=U(),f=k("sm"),[r,y]=q.useState((n==null?void 0:n.displayName)||""),[N,b]=w("gameSettings",{boardUpdated:!1,roomUpdated:!1,playerDialog:!0,othersDialog:!1,mySound:!0,chatSound:!0,hideBoardActions:!1,locale:"en",gameMode:"online",background:"color",finishRange:[30,70],roomTileCount:40,roomDice:"1d6"}),d=async e=>{e.preventDefault(),await b({...N,displayName:r,room:c}),await x(r)},L=async e=>{e.key==="Enter"&&await d(e)},S=Object.entries(E).map(([e,C])=>a.jsx(m,{onClick:()=>l.changeLanguage(e),disabled:l.resolvedLanguage===e,children:C.label},e));return a.jsxs(a.Fragment,{children:[a.jsx(G,{room:c,playerList:j}),a.jsxs(B,{maxWidth:"sm",sx:{mt:8},children:[a.jsx(s,{container:!0,flexDirection:"column",children:a.jsx(i,{className:"unauthenticated-card",children:a.jsxs(o,{children:[a.jsx("h2",{className:"setup",children:a.jsx(t,{i18nKey:"setup"})}),a.jsxs(D,{component:"form",method:"post",onSubmit:d,className:"settings-box",children:[a.jsx(v,{fullWidth:!0,id:"displayName",label:u("displayName"),value:r,onChange:e=>y(e.target.value),required:!0,autoFocus:!0,onKeyDown:e=>L(e),margin:"normal"}),a.jsx("div",{className:"flex-buttons",children:a.jsx(m,{variant:"contained",type:"submit",children:p?a.jsx(t,{i18nKey:"import"}):a.jsx(t,{i18nKey:"access"})})})]})]})})}),a.jsx(s,{container:!0,sx:{mt:1},children:a.jsx(s,{className:"language",children:a.jsx(i,{className:"unauthenticated-card",children:a.jsxs(o,{className:"translation-card-content",children:[!f&&a.jsx(K,{sx:{mr:1}}),a.jsxs(T,{sx:{mr:1},children:[a.jsx(t,{i18nKey:"language"}),":"]}),S]})})})}),a.jsx(s,{container:!0,sx:{mt:1},children:a.jsx(s,{className:"language",children:a.jsx(i,{className:"unauthenticated-card",children:a.jsx(o,{children:a.jsx(I,{})})})})})]})]})}export{X as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/pwa-action-sheet.entry-DnlPZC2I.js","assets/mui-VGUUbzNb.js","assets/vendor-yP7igga9.js","assets/firebase-C4LKcFbe.js","assets/translations-Bhk7i5vx.js","assets/pwa-camera-modal.entry-Dd-eXwHo.js","assets/pwa-toast.entry-C2s_h5MC.js","assets/pwa-camera-modal-instance.entry-BI09vz1N.js","assets/pwa-camera.entry-D3JLP1j1.js","assets/index-xZrrk_fo.js","assets/index-fiDxFVKx.js","assets/strings-C1zhRaPp.js","assets/index-Cnr7Xi3M.css","assets/languages-KK0t13AM.js","assets/index-CyW-_wwv.js","assets/index-0XjfPz8-.css","assets/index-DFZdwnk6.css","assets/index-BbO7SX1B.js","assets/index-lCKdBxpn.js","assets/index-CVqTrsHJ.js","assets/urls-bwAPA7IR.js","assets/index-Bz1t0omY.css","assets/index-BJS3JWpQ.js","assets/index-DrgyKoYZ.js","assets/index-IhZzQeas.js","assets/useActionList-DC6Durif.js","assets/index-CignLajt.css","assets/index-rSLzeRrU.css"])))=>i.map(i=>d[i]);
import{_ as Sb,u as wb,a as yg,j as ft,c as Tb,r as xb,T as Cb,C as Ab}from"./mui-VGUUbzNb.js";import{d as Ob,e as Db,g as ua,r as lt,f as Mb,h as vg,a as rd,u as gg,B as Rb,i as Nb,j as $h,N as kb}from"./vendor-yP7igga9.js";import{L as Lb,a as _e,_ as Ub,C as zb,r as Zy,s as un,j as xd,c as Ii,b as ul,m as bc,d as jb,S as Bb,e as qb,f as Io,g as cl,h as Ib,i as Hb,D as ra,q as $b,k as Yb,l as Vb,n as ad,o as _g,p as Pb,t as es,u as Fb,v as jc,w as Kb,x as Gb,y as Qb,z as Xb,A as Zb,B as Wb,E as Jb,F as e1,G as t1,H as bg,I as An,J as Bc,K as ts,M as n1,N as i1,O as r1,P as Ho,Q as a1,R as s1,T as l1,U as o1,V as Cd,W as Eg,X as Ad,Y as Od,Z as u1,$ as c1,a0 as f1,a1 as h1,a2 as d1,a3 as m1,a4 as Sg,a5 as wg,a6 as p1,a7 as Tg}from"./firebase-C4LKcFbe.js";import{i as xg,a as y1,t as v1}from"./translations-Bhk7i5vx.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function r(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=r(o);fetch(o.href,h)}})();const g1="modulepreload",_1=function(s){return"/"+s},Wy={},he=function(n,r,a){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=Promise.allSettled(r.map(g=>{if(g=_1(g),g in Wy)return;Wy[g]=!0;const E=g.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const x=document.createElement("link");if(x.rel=E?"stylesheet":g1,E||(x.as="script"),x.crossOrigin="",x.href=g,y&&x.setAttribute("nonce",y),document.head.appendChild(x),E)return new Promise((N,Q)=>{x.addEventListener("load",N),x.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(m){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=m,window.dispatchEvent(y),!y.defaultPrevented)throw m}return o.then(m=>{for(const y of m||[])y.status==="rejected"&&h(y.reason);return n().catch(h)})};var b1=function(){var s=function(n,r){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(a[h]=o[h])},s(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");s(n,r);function a(){this.constructor=n}n.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Cg=function(s,n,r,a){function o(h){return h instanceof r?h:new r(function(m){m(h)})}return new(r||(r=Promise))(function(h,m){function y(A){try{E(a.next(A))}catch(x){m(x)}}function g(A){try{E(a.throw(A))}catch(x){m(x)}}function E(A){A.done?h(A.value):o(A.value).then(y,g)}E((a=a.apply(s,n||[])).next())})},Ag=function(s,n){var r={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},a,o,h,m;return m={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function y(E){return function(A){return g([E,A])}}function g(E){if(a)throw new TypeError("Generator is already executing.");for(;m&&(m=0,E[0]&&(r=0)),r;)try{if(a=1,o&&(h=E[0]&2?o.return:E[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,E[1])).done)return h;switch(o=0,h&&(E=[E[0]&2,h.value]),E[0]){case 0:case 1:h=E;break;case 4:return r.label++,{value:E[1],done:!1};case 5:r.label++,o=E[1],E=[0];continue;case 7:E=r.ops.pop(),r.trys.pop();continue;default:if(h=r.trys,!(h=h.length>0&&h[h.length-1])&&(E[0]===6||E[0]===2)){r=0;continue}if(E[0]===3&&(!h||E[1]>h[0]&&E[1]<h[3])){r.label=E[1];break}if(E[0]===6&&r.label<h[1]){r.label=h[1],h=E;break}if(h&&r.label<h[2]){r.label=h[2],r.ops.push(E);break}h[2]&&r.ops.pop(),r.trys.pop();continue}E=n.call(s,r)}catch(A){E=[6,A],o=0}finally{a=h=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}},Jy=function(s,n,r){if(r||arguments.length===2)for(var a=0,o=n.length,h;a<o;a++)(h||!(a in n))&&(h||(h=Array.prototype.slice.call(n,0,a)),h[a]=n[a]);return s.concat(h||Array.prototype.slice.call(n))},E1="ionicpwaelements",uc,Og,Pn=!1,sd=!1,br=function(s,n){return function(){}},S1=function(s,n){return function(){}},w1="{visibility:hidden}.hydrated{visibility:inherit}",ev={},T1="http://www.w3.org/2000/svg",x1="http://www.w3.org/1999/xhtml",C1=function(s){return s!=null},Dd=function(s){return s=typeof s,s==="object"||s==="function"};function Dg(s){var n,r,a;return(a=(r=(n=s.head)===null||n===void 0?void 0:n.querySelector('meta[name="csp-nonce"]'))===null||r===void 0?void 0:r.getAttribute("content"))!==null&&a!==void 0?a:void 0}var A1=function(s,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=null,h=!1,m=!1,y=[],g=function(x){for(var N=0;N<x.length;N++)o=x[N],Array.isArray(o)?g(o):o!=null&&typeof o!="boolean"&&((h=typeof s!="function"&&!Dd(o))&&(o=String(o)),h&&m?y[y.length-1].$text$+=o:y.push(h?ld(null,o):o),m=h)};if(g(r),n){var E=n.className||n.class;E&&(n.class=typeof E!="object"?E:Object.keys(E).filter(function(x){return E[x]}).join(" "))}var A=ld(s,null);return A.$attrs$=n,y.length>0&&(A.$children$=y),A},ld=function(s,n){var r={$flags$:0,$tag$:s,$text$:n,$elm$:null,$children$:null};return r.$attrs$=null,r},O1={},D1=function(s){return s&&s.$tag$===O1},M1=function(s,n){return s!=null&&!Dd(s)?n&4?s==="false"?!1:s===""||!!s:n&2?parseFloat(s):n&1?String(s):s:s},R1=function(s){return ca(s).$hostElement$},TC=function(s,n,r){var a=R1(s);return{emit:function(o){return Mg(a,n,{bubbles:!0,composed:!0,cancelable:!0,detail:o})}}},Mg=function(s,n,r){var a=on.ce(n,r);return s.dispatchEvent(a),a},tv=new WeakMap,N1=function(s,n,r){var a=Ec.get(s);tE&&r?(a=a||new CSSStyleSheet,typeof a=="string"?a=n:a.replaceSync(n)):a=n,Ec.set(s,a)},k1=function(s,n,r,a){var o,h=Rg(n),m=Ec.get(h);if(s=s.nodeType===11?s:gi,m)if(typeof m=="string"){s=s.head||s;var y=tv.get(s),g=void 0;if(y||tv.set(s,y=new Set),!y.has(h)){{g=gi.createElement("style"),g.innerHTML=m;var E=(o=on.$nonce$)!==null&&o!==void 0?o:Dg(gi);E!=null&&g.setAttribute("nonce",E),s.insertBefore(g,s.querySelector("link"))}y&&y.add(h)}}else s.adoptedStyleSheets.includes(m)||(s.adoptedStyleSheets=Jy(Jy([],s.adoptedStyleSheets,!0),[m],!1));return h},L1=function(s){var n=s.$cmpMeta$,r=s.$hostElement$,a=n.$flags$,o=br("attachStyles",n.$tagName$),h=k1(r.shadowRoot?r.shadowRoot:r.getRootNode(),n);a&10&&(r["s-sc"]=h,r.classList.add(h+"-h")),o()},Rg=function(s,n){return"sc-"+s.$tagName$},nv=function(s,n,r,a,o,h){if(r!==a){var m=rv(s,n),y=n.toLowerCase();if(n==="class"){var g=s.classList,E=iv(r),A=iv(a);g.remove.apply(g,E.filter(function(le){return le&&!A.includes(le)})),g.add.apply(g,A.filter(function(le){return le&&!E.includes(le)}))}else if(n==="style"){for(var x in r)(!a||a[x]==null)&&(x.includes("-")?s.style.removeProperty(x):s.style[x]="");for(var x in a)(!r||a[x]!==r[x])&&(x.includes("-")?s.style.setProperty(x,a[x]):s.style[x]=a[x])}else if(n==="ref")a&&a(s);else if(!m&&n[0]==="o"&&n[1]==="n")n[2]==="-"?n=n.slice(3):rv(Ic,y)?n=y.slice(2):n=y[2]+n.slice(3),r&&on.rel(s,n,r,!1),a&&on.ael(s,n,a,!1);else{var N=Dd(a);if((m||N&&a!==null)&&!o)try{if(s.tagName.includes("-"))s[n]=a;else{var Q=a??"";n==="list"?m=!1:(r==null||s[n]!=Q)&&(s[n]=Q)}}catch{}a==null||a===!1?(a!==!1||s.getAttribute(n)==="")&&s.removeAttribute(n):(!m||h&4||o)&&!N&&(a=a===!0?"":a,s.setAttribute(n,a))}}},U1=/\s/,iv=function(s){return s?s.split(U1):[]},Ng=function(s,n,r,a){var o=n.$elm$.nodeType===11&&n.$elm$.host?n.$elm$.host:n.$elm$,h=s&&s.$attrs$||ev,m=n.$attrs$||ev;for(a in h)a in m||nv(o,a,h[a],void 0,r,n.$flags$);for(a in m)nv(o,a,h[a],m[a],r,n.$flags$)},Md=function(s,n,r,a){var o=n.$children$[r],h=0,m,y;if(o.$text$!==null)m=o.$elm$=gi.createTextNode(o.$text$);else{if(Pn||(Pn=o.$tag$==="svg"),m=o.$elm$=gi.createElementNS(Pn?T1:x1,o.$tag$),Pn&&o.$tag$==="foreignObject"&&(Pn=!1),Ng(null,o,Pn),C1(uc)&&m["s-si"]!==uc&&m.classList.add(m["s-si"]=uc),o.$children$)for(h=0;h<o.$children$.length;++h)y=Md(s,o,h),y&&m.appendChild(y);o.$tag$==="svg"?Pn=!1:m.tagName==="foreignObject"&&(Pn=!0)}return m},kg=function(s,n,r,a,o,h){var m=s,y;for(m.shadowRoot&&m.tagName===Og&&(m=m.shadowRoot);o<=h;++o)a[o]&&(y=Md(null,r,o),y&&(a[o].$elm$=y,m.insertBefore(y,n)))},Lg=function(s,n,r){for(var a=n;a<=r;++a){var o=s[a];if(o){var h=o.$elm$;Ug(o),h&&h.remove()}}},z1=function(s,n,r,a){for(var o=0,h=0,m=n.length-1,y=n[0],g=n[m],E=a.length-1,A=a[0],x=a[E],N;o<=m&&h<=E;)y==null?y=n[++o]:g==null?g=n[--m]:A==null?A=a[++h]:x==null?x=a[--E]:ac(y,A)?(Co(y,A),y=n[++o],A=a[++h]):ac(g,x)?(Co(g,x),g=n[--m],x=a[--E]):ac(y,x)?(Co(y,x),s.insertBefore(y.$elm$,g.$elm$.nextSibling),y=n[++o],x=a[--E]):ac(g,A)?(Co(g,A),s.insertBefore(g.$elm$,y.$elm$),g=n[--m],A=a[++h]):(N=Md(n&&n[h],r,h),A=a[++h],N&&y.$elm$.parentNode.insertBefore(N,y.$elm$));o>m?kg(s,a[E+1]==null?null:a[E+1].$elm$,r,a,h,E):h>E&&Lg(n,o,m)},ac=function(s,n){return s.$tag$===n.$tag$},Co=function(s,n){var r=n.$elm$=s.$elm$,a=s.$children$,o=n.$children$,h=n.$tag$,m=n.$text$;m===null?(Pn=h==="svg"?!0:h==="foreignObject"?!1:Pn,Ng(s,n,Pn),a!==null&&o!==null?z1(r,a,n,o):o!==null?(s.$text$!==null&&(r.textContent=""),kg(r,null,n,o,0,o.length-1)):a!==null&&Lg(a,0,a.length-1),Pn&&h==="svg"&&(Pn=!1)):s.$text$!==m&&(r.data=m)},Ug=function(s){s.$attrs$&&s.$attrs$.ref&&s.$attrs$.ref(null),s.$children$&&s.$children$.map(Ug)},j1=function(s,n){var r=s.$hostElement$,a=s.$vnode$||ld(null,null),o=D1(n)?n:A1(null,null,n);Og=r.tagName,o.$tag$=null,o.$flags$|=4,s.$vnode$=o,o.$elm$=a.$elm$=r.shadowRoot||r,uc=r["s-sc"],Co(a,o)},zg=function(s,n){n&&!s.$onRenderResolve$&&n["s-p"]&&n["s-p"].push(new Promise(function(r){return s.$onRenderResolve$=r}))},qc=function(s,n){if(s.$flags$|=16,s.$flags$&4){s.$flags$|=512;return}zg(s,s.$ancestorComponent$);var r=function(){return B1(s,n)};return iE(r)},B1=function(s,n){var r=br("scheduleUpdate",s.$cmpMeta$.$tagName$),a=s.$lazyInstance$,o;return n&&(s.$flags$|=256,s.$queuedListeners$&&(s.$queuedListeners$.map(function(h){var m=h[0],y=h[1];return Rd(a,m,y)}),s.$queuedListeners$=void 0)),r(),q1(o,function(){return H1(s,a,n)})},q1=function(s,n){return I1(s)?s.then(n):n()},I1=function(s){return s instanceof Promise||s&&s.then&&typeof s.then=="function"},H1=function(s,n,r){return Cg(void 0,void 0,void 0,function(){var a,o,h,m,y,g,E;return Ag(this,function(A){return o=s.$hostElement$,h=br("update",s.$cmpMeta$.$tagName$),m=o["s-rc"],r&&L1(s),y=br("render",s.$cmpMeta$.$tagName$),$1(s,n),m&&(m.map(function(x){return x()}),o["s-rc"]=void 0),y(),h(),g=(a=o["s-p"])!==null&&a!==void 0?a:[],E=function(){return Y1(s)},g.length===0?E():(Promise.all(g).then(E),s.$flags$|=4,g.length=0),[2]})})},$1=function(s,n,r){try{n=n.render(),s.$flags$&=-17,s.$flags$|=2,j1(s,n)}catch(a){yi(a,s.$hostElement$)}return null},Y1=function(s){s.$cmpMeta$.$tagName$;var n=s.$hostElement$,r=br(),a=s.$lazyInstance$,o=s.$ancestorComponent$;s.$flags$&64?r():(s.$flags$|=64,Bg(n),Rd(a,"componentDidLoad"),r(),s.$onReadyResolve$(n),o||jg()),s.$onInstanceResolve$(n),s.$onRenderResolve$&&(s.$onRenderResolve$(),s.$onRenderResolve$=void 0),s.$flags$&512&&kd(function(){return qc(s,!1)}),s.$flags$&=-517},xC=function(s){{var n=ca(s),r=n.$hostElement$.isConnected;return r&&(n.$flags$&18)===2&&qc(n,!1),r}},jg=function(s){Bg(gi.documentElement),kd(function(){return Mg(Ic,"appload",{detail:{namespace:E1}})})},Rd=function(s,n,r){if(s&&s[n])try{return s[n](r)}catch(a){yi(a)}},Bg=function(s){return s.classList.add("hydrated")},V1=function(s,n){return ca(s).$instanceValues$.get(n)},P1=function(s,n,r,a){var o=ca(s),h=o.$instanceValues$.get(n),m=o.$flags$,y=o.$lazyInstance$;r=M1(r,a.$members$[n][0]);var g=Number.isNaN(h)&&Number.isNaN(r),E=r!==h&&!g;(!(m&8)||h===void 0)&&E&&(o.$instanceValues$.set(n,r),y&&(m&18)===2&&qc(o,!1))},qg=function(s,n,r){if(n.$members$){var a=Object.entries(n.$members$),o=s.prototype;if(a.map(function(m){var y=m[0],g=m[1][0];g&31||r&2&&g&32?Object.defineProperty(o,y,{get:function(){return V1(this,y)},set:function(E){P1(this,y,E,n)},configurable:!0,enumerable:!0}):r&1&&g&64&&Object.defineProperty(o,y,{value:function(){for(var E=[],A=0;A<arguments.length;A++)E[A]=arguments[A];var x=ca(this);return x.$onInstancePromise$.then(function(){var N;return(N=x.$lazyInstance$)[y].apply(N,E)})}})}),r&1){var h=new Map;o.attributeChangedCallback=function(m,y,g){var E=this;on.jmp(function(){var A=h.get(m);if(E.hasOwnProperty(A))g=E[A],delete E[A];else if(o.hasOwnProperty(A)&&typeof E[A]=="number"&&E[A]==g)return;E[A]=g===null&&typeof E[A]=="boolean"?!1:g})},s.observedAttributes=a.filter(function(m){m[0];var y=m[1];return y[0]&15}).map(function(m){var y=m[0],g=m[1],E=g[1]||y;return h.set(E,y),E})}}return s},F1=function(s,n,r,a,o){return Cg(void 0,void 0,void 0,function(){var h,m,y,g,E,A,x;return Ag(this,function(N){switch(N.label){case 0:return(n.$flags$&32)!==0?[3,3]:(n.$flags$|=32,o=eE(r),o.then?(h=S1(),[4,o]):[3,2]);case 1:o=N.sent(),h(),N.label=2;case 2:o.isProxied||(qg(o,r,2),o.isProxied=!0),m=br("createInstance",r.$tagName$),n.$flags$|=8;try{new o(n)}catch(Q){yi(Q)}n.$flags$&=-9,m(),o.style&&(y=o.style,g=Rg(r),Ec.has(g)||(E=br("registerStyles",r.$tagName$),N1(g,y,!!(r.$flags$&1)),E())),N.label=3;case 3:return A=n.$ancestorComponent$,x=function(){return qc(n,!0)},A&&A["s-rc"]?A["s-rc"].push(x):x(),[2]}})})},K1=function(s){if((on.$flags$&1)===0){var n=ca(s),r=n.$cmpMeta$,a=br("connectedCallback",r.$tagName$);if(n.$flags$&1)Ig(s,n,r.$listeners$);else{n.$flags$|=1;for(var o=s;o=o.parentNode||o.host;)if(o["s-p"]){zg(n,n.$ancestorComponent$=o);break}r.$members$&&Object.entries(r.$members$).map(function(h){var m=h[0],y=h[1][0];if(y&31&&s.hasOwnProperty(m)){var g=s[m];delete s[m],s[m]=g}}),F1(s,n,r)}a()}},G1=function(s){if((on.$flags$&1)===0){var n=ca(s),r=n.$lazyInstance$;n.$rmListeners$&&(n.$rmListeners$.map(function(a){return a()}),n.$rmListeners$=void 0),Rd(r,"disconnectedCallback")}},Q1=function(s,n){n===void 0&&(n={});var r,a=br(),o=[],h=n.exclude||[],m=Ic.customElements,y=gi.head,g=y.querySelector("meta[charset]"),E=gi.createElement("style"),A=[],x,N=!0;Object.assign(on,n),on.$resourcesUrl$=new URL(n.resourcesUrl||"./",gi.baseURI).href,s.map(function(le){le[1].map(function(Ce){var ve={$flags$:Ce[0],$tagName$:Ce[1],$members$:Ce[2],$listeners$:Ce[3]};ve.$members$=Ce[2],ve.$listeners$=Ce[3];var Ne=ve.$tagName$,je=function(De){b1(Je,De);function Je(Ae){var I=De.call(this,Ae)||this;return Ae=I,J1(Ae,ve),ve.$flags$&1&&Ae.attachShadow({mode:"open"}),I}return Je.prototype.connectedCallback=function(){var Ae=this;x&&(clearTimeout(x),x=null),N?A.push(this):on.jmp(function(){return K1(Ae)})},Je.prototype.disconnectedCallback=function(){var Ae=this;on.jmp(function(){return G1(Ae)})},Je.prototype.componentOnReady=function(){return ca(this).$onReadyPromise$},Je}(HTMLElement);ve.$lazyBundleId$=le[0],!h.includes(Ne)&&!m.get(Ne)&&(o.push(Ne),m.define(Ne,qg(je,ve,1)))})});{E.innerHTML=o+w1,E.setAttribute("data-styles","");var Q=(r=on.$nonce$)!==null&&r!==void 0?r:Dg(gi);Q!=null&&E.setAttribute("nonce",Q),y.insertBefore(E,g?g.nextSibling:y.firstChild)}N=!1,A.length?A.map(function(le){return le.connectedCallback()}):on.jmp(function(){return x=setTimeout(jg,30)}),a()},Ig=function(s,n,r,a){r&&r.map(function(o){var h=o[0],m=o[1],y=o[2],g=Z1(s,h),E=X1(n,y),A=W1(h);on.ael(g,m,E,A),(n.$rmListeners$=n.$rmListeners$||[]).push(function(){return on.rel(g,m,E,A)})})},X1=function(s,n){return function(r){try{s.$flags$&256?s.$lazyInstance$[n](r):(s.$queuedListeners$=s.$queuedListeners$||[]).push([n,r])}catch(a){yi(a)}}},Z1=function(s,n){return n&16?gi.body:s},W1=function(s){return(s&2)!==0},Nd=new WeakMap,ca=function(s){return Nd.get(s)},CC=function(s,n){return Nd.set(n.$lazyInstance$=s,n)},J1=function(s,n){var r={$flags$:0,$hostElement$:s,$cmpMeta$:n,$instanceValues$:new Map};return r.$onInstancePromise$=new Promise(function(a){return r.$onInstanceResolve$=a}),r.$onReadyPromise$=new Promise(function(a){return r.$onReadyResolve$=a}),s["s-p"]=[],s["s-rc"]=[],Ig(s,r,n.$listeners$),Nd.set(s,r)},rv=function(s,n){return n in s},yi=function(s,n){return(0,console.error)(s,n)},Yh=new Map,eE=function(s,n,r){var a=s.$tagName$.replace(/-/g,"_"),o=s.$lazyBundleId$,h=Yh.get(o);if(h)return h[a];{var m=function(y){return Yh.set(o,y),y[a]};switch(o){case"pwa-action-sheet":return he(()=>import("./pwa-action-sheet.entry-DnlPZC2I.js"),__vite__mapDeps([0,1,2,3,4])).then(m,yi);case"pwa-camera-modal":return he(()=>import("./pwa-camera-modal.entry-Dd-eXwHo.js"),__vite__mapDeps([5,1,2,3,4])).then(m,yi);case"pwa-toast":return he(()=>import("./pwa-toast.entry-C2s_h5MC.js"),__vite__mapDeps([6,1,2,3,4])).then(m,yi);case"pwa-camera-modal-instance":return he(()=>import("./pwa-camera-modal-instance.entry-BI09vz1N.js"),__vite__mapDeps([7,1,2,3,4])).then(m,yi);case"pwa-camera":return he(()=>import("./pwa-camera.entry-D3JLP1j1.js"),__vite__mapDeps([8,1,2,3,4])).then(m,yi)}}return he(()=>import("./".concat(o,".entry.js").concat("")),[]).then(function(y){return Yh.set(o,y),y[a]},yi)},Ec=new Map,Ic=typeof window<"u"?window:{},gi=Ic.document||{head:{}},on={$flags$:0,$resourcesUrl$:"",jmp:function(s){return s()},raf:function(s){return requestAnimationFrame(s)},ael:function(s,n,r,a){return s.addEventListener(n,r,a)},rel:function(s,n,r,a){return s.removeEventListener(n,r,a)},ce:function(s,n){return new CustomEvent(s,n)}},Hg=function(s){return Promise.resolve(s)},tE=function(){try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1}(),av=[],$g=[],nE=function(s,n){return function(r){s.push(r),sd||(sd=!0,on.$flags$&4?kd(od):on.raf(od))}},sv=function(s){for(var n=0;n<s.length;n++)try{s[n](performance.now())}catch(r){yi(r)}s.length=0},od=function(){sv(av),sv($g),(sd=av.length>0)&&on.raf(od)},kd=function(s){return Hg().then(s)},iE=nE($g),rE=function(){return Hg()},aE=function(s,n){return typeof window>"u"?Promise.resolve():rE().then(function(){return Q1([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],hidePicker:[4,"hide-picker"],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],hidePicker:[4,"hide-picker"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],n)})};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var s=HTMLElement;window.HTMLElement=function(){return Reflect.construct(s,[],this.constructor)},HTMLElement.prototype=s.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,s)}})();var Vh={exports:{}},bo={},Ph={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function sE(){return lv||(lv=1,function(s){function n(Y,re){var X=Y.length;Y.push(re);e:for(;0<X;){var ae=X-1>>>1,ye=Y[ae];if(0<o(ye,re))Y[ae]=re,Y[X]=ye,X=ae;else break e}}function r(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var re=Y[0],X=Y.pop();if(X!==re){Y[0]=X;e:for(var ae=0,ye=Y.length,ke=ye>>>1;ae<ke;){var Ge=2*(ae+1)-1,Ve=Y[Ge],Le=Ge+1,it=Y[Le];if(0>o(Ve,X))Le<ye&&0>o(it,Ve)?(Y[ae]=it,Y[Le]=X,ae=Le):(Y[ae]=Ve,Y[Ge]=X,ae=Ge);else if(Le<ye&&0>o(it,X))Y[ae]=it,Y[Le]=X,ae=Le;else break e}}return re}function o(Y,re){var X=Y.sortIndex-re.sortIndex;return X!==0?X:Y.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();s.unstable_now=function(){return m.now()-y}}var g=[],E=[],A=1,x=null,N=3,Q=!1,le=!1,Ce=!1,ve=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,je=typeof setImmediate<"u"?setImmediate:null;function De(Y){for(var re=r(E);re!==null;){if(re.callback===null)a(E);else if(re.startTime<=Y)a(E),re.sortIndex=re.expirationTime,n(g,re);else break;re=r(E)}}function Je(Y){if(Ce=!1,De(Y),!le)if(r(g)!==null)le=!0,fe();else{var re=r(E);re!==null&&ue(Je,re.startTime-Y)}}var Ae=!1,I=-1,ne=5,Se=-1;function Z(){return!(s.unstable_now()-Se<ne)}function oe(){if(Ae){var Y=s.unstable_now();Se=Y;var re=!0;try{e:{le=!1,Ce&&(Ce=!1,Ne(I),I=-1),Q=!0;var X=N;try{t:{for(De(Y),x=r(g);x!==null&&!(x.expirationTime>Y&&Z());){var ae=x.callback;if(typeof ae=="function"){x.callback=null,N=x.priorityLevel;var ye=ae(x.expirationTime<=Y);if(Y=s.unstable_now(),typeof ye=="function"){x.callback=ye,De(Y),re=!0;break t}x===r(g)&&a(g),De(Y)}else a(g);x=r(g)}if(x!==null)re=!0;else{var ke=r(E);ke!==null&&ue(Je,ke.startTime-Y),re=!1}}break e}finally{x=null,N=X,Q=!1}re=void 0}}finally{re?W():Ae=!1}}}var W;if(typeof je=="function")W=function(){je(oe)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,ie=Re.port2;Re.port1.onmessage=oe,W=function(){ie.postMessage(null)}}else W=function(){ve(oe,0)};function fe(){Ae||(Ae=!0,W())}function ue(Y,re){I=ve(function(){Y(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_continueExecution=function(){le||Q||(le=!0,fe())},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_getFirstCallbackNode=function(){return r(g)},s.unstable_next=function(Y){switch(N){case 1:case 2:case 3:var re=3;break;default:re=N}var X=N;N=re;try{return Y()}finally{N=X}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Y,re){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=N;N=Y;try{return re()}finally{N=X}},s.unstable_scheduleCallback=function(Y,re,X){var ae=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ae+X:ae):X=ae,Y){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=X+ye,Y={id:A++,callback:re,priorityLevel:Y,startTime:X,expirationTime:ye,sortIndex:-1},X>ae?(Y.sortIndex=X,n(E,Y),r(g)===null&&Y===r(E)&&(Ce?(Ne(I),I=-1):Ce=!0,ue(Je,X-ae))):(Y.sortIndex=ye,n(g,Y),le||Q||(le=!0,fe())),Y},s.unstable_shouldYield=Z,s.unstable_wrapCallback=function(Y){var re=N;return function(){var X=N;N=re;try{return Y.apply(this,arguments)}finally{N=X}}}}(Fh)),Fh}var ov;function lE(){return ov||(ov=1,Ph.exports=sE()),Ph.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function oE(){if(uv)return bo;uv=1;var s=lE(),n=Ob(),r=Db();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var h=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Ce=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),Je=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function Se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case y:return"Portal";case A:return"Profiler";case E:return"StrictMode";case Ce:return"Suspense";case ve:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Q:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ne:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case je:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}var Z=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=Object.assign,W,Re;function ie(e){if(W===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||"",Re=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+W+e+Re}var fe=!1;function ue(e,t){if(!e||fe)return"";fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(J){var F=J}Reflect.construct(e,[],ce)}else{try{ce.call()}catch(J){F=J}e.call(ce.prototype)}}else{try{throw Error()}catch(J){F=J}(ce=e())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(J){if(J&&F&&typeof J.stack=="string")return[J.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],w=d[1];if(_&&w){var C=_.split(`
`),j=w.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===j.length)for(l=C.length-1,c=j.length-1;1<=l&&0<=c&&C[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==j[c]){var te=`
`+C[l].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=l&&0<=c);break}}}finally{fe=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ie(i):""}function Y(e){switch(e.tag){case 26:case 27:case 5:return ie(e.type);case 16:return ie("Lazy");case 13:return ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return e=ue(e.type,!1),e;case 11:return e=ue(e.type.render,!1),e;case 1:return e=ue(e.type,!0),e;default:return""}}function re(e){try{var t="";do t+=Y(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function X(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function ae(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ye(e){if(X(e)!==e)throw Error(a(188))}function ke(e){var t=e.alternate;if(!t){if(t=X(e),t===null)throw Error(a(188));return t!==e?null:e}for(var i=e,l=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){i=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return ye(c),e;if(d===l)return ye(c),t;d=d.sibling}throw Error(a(188))}if(i.return!==l.return)i=c,l=d;else{for(var _=!1,w=c.child;w;){if(w===i){_=!0,i=c,l=d;break}if(w===l){_=!0,l=c,i=d;break}w=w.sibling}if(!_){for(w=d.child;w;){if(w===i){_=!0,i=d,l=c;break}if(w===l){_=!0,l=d,i=c;break}w=w.sibling}if(!_)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:t}function Ge(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Ge(e),t!==null)return t;e=e.sibling}return null}var Ve=Array.isArray,Le=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},Gt=[],qt=-1;function It(e){return{current:e}}function be(e){0>qt||(e.current=Gt[qt],Gt[qt]=null,qt--)}function $e(e,t){qt++,Gt[qt]=e.current,e.current=t}var dt=It(null),Pe=It(null),Ot=It(null),ui=It(null);function cn(e,t){switch($e(Ot,t),$e(Pe,e),$e(dt,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Cy(e),t=Ay(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}be(dt),$e(dt,t)}function Fn(){be(dt),be(Pe),be(Ot)}function Hi(e){e.memoizedState!==null&&$e(ui,e);var t=dt.current,i=Ay(t,e.type);t!==i&&($e(Pe,e),$e(dt,i))}function Ei(e){Pe.current===e&&(be(dt),be(Pe)),ui.current===e&&(be(ui),po._currentValue=it)}var $i=Object.prototype.hasOwnProperty,xr=s.unstable_scheduleCallback,On=s.unstable_cancelCallback,Ko=s.unstable_shouldYield,ha=s.unstable_requestPaint,zn=s.unstable_now,da=s.unstable_getCurrentPriorityLevel,Si=s.unstable_ImmediatePriority,wi=s.unstable_UserBlockingPriority,Cr=s.unstable_NormalPriority,ma=s.unstable_LowPriority,rs=s.unstable_IdlePriority,as=s.log,Yi=s.unstable_setDisableYieldValue,Ti=null,fn=null;function xi(e){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}function Oe(e){if(typeof as=="function"&&Yi(e),fn&&typeof fn.setStrictMode=="function")try{fn.setStrictMode(Ti,e)}catch{}}var Qt=Math.clz32?Math.clz32:xe,Vi=Math.log,ss=Math.LN2;function xe(e){return e>>>=0,e===0?32:31-(Vi(e)/ss|0)|0}var Ar=128,pa=4194304;function ci(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ya(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,c=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var w=i&134217727;return w!==0?(i=w&~c,i!==0?l=ci(i):(d&=w,d!==0?l=ci(d):e||(_=w&~_,_!==0&&(l=ci(_))))):(w=i&~c,w!==0?l=ci(w):d!==0?l=ci(d):e||(_=i&~_,_!==0&&(l=ci(_)))),l===0?0:t!==0&&t!==l&&(t&c)===0&&(c=l&-l,_=t&-t,c>=_||c===32&&(_&4194176)!==0)?t:l}function Pi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jc(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var e=Ar;return Ar<<=1,(Ar&4194176)===0&&(Ar=128),e}function Fi(){var e=pa;return pa<<=1,(pa&62914560)===0&&(pa=4194304),e}function Ci(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ki(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ls(e,t,i,l,c,d){var _=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(i=_&~i;0<i;){var te=31-Qt(i),ce=1<<te;w[te]=0,C[te]=-1;var F=j[te];if(F!==null)for(j[te]=null,te=0;te<F.length;te++){var J=F[te];J!==null&&(J.lane&=-536870913)}i&=~ce}l!==0&&gt(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~t))}function gt(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Qt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194218}function zt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Qt(i),c=1<<l;c&t|e[l]&t&&(e[l]|=t),i&=~c}}function Qo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function va(){var e=Le.p;return e!==0?e:(e=window.event,e===void 0?32:Py(e.type))}function os(e,t){var i=Le.p;try{return Le.p=e,t()}finally{Le.p=i}}var jn=Math.random().toString(36).slice(2),Wt="__reactFiber$"+jn,Dt="__reactProps$"+jn,Bn="__reactContainer$"+jn,Kn="__reactEvents$"+jn,us="__reactListeners$"+jn,ef="__reactHandles$"+jn,fi="__reactResources$"+jn,Or="__reactMarker$"+jn;function hi(e){delete e[Wt],delete e[Dt],delete e[Kn],delete e[us],delete e[ef]}function Ai(e){var t=e[Wt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Bn]||i[Wt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=My(e);e!==null;){if(i=e[Wt])return i;e=My(e)}return t}e=i,i=e.parentNode}return null}function Oi(e){if(e=e[Wt]||e[Bn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function _t(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Dn(e){var t=e[fi];return t||(t=e[fi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Or]=!0}var gl=new Set,Gi={};function Gn(e,t){Di(e,t),Di(e+"Capture",t)}function Di(e,t){for(Gi[e]=t,e=0;e<t.length;e++)gl.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},ga={};function Xo(e){return $i.call(ga,e)?!0:$i.call(_l,e)?!1:Qi.test(e)?ga[e]=!0:(_l[e]=!0,!1)}function Qe(e,t,i){if(Xo(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function _a(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Qn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}function wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ba(e){var t=pt(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mi(e){e._valueTracker||(e._valueTracker=ba(e))}function Xi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=pt(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bl=/[\n"\\]/g;function hn(e){return e.replace(bl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function cs(e,t,i,l,c,d,_,w){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),t!=null?_==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wn(t)):e.value!==""+wn(t)&&(e.value=""+wn(t)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),t!=null?fs(e,_,wn(t)):i!=null?fs(e,_,wn(i)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+wn(w):e.removeAttribute("name")}function Ea(e,t,i,l,c,d,_,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;i=i!=null?""+wn(i):"",t=t!=null?""+wn(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function fs(e,t,i){t==="number"&&Dr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Xn(e,t,i,l){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&l&&(e[i].defaultSelected=!0)}else{for(i=""+wn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function El(e,t,i){if(t!=null&&(t=""+wn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+wn(i):""}function Zo(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(a(92));if(Ve(l)){if(1<l.length)throw Error(a(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=wn(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function Xe(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Sl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||Sl.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Jo(e,t,i){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&i[c]!==l&&Wo(e,c,l)}else for(var d in t)t.hasOwnProperty(d)&&Wo(e,d,t[d])}function dn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function In(e){return hs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ds=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tt=null,mn=null;function Rr(e){var t=Oi(e);if(t&&(e=t.stateNode)){var i=e[Dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(cs(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+hn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var c=l[Dt]||null;if(!c)throw Error(a(90));cs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&Xi(l)}break e;case"textarea":El(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Xn(e,!!i.multiple,t,!1)}}}var Zi=!1;function ps(e,t,i){if(Zi)return e(t,i);Zi=!0;try{var l=e(t);return l}finally{if(Zi=!1,(Tt!==null||mn!==null)&&(qu(),Tt&&(t=Tt,e=mn,mn=Tt=null,Rr(t),e)))for(t=0;t<e.length;t++)Rr(e[t])}}function Mn(e,t){var i=e.stateNode;if(i===null)return null;var l=i[Dt]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,t,typeof i));return i}var wl=!1;if(qn)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){wl=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{wl=!1}var Zn=null,ys=null,Nr=null;function kr(){if(Nr)return Nr;var e,t=ys,i=t.length,l,c="value"in Zn?Zn.value:Zn.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var _=i-e;for(l=1;l<=_&&t[i-l]===c[d-l];l++);return Nr=c.slice(e,1<l?1-l:void 0)}function Lr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sa(){return!0}function eu(){return!1}function Ht(e){function t(i,l,c,d,_){this._reactName=i,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Sa:eu,this.isPropagationStopped=eu,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Ht(Wi),Ri=oe({},Wi,{view:0,detail:0}),gs=Ht(Ri),wa,Tl,Ta,_s=oe({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ta&&(Ta&&e.type==="mousemove"?(wa=e.screenX-Ta.screenX,Tl=e.screenY-Ta.screenY):Tl=wa=0,Ta=e),wa)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),bs=Ht(_s),xl=oe({},_s,{dataTransfer:0}),tu=Ht(xl),Es=oe({},Ri,{relatedTarget:0}),Ur=Ht(Es),Ss=oe({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Ht(Ss),tf=oe({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ws=Ht(tf),Cl=oe({},Wi,{data:0}),Ts=Ht(Cl),Al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Jt[e])?!!t[e]:!1}function Ji(){return xa}var iu=oe({},Ri,{key:function(e){if(e.key){var t=Al[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ol[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xs=Ht(iu),ru=oe({},_s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Ht(ru),Cs=oe({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),Ml=Ht(Cs),er=oe({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rl=Ht(er),Nl=oe({},_s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),As=Ht(Nl),kl=oe({},Wi,{newState:0,oldState:0}),au=Ht(kl),nf=[9,13,27,32],Ca=qn&&"CompositionEvent"in window,Ni=null;qn&&"documentMode"in document&&(Ni=document.documentMode);var rf=qn&&"TextEvent"in window&&!Ni,Os=qn&&(!Ca||Ni&&8<Ni&&11>=Ni),Ds=" ",su=!1;function Ll(e,t){switch(e){case"keyup":return nf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tr=!1;function ou(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(su=!0,Ds);case"textInput":return e=t.data,e===Ds&&su?null:e;default:return null}}function af(e,t){if(tr)return e==="compositionend"||!Ca&&Ll(e,t)?(e=kr(),Nr=ys=Zn=null,tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Os&&t.locale!=="ko"?null:t.data;default:return null}}var uu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ms(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uu[e.type]:t==="textarea"}function Ul(e,t,i,l){Tt?mn?mn.push(l):mn=[l]:Tt=l,t=Vu(t,"onChange"),0<t.length&&(i=new vs("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var zr=null,Aa=null;function sf(e){Ey(e,0)}function Rs(e){var t=_t(e);if(Xi(t))return e}function Oa(e,t){if(e==="change")return t}var Wn=!1;if(qn){var xt;if(qn){var jr="oninput"in document;if(!jr){var Tn=document.createElement("div");Tn.setAttribute("oninput","return;"),jr=typeof Tn.oninput=="function"}xt=jr}else xt=!1;Wn=xt&&(!document.documentMode||9<document.documentMode)}function cu(){zr&&(zr.detachEvent("onpropertychange",Ns),Aa=zr=null)}function Ns(e){if(e.propertyName==="value"&&Rs(Aa)){var t=[];Ul(t,Aa,e,ms(e)),ps(sf,t)}}function fu(e,t,i){e==="focusin"?(cu(),zr=t,Aa=i,zr.attachEvent("onpropertychange",Ns)):e==="focusout"&&cu()}function nr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(Aa)}function zl(e,t){if(e==="click")return Rs(t)}function Br(e,t){if(e==="input"||e==="change")return Rs(t)}function ki(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:ki;function u(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var c=i[l];if(!$i.call(t,c)||!bn(e[c],t[c]))return!1}return!0}function f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function p(e,t){var i=f(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=f(i)}}function v(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?v(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Dr(e.document)}return t}function S(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T(e,t){var i=b(t);t=e.focusedElem;var l=e.selectionRange;if(i!==t&&t&&t.ownerDocument&&v(t.ownerDocument.documentElement,t)){if(l!==null&&S(t)){if(e=l.start,i=l.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var c=t.textContent.length,d=Math.min(l.start,c);l=l.end===void 0?d:Math.min(l.end,c),!i.extend&&d>l&&(c=l,l=d,d=c),c=p(t,d);var _=p(t,l);c&&_&&(i.rangeCount!==1||i.anchorNode!==c.node||i.anchorOffset!==c.offset||i.focusNode!==_.node||i.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),i.removeAllRanges(),d>l?(i.addRange(e),i.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var O=qn&&"documentMode"in document&&11>=document.documentMode,M=null,k=null,B=null,D=!1;function H(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;D||M==null||M!==Dr(l)||(l=M,"selectionStart"in l&&S(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),B&&u(B,l)||(B=l,l=Vu(k,"onSelect"),0<l.length&&(t=new vs("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=M)))}function R(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var z={animationend:R("Animation","AnimationEnd"),animationiteration:R("Animation","AnimationIteration"),animationstart:R("Animation","AnimationStart"),transitionrun:R("Transition","TransitionRun"),transitionstart:R("Transition","TransitionStart"),transitioncancel:R("Transition","TransitionCancel"),transitionend:R("Transition","TransitionEnd")},q={},U={};qn&&(U=document.createElement("div").style,"AnimationEvent"in window||(delete z.animationend.animation,delete z.animationiteration.animation,delete z.animationstart.animation),"TransitionEvent"in window||delete z.transitionend.transition);function V(e){if(q[e])return q[e];if(!z[e])return e;var t=z[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in U)return q[e]=t[i];return e}var K=V("animationend"),G=V("animationiteration"),ee=V("animationstart"),de=V("transitionrun"),Ee=V("transitionstart"),me=V("transitioncancel"),pe=V("transitionend"),we=new Map,ge="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Te(e,t){we.set(e,t),Gn(t,[e])}var Be=[],Ye=0,Ke=0;function en(){for(var e=Ye,t=Ke=Ye=0;t<e;){var i=Be[t];Be[t++]=null;var l=Be[t];Be[t++]=null;var c=Be[t];Be[t++]=null;var d=Be[t];if(Be[t++]=null,l!==null&&c!==null){var _=l.pending;_===null?c.next=c:(c.next=_.next,_.next=c),l.pending=c}d!==0&&Da(i,c,d)}}function Ie(e,t,i,l){Be[Ye++]=e,Be[Ye++]=t,Be[Ye++]=i,Be[Ye++]=l,Ke|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $t(e,t,i,l){return Ie(e,t,i,l),Yt(e)}function Ct(e,t){return Ie(e,null,null,t),Yt(e)}function Da(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var c=!1,d=e.return;d!==null;)d.childLanes|=i,l=d.alternate,l!==null&&(l.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;c&&t!==null&&e.tag===3&&(d=e.stateNode,c=31-Qt(i),d=d.hiddenUpdates,e=d[c],e===null?d[c]=[t]:e.push(t),t.lane=i|536870912)}function Yt(e){if(50<lo)throw lo=0,hh=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rn={},ks=new WeakMap;function Jn(e,t){if(typeof e=="object"&&e!==null){var i=ks.get(e);return i!==void 0?i:(t={value:e,source:t,stack:re(t)},ks.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Ls=[],Us=0,hu=null,du=0,ei=[],ti=0,Ma=null,ir=1,rr="";function Ra(e,t){Ls[Us++]=du,Ls[Us++]=hu,hu=e,du=t}function pm(e,t,i){ei[ti++]=ir,ei[ti++]=rr,ei[ti++]=Ma,Ma=e;var l=ir;e=rr;var c=32-Qt(l)-1;l&=~(1<<c),i+=1;var d=32-Qt(t)+c;if(30<d){var _=c-c%5;d=(l&(1<<_)-1).toString(32),l>>=_,c-=_,ir=1<<32-Qt(t)+c|i<<c|l,rr=d+e}else ir=1<<d|i<<c|l,rr=e}function lf(e){e.return!==null&&(Ra(e,1),pm(e,1,0))}function of(e){for(;e===hu;)hu=Ls[--Us],Ls[Us]=null,du=Ls[--Us],Ls[Us]=null;for(;e===Ma;)Ma=ei[--ti],ei[ti]=null,rr=ei[--ti],ei[ti]=null,ir=ei[--ti],ei[ti]=null}var xn=null,pn=null,ot=!1,di=null,Li=!1,uf=Error(a(519));function Na(e){var t=Error(a(418,""));throw ql(Jn(t,e)),uf}function ym(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[Wt]=e,t[Dt]=l,i){case"dialog":at("cancel",t),at("close",t);break;case"iframe":case"object":case"embed":at("load",t);break;case"video":case"audio":for(i=0;i<uo.length;i++)at(uo[i],t);break;case"source":at("error",t);break;case"img":case"image":case"link":at("error",t),at("load",t);break;case"details":at("toggle",t);break;case"input":at("invalid",t),Ea(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Mi(t);break;case"select":at("invalid",t);break;case"textarea":at("invalid",t),Zo(t,l.value,l.defaultValue,l.children),Mi(t)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||xy(t.textContent,i)?(l.popover!=null&&(at("beforetoggle",t),at("toggle",t)),l.onScroll!=null&&at("scroll",t),l.onScrollEnd!=null&&at("scrollend",t),l.onClick!=null&&(t.onclick=Pu),t=!0):t=!1,t||Na(e)}function vm(e){for(xn=e.return;xn;)switch(xn.tag){case 3:case 27:Li=!0;return;case 5:case 13:Li=!1;return;default:xn=xn.return}}function jl(e){if(e!==xn)return!1;if(!ot)return vm(e),ot=!0,!1;var t=!1,i;if((i=e.tag!==3&&e.tag!==27)&&((i=e.tag===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Dh(e.type,e.memoizedProps)),i=!i),i&&(t=!0),t&&pn&&Na(e),vm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){pn=pi(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}pn=null}}else pn=xn?pi(e.stateNode.nextSibling):null;return!0}function Bl(){pn=xn=null,ot=!1}function ql(e){di===null?di=[e]:di.push(e)}var Il=Error(a(460)),gm=Error(a(474)),cf={then:function(){}};function _m(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mu(){}function bm(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(mu,mu),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Il?Error(a(483)):e;default:if(typeof t.status=="string")t.then(mu,mu);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Il?Error(a(483)):e}throw Hl=t,Il}}var Hl=null;function Em(){if(Hl===null)throw Error(a(459));var e=Hl;return Hl=null,e}var zs=null,$l=0;function pu(e){var t=$l;return $l+=1,zs===null&&(zs=[]),bm(zs,e,t)}function Yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yu(e,t){throw t.$$typeof===h?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Sm(e){var t=e._init;return t(e._payload)}function wm(e){function t($,L){if(e){var P=$.deletions;P===null?($.deletions=[L],$.flags|=16):P.push(L)}}function i($,L){if(!e)return null;for(;L!==null;)t($,L),L=L.sibling;return null}function l($){for(var L=new Map;$!==null;)$.key!==null?L.set($.key,$):L.set($.index,$),$=$.sibling;return L}function c($,L){return $=Xr($,L),$.index=0,$.sibling=null,$}function d($,L,P){return $.index=P,e?(P=$.alternate,P!==null?(P=P.index,P<L?($.flags|=33554434,L):P):($.flags|=33554434,L)):($.flags|=1048576,L)}function _($){return e&&$.alternate===null&&($.flags|=33554434),$}function w($,L,P,se){return L===null||L.tag!==6?(L=rh(P,$.mode,se),L.return=$,L):(L=c(L,P),L.return=$,L)}function C($,L,P,se){var Me=P.type;return Me===g?te($,L,P.props.children,se,P.key):L!==null&&(L.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===je&&Sm(Me)===L.type)?(L=c(L,P.props),Yl(L,P),L.return=$,L):(L=Lu(P.type,P.key,P.props,null,$.mode,se),Yl(L,P),L.return=$,L)}function j($,L,P,se){return L===null||L.tag!==4||L.stateNode.containerInfo!==P.containerInfo||L.stateNode.implementation!==P.implementation?(L=ah(P,$.mode,se),L.return=$,L):(L=c(L,P.children||[]),L.return=$,L)}function te($,L,P,se,Me){return L===null||L.tag!==7?(L=$a(P,$.mode,se,Me),L.return=$,L):(L=c(L,P),L.return=$,L)}function ce($,L,P){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=rh(""+L,$.mode,P),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case m:return P=Lu(L.type,L.key,L.props,null,$.mode,P),Yl(P,L),P.return=$,P;case y:return L=ah(L,$.mode,P),L.return=$,L;case je:var se=L._init;return L=se(L._payload),ce($,L,P)}if(Ve(L)||I(L))return L=$a(L,$.mode,P,null),L.return=$,L;if(typeof L.then=="function")return ce($,pu(L),P);if(L.$$typeof===Q)return ce($,Ru($,L),P);yu($,L)}return null}function F($,L,P,se){var Me=L!==null?L.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return Me!==null?null:w($,L,""+P,se);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case m:return P.key===Me?C($,L,P,se):null;case y:return P.key===Me?j($,L,P,se):null;case je:return Me=P._init,P=Me(P._payload),F($,L,P,se)}if(Ve(P)||I(P))return Me!==null?null:te($,L,P,se,null);if(typeof P.then=="function")return F($,L,pu(P),se);if(P.$$typeof===Q)return F($,L,Ru($,P),se);yu($,P)}return null}function J($,L,P,se,Me){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return $=$.get(P)||null,w(L,$,""+se,Me);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case m:return $=$.get(se.key===null?P:se.key)||null,C(L,$,se,Me);case y:return $=$.get(se.key===null?P:se.key)||null,j(L,$,se,Me);case je:var et=se._init;return se=et(se._payload),J($,L,P,se,Me)}if(Ve(se)||I(se))return $=$.get(P)||null,te(L,$,se,Me,null);if(typeof se.then=="function")return J($,L,P,pu(se),Me);if(se.$$typeof===Q)return J($,L,P,Ru(L,se),Me);yu(L,se)}return null}function Ue($,L,P,se){for(var Me=null,et=null,ze=L,qe=L=0,rn=null;ze!==null&&qe<P.length;qe++){ze.index>qe?(rn=ze,ze=null):rn=ze.sibling;var ut=F($,ze,P[qe],se);if(ut===null){ze===null&&(ze=rn);break}e&&ze&&ut.alternate===null&&t($,ze),L=d(ut,L,qe),et===null?Me=ut:et.sibling=ut,et=ut,ze=rn}if(qe===P.length)return i($,ze),ot&&Ra($,qe),Me;if(ze===null){for(;qe<P.length;qe++)ze=ce($,P[qe],se),ze!==null&&(L=d(ze,L,qe),et===null?Me=ze:et.sibling=ze,et=ze);return ot&&Ra($,qe),Me}for(ze=l(ze);qe<P.length;qe++)rn=J(ze,$,qe,P[qe],se),rn!==null&&(e&&rn.alternate!==null&&ze.delete(rn.key===null?qe:rn.key),L=d(rn,L,qe),et===null?Me=rn:et.sibling=rn,et=rn);return e&&ze.forEach(function(ia){return t($,ia)}),ot&&Ra($,qe),Me}function Fe($,L,P,se){if(P==null)throw Error(a(151));for(var Me=null,et=null,ze=L,qe=L=0,rn=null,ut=P.next();ze!==null&&!ut.done;qe++,ut=P.next()){ze.index>qe?(rn=ze,ze=null):rn=ze.sibling;var ia=F($,ze,ut.value,se);if(ia===null){ze===null&&(ze=rn);break}e&&ze&&ia.alternate===null&&t($,ze),L=d(ia,L,qe),et===null?Me=ia:et.sibling=ia,et=ia,ze=rn}if(ut.done)return i($,ze),ot&&Ra($,qe),Me;if(ze===null){for(;!ut.done;qe++,ut=P.next())ut=ce($,ut.value,se),ut!==null&&(L=d(ut,L,qe),et===null?Me=ut:et.sibling=ut,et=ut);return ot&&Ra($,qe),Me}for(ze=l(ze);!ut.done;qe++,ut=P.next())ut=J(ze,$,qe,ut.value,se),ut!==null&&(e&&ut.alternate!==null&&ze.delete(ut.key===null?qe:ut.key),L=d(ut,L,qe),et===null?Me=ut:et.sibling=ut,et=ut);return e&&ze.forEach(function(Eb){return t($,Eb)}),ot&&Ra($,qe),Me}function Ut($,L,P,se){if(typeof P=="object"&&P!==null&&P.type===g&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case m:e:{for(var Me=P.key;L!==null;){if(L.key===Me){if(Me=P.type,Me===g){if(L.tag===7){i($,L.sibling),se=c(L,P.props.children),se.return=$,$=se;break e}}else if(L.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===je&&Sm(Me)===L.type){i($,L.sibling),se=c(L,P.props),Yl(se,P),se.return=$,$=se;break e}i($,L);break}else t($,L);L=L.sibling}P.type===g?(se=$a(P.props.children,$.mode,se,P.key),se.return=$,$=se):(se=Lu(P.type,P.key,P.props,null,$.mode,se),Yl(se,P),se.return=$,$=se)}return _($);case y:e:{for(Me=P.key;L!==null;){if(L.key===Me)if(L.tag===4&&L.stateNode.containerInfo===P.containerInfo&&L.stateNode.implementation===P.implementation){i($,L.sibling),se=c(L,P.children||[]),se.return=$,$=se;break e}else{i($,L);break}else t($,L);L=L.sibling}se=ah(P,$.mode,se),se.return=$,$=se}return _($);case je:return Me=P._init,P=Me(P._payload),Ut($,L,P,se)}if(Ve(P))return Ue($,L,P,se);if(I(P)){if(Me=I(P),typeof Me!="function")throw Error(a(150));return P=Me.call(P),Fe($,L,P,se)}if(typeof P.then=="function")return Ut($,L,pu(P),se);if(P.$$typeof===Q)return Ut($,L,Ru($,P),se);yu($,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,L!==null&&L.tag===6?(i($,L.sibling),se=c(L,P),se.return=$,$=se):(i($,L),se=rh(P,$.mode,se),se.return=$,$=se),_($)):i($,L)}return function($,L,P,se){try{$l=0;var Me=Ut($,L,P,se);return zs=null,Me}catch(ze){if(ze===Il)throw ze;var et=ai(29,ze,null,$.mode);return et.lanes=se,et.return=$,et}finally{}}}var ka=wm(!0),Tm=wm(!1),js=It(null),vu=It(0);function xm(e,t){e=pr,$e(vu,e),$e(js,t),pr=e|t.baseLanes}function ff(){$e(vu,pr),$e(js,js.current)}function hf(){pr=vu.current,be(js),be(vu)}var ni=It(null),Ui=null;function qr(e){var t=e.alternate;$e(Xt,Xt.current&1),$e(ni,e),Ui===null&&(t===null||js.current!==null||t.memoizedState!==null)&&(Ui=e)}function Cm(e){if(e.tag===22){if($e(Xt,Xt.current),$e(ni,e),Ui===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Ui=e)}}else Ir()}function Ir(){$e(Xt,Xt.current),$e(ni,ni.current)}function ar(e){be(ni),Ui===e&&(Ui=null),be(Xt)}var Xt=It(0);function gu(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var o0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},u0=s.unstable_scheduleCallback,c0=s.unstable_NormalPriority,Zt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new o0,data:new Map,refCount:0}}function Vl(e){e.refCount--,e.refCount===0&&u0(c0,function(){e.controller.abort()})}var Pl=null,mf=0,Bs=0,qs=null;function f0(e,t){if(Pl===null){var i=Pl=[];mf=0,Bs=bh(),qs={status:"pending",value:void 0,then:function(l){i.push(l)}}}return mf++,t.then(Am,Am),t}function Am(){if(--mf===0&&Pl!==null){qs!==null&&(qs.status="fulfilled");var e=Pl;Pl=null,Bs=0,qs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function h0(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),l}var Om=Z.S;Z.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&f0(e,t),Om!==null&&Om(e,t)};var La=It(null);function pf(){var e=La.current;return e!==null?e:St.pooledCache}function _u(e,t){t===null?$e(La,La.current):$e(La,t.pool)}function Dm(){var e=pf();return e===null?null:{parent:Zt._currentValue,pool:e}}var Hr=0,Ze=null,yt=null,Vt=null,bu=!1,Is=!1,Ua=!1,Eu=0,Fl=0,Hs=null,d0=0;function jt(){throw Error(a(321))}function yf(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!bn(e[i],t[i]))return!1;return!0}function vf(e,t,i,l,c,d){return Hr=d,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z.H=e===null||e.memoizedState===null?za:$r,Ua=!1,d=i(l,c),Ua=!1,Is&&(d=Rm(t,i,l,c)),Mm(e),d}function Mm(e){Z.H=zi;var t=yt!==null&&yt.next!==null;if(Hr=0,Vt=yt=Ze=null,bu=!1,Fl=0,Hs=null,t)throw Error(a(300));e===null||tn||(e=e.dependencies,e!==null&&Mu(e)&&(tn=!0))}function Rm(e,t,i,l){Ze=e;var c=0;do{if(Is&&(Hs=null),Fl=0,Is=!1,25<=c)throw Error(a(301));if(c+=1,Vt=yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=ja,d=t(i,l)}while(Is);return d}function m0(){var e=Z.H,t=e.useState()[0];return t=typeof t.then=="function"?Kl(t):t,e=e.useState()[0],(yt!==null?yt.memoizedState:null)!==e&&(Ze.flags|=1024),t}function gf(){var e=Eu!==0;return Eu=0,e}function _f(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function bf(e){if(bu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bu=!1}Hr=0,Vt=yt=Ze=null,Is=!1,Fl=Eu=0,Hs=null}function Nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ze.memoizedState=Vt=e:Vt=Vt.next=e,Vt}function Pt(){if(yt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Vt===null?Ze.memoizedState:Vt.next;if(t!==null)Vt=t,yt=e;else{if(e===null)throw Ze.alternate===null?Error(a(467)):Error(a(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Vt===null?Ze.memoizedState=Vt=e:Vt=Vt.next=e}return Vt}var Su;Su=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Kl(e){var t=Fl;return Fl+=1,Hs===null&&(Hs=[]),e=bm(Hs,e,t),t=Ze,(Vt===null?t.memoizedState:Vt.next)===null&&(t=t.alternate,Z.H=t===null||t.memoizedState===null?za:$r),e}function wu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===Q)return En(e)}throw Error(a(438,String(e)))}function Ef(e){var t=null,i=Ze.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=Ze.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Su(),Ze.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=Je;return t.index++,i}function sr(e,t){return typeof t=="function"?t(e):t}function Tu(e){var t=Pt();return Sf(t,yt,e)}function Sf(e,t,i){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=i;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var _=c.next;c.next=d.next,d.next=_}t.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var w=_=null,C=null,j=t,te=!1;do{var ce=j.lane&-536870913;if(ce!==j.lane?(st&ce)===ce:(Hr&ce)===ce){var F=j.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),ce===Bs&&(te=!0);else if((Hr&F)===F){j=j.next,F===Bs&&(te=!0);continue}else ce={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(w=C=ce,_=d):C=C.next=ce,Ze.lanes|=F,Zr|=F;ce=j.action,Ua&&i(d,ce),d=j.hasEagerState?j.eagerState:i(d,ce)}else F={lane:ce,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(w=C=F,_=d):C=C.next=F,Ze.lanes|=ce,Zr|=ce;j=j.next}while(j!==null&&j!==t);if(C===null?_=d:C.next=w,!bn(d,e.memoizedState)&&(tn=!0,te&&(i=qs,i!==null)))throw i;e.memoizedState=d,e.baseState=_,e.baseQueue=C,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function wf(e){var t=Pt(),i=t.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var _=c=c.next;do d=e(d,_.action),_=_.next;while(_!==c);bn(d,t.memoizedState)||(tn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,l]}function Nm(e,t,i){var l=Ze,c=Pt(),d=ot;if(d){if(i===void 0)throw Error(a(407));i=i()}else i=t();var _=!bn((yt||c).memoizedState,i);if(_&&(c.memoizedState=i,tn=!0),c=c.queue,Cf(Um.bind(null,l,c,e),[e]),c.getSnapshot!==t||_||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,$s(9,Lm.bind(null,l,c,i,t),{destroy:void 0},null),St===null)throw Error(a(349));d||(Hr&60)!==0||km(l,t,i)}return i}function km(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ze.updateQueue,t===null?(t=Su(),Ze.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Lm(e,t,i,l){t.value=i,t.getSnapshot=l,zm(t)&&jm(e)}function Um(e,t,i){return i(function(){zm(t)&&jm(e)})}function zm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!bn(e,i)}catch{return!0}}function jm(e){var t=Ct(e,2);t!==null&&Cn(t,e,2)}function Tf(e){var t=Nn();if(typeof e=="function"){var i=e;if(e=i(),Ua){Oe(!0);try{i()}finally{Oe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:e},t}function Bm(e,t,i,l){return e.baseState=i,Sf(e,yt,typeof l=="function"?l:sr)}function p0(e,t,i,l,c){if(Au(e))throw Error(a(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Z.T!==null?i(!0):d.isTransition=!1,l(d),i=t.pending,i===null?(d.next=t.pending=d,qm(t,d)):(d.next=i.next,t.pending=i.next=d)}}function qm(e,t){var i=t.action,l=t.payload,c=e.state;if(t.isTransition){var d=Z.T,_={};Z.T=_;try{var w=i(c,l),C=Z.S;C!==null&&C(_,w),Im(e,t,w)}catch(j){xf(e,t,j)}finally{Z.T=d}}else try{d=i(c,l),Im(e,t,d)}catch(j){xf(e,t,j)}}function Im(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){Hm(e,t,l)},function(l){return xf(e,t,l)}):Hm(e,t,i)}function Hm(e,t,i){t.status="fulfilled",t.value=i,$m(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,qm(e,i)))}function xf(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,$m(t),t=t.next;while(t!==l)}e.action=null}function $m(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ym(e,t){return t}function Vm(e,t){if(ot){var i=St.formState;if(i!==null){e:{var l=Ze;if(ot){if(pn){t:{for(var c=pn,d=Li;c.nodeType!==8;){if(!d){c=null;break t}if(c=pi(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){pn=pi(c.nextSibling),l=c.data==="F!";break e}}Na(l)}l=!1}l&&(t=i[0])}}return i=Nn(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ym,lastRenderedState:t},i.queue=l,i=op.bind(null,Ze,l),l.dispatch=i,l=Tf(!1),d=Rf.bind(null,Ze,!1,l.queue),l=Nn(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,i=p0.bind(null,Ze,c,d,i),c.dispatch=i,l.memoizedState=e,[t,i,!1]}function Pm(e){var t=Pt();return Fm(t,yt,e)}function Fm(e,t,i){t=Sf(e,t,Ym)[0],e=Tu(sr)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Kl(t):t;var l=Pt(),c=l.queue,d=c.dispatch;return i!==l.memoizedState&&(Ze.flags|=2048,$s(9,y0.bind(null,c,i),{destroy:void 0},null)),[t,d,e]}function y0(e,t){e.action=t}function Km(e){var t=Pt(),i=yt;if(i!==null)return Fm(t,i,e);Pt(),t=t.memoizedState,i=Pt();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function $s(e,t,i,l){return e={tag:e,create:t,inst:i,deps:l,next:null},t=Ze.updateQueue,t===null&&(t=Su(),Ze.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function Gm(){return Pt().memoizedState}function xu(e,t,i,l){var c=Nn();Ze.flags|=e,c.memoizedState=$s(1|t,i,{destroy:void 0},l===void 0?null:l)}function Cu(e,t,i,l){var c=Pt();l=l===void 0?null:l;var d=c.memoizedState.inst;yt!==null&&l!==null&&yf(l,yt.memoizedState.deps)?c.memoizedState=$s(t,i,d,l):(Ze.flags|=e,c.memoizedState=$s(1|t,i,d,l))}function Qm(e,t){xu(8390656,8,e,t)}function Cf(e,t){Cu(2048,8,e,t)}function Xm(e,t){return Cu(4,2,e,t)}function Zm(e,t){return Cu(4,4,e,t)}function Wm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jm(e,t,i){i=i!=null?i.concat([e]):null,Cu(4,4,Wm.bind(null,t,e),i)}function Af(){}function ep(e,t){var i=Pt();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&yf(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function tp(e,t){var i=Pt();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&yf(t,l[1]))return l[0];if(l=e(),Ua){Oe(!0);try{e()}finally{Oe(!1)}}return i.memoizedState=[l,t],l}function Of(e,t,i){return i===void 0||(Hr&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=iy(),Ze.lanes|=e,Zr|=e,i)}function np(e,t,i,l){return bn(i,t)?i:js.current!==null?(e=Of(e,i,l),bn(e,t)||(tn=!0),e):(Hr&42)===0?(tn=!0,e.memoizedState=i):(e=iy(),Ze.lanes|=e,Zr|=e,t)}function ip(e,t,i,l,c){var d=Le.p;Le.p=d!==0&&8>d?d:8;var _=Z.T,w={};Z.T=w,Rf(e,!1,t,i);try{var C=c(),j=Z.S;if(j!==null&&j(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var te=h0(C,l);Gl(e,t,te,Vn(e))}else Gl(e,t,l,Vn(e))}catch(ce){Gl(e,t,{then:function(){},status:"rejected",reason:ce},Vn())}finally{Le.p=d,Z.T=_}}function v0(){}function Df(e,t,i,l){if(e.tag!==5)throw Error(a(476));var c=rp(e).queue;ip(e,c,t,it,i===null?v0:function(){return ap(e),i(l)})}function rp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:it},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ap(e){var t=rp(e).next.queue;Gl(e,t,{},Vn())}function Mf(){return En(po)}function sp(){return Pt().memoizedState}function lp(){return Pt().memoizedState}function g0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Vn();e=Pr(i);var l=Fr(t,e,i);l!==null&&(Cn(l,t,i),Zl(l,t,i)),t={cache:df()},e.payload=t;return}t=t.return}}function _0(e,t,i){var l=Vn();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Au(e)?up(t,i):(i=$t(e,t,i,l),i!==null&&(Cn(i,e,l),cp(i,t,l)))}function op(e,t,i){var l=Vn();Gl(e,t,i,l)}function Gl(e,t,i,l){var c={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Au(e))up(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var _=t.lastRenderedState,w=d(_,i);if(c.hasEagerState=!0,c.eagerState=w,bn(w,_))return Ie(e,t,c,0),St===null&&en(),!1}catch{}finally{}if(i=$t(e,t,c,l),i!==null)return Cn(i,e,l),cp(i,t,l),!0}return!1}function Rf(e,t,i,l){if(l={lane:2,revertLane:bh(),action:l,hasEagerState:!1,eagerState:null,next:null},Au(e)){if(t)throw Error(a(479))}else t=$t(e,i,l,2),t!==null&&Cn(t,e,2)}function Au(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function up(e,t){Is=bu=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function cp(e,t,i){if((i&4194176)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,zt(e,i)}}var zi={readContext:En,use:wu,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt};zi.useCacheRefresh=jt,zi.useMemoCache=jt,zi.useHostTransitionStatus=jt,zi.useFormState=jt,zi.useActionState=jt,zi.useOptimistic=jt;var za={readContext:En,use:wu,useCallback:function(e,t){return Nn().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:Qm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,xu(4194308,4,Wm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return xu(4194308,4,e,t)},useInsertionEffect:function(e,t){xu(4,2,e,t)},useMemo:function(e,t){var i=Nn();t=t===void 0?null:t;var l=e();if(Ua){Oe(!0);try{e()}finally{Oe(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=Nn();if(i!==void 0){var c=i(t);if(Ua){Oe(!0);try{i(t)}finally{Oe(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=_0.bind(null,Ze,e),[l.memoizedState,e]},useRef:function(e){var t=Nn();return e={current:e},t.memoizedState=e},useState:function(e){e=Tf(e);var t=e.queue,i=op.bind(null,Ze,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Af,useDeferredValue:function(e,t){var i=Nn();return Of(i,e,t)},useTransition:function(){var e=Tf(!1);return e=ip.bind(null,Ze,e.queue,!0,!1),Nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=Ze,c=Nn();if(ot){if(i===void 0)throw Error(a(407));i=i()}else{if(i=t(),St===null)throw Error(a(349));(st&60)!==0||km(l,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,Qm(Um.bind(null,l,d,e),[e]),l.flags|=2048,$s(9,Lm.bind(null,l,d,i,t),{destroy:void 0},null),i},useId:function(){var e=Nn(),t=St.identifierPrefix;if(ot){var i=rr,l=ir;i=(l&~(1<<32-Qt(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Eu++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=d0++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Nn().memoizedState=g0.bind(null,Ze)}};za.useMemoCache=Ef,za.useHostTransitionStatus=Mf,za.useFormState=Vm,za.useActionState=Vm,za.useOptimistic=function(e){var t=Nn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Rf.bind(null,Ze,!0,i),i.dispatch=t,[e,t]};var $r={readContext:En,use:wu,useCallback:ep,useContext:En,useEffect:Cf,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:tp,useReducer:Tu,useRef:Gm,useState:function(){return Tu(sr)},useDebugValue:Af,useDeferredValue:function(e,t){var i=Pt();return np(i,yt.memoizedState,e,t)},useTransition:function(){var e=Tu(sr)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:Nm,useId:sp};$r.useCacheRefresh=lp,$r.useMemoCache=Ef,$r.useHostTransitionStatus=Mf,$r.useFormState=Pm,$r.useActionState=Pm,$r.useOptimistic=function(e,t){var i=Pt();return Bm(i,yt,e,t)};var ja={readContext:En,use:wu,useCallback:ep,useContext:En,useEffect:Cf,useImperativeHandle:Jm,useInsertionEffect:Xm,useLayoutEffect:Zm,useMemo:tp,useReducer:wf,useRef:Gm,useState:function(){return wf(sr)},useDebugValue:Af,useDeferredValue:function(e,t){var i=Pt();return yt===null?Of(i,e,t):np(i,yt.memoizedState,e,t)},useTransition:function(){var e=wf(sr)[0],t=Pt().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:Nm,useId:sp};ja.useCacheRefresh=lp,ja.useMemoCache=Ef,ja.useHostTransitionStatus=Mf,ja.useFormState=Km,ja.useActionState=Km,ja.useOptimistic=function(e,t){var i=Pt();return yt!==null?Bm(i,yt,e,t):(i.baseState=e,[e,i.queue.dispatch])};function Nf(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:oe({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var kf={isMounted:function(e){return(e=e._reactInternals)?X(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=Vn(),c=Pr(l);c.payload=t,i!=null&&(c.callback=i),t=Fr(e,c,l),t!==null&&(Cn(t,e,l),Zl(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=Vn(),c=Pr(l);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Fr(e,c,l),t!==null&&(Cn(t,e,l),Zl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Vn(),l=Pr(i);l.tag=2,t!=null&&(l.callback=t),t=Fr(e,l,i),t!==null&&(Cn(t,e,i),Zl(t,e,i))}};function fp(e,t,i,l,c,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):t.prototype&&t.prototype.isPureReactComponent?!u(i,l)||!u(c,d):!0}function hp(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&kf.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=oe({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function dp(e){Ou(e)}function mp(e){console.error(e)}function pp(e){Ou(e)}function Du(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function yp(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lf(e,t,i){return i=Pr(i),i.tag=3,i.payload={element:null},i.callback=function(){Du(e,t)},i}function vp(e){return e=Pr(e),e.tag=3,e}function gp(e,t,i,l){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){yp(t,i,l)}}var _=i.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){yp(t,i,l),typeof c!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function b0(e,t,i,l,c){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&Xl(t,i,c,!0),i=ni.current,i!==null){switch(i.tag){case 13:return Ui===null?ph():i.alternate===null&&Lt===0&&(Lt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,l===cf?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),vh(e,l,c)),!1;case 22:return i.flags|=65536,l===cf?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),vh(e,l,c)),!1}throw Error(a(435,i.tag))}return vh(e,l,c),ph(),!1}if(ot)return t=ni.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==uf&&(e=Error(a(422),{cause:l}),ql(Jn(e,i)))):(l!==uf&&(t=Error(a(423),{cause:l}),ql(Jn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Jn(l,i),c=Lf(e.stateNode,l,c),Qf(e,c),Lt!==4&&(Lt=2)),!1;var d=Error(a(520),{cause:l});if(d=Jn(d,i),ao===null?ao=[d]:ao.push(d),Lt!==4&&(Lt=2),t===null)return!0;l=Jn(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Lf(i.stateNode,l,e),Qf(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return i.flags|=65536,c&=-c,i.lanes|=c,c=vp(c),gp(c,e,i,l),Qf(i,c),!1}i=i.return}while(i!==null);return!1}var _p=Error(a(461)),tn=!1;function yn(e,t,i,l){t.child=e===null?Tm(t,null,i,l):ka(t,e.child,i,l)}function bp(e,t,i,l,c){i=i.render;var d=t.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Ia(t),l=vf(e,t,i,_,d,c),w=gf(),e!==null&&!tn?(_f(e,t,c),lr(e,t,c)):(ot&&w&&lf(t),t.flags|=1,yn(e,t,l,c),t.child)}function Ep(e,t,i,l,c){if(e===null){var d=i.type;return typeof d=="function"&&!ih(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,Sp(e,t,d,l,c)):(e=Lu(i.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!Yf(e,c)){var _=d.memoizedProps;if(i=i.compare,i=i!==null?i:u,i(_,l)&&e.ref===t.ref)return lr(e,t,c)}return t.flags|=1,e=Xr(d,l),e.ref=t.ref,e.return=t,t.child=e}function Sp(e,t,i,l,c){if(e!==null){var d=e.memoizedProps;if(u(d,l)&&e.ref===t.ref)if(tn=!1,t.pendingProps=l=d,Yf(e,c))(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,lr(e,t,c)}return Uf(e,t,i,l,c)}function wp(e,t,i){var l=t.pendingProps,c=l.children,d=(t.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Ql(e,t),l.mode==="hidden"||d){if((t.flags&128)!==0){if(l=_!==null?_.baseLanes|i:i,e!==null){for(c=t.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;t.childLanes=d&~l}else t.childLanes=0,t.child=null;return Tp(e,t,l,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_u(t,_!==null?_.cachePool:null),_!==null?xm(t,_):ff(),Cm(t);else return t.lanes=t.childLanes=536870912,Tp(e,t,_!==null?_.baseLanes|i:i,i)}else _!==null?(_u(t,_.cachePool),xm(t,_),Ir(),t.memoizedState=null):(e!==null&&_u(t,null),ff(),Ir());return yn(e,t,c,i),t.child}function Tp(e,t,i,l){var c=pf();return c=c===null?null:{parent:Zt._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&_u(t,null),ff(),Cm(t),e!==null&&Xl(e,t,l,!0),null}function Ql(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(e===null||e.ref!==i)&&(t.flags|=2097664)}}function Uf(e,t,i,l,c){return Ia(t),i=vf(e,t,i,l,void 0,c),l=gf(),e!==null&&!tn?(_f(e,t,c),lr(e,t,c)):(ot&&l&&lf(t),t.flags|=1,yn(e,t,i,c),t.child)}function xp(e,t,i,l,c,d){return Ia(t),t.updateQueue=null,i=Rm(t,l,i,c),Mm(e),l=gf(),e!==null&&!tn?(_f(e,t,d),lr(e,t,d)):(ot&&l&&lf(t),t.flags|=1,yn(e,t,i,d),t.child)}function Cp(e,t,i,l,c){if(Ia(t),t.stateNode===null){var d=Rn,_=i.contextType;typeof _=="object"&&_!==null&&(d=En(_)),d=new i(l,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=kf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=l,d.state=t.memoizedState,d.refs={},Kf(t),_=i.contextType,d.context=typeof _=="object"&&_!==null?En(_):Rn,d.state=t.memoizedState,_=i.getDerivedStateFromProps,typeof _=="function"&&(Nf(t,i,_,l),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&kf.enqueueReplaceState(d,d.state,null),Jl(t,l,d,c),Wl(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,C=Ba(i,w);d.props=C;var j=d.context,te=i.contextType;_=Rn,typeof te=="object"&&te!==null&&(_=En(te));var ce=i.getDerivedStateFromProps;te=typeof ce=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||j!==_)&&hp(t,d,l,_),Vr=!1;var F=t.memoizedState;d.state=F,Jl(t,l,d,c),Wl(),j=t.memoizedState,w||F!==j||Vr?(typeof ce=="function"&&(Nf(t,i,ce,l),j=t.memoizedState),(C=Vr||fp(t,i,C,l,F,j,_))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=j),d.props=l,d.state=j,d.context=_,l=C):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{d=t.stateNode,Gf(e,t),_=t.memoizedProps,te=Ba(i,_),d.props=te,ce=t.pendingProps,F=d.context,j=i.contextType,C=Rn,typeof j=="object"&&j!==null&&(C=En(j)),w=i.getDerivedStateFromProps,(j=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ce||F!==C)&&hp(t,d,l,C),Vr=!1,F=t.memoizedState,d.state=F,Jl(t,l,d,c),Wl();var J=t.memoizedState;_!==ce||F!==J||Vr||e!==null&&e.dependencies!==null&&Mu(e.dependencies)?(typeof w=="function"&&(Nf(t,i,w,l),J=t.memoizedState),(te=Vr||fp(t,i,te,l,F,J,C)||e!==null&&e.dependencies!==null&&Mu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,J,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,J,C)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=J),d.props=l,d.state=J,d.context=C,l=te):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&F===e.memoizedState||(t.flags|=1024),l=!1)}return d=l,Ql(e,t),l=(t.flags&128)!==0,d||l?(d=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&l?(t.child=ka(t,e.child,null,c),t.child=ka(t,null,i,c)):yn(e,t,i,c),t.memoizedState=d.state,e=t.child):e=lr(e,t,c),e}function Ap(e,t,i,l){return Bl(),t.flags|=256,yn(e,t,i,l),t.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function jf(e){return{baseLanes:e,cachePool:Dm()}}function Bf(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=si),e}function Op(e,t,i){var l=t.pendingProps,c=!1,d=(t.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Xt.current&2)!==0),_&&(c=!0,t.flags&=-129),_=(t.flags&32)!==0,t.flags&=-33,e===null){if(ot){if(c?qr(t):Ir(),ot){var w=pn,C;if(C=w){e:{for(C=w,w=Li;C.nodeType!==8;){if(!w){w=null;break e}if(C=pi(C.nextSibling),C===null){w=null;break e}}w=C}w!==null?(t.memoizedState={dehydrated:w,treeContext:Ma!==null?{id:ir,overflow:rr}:null,retryLane:536870912},C=ai(18,null,null,0),C.stateNode=w,C.return=t,t.child=C,xn=t,pn=null,C=!0):C=!1}C||Na(t)}if(w=t.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?t.lanes=16:t.lanes=536870912,null;ar(t)}return w=l.children,l=l.fallback,c?(Ir(),c=t.mode,w=If({mode:"hidden",children:w},c),l=$a(l,c,i,null),w.return=t,l.return=t,w.sibling=l,t.child=w,c=t.child,c.memoizedState=jf(i),c.childLanes=Bf(e,_,i),t.memoizedState=zf,l):(qr(t),qf(t,w))}if(C=e.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(d)t.flags&256?(qr(t),t.flags&=-257,t=Hf(e,t,i)):t.memoizedState!==null?(Ir(),t.child=e.child,t.flags|=128,t=null):(Ir(),c=l.fallback,w=t.mode,l=If({mode:"visible",children:l.children},w),c=$a(c,w,i,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,ka(t,e.child,null,i),l=t.child,l.memoizedState=jf(i),l.childLanes=Bf(e,_,i),t.memoizedState=zf,t=c);else if(qr(t),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(a(419)),l.stack="",l.digest=_,ql({value:l,source:null,stack:null}),t=Hf(e,t,i)}else if(tn||Xl(e,t,i,!1),_=(i&e.childLanes)!==0,tn||_){if(_=St,_!==null){if(l=i&-i,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|i))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Ct(e,l),Cn(_,e,l),_p}w.data==="$?"||ph(),t=Hf(e,t,i)}else w.data==="$?"?(t.flags|=128,t.child=e.child,t=U0.bind(null,e),w._reactRetry=t,t=null):(e=C.treeContext,pn=pi(w.nextSibling),xn=t,ot=!0,di=null,Li=!1,e!==null&&(ei[ti++]=ir,ei[ti++]=rr,ei[ti++]=Ma,ir=e.id,rr=e.overflow,Ma=t),t=qf(t,l.children),t.flags|=4096);return t}return c?(Ir(),c=l.fallback,w=t.mode,C=e.child,j=C.sibling,l=Xr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,j!==null?c=Xr(j,c):(c=$a(c,w,i,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,l=c,c=t.child,w=e.child.memoizedState,w===null?w=jf(i):(C=w.cachePool,C!==null?(j=Zt._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=Dm(),w={baseLanes:w.baseLanes|i,cachePool:C}),c.memoizedState=w,c.childLanes=Bf(e,_,i),t.memoizedState=zf,l):(qr(t),i=e.child,e=i.sibling,i=Xr(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(_=t.deletions,_===null?(t.deletions=[e],t.flags|=16):_.push(e)),t.child=i,t.memoizedState=null,i)}function qf(e,t){return t=If({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function If(e,t){return ey(e,t,0,null)}function Hf(e,t,i){return ka(t,e.child,null,i),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dp(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Pf(e.return,t,i)}function $f(e,t,i,l,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=i,d.tailMode=c)}function Mp(e,t,i){var l=t.pendingProps,c=l.revealOrder,d=l.tail;if(yn(e,t,l.children,i),l=Xt.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dp(e,i,t);else if(e.tag===19)Dp(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch($e(Xt,l),c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&gu(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),$f(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&gu(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}$f(t,!0,i,null,d);break;case"together":$f(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Zr|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Xl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,i=Xr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Xr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Yf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Mu(e)))}function E0(e,t,i){switch(t.tag){case 3:cn(t,t.stateNode.containerInfo),Yr(t,Zt,e.memoizedState.cache),Bl();break;case 27:case 5:Hi(t);break;case 4:cn(t,t.stateNode.containerInfo);break;case 10:Yr(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(qr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Op(e,t,i):(qr(t),e=lr(e,t,i),e!==null?e.sibling:null);qr(t);break;case 19:var c=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(Xl(e,t,i,!1),l=(i&t.childLanes)!==0),c){if(l)return Mp(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$e(Xt,Xt.current),l)break;return null;case 22:case 23:return t.lanes=0,wp(e,t,i);case 24:Yr(t,Zt,e.memoizedState.cache)}return lr(e,t,i)}function Rp(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tn=!0;else{if(!Yf(e,i)&&(t.flags&128)===0)return tn=!1,E0(e,t,i);tn=(e.flags&131072)!==0}else tn=!1,ot&&(t.flags&1048576)!==0&&pm(t,du,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,c=l._init;if(l=c(l._payload),t.type=l,typeof l=="function")ih(l)?(e=Ba(l,e),t.tag=1,t=Cp(null,t,l,e,i)):(t.tag=0,t=Uf(null,t,l,e,i));else{if(l!=null){if(c=l.$$typeof,c===le){t.tag=11,t=bp(null,t,l,e,i);break e}else if(c===Ne){t.tag=14,t=Ep(null,t,l,e,i);break e}}throw t=Se(l)||l,Error(a(306,t,""))}}return t;case 0:return Uf(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,c=Ba(l,t.pendingProps),Cp(e,t,l,c,i);case 3:e:{if(cn(t,t.stateNode.containerInfo),e===null)throw Error(a(387));var d=t.pendingProps;c=t.memoizedState,l=c.element,Gf(e,t),Jl(t,d,null,i);var _=t.memoizedState;if(d=_.cache,Yr(t,Zt,d),d!==c.cache&&Ff(t,[Zt],i,!0),Wl(),d=_.element,c.isDehydrated)if(c={element:d,isDehydrated:!1,cache:_.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Ap(e,t,d,i);break e}else if(d!==l){l=Jn(Error(a(424)),t),ql(l),t=Ap(e,t,d,i);break e}else for(pn=pi(t.stateNode.containerInfo.firstChild),xn=t,ot=!0,di=null,Li=!0,i=Tm(t,null,d,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Bl(),d===l){t=lr(e,t,i);break e}yn(e,t,d,i)}t=t.child}return t;case 26:return Ql(e,t),e===null?(i=Ly(t.type,null,t.pendingProps,null))?t.memoizedState=i:ot||(i=t.type,e=t.pendingProps,l=Fu(Ot.current).createElement(i),l[Wt]=t,l[Dt]=e,vn(l,i,e),mt(l),t.stateNode=l):t.memoizedState=Ly(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hi(t),e===null&&ot&&(l=t.stateNode=Ry(t.type,t.pendingProps,Ot.current),xn=t,Li=!0,pn=pi(l.firstChild)),l=t.pendingProps.children,e!==null||ot?yn(e,t,l,i):t.child=ka(t,null,l,i),Ql(e,t),t.child;case 5:return e===null&&ot&&((c=l=pn)&&(l=Z0(l,t.type,t.pendingProps,Li),l!==null?(t.stateNode=l,xn=t,pn=pi(l.firstChild),Li=!1,c=!0):c=!1),c||Na(t)),Hi(t),c=t.type,d=t.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,Dh(c,d)?l=null:_!==null&&Dh(c,_)&&(t.flags|=32),t.memoizedState!==null&&(c=vf(e,t,m0,null,null,i),po._currentValue=c),Ql(e,t),yn(e,t,l,i),t.child;case 6:return e===null&&ot&&((e=i=pn)&&(i=W0(i,t.pendingProps,Li),i!==null?(t.stateNode=i,xn=t,pn=null,e=!0):e=!1),e||Na(t)),null;case 13:return Op(e,t,i);case 4:return cn(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ka(t,null,l,i):yn(e,t,l,i),t.child;case 11:return bp(e,t,t.type,t.pendingProps,i);case 7:return yn(e,t,t.pendingProps,i),t.child;case 8:return yn(e,t,t.pendingProps.children,i),t.child;case 12:return yn(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Yr(t,t.type,l.value),yn(e,t,l.children,i),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Ia(t),c=En(c),l=l(c),t.flags|=1,yn(e,t,l,i),t.child;case 14:return Ep(e,t,t.type,t.pendingProps,i);case 15:return Sp(e,t,t.type,t.pendingProps,i);case 19:return Mp(e,t,i);case 22:return wp(e,t,i);case 24:return Ia(t),l=En(Zt),e===null?(c=pf(),c===null&&(c=St,d=df(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=i),c=d),t.memoizedState={parent:l,cache:c},Kf(t),Yr(t,Zt,c)):((e.lanes&i)!==0&&(Gf(e,t),Jl(t,null,null,i),Wl()),c=e.memoizedState,d=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Yr(t,Zt,l)):(l=d.cache,Yr(t,Zt,l),l!==c.cache&&Ff(t,[Zt],i,!0))),yn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}var Vf=It(null),qa=null,or=null;function Yr(e,t,i){$e(Vf,t._currentValue),t._currentValue=i}function ur(e){e._currentValue=Vf.current,be(Vf)}function Pf(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Ff(e,t,i,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var _=c.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=c;for(var C=0;C<t.length;C++)if(w.context===t[C]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),Pf(d.return,i,e),l||(_=null);break e}d=w.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(a(341));_.lanes|=i,d=_.alternate,d!==null&&(d.lanes|=i),Pf(_,i,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function Xl(e,t,i,l){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var w=c.type;bn(c.pendingProps.value,_.value)||(e!==null?e.push(w):e=[w])}}else if(c===ui.current){if(_=c.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(po):e=[po])}c=c.return}e!==null&&Ff(t,e,i,l),t.flags|=262144}function Mu(e){for(e=e.firstContext;e!==null;){if(!bn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ia(e){qa=e,or=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function En(e){return Np(qa,e)}function Ru(e,t){return qa===null&&Ia(e),Np(e,t)}function Np(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},or===null){if(e===null)throw Error(a(308));or=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else or=or.next=t;return i}var Vr=!1;function Kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Rt&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Yt(e),Da(e,null,i),t}return Ie(e,l,t,i),Yt(e)}function Zl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194176)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,zt(e,i)}}function Qf(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var _={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?c=d=_:d=d.next=_,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Xf=!1;function Wl(){if(Xf){var e=qs;if(e!==null)throw e}}function Jl(e,t,i,l){Xf=!1;var c=e.updateQueue;Vr=!1;var d=c.firstBaseUpdate,_=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var C=w,j=C.next;C.next=null,_===null?d=j:_.next=j,_=C;var te=e.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==_&&(w===null?te.firstBaseUpdate=j:w.next=j,te.lastBaseUpdate=C))}if(d!==null){var ce=c.baseState;_=0,te=j=C=null,w=d;do{var F=w.lane&-536870913,J=F!==w.lane;if(J?(st&F)===F:(l&F)===F){F!==0&&F===Bs&&(Xf=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ue=e,Fe=w;F=t;var Ut=i;switch(Fe.tag){case 1:if(Ue=Fe.payload,typeof Ue=="function"){ce=Ue.call(Ut,ce,F);break e}ce=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=Fe.payload,F=typeof Ue=="function"?Ue.call(Ut,ce,F):Ue,F==null)break e;ce=oe({},ce,F);break e;case 2:Vr=!0}}F=w.callback,F!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[F]:J.push(F))}else J={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(j=te=J,C=ce):te=te.next=J,_|=F;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;J=w,w=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);te===null&&(C=ce),c.baseState=C,c.firstBaseUpdate=j,c.lastBaseUpdate=te,d===null&&(c.shared.lanes=0),Zr|=_,e.lanes=_,e.memoizedState=ce}}function kp(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function Lp(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)kp(i[e],t)}function eo(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var c=l.next;i=c;do{if((i.tag&e)===e){l=void 0;var d=i.create,_=i.inst;l=d(),_.destroy=l}i=i.next}while(i!==c)}}catch(w){bt(t,t.return,w)}}function Kr(e,t,i){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,c=t;var C=i;try{w()}catch(j){bt(c,C,j)}}}l=l.next}while(l!==d)}}catch(j){bt(t,t.return,j)}}function Up(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Lp(t,i)}catch(l){bt(e,e.return,l)}}}function zp(e,t,i){i.props=Ba(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){bt(e,t,l)}}function Ha(e,t){try{var i=e.ref;if(i!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof i=="function"?e.refCleanup=i(c):i.current=c}}catch(d){bt(e,t,d)}}function Hn(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(c){bt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){bt(e,t,c)}else i.current=null}function jp(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(c){bt(e,e.return,c)}}function Bp(e,t,i){try{var l=e.stateNode;F0(l,e.type,i,t),l[Dt]=t}catch(c){bt(e,e.return,c)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Zf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Pu));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wf(e,t,i),e=e.sibling;e!==null;)Wf(e,t,i),e=e.sibling}function Nu(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Nu(e,t,i),e=e.sibling;e!==null;)Nu(e,t,i),e=e.sibling}var cr=!1,kt=!1,Jf=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,nn=null,Hp=!1;function S0(e,t){if(e=e.containerInfo,Ah=Wu,e=b(e),S(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var _=0,w=-1,C=-1,j=0,te=0,ce=e,F=null;t:for(;;){for(var J;ce!==i||c!==0&&ce.nodeType!==3||(w=_+c),ce!==d||l!==0&&ce.nodeType!==3||(C=_+l),ce.nodeType===3&&(_+=ce.nodeValue.length),(J=ce.firstChild)!==null;)F=ce,ce=J;for(;;){if(ce===e)break t;if(F===i&&++j===c&&(w=_),F===d&&++te===l&&(C=_),(J=ce.nextSibling)!==null)break;ce=F,F=ce.parentNode}ce=J}i=w===-1||C===-1?null:{start:w,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(Oh={focusedElem:e,selectionRange:i},Wu=!1,nn=t;nn!==null;)if(t=nn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nn=e;else for(;nn!==null;){switch(t=nn,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,c=d.memoizedProps,d=d.memoizedState,l=i.stateNode;try{var Ue=Ba(i.type,c,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(Ue,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){bt(i,i.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Nh(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,nn=e;break}nn=t.return}return Ue=Hp,Hp=!1,Ue}function $p(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:hr(e,i),l&4&&eo(5,i);break;case 1:if(hr(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(w){bt(i,i.return,w)}else{var c=Ba(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(w){bt(i,i.return,w)}}l&64&&Up(i),l&512&&Ha(i,i.return);break;case 3:if(hr(e,i),l&64&&(l=i.updateQueue,l!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{Lp(l,e)}catch(w){bt(i,i.return,w)}}break;case 26:hr(e,i),l&512&&Ha(i,i.return);break;case 27:case 5:hr(e,i),t===null&&l&4&&jp(i),l&512&&Ha(i,i.return);break;case 12:hr(e,i);break;case 13:hr(e,i),l&4&&Pp(e,i);break;case 22:if(c=i.memoizedState!==null||cr,!c){t=t!==null&&t.memoizedState!==null||kt;var d=cr,_=kt;cr=c,(kt=t)&&!_?Gr(e,i,(i.subtreeFlags&8772)!==0):hr(e,i),cr=d,kt=_}l&512&&(i.memoizedProps.mode==="manual"?Ha(i,i.return):Hn(i,i.return));break;default:hr(e,i)}}function Yp(e){var t=e.alternate;t!==null&&(e.alternate=null,Yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&hi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,$n=!1;function fr(e,t,i){for(i=i.child;i!==null;)Vp(e,t,i),i=i.sibling}function Vp(e,t,i){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Ti,i)}catch{}switch(i.tag){case 26:kt||Hn(i,t),fr(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:kt||Hn(i,t);var l=Ft,c=$n;for(Ft=i.stateNode,fr(e,t,i),i=i.stateNode,t=i.attributes;t.length;)i.removeAttributeNode(t[0]);hi(i),Ft=l,$n=c;break;case 5:kt||Hn(i,t);case 6:c=Ft;var d=$n;if(Ft=null,fr(e,t,i),Ft=c,$n=d,Ft!==null)if($n)try{e=Ft,l=i.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(_){bt(i,t,_)}else try{Ft.removeChild(i.stateNode)}catch(_){bt(i,t,_)}break;case 18:Ft!==null&&($n?(t=Ft,i=i.stateNode,t.nodeType===8?Rh(t.parentNode,i):t.nodeType===1&&Rh(t,i),_o(t)):Rh(Ft,i.stateNode));break;case 4:l=Ft,c=$n,Ft=i.stateNode.containerInfo,$n=!0,fr(e,t,i),Ft=l,$n=c;break;case 0:case 11:case 14:case 15:kt||Kr(2,i,t),kt||Kr(4,i,t),fr(e,t,i);break;case 1:kt||(Hn(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&zp(i,t,l)),fr(e,t,i);break;case 21:fr(e,t,i);break;case 22:kt||Hn(i,t),kt=(l=kt)||i.memoizedState!==null,fr(e,t,i),kt=l;break;default:fr(e,t,i)}}function Pp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_o(e)}catch(i){bt(t,t.return,i)}}function w0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ip),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ip),t;default:throw Error(a(435,e.tag))}}function eh(e,t){var i=w0(e);t.forEach(function(l){var c=z0.bind(null,e,l);i.has(l)||(i.add(l),l.then(c,c))})}function ii(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var c=i[l],d=e,_=t,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:Ft=w.stateNode,$n=!1;break e;case 3:Ft=w.stateNode.containerInfo,$n=!0;break e;case 4:Ft=w.stateNode.containerInfo,$n=!0;break e}w=w.return}if(Ft===null)throw Error(a(160));Vp(d,_,c),Ft=null,$n=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Fp(t,e),t=t.sibling}var mi=null;function Fp(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ii(t,e),ri(e),l&4&&(Kr(3,e,e.return),eo(3,e),Kr(5,e,e.return));break;case 1:ii(t,e),ri(e),l&512&&(kt||i===null||Hn(i,i.return)),l&64&&cr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var c=mi;if(ii(t,e),ri(e),l&512&&(kt||i===null||Hn(i,i.return)),l&4){var d=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Or]||d[Wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),vn(d,l,i),d[Wt]=e,mt(d),l=d;break e;case"link":var _=jy("link","href",c).get(l+(i.href||""));if(_){for(var w=0;w<_.length;w++)if(d=_[w],d.getAttribute("href")===(i.href==null?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){_.splice(w,1);break t}}d=c.createElement(l),vn(d,l,i),c.head.appendChild(d);break;case"meta":if(_=jy("meta","content",c).get(l+(i.content||""))){for(w=0;w<_.length;w++)if(d=_[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){_.splice(w,1);break t}}d=c.createElement(l),vn(d,l,i),c.head.appendChild(d);break;default:throw Error(a(468,l))}d[Wt]=e,mt(d),l=d}e.stateNode=l}else By(c,e.type,e.stateNode);else e.stateNode=zy(c,l,e.memoizedProps);else d!==l?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,l===null?By(c,e.type,e.stateNode):zy(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bp(e,e.memoizedProps,i.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){c=e.stateNode,d=e.memoizedProps;try{for(var C=c.firstChild;C;){var j=C.nextSibling,te=C.nodeName;C[Or]||te==="HEAD"||te==="BODY"||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&C.rel.toLowerCase()==="stylesheet"||c.removeChild(C),C=j}for(var ce=e.type,F=c.attributes;F.length;)c.removeAttributeNode(F[0]);vn(c,ce,d),c[Wt]=e,c[Dt]=d}catch(Ue){bt(e,e.return,Ue)}}case 5:if(ii(t,e),ri(e),l&512&&(kt||i===null||Hn(i,i.return)),e.flags&32){c=e.stateNode;try{Xe(c,"")}catch(Ue){bt(e,e.return,Ue)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Bp(e,c,i!==null?i.memoizedProps:c)),l&1024&&(Jf=!0);break;case 6:if(ii(t,e),ri(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(Ue){bt(e,e.return,Ue)}}break;case 3:if(Qu=null,c=mi,mi=Ku(t.containerInfo),ii(t,e),mi=c,ri(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{_o(t.containerInfo)}catch(Ue){bt(e,e.return,Ue)}Jf&&(Jf=!1,Kp(e));break;case 4:l=mi,mi=Ku(e.stateNode.containerInfo),ii(t,e),ri(e),mi=l;break;case 12:ii(t,e),ri(e);break;case 13:ii(t,e),ri(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(uh=zn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eh(e,l)));break;case 22:if(l&512&&(kt||i===null||Hn(i,i.return)),C=e.memoizedState!==null,j=i!==null&&i.memoizedState!==null,te=cr,ce=kt,cr=te||C,kt=ce||j,ii(t,e),kt=ce,cr=te,ri(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,l&8192&&(t._visibility=C?t._visibility&-2:t._visibility|1,C&&(t=cr||kt,i===null||j||t||Ys(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(i=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(i===null){j=i=t;try{if(c=j.stateNode,C)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=j.stateNode,w=j.memoizedProps.style;var J=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Ue){bt(j,j.return,Ue)}}}else if(t.tag===6){if(i===null){j=t;try{j.stateNode.nodeValue=C?"":j.memoizedProps}catch(Ue){bt(j,j.return,Ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,eh(e,i))));break;case 19:ii(t,e),ri(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eh(e,l)));break;case 21:break;default:ii(t,e),ri(e)}}function ri(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var i=e.return;i!==null;){if(qp(i)){var l=i;break e}i=i.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,d=Zf(e);Nu(e,d,c);break;case 5:var _=l.stateNode;l.flags&32&&(Xe(_,""),l.flags&=-33);var w=Zf(e);Nu(e,w,_);break;case 3:case 4:var C=l.stateNode.containerInfo,j=Zf(e);Wf(e,j,C);break;default:throw Error(a(161))}}}catch(te){bt(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function hr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$p(e,t.alternate,t),t=t.sibling}function Ys(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kr(4,t,t.return),Ys(t);break;case 1:Hn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&zp(t,t.return,i),Ys(t);break;case 26:case 27:case 5:Hn(t,t.return),Ys(t);break;case 22:Hn(t,t.return),t.memoizedState===null&&Ys(t);break;default:Ys(t)}e=e.sibling}}function Gr(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,d=t,_=d.flags;switch(d.tag){case 0:case 11:case 15:Gr(c,d,i),eo(4,d);break;case 1:if(Gr(c,d,i),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){bt(l,l.return,j)}if(l=d,c=l.updateQueue,c!==null){var w=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)kp(C[c],w)}catch(j){bt(l,l.return,j)}}i&&_&64&&Up(d),Ha(d,d.return);break;case 26:case 27:case 5:Gr(c,d,i),i&&l===null&&_&4&&jp(d),Ha(d,d.return);break;case 12:Gr(c,d,i);break;case 13:Gr(c,d,i),i&&_&4&&Pp(c,d);break;case 22:d.memoizedState===null&&Gr(c,d,i),Ha(d,d.return);break;default:Gr(c,d,i)}t=t.sibling}}function th(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Vl(i))}function nh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vl(e))}function Qr(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gp(e,t,i,l),t=t.sibling}function Gp(e,t,i,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Qr(e,t,i,l),c&2048&&eo(9,t);break;case 3:Qr(e,t,i,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vl(e)));break;case 12:if(c&2048){Qr(e,t,i,l),e=t.stateNode;try{var d=t.memoizedProps,_=d.id,w=d.onPostCommit;typeof w=="function"&&w(_,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){bt(t,t.return,C)}}else Qr(e,t,i,l);break;case 23:break;case 22:d=t.stateNode,t.memoizedState!==null?d._visibility&4?Qr(e,t,i,l):to(e,t):d._visibility&4?Qr(e,t,i,l):(d._visibility|=4,Vs(e,t,i,l,(t.subtreeFlags&10256)!==0)),c&2048&&th(t.alternate,t);break;case 24:Qr(e,t,i,l),c&2048&&nh(t.alternate,t);break;default:Qr(e,t,i,l)}}function Vs(e,t,i,l,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,_=t,w=i,C=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Vs(d,_,w,C,c),eo(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&4?Vs(d,_,w,C,c):to(d,_):(te._visibility|=4,Vs(d,_,w,C,c)),c&&j&2048&&th(_.alternate,_);break;case 24:Vs(d,_,w,C,c),c&&j&2048&&nh(_.alternate,_);break;default:Vs(d,_,w,C,c)}t=t.sibling}}function to(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,c=l.flags;switch(l.tag){case 22:to(i,l),c&2048&&th(l.alternate,l);break;case 24:to(i,l),c&2048&&nh(l.alternate,l);break;default:to(i,l)}t=t.sibling}}var no=8192;function Ps(e){if(e.subtreeFlags&no)for(e=e.child;e!==null;)Qp(e),e=e.sibling}function Qp(e){switch(e.tag){case 26:Ps(e),e.flags&no&&e.memoizedState!==null&&fb(mi,e.memoizedState,e.memoizedProps);break;case 5:Ps(e);break;case 3:case 4:var t=mi;mi=Ku(e.stateNode.containerInfo),Ps(e),mi=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=no,no=16777216,Ps(e),no=t):Ps(e));break;default:Ps(e)}}function Xp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function io(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];nn=l,Wp(l,e)}Xp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zp(e),e=e.sibling}function Zp(e){switch(e.tag){case 0:case 11:case 15:io(e),e.flags&2048&&Kr(9,e,e.return);break;case 3:io(e);break;case 12:io(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,ku(e)):io(e);break;default:io(e)}}function ku(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];nn=l,Wp(l,e)}Xp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kr(8,t,t.return),ku(t);break;case 22:i=t.stateNode,i._visibility&4&&(i._visibility&=-5,ku(t));break;default:ku(t)}e=e.sibling}}function Wp(e,t){for(;nn!==null;){var i=nn;switch(i.tag){case 0:case 11:case 15:Kr(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vl(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,nn=l;else e:for(i=e;nn!==null;){l=nn;var c=l.sibling,d=l.return;if(Yp(l),l===i){nn=null;break e}if(c!==null){c.return=d,nn=c;break e}nn=d}}}function T0(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(e,t,i,l){return new T0(e,t,i,l)}function ih(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xr(e,t){var i=e.alternate;return i===null?(i=ai(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Jp(e,t){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Lu(e,t,i,l,c,d){var _=0;if(l=e,typeof e=="function")ih(e)&&(_=1);else if(typeof e=="string")_=ub(e,i,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case g:return $a(i.children,c,d,t);case E:_=8,c|=24;break;case A:return e=ai(12,i,t,c|2),e.elementType=A,e.lanes=d,e;case Ce:return e=ai(13,i,t,c),e.elementType=Ce,e.lanes=d,e;case ve:return e=ai(19,i,t,c),e.elementType=ve,e.lanes=d,e;case De:return ey(i,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case x:case Q:_=10;break e;case N:_=9;break e;case le:_=11;break e;case Ne:_=14;break e;case je:_=16,l=null;break e}_=29,i=Error(a(130,e===null?"null":typeof e,"")),l=null}return t=ai(_,i,t,c),t.elementType=e,t.type=l,t.lanes=d,t}function $a(e,t,i,l){return e=ai(7,e,l,t),e.lanes=i,e}function ey(e,t,i,l){e=ai(22,e,l,t),e.elementType=De,e.lanes=i;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=c._current;if(d===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var _=Ct(d,2);_!==null&&(c._pendingVisibility|=2,Cn(_,d,2))}},attach:function(){var d=c._current;if(d===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var _=Ct(d,2);_!==null&&(c._pendingVisibility&=-3,Cn(_,d,2))}}};return e.stateNode=c,e}function rh(e,t,i){return e=ai(6,e,null,t),e.lanes=i,e}function ah(e,t,i){return t=ai(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dr(e){e.flags|=4}function ty(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qy(t)){if(t=ni.current,t!==null&&((st&4194176)===st?Ui!==null:(st&62914560)!==st&&(st&536870912)===0||t!==Ui))throw Hl=cf,gm;e.flags|=8192}}function Uu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fi():536870912,e.lanes|=t,Ks|=t)}function ro(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function x0(e,t,i){var l=t.pendingProps;switch(of(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(t),null;case 1:return Mt(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),ur(Zt),Fn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(jl(t)?dr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,di!==null&&(dh(di),di=null))),Mt(t),null;case 26:return i=t.memoizedState,e===null?(dr(t),i!==null?(Mt(t),ty(t,i)):(Mt(t),t.flags&=-16777217)):i?i!==e.memoizedState?(dr(t),Mt(t),ty(t,i)):(Mt(t),t.flags&=-16777217):(e.memoizedProps!==l&&dr(t),Mt(t),t.flags&=-16777217),null;case 27:Ei(t),i=Ot.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&dr(t);else{if(!l){if(t.stateNode===null)throw Error(a(166));return Mt(t),null}e=dt.current,jl(t)?ym(t):(e=Ry(c,l,i),t.stateNode=e,dr(t))}return Mt(t),null;case 5:if(Ei(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&dr(t);else{if(!l){if(t.stateNode===null)throw Error(a(166));return Mt(t),null}if(e=dt.current,jl(t))ym(t);else{switch(c=Fu(Ot.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(i,{is:l.is}):c.createElement(i)}}e[Wt]=t,e[Dt]=l;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(vn(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&dr(t)}}return Mt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&dr(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(a(166));if(e=Ot.current,jl(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,c=xn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[Wt]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||xy(e.nodeValue,i)),e||Na(t)}else e=Fu(e).createTextNode(l),e[Wt]=t,t.stateNode=e}return Mt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=jl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Wt]=t}else Bl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Mt(t),c=!1}else di!==null&&(dh(di),di=null),c=!0;if(!c)return t.flags&256?(ar(t),t):(ar(t),null)}if(ar(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),Uu(t,t.updateQueue),Mt(t),null;case 4:return Fn(),e===null&&Th(t.stateNode.containerInfo),Mt(t),null;case 10:return ur(t.type),Mt(t),null;case 19:if(be(Xt),c=t.memoizedState,c===null)return Mt(t),null;if(l=(t.flags&128)!==0,d=c.rendering,d===null)if(l)ro(c,!1);else{if(Lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=gu(e),d!==null){for(t.flags|=128,ro(c,!1),e=d.updateQueue,t.updateQueue=e,Uu(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Jp(i,e),i=i.sibling;return $e(Xt,Xt.current&1|2),t.child}e=e.sibling}c.tail!==null&&zn()>zu&&(t.flags|=128,l=!0,ro(c,!1),t.lanes=4194304)}else{if(!l)if(e=gu(d),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Uu(t,e),ro(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!ot)return Mt(t),null}else 2*zn()-c.renderingStartTime>zu&&i!==536870912&&(t.flags|=128,l=!0,ro(c,!1),t.lanes=4194304);c.isBackwards?(d.sibling=t.child,t.child=d):(e=c.last,e!==null?e.sibling=d:t.child=d,c.last=d)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=zn(),t.sibling=null,e=Xt.current,$e(Xt,l?e&1|2:e&1),t):(Mt(t),null);case 22:case 23:return ar(t),hf(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(i&536870912)!==0&&(t.flags&128)===0&&(Mt(t),t.subtreeFlags&6&&(t.flags|=8192)):Mt(t),i=t.updateQueue,i!==null&&Uu(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&be(La),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ur(Zt),Mt(t),null;case 25:return null}throw Error(a(156,t.tag))}function C0(e,t){switch(of(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ur(Zt),Fn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ei(t),null;case 13:if(ar(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Bl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Xt),null;case 4:return Fn(),null;case 10:return ur(t.type),null;case 22:case 23:return ar(t),hf(),e!==null&&be(La),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ur(Zt),null;case 25:return null;default:return null}}function ny(e,t){switch(of(t),t.tag){case 3:ur(Zt),Fn();break;case 26:case 27:case 5:Ei(t);break;case 4:Fn();break;case 13:ar(t);break;case 19:be(Xt);break;case 10:ur(t.type);break;case 22:case 23:ar(t),hf(),e!==null&&be(La);break;case 24:ur(Zt)}}var A0={getCacheForType:function(e){var t=En(Zt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},O0=typeof WeakMap=="function"?WeakMap:Map,Rt=0,St=null,rt=null,st=0,wt=0,Yn=null,mr=!1,Fs=!1,sh=!1,pr=0,Lt=0,Zr=0,Ya=0,lh=0,si=0,Ks=0,ao=null,ji=null,oh=!1,uh=0,zu=1/0,ju=null,Wr=null,Bu=!1,Va=null,so=0,ch=0,fh=null,lo=0,hh=null;function Vn(){if((Rt&2)!==0&&st!==0)return st&-st;if(Z.T!==null){var e=Bs;return e!==0?e:bh()}return va()}function iy(){si===0&&(si=(st&536870912)===0||ot?Go():536870912);var e=ni.current;return e!==null&&(e.flags|=32),si}function Cn(e,t,i){(e===St&&wt===2||e.cancelPendingCommit!==null)&&(Gs(e,0),yr(e,st,si,!1)),Ki(e,i),((Rt&2)===0||e!==St)&&(e===St&&((Rt&2)===0&&(Ya|=i),Lt===4&&yr(e,st,si,!1)),Bi(e))}function ry(e,t,i){if((Rt&6)!==0)throw Error(a(327));var l=!i&&(t&60)===0&&(t&e.expiredLanes)===0||Pi(e,t),c=l?R0(e,t):yh(e,t,!0),d=l;do{if(c===0){Fs&&!l&&yr(e,t,0,!1);break}else if(c===6)yr(e,t,0,!mr);else{if(i=e.current.alternate,d&&!D0(i)){c=yh(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){t=_;e:{var w=e;c=ao;var C=w.current.memoizedState.isDehydrated;if(C&&(Gs(w,_).flags|=256),_=yh(w,_,!1),_!==2){if(sh&&!C){w.errorRecoveryDisabledLanes|=d,Ya|=d,c=4;break e}d=ji,ji=c,d!==null&&dh(d)}c=_}if(d=!1,c!==2)continue}}if(c===1){Gs(e,0),yr(e,t,0,!0);break}e:{switch(l=e,c){case 0:case 1:throw Error(a(345));case 4:if((t&4194176)===t){yr(l,t,si,!mr);break e}break;case 2:ji=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=i,l.finishedLanes=t,(t&62914560)===t&&(d=uh+300-zn(),10<d)){if(yr(l,t,si,!mr),ya(l,0)!==0)break e;l.timeoutHandle=Oy(ay.bind(null,l,i,ji,ju,oh,t,si,Ya,Ks,mr,2,-0,0),d);break e}ay(l,i,ji,ju,oh,t,si,Ya,Ks,mr,0,-0,0)}}break}while(!0);Bi(e)}function dh(e){ji===null?ji=e:ji.push.apply(ji,e)}function ay(e,t,i,l,c,d,_,w,C,j,te,ce,F){var J=t.subtreeFlags;if((J&8192||(J&16785408)===16785408)&&(mo={stylesheets:null,count:0,unsuspend:cb},Qp(t),t=hb(),t!==null)){e.cancelPendingCommit=t(hy.bind(null,e,i,l,c,_,w,C,1,ce,F)),yr(e,d,_,!j);return}hy(e,i,l,c,_,w,C,te,ce,F)}function D0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var c=i[l],d=c.getSnapshot;c=c.value;try{if(!bn(d(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yr(e,t,i,l){t&=~lh,t&=~Ya,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var d=31-Qt(c),_=1<<d;l[d]=-1,c&=~_}i!==0&&gt(e,i,t)}function qu(){return(Rt&6)===0?(oo(0),!1):!0}function mh(){if(rt!==null){if(wt===0)var e=rt.return;else e=rt,or=qa=null,bf(e),zs=null,$l=0,e=rt;for(;e!==null;)ny(e.alternate,e),e=e.return;rt=null}}function Gs(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,G0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),mh(),St=e,rt=i=Xr(e.current,null),st=t,wt=0,Yn=null,mr=!1,Fs=Pi(e,t),sh=!1,Ks=si=lh=Ya=Zr=Lt=0,ji=ao=null,oh=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Qt(l),d=1<<c;t|=e[c],l&=~d}return pr=t,en(),i}function sy(e,t){Ze=null,Z.H=zi,t===Il?(t=Em(),wt=3):t===gm?(t=Em(),wt=4):wt=t===_p?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yn=t,rt===null&&(Lt=1,Du(e,Jn(t,e.current)))}function ly(){var e=Z.H;return Z.H=zi,e===null?zi:e}function oy(){var e=Z.A;return Z.A=A0,e}function ph(){Lt=4,mr||(st&4194176)!==st&&ni.current!==null||(Fs=!0),(Zr&134217727)===0&&(Ya&134217727)===0||St===null||yr(St,st,si,!1)}function yh(e,t,i){var l=Rt;Rt|=2;var c=ly(),d=oy();(St!==e||st!==t)&&(ju=null,Gs(e,t)),t=!1;var _=Lt;e:do try{if(wt!==0&&rt!==null){var w=rt,C=Yn;switch(wt){case 8:mh(),_=6;break e;case 3:case 2:case 6:ni.current===null&&(t=!0);var j=wt;if(wt=0,Yn=null,Qs(e,w,C,j),i&&Fs){_=0;break e}break;default:j=wt,wt=0,Yn=null,Qs(e,w,C,j)}}M0(),_=Lt;break}catch(te){sy(e,te)}while(!0);return t&&e.shellSuspendCounter++,or=qa=null,Rt=l,Z.H=c,Z.A=d,rt===null&&(St=null,st=0,en()),_}function M0(){for(;rt!==null;)uy(rt)}function R0(e,t){var i=Rt;Rt|=2;var l=ly(),c=oy();St!==e||st!==t?(ju=null,zu=zn()+500,Gs(e,t)):Fs=Pi(e,t);e:do try{if(wt!==0&&rt!==null){t=rt;var d=Yn;t:switch(wt){case 1:wt=0,Yn=null,Qs(e,t,d,1);break;case 2:if(_m(d)){wt=0,Yn=null,cy(t);break}t=function(){wt===2&&St===e&&(wt=7),Bi(e)},d.then(t,t);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:_m(d)?(wt=0,Yn=null,cy(t)):(wt=0,Yn=null,Qs(e,t,d,7));break;case 5:var _=null;switch(rt.tag){case 26:_=rt.memoizedState;case 5:case 27:var w=rt;if(!_||qy(_)){wt=0,Yn=null;var C=w.sibling;if(C!==null)rt=C;else{var j=w.return;j!==null?(rt=j,Iu(j)):rt=null}break t}}wt=0,Yn=null,Qs(e,t,d,5);break;case 6:wt=0,Yn=null,Qs(e,t,d,6);break;case 8:mh(),Lt=6;break e;default:throw Error(a(462))}}N0();break}catch(te){sy(e,te)}while(!0);return or=qa=null,Z.H=l,Z.A=c,Rt=i,rt!==null?0:(St=null,st=0,en(),Lt)}function N0(){for(;rt!==null&&!Ko();)uy(rt)}function uy(e){var t=Rp(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?Iu(e):rt=t}function cy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=xp(i,t,t.pendingProps,t.type,void 0,st);break;case 11:t=xp(i,t,t.pendingProps,t.type.render,t.ref,st);break;case 5:bf(t);default:ny(i,t),t=rt=Jp(t,pr),t=Rp(i,t,pr)}e.memoizedProps=e.pendingProps,t===null?Iu(e):rt=t}function Qs(e,t,i,l){or=qa=null,bf(t),zs=null,$l=0;var c=t.return;try{if(b0(e,c,t,i,st)){Lt=1,Du(e,Jn(i,e.current)),rt=null;return}}catch(d){if(c!==null)throw rt=c,d;Lt=1,Du(e,Jn(i,e.current)),rt=null;return}t.flags&32768?(ot||l===1?e=!0:Fs||(st&536870912)!==0?e=!1:(mr=e=!0,(l===2||l===3||l===6)&&(l=ni.current,l!==null&&l.tag===13&&(l.flags|=16384))),fy(t,e)):Iu(t)}function Iu(e){var t=e;do{if((t.flags&32768)!==0){fy(t,mr);return}e=t.return;var i=x0(t.alternate,t,pr);if(i!==null){rt=i;return}if(t=t.sibling,t!==null){rt=t;return}rt=t=e}while(t!==null);Lt===0&&(Lt=5)}function fy(e,t){do{var i=C0(e.alternate,e);if(i!==null){i.flags&=32767,rt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){rt=e;return}rt=e=i}while(e!==null);Lt=6,rt=null}function hy(e,t,i,l,c,d,_,w,C,j){var te=Z.T,ce=Le.p;try{Le.p=2,Z.T=null,k0(e,t,i,l,ce,c,d,_,w,C,j)}finally{Z.T=te,Le.p=ce}}function k0(e,t,i,l,c,d,_,w){do Xs();while(Va!==null);if((Rt&6)!==0)throw Error(a(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var j=C.lanes|C.childLanes;if(j|=Ke,ls(e,l,j,d,_,w),e===St&&(rt=St=null,st=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Bu||(Bu=!0,ch=j,fh=i,j0(Cr,function(){return Xs(),null})),i=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||i?(i=Z.T,Z.T=null,d=Le.p,Le.p=2,_=Rt,Rt|=4,S0(e,C),Fp(C,e),T(Oh,e.containerInfo),Wu=!!Ah,Oh=Ah=null,e.current=C,$p(e,C.alternate,C),ha(),Rt=_,Le.p=d,Z.T=i):e.current=C,Bu?(Bu=!1,Va=e,so=l):dy(e,j),j=e.pendingLanes,j===0&&(Wr=null),xi(C.stateNode),Bi(e),t!==null)for(c=e.onRecoverableError,C=0;C<t.length;C++)j=t[C],c(j.value,{componentStack:j.stack});return(so&3)!==0&&Xs(),j=e.pendingLanes,(l&4194218)!==0&&(j&42)!==0?e===hh?lo++:(lo=0,hh=e):lo=0,oo(0),null}function dy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vl(t)))}function Xs(){if(Va!==null){var e=Va,t=ch;ch=0;var i=Qo(so),l=Z.T,c=Le.p;try{if(Le.p=32>i?32:i,Z.T=null,Va===null)var d=!1;else{i=fh,fh=null;var _=Va,w=so;if(Va=null,so=0,(Rt&6)!==0)throw Error(a(331));var C=Rt;if(Rt|=4,Zp(_.current),Gp(_,_.current,w,i),Rt=C,oo(0,!1),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Ti,_)}catch{}d=!0}return d}finally{Le.p=c,Z.T=l,dy(e,t)}}return!1}function my(e,t,i){t=Jn(i,t),t=Lf(e.stateNode,t,2),e=Fr(e,t,2),e!==null&&(Ki(e,2),Bi(e))}function bt(e,t,i){if(e.tag===3)my(e,e,i);else for(;t!==null;){if(t.tag===3){my(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){e=Jn(i,e),i=vp(2),l=Fr(t,i,2),l!==null&&(gp(i,l,t,e),Ki(l,2),Bi(l));break}}t=t.return}}function vh(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new O0;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(i)||(sh=!0,c.add(i),e=L0.bind(null,e,t,i),t.then(e,e))}function L0(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,St===e&&(st&i)===i&&(Lt===4||Lt===3&&(st&62914560)===st&&300>zn()-uh?(Rt&2)===0&&Gs(e,0):lh|=i,Ks===st&&(Ks=0)),Bi(e)}function py(e,t){t===0&&(t=Fi()),e=Ct(e,t),e!==null&&(Ki(e,t),Bi(e))}function U0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),py(e,i)}function z0(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(t),py(e,i)}function j0(e,t){return xr(e,t)}var Hu=null,Zs=null,gh=!1,$u=!1,_h=!1,Pa=0;function Bi(e){e!==Zs&&e.next===null&&(Zs===null?Hu=Zs=e:Zs=Zs.next=e),$u=!0,gh||(gh=!0,q0(B0))}function oo(e,t){if(!_h&&$u){_h=!0;do for(var i=!1,l=Hu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var _=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-Qt(42|e)+1)-1,d&=c&~(_&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(i=!0,gy(l,d))}else d=st,d=ya(l,l===St?d:0),(d&3)===0||Pi(l,d)||(i=!0,gy(l,d));l=l.next}while(i);_h=!1}}function B0(){$u=gh=!1;var e=0;Pa!==0&&(K0()&&(e=Pa),Pa=0);for(var t=zn(),i=null,l=Hu;l!==null;){var c=l.next,d=yy(l,t);d===0?(l.next=null,i===null?Hu=c:i.next=c,c===null&&(Zs=i)):(i=l,(e!==0||(d&3)!==0)&&($u=!0)),l=c}oo(e)}function yy(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-Qt(d),w=1<<_,C=c[_];C===-1?((w&i)===0||(w&l)!==0)&&(c[_]=Jc(w,t)):C<=t&&(e.expiredLanes|=w),d&=~w}if(t=St,i=st,i=ya(e,e===t?i:0),l=e.callbackNode,i===0||e===t&&wt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&On(l),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Pi(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&On(l),Qo(i)){case 2:case 8:i=wi;break;case 32:i=Cr;break;case 268435456:i=rs;break;default:i=Cr}return l=vy.bind(null,e),i=xr(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&On(l),e.callbackPriority=2,e.callbackNode=null,2}function vy(e,t){var i=e.callbackNode;if(Xs()&&e.callbackNode!==i)return null;var l=st;return l=ya(e,e===St?l:0),l===0?null:(ry(e,l,t),yy(e,zn()),e.callbackNode!=null&&e.callbackNode===i?vy.bind(null,e):null)}function gy(e,t){if(Xs())return null;ry(e,t,!0)}function q0(e){Q0(function(){(Rt&6)!==0?xr(Si,e):e()})}function bh(){return Pa===0&&(Pa=Go()),Pa}function _y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:In(""+e)}function by(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function I0(e,t,i,l,c){if(t==="submit"&&i&&i.stateNode===c){var d=_y((c[Dt]||null).action),_=l.submitter;_&&(t=(t=_[Dt]||null)?_y(t.formAction):_.getAttribute("formAction"),t!==null&&(d=t,_=null));var w=new vs("action","action",null,l,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Pa!==0){var C=_?by(c,_):new FormData(c);Df(i,{pending:!0,data:C,method:c.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=_?by(c,_):new FormData(c),Df(i,{pending:!0,data:C,method:c.method,action:d},d,C))},currentTarget:c}]})}}for(var Eh=0;Eh<ge.length;Eh++){var Sh=ge[Eh],H0=Sh.toLowerCase(),$0=Sh[0].toUpperCase()+Sh.slice(1);Te(H0,"on"+$0)}Te(K,"onAnimationEnd"),Te(G,"onAnimationIteration"),Te(ee,"onAnimationStart"),Te("dblclick","onDoubleClick"),Te("focusin","onFocus"),Te("focusout","onBlur"),Te(de,"onTransitionRun"),Te(Ee,"onTransitionStart"),Te(me,"onTransitionCancel"),Te(pe,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function Ey(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],c=l.event;l=l.listeners;e:{var d=void 0;if(t)for(var _=l.length-1;0<=_;_--){var w=l[_],C=w.instance,j=w.currentTarget;if(w=w.listener,C!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=j;try{d(c)}catch(te){Ou(te)}c.currentTarget=null,d=C}else for(_=0;_<l.length;_++){if(w=l[_],C=w.instance,j=w.currentTarget,w=w.listener,C!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=j;try{d(c)}catch(te){Ou(te)}c.currentTarget=null,d=C}}}}function at(e,t){var i=t[Kn];i===void 0&&(i=t[Kn]=new Set);var l=e+"__bubble";i.has(l)||(Sy(t,e,2,!1),i.add(l))}function wh(e,t,i){var l=0;t&&(l|=4),Sy(i,e,l,t)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Th(e){if(!e[Yu]){e[Yu]=!0,gl.forEach(function(i){i!=="selectionchange"&&(Y0.has(i)||wh(i,!1,e),wh(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yu]||(t[Yu]=!0,wh("selectionchange",!1,t))}}function Sy(e,t,i,l){switch(Py(t)){case 2:var c=pb;break;case 8:c=yb;break;default:c=jh}i=c.bind(null,t,i,e),c=void 0,!wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function xh(e,t,i,l,c){var d=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===c||C.nodeType===8&&C.parentNode===c))return;_=_.return}for(;w!==null;){if(_=Ai(w),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=d=_;continue e}w=w.parentNode}}l=l.return}ps(function(){var j=d,te=ms(i),ce=[];e:{var F=we.get(e);if(F!==void 0){var J=vs,Ue=e;switch(e){case"keypress":if(Lr(i)===0)break e;case"keydown":case"keyup":J=xs;break;case"focusin":Ue="focus",J=Ur;break;case"focusout":Ue="blur",J=Ur;break;case"beforeblur":case"afterblur":J=Ur;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=bs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Ml;break;case K:case G:case ee:J=nu;break;case pe:J=Rl;break;case"scroll":case"scrollend":J=gs;break;case"wheel":J=As;break;case"copy":case"cut":case"paste":J=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Dl;break;case"toggle":case"beforetoggle":J=au}var Fe=(t&4)!==0,Ut=!Fe&&(e==="scroll"||e==="scrollend"),$=Fe?F!==null?F+"Capture":null:F;Fe=[];for(var L=j,P;L!==null;){var se=L;if(P=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||P===null||$===null||(se=Mn(L,$),se!=null&&Fe.push(co(L,se,P))),Ut)break;L=L.return}0<Fe.length&&(F=new J(F,Ue,null,i,te),ce.push({event:F,listeners:Fe}))}}if((t&7)===0){e:{if(F=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",F&&i!==ds&&(Ue=i.relatedTarget||i.fromElement)&&(Ai(Ue)||Ue[Bn]))break e;if((J||F)&&(F=te.window===te?te:(F=te.ownerDocument)?F.defaultView||F.parentWindow:window,J?(Ue=i.relatedTarget||i.toElement,J=j,Ue=Ue?Ai(Ue):null,Ue!==null&&(Ut=X(Ue),Fe=Ue.tag,Ue!==Ut||Fe!==5&&Fe!==27&&Fe!==6)&&(Ue=null)):(J=null,Ue=j),J!==Ue)){if(Fe=bs,se="onMouseLeave",$="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=Dl,se="onPointerLeave",$="onPointerEnter",L="pointer"),Ut=J==null?F:_t(J),P=Ue==null?F:_t(Ue),F=new Fe(se,L+"leave",J,i,te),F.target=Ut,F.relatedTarget=P,se=null,Ai(te)===j&&(Fe=new Fe($,L+"enter",Ue,i,te),Fe.target=P,Fe.relatedTarget=Ut,se=Fe),Ut=se,J&&Ue)t:{for(Fe=J,$=Ue,L=0,P=Fe;P;P=Ws(P))L++;for(P=0,se=$;se;se=Ws(se))P++;for(;0<L-P;)Fe=Ws(Fe),L--;for(;0<P-L;)$=Ws($),P--;for(;L--;){if(Fe===$||$!==null&&Fe===$.alternate)break t;Fe=Ws(Fe),$=Ws($)}Fe=null}else Fe=null;J!==null&&wy(ce,F,J,Fe,!1),Ue!==null&&Ut!==null&&wy(ce,Ut,Ue,Fe,!0)}}e:{if(F=j?_t(j):window,J=F.nodeName&&F.nodeName.toLowerCase(),J==="select"||J==="input"&&F.type==="file")var Me=Oa;else if(Ms(F))if(Wn)Me=Br;else{Me=nr;var et=fu}else J=F.nodeName,!J||J.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&dn(j.elementType)&&(Me=Oa):Me=zl;if(Me&&(Me=Me(e,j))){Ul(ce,Me,i,te);break e}et&&et(e,F,j),e==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&fs(F,"number",F.value)}switch(et=j?_t(j):window,e){case"focusin":(Ms(et)||et.contentEditable==="true")&&(M=et,k=j,B=null);break;case"focusout":B=k=M=null;break;case"mousedown":D=!0;break;case"contextmenu":case"mouseup":case"dragend":D=!1,H(ce,i,te);break;case"selectionchange":if(O)break;case"keydown":case"keyup":H(ce,i,te)}var ze;if(Ca)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else tr?Ll(e,i)&&(qe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(qe="onCompositionStart");qe&&(Os&&i.locale!=="ko"&&(tr||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&tr&&(ze=kr()):(Zn=te,ys="value"in Zn?Zn.value:Zn.textContent,tr=!0)),et=Vu(j,qe),0<et.length&&(qe=new Ts(qe,e,null,i,te),ce.push({event:qe,listeners:et}),ze?qe.data=ze:(ze=lu(i),ze!==null&&(qe.data=ze)))),(ze=rf?ou(e,i):af(e,i))&&(qe=Vu(j,"onBeforeInput"),0<qe.length&&(et=new Ts("onBeforeInput","beforeinput",null,i,te),ce.push({event:et,listeners:qe}),et.data=ze)),I0(ce,e,j,i,te)}Ey(ce,t)})}function co(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Vu(e,t){for(var i=t+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Mn(e,i),c!=null&&l.unshift(co(e,c,d)),c=Mn(e,t),c!=null&&l.push(co(e,c,d))),e=e.return}return l}function Ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wy(e,t,i,l,c){for(var d=t._reactName,_=[];i!==null&&i!==l;){var w=i,C=w.alternate,j=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||j===null||(C=j,c?(j=Mn(i,d),j!=null&&_.unshift(co(i,j,C))):c||(j=Mn(i,d),j!=null&&_.push(co(i,j,C)))),i=i.return}_.length!==0&&e.push({event:t,listeners:_})}var V0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function Ty(e){return(typeof e=="string"?e:""+e).replace(V0,`
`).replace(P0,"")}function xy(e,t){return t=Ty(t),Ty(e)===t}function Pu(){}function vt(e,t,i,l,c,d){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Xe(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Xe(e,""+l);break;case"className":_a(e,"class",l);break;case"tabIndex":_a(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_a(e,i,l);break;case"style":Jo(e,l,d);break;case"data":if(t!=="object"){_a(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=In(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&vt(e,t,"name",c.name,c,null),vt(e,t,"formEncType",c.formEncType,c,null),vt(e,t,"formMethod",c.formMethod,c,null),vt(e,t,"formTarget",c.formTarget,c,null)):(vt(e,t,"encType",c.encType,c,null),vt(e,t,"method",c.method,c,null),vt(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=In(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=Pu);break;case"onScroll":l!=null&&at("scroll",e);break;case"onScrollEnd":l!=null&&at("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=In(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":at("beforetoggle",e),at("toggle",e),Qe(e,"popover",l);break;case"xlinkActuate":Qn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qe(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Mr.get(i)||i,Qe(e,i,l))}}function Ch(e,t,i,l,c,d){switch(i){case"style":Jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(i=l.__html,i!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Xe(e,l):(typeof l=="number"||typeof l=="bigint")&&Xe(e,""+l);break;case"onScroll":l!=null&&at("scroll",e);break;case"onScrollEnd":l!=null&&at("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gi.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),d=e[Dt]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,c);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Qe(e,i,l)}}}function vn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":at("error",e),at("load",e);var l=!1,c=!1,d;for(d in i)if(i.hasOwnProperty(d)){var _=i[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:vt(e,t,d,_,i,null)}}c&&vt(e,t,"srcSet",i.srcSet,i,null),l&&vt(e,t,"src",i.src,i,null);return;case"input":at("invalid",e);var w=d=_=c=null,C=null,j=null;for(l in i)if(i.hasOwnProperty(l)){var te=i[l];if(te!=null)switch(l){case"name":c=te;break;case"type":_=te;break;case"checked":C=te;break;case"defaultChecked":j=te;break;case"value":d=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,t));break;default:vt(e,t,l,te,i,null)}}Ea(e,d,w,C,j,_,c,!1),Mi(e);return;case"select":at("invalid",e),l=_=d=null;for(c in i)if(i.hasOwnProperty(c)&&(w=i[c],w!=null))switch(c){case"value":d=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:vt(e,t,c,w,i,null)}t=d,i=_,e.multiple=!!l,t!=null?Xn(e,!!l,t,!1):i!=null&&Xn(e,!!l,i,!0);return;case"textarea":at("invalid",e),d=c=l=null;for(_ in i)if(i.hasOwnProperty(_)&&(w=i[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":c=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:vt(e,t,_,w,i,null)}Zo(e,l,c,d),Mi(e);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(l=i[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:vt(e,t,C,l,i,null)}return;case"dialog":at("cancel",e),at("close",e);break;case"iframe":case"object":at("load",e);break;case"video":case"audio":for(l=0;l<uo.length;l++)at(uo[l],e);break;case"image":at("error",e),at("load",e);break;case"details":at("toggle",e);break;case"embed":case"source":case"link":at("error",e),at("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in i)if(i.hasOwnProperty(j)&&(l=i[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:vt(e,t,j,l,i,null)}return;default:if(dn(t)){for(te in i)i.hasOwnProperty(te)&&(l=i[te],l!==void 0&&Ch(e,t,te,l,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(l=i[w],l!=null&&vt(e,t,w,l,i,null))}function F0(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,_=null,w=null,C=null,j=null,te=null;for(J in i){var ce=i[J];if(i.hasOwnProperty(J)&&ce!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":C=ce;default:l.hasOwnProperty(J)||vt(e,t,J,null,l,ce)}}for(var F in l){var J=l[F];if(ce=i[F],l.hasOwnProperty(F)&&(J!=null||ce!=null))switch(F){case"type":d=J;break;case"name":c=J;break;case"checked":j=J;break;case"defaultChecked":te=J;break;case"value":_=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,t));break;default:J!==ce&&vt(e,t,F,J,l,ce)}}cs(e,_,w,C,j,te,d,c);return;case"select":J=_=w=F=null;for(d in i)if(C=i[d],i.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":J=C;default:l.hasOwnProperty(d)||vt(e,t,d,null,l,C)}for(c in l)if(d=l[c],C=i[c],l.hasOwnProperty(c)&&(d!=null||C!=null))switch(c){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":_=d;default:d!==C&&vt(e,t,c,d,l,C)}t=w,i=_,l=J,F!=null?Xn(e,!!i,F,!1):!!l!=!!i&&(t!=null?Xn(e,!!i,t,!0):Xn(e,!!i,i?[]:"",!1));return;case"textarea":J=F=null;for(w in i)if(c=i[w],i.hasOwnProperty(w)&&c!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:vt(e,t,w,null,l,c)}for(_ in l)if(c=l[_],d=i[_],l.hasOwnProperty(_)&&(c!=null||d!=null))switch(_){case"value":F=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&vt(e,t,_,c,l,d)}El(e,F,J);return;case"option":for(var Ue in i)if(F=i[Ue],i.hasOwnProperty(Ue)&&F!=null&&!l.hasOwnProperty(Ue))switch(Ue){case"selected":e.selected=!1;break;default:vt(e,t,Ue,null,l,F)}for(C in l)if(F=l[C],J=i[C],l.hasOwnProperty(C)&&F!==J&&(F!=null||J!=null))switch(C){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:vt(e,t,C,F,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in i)F=i[Fe],i.hasOwnProperty(Fe)&&F!=null&&!l.hasOwnProperty(Fe)&&vt(e,t,Fe,null,l,F);for(j in l)if(F=l[j],J=i[j],l.hasOwnProperty(j)&&F!==J&&(F!=null||J!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,t));break;default:vt(e,t,j,F,l,J)}return;default:if(dn(t)){for(var Ut in i)F=i[Ut],i.hasOwnProperty(Ut)&&F!==void 0&&!l.hasOwnProperty(Ut)&&Ch(e,t,Ut,void 0,l,F);for(te in l)F=l[te],J=i[te],!l.hasOwnProperty(te)||F===J||F===void 0&&J===void 0||Ch(e,t,te,F,l,J);return}}for(var $ in i)F=i[$],i.hasOwnProperty($)&&F!=null&&!l.hasOwnProperty($)&&vt(e,t,$,null,l,F);for(ce in l)F=l[ce],J=i[ce],!l.hasOwnProperty(ce)||F===J||F==null&&J==null||vt(e,t,ce,F,l,J)}var Ah=null,Oh=null;function Fu(e){return e.nodeType===9?e:e.ownerDocument}function Cy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ay(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Dh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Mh=null;function K0(){var e=window.event;return e&&e.type==="popstate"?e===Mh?!1:(Mh=e,!0):(Mh=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,Q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(e){return Dy.resolve(null).then(e).catch(X0)}:Oy;function X0(e){setTimeout(function(){throw e})}function Rh(e,t){var i=t,l=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(l===0){e.removeChild(c),_o(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=c}while(i);_o(t)}function Nh(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Nh(i),hi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Z0(e,t,i,l){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Or])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=pi(e.nextSibling),e===null)break}return null}function W0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=pi(e.nextSibling),e===null))return null;return e}function pi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function My(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function Ry(e,t,i){switch(t=Fu(i),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var li=new Map,Ny=new Set;function Ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var vr=Le.d;Le.d={f:J0,r:eb,D:tb,C:nb,L:ib,m:rb,X:sb,S:ab,M:lb};function J0(){var e=vr.f(),t=qu();return e||t}function eb(e){var t=Oi(e);t!==null&&t.tag===5&&t.type==="form"?ap(t):vr.r(e)}var Js=typeof document>"u"?null:document;function ky(e,t,i){var l=Js;if(l&&typeof t=="string"&&t){var c=hn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),Ny.has(c)||(Ny.add(c),e={rel:e,crossOrigin:i,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),vn(t,"link",e),mt(t),l.head.appendChild(t)))}}function tb(e){vr.D(e),ky("dns-prefetch",e,null)}function nb(e,t){vr.C(e,t),ky("preconnect",e,t)}function ib(e,t,i){vr.L(e,t,i);var l=Js;if(l&&e&&t){var c='link[rel="preload"][as="'+hn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+hn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+hn(i.imageSizes)+'"]')):c+='[href="'+hn(e)+'"]';var d=c;switch(t){case"style":d=el(e);break;case"script":d=tl(e)}li.has(d)||(e=oe({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),li.set(d,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(fo(d))||t==="script"&&l.querySelector(ho(d))||(t=l.createElement("link"),vn(t,"link",e),mt(t),l.head.appendChild(t)))}}function rb(e,t){vr.m(e,t);var i=Js;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=tl(e)}if(!li.has(d)&&(e=oe({rel:"modulepreload",href:e},t),li.set(d,e),i.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ho(d)))return}l=i.createElement("link"),vn(l,"link",e),mt(l),i.head.appendChild(l)}}}function ab(e,t,i){vr.S(e,t,i);var l=Js;if(l&&e){var c=Dn(l).hoistableStyles,d=el(e);t=t||"default";var _=c.get(d);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(fo(d)))w.loading=5;else{e=oe({rel:"stylesheet",href:e,"data-precedence":t},i),(i=li.get(d))&&kh(e,i);var C=_=l.createElement("link");mt(C),vn(C,"link",e),C._p=new Promise(function(j,te){C.onload=j,C.onerror=te}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gu(_,t,l)}_={type:"stylesheet",instance:_,count:1,state:w},c.set(d,_)}}}function sb(e,t){vr.X(e,t);var i=Js;if(i&&e){var l=Dn(i).hoistableScripts,c=tl(e),d=l.get(c);d||(d=i.querySelector(ho(c)),d||(e=oe({src:e,async:!0},t),(t=li.get(c))&&Lh(e,t),d=i.createElement("script"),mt(d),vn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function lb(e,t){vr.M(e,t);var i=Js;if(i&&e){var l=Dn(i).hoistableScripts,c=tl(e),d=l.get(c);d||(d=i.querySelector(ho(c)),d||(e=oe({src:e,async:!0,type:"module"},t),(t=li.get(c))&&Lh(e,t),d=i.createElement("script"),mt(d),vn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Ly(e,t,i,l){var c=(c=Ot.current)?Ku(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=el(i.href),i=Dn(c).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=el(i.href);var d=Dn(c).hoistableStyles,_=d.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=c.querySelector(fo(e)))&&!d._p&&(_.instance=d,_.state.loading=5),li.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},li.set(e,i),d||ob(c,e,i,_.state))),t&&l===null)throw Error(a(528,""));return _}if(t&&l!==null)throw Error(a(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=tl(i),i=Dn(c).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function el(e){return'href="'+hn(e)+'"'}function fo(e){return'link[rel="stylesheet"]['+e+"]"}function Uy(e){return oe({},e,{"data-precedence":e.precedence,precedence:null})}function ob(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),vn(t,"link",i),mt(t),e.head.appendChild(t))}function tl(e){return'[src="'+hn(e)+'"]'}function ho(e){return"script[async]"+e}function zy(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+hn(i.href)+'"]');if(l)return t.instance=l,mt(l),l;var c=oe({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),mt(l),vn(l,"style",c),Gu(l,i.precedence,e),t.instance=l;case"stylesheet":c=el(i.href);var d=e.querySelector(fo(c));if(d)return t.state.loading|=4,t.instance=d,mt(d),d;l=Uy(i),(c=li.get(c))&&kh(l,c),d=(e.ownerDocument||e).createElement("link"),mt(d);var _=d;return _._p=new Promise(function(w,C){_.onload=w,_.onerror=C}),vn(d,"link",l),t.state.loading|=4,Gu(d,i.precedence,e),t.instance=d;case"script":return d=tl(i.src),(c=e.querySelector(ho(d)))?(t.instance=c,mt(c),c):(l=i,(c=li.get(d))&&(l=oe({},i),Lh(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),mt(c),vn(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,Gu(l,i.precedence,e));return t.instance}function Gu(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===t)d=w;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function kh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Qu=null;function jy(e,t,i){if(Qu===null){var l=new Map,c=Qu=new Map;c.set(i,l)}else c=Qu,l=c.get(i),l||(l=new Map,c.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var d=i[c];if(!(d[Or]||d[Wt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(t)||"";_=e+_;var w=l.get(_);w?w.push(d):l.set(_,[d])}}return l}function By(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function ub(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function qy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var mo=null;function cb(){}function fb(e,t,i){if(mo===null)throw Error(a(475));var l=mo;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=el(i.href),d=e.querySelector(fo(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Xu.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=d,mt(d);return}d=e.ownerDocument||e,i=Uy(i),(c=li.get(c))&&kh(i,c),d=d.createElement("link"),mt(d);var _=d;_._p=new Promise(function(w,C){_.onload=w,_.onerror=C}),vn(d,"link",i),t.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(l.count++,t=Xu.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function hb(){if(mo===null)throw Error(a(475));var e=mo;return e.stylesheets&&e.count===0&&Uh(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&Uh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Xu(){if(this.count--,this.count===0){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zu=null;function Uh(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zu=new Map,t.forEach(db,e),Zu=null,Xu.call(e))}function db(e,t){if(!(t.state.loading&4)){var i=Zu.get(e);if(i)var l=i.get(null);else{i=new Map,Zu.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var _=c[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(i.set(_.dataset.precedence,_),l=_)}l&&i.set(null,l)}c=t.instance,_=c.getAttribute("data-precedence"),d=i.get(_)||l,d===l&&i.set(null,c),i.set(_,c),this.count++,l=Xu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var po={$$typeof:Q,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function mb(e,t,i,l,c,d,_,w){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Iy(e,t,i,l,c,d,_,w,C,j,te,ce){return e=new mb(e,t,i,_,w,C,j,ce),t=1,d===!0&&(t|=24),d=ai(3,null,null,t),e.current=d,d.stateNode=e,t=df(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:l,isDehydrated:i,cache:t},Kf(d),e}function Hy(e){return e?(e=Rn,e):Rn}function $y(e,t,i,l,c,d){c=Hy(c),l.context===null?l.context=c:l.pendingContext=c,l=Pr(t),l.payload={element:i},d=d===void 0?null:d,d!==null&&(l.callback=d),i=Fr(e,l,t),i!==null&&(Cn(i,e,t),Zl(i,e,t))}function Yy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function zh(e,t){Yy(e,t),(e=e.alternate)&&Yy(e,t)}function Vy(e){if(e.tag===13){var t=Ct(e,67108864);t!==null&&Cn(t,e,67108864),zh(e,67108864)}}var Wu=!0;function pb(e,t,i,l){var c=Z.T;Z.T=null;var d=Le.p;try{Le.p=2,jh(e,t,i,l)}finally{Le.p=d,Z.T=c}}function yb(e,t,i,l){var c=Z.T;Z.T=null;var d=Le.p;try{Le.p=8,jh(e,t,i,l)}finally{Le.p=d,Z.T=c}}function jh(e,t,i,l){if(Wu){var c=Bh(l);if(c===null)xh(e,t,l,Ju,i),Fy(e,l);else if(gb(c,e,t,i,l))l.stopPropagation();else if(Fy(e,l),t&4&&-1<vb.indexOf(e)){for(;c!==null;){var d=Oi(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var C=1<<31-Qt(_);w.entanglements[1]|=C,_&=~C}Bi(d),(Rt&6)===0&&(zu=zn()+500,oo(0))}}break;case 13:w=Ct(d,2),w!==null&&Cn(w,d,2),qu(),zh(d,2)}if(d=Bh(l),d===null&&xh(e,t,l,Ju,i),d===c)break;c=d}c!==null&&l.stopPropagation()}else xh(e,t,l,null,i)}}function Bh(e){return e=ms(e),qh(e)}var Ju=null;function qh(e){if(Ju=null,e=Ai(e),e!==null){var t=X(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=ae(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ju=e,null}function Py(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case Si:return 2;case wi:return 8;case Cr:case ma:return 32;case rs:return 268435456;default:return 32}default:return 32}}var Ih=!1,Jr=null,ea=null,ta=null,yo=new Map,vo=new Map,na=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(e,t){switch(e){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function go(e,t,i,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Oi(t),t!==null&&Vy(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function gb(e,t,i,l,c){switch(t){case"focusin":return Jr=go(Jr,e,t,i,l,c),!0;case"dragenter":return ea=go(ea,e,t,i,l,c),!0;case"mouseover":return ta=go(ta,e,t,i,l,c),!0;case"pointerover":var d=c.pointerId;return yo.set(d,go(yo.get(d)||null,e,t,i,l,c)),!0;case"gotpointercapture":return d=c.pointerId,vo.set(d,go(vo.get(d)||null,e,t,i,l,c)),!0}return!1}function Ky(e){var t=Ai(e.target);if(t!==null){var i=X(t);if(i!==null){if(t=i.tag,t===13){if(t=ae(i),t!==null){e.blockedOn=t,os(e.priority,function(){if(i.tag===13){var l=Vn(),c=Ct(i,l);c!==null&&Cn(c,i,l),zh(i,l)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Bh(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);ds=l,i.target.dispatchEvent(l),ds=null}else return t=Oi(i),t!==null&&Vy(t),e.blockedOn=i,!1;t.shift()}return!0}function Gy(e,t,i){ec(e)&&i.delete(t)}function _b(){Ih=!1,Jr!==null&&ec(Jr)&&(Jr=null),ea!==null&&ec(ea)&&(ea=null),ta!==null&&ec(ta)&&(ta=null),yo.forEach(Gy),vo.forEach(Gy)}function tc(e,t){e.blockedOn===t&&(e.blockedOn=null,Ih||(Ih=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_b)))}var nc=null;function Qy(e){nc!==e&&(nc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(qh(l||i)===null)continue;break}var d=Oi(i);d!==null&&(e.splice(t,3),t-=3,Df(d,{pending:!0,data:c,method:i.method,action:l},l,c))}}))}function _o(e){function t(C){return tc(C,e)}Jr!==null&&tc(Jr,e),ea!==null&&tc(ea,e),ta!==null&&tc(ta,e),yo.forEach(t),vo.forEach(t);for(var i=0;i<na.length;i++){var l=na[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<na.length&&(i=na[0],i.blockedOn===null);)Ky(i),i.blockedOn===null&&na.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var c=i[l],d=i[l+1],_=c[Dt]||null;if(typeof d=="function")_||Qy(i);else if(_){var w=null;if(d&&d.hasAttribute("formAction")){if(c=d,_=d[Dt]||null)w=_.formAction;else if(qh(c)!==null)continue}else w=_.action;typeof w=="function"?i[l+1]=w:(i.splice(l,3),l-=3),Qy(i)}}}function Hh(e){this._internalRoot=e}ic.prototype.render=Hh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var i=t.current,l=Vn();$y(i,l,e,t,null,null)},ic.prototype.unmount=Hh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Xs(),$y(e.current,2,null,e,null,null),qu(),t[Bn]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=va();e={blockedOn:null,target:e,priority:t};for(var i=0;i<na.length&&t!==0&&t<na[i].priority;i++);na.splice(i,0,e),i===0&&Ky(e)}};var Xy=n.version;if(Xy!=="19.0.0")throw Error(a(527,Xy,"19.0.0"));Le.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=ke(t),e=e!==null?Ge(e):null,e=e===null?null:e.stateNode,e};var bb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,findFiberByHostInstance:Ai,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{Ti=rc.inject(bb),fn=rc}catch{}}return bo.createRoot=function(e,t){if(!o(e))throw Error(a(299));var i=!1,l="",c=dp,d=mp,_=pp,w=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(_=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(w=t.unstable_transitionCallbacks)),t=Iy(e,1,!1,null,null,i,l,c,d,_,w,null),e[Bn]=t.current,Th(e.nodeType===8?e.parentNode:e),new Hh(t)},bo.hydrateRoot=function(e,t,i){if(!o(e))throw Error(a(299));var l=!1,c="",d=dp,_=mp,w=pp,C=null,j=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(_=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(C=i.unstable_transitionCallbacks),i.formState!==void 0&&(j=i.formState)),t=Iy(e,1,!0,t,i??null,l,c,d,_,w,C,j),t.context=Hy(null),i=t.current,l=Vn(),c=Pr(l),c.callback=null,Fr(i,c,l),t.current.lanes=l,Ki(t,l),Bi(t),e[Bn]=t.current,Th(e),new ic(t)},bo.version="19.0.0",bo}var cv;function uE(){if(cv)return Vh.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Vh.exports=oE(),Vh.exports}var cE=uE();const fE=ua(cE),hE=["localeText"],fv=lt.createContext(null),dE=function(n){const{localeText:r}=n,a=Sb(n,hE),{utils:o,localeText:h}=lt.useContext(fv)??{utils:void 0,localeText:void 0},m=wb({props:a,name:"MuiLocalizationProvider"}),{children:y,dateAdapter:g,dateFormats:E,dateLibInstance:A,adapterLocale:x,localeText:N}=m,Q=lt.useMemo(()=>yg({},N,h,r),[N,h,r]),le=lt.useMemo(()=>{if(!g)return o||null;const Ne=new g({locale:x,formats:E,instance:A});if(!Ne.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return Ne},[g,x,E,A,o]),Ce=lt.useMemo(()=>le?{minDate:le.date("1900-01-01T00:00:00.000"),maxDate:le.date("2099-12-31T00:00:00.000")}:null,[le]),ve=lt.useMemo(()=>({utils:le,defaultDates:Ce,localeText:Q}),[Ce,le,Q]);return ft.jsx(fv.Provider,{value:ve,children:y})};var hv={};const dv="@firebase/database",mv="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg="";function mE(s){Yg=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,r){r==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),un(r))}get(n){const r=this.domStorage_.getItem(this.prefixedName_(n));return r==null?null:xd(r)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,r){r==null?delete this.cache_[n]:this.cache_[n]=r}get(n){return Ii(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new pE(n)}}catch{}return new yE},Ka=Vg("localStorage"),vE=Vg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Lb("@firebase/database"),gE=function(){let s=1;return function(){return s++}}(),Pg=function(s){const n=jb(s),r=new Bb;r.update(n);const a=r.digest();return qb.encodeByteArray(a)},$o=function(...s){let n="";for(let r=0;r<s.length;r++){const a=s[r];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?n+=$o.apply(null,a):typeof a=="object"?n+=un(a):n+=a,n+=" "}return n};let Ao=null,pv=!0;const _E=function(s,n){_e(!0,"Can't turn on custom loggers persistently."),sl.logLevel=Hb.VERBOSE,Ao=sl.log.bind(sl)},gn=function(...s){if(pv===!0&&(pv=!1,Ao===null&&vE.get("logging_enabled")===!0&&_E()),Ao){const n=$o.apply(null,s);Ao(n)}},Yo=function(s){return function(...n){gn(s,...n)}},ud=function(...s){const n="FIREBASE INTERNAL ERROR: "+$o(...s);sl.error(n)},Er=function(...s){const n=`FIREBASE FATAL ERROR: ${$o(...s)}`;throw sl.error(n),new Error(n)},Un=function(...s){const n="FIREBASE WARNING: "+$o(...s);sl.warn(n)},bE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Un("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hc=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},EE=function(s){if(document.readyState==="complete")s();else{let n=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},fl="[MIN_NAME]",Xa="[MAX_NAME]",ns=function(s,n){if(s===n)return 0;if(s===fl||n===Xa)return-1;if(n===fl||s===Xa)return 1;{const r=yv(s),a=yv(n);return r!==null?a!==null?r-a===0?s.length-n.length:r-a:-1:a!==null?1:s<n?-1:1}},SE=function(s,n){return s===n?0:s<n?-1:1},Eo=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+un(n))},Ld=function(s){if(typeof s!="object"||s===null)return un(s);const n=[];for(const a in s)n.push(a);n.sort();let r="{";for(let a=0;a<n.length;a++)a!==0&&(r+=","),r+=un(n[a]),r+=":",r+=Ld(s[n[a]]);return r+="}",r},Fg=function(s,n){const r=s.length;if(r<=n)return[s];const a=[];for(let o=0;o<r;o+=n)o+n>r?a.push(s.substring(o,r)):a.push(s.substring(o,o+n));return a};function Sn(s,n){for(const r in s)s.hasOwnProperty(r)&&n(r,s[r])}const Kg=function(s){_e(!Hc(s),"Invalid JSON number");const n=11,r=52,a=(1<<n-1)-1;let o,h,m,y,g;s===0?(h=0,m=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(y=Math.min(Math.floor(Math.log(s)/Math.LN2),a),h=y+a,m=Math.round(s*Math.pow(2,r-y)-Math.pow(2,r))):(h=0,m=Math.round(s/Math.pow(2,1-a-r))));const E=[];for(g=r;g;g-=1)E.push(m%2?1:0),m=Math.floor(m/2);for(g=n;g;g-=1)E.push(h%2?1:0),h=Math.floor(h/2);E.push(o?1:0),E.reverse();const A=E.join("");let x="";for(g=0;g<64;g+=8){let N=parseInt(A.substr(g,8),2).toString(16);N.length===1&&(N="0"+N),x=x+N}return x.toLowerCase()},wE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function xE(s,n){let r="Unknown Error";s==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?r="Client doesn't have permission to access the desired data.":s==="unavailable"&&(r="The service is unavailable");const a=new Error(s+" at "+n._path.toString()+": "+r);return a.code=s.toUpperCase(),a}const CE=new RegExp("^-?(0*)\\d{1,10}$"),AE=-2147483648,OE=2147483647,yv=function(s){if(CE.test(s)){const n=Number(s);if(n>=AE&&n<=OE)return n}return null},pl=function(s){try{s()}catch(n){setTimeout(()=>{const r=n.stack||"";throw Un("Exception was thrown by user callback.",r),n},Math.floor(0))}},DE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oo=function(s,n){const r=setTimeout(s,n);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(n,r){this.appCheckProvider=r,this.appName=n.name,Ib(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(a=>this.appCheck=a)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((r,a)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(r,a):r(null)},0)})}addTokenChangeListener(n){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){Un(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(n,r,a){this.appName_=n,this.firebaseOptions_=r,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(r=>r&&r.code==="auth/token-not-initialized"?(gn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,a)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(r,a):r(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(r=>r.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(r=>r.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Un(n)}}class cc{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}cc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="5",Gg="v",Qg="s",Xg="r",Zg="f",Wg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jg="ls",e_="p",cd="ac",t_="websocket",n_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(n,r,a,o,h=!1,m="",y=!1,g=!1,E=null){this.secure=r,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=g,this.emulatorOptions=E,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ka.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ka.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${r}`}}function NE(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function r_(s,n,r){_e(typeof n=="string","typeof type must == string"),_e(typeof r=="object","typeof params must == object");let a;if(n===t_)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===n_)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);NE(s)&&(r.ns=s.namespace);const o=[];return Sn(r,(h,m)=>{o.push(h+"="+m)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.counters_={}}incrementCounter(n,r=1){Ii(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=r}get(){return Fb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh={},Gh={};function zd(s){const n=s.toString();return Kh[n]||(Kh[n]=new kE),Kh[n]}function LE(s,n){const r=s.toString();return Gh[r]||(Gh[r]=n()),Gh[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,r){this.closeAfterResponse=n,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,r){for(this.pendingResponses[n]=r;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&pl(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="start",zE="close",jE="pLPCommand",BE="pRTLPCB",a_="id",s_="pw",l_="ser",qE="cb",IE="seg",HE="ts",$E="d",YE="dframe",o_=1870,u_=30,VE=o_-u_,PE=25e3,FE=3e4;class al{constructor(n,r,a,o,h,m,y){this.connId=n,this.repoInfo=r,this.applicationId=a,this.appCheckToken=o,this.authToken=h,this.transportSessionId=m,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Yo(n),this.stats_=zd(r),this.urlFn=g=>(this.appCheckToken&&(g[cd]=this.appCheckToken),r_(r,n_,g))}open(n,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new UE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FE)),EE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jd((...h)=>{const[m,y,g,E,A]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===vv)this.id=y,this.password=g;else if(m===zE)y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,y]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,y)},()=>{this.onClosed_()},this.urlFn);const a={};a[vv]="t",a[l_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[qE]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Gg]=Ud,this.transportSessionId&&(a[Qg]=this.transportSessionId),this.lastSessionId&&(a[Jg]=this.lastSessionId),this.applicationId&&(a[e_]=this.applicationId),this.appCheckToken&&(a[cd]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wg.test(location.hostname)&&(a[Xg]=Zg);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){al.forceAllow_=!0}static forceDisallow(){al.forceDisallow_=!0}static isAvailable(){return al.forceAllow_?!0:!al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wE()&&!TE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const r=un(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=Kb(r),o=Fg(a,VE);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,r){this.myDisconnFrame=document.createElement("iframe");const a={};a[YE]="t",a[a_]=n,a[s_]=r,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const r=un(n).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class jd{constructor(n,r,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gE(),window[jE+this.uniqueCallbackIdentifier]=n,window[BE+this.uniqueCallbackIdentifier]=r,this.myIFrame=jd.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(y){gn("frame writing exception"),y.stack&&gn(y.stack),gn(y)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||gn("No IE domain setting required")}catch{const a=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,r){for(this.myID=n,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[a_]=this.myID,n[s_]=this.myPW,n[l_]=this.currentSerial;let r=this.urlFn(n),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+u_+a.length<=o_;){const m=this.pendingSegs.shift();a=a+"&"+IE+o+"="+m.seg+"&"+HE+o+"="+m.ts+"&"+$E+o+"="+m.d,o++}return r=r+a,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(n,r,a){this.pendingSegs.push({seg:n,ts:r,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(n,r){this.outstandingRequests.add(r);const a=()=>{this.outstandingRequests.delete(r),this.newRequest_()},o=setTimeout(a,Math.floor(PE)),h=()=>{clearTimeout(o),a()};this.addTag(n,h)}addTag(n,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=n,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),r())},a.onerror=()=>{gn("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=16384,GE=45e3;let Sc=null;typeof MozWebSocket<"u"?Sc=MozWebSocket:typeof WebSocket<"u"&&(Sc=WebSocket);class vi{constructor(n,r,a,o,h,m,y){this.connId=n,this.applicationId=a,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Yo(this.connId),this.stats_=zd(r),this.connURL=vi.connectionURL_(r,m,y,o,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,a,o,h){const m={};return m[Gg]=Ud,typeof location<"u"&&location.hostname&&Wg.test(location.hostname)&&(m[Xg]=Zg),r&&(m[Qg]=r),a&&(m[Jg]=a),o&&(m[cd]=o),h&&(m[e_]=h),r_(n,t_,m)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ka.set("previous_websocket_failure",!0);try{let a;Gb(),this.mySock=new Sc(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){vi.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(r);a&&a.length>1&&parseFloat(a[1])<4.4&&(n=!0)}return!n&&Sc!==null&&!vi.forceDisallow_}static previouslyFailed(){return Ka.isInMemoryStorage||Ka.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ka.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const a=xd(r);this.onMessage(a)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_e(this.frames===null,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const a=this.extractFrameCount_(r);a!==null&&this.appendFrame_(a)}}send(n){this.resetKeepAlive();const r=un(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const a=Fg(r,KE);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GE))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vi.responsesRequiredToBeHealthy=2;vi.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static get ALL_TRANSPORTS(){return[al,vi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const r=vi&&vi.isAvailable();let a=r&&!vi.previouslyFailed();if(n.webSocketOnly&&(r||Un("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[vi];else{const o=this.transports_=[];for(const h of No.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);No.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}No.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=6e4,XE=5e3,ZE=10*1024,WE=100*1024,Qh="t",gv="d",JE="s",_v="r",eS="e",bv="o",Ev="a",Sv="n",wv="p",tS="h";class nS{constructor(n,r,a,o,h,m,y,g,E,A){this.id=n,this.repoInfo_=r,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=m,this.onReady_=y,this.onDisconnect_=g,this.onKill_=E,this.lastSessionId=A,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Yo("c:"+this.id+":"),this.transportManager_=new No(r),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,a)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return r=>{n===this.conn_?this.onConnectionLost_(r):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return r=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(r):n===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(n){const r={t:"d",d:n};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Qh in n){const r=n[Qh];r===Ev?this.upgradeIfSecondaryHealthy_():r===_v?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===bv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const r=Eo("t",n),a=Eo("d",n);if(r==="c")this.onSecondaryControl_(a);else if(r==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:wv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ev,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Sv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const r=Eo("t",n),a=Eo("d",n);r==="c"?this.onControl_(a):r==="d"&&this.onDataMessage_(a)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const r=Eo(Qh,n);if(gv in n){const a=n[gv];if(r===tS){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(r===Sv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===JE?this.onConnectionShutdown_(a):r===_v?this.onReset_(a):r===eS?ud("Server Error: "+a):r===bv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ud("Unknown control packet command: "+r)}}onHandshake_(n){const r=n.ts,a=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ud!==a&&Un("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,a),Oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(QE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,r){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(XE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:wv,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ka.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{put(n,r,a,o){}merge(n,r,a,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,r,a){}onDisconnectMerge(n,r,a){}onDisconnectCancel(n,r){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(n){this.allowedEvents_=n,this.listeners_={},_e(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...r){if(Array.isArray(this.listeners_[n])){const a=[...this.listeners_[n]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,r)}}on(n,r,a){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:r,context:a});const o=this.getInitialEvent(n);o&&r.apply(a,o)}off(n,r,a){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===r&&(!a||a===o[h].context)){o.splice(h,1);return}}validateEventType_(n){_e(this.allowedEvents_.find(r=>r===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends f_{static getInstance(){return new wc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_g()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return _e(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=32,xv=768;class ht{constructor(n,r){if(r===void 0){this.pieces_=n.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=r}toString(){let n="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(n+="/"+this.pieces_[r]);return n||"/"}}function ct(){return new ht("")}function We(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function sa(s){return s.pieces_.length-s.pieceNum_}function Et(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new ht(s.pieces_,n)}function Bd(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function iS(s){let n="";for(let r=s.pieceNum_;r<s.pieces_.length;r++)s.pieces_[r]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[r])));return n||"/"}function ko(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function h_(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let r=s.pieceNum_;r<s.pieces_.length-1;r++)n.push(s.pieces_[r]);return new ht(n,0)}function Bt(s,n){const r=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)r.push(s.pieces_[a]);if(n instanceof ht)for(let a=n.pieceNum_;a<n.pieces_.length;a++)r.push(n.pieces_[a]);else{const a=n.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&r.push(a[o])}return new ht(r,0)}function tt(s){return s.pieceNum_>=s.pieces_.length}function kn(s,n){const r=We(s),a=We(n);if(r===null)return n;if(r===a)return kn(Et(s),Et(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function rS(s,n){const r=ko(s,0),a=ko(n,0);for(let o=0;o<r.length&&o<a.length;o++){const h=ns(r[o],a[o]);if(h!==0)return h}return r.length===a.length?0:r.length<a.length?-1:1}function qd(s,n){if(sa(s)!==sa(n))return!1;for(let r=s.pieceNum_,a=n.pieceNum_;r<=s.pieces_.length;r++,a++)if(s.pieces_[r]!==n.pieces_[a])return!1;return!0}function oi(s,n){let r=s.pieceNum_,a=n.pieceNum_;if(sa(s)>sa(n))return!1;for(;r<s.pieces_.length;){if(s.pieces_[r]!==n.pieces_[a])return!1;++r,++a}return!0}class aS{constructor(n,r){this.errorPrefix_=r,this.parts_=ko(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=jc(this.parts_[a]);d_(this)}}function sS(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=jc(n),d_(s)}function lS(s){const n=s.parts_.pop();s.byteLength_-=jc(n),s.parts_.length>0&&(s.byteLength_-=1)}function d_(s){if(s.byteLength_>xv)throw new Error(s.errorPrefix_+"has a key path longer than "+xv+" bytes ("+s.byteLength_+").");if(s.parts_.length>Tv)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Tv+") or object contains a cycle "+Fa(s))}function Fa(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends f_{static getInstance(){return new Id}constructor(){super(["visible"]);let n,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const a=!document[n];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(n){return _e(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=1e3,oS=60*5*1e3,Cv=30*1e3,uS=1.3,cS=3e4,fS="server_kill",Av=3;class _r extends c_{constructor(n,r,a,o,h,m,y,g){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=y,this.authOverride_=g,this.id=_r.nextPersistentConnectionId_++,this.log_=Yo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=So,this.maxReconnectDelay_=oS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Id.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&wc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,a){const o=++this.requestNumber_,h={r:o,a:n,b:r};this.log_(un(h)),_e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[o]=a)}get(n){this.initConnection_();const r=new ra,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:m=>{const y=m.d;m.s==="ok"?r.resolve(y):r.reject(y)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),r.promise}listen(n,r,a,o){this.initConnection_();const h=n._queryIdentifier,m=n._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),_e(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_e(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const y={onComplete:o,hashFn:r,query:n,tag:a};this.listens.get(m).set(h,y),this.connected_&&this.sendListen_(y)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,a=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(a)})}sendListen_(n){const r=n.query,a=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+a+" for "+o);const h={p:a},m="q";n.tag&&(h.q=r._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(m,h,y=>{const g=y.d,E=y.s;_r.warnOnListenWarnings_(g,r),(this.listens.get(a)&&this.listens.get(a).get(o))===n&&(this.log_("listen response",y),E!=="ok"&&this.removeListen_(a,o),n.onComplete&&n.onComplete(E,g))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ii(n,"w")){const a=ul(n,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();Un(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Yb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=Vb(n)?"auth":"gauth",a={cred:n};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(r,a,o=>{const h=o.s,m=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,a=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,a)})}unlisten(n,r){const a=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),_e(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,n._queryObject,r)}sendUnlisten_(n,r,a,o){this.log_("Unlisten on "+n+" for "+r);const h={p:n},m="n";o&&(h.q=a,h.t=o),this.sendRequest(m,h)}onDisconnectPut(n,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:a})}onDisconnectMerge(n,r,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:a})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,a,o){const h={p:r,d:a};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,m=>{o&&setTimeout(()=>{o(m.s,m.d)},Math.floor(0))})}put(n,r,a,o){this.putInternal("p",n,r,a,o)}merge(n,r,a,o){this.putInternal("m",n,r,a,o)}putInternal(n,r,a,o,h){this.initConnection_();const m={p:r,d:a};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:n,request:m,onComplete:o}),this.outstandingPutCount_++;const y=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(y):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,a=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,a,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,a=>{if(a.s!=="ok"){const h=a.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+un(n));const r=n.r,a=this.requestCBHash_[r];a&&(delete this.requestCBHash_[r],a(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ud("Unrecognized action received from server: "+un(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>cS&&(this.reconnectDelay_=So),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*uS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+_r.nextConnectionId_++,h=this.lastSessionId;let m=!1,y=null;const g=function(){y?y.close():(m=!0,a())},E=function(x){_e(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(x)};this.realtime_={close:g,sendRequest:E};const A=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[x,N]=await Promise.all([this.authTokenProvider_.getToken(A),this.appCheckTokenProvider_.getToken(A)]);m?gn("getToken() completed but was canceled"):(gn("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=N&&N.token,y=new nS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,a,Q=>{Un(Q+" ("+this.repoInfo_.toString()+")"),this.interrupt(fS)},h))}catch(x){this.log_("Failed to get token: "+x),m||(this.repoInfo_.nodeAdmin&&Un(x),g())}}}interrupt(n){gn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){gn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ad(this.interruptReasons_)&&(this.reconnectDelay_=So,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let a;r?a=r.map(h=>Ld(h)).join("$"):a="default";const o=this.removeListen_(n,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const a=new ht(n).toString();let o;if(this.listens.has(a)){const h=this.listens.get(a);o=h.get(r),h.delete(r),h.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(n,r){gn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Av&&(this.reconnectDelay_=Cv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){gn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Av&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Yg.replace(/\./g,"-")]=1,_g()?n["framework.cordova"]=1:Pb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=wc.getInstance().currentlyOnline();return ad(this.interruptReasons_)&&n}}_r.nextPersistentConnectionId_=0;_r.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(n,r){this.name=n,this.node=r}static Wrap(n,r){return new nt(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,r){const a=new nt(fl,n),o=new nt(fl,r);return this.compare(a,o)!==0}minPost(){return nt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc;class m_ extends $c{static get __EMPTY_NODE(){return sc}static set __EMPTY_NODE(n){sc=n}compare(n,r){return ns(n.name,r.name)}isDefinedOn(n){throw Io("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,r){return!1}minPost(){return nt.MIN}maxPost(){return new nt(Xa,sc)}makePost(n,r){return _e(typeof n=="string","KeyIndex indexValue must always be a string."),new nt(n,sc)}toString(){return".key"}}const ll=new m_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(n,r,a,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!n.isEmpty();)if(n=n,m=r?a(n.key,r):1,o&&(m*=-1),m<0)this.isReverse_?n=n.left:n=n.right;else if(m===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(n.key,n.value):r={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ln{constructor(n,r,a,o,h){this.key=n,this.value=r,this.color=a??ln.RED,this.left=o??Ln.EMPTY_NODE,this.right=h??Ln.EMPTY_NODE}copy(n,r,a,o,h){return new ln(n??this.key,r??this.value,a??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let o=this;const h=a(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,r,a),null):h===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let a,o;if(a=this,r(n,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(n,r),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),r(n,a.key)===0){if(a.right.isEmpty())return Ln.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(n,r))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ln.RED=!0;ln.BLACK=!1;class hS{copy(n,r,a,o,h){return this}insert(n,r,a){return new ln(n,r,null)}remove(n,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ln{constructor(n,r=Ln.EMPTY_NODE){this.comparator_=n,this.root_=r}insert(n,r){return new Ln(this.comparator_,this.root_.insert(n,r,this.comparator_).copy(null,null,ln.BLACK,null,null))}remove(n){return new Ln(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ln.BLACK,null,null))}get(n){let r,a=this.root_;for(;!a.isEmpty();){if(r=this.comparator_(n,a.key),r===0)return a.value;r<0?a=a.left:r>0&&(a=a.right)}return null}getPredecessorKey(n){let r,a=this.root_,o=null;for(;!a.isEmpty();)if(r=this.comparator_(n,a.key),r===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else r<0?a=a.left:r>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new lc(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,r){return new lc(this.root_,n,this.comparator_,!1,r)}getReverseIteratorFrom(n,r){return new lc(this.root_,n,this.comparator_,!0,r)}getReverseIterator(n){return new lc(this.root_,null,this.comparator_,!0,n)}}Ln.EMPTY_NODE=new hS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(s,n){return ns(s.name,n.name)}function Hd(s,n){return ns(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd;function mS(s){fd=s}const p_=function(s){return typeof s=="number"?"number:"+Kg(s):"string:"+s},y_=function(s){if(s.isLeafNode()){const n=s.val();_e(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Ii(n,".sv"),"Priority must be a string or number.")}else _e(s===fd||s.isEmpty(),"priority of unexpected type.");_e(s===fd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ov;class sn{static set __childrenNodeConstructor(n){Ov=n}static get __childrenNodeConstructor(){return Ov}constructor(n,r=sn.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),y_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new sn(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return tt(n)?this:We(n)===".priority"?this.priorityNode_:sn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:sn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const a=We(n);return a===null?r:r.isEmpty()&&a!==".priority"?this:(_e(a!==".priority"||sa(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,sn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Et(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+p_(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",r==="number"?n+=Kg(this.value_):n+=this.value_,this.lazyHash_=Pg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===sn.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof sn.__childrenNodeConstructor?-1:(_e(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,a=typeof this.value_,o=sn.VALUE_TYPE_ORDER.indexOf(r),h=sn.VALUE_TYPE_ORDER.indexOf(a);return _e(o>=0,"Unknown leaf type: "+r),_e(h>=0,"Unknown leaf type: "+a),o===h?a==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}sn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_,g_;function pS(s){v_=s}function yS(s){g_=s}class vS extends $c{compare(n,r){const a=n.node.getPriority(),o=r.node.getPriority(),h=a.compareTo(o);return h===0?ns(n.name,r.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,r){return!n.getPriority().equals(r.getPriority())}minPost(){return nt.MIN}maxPost(){return new nt(Xa,new sn("[PRIORITY-POST]",g_))}makePost(n,r){const a=v_(n);return new nt(r,new sn("[PRIORITY-POST]",a))}toString(){return".priority"}}const Nt=new vS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=Math.log(2);class _S{constructor(n){const r=h=>parseInt(Math.log(h)/gS,10),a=h=>parseInt(Array(h+1).join("1"),2);this.count=r(n+1),this.current_=this.count-1;const o=a(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Tc=function(s,n,r,a){s.sort(n);const o=function(g,E){const A=E-g;let x,N;if(A===0)return null;if(A===1)return x=s[g],N=r?r(x):x,new ln(N,x.node,ln.BLACK,null,null);{const Q=parseInt(A/2,10)+g,le=o(g,Q),Ce=o(Q+1,E);return x=s[Q],N=r?r(x):x,new ln(N,x.node,ln.BLACK,le,Ce)}},h=function(g){let E=null,A=null,x=s.length;const N=function(le,Ce){const ve=x-le,Ne=x;x-=le;const je=o(ve+1,Ne),De=s[ve],Je=r?r(De):De;Q(new ln(Je,De.node,Ce,null,je))},Q=function(le){E?(E.left=le,E=le):(A=le,E=le)};for(let le=0;le<g.count;++le){const Ce=g.nextBitIsOne(),ve=Math.pow(2,g.count-(le+1));Ce?N(ve,ln.BLACK):(N(ve,ln.BLACK),N(ve,ln.RED))}return A},m=new _S(s.length),y=h(m);return new Ln(a||n,y)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh;const nl={};class gr{static get Default(){return _e(nl&&Nt,"ChildrenNode.ts has not been loaded"),Xh=Xh||new gr({".priority":nl},{".priority":Nt}),Xh}constructor(n,r){this.indexes_=n,this.indexSet_=r}get(n){const r=ul(this.indexes_,n);if(!r)throw new Error("No index defined for "+n);return r instanceof Ln?r:null}hasIndex(n){return Ii(this.indexSet_,n.toString())}addIndex(n,r){_e(n!==ll,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const h=r.getIterator(nt.Wrap);let m=h.getNext();for(;m;)o=o||n.isDefinedOn(m.node),a.push(m),m=h.getNext();let y;o?y=Tc(a,n.getCompare()):y=nl;const g=n.toString(),E=Object.assign({},this.indexSet_);E[g]=n;const A=Object.assign({},this.indexes_);return A[g]=y,new gr(A,E)}addToIndexes(n,r){const a=bc(this.indexes_,(o,h)=>{const m=ul(this.indexSet_,h);if(_e(m,"Missing index implementation for "+h),o===nl)if(m.isDefinedOn(n.node)){const y=[],g=r.getIterator(nt.Wrap);let E=g.getNext();for(;E;)E.name!==n.name&&y.push(E),E=g.getNext();return y.push(n),Tc(y,m.getCompare())}else return nl;else{const y=r.get(n.name);let g=o;return y&&(g=g.remove(new nt(n.name,y))),g.insert(n,n.node)}});return new gr(a,this.indexSet_)}removeFromIndexes(n,r){const a=bc(this.indexes_,o=>{if(o===nl)return o;{const h=r.get(n.name);return h?o.remove(new nt(n.name,h)):o}});return new gr(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo;class He{static get EMPTY_NODE(){return wo||(wo=new He(new Ln(Hd),null,gr.Default))}constructor(n,r,a){this.children_=n,this.priorityNode_=r,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&y_(this.priorityNode_),this.children_.isEmpty()&&_e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wo}updatePriority(n){return this.children_.isEmpty()?this:new He(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const r=this.children_.get(n);return r===null?wo:r}}getChild(n){const r=We(n);return r===null?this:this.getImmediateChild(r).getChild(Et(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_e(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{const a=new nt(n,r);let o,h;r.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(n,r),h=this.indexMap_.addToIndexes(a,this.children_));const m=o.isEmpty()?wo:this.priorityNode_;return new He(o,m,h)}}updateChild(n,r){const a=We(n);if(a===null)return r;{_e(We(n)!==".priority"||sa(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Et(n),r);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let a=0,o=0,h=!0;if(this.forEachChild(Nt,(m,y)=>{r[m]=y.val(n),a++,h&&He.INTEGER_REGEXP_.test(m)?o=Math.max(o,Number(m)):h=!1}),!n&&h&&o<2*a){const m=[];for(const y in r)m[y]=r[y];return m}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+p_(this.getPriority().val())+":"),this.forEachChild(Nt,(r,a)=>{const o=a.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":Pg(n)}return this.lazyHash_}getPredecessorChildName(n,r,a){const o=this.resolveIndex_(a);if(o){const h=o.getPredecessorKey(new nt(n,r));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const a=r.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new nt(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const a=r.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new nt(r,this.children_.get(r)):null}forEachChild(n,r){const a=this.resolveIndex_(n);return a?a.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const a=this.resolveIndex_(r);if(a)return a.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,nt.Wrap);let h=o.peek();for(;h!=null&&r.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const a=this.resolveIndex_(r);if(a)return a.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,nt.Wrap);let h=o.peek();for(;h!=null&&r.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Vo?-1:0}withIndex(n){if(n===ll||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new He(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ll||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const a=this.getIterator(Nt),o=r.getIterator(Nt);let h=a.getNext(),m=o.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=a.getNext(),m=o.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(n){return n===ll?null:this.indexMap_.get(n.toString())}}He.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bS extends He{constructor(){super(new Ln(Hd),He.EMPTY_NODE,gr.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return He.EMPTY_NODE}isEmpty(){return!1}}const Vo=new bS;Object.defineProperties(nt,{MIN:{value:new nt(fl,He.EMPTY_NODE)},MAX:{value:new nt(Xa,Vo)}});m_.__EMPTY_NODE=He.EMPTY_NODE;sn.__childrenNodeConstructor=He;mS(Vo);yS(Vo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=!0;function Kt(s,n=null){if(s===null)return He.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),_e(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const r=s;return new sn(r,Kt(n))}if(!(s instanceof Array)&&ES){const r=[];let a=!1;if(Sn(s,(m,y)=>{if(m.substring(0,1)!=="."){const g=Kt(y);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),r.push(new nt(m,g)))}}),r.length===0)return He.EMPTY_NODE;const h=Tc(r,dS,m=>m.name,Hd);if(a){const m=Tc(r,Nt.getCompare());return new He(h,Kt(n),new gr({".priority":m},{".priority":Nt}))}else return new He(h,Kt(n),gr.Default)}else{let r=He.EMPTY_NODE;return Sn(s,(a,o)=>{if(Ii(s,a)&&a.substring(0,1)!=="."){const h=Kt(o);(h.isLeafNode()||!h.isEmpty())&&(r=r.updateImmediateChild(a,h))}}),r.updatePriority(Kt(n))}}pS(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends $c{constructor(n){super(),this.indexPath_=n,_e(!tt(n)&&We(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,r){const a=this.extractChild(n.node),o=this.extractChild(r.node),h=a.compareTo(o);return h===0?ns(n.name,r.name):h}makePost(n,r){const a=Kt(n),o=He.EMPTY_NODE.updateChild(this.indexPath_,a);return new nt(r,o)}maxPost(){const n=He.EMPTY_NODE.updateChild(this.indexPath_,Vo);return new nt(Xa,n)}toString(){return ko(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends $c{compare(n,r){const a=n.node.compareTo(r.node);return a===0?ns(n.name,r.name):a}isDefinedOn(n){return!0}indexedValueChanged(n,r){return!n.equals(r)}minPost(){return nt.MIN}maxPost(){return nt.MAX}makePost(n,r){const a=Kt(n);return new nt(r,a)}toString(){return".value"}}const TS=new wS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(s){return{type:"value",snapshotNode:s}}function hl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Lo(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Uo(s,n,r){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:r}}function xS(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(n){this.index_=n}updateChild(n,r,a,o,h,m){_e(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=n.getImmediateChild(r);return y.getChild(o).equals(a.getChild(o))&&y.isEmpty()===a.isEmpty()||(m!=null&&(a.isEmpty()?n.hasChild(r)?m.trackChildChange(Lo(r,y)):_e(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?m.trackChildChange(hl(r,a)):m.trackChildChange(Uo(r,a,y))),n.isLeafNode()&&a.isEmpty())?n:n.updateImmediateChild(r,a).withIndex(this.index_)}updateFullNode(n,r,a){return a!=null&&(n.isLeafNode()||n.forEachChild(Nt,(o,h)=>{r.hasChild(o)||a.trackChildChange(Lo(o,h))}),r.isLeafNode()||r.forEachChild(Nt,(o,h)=>{if(n.hasChild(o)){const m=n.getImmediateChild(o);m.equals(h)||a.trackChildChange(Uo(o,h,m))}else a.trackChildChange(hl(o,h))})),r.withIndex(this.index_)}updatePriority(n,r){return n.isEmpty()?He.EMPTY_NODE:n.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(n){this.indexedFilter_=new $d(n.getIndex()),this.index_=n.getIndex(),this.startPost_=zo.getStartPost_(n),this.endPost_=zo.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,a=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return r&&a}updateChild(n,r,a,o,h,m){return this.matches(new nt(r,a))||(a=He.EMPTY_NODE),this.indexedFilter_.updateChild(n,r,a,o,h,m)}updateFullNode(n,r,a){r.isLeafNode()&&(r=He.EMPTY_NODE);let o=r.withIndex(this.index_);o=o.updatePriority(He.EMPTY_NODE);const h=this;return r.forEachChild(Nt,(m,y)=>{h.matches(new nt(m,y))||(o=o.updateImmediateChild(m,He.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,a)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const r=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),r)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const r=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),r)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(n){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=r=>{const a=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new zo(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,r,a,o,h,m){return this.rangedFilter_.matches(new nt(r,a))||(a=He.EMPTY_NODE),n.getImmediateChild(r).equals(a)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,r,a,o,h,m):this.fullLimitUpdateChild_(n,r,a,h,m)}updateFullNode(n,r,a){let o;if(r.isLeafNode()||r.isEmpty())o=He.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){o=He.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const y=h.getNext();if(this.withinDirectionalStart(y))if(this.withinDirectionalEnd(y))o=o.updateImmediateChild(y.name,y.node),m++;else break;else continue}}else{o=r.withIndex(this.index_),o=o.updatePriority(He.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let m=0;for(;h.hasNext();){const y=h.getNext();m<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?m++:o=o.updateImmediateChild(y.name,He.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,a)}updatePriority(n,r){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,r,a,o,h){let m;if(this.reverse_){const x=this.index_.getCompare();m=(N,Q)=>x(Q,N)}else m=this.index_.getCompare();const y=n;_e(y.numChildren()===this.limit_,"");const g=new nt(r,a),E=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),A=this.rangedFilter_.matches(g);if(y.hasChild(r)){const x=y.getImmediateChild(r);let N=o.getChildAfterChild(this.index_,E,this.reverse_);for(;N!=null&&(N.name===r||y.hasChild(N.name));)N=o.getChildAfterChild(this.index_,N,this.reverse_);const Q=N==null?1:m(N,g);if(A&&!a.isEmpty()&&Q>=0)return h!=null&&h.trackChildChange(Uo(r,a,x)),y.updateImmediateChild(r,a);{h!=null&&h.trackChildChange(Lo(r,x));const Ce=y.updateImmediateChild(r,He.EMPTY_NODE);return N!=null&&this.rangedFilter_.matches(N)?(h!=null&&h.trackChildChange(hl(N.name,N.node)),Ce.updateImmediateChild(N.name,N.node)):Ce}}else return a.isEmpty()?n:A&&m(E,g)>=0?(h!=null&&(h.trackChildChange(Lo(E.name,E.node)),h.trackChildChange(hl(r,a))),y.updateImmediateChild(r,a).updateImmediateChild(E.name,He.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fl}hasEnd(){return this.endSet_}getIndexEndValue(){return _e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Nt}copy(){const n=new Yd;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function AS(s){return s.loadsAllData()?new $d(s.getIndex()):s.hasLimit()?new CS(s):new zo(s)}function Dv(s){const n={};if(s.isDefault())return n;let r;if(s.index_===Nt?r="$priority":s.index_===TS?r="$value":s.index_===ll?r="$key":(_e(s.index_ instanceof SS,"Unrecognized index type!"),r=s.index_.toString()),n.orderBy=un(r),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";n[a]=un(s.indexStartValue_),s.startNameSet_&&(n[a]+=","+un(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";n[a]=un(s.indexEndValue_),s.endNameSet_&&(n[a]+=","+un(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Mv(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let r=s.viewFrom_;r===""&&(s.isViewFromLeft()?r="l":r="r"),n.vf=r}return s.index_!==Nt&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends c_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,r){return r!==void 0?"tag$"+r:(_e(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,r,a,o){super(),this.repoInfo_=n,this.onDataUpdate_=r,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Yo("p:rest:"),this.listens_={}}listen(n,r,a,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const m=xc.getListenId_(n,a),y={};this.listens_[m]=y;const g=Dv(n._queryParams);this.restRequest_(h+".json",g,(E,A)=>{let x=A;if(E===404&&(x=null,E=null),E===null&&this.onDataUpdate_(h,x,!1,a),ul(this.listens_,m)===y){let N;E?E===401?N="permission_denied":N="rest_error:"+E:N="ok",o(N,null)}})}unlisten(n,r){const a=xc.getListenId_(n,r);delete this.listens_[a]}get(n){const r=Dv(n._queryParams),a=n._path.toString(),o=new ra;return this.restRequest_(a+".json",r,(h,m)=>{let y=m;h===404&&(y=null,h=null),h===null?(this.onDataUpdate_(a,y,!1,null),o.resolve(y)):o.reject(new Error(y))}),o.promise}refreshAuthToken(n){}restRequest_(n,r={},a){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(r.auth=o.accessToken),h&&h.token&&(r.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+$b(r);this.log_("Sending REST request for "+m);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(a&&y.readyState===4){this.log_("REST Response for "+m+" received. status:",y.status,"response:",y.responseText);let g=null;if(y.status>=200&&y.status<300){try{g=xd(y.responseText)}catch{Un("Failed to parse JSON response for "+m+": "+y.responseText)}a(null,g)}else y.status!==401&&y.status!==404&&Un("Got unsuccessful REST response for "+m+" Status: "+y.status),a(y.status);a=null}},y.open("GET",m,!0),y.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.rootNode_=He.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,r){this.rootNode_=this.rootNode_.updateChild(n,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(){return{value:null,children:new Map}}function yl(s,n,r){if(tt(n))s.value=r,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,r);else{const a=We(n);s.children.has(a)||s.children.set(a,Cc());const o=s.children.get(a);n=Et(n),yl(o,n,r)}}function hd(s,n){if(tt(n))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const r=s.value;return s.value=null,r.forEachChild(Nt,(a,o)=>{yl(s,new ht(a),o)}),hd(s,n)}}else if(s.children.size>0){const r=We(n);return n=Et(n),s.children.has(r)&&hd(s.children.get(r),n)&&s.children.delete(r),s.children.size===0}else return!0}function dd(s,n,r){s.value!==null?r(n,s.value):DS(s,(a,o)=>{const h=new ht(n.toString()+"/"+a);dd(o,h,r)})}function DS(s,n){s.children.forEach((r,a)=>{n(a,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),r=Object.assign({},n);return this.last_&&Sn(this.last_,(a,o)=>{r[a]=r[a]-o}),this.last_=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=10*1e3,RS=30*1e3,NS=5*60*1e3;class kS{constructor(n,r){this.server_=r,this.statsToReport_={},this.statsListener_=new MS(n);const a=Rv+(RS-Rv)*Math.random();Oo(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const n=this.statsListener_.get(),r={};let a=!1;Sn(n,(o,h)=>{h>0&&Ii(this.statsToReport_,o)&&(r[o]=h,a=!0)}),a&&this.server_.reportStats(r),Oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*NS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_i||(_i={}));function b_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Vd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Pd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(n,r,a){this.path=n,this.affectedTree=r,this.revert=a,this.type=_i.ACK_USER_WRITE,this.source=b_()}operationForChild(n){if(tt(this.path)){if(this.affectedTree.value!=null)return _e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ht(n));return new Ac(ct(),r,this.revert)}}else return _e(We(this.path)===n,"operationForChild called for unrelated child."),new Ac(Et(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(n,r){this.source=n,this.path=r,this.type=_i.LISTEN_COMPLETE}operationForChild(n){return tt(this.path)?new jo(this.source,ct()):new jo(this.source,Et(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(n,r,a){this.source=n,this.path=r,this.snap=a,this.type=_i.OVERWRITE}operationForChild(n){return tt(this.path)?new Za(this.source,ct(),this.snap.getImmediateChild(n)):new Za(this.source,Et(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(n,r,a){this.source=n,this.path=r,this.children=a,this.type=_i.MERGE}operationForChild(n){if(tt(this.path)){const r=this.children.subtree(new ht(n));return r.isEmpty()?null:r.value?new Za(this.source,ct(),r.value):new Bo(this.source,ct(),r)}else return _e(We(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Bo(this.source,Et(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(n,r,a){this.node_=n,this.fullyInitialized_=r,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(tt(n))return this.isFullyInitialized()&&!this.filtered_;const r=We(n);return this.isCompleteForChild(r)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function US(s,n,r,a){const o=[],h=[];return n.forEach(m=>{m.type==="child_changed"&&s.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(xS(m.childName,m.snapshotNode))}),To(s,o,"child_removed",n,a,r),To(s,o,"child_added",n,a,r),To(s,o,"child_moved",h,a,r),To(s,o,"child_changed",n,a,r),To(s,o,"value",n,a,r),o}function To(s,n,r,a,o,h){const m=a.filter(y=>y.type===r);m.sort((y,g)=>jS(s,y,g)),m.forEach(y=>{const g=zS(s,y,h);o.forEach(E=>{E.respondsTo(y.type)&&n.push(E.createEvent(g,s.query_))})})}function zS(s,n,r){return n.type==="value"||n.type==="child_removed"||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function jS(s,n,r){if(n.childName==null||r.childName==null)throw Io("Should only compare child_ events.");const a=new nt(n.childName,n.snapshotNode),o=new nt(r.childName,r.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(s,n){return{eventCache:s,serverCache:n}}function Do(s,n,r,a){return Yc(new Wa(n,r,a),s.serverCache)}function E_(s,n,r,a){return Yc(s.eventCache,new Wa(n,r,a))}function md(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ja(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;const BS=()=>(Zh||(Zh=new Ln(SE)),Zh);class At{static fromObject(n){let r=new At(null);return Sn(n,(a,o)=>{r=r.set(new ht(a),o)}),r}constructor(n,r=BS()){this.value=n,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,r){if(this.value!=null&&r(this.value))return{path:ct(),value:this.value};if(tt(n))return null;{const a=We(n),o=this.children.get(a);if(o!==null){const h=o.findRootMostMatchingPathAndValue(Et(n),r);return h!=null?{path:Bt(new ht(a),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(tt(n))return this;{const r=We(n),a=this.children.get(r);return a!==null?a.subtree(Et(n)):new At(null)}}set(n,r){if(tt(n))return new At(r,this.children);{const a=We(n),h=(this.children.get(a)||new At(null)).set(Et(n),r),m=this.children.insert(a,h);return new At(this.value,m)}}remove(n){if(tt(n))return this.children.isEmpty()?new At(null):new At(null,this.children);{const r=We(n),a=this.children.get(r);if(a){const o=a.remove(Et(n));let h;return o.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,o),this.value===null&&h.isEmpty()?new At(null):new At(this.value,h)}else return this}}get(n){if(tt(n))return this.value;{const r=We(n),a=this.children.get(r);return a?a.get(Et(n)):null}}setTree(n,r){if(tt(n))return r;{const a=We(n),h=(this.children.get(a)||new At(null)).setTree(Et(n),r);let m;return h.isEmpty()?m=this.children.remove(a):m=this.children.insert(a,h),new At(this.value,m)}}fold(n){return this.fold_(ct(),n)}fold_(n,r){const a={};return this.children.inorderTraversal((o,h)=>{a[o]=h.fold_(Bt(n,o),r)}),r(n,this.value,a)}findOnPath(n,r){return this.findOnPath_(n,ct(),r)}findOnPath_(n,r,a){const o=this.value?a(r,this.value):!1;if(o)return o;if(tt(n))return null;{const h=We(n),m=this.children.get(h);return m?m.findOnPath_(Et(n),Bt(r,h),a):null}}foreachOnPath(n,r){return this.foreachOnPath_(n,ct(),r)}foreachOnPath_(n,r,a){if(tt(n))return this;{this.value&&a(r,this.value);const o=We(n),h=this.children.get(o);return h?h.foreachOnPath_(Et(n),Bt(r,o),a):new At(null)}}foreach(n){this.foreach_(ct(),n)}foreach_(n,r){this.children.inorderTraversal((a,o)=>{o.foreach_(Bt(n,a),r)}),this.value&&r(n,this.value)}foreachChild(n){this.children.inorderTraversal((r,a)=>{a.value&&n(r,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(n){this.writeTree_=n}static empty(){return new bi(new At(null))}}function Mo(s,n,r){if(tt(n))return new bi(new At(r));{const a=s.writeTree_.findRootMostValueAndPath(n);if(a!=null){const o=a.path;let h=a.value;const m=kn(o,n);return h=h.updateChild(m,r),new bi(s.writeTree_.set(o,h))}else{const o=new At(r),h=s.writeTree_.setTree(n,o);return new bi(h)}}}function Nv(s,n,r){let a=s;return Sn(r,(o,h)=>{a=Mo(a,Bt(n,o),h)}),a}function kv(s,n){if(tt(n))return bi.empty();{const r=s.writeTree_.setTree(n,new At(null));return new bi(r)}}function pd(s,n){return is(s,n)!=null}function is(s,n){const r=s.writeTree_.findRootMostValueAndPath(n);return r!=null?s.writeTree_.get(r.path).getChild(kn(r.path,n)):null}function Lv(s){const n=[],r=s.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Nt,(a,o)=>{n.push(new nt(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&n.push(new nt(a,o.value))}),n}function aa(s,n){if(tt(n))return s;{const r=is(s,n);return r!=null?new bi(new At(r)):new bi(s.writeTree_.subtree(n))}}function yd(s){return s.writeTree_.isEmpty()}function dl(s,n){return S_(ct(),s.writeTree_,n)}function S_(s,n,r){if(n.value!=null)return r.updateChild(s,n.value);{let a=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(_e(h.value!==null,"Priority writes must always be leaf nodes"),a=h.value):r=S_(Bt(s,o),h,r)}),!r.getChild(s).isEmpty()&&a!==null&&(r=r.updateChild(Bt(s,".priority"),a)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(s,n){return C_(n,s)}function qS(s,n,r,a,o){_e(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:r,writeId:a,visible:o}),o&&(s.visibleWrites=Mo(s.visibleWrites,n,r)),s.lastWriteId=a}function IS(s,n){for(let r=0;r<s.allWrites.length;r++){const a=s.allWrites[r];if(a.writeId===n)return a}return null}function HS(s,n){const r=s.allWrites.findIndex(y=>y.writeId===n);_e(r>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[r];s.allWrites.splice(r,1);let o=a.visible,h=!1,m=s.allWrites.length-1;for(;o&&m>=0;){const y=s.allWrites[m];y.visible&&(m>=r&&$S(y,a.path)?o=!1:oi(a.path,y.path)&&(h=!0)),m--}if(o){if(h)return YS(s),!0;if(a.snap)s.visibleWrites=kv(s.visibleWrites,a.path);else{const y=a.children;Sn(y,g=>{s.visibleWrites=kv(s.visibleWrites,Bt(a.path,g))})}return!0}else return!1}function $S(s,n){if(s.snap)return oi(s.path,n);for(const r in s.children)if(s.children.hasOwnProperty(r)&&oi(Bt(s.path,r),n))return!0;return!1}function YS(s){s.visibleWrites=w_(s.allWrites,VS,ct()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function VS(s){return s.visible}function w_(s,n,r){let a=bi.empty();for(let o=0;o<s.length;++o){const h=s[o];if(n(h)){const m=h.path;let y;if(h.snap)oi(r,m)?(y=kn(r,m),a=Mo(a,y,h.snap)):oi(m,r)&&(y=kn(m,r),a=Mo(a,ct(),h.snap.getChild(y)));else if(h.children){if(oi(r,m))y=kn(r,m),a=Nv(a,y,h.children);else if(oi(m,r))if(y=kn(m,r),tt(y))a=Nv(a,ct(),h.children);else{const g=ul(h.children,We(y));if(g){const E=g.getChild(Et(y));a=Mo(a,ct(),E)}}}else throw Io("WriteRecord should have .snap or .children")}}return a}function T_(s,n,r,a,o){if(!a&&!o){const h=is(s.visibleWrites,n);if(h!=null)return h;{const m=aa(s.visibleWrites,n);if(yd(m))return r;if(r==null&&!pd(m,ct()))return null;{const y=r||He.EMPTY_NODE;return dl(m,y)}}}else{const h=aa(s.visibleWrites,n);if(!o&&yd(h))return r;if(!o&&r==null&&!pd(h,ct()))return null;{const m=function(E){return(E.visible||o)&&(!a||!~a.indexOf(E.writeId))&&(oi(E.path,n)||oi(n,E.path))},y=w_(s.allWrites,m,n),g=r||He.EMPTY_NODE;return dl(y,g)}}}function PS(s,n,r){let a=He.EMPTY_NODE;const o=is(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Nt,(h,m)=>{a=a.updateImmediateChild(h,m)}),a;if(r){const h=aa(s.visibleWrites,n);return r.forEachChild(Nt,(m,y)=>{const g=dl(aa(h,new ht(m)),y);a=a.updateImmediateChild(m,g)}),Lv(h).forEach(m=>{a=a.updateImmediateChild(m.name,m.node)}),a}else{const h=aa(s.visibleWrites,n);return Lv(h).forEach(m=>{a=a.updateImmediateChild(m.name,m.node)}),a}}function FS(s,n,r,a,o){_e(a||o,"Either existingEventSnap or existingServerSnap must exist");const h=Bt(n,r);if(pd(s.visibleWrites,h))return null;{const m=aa(s.visibleWrites,h);return yd(m)?o.getChild(r):dl(m,o.getChild(r))}}function KS(s,n,r,a){const o=Bt(n,r),h=is(s.visibleWrites,o);if(h!=null)return h;if(a.isCompleteForChild(r)){const m=aa(s.visibleWrites,o);return dl(m,a.getNode().getImmediateChild(r))}else return null}function GS(s,n){return is(s.visibleWrites,n)}function QS(s,n,r,a,o,h,m){let y;const g=aa(s.visibleWrites,n),E=is(g,ct());if(E!=null)y=E;else if(r!=null)y=dl(g,r);else return[];if(y=y.withIndex(m),!y.isEmpty()&&!y.isLeafNode()){const A=[],x=m.getCompare(),N=h?y.getReverseIteratorFrom(a,m):y.getIteratorFrom(a,m);let Q=N.getNext();for(;Q&&A.length<o;)x(Q,a)!==0&&A.push(Q),Q=N.getNext();return A}else return[]}function XS(){return{visibleWrites:bi.empty(),allWrites:[],lastWriteId:-1}}function Oc(s,n,r,a){return T_(s.writeTree,s.treePath,n,r,a)}function Kd(s,n){return PS(s.writeTree,s.treePath,n)}function Uv(s,n,r,a){return FS(s.writeTree,s.treePath,n,r,a)}function Dc(s,n){return GS(s.writeTree,Bt(s.treePath,n))}function ZS(s,n,r,a,o,h){return QS(s.writeTree,s.treePath,n,r,a,o,h)}function Gd(s,n,r){return KS(s.writeTree,s.treePath,n,r)}function x_(s,n){return C_(Bt(s.treePath,n),s.writeTree)}function C_(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.changeMap=new Map}trackChildChange(n){const r=n.type,a=n.childName;_e(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),_e(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const h=o.type;if(r==="child_added"&&h==="child_removed")this.changeMap.set(a,Uo(a,n.snapshotNode,o.snapshotNode));else if(r==="child_removed"&&h==="child_added")this.changeMap.delete(a);else if(r==="child_removed"&&h==="child_changed")this.changeMap.set(a,Lo(a,o.oldSnap));else if(r==="child_changed"&&h==="child_added")this.changeMap.set(a,hl(a,n.snapshotNode));else if(r==="child_changed"&&h==="child_changed")this.changeMap.set(a,Uo(a,n.snapshotNode,o.oldSnap));else throw Io("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(a,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{getCompleteChild(n){return null}getChildAfterChild(n,r,a){return null}}const A_=new JS;class Qd{constructor(n,r,a=null){this.writes_=n,this.viewCache_=r,this.optCompleteServerCache_=a}getCompleteChild(n){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(n))return r.getNode().getImmediateChild(n);{const a=this.optCompleteServerCache_!=null?new Wa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gd(this.writes_,n,a)}}getChildAfterChild(n,r,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ja(this.viewCache_),h=ZS(this.writes_,o,r,1,a,n);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(s){return{filter:s}}function tw(s,n){_e(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),_e(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function nw(s,n,r,a,o){const h=new WS;let m,y;if(r.type===_i.OVERWRITE){const E=r;E.source.fromUser?m=vd(s,n,E.path,E.snap,a,o,h):(_e(E.source.fromServer,"Unknown source."),y=E.source.tagged||n.serverCache.isFiltered()&&!tt(E.path),m=Mc(s,n,E.path,E.snap,a,o,y,h))}else if(r.type===_i.MERGE){const E=r;E.source.fromUser?m=rw(s,n,E.path,E.children,a,o,h):(_e(E.source.fromServer,"Unknown source."),y=E.source.tagged||n.serverCache.isFiltered(),m=gd(s,n,E.path,E.children,a,o,y,h))}else if(r.type===_i.ACK_USER_WRITE){const E=r;E.revert?m=lw(s,n,E.path,a,o,h):m=aw(s,n,E.path,E.affectedTree,a,o,h)}else if(r.type===_i.LISTEN_COMPLETE)m=sw(s,n,r.path,a,h);else throw Io("Unknown operation type: "+r.type);const g=h.getChanges();return iw(n,m,g),{viewCache:m,changes:g}}function iw(s,n,r){const a=n.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),h=md(s);(r.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(h)||!a.getNode().getPriority().equals(h.getPriority()))&&r.push(__(md(n)))}}function O_(s,n,r,a,o,h){const m=n.eventCache;if(Dc(a,r)!=null)return n;{let y,g;if(tt(r))if(_e(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const E=Ja(n),A=E instanceof He?E:He.EMPTY_NODE,x=Kd(a,A);y=s.filter.updateFullNode(n.eventCache.getNode(),x,h)}else{const E=Oc(a,Ja(n));y=s.filter.updateFullNode(n.eventCache.getNode(),E,h)}else{const E=We(r);if(E===".priority"){_e(sa(r)===1,"Can't have a priority with additional path components");const A=m.getNode();g=n.serverCache.getNode();const x=Uv(a,r,A,g);x!=null?y=s.filter.updatePriority(A,x):y=m.getNode()}else{const A=Et(r);let x;if(m.isCompleteForChild(E)){g=n.serverCache.getNode();const N=Uv(a,r,m.getNode(),g);N!=null?x=m.getNode().getImmediateChild(E).updateChild(A,N):x=m.getNode().getImmediateChild(E)}else x=Gd(a,E,n.serverCache);x!=null?y=s.filter.updateChild(m.getNode(),E,x,A,o,h):y=m.getNode()}}return Do(n,y,m.isFullyInitialized()||tt(r),s.filter.filtersNodes())}}function Mc(s,n,r,a,o,h,m,y){const g=n.serverCache;let E;const A=m?s.filter:s.filter.getIndexedFilter();if(tt(r))E=A.updateFullNode(g.getNode(),a,null);else if(A.filtersNodes()&&!g.isFiltered()){const Q=g.getNode().updateChild(r,a);E=A.updateFullNode(g.getNode(),Q,null)}else{const Q=We(r);if(!g.isCompleteForPath(r)&&sa(r)>1)return n;const le=Et(r),ve=g.getNode().getImmediateChild(Q).updateChild(le,a);Q===".priority"?E=A.updatePriority(g.getNode(),ve):E=A.updateChild(g.getNode(),Q,ve,le,A_,null)}const x=E_(n,E,g.isFullyInitialized()||tt(r),A.filtersNodes()),N=new Qd(o,x,h);return O_(s,x,r,o,N,y)}function vd(s,n,r,a,o,h,m){const y=n.eventCache;let g,E;const A=new Qd(o,n,h);if(tt(r))E=s.filter.updateFullNode(n.eventCache.getNode(),a,m),g=Do(n,E,!0,s.filter.filtersNodes());else{const x=We(r);if(x===".priority")E=s.filter.updatePriority(n.eventCache.getNode(),a),g=Do(n,E,y.isFullyInitialized(),y.isFiltered());else{const N=Et(r),Q=y.getNode().getImmediateChild(x);let le;if(tt(N))le=a;else{const Ce=A.getCompleteChild(x);Ce!=null?Bd(N)===".priority"&&Ce.getChild(h_(N)).isEmpty()?le=Ce:le=Ce.updateChild(N,a):le=He.EMPTY_NODE}if(Q.equals(le))g=n;else{const Ce=s.filter.updateChild(y.getNode(),x,le,N,A,m);g=Do(n,Ce,y.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function zv(s,n){return s.eventCache.isCompleteForChild(n)}function rw(s,n,r,a,o,h,m){let y=n;return a.foreach((g,E)=>{const A=Bt(r,g);zv(n,We(A))&&(y=vd(s,y,A,E,o,h,m))}),a.foreach((g,E)=>{const A=Bt(r,g);zv(n,We(A))||(y=vd(s,y,A,E,o,h,m))}),y}function jv(s,n,r){return r.foreach((a,o)=>{n=n.updateChild(a,o)}),n}function gd(s,n,r,a,o,h,m,y){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,E;tt(r)?E=a:E=new At(null).setTree(r,a);const A=n.serverCache.getNode();return E.children.inorderTraversal((x,N)=>{if(A.hasChild(x)){const Q=n.serverCache.getNode().getImmediateChild(x),le=jv(s,Q,N);g=Mc(s,g,new ht(x),le,o,h,m,y)}}),E.children.inorderTraversal((x,N)=>{const Q=!n.serverCache.isCompleteForChild(x)&&N.value===null;if(!A.hasChild(x)&&!Q){const le=n.serverCache.getNode().getImmediateChild(x),Ce=jv(s,le,N);g=Mc(s,g,new ht(x),Ce,o,h,m,y)}}),g}function aw(s,n,r,a,o,h,m){if(Dc(o,r)!=null)return n;const y=n.serverCache.isFiltered(),g=n.serverCache;if(a.value!=null){if(tt(r)&&g.isFullyInitialized()||g.isCompleteForPath(r))return Mc(s,n,r,g.getNode().getChild(r),o,h,y,m);if(tt(r)){let E=new At(null);return g.getNode().forEachChild(ll,(A,x)=>{E=E.set(new ht(A),x)}),gd(s,n,r,E,o,h,y,m)}else return n}else{let E=new At(null);return a.foreach((A,x)=>{const N=Bt(r,A);g.isCompleteForPath(N)&&(E=E.set(A,g.getNode().getChild(N)))}),gd(s,n,r,E,o,h,y,m)}}function sw(s,n,r,a,o){const h=n.serverCache,m=E_(n,h.getNode(),h.isFullyInitialized()||tt(r),h.isFiltered());return O_(s,m,r,a,A_,o)}function lw(s,n,r,a,o,h){let m;if(Dc(a,r)!=null)return n;{const y=new Qd(a,n,o),g=n.eventCache.getNode();let E;if(tt(r)||We(r)===".priority"){let A;if(n.serverCache.isFullyInitialized())A=Oc(a,Ja(n));else{const x=n.serverCache.getNode();_e(x instanceof He,"serverChildren would be complete if leaf node"),A=Kd(a,x)}A=A,E=s.filter.updateFullNode(g,A,h)}else{const A=We(r);let x=Gd(a,A,n.serverCache);x==null&&n.serverCache.isCompleteForChild(A)&&(x=g.getImmediateChild(A)),x!=null?E=s.filter.updateChild(g,A,x,Et(r),y,h):n.eventCache.getNode().hasChild(A)?E=s.filter.updateChild(g,A,He.EMPTY_NODE,Et(r),y,h):E=g,E.isEmpty()&&n.serverCache.isFullyInitialized()&&(m=Oc(a,Ja(n)),m.isLeafNode()&&(E=s.filter.updateFullNode(E,m,h)))}return m=n.serverCache.isFullyInitialized()||Dc(a,ct())!=null,Do(n,E,m,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(n,r){this.query_=n,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new $d(a.getIndex()),h=AS(a);this.processor_=ew(h);const m=r.serverCache,y=r.eventCache,g=o.updateFullNode(He.EMPTY_NODE,m.getNode(),null),E=h.updateFullNode(He.EMPTY_NODE,y.getNode(),null),A=new Wa(g,m.isFullyInitialized(),o.filtersNodes()),x=new Wa(E,y.isFullyInitialized(),h.filtersNodes());this.viewCache_=Yc(x,A),this.eventGenerator_=new LS(this.query_)}get query(){return this.query_}}function uw(s){return s.viewCache_.serverCache.getNode()}function cw(s,n){const r=Ja(s.viewCache_);return r&&(s.query._queryParams.loadsAllData()||!tt(n)&&!r.getImmediateChild(We(n)).isEmpty())?r.getChild(n):null}function Bv(s){return s.eventRegistrations_.length===0}function fw(s,n){s.eventRegistrations_.push(n)}function qv(s,n,r){const a=[];if(r){_e(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(r,o);m&&a.push(m)})}if(n){let o=[];for(let h=0;h<s.eventRegistrations_.length;++h){const m=s.eventRegistrations_[h];if(!m.matches(n))o.push(m);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function Iv(s,n,r,a){n.type===_i.MERGE&&n.source.queryId!==null&&(_e(Ja(s.viewCache_),"We should always have a full cache before handling merges"),_e(md(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,h=nw(s.processor_,o,n,r,a);return tw(s.processor_,h.viewCache),_e(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,D_(s,h.changes,h.viewCache.eventCache.getNode(),null)}function hw(s,n){const r=s.viewCache_.eventCache,a=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Nt,(h,m)=>{a.push(hl(h,m))}),r.isFullyInitialized()&&a.push(__(r.getNode())),D_(s,a,r.getNode(),n)}function D_(s,n,r,a){const o=a?[a]:s.eventRegistrations_;return US(s.eventGenerator_,n,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc;class dw{constructor(){this.views=new Map}}function mw(s){_e(!Rc,"__referenceConstructor has already been defined"),Rc=s}function pw(){return _e(Rc,"Reference.ts has not been loaded"),Rc}function yw(s){return s.views.size===0}function Xd(s,n,r,a){const o=n.source.queryId;if(o!==null){const h=s.views.get(o);return _e(h!=null,"SyncTree gave us an op for an invalid query."),Iv(h,n,r,a)}else{let h=[];for(const m of s.views.values())h=h.concat(Iv(m,n,r,a));return h}}function vw(s,n,r,a,o){const h=n._queryIdentifier,m=s.views.get(h);if(!m){let y=Oc(r,o?a:null),g=!1;y?g=!0:a instanceof He?(y=Kd(r,a),g=!1):(y=He.EMPTY_NODE,g=!1);const E=Yc(new Wa(y,g,!1),new Wa(a,o,!1));return new ow(n,E)}return m}function gw(s,n,r,a,o,h){const m=vw(s,n,a,o,h);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,m),fw(m,r),hw(m,r)}function _w(s,n,r,a){const o=n._queryIdentifier,h=[];let m=[];const y=la(s);if(o==="default")for(const[g,E]of s.views.entries())m=m.concat(qv(E,r,a)),Bv(E)&&(s.views.delete(g),E.query._queryParams.loadsAllData()||h.push(E.query));else{const g=s.views.get(o);g&&(m=m.concat(qv(g,r,a)),Bv(g)&&(s.views.delete(o),g.query._queryParams.loadsAllData()||h.push(g.query)))}return y&&!la(s)&&h.push(new(pw())(n._repo,n._path)),{removed:h,events:m}}function M_(s){const n=[];for(const r of s.views.values())r.query._queryParams.loadsAllData()||n.push(r);return n}function ol(s,n){let r=null;for(const a of s.views.values())r=r||cw(a,n);return r}function R_(s,n){if(n._queryParams.loadsAllData())return Vc(s);{const a=n._queryIdentifier;return s.views.get(a)}}function N_(s,n){return R_(s,n)!=null}function la(s){return Vc(s)!=null}function Vc(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function bw(s){_e(!Nc,"__referenceConstructor has already been defined"),Nc=s}function Ew(){return _e(Nc,"Reference.ts has not been loaded"),Nc}let Sw=1;class Hv{constructor(n){this.listenProvider_=n,this.syncPointTree_=new At(null),this.pendingWriteTree_=XS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function k_(s,n,r,a,o){return qS(s.pendingWriteTree_,n,r,a,o),o?Po(s,new Za(b_(),n,r)):[]}function Ga(s,n,r=!1){const a=IS(s.pendingWriteTree_,n);if(HS(s.pendingWriteTree_,n)){let h=new At(null);return a.snap!=null?h=h.set(ct(),!0):Sn(a.children,m=>{h=h.set(new ht(m),!0)}),Po(s,new Ac(a.path,h,r))}else return[]}function Pc(s,n,r){return Po(s,new Za(Vd(),n,r))}function ww(s,n,r){const a=At.fromObject(r);return Po(s,new Bo(Vd(),n,a))}function Tw(s,n){return Po(s,new jo(Vd(),n))}function xw(s,n,r){const a=Wd(s,r);if(a){const o=Jd(a),h=o.path,m=o.queryId,y=kn(h,n),g=new jo(Pd(m),y);return em(s,h,g)}else return[]}function _d(s,n,r,a,o=!1){const h=n._path,m=s.syncPointTree_.get(h);let y=[];if(m&&(n._queryIdentifier==="default"||N_(m,n))){const g=_w(m,n,r,a);yw(m)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const E=g.removed;if(y=g.events,!o){const A=E.findIndex(N=>N._queryParams.loadsAllData())!==-1,x=s.syncPointTree_.findOnPath(h,(N,Q)=>la(Q));if(A&&!x){const N=s.syncPointTree_.subtree(h);if(!N.isEmpty()){const Q=Ow(N);for(let le=0;le<Q.length;++le){const Ce=Q[le],ve=Ce.query,Ne=z_(s,Ce);s.listenProvider_.startListening(Ro(ve),kc(s,ve),Ne.hashFn,Ne.onComplete)}}}!x&&E.length>0&&!a&&(A?s.listenProvider_.stopListening(Ro(n),null):E.forEach(N=>{const Q=s.queryToTagMap.get(Fc(N));s.listenProvider_.stopListening(Ro(N),Q)}))}Dw(s,E)}return y}function Cw(s,n,r,a){const o=Wd(s,a);if(o!=null){const h=Jd(o),m=h.path,y=h.queryId,g=kn(m,n),E=new Za(Pd(y),g,r);return em(s,m,E)}else return[]}function Aw(s,n,r,a){const o=Wd(s,a);if(o){const h=Jd(o),m=h.path,y=h.queryId,g=kn(m,n),E=At.fromObject(r),A=new Bo(Pd(y),g,E);return em(s,m,A)}else return[]}function $v(s,n,r,a=!1){const o=n._path;let h=null,m=!1;s.syncPointTree_.foreachOnPath(o,(N,Q)=>{const le=kn(N,o);h=h||ol(Q,le),m=m||la(Q)});let y=s.syncPointTree_.get(o);y?(m=m||la(y),h=h||ol(y,ct())):(y=new dw,s.syncPointTree_=s.syncPointTree_.set(o,y));let g;h!=null?g=!0:(g=!1,h=He.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((Q,le)=>{const Ce=ol(le,ct());Ce&&(h=h.updateImmediateChild(Q,Ce))}));const E=N_(y,n);if(!E&&!n._queryParams.loadsAllData()){const N=Fc(n);_e(!s.queryToTagMap.has(N),"View does not exist, but we have a tag");const Q=Mw();s.queryToTagMap.set(N,Q),s.tagToQueryMap.set(Q,N)}const A=Fd(s.pendingWriteTree_,o);let x=gw(y,n,r,A,h,g);if(!E&&!m&&!a){const N=R_(y,n);x=x.concat(Rw(s,n,N))}return x}function Zd(s,n,r){const o=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(n,(m,y)=>{const g=kn(m,n),E=ol(y,g);if(E)return E});return T_(o,n,h,r,!0)}function Po(s,n){return L_(n,s.syncPointTree_,null,Fd(s.pendingWriteTree_,ct()))}function L_(s,n,r,a){if(tt(s.path))return U_(s,n,r,a);{const o=n.get(ct());r==null&&o!=null&&(r=ol(o,ct()));let h=[];const m=We(s.path),y=s.operationForChild(m),g=n.children.get(m);if(g&&y){const E=r?r.getImmediateChild(m):null,A=x_(a,m);h=h.concat(L_(y,g,E,A))}return o&&(h=h.concat(Xd(o,s,a,r))),h}}function U_(s,n,r,a){const o=n.get(ct());r==null&&o!=null&&(r=ol(o,ct()));let h=[];return n.children.inorderTraversal((m,y)=>{const g=r?r.getImmediateChild(m):null,E=x_(a,m),A=s.operationForChild(m);A&&(h=h.concat(U_(A,y,g,E)))}),o&&(h=h.concat(Xd(o,s,a,r))),h}function z_(s,n){const r=n.query,a=kc(s,r);return{hashFn:()=>(uw(n)||He.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?xw(s,r._path,a):Tw(s,r._path);{const h=xE(o,r);return _d(s,r,null,h)}}}}function kc(s,n){const r=Fc(n);return s.queryToTagMap.get(r)}function Fc(s){return s._path.toString()+"$"+s._queryIdentifier}function Wd(s,n){return s.tagToQueryMap.get(n)}function Jd(s){const n=s.indexOf("$");return _e(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new ht(s.substr(0,n))}}function em(s,n,r){const a=s.syncPointTree_.get(n);_e(a,"Missing sync point for query tag that we're tracking");const o=Fd(s.pendingWriteTree_,n);return Xd(a,r,o,null)}function Ow(s){return s.fold((n,r,a)=>{if(r&&la(r))return[Vc(r)];{let o=[];return r&&(o=M_(r)),Sn(a,(h,m)=>{o=o.concat(m)}),o}})}function Ro(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(Ew())(s._repo,s._path):s}function Dw(s,n){for(let r=0;r<n.length;++r){const a=n[r];if(!a._queryParams.loadsAllData()){const o=Fc(a),h=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(h)}}}function Mw(){return Sw++}function Rw(s,n,r){const a=n._path,o=kc(s,n),h=z_(s,r),m=s.listenProvider_.startListening(Ro(n),o,h.hashFn,h.onComplete),y=s.syncPointTree_.subtree(a);if(o)_e(!la(y.value),"If we're adding a query, it shouldn't be shadowed");else{const g=y.fold((E,A,x)=>{if(!tt(E)&&A&&la(A))return[Vc(A).query];{let N=[];return A&&(N=N.concat(M_(A).map(Q=>Q.query))),Sn(x,(Q,le)=>{N=N.concat(le)}),N}});for(let E=0;E<g.length;++E){const A=g[E];s.listenProvider_.stopListening(Ro(A),kc(s,A))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(n){this.node_=n}getImmediateChild(n){const r=this.node_.getImmediateChild(n);return new tm(r)}node(){return this.node_}}class nm{constructor(n,r){this.syncTree_=n,this.path_=r}getImmediateChild(n){const r=Bt(this.path_,n);return new nm(this.syncTree_,r)}node(){return Zd(this.syncTree_,this.path_)}}const Nw=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Yv=function(s,n,r){if(!s||typeof s!="object")return s;if(_e(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return kw(s[".sv"],n,r);if(typeof s[".sv"]=="object")return Lw(s[".sv"],n);_e(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},kw=function(s,n,r){switch(s){case"timestamp":return r.timestamp;default:_e(!1,"Unexpected server value: "+s)}},Lw=function(s,n,r){s.hasOwnProperty("increment")||_e(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&_e(!1,"Unexpected increment value: "+a);const o=n.node();if(_e(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const m=o.getValue();return typeof m!="number"?a:m+a},Uw=function(s,n,r,a){return im(n,new nm(r,s),a)},j_=function(s,n,r){return im(s,new tm(n),r)};function im(s,n,r){const a=s.getPriority().val(),o=Yv(a,n.getImmediateChild(".priority"),r);let h;if(s.isLeafNode()){const m=s,y=Yv(m.getValue(),n,r);return y!==m.getValue()||o!==m.getPriority().val()?new sn(y,Kt(o)):s}else{const m=s;return h=m,o!==m.getPriority().val()&&(h=h.updatePriority(new sn(o))),m.forEachChild(Nt,(y,g)=>{const E=im(g,n.getImmediateChild(y),r);E!==g&&(h=h.updateImmediateChild(y,E))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(n="",r=null,a={children:{},childCount:0}){this.name=n,this.parent=r,this.node=a}}function am(s,n){let r=n instanceof ht?n:new ht(n),a=s,o=We(r);for(;o!==null;){const h=ul(a.node.children,o)||{children:{},childCount:0};a=new rm(o,a,h),r=Et(r),o=We(r)}return a}function vl(s){return s.node.value}function B_(s,n){s.node.value=n,bd(s)}function q_(s){return s.node.childCount>0}function zw(s){return vl(s)===void 0&&!q_(s)}function Kc(s,n){Sn(s.node.children,(r,a)=>{n(new rm(r,s,a))})}function I_(s,n,r,a){r&&n(s),Kc(s,o=>{I_(o,n,!0)})}function jw(s,n,r){let a=s.parent;for(;a!==null;){if(n(a))return!0;a=a.parent}return!1}function Fo(s){return new ht(s.parent===null?s.name:Fo(s.parent)+"/"+s.name)}function bd(s){s.parent!==null&&Bw(s.parent,s.name,s)}function Bw(s,n,r){const a=zw(r),o=Ii(s.node.children,n);a&&o?(delete s.node.children[n],s.node.childCount--,bd(s)):!a&&!o&&(s.node.children[n]=r.node,s.node.childCount++,bd(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/[\[\].#$\/\u0000-\u001F\u007F]/,Iw=/[\[\].#$\u0000-\u001F\u007F]/,Wh=10*1024*1024,sm=function(s){return typeof s=="string"&&s.length!==0&&!qw.test(s)},H_=function(s){return typeof s=="string"&&s.length!==0&&!Iw.test(s)},Hw=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),H_(s)},$_=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Hc(s)||s&&typeof s=="object"&&Ii(s,".sv")},Lc=function(s,n,r,a){a&&n===void 0||Gc(cl(s,"value"),n,r)},Gc=function(s,n,r){const a=r instanceof ht?new aS(r,s):r;if(n===void 0)throw new Error(s+"contains undefined "+Fa(a));if(typeof n=="function")throw new Error(s+"contains a function "+Fa(a)+" with contents = "+n.toString());if(Hc(n))throw new Error(s+"contains "+n.toString()+" "+Fa(a));if(typeof n=="string"&&n.length>Wh/3&&jc(n)>Wh)throw new Error(s+"contains a string greater than "+Wh+" utf8 bytes "+Fa(a)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(Sn(n,(m,y)=>{if(m===".value")o=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!sm(m)))throw new Error(s+" contains an invalid key ("+m+") "+Fa(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);sS(a,m),Gc(s,y,a),lS(a)}),o&&h)throw new Error(s+' contains ".value" child '+Fa(a)+" in addition to actual children.")}},$w=function(s,n){let r,a;for(r=0;r<n.length;r++){a=n[r];const h=ko(a);for(let m=0;m<h.length;m++)if(!(h[m]===".priority"&&m===h.length-1)){if(!sm(h[m]))throw new Error(s+"contains an invalid key ("+h[m]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(rS);let o=null;for(r=0;r<n.length;r++){if(a=n[r],o!==null&&oi(o,a))throw new Error(s+"contains a path "+o.toString()+" that is ancestor of another path "+a.toString());o=a}},Yw=function(s,n,r,a){const o=cl(s,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];Sn(n,(m,y)=>{const g=new ht(m);if(Gc(o,y,Bt(r,g)),Bd(g)===".priority"&&!$_(y))throw new Error(o+"contains an invalid value for '"+g.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(g)}),$w(o,h)},Vw=function(s,n,r){if(Hc(n))throw new Error(cl(s,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!$_(n))throw new Error(cl(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Y_=function(s,n,r,a){if(!H_(r))throw new Error(cl(s,n)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Pw=function(s,n,r,a){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Y_(s,n,r)},Qa=function(s,n){if(We(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},Fw=function(s,n){const r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!sm(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!Hw(r))throw new Error(cl(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function lm(s,n){let r=null;for(let a=0;a<n.length;a++){const o=n[a],h=o.getPath();r!==null&&!qd(h,r.path)&&(s.eventLists_.push(r),r=null),r===null&&(r={events:[],path:h}),r.events.push(o)}r&&s.eventLists_.push(r)}function V_(s,n,r){lm(s,r),P_(s,a=>qd(a,n))}function Sr(s,n,r){lm(s,r),P_(s,a=>oi(a,n)||oi(n,a))}function P_(s,n){s.recursionDepth_++;let r=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const h=o.path;n(h)?(Gw(s.eventLists_[a]),s.eventLists_[a]=null):r=!1}}r&&(s.eventLists_=[]),s.recursionDepth_--}function Gw(s){for(let n=0;n<s.events.length;n++){const r=s.events[n];if(r!==null){s.events[n]=null;const a=r.getEventRunner();Ao&&gn("event: "+r.toString()),pl(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="repo_interrupt",Xw=25;class Zw{constructor(n,r,a,o){this.repoInfo_=n,this.forceRestClient_=r,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Cc(),this.transactionQueueTree_=new rm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ww(s,n,r){if(s.stats_=zd(s.repoInfo_),s.forceRestClient_||DE())s.server_=new xc(s.repoInfo_,(a,o,h,m)=>{Vv(s,a,o,h,m)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Pv(s,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{un(r)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new _r(s.repoInfo_,n,(a,o,h,m)=>{Vv(s,a,o,h,m)},a=>{Pv(s,a)},a=>{Jw(s,a)},s.authTokenProvider_,s.appCheckProvider_,r),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=LE(s.repoInfo_,()=>new kS(s.stats_,s.server_)),s.infoData_=new OS,s.infoSyncTree_=new Hv({startListening:(a,o,h,m)=>{let y=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(y=Pc(s.infoSyncTree_,a._path,g),setTimeout(()=>{m("ok")},0)),y},stopListening:()=>{}}),um(s,"connected",!1),s.serverSyncTree_=new Hv({startListening:(a,o,h,m)=>(s.server_.listen(a,h,o,(y,g)=>{const E=m(y,g);Sr(s.eventQueue_,a._path,E)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function F_(s){const r=s.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function om(s){return Nw({timestamp:F_(s)})}function Vv(s,n,r,a,o){s.dataUpdateCount++;const h=new ht(n);r=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,r):r;let m=[];if(o)if(a){const g=bc(r,E=>Kt(E));m=Aw(s.serverSyncTree_,h,g,o)}else{const g=Kt(r);m=Cw(s.serverSyncTree_,h,g,o)}else if(a){const g=bc(r,E=>Kt(E));m=ww(s.serverSyncTree_,h,g)}else{const g=Kt(r);m=Pc(s.serverSyncTree_,h,g)}let y=h;m.length>0&&(y=Qc(s,h)),Sr(s.eventQueue_,y,m)}function Pv(s,n){um(s,"connected",n),n===!1&&tT(s)}function Jw(s,n){Sn(n,(r,a)=>{um(s,r,a)})}function um(s,n,r){const a=new ht("/.info/"+n),o=Kt(r);s.infoData_.updateSnapshot(a,o);const h=Pc(s.infoSyncTree_,a,o);Sr(s.eventQueue_,a,h)}function K_(s){return s.nextWriteId_++}function eT(s,n,r,a,o){cm(s,"set",{path:n.toString(),value:r,priority:a});const h=om(s),m=Kt(r,a),y=Zd(s.serverSyncTree_,n),g=j_(m,y,h),E=K_(s),A=k_(s.serverSyncTree_,n,g,E,!0);lm(s.eventQueue_,A),s.server_.put(n.toString(),m.val(!0),(N,Q)=>{const le=N==="ok";le||Un("set at "+n+" failed: "+N);const Ce=Ga(s.serverSyncTree_,E,!le);Sr(s.eventQueue_,n,Ce),ml(s,o,N,Q)});const x=W_(s,n);Qc(s,x),Sr(s.eventQueue_,x,[])}function tT(s){cm(s,"onDisconnectEvents");const n=om(s),r=Cc();dd(s.onDisconnect_,ct(),(o,h)=>{const m=Uw(o,h,s.serverSyncTree_,n);yl(r,o,m)});let a=[];dd(r,ct(),(o,h)=>{a=a.concat(Pc(s.serverSyncTree_,o,h));const m=W_(s,o);Qc(s,m)}),s.onDisconnect_=Cc(),Sr(s.eventQueue_,ct(),a)}function nT(s,n,r){s.server_.onDisconnectCancel(n.toString(),(a,o)=>{a==="ok"&&hd(s.onDisconnect_,n),ml(s,r,a,o)})}function Fv(s,n,r,a){const o=Kt(r);s.server_.onDisconnectPut(n.toString(),o.val(!0),(h,m)=>{h==="ok"&&yl(s.onDisconnect_,n,o),ml(s,a,h,m)})}function iT(s,n,r,a,o){const h=Kt(r,a);s.server_.onDisconnectPut(n.toString(),h.val(!0),(m,y)=>{m==="ok"&&yl(s.onDisconnect_,n,h),ml(s,o,m,y)})}function rT(s,n,r,a){if(ad(r)){gn("onDisconnect().update() called with empty data.  Don't do anything."),ml(s,a,"ok",void 0);return}s.server_.onDisconnectMerge(n.toString(),r,(o,h)=>{o==="ok"&&Sn(r,(m,y)=>{const g=Kt(y);yl(s.onDisconnect_,Bt(n,m),g)}),ml(s,a,o,h)})}function aT(s,n,r){let a;We(n._path)===".info"?a=$v(s.infoSyncTree_,n,r):a=$v(s.serverSyncTree_,n,r),V_(s.eventQueue_,n._path,a)}function sT(s,n,r){let a;We(n._path)===".info"?a=_d(s.infoSyncTree_,n,r):a=_d(s.serverSyncTree_,n,r),V_(s.eventQueue_,n._path,a)}function lT(s){s.persistentConnection_&&s.persistentConnection_.interrupt(Qw)}function cm(s,...n){let r="";s.persistentConnection_&&(r=s.persistentConnection_.id+":"),gn(r,...n)}function ml(s,n,r,a){n&&pl(()=>{if(r==="ok")n(null);else{const o=(r||"error").toUpperCase();let h=o;a&&(h+=": "+a);const m=new Error(h);m.code=o,n(m)}})}function G_(s,n,r){return Zd(s.serverSyncTree_,n,r)||He.EMPTY_NODE}function fm(s,n=s.transactionQueueTree_){if(n||Xc(s,n),vl(n)){const r=X_(s,n);_e(r.length>0,"Sending zero length transaction queue"),r.every(o=>o.status===0)&&oT(s,Fo(n),r)}else q_(n)&&Kc(n,r=>{fm(s,r)})}function oT(s,n,r){const a=r.map(E=>E.currentWriteId),o=G_(s,n,a);let h=o;const m=o.hash();for(let E=0;E<r.length;E++){const A=r[E];_e(A.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),A.status=1,A.retryCount++;const x=kn(n,A.path);h=h.updateChild(x,A.currentOutputSnapshotRaw)}const y=h.val(!0),g=n;s.server_.put(g.toString(),y,E=>{cm(s,"transaction put response",{path:g.toString(),status:E});let A=[];if(E==="ok"){const x=[];for(let N=0;N<r.length;N++)r[N].status=2,A=A.concat(Ga(s.serverSyncTree_,r[N].currentWriteId)),r[N].onComplete&&x.push(()=>r[N].onComplete(null,!0,r[N].currentOutputSnapshotResolved)),r[N].unwatcher();Xc(s,am(s.transactionQueueTree_,n)),fm(s,s.transactionQueueTree_),Sr(s.eventQueue_,n,A);for(let N=0;N<x.length;N++)pl(x[N])}else{if(E==="datastale")for(let x=0;x<r.length;x++)r[x].status===3?r[x].status=4:r[x].status=0;else{Un("transaction at "+g.toString()+" failed: "+E);for(let x=0;x<r.length;x++)r[x].status=4,r[x].abortReason=E}Qc(s,n)}},m)}function Qc(s,n){const r=Q_(s,n),a=Fo(r),o=X_(s,r);return uT(s,o,a),a}function uT(s,n,r){if(n.length===0)return;const a=[];let o=[];const m=n.filter(y=>y.status===0).map(y=>y.currentWriteId);for(let y=0;y<n.length;y++){const g=n[y],E=kn(r,g.path);let A=!1,x;if(_e(E!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)A=!0,x=g.abortReason,o=o.concat(Ga(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=Xw)A=!0,x="maxretry",o=o.concat(Ga(s.serverSyncTree_,g.currentWriteId,!0));else{const N=G_(s,g.path,m);g.currentInputSnapshot=N;const Q=n[y].update(N.val());if(Q!==void 0){Gc("transaction failed: Data returned ",Q,g.path);let le=Kt(Q);typeof Q=="object"&&Q!=null&&Ii(Q,".priority")||(le=le.updatePriority(N.getPriority()));const ve=g.currentWriteId,Ne=om(s),je=j_(le,N,Ne);g.currentOutputSnapshotRaw=le,g.currentOutputSnapshotResolved=je,g.currentWriteId=K_(s),m.splice(m.indexOf(ve),1),o=o.concat(k_(s.serverSyncTree_,g.path,je,g.currentWriteId,g.applyLocally)),o=o.concat(Ga(s.serverSyncTree_,ve,!0))}else A=!0,x="nodata",o=o.concat(Ga(s.serverSyncTree_,g.currentWriteId,!0))}Sr(s.eventQueue_,r,o),o=[],A&&(n[y].status=2,function(N){setTimeout(N,Math.floor(0))}(n[y].unwatcher),n[y].onComplete&&(x==="nodata"?a.push(()=>n[y].onComplete(null,!1,n[y].currentInputSnapshot)):a.push(()=>n[y].onComplete(new Error(x),!1,null))))}Xc(s,s.transactionQueueTree_);for(let y=0;y<a.length;y++)pl(a[y]);fm(s,s.transactionQueueTree_)}function Q_(s,n){let r,a=s.transactionQueueTree_;for(r=We(n);r!==null&&vl(a)===void 0;)a=am(a,r),n=Et(n),r=We(n);return a}function X_(s,n){const r=[];return Z_(s,n,r),r.sort((a,o)=>a.order-o.order),r}function Z_(s,n,r){const a=vl(n);if(a)for(let o=0;o<a.length;o++)r.push(a[o]);Kc(n,o=>{Z_(s,o,r)})}function Xc(s,n){const r=vl(n);if(r){let a=0;for(let o=0;o<r.length;o++)r[o].status!==2&&(r[a]=r[o],a++);r.length=a,B_(n,r.length>0?r:void 0)}Kc(n,a=>{Xc(s,a)})}function W_(s,n){const r=Fo(Q_(s,n)),a=am(s.transactionQueueTree_,n);return jw(a,o=>{Jh(s,o)}),Jh(s,a),I_(a,o=>{Jh(s,o)}),r}function Jh(s,n){const r=vl(n);if(r){const a=[];let o=[],h=-1;for(let m=0;m<r.length;m++)r[m].status===3||(r[m].status===1?(_e(h===m-1,"All SENT items should be at beginning of queue."),h=m,r[m].status=3,r[m].abortReason="set"):(_e(r[m].status===0,"Unexpected transaction status in abort"),r[m].unwatcher(),o=o.concat(Ga(s.serverSyncTree_,r[m].currentWriteId,!0)),r[m].onComplete&&a.push(r[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?B_(n,void 0):r.length=h+1,Sr(s.eventQueue_,Fo(n),o);for(let m=0;m<a.length;m++)pl(a[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(s){let n="";const r=s.split("/");for(let a=0;a<r.length;a++)if(r[a].length>0){let o=r[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function fT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const r of s.split("&")){if(r.length===0)continue;const a=r.split("=");a.length===2?n[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Un(`Invalid query segment '${r}' in query '${s}'`)}return n}const Kv=function(s,n){const r=hT(s),a=r.namespace;r.domain==="firebase.com"&&Er(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&r.domain!=="localhost"&&Er("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||bE();const o=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new i_(r.host,r.secure,a,o,n,"",a!==r.subdomain),path:new ht(r.pathString)}},hT=function(s){let n="",r="",a="",o="",h="",m=!0,y="https",g=443;if(typeof s=="string"){let E=s.indexOf("//");E>=0&&(y=s.substring(0,E-1),s=s.substring(E+2));let A=s.indexOf("/");A===-1&&(A=s.length);let x=s.indexOf("?");x===-1&&(x=s.length),n=s.substring(0,Math.min(A,x)),A<x&&(o=cT(s.substring(A,x)));const N=fT(s.substring(Math.min(s.length,x)));E=n.indexOf(":"),E>=0?(m=y==="https"||y==="wss",g=parseInt(n.substring(E+1),10)):E=n.length;const Q=n.slice(0,E);if(Q.toLowerCase()==="localhost")r="localhost";else if(Q.split(".").length<=2)r=Q;else{const le=n.indexOf(".");a=n.substring(0,le).toLowerCase(),r=n.substring(le+1),h=a}"ns"in N&&(h=N.ns)}return{host:n,port:g,domain:r,subdomain:a,secure:m,scheme:y,pathString:o,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dT=function(){let s=0;const n=[];return function(r){const a=r===s;s=r;let o;const h=new Array(8);for(o=7;o>=0;o--)h[o]=Gv.charAt(r%64),r=Math.floor(r/64);_e(r===0,"Cannot push at time == 0");let m=h.join("");if(a){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)m+=Gv.charAt(n[o]);return _e(m.length===20,"nextPushId: Length should be 20."),m}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(n,r,a,o){this.eventType=n,this.eventRegistration=r,this.snapshot=a,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+un(this.snapshot.exportVal())}}class pT{constructor(n,r,a){this.eventRegistration=n,this.error=r,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(n,r){this.snapshotCallback=n,this.cancelCallback=r}onValue(n,r){this.snapshotCallback.call(null,n,r)}onCancel(n){return _e(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(n,r){this._repo=n,this._path=r}cancel(){const n=new ra;return nT(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Qa("OnDisconnect.remove",this._path);const n=new ra;return Fv(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Qa("OnDisconnect.set",this._path),Lc("OnDisconnect.set",n,this._path,!1);const r=new ra;return Fv(this._repo,this._path,n,r.wrapCallback(()=>{})),r.promise}setWithPriority(n,r){Qa("OnDisconnect.setWithPriority",this._path),Lc("OnDisconnect.setWithPriority",n,this._path,!1),Vw("OnDisconnect.setWithPriority",r);const a=new ra;return iT(this._repo,this._path,n,r,a.wrapCallback(()=>{})),a.promise}update(n){Qa("OnDisconnect.update",this._path),Yw("OnDisconnect.update",n,this._path);const r=new ra;return rT(this._repo,this._path,n,r.wrapCallback(()=>{})),r.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(n,r,a,o){this._repo=n,this._path=r,this._queryParams=a,this._orderByCalled=o}get key(){return tt(this._path)?null:Bd(this._path)}get ref(){return new fa(this._repo,this._path)}get _queryIdentifier(){const n=Mv(this._queryParams),r=Ld(n);return r==="{}"?"default":r}get _queryObject(){return Mv(this._queryParams)}isEqual(n){if(n=es(n),!(n instanceof hm))return!1;const r=this._repo===n._repo,a=qd(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return r&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+iS(this._path)}}class fa extends hm{constructor(n,r){super(n,r,new Yd,!1)}get parent(){const n=h_(this._path);return n===null?null:new fa(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Uc{constructor(n,r,a){this._node=n,this.ref=r,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const r=new ht(n),a=qo(this.ref,n);return new Uc(this._node.getChild(r),a,Nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>n(new Uc(o,qo(this.ref,a),Nt)))}hasChild(n){const r=new ht(n);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fc(s,n){return s=es(s),s._checkNotDeleted("ref"),n!==void 0?qo(s._root,n):s._root}function qo(s,n){return s=es(s),We(s._path)===null?Pw("child","path",n):Y_("child","path",n),new fa(s._repo,Bt(s._path,n))}function Qv(s){return s=es(s),new vT(s._repo,s._path)}function Xv(s,n){s=es(s),Qa("push",s._path),Lc("push",n,s._path,!0);const r=F_(s._repo),a=dT(r),o=qo(s,a),h=qo(s,a);let m;return m=Promise.resolve(h),o.then=m.then.bind(m),o.catch=m.then.bind(m,void 0),o}function ed(s){return Qa("remove",s._path),J_(s,null)}function J_(s,n){s=es(s),Qa("set",s._path),Lc("set",n,s._path,!1);const r=new ra;return eT(s._repo,s._path,n,null,r.wrapCallback(()=>{})),r.promise}class dm{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,r){const a=r._queryParams.getIndex();return new mT("value",this,new Uc(n.snapshotNode,new fa(r._repo,r._path),a))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,r){return this.callbackContext.hasCancelCallback?new pT(this,n,r):null}matches(n){return n instanceof dm?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function gT(s,n,r,a,o){const h=new yT(r,void 0),m=new dm(h);return aT(s._repo,s,m),()=>sT(s._repo,s,m)}function e0(s,n,r,a){return gT(s,"value",n)}mw(fa);bw(fa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="FIREBASE_DATABASE_EMULATOR_HOST",Ed={};let bT=!1;function ET(s,n,r,a){s.repoInfo_=new i_(n,!1,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,r),a&&(s.authTokenProvider_=a)}function ST(s,n,r,a,o){let h=a||s.options.databaseURL;h===void 0&&(s.options.projectId||Er("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gn("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let m=Kv(h,o),y=m.repoInfo,g;typeof process<"u"&&hv&&(g=hv[_T]),g?(h=`http://${g}?ns=${y.namespace}`,m=Kv(h,o),y=m.repoInfo):m.repoInfo.secure;const E=new RE(s.name,s.options,n);Fw("Invalid Firebase Database URL",m),tt(m.path)||Er("Database URL must point to the root of a Firebase Database (not including a child path).");const A=TT(y,s,E,new ME(s,r));return new xT(A,s)}function wT(s,n){const r=Ed[n];(!r||r[s.key]!==s)&&Er(`Database ${n}(${s.repoInfo_}) has already been deleted.`),lT(s),delete r[s.key]}function TT(s,n,r,a){let o=Ed[n.name];o||(o={},Ed[n.name]=o);let h=o[s.toURLString()];return h&&Er("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new Zw(s,bT,r,a),o[s.toURLString()]=h,h}class xT{constructor(n,r){this._repoInternal=n,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ww(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fa(this._repo,ct())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Er("Cannot call "+n+" on a deleted database.")}}function t0(s=Qb(),n){const r=Xb(s,"database").getImmediate({identifier:n});if(!r._instanceStarted){const a=Zb("database");a&&CT(r,...a)}return r}function CT(s,n,r,a={}){s=es(s),s._checkNotDeleted("useEmulator");const o=`${n}:${r}`,h=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Wb(a,h.repoInfo_.emulatorOptions))return;Er("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)a.mockUserToken&&Er('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new cc(cc.OWNER);else if(a.mockUserToken){const y=typeof a.mockUserToken=="string"?a.mockUserToken:Jb(a.mockUserToken,s.app.options.projectId);m=new cc(y)}ET(h,o,a,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(s){mE(e1),Ub(new zb("database",(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return ST(a,o,h,r)},"PUBLIC").setMultipleInstances(!0)),Zy(dv,mv,s),Zy(dv,mv,"esm2017")}_r.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};_r.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};AT();var td={exports:{}};const OT={},DT=Object.freeze(Object.defineProperty({__proto__:null,default:OT},Symbol.toStringTag,{value:"Module"})),Zv=Mb(DT);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */var Wv;function MT(){return Wv||(Wv=1,function(s){(function(){var n="input is invalid type",r=typeof window=="object",a=r?window:{};a.JS_SHA256_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",h=!a.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?a=vg:o&&(a=self);var m=!a.JS_SHA256_NO_COMMON_JS&&!0&&s.exports,y=!a.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",g="0123456789abcdef".split(""),E=[-2147483648,8388608,32768,128],A=[24,16,8,0],x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],N=["hex","array","digest","arrayBuffer"],Q=[];(a.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),y&&(a.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});var le=function(I,ne){return function(Se){return new De(ne,!0).update(Se)[I]()}},Ce=function(I){var ne=le("hex",I);h&&(ne=ve(ne,I)),ne.create=function(){return new De(I)},ne.update=function(oe){return ne.create().update(oe)};for(var Se=0;Se<N.length;++Se){var Z=N[Se];ne[Z]=le(Z,I)}return ne},ve=function(I,ne){var Se=Zv,Z=Zv.Buffer,oe=ne?"sha224":"sha256",W;Z.from&&!a.JS_SHA256_NO_BUFFER_FROM?W=Z.from:W=function(ie){return new Z(ie)};var Re=function(ie){if(typeof ie=="string")return Se.createHash(oe).update(ie,"utf8").digest("hex");if(ie==null)throw new Error(n);return ie.constructor===ArrayBuffer&&(ie=new Uint8Array(ie)),Array.isArray(ie)||ArrayBuffer.isView(ie)||ie.constructor===Z?Se.createHash(oe).update(W(ie)).digest("hex"):I(ie)};return Re},Ne=function(I,ne){return function(Se,Z){return new Je(Se,ne,!0).update(Z)[I]()}},je=function(I){var ne=Ne("hex",I);ne.create=function(oe){return new Je(oe,I)},ne.update=function(oe,W){return ne.create(oe).update(W)};for(var Se=0;Se<N.length;++Se){var Z=N[Se];ne[Z]=Ne(Z,I)}return ne};function De(I,ne){ne?(Q[0]=Q[16]=Q[1]=Q[2]=Q[3]=Q[4]=Q[5]=Q[6]=Q[7]=Q[8]=Q[9]=Q[10]=Q[11]=Q[12]=Q[13]=Q[14]=Q[15]=0,this.blocks=Q):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=I}De.prototype.update=function(I){if(!this.finalized){var ne,Se=typeof I;if(Se!=="string"){if(Se==="object"){if(I===null)throw new Error(n);if(y&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!y||!ArrayBuffer.isView(I)))throw new Error(n)}else throw new Error(n);ne=!0}for(var Z,oe=0,W,Re=I.length,ie=this.blocks;oe<Re;){if(this.hashed&&(this.hashed=!1,ie[0]=this.block,this.block=ie[16]=ie[1]=ie[2]=ie[3]=ie[4]=ie[5]=ie[6]=ie[7]=ie[8]=ie[9]=ie[10]=ie[11]=ie[12]=ie[13]=ie[14]=ie[15]=0),ne)for(W=this.start;oe<Re&&W<64;++oe)ie[W>>>2]|=I[oe]<<A[W++&3];else for(W=this.start;oe<Re&&W<64;++oe)Z=I.charCodeAt(oe),Z<128?ie[W>>>2]|=Z<<A[W++&3]:Z<2048?(ie[W>>>2]|=(192|Z>>>6)<<A[W++&3],ie[W>>>2]|=(128|Z&63)<<A[W++&3]):Z<55296||Z>=57344?(ie[W>>>2]|=(224|Z>>>12)<<A[W++&3],ie[W>>>2]|=(128|Z>>>6&63)<<A[W++&3],ie[W>>>2]|=(128|Z&63)<<A[W++&3]):(Z=65536+((Z&1023)<<10|I.charCodeAt(++oe)&1023),ie[W>>>2]|=(240|Z>>>18)<<A[W++&3],ie[W>>>2]|=(128|Z>>>12&63)<<A[W++&3],ie[W>>>2]|=(128|Z>>>6&63)<<A[W++&3],ie[W>>>2]|=(128|Z&63)<<A[W++&3]);this.lastByteIndex=W,this.bytes+=W-this.start,W>=64?(this.block=ie[16],this.start=W-64,this.hash(),this.hashed=!0):this.start=W}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},De.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,ne=this.lastByteIndex;I[16]=this.block,I[ne>>>2]|=E[ne&3],this.block=I[16],ne>=56&&(this.hashed||this.hash(),I[0]=this.block,I[16]=I[1]=I[2]=I[3]=I[4]=I[5]=I[6]=I[7]=I[8]=I[9]=I[10]=I[11]=I[12]=I[13]=I[14]=I[15]=0),I[14]=this.hBytes<<3|this.bytes>>>29,I[15]=this.bytes<<3,this.hash()}},De.prototype.hash=function(){var I=this.h0,ne=this.h1,Se=this.h2,Z=this.h3,oe=this.h4,W=this.h5,Re=this.h6,ie=this.h7,fe=this.blocks,ue,Y,re,X,ae,ye,ke,Ge,Ve,Le,it;for(ue=16;ue<64;++ue)ae=fe[ue-15],Y=(ae>>>7|ae<<25)^(ae>>>18|ae<<14)^ae>>>3,ae=fe[ue-2],re=(ae>>>17|ae<<15)^(ae>>>19|ae<<13)^ae>>>10,fe[ue]=fe[ue-16]+Y+fe[ue-7]+re<<0;for(it=ne&Se,ue=0;ue<64;ue+=4)this.first?(this.is224?(Ge=300032,ae=fe[0]-1413257819,ie=ae-150054599<<0,Z=ae+24177077<<0):(Ge=704751109,ae=fe[0]-210244248,ie=ae-1521486534<<0,Z=ae+143694565<<0),this.first=!1):(Y=(I>>>2|I<<30)^(I>>>13|I<<19)^(I>>>22|I<<10),re=(oe>>>6|oe<<26)^(oe>>>11|oe<<21)^(oe>>>25|oe<<7),Ge=I&ne,X=Ge^I&Se^it,ke=oe&W^~oe&Re,ae=ie+re+ke+x[ue]+fe[ue],ye=Y+X,ie=Z+ae<<0,Z=ae+ye<<0),Y=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),re=(ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7),Ve=Z&I,X=Ve^Z&ne^Ge,ke=ie&oe^~ie&W,ae=Re+re+ke+x[ue+1]+fe[ue+1],ye=Y+X,Re=Se+ae<<0,Se=ae+ye<<0,Y=(Se>>>2|Se<<30)^(Se>>>13|Se<<19)^(Se>>>22|Se<<10),re=(Re>>>6|Re<<26)^(Re>>>11|Re<<21)^(Re>>>25|Re<<7),Le=Se&Z,X=Le^Se&I^Ve,ke=Re&ie^~Re&oe,ae=W+re+ke+x[ue+2]+fe[ue+2],ye=Y+X,W=ne+ae<<0,ne=ae+ye<<0,Y=(ne>>>2|ne<<30)^(ne>>>13|ne<<19)^(ne>>>22|ne<<10),re=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),it=ne&Se,X=it^ne&Z^Le,ke=W&Re^~W&ie,ae=oe+re+ke+x[ue+3]+fe[ue+3],ye=Y+X,oe=I+ae<<0,I=ae+ye<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+I<<0,this.h1=this.h1+ne<<0,this.h2=this.h2+Se<<0,this.h3=this.h3+Z<<0,this.h4=this.h4+oe<<0,this.h5=this.h5+W<<0,this.h6=this.h6+Re<<0,this.h7=this.h7+ie<<0},De.prototype.hex=function(){this.finalize();var I=this.h0,ne=this.h1,Se=this.h2,Z=this.h3,oe=this.h4,W=this.h5,Re=this.h6,ie=this.h7,fe=g[I>>>28&15]+g[I>>>24&15]+g[I>>>20&15]+g[I>>>16&15]+g[I>>>12&15]+g[I>>>8&15]+g[I>>>4&15]+g[I&15]+g[ne>>>28&15]+g[ne>>>24&15]+g[ne>>>20&15]+g[ne>>>16&15]+g[ne>>>12&15]+g[ne>>>8&15]+g[ne>>>4&15]+g[ne&15]+g[Se>>>28&15]+g[Se>>>24&15]+g[Se>>>20&15]+g[Se>>>16&15]+g[Se>>>12&15]+g[Se>>>8&15]+g[Se>>>4&15]+g[Se&15]+g[Z>>>28&15]+g[Z>>>24&15]+g[Z>>>20&15]+g[Z>>>16&15]+g[Z>>>12&15]+g[Z>>>8&15]+g[Z>>>4&15]+g[Z&15]+g[oe>>>28&15]+g[oe>>>24&15]+g[oe>>>20&15]+g[oe>>>16&15]+g[oe>>>12&15]+g[oe>>>8&15]+g[oe>>>4&15]+g[oe&15]+g[W>>>28&15]+g[W>>>24&15]+g[W>>>20&15]+g[W>>>16&15]+g[W>>>12&15]+g[W>>>8&15]+g[W>>>4&15]+g[W&15]+g[Re>>>28&15]+g[Re>>>24&15]+g[Re>>>20&15]+g[Re>>>16&15]+g[Re>>>12&15]+g[Re>>>8&15]+g[Re>>>4&15]+g[Re&15];return this.is224||(fe+=g[ie>>>28&15]+g[ie>>>24&15]+g[ie>>>20&15]+g[ie>>>16&15]+g[ie>>>12&15]+g[ie>>>8&15]+g[ie>>>4&15]+g[ie&15]),fe},De.prototype.toString=De.prototype.hex,De.prototype.digest=function(){this.finalize();var I=this.h0,ne=this.h1,Se=this.h2,Z=this.h3,oe=this.h4,W=this.h5,Re=this.h6,ie=this.h7,fe=[I>>>24&255,I>>>16&255,I>>>8&255,I&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,Se>>>24&255,Se>>>16&255,Se>>>8&255,Se&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255,Re>>>24&255,Re>>>16&255,Re>>>8&255,Re&255];return this.is224||fe.push(ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255),fe},De.prototype.array=De.prototype.digest,De.prototype.arrayBuffer=function(){this.finalize();var I=new ArrayBuffer(this.is224?28:32),ne=new DataView(I);return ne.setUint32(0,this.h0),ne.setUint32(4,this.h1),ne.setUint32(8,this.h2),ne.setUint32(12,this.h3),ne.setUint32(16,this.h4),ne.setUint32(20,this.h5),ne.setUint32(24,this.h6),this.is224||ne.setUint32(28,this.h7),I};function Je(I,ne,Se){var Z,oe=typeof I;if(oe==="string"){var W=[],Re=I.length,ie=0,fe;for(Z=0;Z<Re;++Z)fe=I.charCodeAt(Z),fe<128?W[ie++]=fe:fe<2048?(W[ie++]=192|fe>>>6,W[ie++]=128|fe&63):fe<55296||fe>=57344?(W[ie++]=224|fe>>>12,W[ie++]=128|fe>>>6&63,W[ie++]=128|fe&63):(fe=65536+((fe&1023)<<10|I.charCodeAt(++Z)&1023),W[ie++]=240|fe>>>18,W[ie++]=128|fe>>>12&63,W[ie++]=128|fe>>>6&63,W[ie++]=128|fe&63);I=W}else if(oe==="object"){if(I===null)throw new Error(n);if(y&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!y||!ArrayBuffer.isView(I)))throw new Error(n)}else throw new Error(n);I.length>64&&(I=new De(ne,!0).update(I).array());var ue=[],Y=[];for(Z=0;Z<64;++Z){var re=I[Z]||0;ue[Z]=92^re,Y[Z]=54^re}De.call(this,ne,Se),this.update(Y),this.oKeyPad=ue,this.inner=!0,this.sharedMemory=Se}Je.prototype=new De,Je.prototype.finalize=function(){if(De.prototype.finalize.call(this),this.inner){this.inner=!1;var I=this.array();De.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(I),De.prototype.finalize.call(this)}};var Ae=Ce();Ae.sha256=Ae,Ae.sha224=Ce(!0),Ae.sha256.hmac=je(),Ae.sha224.hmac=je(!0),m?s.exports=Ae:(a.sha256=Ae.sha256,a.sha224=Ae.sha224)})()}(td)),td.exports}var RT=MT();const NT={apiKey:"AIzaSyCKS7tWQRYRWHsawNfN42uAmISdUbJHJJw",authDomain:"blitzout-49b39.firebaseapp.com",projectId:"blitzout-49b39",storageBucket:"blitzout-49b39.appspot.com",messagingSenderId:"852428606926",appId:"1:852428606926:web:17444e6f8dbc2f95f0ef9f",measurementId:"G-93YN1YMTQ7"},kT=t1(NT),Tr=bg(kT);async function LT(s=""){try{const n=An();return await m1(n),await Cd(n.currentUser,{displayName:s}),n.currentUser}catch(n){return console.error(n),null}}async function UT(s,n,r=""){try{const a=An(),o=await o1(a,s,n);return await Cd(o.user,{displayName:r}),o.user}catch(a){throw console.error("Registration error:",a),a}}async function zT(s,n){try{const r=An();return(await a1(r,s,n)).user}catch(r){throw console.error("Email login error:",r),r}}async function jT(){try{const s=An(),n=new s1;return(await l1(s,n)).user}catch(s){throw console.error("Google login error:",s),s}}async function BT(s){try{const n=An();return await d1(n,s),!0}catch(n){throw console.error("Password reset error:",n),n}}async function qT(s,n){try{const a=An().currentUser;if(a!=null&&a.isAnonymous){const o=f1.credential(s,n);return(await h1(a,o)).user}else throw new Error("User is not anonymous or not logged in")}catch(r){throw console.error("Account conversion error:",r),r}}async function IT(){try{const s=An();return await c1(s),!0}catch(s){throw console.error(s),s}}function AC({newRoom:s,oldRoom:n,newDisplayName:r,oldDisplayName:a,removeOnDisconnect:o=!0}){var Ce;const h=t0(),y=(Ce=An().currentUser)==null?void 0:Ce.uid,g=s==null?void 0:s.toUpperCase(),E=n==null?void 0:n.toUpperCase(),A=fc(h,`rooms/${g}/uids/${y}`),x=fc(h,`rooms/${E}/uids/${y}`),N=fc(h,".info/connected");let Q,le;e0(N,ve=>{ve.val()===!0&&(Q=Xv(A),le=Xv(x),(E!==g||a!==r)&&ed(x),o&&(Qv(le).remove(),Qv(Q).remove()),J_(Q,{displayName:r,lastActive:Date.now()}))}),document.addEventListener("beforeunload",()=>{le&&ed(le),Q&&ed(Q)})}function HT(s,n,r={}){const a=t0(),o=fc(a,`rooms/${s==null?void 0:s.toUpperCase()}/uids`);e0(o,h=>{const m=h.val();if(!m)return;const y=Object.keys(m).sort().join(","),g=r?Object.keys(r).sort().join(","):"";y!==g&&n(m)})}async function $T(s=""){try{const n=An();return await Cd(n.currentUser,{displayName:s}),n.currentUser}catch(n){return console.error(n),null}}async function OC(s,n){try{await Bc(ts(Tr,"custom-actions"),{grouping:s,customAction:n,ttl:new Date(Date.now()+4*24*60*60*1e3)})}catch(r){console.error(r)}}async function YT(s){const n=Ad(ts(Tr,"game-boards"),Od("checksum","==",s)),r=await u1(n);return r.size?r.docs[0]:null}async function DC({title:s,gameBoard:n,settings:r}){if(s)try{const a=RT.sha256(n),o=await YT(a);return o?(i1(o.ref,{ttl:new Date(Date.now()+30*24*60*60*1e3)}),o):await VT({title:s,gameBoard:n,settings:r,checksum:a})}catch(a){console.error(a)}}async function VT({title:s,gameBoard:n,settings:r,checksum:a}){try{return await Bc(ts(Tr,"game-boards"),{title:s,gameBoard:n,settings:r,checksum:a,ttl:new Date(Date.now()+30*24*60*60*1e3)})}catch(o){console.error(o)}}async function MC(s){try{const n=Ho(Tr,"game-boards",s),r=await Eg(n);if(r.exists())return r.data()}catch(n){console.error(n)}}let Jv={};async function RC({room:s,user:n,text:r="",type:a="chat",...o}){const h=["chat","actions","settings","room","media"];if(!h.includes(a)){let g="Invalid message type. Was expecting ";return g+=h.join(", "),g+=` but got ${a}`,console.error(g)}const m={room:s,user:n.uid,text:r,type:a,...o};if(JSON.stringify(m)===JSON.stringify(Jv))return;Jv=m;const y=Date.now();try{return await Bc(ts(Tr,"chat-rooms",s==null?void 0:s.toUpperCase(),"messages"),{uid:n.uid,displayName:n.displayName,text:r.trim(),timestamp:n1(),ttl:new Date(y+24*60*60*1e3),type:a,...o})}catch(g){return console.error(g)}}async function NC(s,n){return r1(Ho(Tr,`/chat-rooms/${s.toUpperCase()}/messages/${n}`))}function PT(s,n){if(!s)return;const r=new Date;return r.setHours(r.getHours()-2),Sg(Ad(ts(Tr,"chat-rooms",s==null?void 0:s.toUpperCase(),"messages"),Od("timestamp",">",r),wg("timestamp","asc")),a=>{const o=a.docs.map(h=>({id:h.id,...h.data()}));n(o)})}function FT(s){return Sg(Ad(ts(Tr,"schedule"),Od("dateTime",">",new Date),wg("dateTime","asc")),n=>{const r=n.docs.map(a=>({id:a.id,...a.data()}));s(r)})}async function KT(s,n,r="PUBLIC"){try{return await Bc(ts(Tr,"schedule"),{dateTime:p1.fromDate(s),url:n,room:r})}catch(a){return console.error(a)}}const GT=(s,n,r)=>{const a=s[n];return a?typeof a=="function"?a():Promise.resolve(a):new Promise((o,h)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(h.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==r?". Note that variables only represent file names one level deep.":""))))})};var QT=function(n){return{type:"backend",init:function(a,o,h){},read:function(a,o,h){if(typeof n=="function"){if(n.length<3){try{var m=n(a,o);m&&typeof m.then=="function"?m.then(function(y){return h(null,y&&y.default||y)}).catch(h):h(null,m)}catch(y){h(y)}return}n(a,o,h);return}h(null,n&&n[a]&&n[a][o])}}};const{slice:XT,forEach:ZT}=[];function WT(s){return ZT.call(XT.call(arguments,1),n=>{if(n)for(const r in n)s[r]===void 0&&(s[r]=n[r])}),s}const eg=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,JT=function(s,n){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(n);let h=`${s}=${o}`;if(a.maxAge>0){const m=a.maxAge-0;if(Number.isNaN(m))throw new Error("maxAge should be a Number");h+=`; Max-Age=${Math.floor(m)}`}if(a.domain){if(!eg.test(a.domain))throw new TypeError("option domain is invalid");h+=`; Domain=${a.domain}`}if(a.path){if(!eg.test(a.path))throw new TypeError("option path is invalid");h+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(h+="; HttpOnly"),a.secure&&(h+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return h},tg={create(s,n,r,a){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+r*60*1e3)),a&&(o.domain=a),document.cookie=JT(s,encodeURIComponent(n),o)},read(s){const n=`${s}=`,r=document.cookie.split(";");for(let a=0;a<r.length;a++){let o=r[a];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(n)===0)return o.substring(n.length,o.length)}return null},remove(s){this.create(s,"",-1)}};var ex={name:"cookie",lookup(s){let{lookupCookie:n}=s;if(n&&typeof document<"u")return tg.read(n)||void 0},cacheUserLanguage(s,n){let{lookupCookie:r,cookieMinutes:a,cookieDomain:o,cookieOptions:h}=n;r&&typeof document<"u"&&tg.create(r,s,a,o,h)}},tx={name:"querystring",lookup(s){var a;let{lookupQuerystring:n}=s,r;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((a=window.location.hash)==null?void 0:a.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const m=o.substring(1).split("&");for(let y=0;y<m.length;y++){const g=m[y].indexOf("=");g>0&&m[y].substring(0,g)===n&&(r=m[y].substring(g+1))}}return r}};let il=null;const ng=()=>{if(il!==null)return il;try{if(il=typeof window<"u"&&window.localStorage!==null,!il)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{il=!1}return il};var nx={name:"localStorage",lookup(s){let{lookupLocalStorage:n}=s;if(n&&ng())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupLocalStorage:r}=n;r&&ng()&&window.localStorage.setItem(r,s)}};let rl=null;const ig=()=>{if(rl!==null)return rl;try{if(rl=typeof window<"u"&&window.sessionStorage!==null,!rl)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{rl=!1}return rl};var ix={name:"sessionStorage",lookup(s){let{lookupSessionStorage:n}=s;if(n&&ig())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupSessionStorage:r}=n;r&&ig()&&window.sessionStorage.setItem(r,s)}},rx={name:"navigator",lookup(s){const n=[];if(typeof navigator<"u"){const{languages:r,userLanguage:a,language:o}=navigator;if(r)for(let h=0;h<r.length;h++)n.push(r[h]);a&&n.push(a),o&&n.push(o)}return n.length>0?n:void 0}},ax={name:"htmlTag",lookup(s){let{htmlTag:n}=s,r;const a=n||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(r=a.getAttribute("lang")),r}},sx={name:"path",lookup(s){var o;let{lookupFromPathIndex:n}=s;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(o=r[typeof n=="number"?n:0])==null?void 0:o.replace("/",""):void 0}},lx={name:"subdomain",lookup(s){var o,h;let{lookupFromSubdomainIndex:n}=s;const r=typeof n=="number"?n+1:1,a=typeof window<"u"&&((h=(o=window.location)==null?void 0:o.hostname)==null?void 0:h.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(a)return a[r]}};let n0=!1;try{document.cookie,n0=!0}catch{}const i0=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];n0||i0.splice(1,1);const ox=()=>({order:i0,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class r0{constructor(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,r)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=WT(r,this.options||{},ox()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(ex),this.addDetector(tx),this.addDetector(nx),this.addDetector(ix),this.addDetector(rx),this.addDetector(ax),this.addDetector(sx),this.addDetector(lx)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return n.forEach(a=>{if(this.detectors[a]){let o=this.detectors[a].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),r=r.map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||r.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(n,this.options)}))}}r0.type="languageDetector";const rg=xg.use(y1).use(r0).use(QT((s,n)=>GT(Object.assign({"./locales/en/translation.json":()=>he(()=>import("./translation-g0hLYVXo.js"),[]),"./locales/es/translation.json":()=>he(()=>import("./translation-f-UUY9pv.js"),[]),"./locales/fr/translation.json":()=>he(()=>import("./translation-DbS8YJw6.js"),[])}),`./locales/${s}/${n}.json`,4))).init({fallbackLng:"en",supportedLngs:["en","es","fr"],ns:["translation","errors"],defaultNS:"translation",interpolation:{escapeValue:!1},react:{useSuspense:!0},detection:{order:["querystring","cookie","localStorage","navigator","htmlTag"],caches:["localStorage","cookie"]}});function ux(s={tables:["customTiles","gameBoard"]}){const{tables:n}=s,r=new Set(n),a={timeouts:{},queue:new Set,scheduleSync(o){this.timeouts[o]&&clearTimeout(this.timeouts[o]),this.queue.add(o),this.timeouts[o]=setTimeout(()=>{this.processSyncQueue()},2e3)},processSyncQueue(){var o;this.queue.size!==0&&((o=window.authContext)!=null&&o.user&&!window.authContext.user.isAnonymous&&window.authContext.syncData(),this.queue.clear(),Object.keys(this.timeouts).forEach(h=>{clearTimeout(this.timeouts[h]),delete this.timeouts[h]}))}};return{stack:"dbcore",name:"syncMiddleware",create(o){return{...o,table(h){const m=o.table(h);return r.has(h)?{...m,mutate:async y=>{const g=await m.mutate(y);return["put","add","delete","deleteRange","update"].includes(y.type)&&a.scheduleSync(h),g}}:m}}}}}var hc={exports:{}},cx=hc.exports,ag;function fx(){return ag||(ag=1,function(s,n){(function(r,a){s.exports=a()})(cx,function(){var r=function(u,f){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(p[b]=v[b])})(u,f)},a=function(){return(a=Object.assign||function(u){for(var f,p=1,v=arguments.length;p<v;p++)for(var b in f=arguments[p])Object.prototype.hasOwnProperty.call(f,b)&&(u[b]=f[b]);return u}).apply(this,arguments)};function o(u,f,p){for(var v,b=0,S=f.length;b<S;b++)!v&&b in f||((v=v||Array.prototype.slice.call(f,0,b))[b]=f[b]);return u.concat(v||Array.prototype.slice.call(f))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:vg,m=Object.keys,y=Array.isArray;function g(u,f){return typeof f!="object"||m(f).forEach(function(p){u[p]=f[p]}),u}typeof Promise>"u"||h.Promise||(h.Promise=Promise);var E=Object.getPrototypeOf,A={}.hasOwnProperty;function x(u,f){return A.call(u,f)}function N(u,f){typeof f=="function"&&(f=f(E(u))),(typeof Reflect>"u"?m:Reflect.ownKeys)(f).forEach(function(p){le(u,p,f[p])})}var Q=Object.defineProperty;function le(u,f,p,v){Q(u,f,g(p&&x(p,"get")&&typeof p.get=="function"?{get:p.get,set:p.set,configurable:!0}:{value:p,configurable:!0,writable:!0},v))}function Ce(u){return{from:function(f){return u.prototype=Object.create(f.prototype),le(u.prototype,"constructor",u),{extend:N.bind(null,u.prototype)}}}}var ve=Object.getOwnPropertyDescriptor,Ne=[].slice;function je(u,f,p){return Ne.call(u,f,p)}function De(u,f){return f(u)}function Je(u){if(!u)throw new Error("Assertion Failed")}function Ae(u){h.setImmediate?setImmediate(u):setTimeout(u,0)}function I(u,f){if(typeof f=="string"&&x(u,f))return u[f];if(!f)return u;if(typeof f!="string"){for(var p=[],v=0,b=f.length;v<b;++v){var S=I(u,f[v]);p.push(S)}return p}var T=f.indexOf(".");if(T!==-1){var O=u[f.substr(0,T)];return O==null?void 0:I(O,f.substr(T+1))}}function ne(u,f,p){if(u&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(u)))if(typeof f!="string"&&"length"in f){Je(typeof p!="string"&&"length"in p);for(var v=0,b=f.length;v<b;++v)ne(u,f[v],p[v])}else{var S,T,O=f.indexOf(".");O!==-1?(S=f.substr(0,O),(T=f.substr(O+1))===""?p===void 0?y(u)&&!isNaN(parseInt(S))?u.splice(S,1):delete u[S]:u[S]=p:ne(O=!(O=u[S])||!x(u,S)?u[S]={}:O,T,p)):p===void 0?y(u)&&!isNaN(parseInt(f))?u.splice(f,1):delete u[f]:u[f]=p}}function Se(u){var f,p={};for(f in u)x(u,f)&&(p[f]=u[f]);return p}var Z=[].concat;function oe(u){return Z.apply([],u)}var Si="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(oe([8,16,32,64].map(function(u){return["Int","Uint","Float"].map(function(f){return f+u+"Array"})}))).filter(function(u){return h[u]}),W=new Set(Si.map(function(u){return h[u]})),Re=null;function ie(u){return Re=new WeakMap,u=function f(p){if(!p||typeof p!="object")return p;var v=Re.get(p);if(v)return v;if(y(p)){v=[],Re.set(p,v);for(var b=0,S=p.length;b<S;++b)v.push(f(p[b]))}else if(W.has(p.constructor))v=p;else{var T,O=E(p);for(T in v=O===Object.prototype?{}:Object.create(O),Re.set(p,v),p)x(p,T)&&(v[T]=f(p[T]))}return v}(u),Re=null,u}var fe={}.toString;function ue(u){return fe.call(u).slice(8,-1)}var Y=typeof Symbol<"u"?Symbol.iterator:"@@iterator",re=typeof Y=="symbol"?function(u){var f;return u!=null&&(f=u[Y])&&f.apply(u)}:function(){return null};function X(u,f){return f=u.indexOf(f),0<=f&&u.splice(f,1),0<=f}var ae={};function ye(u){var f,p,v,b;if(arguments.length===1){if(y(u))return u.slice();if(this===ae&&typeof u=="string")return[u];if(b=re(u)){for(p=[];!(v=b.next()).done;)p.push(v.value);return p}if(u==null)return[u];if(typeof(f=u.length)!="number")return[u];for(p=new Array(f);f--;)p[f]=u[f];return p}for(f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];return p}var ke=typeof Symbol<"u"?function(u){return u[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},da=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Tn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(da),Ge={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ve(u,f){this.name=u,this.message=f}function Le(u,f){return u+". Errors: "+Object.keys(f).map(function(p){return f[p].toString()}).filter(function(p,v,b){return b.indexOf(p)===v}).join(`
`)}function it(u,f,p,v){this.failures=f,this.failedKeys=v,this.successCount=p,this.message=Le(u,f)}function Gt(u,f){this.name="BulkError",this.failures=Object.keys(f).map(function(p){return f[p]}),this.failuresByPos=f,this.message=Le(u,this.failures)}Ce(Ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Ce(it).from(Ve),Ce(Gt).from(Ve);var qt=Tn.reduce(function(u,f){return u[f]=f+"Error",u},{}),It=Ve,be=Tn.reduce(function(u,f){var p=f+"Error";function v(b,S){this.name=p,b?typeof b=="string"?(this.message="".concat(b).concat(S?`
 `+S:""),this.inner=S||null):typeof b=="object"&&(this.message="".concat(b.name," ").concat(b.message),this.inner=b):(this.message=Ge[f]||p,this.inner=null)}return Ce(v).from(It),u[f]=v,u},{});be.Syntax=SyntaxError,be.Type=TypeError,be.Range=RangeError;var $e=da.reduce(function(u,f){return u[f+"Error"]=be[f],u},{}),dt=Tn.reduce(function(u,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(u[f+"Error"]=be[f]),u},{});function Pe(){}function Ot(u){return u}function ui(u,f){return u==null||u===Ot?f:function(p){return f(u(p))}}function cn(u,f){return function(){u.apply(this,arguments),f.apply(this,arguments)}}function Fn(u,f){return u===Pe?f:function(){var p=u.apply(this,arguments);p!==void 0&&(arguments[0]=p);var v=this.onsuccess,b=this.onerror;this.onsuccess=null,this.onerror=null;var S=f.apply(this,arguments);return v&&(this.onsuccess=this.onsuccess?cn(v,this.onsuccess):v),b&&(this.onerror=this.onerror?cn(b,this.onerror):b),S!==void 0?S:p}}function Hi(u,f){return u===Pe?f:function(){u.apply(this,arguments);var p=this.onsuccess,v=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),p&&(this.onsuccess=this.onsuccess?cn(p,this.onsuccess):p),v&&(this.onerror=this.onerror?cn(v,this.onerror):v)}}function Ei(u,f){return u===Pe?f:function(p){var v=u.apply(this,arguments);g(p,v);var b=this.onsuccess,S=this.onerror;return this.onsuccess=null,this.onerror=null,p=f.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?cn(b,this.onsuccess):b),S&&(this.onerror=this.onerror?cn(S,this.onerror):S),v===void 0?p===void 0?void 0:p:g(v,p)}}function $i(u,f){return u===Pe?f:function(){return f.apply(this,arguments)!==!1&&u.apply(this,arguments)}}function xr(u,f){return u===Pe?f:function(){var p=u.apply(this,arguments);if(p&&typeof p.then=="function"){for(var v=this,b=arguments.length,S=new Array(b);b--;)S[b]=arguments[b];return p.then(function(){return f.apply(v,S)})}return f.apply(this,arguments)}}dt.ModifyError=it,dt.DexieError=Ve,dt.BulkError=Gt;var On=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ko(u){On=u}var ha={},zn=100,Si=typeof Promise>"u"?[]:function(){var u=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[u,E(u),u];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,E(f),u]}(),da=Si[0],Tn=Si[1],Si=Si[2],Tn=Tn&&Tn.then,wi=da&&da.constructor,Cr=!!Si,ma=function(u,f){Qt.push([u,f]),as&&(queueMicrotask(Go),as=!1)},rs=!0,as=!0,Yi=[],Ti=[],fn=Ot,xi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Pe,pgp:!1,env:{},finalize:Pe},Oe=xi,Qt=[],Vi=0,ss=[];function xe(u){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=Oe;if(typeof u!="function"){if(u!==ha)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ci(this,this._value))}this._state=null,this._value=null,++f.ref,function p(v,b){try{b(function(S){if(v._state===null){if(S===v)throw new TypeError("A promise cannot be resolved with itself.");var T=v._lib&&Fi();S&&typeof S.then=="function"?p(v,function(O,M){S instanceof xe?S._then(O,M):S.then(O,M)}):(v._state=!0,v._value=S,ya(v)),T&&Ci()}},ci.bind(null,v))}catch(S){ci(v,S)}}(this,u)}var Ar={get:function(){var u=Oe,f=jn;function p(v,b){var S=this,T=!u.global&&(u!==Oe||f!==jn),O=T&&!Kn(),M=new xe(function(k,B){Pi(S,new pa(Ai(v,u,T,O),Ai(b,u,T,O),k,B,u))});return this._consoleTask&&(M._consoleTask=this._consoleTask),M}return p.prototype=ha,p},set:function(u){le(this,"then",u&&u.prototype===ha?Ar:{get:function(){return u},set:Ar.set})}};function pa(u,f,p,v,b){this.onFulfilled=typeof u=="function"?u:null,this.onRejected=typeof f=="function"?f:null,this.resolve=p,this.reject=v,this.psd=b}function ci(u,f){var p,v;Ti.push(f),u._state===null&&(p=u._lib&&Fi(),f=fn(f),u._state=!1,u._value=f,v=u,Yi.some(function(b){return b._value===v._value})||Yi.push(v),ya(u),p&&Ci())}function ya(u){var f=u._listeners;u._listeners=[];for(var p=0,v=f.length;p<v;++p)Pi(u,f[p]);var b=u._PSD;--b.ref||b.finalize(),Vi===0&&(++Vi,ma(function(){--Vi==0&&Ki()},[]))}function Pi(u,f){if(u._state!==null){var p=u._state?f.onFulfilled:f.onRejected;if(p===null)return(u._state?f.resolve:f.reject)(u._value);++f.psd.ref,++Vi,ma(Jc,[p,u,f])}else u._listeners.push(f)}function Jc(u,f,p){try{var v,b=f._value;!f._state&&Ti.length&&(Ti=[]),v=On&&f._consoleTask?f._consoleTask.run(function(){return u(b)}):u(b),f._state||Ti.indexOf(b)!==-1||function(S){for(var T=Yi.length;T;)if(Yi[--T]._value===S._value)return Yi.splice(T,1)}(f),p.resolve(v)}catch(S){p.reject(S)}finally{--Vi==0&&Ki(),--p.psd.ref||p.psd.finalize()}}function Go(){hi(xi,function(){Fi()&&Ci()})}function Fi(){var u=rs;return as=rs=!1,u}function Ci(){var u,f,p;do for(;0<Qt.length;)for(u=Qt,Qt=[],p=u.length,f=0;f<p;++f){var v=u[f];v[0].apply(null,v[1])}while(0<Qt.length);as=rs=!0}function Ki(){var u=Yi;Yi=[],u.forEach(function(v){v._PSD.onunhandled.call(null,v._value,v)});for(var f=ss.slice(0),p=f.length;p;)f[--p]()}function ls(u){return new xe(ha,!1,u)}function gt(u,f){var p=Oe;return function(){var v=Fi(),b=Oe;try{return fi(p,!0),u.apply(this,arguments)}catch(S){f&&f(S)}finally{fi(b,!1),v&&Ci()}}}N(xe.prototype,{then:Ar,_then:function(u,f){Pi(this,new pa(null,null,u,f,Oe))},catch:function(u){if(arguments.length===1)return this.then(null,u);var f=u,p=arguments[1];return typeof f=="function"?this.then(null,function(v){return(v instanceof f?p:ls)(v)}):this.then(null,function(v){return(v&&v.name===f?p:ls)(v)})},finally:function(u){return this.then(function(f){return xe.resolve(u()).then(function(){return f})},function(f){return xe.resolve(u()).then(function(){return ls(f)})})},timeout:function(u,f){var p=this;return u<1/0?new xe(function(v,b){var S=setTimeout(function(){return b(new be.Timeout(f))},u);p.then(v,b).finally(clearTimeout.bind(null,S))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&le(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),xi.env=Or(),N(xe,{all:function(){var u=ye.apply(null,arguments).map(us);return new xe(function(f,p){u.length===0&&f([]);var v=u.length;u.forEach(function(b,S){return xe.resolve(b).then(function(T){u[S]=T,--v||f(u)},p)})})},resolve:function(u){return u instanceof xe?u:u&&typeof u.then=="function"?new xe(function(f,p){u.then(f,p)}):new xe(ha,!0,u)},reject:ls,race:function(){var u=ye.apply(null,arguments).map(us);return new xe(function(f,p){u.map(function(v){return xe.resolve(v).then(f,p)})})},PSD:{get:function(){return Oe},set:function(u){return Oe=u}},totalEchoes:{get:function(){return jn}},newPSD:Dt,usePSD:hi,scheduler:{get:function(){return ma},set:function(u){ma=u}},rejectionMapper:{get:function(){return fn},set:function(u){fn=u}},follow:function(u,f){return new xe(function(p,v){return Dt(function(b,S){var T=Oe;T.unhandleds=[],T.onunhandled=S,T.finalize=cn(function(){var O,M=this;O=function(){M.unhandleds.length===0?b():S(M.unhandleds[0])},ss.push(function k(){O(),ss.splice(ss.indexOf(k),1)}),++Vi,ma(function(){--Vi==0&&Ki()},[])},T.finalize),u()},f,p,v)})}}),wi&&(wi.allSettled&&le(xe,"allSettled",function(){var u=ye.apply(null,arguments).map(us);return new xe(function(f){u.length===0&&f([]);var p=u.length,v=new Array(p);u.forEach(function(b,S){return xe.resolve(b).then(function(T){return v[S]={status:"fulfilled",value:T}},function(T){return v[S]={status:"rejected",reason:T}}).then(function(){return--p||f(v)})})})}),wi.any&&typeof AggregateError<"u"&&le(xe,"any",function(){var u=ye.apply(null,arguments).map(us);return new xe(function(f,p){u.length===0&&p(new AggregateError([]));var v=u.length,b=new Array(v);u.forEach(function(S,T){return xe.resolve(S).then(function(O){return f(O)},function(O){b[T]=O,--v||p(new AggregateError(b))})})})}),wi.withResolvers&&(xe.withResolvers=wi.withResolvers));var zt={awaits:0,echoes:0,id:0},Qo=0,va=[],os=0,jn=0,Wt=0;function Dt(u,f,p,v){var b=Oe,S=Object.create(b);return S.parent=b,S.ref=0,S.global=!1,S.id=++Wt,xi.env,S.env=Cr?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},f&&g(S,f),++b.ref,S.finalize=function(){--this.parent.ref||this.parent.finalize()},v=hi(S,u,p,v),S.ref===0&&S.finalize(),v}function Bn(){return zt.id||(zt.id=++Qo),++zt.awaits,zt.echoes+=zn,zt.id}function Kn(){return!!zt.awaits&&(--zt.awaits==0&&(zt.id=0),zt.echoes=zt.awaits*zn,!0)}function us(u){return zt.echoes&&u&&u.constructor===wi?(Bn(),u.then(function(f){return Kn(),f},function(f){return Kn(),_t(f)})):u}function ef(){var u=va[va.length-1];va.pop(),fi(u,!1)}function fi(u,f){var p,v=Oe;(f?!zt.echoes||os++&&u===Oe:!os||--os&&u===Oe)||queueMicrotask(f?(function(b){++jn,zt.echoes&&--zt.echoes!=0||(zt.echoes=zt.awaits=zt.id=0),va.push(Oe),fi(b,!0)}).bind(null,u):ef),u!==Oe&&(Oe=u,v===xi&&(xi.env=Or()),Cr&&(p=xi.env.Promise,f=u.env,(v.global||u.global)&&(Object.defineProperty(h,"Promise",f.PromiseProp),p.all=f.all,p.race=f.race,p.resolve=f.resolve,p.reject=f.reject,f.allSettled&&(p.allSettled=f.allSettled),f.any&&(p.any=f.any))))}function Or(){var u=h.Promise;return Cr?{Promise:u,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:u.all,race:u.race,allSettled:u.allSettled,any:u.any,resolve:u.resolve,reject:u.reject}:{}}function hi(u,f,p,v,b){var S=Oe;try{return fi(u,!0),f(p,v,b)}finally{fi(S,!1)}}function Ai(u,f,p,v){return typeof u!="function"?u:function(){var b=Oe;p&&Bn(),fi(f,!0);try{return u.apply(this,arguments)}finally{fi(b,!1),v&&queueMicrotask(Kn)}}}function Oi(u){Promise===wi&&zt.echoes===0?os===0?u():enqueueNativeMicroTask(u):setTimeout(u,0)}(""+Tn).indexOf("[native code]")===-1&&(Bn=Kn=Pe);var _t=xe.reject,Dn="￿",mt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",gl="String expected.",Gi=[],Gn="__dbnames",Di="readonly",qn="readwrite";function Qi(u,f){return u?f?function(){return u.apply(this,arguments)&&f.apply(this,arguments)}:u:f}var _l={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ga(u){return typeof u!="string"||/\./.test(u)?function(f){return f}:function(f){return f[u]===void 0&&u in f&&delete(f=ie(f))[u],f}}function Xo(){throw be.Type()}function Qe(u,f){try{var p=_a(u),v=_a(f);if(p!==v)return p==="Array"?1:v==="Array"?-1:p==="binary"?1:v==="binary"?-1:p==="string"?1:v==="string"?-1:p==="Date"?1:v!=="Date"?NaN:-1;switch(p){case"number":case"Date":case"string":return f<u?1:u<f?-1:0;case"binary":return function(b,S){for(var T=b.length,O=S.length,M=T<O?T:O,k=0;k<M;++k)if(b[k]!==S[k])return b[k]<S[k]?-1:1;return T===O?0:T<O?-1:1}(Qn(u),Qn(f));case"Array":return function(b,S){for(var T=b.length,O=S.length,M=T<O?T:O,k=0;k<M;++k){var B=Qe(b[k],S[k]);if(B!==0)return B}return T===O?0:T<O?-1:1}(u,f)}}catch{}return NaN}function _a(u){var f=typeof u;return f!="object"?f:ArrayBuffer.isView(u)?"binary":(u=ue(u),u==="ArrayBuffer"?"binary":u)}function Qn(u){return u instanceof Uint8Array?u:ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):new Uint8Array(u)}var wn=(pt.prototype._trans=function(u,f,p){var v=this._tx||Oe.trans,b=this.name,S=On&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(u==="readonly"?"read":"write"," ").concat(this.name));function T(k,B,D){if(!D.schema[b])throw new be.NotFound("Table "+b+" not part of transaction");return f(D.idbtrans,D)}var O=Fi();try{var M=v&&v.db._novip===this.db._novip?v===Oe.trans?v._promise(u,T,p):Dt(function(){return v._promise(u,T,p)},{trans:v,transless:Oe.transless||Oe}):function k(B,D,H,R){if(B.idbdb&&(B._state.openComplete||Oe.letThrough||B._vip)){var z=B._createTransaction(D,H,B._dbSchema);try{z.create(),B._state.PR1398_maxLoop=3}catch(q){return q.name===qt.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return k(B,D,H,R)})):_t(q)}return z._promise(D,function(q,U){return Dt(function(){return Oe.trans=z,R(q,U,z)})}).then(function(q){if(D==="readwrite")try{z.idbtrans.commit()}catch{}return D==="readonly"?q:z._completion.then(function(){return q})})}if(B._state.openComplete)return _t(new be.DatabaseClosed(B._state.dbOpenError));if(!B._state.isBeingOpened){if(!B._state.autoOpen)return _t(new be.DatabaseClosed);B.open().catch(Pe)}return B._state.dbReadyPromise.then(function(){return k(B,D,H,R)})}(this.db,u,[this.name],T);return S&&(M._consoleTask=S,M=M.catch(function(k){return console.trace(k),_t(k)})),M}finally{O&&Ci()}},pt.prototype.get=function(u,f){var p=this;return u&&u.constructor===Object?this.where(u).first(f):u==null?_t(new be.Type("Invalid argument to Table.get()")):this._trans("readonly",function(v){return p.core.get({trans:v,key:u}).then(function(b){return p.hook.reading.fire(b)})}).then(f)},pt.prototype.where=function(u){if(typeof u=="string")return new this.db.WhereClause(this,u);if(y(u))return new this.db.WhereClause(this,"[".concat(u.join("+"),"]"));var f=m(u);if(f.length===1)return this.where(f[0]).equals(u[f[0]]);var p=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&f.every(function(k){return 0<=O.keyPath.indexOf(k)})){for(var M=0;M<f.length;++M)if(f.indexOf(O.keyPath[M])===-1)return!1;return!0}return!1}).sort(function(O,M){return O.keyPath.length-M.keyPath.length})[0];if(p&&this.db._maxKey!==Dn){var S=p.keyPath.slice(0,f.length);return this.where(S).equals(S.map(function(M){return u[M]}))}!p&&On&&console.warn("The query ".concat(JSON.stringify(u)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var v=this.schema.idxByName;function b(O,M){return Qe(O,M)===0}var T=f.reduce(function(D,M){var k=D[0],B=D[1],D=v[M],H=u[M];return[k||D,k||!D?Qi(B,D&&D.multi?function(R){return R=I(R,M),y(R)&&R.some(function(z){return b(H,z)})}:function(R){return b(H,I(R,M))}):B]},[null,null]),S=T[0],T=T[1];return S?this.where(S.name).equals(u[S.keyPath]).filter(T):p?this.filter(T):this.where(f).equals("")},pt.prototype.filter=function(u){return this.toCollection().and(u)},pt.prototype.count=function(u){return this.toCollection().count(u)},pt.prototype.offset=function(u){return this.toCollection().offset(u)},pt.prototype.limit=function(u){return this.toCollection().limit(u)},pt.prototype.each=function(u){return this.toCollection().each(u)},pt.prototype.toArray=function(u){return this.toCollection().toArray(u)},pt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},pt.prototype.orderBy=function(u){return new this.db.Collection(new this.db.WhereClause(this,y(u)?"[".concat(u.join("+"),"]"):u))},pt.prototype.reverse=function(){return this.toCollection().reverse()},pt.prototype.mapToClass=function(u){var f,p=this.db,v=this.name;function b(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=u).prototype instanceof Xo&&(function(M,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function B(){this.constructor=M}r(M,k),M.prototype=k===null?Object.create(k):(B.prototype=k.prototype,new B)}(b,f=u),Object.defineProperty(b.prototype,"db",{get:function(){return p},enumerable:!1,configurable:!0}),b.prototype.table=function(){return v},u=b);for(var S=new Set,T=u.prototype;T;T=E(T))Object.getOwnPropertyNames(T).forEach(function(M){return S.add(M)});function O(M){if(!M)return M;var k,B=Object.create(u.prototype);for(k in M)if(!S.has(k))try{B[k]=M[k]}catch{}return B}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),u},pt.prototype.defineClass=function(){return this.mapToClass(function(u){g(this,u)})},pt.prototype.add=function(u,f){var p=this,v=this.schema.primKey,b=v.auto,S=v.keyPath,T=u;return S&&b&&(T=ga(S)(u)),this._trans("readwrite",function(O){return p.core.mutate({trans:O,type:"add",keys:f!=null?[f]:null,values:[T]})}).then(function(O){return O.numFailures?xe.reject(O.failures[0]):O.lastResult}).then(function(O){if(S)try{ne(u,S,O)}catch{}return O})},pt.prototype.update=function(u,f){return typeof u!="object"||y(u)?this.where(":id").equals(u).modify(f):(u=I(u,this.schema.primKey.keyPath),u===void 0?_t(new be.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(u).modify(f))},pt.prototype.put=function(u,f){var p=this,v=this.schema.primKey,b=v.auto,S=v.keyPath,T=u;return S&&b&&(T=ga(S)(u)),this._trans("readwrite",function(O){return p.core.mutate({trans:O,type:"put",values:[T],keys:f!=null?[f]:null})}).then(function(O){return O.numFailures?xe.reject(O.failures[0]):O.lastResult}).then(function(O){if(S)try{ne(u,S,O)}catch{}return O})},pt.prototype.delete=function(u){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"delete",keys:[u]})}).then(function(p){return p.numFailures?xe.reject(p.failures[0]):void 0})},pt.prototype.clear=function(){var u=this;return this._trans("readwrite",function(f){return u.core.mutate({trans:f,type:"deleteRange",range:_l})}).then(function(f){return f.numFailures?xe.reject(f.failures[0]):void 0})},pt.prototype.bulkGet=function(u){var f=this;return this._trans("readonly",function(p){return f.core.getMany({keys:u,trans:p}).then(function(v){return v.map(function(b){return f.hook.reading.fire(b)})})})},pt.prototype.bulkAdd=function(u,f,p){var v=this,b=Array.isArray(f)?f:void 0,S=(p=p||(b?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(T){var k=v.schema.primKey,O=k.auto,k=k.keyPath;if(k&&b)throw new be.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var M=u.length,k=k&&O?u.map(ga(k)):u;return v.core.mutate({trans:T,type:"add",keys:b,values:k,wantResults:S}).then(function(z){var D=z.numFailures,H=z.results,R=z.lastResult,z=z.failures;if(D===0)return S?H:R;throw new Gt("".concat(v.name,".bulkAdd(): ").concat(D," of ").concat(M," operations failed"),z)})})},pt.prototype.bulkPut=function(u,f,p){var v=this,b=Array.isArray(f)?f:void 0,S=(p=p||(b?void 0:f))?p.allKeys:void 0;return this._trans("readwrite",function(T){var k=v.schema.primKey,O=k.auto,k=k.keyPath;if(k&&b)throw new be.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(b&&b.length!==u.length)throw new be.InvalidArgument("Arguments objects and keys must have the same length");var M=u.length,k=k&&O?u.map(ga(k)):u;return v.core.mutate({trans:T,type:"put",keys:b,values:k,wantResults:S}).then(function(z){var D=z.numFailures,H=z.results,R=z.lastResult,z=z.failures;if(D===0)return S?H:R;throw new Gt("".concat(v.name,".bulkPut(): ").concat(D," of ").concat(M," operations failed"),z)})})},pt.prototype.bulkUpdate=function(u){var f=this,p=this.core,v=u.map(function(T){return T.key}),b=u.map(function(T){return T.changes}),S=[];return this._trans("readwrite",function(T){return p.getMany({trans:T,keys:v,cache:"clone"}).then(function(O){var M=[],k=[];u.forEach(function(D,H){var R=D.key,z=D.changes,q=O[H];if(q){for(var U=0,V=Object.keys(z);U<V.length;U++){var K=V[U],G=z[K];if(K===f.schema.primKey.keyPath){if(Qe(G,R)!==0)throw new be.Constraint("Cannot update primary key in bulkUpdate()")}else ne(q,K,G)}S.push(H),M.push(R),k.push(q)}});var B=M.length;return p.mutate({trans:T,type:"put",keys:M,values:k,updates:{keys:v,changeSpecs:b}}).then(function(D){var H=D.numFailures,R=D.failures;if(H===0)return B;for(var z=0,q=Object.keys(R);z<q.length;z++){var U,V=q[z],K=S[Number(V)];K!=null&&(U=R[V],delete R[V],R[K]=U)}throw new Gt("".concat(f.name,".bulkUpdate(): ").concat(H," of ").concat(B," operations failed"),R)})})})},pt.prototype.bulkDelete=function(u){var f=this,p=u.length;return this._trans("readwrite",function(v){return f.core.mutate({trans:v,type:"delete",keys:u})}).then(function(T){var b=T.numFailures,S=T.lastResult,T=T.failures;if(b===0)return S;throw new Gt("".concat(f.name,".bulkDelete(): ").concat(b," of ").concat(p," operations failed"),T)})},pt);function pt(){}function ba(u){function f(T,O){if(O){for(var M=arguments.length,k=new Array(M-1);--M;)k[M-1]=arguments[M];return p[T].subscribe.apply(null,k),u}if(typeof T=="string")return p[T]}var p={};f.addEventType=S;for(var v=1,b=arguments.length;v<b;++v)S(arguments[v]);return f;function S(T,O,M){if(typeof T!="object"){var k;O=O||$i;var B={subscribers:[],fire:M=M||Pe,subscribe:function(D){B.subscribers.indexOf(D)===-1&&(B.subscribers.push(D),B.fire=O(B.fire,D))},unsubscribe:function(D){B.subscribers=B.subscribers.filter(function(H){return H!==D}),B.fire=B.subscribers.reduce(O,M)}};return p[T]=f[T]=B}m(k=T).forEach(function(D){var H=k[D];if(y(H))S(D,k[D][0],k[D][1]);else{if(H!=="asap")throw new be.InvalidArgument("Invalid event config");var R=S(D,Ot,function(){for(var z=arguments.length,q=new Array(z);z--;)q[z]=arguments[z];R.subscribers.forEach(function(U){Ae(function(){U.apply(null,q)})})})}})}}function Mi(u,f){return Ce(f).from({prototype:u}),f}function Xi(u,f){return!(u.filter||u.algorithm||u.or)&&(f?u.justLimit:!u.replayFilter)}function Dr(u,f){u.filter=Qi(u.filter,f)}function bl(u,f,p){var v=u.replayFilter;u.replayFilter=v?function(){return Qi(v(),f())}:f,u.justLimit=p&&!v}function hn(u,f){if(u.isPrimKey)return f.primaryKey;var p=f.getIndexByKeyPath(u.index);if(!p)throw new be.Schema("KeyPath "+u.index+" on object store "+f.name+" is not indexed");return p}function cs(u,f,p){var v=hn(u,f.schema);return f.openCursor({trans:p,values:!u.keysOnly,reverse:u.dir==="prev",unique:!!u.unique,query:{index:v,range:u.range}})}function Ea(u,f,p,v){var b=u.replayFilter?Qi(u.filter,u.replayFilter()):u.filter;if(u.or){var S={},T=function(O,M,k){var B,D;b&&!b(M,k,function(H){return M.stop(H)},function(H){return M.fail(H)})||((D=""+(B=M.primaryKey))=="[object ArrayBuffer]"&&(D=""+new Uint8Array(B)),x(S,D)||(S[D]=!0,f(O,M,k)))};return Promise.all([u.or._iterate(T,p),fs(cs(u,v,p),u.algorithm,T,!u.keysOnly&&u.valueMapper)])}return fs(cs(u,v,p),Qi(u.algorithm,b),f,!u.keysOnly&&u.valueMapper)}function fs(u,f,p,v){var b=gt(v?function(S,T,O){return p(v(S),T,O)}:p);return u.then(function(S){if(S)return S.start(function(){var T=function(){return S.continue()};f&&!f(S,function(O){return T=O},function(O){S.stop(O),T=Pe},function(O){S.fail(O),T=Pe})||b(S.value,S,function(O){return T=O}),T()})})}var Xn=(El.prototype.execute=function(u){var f=this["@@propmod"];if(f.add!==void 0){var p=f.add;if(y(p))return o(o([],y(u)?u:[],!0),p).sort();if(typeof p=="number")return(Number(u)||0)+p;if(typeof p=="bigint")try{return BigInt(u)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(f.remove!==void 0){var v=f.remove;if(y(v))return y(u)?u.filter(function(b){return!v.includes(b)}).sort():[];if(typeof v=="number")return Number(u)-v;if(typeof v=="bigint")try{return BigInt(u)-v}catch{return BigInt(0)-v}throw new TypeError("Invalid subtrahend ".concat(v))}return p=(p=f.replacePrefix)===null||p===void 0?void 0:p[0],p&&typeof u=="string"&&u.startsWith(p)?f.replacePrefix[1]+u.substring(p.length):u},El);function El(u){this["@@propmod"]=u}var Zo=(Xe.prototype._read=function(u,f){var p=this._ctx;return p.error?p.table._trans(null,_t.bind(null,p.error)):p.table._trans("readonly",u).then(f)},Xe.prototype._write=function(u){var f=this._ctx;return f.error?f.table._trans(null,_t.bind(null,f.error)):f.table._trans("readwrite",u,"locked")},Xe.prototype._addAlgorithm=function(u){var f=this._ctx;f.algorithm=Qi(f.algorithm,u)},Xe.prototype._iterate=function(u,f){return Ea(this._ctx,u,f,this._ctx.table.core)},Xe.prototype.clone=function(u){var f=Object.create(this.constructor.prototype),p=Object.create(this._ctx);return u&&g(p,u),f._ctx=p,f},Xe.prototype.raw=function(){return this._ctx.valueMapper=null,this},Xe.prototype.each=function(u){var f=this._ctx;return this._read(function(p){return Ea(f,u,p,f.table.core)})},Xe.prototype.count=function(u){var f=this;return this._read(function(p){var v=f._ctx,b=v.table.core;if(Xi(v,!0))return b.count({trans:p,query:{index:hn(v,b.schema),range:v.range}}).then(function(T){return Math.min(T,v.limit)});var S=0;return Ea(v,function(){return++S,!1},p,b).then(function(){return S})}).then(u)},Xe.prototype.sortBy=function(u,f){var p=u.split(".").reverse(),v=p[0],b=p.length-1;function S(M,k){return k?S(M[p[k]],k-1):M[v]}var T=this._ctx.dir==="next"?1:-1;function O(M,k){return Qe(S(M,b),S(k,b))*T}return this.toArray(function(M){return M.sort(O)}).then(f)},Xe.prototype.toArray=function(u){var f=this;return this._read(function(p){var v=f._ctx;if(v.dir==="next"&&Xi(v,!0)&&0<v.limit){var b=v.valueMapper,S=hn(v,v.table.core.schema);return v.table.core.query({trans:p,limit:v.limit,values:!0,query:{index:S,range:v.range}}).then(function(O){return O=O.result,b?O.map(b):O})}var T=[];return Ea(v,function(O){return T.push(O)},p,v.table.core).then(function(){return T})},u)},Xe.prototype.offset=function(u){var f=this._ctx;return u<=0||(f.offset+=u,Xi(f)?bl(f,function(){var p=u;return function(v,b){return p===0||(p===1?--p:b(function(){v.advance(p),p=0}),!1)}}):bl(f,function(){var p=u;return function(){return--p<0}})),this},Xe.prototype.limit=function(u){return this._ctx.limit=Math.min(this._ctx.limit,u),bl(this._ctx,function(){var f=u;return function(p,v,b){return--f<=0&&v(b),0<=f}},!0),this},Xe.prototype.until=function(u,f){return Dr(this._ctx,function(p,v,b){return!u(p.value)||(v(b),f)}),this},Xe.prototype.first=function(u){return this.limit(1).toArray(function(f){return f[0]}).then(u)},Xe.prototype.last=function(u){return this.reverse().first(u)},Xe.prototype.filter=function(u){var f;return Dr(this._ctx,function(p){return u(p.value)}),(f=this._ctx).isMatch=Qi(f.isMatch,u),this},Xe.prototype.and=function(u){return this.filter(u)},Xe.prototype.or=function(u){return new this.db.WhereClause(this._ctx.table,u,this)},Xe.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Xe.prototype.desc=function(){return this.reverse()},Xe.prototype.eachKey=function(u){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,v){u(v.key,v)})},Xe.prototype.eachUniqueKey=function(u){return this._ctx.unique="unique",this.eachKey(u)},Xe.prototype.eachPrimaryKey=function(u){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(p,v){u(v.primaryKey,v)})},Xe.prototype.keys=function(u){var f=this._ctx;f.keysOnly=!f.isMatch;var p=[];return this.each(function(v,b){p.push(b.key)}).then(function(){return p}).then(u)},Xe.prototype.primaryKeys=function(u){var f=this._ctx;if(f.dir==="next"&&Xi(f,!0)&&0<f.limit)return this._read(function(v){var b=hn(f,f.table.core.schema);return f.table.core.query({trans:v,values:!1,limit:f.limit,query:{index:b,range:f.range}})}).then(function(v){return v.result}).then(u);f.keysOnly=!f.isMatch;var p=[];return this.each(function(v,b){p.push(b.primaryKey)}).then(function(){return p}).then(u)},Xe.prototype.uniqueKeys=function(u){return this._ctx.unique="unique",this.keys(u)},Xe.prototype.firstKey=function(u){return this.limit(1).keys(function(f){return f[0]}).then(u)},Xe.prototype.lastKey=function(u){return this.reverse().firstKey(u)},Xe.prototype.distinct=function(){var u=this._ctx,u=u.index&&u.table.schema.idxByName[u.index];if(!u||!u.multi)return this;var f={};return Dr(this._ctx,function(b){var v=b.primaryKey.toString(),b=x(f,v);return f[v]=!0,!b}),this},Xe.prototype.modify=function(u){var f=this,p=this._ctx;return this._write(function(v){var b,S,T;T=typeof u=="function"?u:(b=m(u),S=b.length,function(U){for(var V=!1,K=0;K<S;++K){var G=b[K],ee=u[G],de=I(U,G);ee instanceof Xn?(ne(U,G,ee.execute(de)),V=!0):de!==ee&&(ne(U,G,ee),V=!0)}return V});var O=p.table.core,D=O.schema.primaryKey,M=D.outbound,k=D.extractKey,B=200,D=f.db._options.modifyChunkSize;D&&(B=typeof D=="object"?D[O.name]||D["*"]||200:D);function H(U,G){var K=G.failures,G=G.numFailures;z+=U-G;for(var ee=0,de=m(K);ee<de.length;ee++){var Ee=de[ee];R.push(K[Ee])}}var R=[],z=0,q=[];return f.clone().primaryKeys().then(function(U){function V(G){var ee=Math.min(B,U.length-G);return O.getMany({trans:v,keys:U.slice(G,G+ee),cache:"immutable"}).then(function(de){for(var Ee=[],me=[],pe=M?[]:null,we=[],ge=0;ge<ee;++ge){var Te=de[ge],Be={value:ie(Te),primKey:U[G+ge]};T.call(Be,Be.value,Be)!==!1&&(Be.value==null?we.push(U[G+ge]):M||Qe(k(Te),k(Be.value))===0?(me.push(Be.value),M&&pe.push(U[G+ge])):(we.push(U[G+ge]),Ee.push(Be.value)))}return Promise.resolve(0<Ee.length&&O.mutate({trans:v,type:"add",values:Ee}).then(function(Ye){for(var Ke in Ye.failures)we.splice(parseInt(Ke),1);H(Ee.length,Ye)})).then(function(){return(0<me.length||K&&typeof u=="object")&&O.mutate({trans:v,type:"put",keys:pe,values:me,criteria:K,changeSpec:typeof u!="function"&&u,isAdditionalChunk:0<G}).then(function(Ye){return H(me.length,Ye)})}).then(function(){return(0<we.length||K&&u===Sl)&&O.mutate({trans:v,type:"delete",keys:we,criteria:K,isAdditionalChunk:0<G}).then(function(Ye){return H(we.length,Ye)})}).then(function(){return U.length>G+ee&&V(G+B)})})}var K=Xi(p)&&p.limit===1/0&&(typeof u!="function"||u===Sl)&&{index:p.index,range:p.range};return V(0).then(function(){if(0<R.length)throw new it("Error modifying one or more objects",R,z,q);return U.length})})})},Xe.prototype.delete=function(){var u=this._ctx,f=u.range;return Xi(u)&&(u.isPrimKey||f.type===3)?this._write(function(p){var v=u.table.core.schema.primaryKey,b=f;return u.table.core.count({trans:p,query:{index:v,range:b}}).then(function(S){return u.table.core.mutate({trans:p,type:"deleteRange",range:b}).then(function(T){var O=T.failures;if(T.lastResult,T.results,T=T.numFailures,T)throw new it("Could not delete some values",Object.keys(O).map(function(M){return O[M]}),S-T);return S-T})})}):this.modify(Sl)},Xe);function Xe(){}var Sl=function(u,f){return f.value=null};function Wo(u,f){return u<f?-1:u===f?0:1}function Jo(u,f){return f<u?-1:u===f?0:1}function dn(u,f,p){return u=u instanceof ms?new u.Collection(u):u,u._ctx.error=new(p||TypeError)(f),u}function Mr(u){return new u.Collection(u,function(){return ds("")}).limit(0)}function hs(u,f,p,v){var b,S,T,O,M,k,B,D=p.length;if(!p.every(function(z){return typeof z=="string"}))return dn(u,gl);function H(z){b=z==="next"?function(U){return U.toUpperCase()}:function(U){return U.toLowerCase()},S=z==="next"?function(U){return U.toLowerCase()}:function(U){return U.toUpperCase()},T=z==="next"?Wo:Jo;var q=p.map(function(U){return{lower:S(U),upper:b(U)}}).sort(function(U,V){return T(U.lower,V.lower)});O=q.map(function(U){return U.upper}),M=q.map(function(U){return U.lower}),B=(k=z)==="next"?"":v}H("next"),u=new u.Collection(u,function(){return In(O[0],M[D-1]+v)}),u._ondirectionchange=function(z){H(z)};var R=0;return u._addAlgorithm(function(z,q,U){var V=z.key;if(typeof V!="string")return!1;var K=S(V);if(f(K,M,R))return!0;for(var G=null,ee=R;ee<D;++ee){var de=function(Ee,me,pe,we,ge,Te){for(var Be=Math.min(Ee.length,we.length),Ye=-1,Ke=0;Ke<Be;++Ke){var en=me[Ke];if(en!==we[Ke])return ge(Ee[Ke],pe[Ke])<0?Ee.substr(0,Ke)+pe[Ke]+pe.substr(Ke+1):ge(Ee[Ke],we[Ke])<0?Ee.substr(0,Ke)+we[Ke]+pe.substr(Ke+1):0<=Ye?Ee.substr(0,Ye)+me[Ye]+pe.substr(Ye+1):null;ge(Ee[Ke],en)<0&&(Ye=Ke)}return Be<we.length&&Te==="next"?Ee+pe.substr(Ee.length):Be<Ee.length&&Te==="prev"?Ee.substr(0,pe.length):Ye<0?null:Ee.substr(0,Ye)+we[Ye]+pe.substr(Ye+1)}(V,K,O[ee],M[ee],T,k);de===null&&G===null?R=ee+1:(G===null||0<T(G,de))&&(G=de)}return q(G!==null?function(){z.continue(G+B)}:U),!1}),u}function In(u,f,p,v){return{type:2,lower:u,upper:f,lowerOpen:p,upperOpen:v}}function ds(u){return{type:1,lower:u,upper:u}}var ms=(Object.defineProperty(Tt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Tt.prototype.between=function(u,f,p,v){p=p!==!1,v=v===!0;try{return 0<this._cmp(u,f)||this._cmp(u,f)===0&&(p||v)&&(!p||!v)?Mr(this):new this.Collection(this,function(){return In(u,f,!p,!v)})}catch{return dn(this,mt)}},Tt.prototype.equals=function(u){return u==null?dn(this,mt):new this.Collection(this,function(){return ds(u)})},Tt.prototype.above=function(u){return u==null?dn(this,mt):new this.Collection(this,function(){return In(u,void 0,!0)})},Tt.prototype.aboveOrEqual=function(u){return u==null?dn(this,mt):new this.Collection(this,function(){return In(u,void 0,!1)})},Tt.prototype.below=function(u){return u==null?dn(this,mt):new this.Collection(this,function(){return In(void 0,u,!1,!0)})},Tt.prototype.belowOrEqual=function(u){return u==null?dn(this,mt):new this.Collection(this,function(){return In(void 0,u)})},Tt.prototype.startsWith=function(u){return typeof u!="string"?dn(this,gl):this.between(u,u+Dn,!0,!0)},Tt.prototype.startsWithIgnoreCase=function(u){return u===""?this.startsWith(u):hs(this,function(f,p){return f.indexOf(p[0])===0},[u],Dn)},Tt.prototype.equalsIgnoreCase=function(u){return hs(this,function(f,p){return f===p[0]},[u],"")},Tt.prototype.anyOfIgnoreCase=function(){var u=ye.apply(ae,arguments);return u.length===0?Mr(this):hs(this,function(f,p){return p.indexOf(f)!==-1},u,"")},Tt.prototype.startsWithAnyOfIgnoreCase=function(){var u=ye.apply(ae,arguments);return u.length===0?Mr(this):hs(this,function(f,p){return p.some(function(v){return f.indexOf(v)===0})},u,Dn)},Tt.prototype.anyOf=function(){var u=this,f=ye.apply(ae,arguments),p=this._cmp;try{f.sort(p)}catch{return dn(this,mt)}if(f.length===0)return Mr(this);var v=new this.Collection(this,function(){return In(f[0],f[f.length-1])});v._ondirectionchange=function(S){p=S==="next"?u._ascending:u._descending,f.sort(p)};var b=0;return v._addAlgorithm(function(S,T,O){for(var M=S.key;0<p(M,f[b]);)if(++b===f.length)return T(O),!1;return p(M,f[b])===0||(T(function(){S.continue(f[b])}),!1)}),v},Tt.prototype.notEqual=function(u){return this.inAnyRange([[-1/0,u],[u,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Tt.prototype.noneOf=function(){var u=ye.apply(ae,arguments);if(u.length===0)return new this.Collection(this);try{u.sort(this._ascending)}catch{return dn(this,mt)}var f=u.reduce(function(p,v){return p?p.concat([[p[p.length-1][1],v]]):[[-1/0,v]]},null);return f.push([u[u.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},Tt.prototype.inAnyRange=function(V,f){var p=this,v=this._cmp,b=this._ascending,S=this._descending,T=this._min,O=this._max;if(V.length===0)return Mr(this);if(!V.every(function(K){return K[0]!==void 0&&K[1]!==void 0&&b(K[0],K[1])<=0}))return dn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",be.InvalidArgument);var M=!f||f.includeLowers!==!1,k=f&&f.includeUppers===!0,B,D=b;function H(K,G){return D(K[0],G[0])}try{(B=V.reduce(function(K,G){for(var ee=0,de=K.length;ee<de;++ee){var Ee=K[ee];if(v(G[0],Ee[1])<0&&0<v(G[1],Ee[0])){Ee[0]=T(Ee[0],G[0]),Ee[1]=O(Ee[1],G[1]);break}}return ee===de&&K.push(G),K},[])).sort(H)}catch{return dn(this,mt)}var R=0,z=k?function(K){return 0<b(K,B[R][1])}:function(K){return 0<=b(K,B[R][1])},q=M?function(K){return 0<S(K,B[R][0])}:function(K){return 0<=S(K,B[R][0])},U=z,V=new this.Collection(this,function(){return In(B[0][0],B[B.length-1][1],!M,!k)});return V._ondirectionchange=function(K){D=K==="next"?(U=z,b):(U=q,S),B.sort(H)},V._addAlgorithm(function(K,G,ee){for(var de,Ee=K.key;U(Ee);)if(++R===B.length)return G(ee),!1;return!z(de=Ee)&&!q(de)||(p._cmp(Ee,B[R][1])===0||p._cmp(Ee,B[R][0])===0||G(function(){D===b?K.continue(B[R][0]):K.continue(B[R][1])}),!1)}),V},Tt.prototype.startsWithAnyOf=function(){var u=ye.apply(ae,arguments);return u.every(function(f){return typeof f=="string"})?u.length===0?Mr(this):this.inAnyRange(u.map(function(f){return[f,f+Dn]})):dn(this,"startsWithAnyOf() only works with strings")},Tt);function Tt(){}function mn(u){return gt(function(f){return Rr(f),u(f.target.error),!1})}function Rr(u){u.stopPropagation&&u.stopPropagation(),u.preventDefault&&u.preventDefault()}var Zi="storagemutated",ps="x-storagemutated-1",Mn=ba(null,Zi),wl=(_n.prototype._lock=function(){return Je(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},_n.prototype._unlock=function(){if(Je(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var u=this._blockedFuncs.shift();try{hi(u[1],u[0])}catch{}}return this},_n.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},_n.prototype.create=function(u){var f=this;if(!this.mode)return this;var p=this.db.idbdb,v=this.db._state.dbOpenError;if(Je(!this.idbtrans),!u&&!p)switch(v&&v.name){case"DatabaseClosedError":throw new be.DatabaseClosed(v);case"MissingAPIError":throw new be.MissingAPI(v.message,v);default:throw new be.OpenFailed(v)}if(!this.active)throw new be.TransactionInactive;return Je(this._completion._state===null),(u=this.idbtrans=u||(this.db.core||p).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=gt(function(b){Rr(b),f._reject(u.error)}),u.onabort=gt(function(b){Rr(b),f.active&&f._reject(new be.Abort(u.error)),f.active=!1,f.on("abort").fire(b)}),u.oncomplete=gt(function(){f.active=!1,f._resolve(),"mutatedParts"in u&&Mn.storagemutated.fire(u.mutatedParts)}),this},_n.prototype._promise=function(u,f,p){var v=this;if(u==="readwrite"&&this.mode!=="readwrite")return _t(new be.ReadOnly("Transaction is readonly"));if(!this.active)return _t(new be.TransactionInactive);if(this._locked())return new xe(function(S,T){v._blockedFuncs.push([function(){v._promise(u,f,p).then(S,T)},Oe])});if(p)return Dt(function(){var S=new xe(function(T,O){v._lock();var M=f(T,O,v);M&&M.then&&M.then(T,O)});return S.finally(function(){return v._unlock()}),S._lib=!0,S});var b=new xe(function(S,T){var O=f(S,T,v);O&&O.then&&O.then(S,T)});return b._lib=!0,b},_n.prototype._root=function(){return this.parent?this.parent._root():this},_n.prototype.waitFor=function(u){var f,p=this._root(),v=xe.resolve(u);p._waitingFor?p._waitingFor=p._waitingFor.then(function(){return v}):(p._waitingFor=v,p._waitingQueue=[],f=p.idbtrans.objectStore(p.storeNames[0]),function S(){for(++p._spinCount;p._waitingQueue.length;)p._waitingQueue.shift()();p._waitingFor&&(f.get(-1/0).onsuccess=S)}());var b=p._waitingFor;return new xe(function(S,T){v.then(function(O){return p._waitingQueue.push(gt(S.bind(null,O)))},function(O){return p._waitingQueue.push(gt(T.bind(null,O)))}).finally(function(){p._waitingFor===b&&(p._waitingFor=null)})})},_n.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new be.Abort))},_n.prototype.table=function(u){var f=this._memoizedTables||(this._memoizedTables={});if(x(f,u))return f[u];var p=this.schema[u];if(!p)throw new be.NotFound("Table "+u+" not part of transaction");return p=new this.db.Table(u,p,this),p.core=this.db.core.table(u),f[u]=p},_n);function _n(){}function Zn(u,f,p,v,b,S,T){return{name:u,keyPath:f,unique:p,multi:v,auto:b,compound:S,src:(p&&!T?"&":"")+(v?"*":"")+(b?"++":"")+ys(f)}}function ys(u){return typeof u=="string"?u:u?"["+[].join.call(u,"+")+"]":""}function Nr(u,f,p){return{name:u,primKey:f,indexes:p,mappedClass:null,idxByName:(v=function(b){return[b.name,b]},p.reduce(function(b,S,T){return T=v(S,T),T&&(b[T[0]]=T[1]),b},{}))};var v}var kr=function(u){try{return u.only([[]]),kr=function(){return[[]]},[[]]}catch{return kr=function(){return Dn},Dn}};function Lr(u){return u==null?function(){}:typeof u=="string"?(f=u).split(".").length===1?function(p){return p[f]}:function(p){return I(p,f)}:function(p){return I(p,u)};var f}function Sa(u){return[].slice.call(u)}var eu=0;function Ht(u){return u==null?":id":typeof u=="string"?u:"[".concat(u.join("+"),"]")}function Wi(u,f,M){function v(U){if(U.type===3)return null;if(U.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var R=U.lower,z=U.upper,q=U.lowerOpen,U=U.upperOpen;return R===void 0?z===void 0?null:f.upperBound(z,!!U):z===void 0?f.lowerBound(R,!!q):f.bound(R,z,!!q,!!U)}function b(H){var R,z=H.name;return{name:z,schema:H,mutate:function(q){var U=q.trans,V=q.type,K=q.keys,G=q.values,ee=q.range;return new Promise(function(de,Ee){de=gt(de);var me=U.objectStore(z),pe=me.keyPath==null,we=V==="put"||V==="add";if(!we&&V!=="delete"&&V!=="deleteRange")throw new Error("Invalid operation type: "+V);var ge,Te=(K||G||{length:1}).length;if(K&&G&&K.length!==G.length)throw new Error("Given keys array must have same length as given values array.");if(Te===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function Be(Yt){++en,Rr(Yt)}var Ye=[],Ke=[],en=0;if(V==="deleteRange"){if(ee.type===4)return de({numFailures:en,failures:Ke,results:[],lastResult:void 0});ee.type===3?Ye.push(ge=me.clear()):Ye.push(ge=me.delete(v(ee)))}else{var pe=we?pe?[G,K]:[G,null]:[K,null],Ie=pe[0],$t=pe[1];if(we)for(var Ct=0;Ct<Te;++Ct)Ye.push(ge=$t&&$t[Ct]!==void 0?me[V](Ie[Ct],$t[Ct]):me[V](Ie[Ct])),ge.onerror=Be;else for(Ct=0;Ct<Te;++Ct)Ye.push(ge=me[V](Ie[Ct])),ge.onerror=Be}function Da(Yt){Yt=Yt.target.result,Ye.forEach(function(Rn,ks){return Rn.error!=null&&(Ke[ks]=Rn.error)}),de({numFailures:en,failures:Ke,results:V==="delete"?K:Ye.map(function(Rn){return Rn.result}),lastResult:Yt})}ge.onerror=function(Yt){Be(Yt),Da(Yt)},ge.onsuccess=Da})},getMany:function(q){var U=q.trans,V=q.keys;return new Promise(function(K,G){K=gt(K);for(var ee,de=U.objectStore(z),Ee=V.length,me=new Array(Ee),pe=0,we=0,ge=function(Ye){Ye=Ye.target,me[Ye._pos]=Ye.result,++we===pe&&K(me)},Te=mn(G),Be=0;Be<Ee;++Be)V[Be]!=null&&((ee=de.get(V[Be]))._pos=Be,ee.onsuccess=ge,ee.onerror=Te,++pe);pe===0&&K(me)})},get:function(q){var U=q.trans,V=q.key;return new Promise(function(K,G){K=gt(K);var ee=U.objectStore(z).get(V);ee.onsuccess=function(de){return K(de.target.result)},ee.onerror=mn(G)})},query:(R=k,function(q){return new Promise(function(U,V){U=gt(U);var K,G,ee,pe=q.trans,de=q.values,Ee=q.limit,ge=q.query,me=Ee===1/0?void 0:Ee,we=ge.index,ge=ge.range,pe=pe.objectStore(z),we=we.isPrimaryKey?pe:pe.index(we.name),ge=v(ge);if(Ee===0)return U({result:[]});R?((me=de?we.getAll(ge,me):we.getAllKeys(ge,me)).onsuccess=function(Te){return U({result:Te.target.result})},me.onerror=mn(V)):(K=0,G=!de&&"openKeyCursor"in we?we.openKeyCursor(ge):we.openCursor(ge),ee=[],G.onsuccess=function(Te){var Be=G.result;return Be?(ee.push(de?Be.value:Be.primaryKey),++K===Ee?U({result:ee}):void Be.continue()):U({result:ee})},G.onerror=mn(V))})}),openCursor:function(q){var U=q.trans,V=q.values,K=q.query,G=q.reverse,ee=q.unique;return new Promise(function(de,Ee){de=gt(de);var we=K.index,me=K.range,pe=U.objectStore(z),pe=we.isPrimaryKey?pe:pe.index(we.name),we=G?ee?"prevunique":"prev":ee?"nextunique":"next",ge=!V&&"openKeyCursor"in pe?pe.openKeyCursor(v(me),we):pe.openCursor(v(me),we);ge.onerror=mn(Ee),ge.onsuccess=gt(function(Te){var Be,Ye,Ke,en,Ie=ge.result;Ie?(Ie.___id=++eu,Ie.done=!1,Be=Ie.continue.bind(Ie),Ye=(Ye=Ie.continuePrimaryKey)&&Ye.bind(Ie),Ke=Ie.advance.bind(Ie),en=function(){throw new Error("Cursor not stopped")},Ie.trans=U,Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=function(){throw new Error("Cursor not started")},Ie.fail=gt(Ee),Ie.next=function(){var $t=this,Ct=1;return this.start(function(){return Ct--?$t.continue():$t.stop()}).then(function(){return $t})},Ie.start=function($t){function Ct(){if(ge.result)try{$t()}catch(Yt){Ie.fail(Yt)}else Ie.done=!0,Ie.start=function(){throw new Error("Cursor behind last entry")},Ie.stop()}var Da=new Promise(function(Yt,Rn){Yt=gt(Yt),ge.onerror=mn(Rn),Ie.fail=Rn,Ie.stop=function(ks){Ie.stop=Ie.continue=Ie.continuePrimaryKey=Ie.advance=en,Yt(ks)}});return ge.onsuccess=gt(function(Yt){ge.onsuccess=Ct,Ct()}),Ie.continue=Be,Ie.continuePrimaryKey=Ye,Ie.advance=Ke,Ct(),Da},de(Ie)):de(null)},Ee)})},count:function(q){var U=q.query,V=q.trans,K=U.index,G=U.range;return new Promise(function(ee,de){var Ee=V.objectStore(z),me=K.isPrimaryKey?Ee:Ee.index(K.name),Ee=v(G),me=Ee?me.count(Ee):me.count();me.onsuccess=gt(function(pe){return ee(pe.target.result)}),me.onerror=mn(de)})}}}var S,T,O,B=(T=M,O=Sa((S=u).objectStoreNames),{schema:{name:S.name,tables:O.map(function(H){return T.objectStore(H)}).map(function(H){var R=H.keyPath,U=H.autoIncrement,z=y(R),q={},U={name:H.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:R==null,compound:z,keyPath:R,autoIncrement:U,unique:!0,extractKey:Lr(R)},indexes:Sa(H.indexNames).map(function(V){return H.index(V)}).map(function(ee){var K=ee.name,G=ee.unique,de=ee.multiEntry,ee=ee.keyPath,de={name:K,compound:y(ee),keyPath:ee,unique:G,multiEntry:de,extractKey:Lr(ee)};return q[Ht(ee)]=de}),getIndexByKeyPath:function(V){return q[Ht(V)]}};return q[":id"]=U.primaryKey,R!=null&&(q[Ht(R)]=U.primaryKey),U})},hasGetAll:0<O.length&&"getAll"in T.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),M=B.schema,k=B.hasGetAll,B=M.tables.map(b),D={};return B.forEach(function(H){return D[H.name]=H}),{stack:"dbcore",transaction:u.transaction.bind(u),table:function(H){if(!D[H])throw new Error("Table '".concat(H,"' not found"));return D[H]},MIN_KEY:-1/0,MAX_KEY:kr(f),schema:M}}function vs(u,f,p,v){var b=p.IDBKeyRange;return p.indexedDB,{dbcore:(v=Wi(f,b,v),u.dbcore.reduce(function(S,T){return T=T.create,a(a({},S),T(S))},v))}}function Ri(u,v){var p=v.db,v=vs(u._middlewares,p,u._deps,v);u.core=v.dbcore,u.tables.forEach(function(b){var S=b.name;u.core.schema.tables.some(function(T){return T.name===S})&&(b.core=u.core.table(S),u[S]instanceof u.Table&&(u[S].core=b.core))})}function gs(u,f,p,v){p.forEach(function(b){var S=v[b];f.forEach(function(T){var O=function M(k,B){return ve(k,B)||(k=E(k))&&M(k,B)}(T,b);(!O||"value"in O&&O.value===void 0)&&(T===u.Transaction.prototype||T instanceof u.Transaction?le(T,b,{get:function(){return this.table(b)},set:function(M){Q(this,b,{value:M,writable:!0,configurable:!0,enumerable:!0})}}):T[b]=new u.Table(b,S))})})}function wa(u,f){f.forEach(function(p){for(var v in p)p[v]instanceof u.Table&&delete p[v]})}function Tl(u,f){return u._cfg.version-f._cfg.version}function Ta(u,f,p,v){var b=u._dbSchema;p.objectStoreNames.contains("$meta")&&!b.$meta&&(b.$meta=Nr("$meta",nu("")[0],[]),u._storeNames.push("$meta"));var S=u._createTransaction("readwrite",u._storeNames,b);S.create(p),S._completion.catch(v);var T=S._reject.bind(S),O=Oe.transless||Oe;Dt(function(){return Oe.trans=S,Oe.transless=O,f!==0?(Ri(u,p),k=f,((M=S).storeNames.includes("$meta")?M.table("$meta").get("version").then(function(B){return B??k}):xe.resolve(k)).then(function(B){return H=B,R=S,z=p,q=[],B=(D=u)._versions,U=D._dbSchema=Ur(0,D.idbdb,z),(B=B.filter(function(V){return V._cfg.version>=H})).length!==0?(B.forEach(function(V){q.push(function(){var K=U,G=V._cfg.dbschema;Ss(D,K,z),Ss(D,G,z),U=D._dbSchema=G;var ee=bs(K,G);ee.add.forEach(function(we){xl(z,we[0],we[1].primKey,we[1].indexes)}),ee.change.forEach(function(we){if(we.recreate)throw new be.Upgrade("Not yet support for changing primary key");var ge=z.objectStore(we.name);we.add.forEach(function(Te){return Es(ge,Te)}),we.change.forEach(function(Te){ge.deleteIndex(Te.name),Es(ge,Te)}),we.del.forEach(function(Te){return ge.deleteIndex(Te)})});var de=V._cfg.contentUpgrade;if(de&&V._cfg.version>H){Ri(D,z),R._memoizedTables={};var Ee=Se(G);ee.del.forEach(function(we){Ee[we]=K[we]}),wa(D,[D.Transaction.prototype]),gs(D,[D.Transaction.prototype],m(Ee),Ee),R.schema=Ee;var me,pe=ke(de);return pe&&Bn(),ee=xe.follow(function(){var we;(me=de(R))&&pe&&(we=Kn.bind(null,null),me.then(we,we))}),me&&typeof me.then=="function"?xe.resolve(me):ee.then(function(){return me})}}),q.push(function(K){var G,ee,de=V._cfg.dbschema;G=de,ee=K,[].slice.call(ee.db.objectStoreNames).forEach(function(Ee){return G[Ee]==null&&ee.db.deleteObjectStore(Ee)}),wa(D,[D.Transaction.prototype]),gs(D,[D.Transaction.prototype],D._storeNames,D._dbSchema),R.schema=D._dbSchema}),q.push(function(K){D.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(D.idbdb.version/10)===V._cfg.version?(D.idbdb.deleteObjectStore("$meta"),delete D._dbSchema.$meta,D._storeNames=D._storeNames.filter(function(G){return G!=="$meta"})):K.objectStore("$meta").put(V._cfg.version,"version"))})}),function V(){return q.length?xe.resolve(q.shift()(R.idbtrans)).then(V):xe.resolve()}().then(function(){tu(U,z)})):xe.resolve();var D,H,R,z,q,U}).catch(T)):(m(b).forEach(function(B){xl(p,B,b[B].primKey,b[B].indexes)}),Ri(u,p),void xe.follow(function(){return u.on.populate.fire(S)}).catch(T));var M,k})}function _s(u,f){tu(u._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var p=Ur(0,u.idbdb,f);Ss(u,u._dbSchema,f);for(var v=0,b=bs(p,u._dbSchema).change;v<b.length;v++){var S=function(T){if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=f.objectStore(T.name);T.add.forEach(function(M){On&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(M.src)),Es(O,M)})}(b[v]);if(typeof S=="object")return S.value}}function bs(u,f){var p,v={del:[],add:[],change:[]};for(p in u)f[p]||v.del.push(p);for(p in f){var b=u[p],S=f[p];if(b){var T={name:p,def:S,recreate:!1,del:[],add:[],change:[]};if(""+(b.primKey.keyPath||"")!=""+(S.primKey.keyPath||"")||b.primKey.auto!==S.primKey.auto)T.recreate=!0,v.change.push(T);else{var O=b.idxByName,M=S.idxByName,k=void 0;for(k in O)M[k]||T.del.push(k);for(k in M){var B=O[k],D=M[k];B?B.src!==D.src&&T.change.push(D):T.add.push(D)}(0<T.del.length||0<T.add.length||0<T.change.length)&&v.change.push(T)}}else v.add.push([p,S])}return v}function xl(u,f,p,v){var b=u.db.createObjectStore(f,p.keyPath?{keyPath:p.keyPath,autoIncrement:p.auto}:{autoIncrement:p.auto});return v.forEach(function(S){return Es(b,S)}),b}function tu(u,f){m(u).forEach(function(p){f.db.objectStoreNames.contains(p)||(On&&console.debug("Dexie: Creating missing table",p),xl(f,p,u[p].primKey,u[p].indexes))})}function Es(u,f){u.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function Ur(u,f,p){var v={};return je(f.objectStoreNames,0).forEach(function(b){for(var S=p.objectStore(b),T=Zn(ys(k=S.keyPath),k||"",!0,!1,!!S.autoIncrement,k&&typeof k!="string",!0),O=[],M=0;M<S.indexNames.length;++M){var B=S.index(S.indexNames[M]),k=B.keyPath,B=Zn(B.name,k,!!B.unique,!!B.multiEntry,!1,k&&typeof k!="string",!1);O.push(B)}v[b]=Nr(b,T,O)}),v}function Ss(u,f,p){for(var v=p.db.objectStoreNames,b=0;b<v.length;++b){var S=v[b],T=p.objectStore(S);u._hasGetAll="getAll"in T;for(var O=0;O<T.indexNames.length;++O){var M=T.indexNames[O],k=T.index(M).keyPath,B=typeof k=="string"?k:"["+je(k).join("+")+"]";!f[S]||(k=f[S].idxByName[B])&&(k.name=M,delete f[S].idxByName[B],f[S].idxByName[M]=k)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u._hasGetAll=!1)}function nu(u){return u.split(",").map(function(f,p){var v=(f=f.trim()).replace(/([&*]|\+\+)/g,""),b=/^\[/.test(v)?v.match(/^\[(.*)\]$/)[1].split("+"):v;return Zn(v,b||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),y(b),p===0)})}var tf=(ws.prototype._parseStoresSpec=function(u,f){m(u).forEach(function(p){if(u[p]!==null){var v=nu(u[p]),b=v.shift();if(b.unique=!0,b.multi)throw new be.Schema("Primary key cannot be multi-valued");v.forEach(function(S){if(S.auto)throw new be.Schema("Only primary key can be marked as autoIncrement (++)");if(!S.keyPath)throw new be.Schema("Index must have a name and cannot be an empty string")}),f[p]=Nr(p,b,v)}})},ws.prototype.stores=function(p){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?g(this._cfg.storesSource,p):p;var p=f._versions,v={},b={};return p.forEach(function(S){g(v,S._cfg.storesSource),b=S._cfg.dbschema={},S._parseStoresSpec(v,b)}),f._dbSchema=b,wa(f,[f._allTables,f,f.Transaction.prototype]),gs(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],m(b),b),f._storeNames=m(b),this},ws.prototype.upgrade=function(u){return this._cfg.contentUpgrade=xr(this._cfg.contentUpgrade||Pe,u),this},ws);function ws(){}function Cl(u,f){var p=u._dbNamesDB;return p||(p=u._dbNamesDB=new Wn(Gn,{addons:[],indexedDB:u,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),p.table("dbnames")}function Ts(u){return u&&typeof u.databases=="function"}function Al(u){return Dt(function(){return Oe.letThrough=!0,u()})}function Ol(u){return!("from"in u)}var Jt=function(u,f){if(!this){var p=new Jt;return u&&"d"in u&&g(p,u),p}g(this,arguments.length?{d:1,from:u,to:1<arguments.length?f:u}:{d:0})};function xa(u,f,p){var v=Qe(f,p);if(!isNaN(v)){if(0<v)throw RangeError();if(Ol(u))return g(u,{from:f,to:p,d:1});var b=u.l,v=u.r;if(Qe(p,u.from)<0)return b?xa(b,f,p):u.l={from:f,to:p,d:1,l:null,r:null},ru(u);if(0<Qe(f,u.to))return v?xa(v,f,p):u.r={from:f,to:p,d:1,l:null,r:null},ru(u);Qe(f,u.from)<0&&(u.from=f,u.l=null,u.d=v?v.d+1:1),0<Qe(p,u.to)&&(u.to=p,u.r=null,u.d=u.l?u.l.d+1:1),p=!u.r,b&&!u.l&&Ji(u,b),v&&p&&Ji(u,v)}}function Ji(u,f){Ol(f)||function p(v,M){var S=M.from,T=M.to,O=M.l,M=M.r;xa(v,S,T),O&&p(v,O),M&&p(v,M)}(u,f)}function iu(u,f){var p=xs(f),v=p.next();if(v.done)return!1;for(var b=v.value,S=xs(u),T=S.next(b.from),O=T.value;!v.done&&!T.done;){if(Qe(O.from,b.to)<=0&&0<=Qe(O.to,b.from))return!0;Qe(b.from,O.from)<0?b=(v=p.next(O.from)).value:O=(T=S.next(b.from)).value}return!1}function xs(u){var f=Ol(u)?null:{s:0,n:u};return{next:function(p){for(var v=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,v)for(;f.n.l&&Qe(p,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!v||Qe(p,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function ru(u){var f,p,v=(((f=u.r)===null||f===void 0?void 0:f.d)||0)-(((p=u.l)===null||p===void 0?void 0:p.d)||0),b=1<v?"r":v<-1?"l":"";b&&(f=b=="r"?"l":"r",p=a({},u),v=u[b],u.from=v.from,u.to=v.to,u[b]=v[b],p[b]=v[f],(u[f]=p).d=Dl(p)),u.d=Dl(u)}function Dl(p){var f=p.r,p=p.l;return(f?p?Math.max(f.d,p.d):f.d:p?p.d:0)+1}function Cs(u,f){return m(f).forEach(function(p){u[p]?Ji(u[p],f[p]):u[p]=function v(b){var S,T,O={};for(S in b)x(b,S)&&(T=b[S],O[S]=!T||typeof T!="object"||W.has(T.constructor)?T:v(T));return O}(f[p])}),u}function Ml(u,f){return u.all||f.all||Object.keys(u).some(function(p){return f[p]&&iu(f[p],u[p])})}N(Jt.prototype,((Tn={add:function(u){return Ji(this,u),this},addKey:function(u){return xa(this,u,u),this},addKeys:function(u){var f=this;return u.forEach(function(p){return xa(f,p,p)}),this},hasKey:function(u){var f=xs(this).next(u).value;return f&&Qe(f.from,u)<=0&&0<=Qe(f.to,u)}})[Y]=function(){return xs(this)},Tn));var er={},Rl={},Nl=!1;function As(u){Cs(Rl,u),Nl||(Nl=!0,setTimeout(function(){Nl=!1,kl(Rl,!(Rl={}))},0))}function kl(u,f){f===void 0&&(f=!1);var p=new Set;if(u.all)for(var v=0,b=Object.values(er);v<b.length;v++)au(T=b[v],u,p,f);else for(var S in u){var T,O=/^idb\:\/\/(.*)\/(.*)\//.exec(S);O&&(S=O[1],O=O[2],(T=er["idb://".concat(S,"/").concat(O)])&&au(T,u,p,f))}p.forEach(function(M){return M()})}function au(u,f,p,v){for(var b=[],S=0,T=Object.entries(u.queries.query);S<T.length;S++){for(var O=T[S],M=O[0],k=[],B=0,D=O[1];B<D.length;B++){var H=D[B];Ml(f,H.obsSet)?H.subscribers.forEach(function(U){return p.add(U)}):v&&k.push(H)}v&&b.push([M,k])}if(v)for(var R=0,z=b;R<z.length;R++){var q=z[R],M=q[0],k=q[1];u.queries.query[M]=k}}function nf(u){var f=u._state,p=u._deps.indexedDB;if(f.isBeingOpened||u.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?_t(f.dbOpenError):u});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var v=f.openCanceller,b=Math.round(10*u.verno),S=!1;function T(){if(f.openCanceller!==v)throw new be.DatabaseClosed("db.open() was cancelled")}function O(){return new xe(function(H,R){if(T(),!p)throw new be.MissingAPI;var z=u.name,q=f.autoSchema||!b?p.open(z):p.open(z,b);if(!q)throw new be.MissingAPI;q.onerror=mn(R),q.onblocked=gt(u._fireOnBlocked),q.onupgradeneeded=gt(function(U){var V;B=q.transaction,f.autoSchema&&!u._options.allowEmptyDB?(q.onerror=Rr,B.abort(),q.result.close(),(V=p.deleteDatabase(z)).onsuccess=V.onerror=gt(function(){R(new be.NoSuchDatabase("Database ".concat(z," doesnt exist")))})):(B.onerror=mn(R),U=U.oldVersion>Math.pow(2,62)?0:U.oldVersion,D=U<1,u.idbdb=q.result,S&&_s(u,B),Ta(u,U/10,B,R))},R),q.onsuccess=gt(function(){B=null;var U,V,K,G,ee,de=u.idbdb=q.result,Ee=je(de.objectStoreNames);if(0<Ee.length)try{var me=de.transaction((G=Ee).length===1?G[0]:G,"readonly");if(f.autoSchema)V=de,K=me,(U=u).verno=V.version/10,K=U._dbSchema=Ur(0,V,K),U._storeNames=je(V.objectStoreNames,0),gs(U,[U._allTables],m(K),K);else if(Ss(u,u._dbSchema,me),((ee=bs(Ur(0,(ee=u).idbdb,me),ee._dbSchema)).add.length||ee.change.some(function(pe){return pe.add.length||pe.change.length}))&&!S)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),b=de.version+1,S=!0,H(O());Ri(u,me)}catch{}Gi.push(u),de.onversionchange=gt(function(pe){f.vcFired=!0,u.on("versionchange").fire(pe)}),de.onclose=gt(function(pe){u.on("close").fire(pe)}),D&&(ee=u._deps,me=z,de=ee.indexedDB,ee=ee.IDBKeyRange,Ts(de)||me===Gn||Cl(de,ee).put({name:me}).catch(Pe)),H()},R)}).catch(function(H){switch(H==null?void 0:H.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<b)return b=0,O()}return xe.reject(H)})}var M,k=f.dbReadyResolve,B=null,D=!1;return xe.race([v,(typeof navigator>"u"?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(H){function R(){return indexedDB.databases().finally(H)}M=setInterval(R,100),R()}).finally(function(){return clearInterval(M)}):Promise.resolve()).then(O)]).then(function(){return T(),f.onReadyBeingFired=[],xe.resolve(Al(function(){return u.on.ready.fire(u.vip)})).then(function H(){if(0<f.onReadyBeingFired.length){var R=f.onReadyBeingFired.reduce(xr,Pe);return f.onReadyBeingFired=[],xe.resolve(Al(function(){return R(u.vip)})).then(H)}})}).finally(function(){f.openCanceller===v&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(H){f.dbOpenError=H;try{B&&B.abort()}catch{}return v===f.openCanceller&&u._close(),_t(H)}).finally(function(){f.openComplete=!0,k()}).then(function(){var H;return D&&(H={},u.tables.forEach(function(R){R.schema.indexes.forEach(function(z){z.name&&(H["idb://".concat(u.name,"/").concat(R.name,"/").concat(z.name)]=new Jt(-1/0,[[[]]]))}),H["idb://".concat(u.name,"/").concat(R.name,"/")]=H["idb://".concat(u.name,"/").concat(R.name,"/:dels")]=new Jt(-1/0,[[[]]])}),Mn(Zi).fire(H),kl(H,!0)),u})}function Ca(u){function f(S){return u.next(S)}var p=b(f),v=b(function(S){return u.throw(S)});function b(S){return function(M){var O=S(M),M=O.value;return O.done?M:M&&typeof M.then=="function"?M.then(p,v):y(M)?Promise.all(M).then(p,v):p(M)}}return b(f)()}function Ni(u,f,p){for(var v=y(u)?u.slice():[u],b=0;b<p;++b)v.push(f);return v}var rf={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(u){return a(a({},u),{table:function(f){var p=u.table(f),v=p.schema,b={},S=[];function T(D,H,R){var z=Ht(D),q=b[z]=b[z]||[],U=D==null?0:typeof D=="string"?1:D.length,V=0<H,V=a(a({},R),{name:V?"".concat(z,"(virtual-from:").concat(R.name,")"):R.name,lowLevelIndex:R,isVirtual:V,keyTail:H,keyLength:U,extractKey:Lr(D),unique:!V&&R.unique});return q.push(V),V.isPrimaryKey||S.push(V),1<U&&T(U===2?D[0]:D.slice(0,U-1),H+1,R),q.sort(function(K,G){return K.keyTail-G.keyTail}),V}f=T(v.primaryKey.keyPath,0,v.primaryKey),b[":id"]=[f];for(var O=0,M=v.indexes;O<M.length;O++){var k=M[O];T(k.keyPath,0,k)}function B(D){var H,R=D.query.index;return R.isVirtual?a(a({},D),{query:{index:R.lowLevelIndex,range:(H=D.query.range,R=R.keyTail,{type:H.type===1?2:H.type,lower:Ni(H.lower,H.lowerOpen?u.MAX_KEY:u.MIN_KEY,R),lowerOpen:!0,upper:Ni(H.upper,H.upperOpen?u.MIN_KEY:u.MAX_KEY,R),upperOpen:!0})}}):D}return a(a({},p),{schema:a(a({},v),{primaryKey:f,indexes:S,getIndexByKeyPath:function(D){return(D=b[Ht(D)])&&D[0]}}),count:function(D){return p.count(B(D))},query:function(D){return p.query(B(D))},openCursor:function(D){var H=D.query.index,R=H.keyTail,z=H.isVirtual,q=H.keyLength;return z?p.openCursor(B(D)).then(function(V){return V&&U(V)}):p.openCursor(D);function U(V){return Object.create(V,{continue:{value:function(K){K!=null?V.continue(Ni(K,D.reverse?u.MAX_KEY:u.MIN_KEY,R)):D.unique?V.continue(V.key.slice(0,q).concat(D.reverse?u.MIN_KEY:u.MAX_KEY,R)):V.continue()}},continuePrimaryKey:{value:function(K,G){V.continuePrimaryKey(Ni(K,u.MAX_KEY,R),G)}},primaryKey:{get:function(){return V.primaryKey}},key:{get:function(){var K=V.key;return q===1?K[0]:K.slice(0,q)}},value:{get:function(){return V.value}}})}}})}})}};function Os(u,f,p,v){return p=p||{},v=v||"",m(u).forEach(function(b){var S,T,O;x(f,b)?(S=u[b],T=f[b],typeof S=="object"&&typeof T=="object"&&S&&T?(O=ue(S))!==ue(T)?p[v+b]=f[b]:O==="Object"?Os(S,T,p,v+b+"."):S!==T&&(p[v+b]=f[b]):S!==T&&(p[v+b]=f[b])):p[v+b]=void 0}),m(f).forEach(function(b){x(u,b)||(p[v+b]=f[b])}),p}function Ds(u,f){return f.type==="delete"?f.keys:f.keys||f.values.map(u.extractKey)}var su={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(u){return a(a({},u),{table:function(f){var p=u.table(f),v=p.schema.primaryKey;return a(a({},p),{mutate:function(b){var S=Oe.trans,T=S.table(f).hook,O=T.deleting,M=T.creating,k=T.updating;switch(b.type){case"add":if(M.fire===Pe)break;return S._promise("readwrite",function(){return B(b)},!0);case"put":if(M.fire===Pe&&k.fire===Pe)break;return S._promise("readwrite",function(){return B(b)},!0);case"delete":if(O.fire===Pe)break;return S._promise("readwrite",function(){return B(b)},!0);case"deleteRange":if(O.fire===Pe)break;return S._promise("readwrite",function(){return function D(H,R,z){return p.query({trans:H,values:!1,query:{index:v,range:R},limit:z}).then(function(q){var U=q.result;return B({type:"delete",keys:U,trans:H}).then(function(V){return 0<V.numFailures?Promise.reject(V.failures[0]):U.length<z?{failures:[],numFailures:0,lastResult:void 0}:D(H,a(a({},R),{lower:U[U.length-1],lowerOpen:!0}),z)})})}(b.trans,b.range,1e4)},!0)}return p.mutate(b);function B(D){var H,R,z,q=Oe.trans,U=D.keys||Ds(v,D);if(!U)throw new Error("Keys missing");return(D=D.type==="add"||D.type==="put"?a(a({},D),{keys:U}):a({},D)).type!=="delete"&&(D.values=o([],D.values)),D.keys&&(D.keys=o([],D.keys)),H=p,z=U,((R=D).type==="add"?Promise.resolve([]):H.getMany({trans:R.trans,keys:z,cache:"immutable"})).then(function(V){var K=U.map(function(G,ee){var de,Ee,me,pe=V[ee],we={onerror:null,onsuccess:null};return D.type==="delete"?O.fire.call(we,G,pe,q):D.type==="add"||pe===void 0?(de=M.fire.call(we,G,D.values[ee],q),G==null&&de!=null&&(D.keys[ee]=G=de,v.outbound||ne(D.values[ee],v.keyPath,G))):(de=Os(pe,D.values[ee]),(Ee=k.fire.call(we,de,G,pe,q))&&(me=D.values[ee],Object.keys(Ee).forEach(function(ge){x(me,ge)?me[ge]=Ee[ge]:ne(me,ge,Ee[ge])}))),we});return p.mutate(D).then(function(G){for(var ee=G.failures,de=G.results,Ee=G.numFailures,G=G.lastResult,me=0;me<U.length;++me){var pe=(de||U)[me],we=K[me];pe==null?we.onerror&&we.onerror(ee[me]):we.onsuccess&&we.onsuccess(D.type==="put"&&V[me]?D.values[me]:pe)}return{failures:ee,results:de,numFailures:Ee,lastResult:G}}).catch(function(G){return K.forEach(function(ee){return ee.onerror&&ee.onerror(G)}),Promise.reject(G)})})}}})}})}};function Ll(u,f,p){try{if(!f||f.keys.length<u.length)return null;for(var v=[],b=0,S=0;b<f.keys.length&&S<u.length;++b)Qe(f.keys[b],u[S])===0&&(v.push(p?ie(f.values[b]):f.values[b]),++S);return v.length===u.length?v:null}catch{return null}}var lu={stack:"dbcore",level:-1,create:function(u){return{table:function(f){var p=u.table(f);return a(a({},p),{getMany:function(v){if(!v.cache)return p.getMany(v);var b=Ll(v.keys,v.trans._cache,v.cache==="clone");return b?xe.resolve(b):p.getMany(v).then(function(S){return v.trans._cache={keys:v.keys,values:v.cache==="clone"?ie(S):S},S})},mutate:function(v){return v.type!=="add"&&(v.trans._cache=null),p.mutate(v)}})}}}};function tr(u,f){return u.trans.mode==="readonly"&&!!u.subscr&&!u.trans.explicit&&u.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function ou(u,f){switch(u){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var af={stack:"dbcore",level:0,name:"Observability",create:function(u){var f=u.schema.name,p=new Jt(u.MIN_KEY,u.MAX_KEY);return a(a({},u),{transaction:function(v,b,S){if(Oe.subscr&&b!=="readonly")throw new be.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return u.transaction(v,b,S)},table:function(v){var b=u.table(v),S=b.schema,T=S.primaryKey,D=S.indexes,O=T.extractKey,M=T.outbound,k=T.autoIncrement&&D.filter(function(R){return R.compound&&R.keyPath.includes(T.keyPath)}),B=a(a({},b),{mutate:function(R){function z(ge){return ge="idb://".concat(f,"/").concat(v,"/").concat(ge),G[ge]||(G[ge]=new Jt)}var q,U,V,K=R.trans,G=R.mutatedParts||(R.mutatedParts={}),ee=z(""),de=z(":dels"),Ee=R.type,we=R.type==="deleteRange"?[R.range]:R.type==="delete"?[R.keys]:R.values.length<50?[Ds(T,R).filter(function(ge){return ge}),R.values]:[],me=we[0],pe=we[1],we=R.trans._cache;return y(me)?(ee.addKeys(me),(we=Ee==="delete"||me.length===pe.length?Ll(me,we):null)||de.addKeys(me),(we||pe)&&(q=z,U=we,V=pe,S.indexes.forEach(function(ge){var Te=q(ge.name||"");function Be(Ke){return Ke!=null?ge.extractKey(Ke):null}function Ye(Ke){return ge.multiEntry&&y(Ke)?Ke.forEach(function(en){return Te.addKey(en)}):Te.addKey(Ke)}(U||V).forEach(function(Ke,$t){var Ie=U&&Be(U[$t]),$t=V&&Be(V[$t]);Qe(Ie,$t)!==0&&(Ie!=null&&Ye(Ie),$t!=null&&Ye($t))})}))):me?(pe={from:(pe=me.lower)!==null&&pe!==void 0?pe:u.MIN_KEY,to:(pe=me.upper)!==null&&pe!==void 0?pe:u.MAX_KEY},de.add(pe),ee.add(pe)):(ee.add(p),de.add(p),S.indexes.forEach(function(ge){return z(ge.name).add(p)})),b.mutate(R).then(function(ge){return!me||R.type!=="add"&&R.type!=="put"||(ee.addKeys(ge.results),k&&k.forEach(function(Te){for(var Be=R.values.map(function(Ie){return Te.extractKey(Ie)}),Ye=Te.keyPath.findIndex(function(Ie){return Ie===T.keyPath}),Ke=0,en=ge.results.length;Ke<en;++Ke)Be[Ke][Ye]=ge.results[Ke];z(Te.name).addKeys(Be)})),K.mutatedParts=Cs(K.mutatedParts||{},G),ge})}}),D=function(z){var q=z.query,z=q.index,q=q.range;return[z,new Jt((z=q.lower)!==null&&z!==void 0?z:u.MIN_KEY,(q=q.upper)!==null&&q!==void 0?q:u.MAX_KEY)]},H={get:function(R){return[T,new Jt(R.key)]},getMany:function(R){return[T,new Jt().addKeys(R.keys)]},count:D,query:D,openCursor:D};return m(H).forEach(function(R){B[R]=function(z){var q=Oe.subscr,U=!!q,V=tr(Oe,b)&&ou(R,z)?z.obsSet={}:q;if(U){var K=function(pe){return pe="idb://".concat(f,"/").concat(v,"/").concat(pe),V[pe]||(V[pe]=new Jt)},G=K(""),ee=K(":dels"),q=H[R](z),U=q[0],q=q[1];if((R==="query"&&U.isPrimaryKey&&!z.values?ee:K(U.name||"")).add(q),!U.isPrimaryKey){if(R!=="count"){var de=R==="query"&&M&&z.values&&b.query(a(a({},z),{values:!1}));return b[R].apply(this,arguments).then(function(pe){if(R==="query"){if(M&&z.values)return de.then(function(Be){return Be=Be.result,G.addKeys(Be),pe});var we=z.values?pe.result.map(O):pe.result;(z.values?G:ee).addKeys(we)}else if(R==="openCursor"){var ge=pe,Te=z.values;return ge&&Object.create(ge,{key:{get:function(){return ee.addKey(ge.primaryKey),ge.key}},primaryKey:{get:function(){var Be=ge.primaryKey;return ee.addKey(Be),Be}},value:{get:function(){return Te&&G.addKey(ge.primaryKey),ge.value}}})}return pe})}ee.add(p)}}return b[R].apply(this,arguments)}}),B}})}};function uu(u,f,p){if(p.numFailures===0)return f;if(f.type==="deleteRange")return null;var v=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return p.numFailures===v?null:(f=a({},f),y(f.keys)&&(f.keys=f.keys.filter(function(b,S){return!(S in p.failures)})),"values"in f&&y(f.values)&&(f.values=f.values.filter(function(b,S){return!(S in p.failures)})),f)}function Ms(u,f){return p=u,((v=f).lower===void 0||(v.lowerOpen?0<Qe(p,v.lower):0<=Qe(p,v.lower)))&&(u=u,(f=f).upper===void 0||(f.upperOpen?Qe(u,f.upper)<0:Qe(u,f.upper)<=0));var p,v}function Ul(u,f,H,v,b,S){if(!H||H.length===0)return u;var T=f.query.index,O=T.multiEntry,M=f.query.range,k=v.schema.primaryKey.extractKey,B=T.extractKey,D=(T.lowLevelIndex||T).extractKey,H=H.reduce(function(R,z){var q=R,U=[];if(z.type==="add"||z.type==="put")for(var V=new Jt,K=z.values.length-1;0<=K;--K){var G,ee=z.values[K],de=k(ee);V.hasKey(de)||(G=B(ee),(O&&y(G)?G.some(function(ge){return Ms(ge,M)}):Ms(G,M))&&(V.addKey(de),U.push(ee)))}switch(z.type){case"add":var Ee=new Jt().addKeys(f.values?R.map(function(Te){return k(Te)}):R),q=R.concat(f.values?U.filter(function(Te){return Te=k(Te),!Ee.hasKey(Te)&&(Ee.addKey(Te),!0)}):U.map(function(Te){return k(Te)}).filter(function(Te){return!Ee.hasKey(Te)&&(Ee.addKey(Te),!0)}));break;case"put":var me=new Jt().addKeys(z.values.map(function(Te){return k(Te)}));q=R.filter(function(Te){return!me.hasKey(f.values?k(Te):Te)}).concat(f.values?U:U.map(function(Te){return k(Te)}));break;case"delete":var pe=new Jt().addKeys(z.keys);q=R.filter(function(Te){return!pe.hasKey(f.values?k(Te):Te)});break;case"deleteRange":var we=z.range;q=R.filter(function(Te){return!Ms(k(Te),we)})}return q},u);return H===u?u:(H.sort(function(R,z){return Qe(D(R),D(z))||Qe(k(R),k(z))}),f.limit&&f.limit<1/0&&(H.length>f.limit?H.length=f.limit:u.length===f.limit&&H.length<f.limit&&(b.dirty=!0)),S?Object.freeze(H):H)}function zr(u,f){return Qe(u.lower,f.lower)===0&&Qe(u.upper,f.upper)===0&&!!u.lowerOpen==!!f.lowerOpen&&!!u.upperOpen==!!f.upperOpen}function Aa(u,f){return function(p,v,b,S){if(p===void 0)return v!==void 0?-1:0;if(v===void 0)return 1;if((v=Qe(p,v))===0){if(b&&S)return 0;if(b)return 1;if(S)return-1}return v}(u.lower,f.lower,u.lowerOpen,f.lowerOpen)<=0&&0<=function(p,v,b,S){if(p===void 0)return v!==void 0?1:0;if(v===void 0)return-1;if((v=Qe(p,v))===0){if(b&&S)return 0;if(b)return-1;if(S)return 1}return v}(u.upper,f.upper,u.upperOpen,f.upperOpen)}function sf(u,f,p,v){u.subscribers.add(p),v.addEventListener("abort",function(){var b,S;u.subscribers.delete(p),u.subscribers.size===0&&(b=u,S=f,setTimeout(function(){b.subscribers.size===0&&X(S,b)},3e3))})}var Rs={stack:"dbcore",level:0,name:"Cache",create:function(u){var f=u.schema.name;return a(a({},u),{transaction:function(p,v,b){var S,T,O=u.transaction(p,v,b);return v==="readwrite"&&(T=(S=new AbortController).signal,b=function(M){return function(){if(S.abort(),v==="readwrite"){for(var k=new Set,B=0,D=p;B<D.length;B++){var H=D[B],R=er["idb://".concat(f,"/").concat(H)];if(R){var z=u.table(H),q=R.optimisticOps.filter(function(Te){return Te.trans===O});if(O._explicit&&M&&O.mutatedParts)for(var U=0,V=Object.values(R.queries.query);U<V.length;U++)for(var K=0,G=(Ee=V[U]).slice();K<G.length;K++)Ml((me=G[K]).obsSet,O.mutatedParts)&&(X(Ee,me),me.subscribers.forEach(function(Te){return k.add(Te)}));else if(0<q.length){R.optimisticOps=R.optimisticOps.filter(function(Te){return Te.trans!==O});for(var ee=0,de=Object.values(R.queries.query);ee<de.length;ee++)for(var Ee,me,pe,we=0,ge=(Ee=de[ee]).slice();we<ge.length;we++)(me=ge[we]).res!=null&&O.mutatedParts&&(M&&!me.dirty?(pe=Object.isFrozen(me.res),pe=Ul(me.res,me.req,q,z,me,pe),me.dirty?(X(Ee,me),me.subscribers.forEach(function(Te){return k.add(Te)})):pe!==me.res&&(me.res=pe,me.promise=xe.resolve({result:pe}))):(me.dirty&&X(Ee,me),me.subscribers.forEach(function(Te){return k.add(Te)})))}}}k.forEach(function(Te){return Te()})}}},O.addEventListener("abort",b(!1),{signal:T}),O.addEventListener("error",b(!1),{signal:T}),O.addEventListener("complete",b(!0),{signal:T})),O},table:function(p){var v=u.table(p),b=v.schema.primaryKey;return a(a({},v),{mutate:function(S){var T=Oe.trans;if(b.outbound||T.db._options.cache==="disabled"||T.explicit||T.idbtrans.mode!=="readwrite")return v.mutate(S);var O=er["idb://".concat(f,"/").concat(p)];return O?(T=v.mutate(S),S.type!=="add"&&S.type!=="put"||!(50<=S.values.length||Ds(b,S).some(function(M){return M==null}))?(O.optimisticOps.push(S),S.mutatedParts&&As(S.mutatedParts),T.then(function(M){0<M.numFailures&&(X(O.optimisticOps,S),(M=uu(0,S,M))&&O.optimisticOps.push(M),S.mutatedParts&&As(S.mutatedParts))}),T.catch(function(){X(O.optimisticOps,S),S.mutatedParts&&As(S.mutatedParts)})):T.then(function(M){var k=uu(0,a(a({},S),{values:S.values.map(function(B,D){var H;return M.failures[D]?B:(B=(H=b.keyPath)!==null&&H!==void 0&&H.includes(".")?ie(B):a({},B),ne(B,b.keyPath,M.results[D]),B)})}),M);O.optimisticOps.push(k),queueMicrotask(function(){return S.mutatedParts&&As(S.mutatedParts)})}),T):v.mutate(S)},query:function(S){if(!tr(Oe,v)||!ou("query",S))return v.query(S);var T=((k=Oe.trans)===null||k===void 0?void 0:k.db._options.cache)==="immutable",D=Oe,O=D.requery,M=D.signal,k=function(z,q,U,V){var K=er["idb://".concat(z,"/").concat(q)];if(!K)return[];if(!(q=K.queries[U]))return[null,!1,K,null];var G=q[(V.query?V.query.index.name:null)||""];if(!G)return[null,!1,K,null];switch(U){case"query":var ee=G.find(function(de){return de.req.limit===V.limit&&de.req.values===V.values&&zr(de.req.query.range,V.query.range)});return ee?[ee,!0,K,G]:[G.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=V.limit&&(!V.values||de.req.values)&&Aa(de.req.query.range,V.query.range)}),!1,K,G];case"count":return ee=G.find(function(de){return zr(de.req.query.range,V.query.range)}),[ee,!!ee,K,G]}}(f,p,"query",S),B=k[0],D=k[1],H=k[2],R=k[3];return B&&D?B.obsSet=S.obsSet:(D=v.query(S).then(function(z){var q=z.result;if(B&&(B.res=q),T){for(var U=0,V=q.length;U<V;++U)Object.freeze(q[U]);Object.freeze(q)}else z.result=ie(q);return z}).catch(function(z){return R&&B&&X(R,B),Promise.reject(z)}),B={obsSet:S.obsSet,promise:D,subscribers:new Set,type:"query",req:S,dirty:!1},R?R.push(B):(R=[B],(H=H||(er["idb://".concat(f,"/").concat(p)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[S.query.index.name||""]=R)),sf(B,R,O,M),B.promise.then(function(z){return{result:Ul(z.result,S,H==null?void 0:H.optimisticOps,v,B,T)}})}})}})}};function Oa(u,f){return new Proxy(u,{get:function(p,v,b){return v==="db"?f:Reflect.get(p,v,b)}})}var Wn=(xt.prototype.version=function(u){if(isNaN(u)||u<.1)throw new be.Type("Given version is not a positive number");if(u=Math.round(10*u)/10,this.idbdb||this._state.isBeingOpened)throw new be.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,u);var f=this._versions,p=f.filter(function(v){return v._cfg.version===u})[0];return p||(p=new this.Version(u),f.push(p),f.sort(Tl),p.stores({}),this._state.autoSchema=!1,p)},xt.prototype._whenReady=function(u){var f=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?u():new xe(function(p,v){if(f._state.openComplete)return v(new be.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void v(new be.DatabaseClosed);f.open().catch(Pe)}f._state.dbReadyPromise.then(p,v)}).then(u)},xt.prototype.use=function(u){var f=u.stack,p=u.create,v=u.level,b=u.name;return b&&this.unuse({stack:f,name:b}),u=this._middlewares[f]||(this._middlewares[f]=[]),u.push({stack:f,create:p,level:v??10,name:b}),u.sort(function(S,T){return S.level-T.level}),this},xt.prototype.unuse=function(u){var f=u.stack,p=u.name,v=u.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(b){return v?b.create!==v:!!p&&b.name!==p})),this},xt.prototype.open=function(){var u=this;return hi(xi,function(){return nf(u)})},xt.prototype._close=function(){var u=this._state,f=Gi.indexOf(this);if(0<=f&&Gi.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}u.isBeingOpened||(u.dbReadyPromise=new xe(function(p){u.dbReadyResolve=p}),u.openCanceller=new xe(function(p,v){u.cancelOpen=v}))},xt.prototype.close=function(p){var f=(p===void 0?{disableAutoOpen:!0}:p).disableAutoOpen,p=this._state;f?(p.isBeingOpened&&p.cancelOpen(new be.DatabaseClosed),this._close(),p.autoOpen=!1,p.dbOpenError=new be.DatabaseClosed):(this._close(),p.autoOpen=this._options.autoOpen||p.isBeingOpened,p.openComplete=!1,p.dbOpenError=null)},xt.prototype.delete=function(u){var f=this;u===void 0&&(u={disableAutoOpen:!0});var p=0<arguments.length&&typeof arguments[0]!="object",v=this._state;return new xe(function(b,S){function T(){f.close(u);var O=f._deps.indexedDB.deleteDatabase(f.name);O.onsuccess=gt(function(){var M,k,B;M=f._deps,k=f.name,B=M.indexedDB,M=M.IDBKeyRange,Ts(B)||k===Gn||Cl(B,M).delete(k).catch(Pe),b()}),O.onerror=mn(S),O.onblocked=f._fireOnBlocked}if(p)throw new be.InvalidArgument("Invalid closeOptions argument to db.delete()");v.isBeingOpened?v.dbReadyPromise.then(T):T()})},xt.prototype.backendDB=function(){return this.idbdb},xt.prototype.isOpen=function(){return this.idbdb!==null},xt.prototype.hasBeenClosed=function(){var u=this._state.dbOpenError;return u&&u.name==="DatabaseClosed"},xt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},xt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(xt.prototype,"tables",{get:function(){var u=this;return m(this._allTables).map(function(f){return u._allTables[f]})},enumerable:!1,configurable:!0}),xt.prototype.transaction=function(){var u=(function(f,p,v){var b=arguments.length;if(b<2)throw new be.InvalidArgument("Too few arguments");for(var S=new Array(b-1);--b;)S[b-1]=arguments[b];return v=S.pop(),[f,oe(S),v]}).apply(this,arguments);return this._transaction.apply(this,u)},xt.prototype._transaction=function(u,f,p){var v=this,b=Oe.trans;b&&b.db===this&&u.indexOf("!")===-1||(b=null);var S,T,O=u.indexOf("?")!==-1;u=u.replace("!","").replace("?","");try{if(T=f.map(function(k){if(k=k instanceof v.Table?k.name:k,typeof k!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return k}),u=="r"||u===Di)S=Di;else{if(u!="rw"&&u!=qn)throw new be.InvalidArgument("Invalid transaction mode: "+u);S=qn}if(b){if(b.mode===Di&&S===qn){if(!O)throw new be.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");b=null}b&&T.forEach(function(k){if(b&&b.storeNames.indexOf(k)===-1){if(!O)throw new be.SubTransaction("Table "+k+" not included in parent transaction.");b=null}}),O&&b&&!b.active&&(b=null)}}catch(k){return b?b._promise(null,function(B,D){D(k)}):_t(k)}var M=(function k(B,D,H,R,z){return xe.resolve().then(function(){var q=Oe.transless||Oe,U=B._createTransaction(D,H,B._dbSchema,R);if(U.explicit=!0,q={trans:U,transless:q},R)U.idbtrans=R.idbtrans;else try{U.create(),U.idbtrans._explicit=!0,B._state.PR1398_maxLoop=3}catch(G){return G.name===qt.InvalidState&&B.isOpen()&&0<--B._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),B.close({disableAutoOpen:!1}),B.open().then(function(){return k(B,D,H,null,z)})):_t(G)}var V,K=ke(z);return K&&Bn(),q=xe.follow(function(){var G;(V=z.call(U,U))&&(K?(G=Kn.bind(null,null),V.then(G,G)):typeof V.next=="function"&&typeof V.throw=="function"&&(V=Ca(V)))},q),(V&&typeof V.then=="function"?xe.resolve(V).then(function(G){return U.active?G:_t(new be.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):q.then(function(){return V})).then(function(G){return R&&U._resolve(),U._completion.then(function(){return G})}).catch(function(G){return U._reject(G),_t(G)})})}).bind(null,this,S,T,b,p);return b?b._promise(S,M,"lock"):Oe.trans?hi(Oe.transless,function(){return v._whenReady(M)}):this._whenReady(M)},xt.prototype.table=function(u){if(!x(this._allTables,u))throw new be.InvalidTable("Table ".concat(u," does not exist"));return this._allTables[u]},xt);function xt(u,f){var p=this;this._middlewares={},this.verno=0;var v=xt.dependencies;this._options=f=a({addons:xt.addons,autoOpen:!0,indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},v=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var b,S,T,O,M,k={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Pe,dbReadyPromise:null,cancelOpen:Pe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};k.dbReadyPromise=new xe(function(D){k.dbReadyResolve=D}),k.openCanceller=new xe(function(D,H){k.cancelOpen=H}),this._state=k,this.name=u,this.on=ba(this,"populate","blocked","versionchange","close",{ready:[xr,Pe]}),this.on.ready.subscribe=De(this.on.ready.subscribe,function(D){return function(H,R){xt.vip(function(){var z,q=p._state;q.openComplete?(q.dbOpenError||xe.resolve().then(H),R&&D(H)):q.onReadyBeingFired?(q.onReadyBeingFired.push(H),R&&D(H)):(D(H),z=p,R||D(function U(){z.on.ready.unsubscribe(H),z.on.ready.unsubscribe(U)}))})}}),this.Collection=(b=this,Mi(Zo.prototype,function(V,U){this.db=b;var R=_l,z=null;if(U)try{R=U()}catch(K){z=K}var q=V._ctx,U=q.table,V=U.hook.reading.fire;this._ctx={table:U,index:q.index,isPrimKey:!q.index||U.schema.primKey.keyPath&&q.index===U.schema.primKey.name,range:R,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:z,or:q.or,valueMapper:V!==Ot?V:null}})),this.Table=(S=this,Mi(wn.prototype,function(D,H,R){this.db=S,this._tx=R,this.name=D,this.schema=H,this.hook=S._allTables[D]?S._allTables[D].hook:ba(null,{creating:[Fn,Pe],reading:[ui,Ot],updating:[Ei,Pe],deleting:[Hi,Pe]})})),this.Transaction=(T=this,Mi(wl.prototype,function(D,H,R,z,q){var U=this;this.db=T,this.mode=D,this.storeNames=H,this.schema=R,this.chromeTransactionDurability=z,this.idbtrans=null,this.on=ba(this,"complete","error","abort"),this.parent=q||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(V,K){U._resolve=V,U._reject=K}),this._completion.then(function(){U.active=!1,U.on.complete.fire()},function(V){var K=U.active;return U.active=!1,U.on.error.fire(V),U.parent?U.parent._reject(V):K&&U.idbtrans&&U.idbtrans.abort(),_t(V)})})),this.Version=(O=this,Mi(tf.prototype,function(D){this.db=O,this._cfg={version:D,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(M=this,Mi(ms.prototype,function(D,H,R){if(this.db=M,this._ctx={table:D,index:H===":id"?null:H,or:R},this._cmp=this._ascending=Qe,this._descending=function(z,q){return Qe(q,z)},this._max=function(z,q){return 0<Qe(z,q)?z:q},this._min=function(z,q){return Qe(z,q)<0?z:q},this._IDBKeyRange=M._deps.IDBKeyRange,!this._IDBKeyRange)throw new be.MissingAPI})),this.on("versionchange",function(D){0<D.newVersion?console.warn("Another connection wants to upgrade database '".concat(p.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(p.name,"'. Closing db now to resume the delete request.")),p.close({disableAutoOpen:!1})}),this.on("blocked",function(D){!D.newVersion||D.newVersion<D.oldVersion?console.warn("Dexie.delete('".concat(p.name,"') was blocked")):console.warn("Upgrade '".concat(p.name,"' blocked by other connection holding version ").concat(D.oldVersion/10))}),this._maxKey=kr(f.IDBKeyRange),this._createTransaction=function(D,H,R,z){return new p.Transaction(D,H,R,p._options.chromeTransactionDurability,z)},this._fireOnBlocked=function(D){p.on("blocked").fire(D),Gi.filter(function(H){return H.name===p.name&&H!==p&&!H._state.vcFired}).map(function(H){return H.on("versionchange").fire(D)})},this.use(lu),this.use(Rs),this.use(af),this.use(rf),this.use(su);var B=new Proxy(this,{get:function(D,H,R){if(H==="_vip")return!0;if(H==="table")return function(q){return Oa(p.table(q),B)};var z=Reflect.get(D,H,R);return z instanceof wn?Oa(z,B):H==="tables"?z.map(function(q){return Oa(q,B)}):H==="_createTransaction"?function(){return Oa(z.apply(this,arguments),B)}:z}});this.vip=B,v.forEach(function(D){return D(p)})}var jr,Tn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",cu=(Ns.prototype.subscribe=function(u,f,p){return this._subscribe(u&&typeof u!="function"?u:{next:u,error:f,complete:p})},Ns.prototype[Tn]=function(){return this},Ns);function Ns(u){this._subscribe=u}try{jr={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{jr={indexedDB:null,IDBKeyRange:null}}function fu(u){var f,p=!1,v=new cu(function(b){var S=ke(u),T,O=!1,M={},k={},B={get closed(){return O},unsubscribe:function(){O||(O=!0,T&&T.abort(),D&&Mn.storagemutated.unsubscribe(R))}};b.start&&b.start(B);var D=!1,H=function(){return Oi(z)},R=function(q){Cs(M,q),Ml(k,M)&&H()},z=function(){var q,U,V;!O&&jr.indexedDB&&(M={},q={},T&&T.abort(),T=new AbortController,V=function(K){var G=Fi();try{S&&Bn();var ee=Dt(u,K);return ee=S?ee.finally(Kn):ee}finally{G&&Ci()}}(U={subscr:q,signal:T.signal,requery:H,querier:u,trans:null}),Promise.resolve(V).then(function(K){p=!0,f=K,O||U.signal.aborted||(M={},function(G){for(var ee in G)if(x(G,ee))return;return 1}(k=q)||D||(Mn(Zi,R),D=!0),Oi(function(){return!O&&b.next&&b.next(K)}))},function(K){p=!1,["DatabaseClosedError","AbortError"].includes(K==null?void 0:K.name)||O||Oi(function(){O||b.error&&b.error(K)})}))};return setTimeout(H,0),B});return v.hasValue=function(){return p},v.getValue=function(){return f},v}var nr=Wn;function zl(u){var f=ki;try{ki=!0,Mn.storagemutated.fire(u),kl(u,!0)}finally{ki=f}}N(nr,a(a({},dt),{delete:function(u){return new nr(u,{addons:[]}).delete()},exists:function(u){return new nr(u,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(u){try{return f=nr.dependencies,p=f.indexedDB,f=f.IDBKeyRange,(Ts(p)?Promise.resolve(p.databases()).then(function(v){return v.map(function(b){return b.name}).filter(function(b){return b!==Gn})}):Cl(p,f).toCollection().primaryKeys()).then(u)}catch{return _t(new be.MissingAPI)}var f,p},defineClass:function(){return function(u){g(this,u)}},ignoreTransaction:function(u){return Oe.trans?hi(Oe.transless,u):u()},vip:Al,async:function(u){return function(){try{var f=Ca(u.apply(this,arguments));return f&&typeof f.then=="function"?f:xe.resolve(f)}catch(p){return _t(p)}}},spawn:function(u,f,p){try{var v=Ca(u.apply(p,f||[]));return v&&typeof v.then=="function"?v:xe.resolve(v)}catch(b){return _t(b)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(u,f){return f=xe.resolve(typeof u=="function"?nr.ignoreTransaction(u):u).timeout(f||6e4),Oe.trans?Oe.trans.waitFor(f):f},Promise:xe,debug:{get:function(){return On},set:function(u){Ko(u)}},derive:Ce,extend:g,props:N,override:De,Events:ba,on:Mn,liveQuery:fu,extendObservabilitySet:Cs,getByKeyPath:I,setByKeyPath:ne,delByKeyPath:function(u,f){typeof f=="string"?ne(u,f,void 0):"length"in f&&[].map.call(f,function(p){ne(u,p,void 0)})},shallowClone:Se,deepClone:ie,getObjectDiff:Os,cmp:Qe,asap:Ae,minKey:-1/0,addons:[],connections:Gi,errnames:qt,dependencies:jr,cache:er,semVer:"4.0.11",version:"4.0.11".split(".").map(function(u){return parseInt(u)}).reduce(function(u,f,p){return u+f/Math.pow(10,2*p)})})),nr.maxKey=kr(nr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Mn(Zi,function(u){ki||(u=new CustomEvent(ps,{detail:u}),ki=!0,dispatchEvent(u),ki=!1)}),addEventListener(ps,function(u){u=u.detail,ki||zl(u)}));var Br,ki=!1,bn=function(){};return typeof BroadcastChannel<"u"&&((bn=function(){(Br=new BroadcastChannel(ps)).onmessage=function(u){return u.data&&zl(u.data)}})(),typeof Br.unref=="function"&&Br.unref(),Mn(Zi,function(u){ki||Br.postMessage(u)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(u){if(!Wn.disableBfCache&&u.persisted){On&&console.debug("Dexie: handling persisted pagehide"),Br!=null&&Br.close();for(var f=0,p=Gi;f<p.length;f++)p[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(u){!Wn.disableBfCache&&u.persisted&&(On&&console.debug("Dexie: handling persisted pageshow"),bn(),zl({all:new Jt(-1/0,[[]])}))})),xe.rejectionMapper=function(u,f){return!u||u instanceof Ve||u instanceof TypeError||u instanceof SyntaxError||!u.name||!$e[u.name]?u:(f=new $e[u.name](f||u.message,u),"stack"in u&&le(f,"stack",{get:function(){return this.inner.stack}}),f)},Ko(On),a(Wn,Object.freeze({__proto__:null,Dexie:Wn,liveQuery:fu,Entity:Xo,cmp:Qe,PropModification:Xn,replacePrefix:function(u,f){return new Xn({replacePrefix:[u,f]})},add:function(u){return new Xn({add:u})},remove:function(u){return new Xn({remove:u})},default:Wn,RangeSet:Jt,mergeRanges:Ji,rangesOverlap:iu}),{default:Wn}),Wn})}(hc)),hc.exports}var hx=fx();const Sd=ua(hx),sg=Symbol.for("Dexie"),zc=globalThis[sg]||(globalThis[sg]=Sd);if(Sd.semVer!==zc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Sd.semVer} and ${zc.semVer}`);const{liveQuery:kC,mergeRanges:LC,rangesOverlap:UC,RangeSet:zC,cmp:jC,Entity:BC,PropModification:qC,replacePrefix:IC,add:HC,remove:$C}=zc,oa=new zc("blitzedOut");oa.version(2).stores({customTiles:"++id, group, intensity, action, isEnabled, tags, gameMode, isCustom, locale",gameBoard:"++id, title, tiles, tags, gameMode, isActive"});oa.use(ux({tables:["customTiles","gameBoard"]}));const{customTiles:qi}=oa;qi.hook("creating",function(s,n){n.locale===void 0&&(n.locale="en"),n.gameMode===void 0&&(n.gameMode="online"),n.isCustom===void 0&&(n.isCustom=1)});const dx=async s=>{const n=s.map(r=>({...r,isEnabled:1}));return await qi.bulkAdd(n)},Zc=async(s={})=>{const{page:n=1,limit:r=50,paginated:a=!1}=s,o=["locale","gameMode","group","intensity","tag","isCustom","action"];try{let h=qi,m=!1;if(Object.entries(s).filter(([x])=>o.includes(x)).forEach(([x,N])=>{N==null||N===""||(x==="tag"?m?h=h.and(Q=>Q.tags.includes(N)):(h=h.filter(Q=>Q.tags.includes(N)),m=!0):m?h=h.and(Q=>Q[x]===N):(h=h.where(x).equals(N),m=!0))}),!a)return await h.toArray();const g=await h.count(),E=(n-1)*r;return{items:await h.offset(E).limit(r).toArray(),total:g,page:n,limit:r,totalPages:Math.ceil(g/r)}}catch{return a?{items:[],total:0,page:n,limit:r,totalPages:0}:[]}},YC=async(s="en",n="online",r=null)=>{let a=qi.where("locale").equals(s).and(h=>h.gameMode===n);return r&&(a=a.and(h=>h.tags.some(m=>r.includes(m)))),(await a.toArray()).reduce((h,m)=>{const y=m.group;h[y]||(h[y]={count:0,intensities:{}}),h[y].count++;const g=Number(m.intensity);return h[y].intensities[g]||(h[y].intensities[g]=0),h[y].intensities[g]++,h},{})},VC=(s=null)=>{const n=rg.resolvedLanguage||rg.language||"en";let r=qi.where("locale").equals(n).and(a=>a.isEnabled===1);return s&&(r=r.and(a=>a.gameMode===s)),r.toArray()},mx=async s=>await qi.add({...s,isEnabled:1}),PC=async(s,n)=>await qi.update(s,n),FC=async s=>{const n=await qi.get(s);return await qi.update(s,{isEnabled:n.isEnabled?0:1})};async function px(){try{return await oa.customTiles.where("isCustom").equals(1).delete(),!0}catch(s){return console.error("Error deleting custom tiles:",s),!1}}const KC=async s=>await qi.delete(s),{gameBoard:wr}=oa,yx=()=>wr.orderBy("title").toArray(),GC=()=>wr.where("isActive").equals(1).first()||{},vx=async s=>await wr.add(s),gx=async(s,n)=>await wr.update(s.id,{...s,...n}),_x=async s=>{var a,o;const n={title:s.title===void 0?"":s.title,tiles:s.tiles,isActive:s.isActive===void 0?1:s.isActive,tags:s.tags||[],gameMode:s.gameMode||"online"};if(!((a=n==null?void 0:n.title)!=null&&a.length)&&((o=n==null?void 0:n.tiles)!=null&&o.length))return;const r=await wr.where("title").equals(n.title).first();return oa.transaction("rw",oa.gameBoard,async()=>(n.isActive&&await bx(),r?(await gx(r,s),r.id):await vx(n)))},QC=async s=>{const r=(await wr.toArray()).map(a=>({...a,isActive:a.id===s?1:0}));await wr.bulkPut(r)},XC=async s=>await wr.delete(s),bx=async()=>{await wr.where("isActive").equals(1).modify({isActive:0})},mm=bg();async function Ex(){const n=An().currentUser;if(!n)return console.error("No user logged in"),!1;try{const r=await Zc({isCustom:1});return r.length&&await Tg(Ho(mm,"user-data",n.uid),{customTiles:r,lastUpdated:new Date},{merge:!0}),!0}catch(r){return console.error("Error syncing custom tiles:",r),!1}}async function Sx(){const n=An().currentUser;if(!n)return console.error("No user logged in"),!1;try{const r=await yx();return r.length&&await Tg(Ho(mm,"user-data",n.uid),{gameBoards:r,lastUpdated:new Date},{merge:!0}),!0}catch(r){return console.error("Error syncing game boards:",r),!1}}async function nd(){return await Ex(),await Sx(),!0}async function wd(){var r;const n=An().currentUser;if(!n)return console.error("No user logged in"),!1;try{const a=Ho(mm,"user-data",n.uid),o=await Eg(a);if(!o.exists())return!1;const h=o.data();if(h.customTiles&&h.customTiles.length>0){await px(),await new Promise(m=>setTimeout(m,500));for(const m of h.customTiles)try{(await Zc({gameMode:m.gameMode,group:m.group,intensity:m.intensity,action:m.action})).length===0&&await mx(m)}catch(y){console.error("Error importing custom tile:",m,y)}console.log(`${h.customTiles.length} custom tiles imported`)}if(h.gameBoards&&h.gameBoards.length>0){for(const m of h.gameBoards)await _x({title:m.title,tiles:m.tiles,tags:m.tags||[],gameMode:m.gameMode||"online",isActive:m.isActive||0});console.log(`${(r=h.gameBoards)==null?void 0:r.length} game boards imported`)}return!0}catch(a){return console.error("Error syncing data:",a),!1}}let dc=null;function wx(s=5){a0();const n=s*60*1e3;return dc=setInterval(async()=>{const r=An();r.currentUser&&!r.currentUser.isAnonymous?(console.log("Performing periodic sync from Firebase..."),await wd()):console.log("Skipping periodic sync - no user logged in")},n),wd(),!0}function a0(){return dc?(clearInterval(dc),dc=null,!0):!1}An().onAuthStateChanged(s=>{s?wx():a0()});const s0=rd.createContext();function Tx(s){const[n,r]=lt.useState(null),[a,o]=lt.useState(!0),[h,m]=lt.useState(null),[y,g]=lt.useState({syncing:!1,lastSync:null}),E=lt.useRef(null),A=async Ae=>{if(E.current&&(clearTimeout(E.current),E.current=null),!n||n.isAnonymous)return!1;try{return g({syncing:!0,lastSync:y.lastSync}),await Ae(),g({syncing:!1,lastSync:new Date}),!0}catch(I){return console.error("Sync error:",I),m(I.message),g({syncing:!1,lastSync:y.lastSync}),!1}};async function x(Ae=""){try{const I=await LT(Ae);return r(I),I}catch(I){throw m(I.message),I}}async function N(Ae,I){try{o(!0);const ne=await zT(Ae,I);return r(ne),ne}catch(ne){throw m(ne.message),ne}finally{o(!1)}}async function Q(){try{o(!0);const Ae=await jT();return r(Ae),Ae}catch(Ae){throw m(Ae.message),Ae}finally{o(!1)}}async function le(Ae,I,ne){try{o(!0);const Se=await UT(Ae,I,ne);return r(Se),Se}catch(Se){throw m(Se.message),Se}finally{o(!1)}}async function Ce(Ae){try{return await BT(Ae),!0}catch(I){throw m(I.message),I}}async function ve(Ae,I){try{o(!0);const ne=await qT(Ae,I);return r(ne),await A(nd),ne}catch(ne){throw m(ne.message),ne}finally{o(!1)}}async function Ne(Ae=""){try{const I=await $T(Ae);return r(I),I}catch(I){throw m(I.message),I}}async function je(){try{if(n&&!n.isAnonymous){const Ae=A(nd),I=new Promise(ne=>setTimeout(ne,5e3,!1));await Promise.race([Ae,I])}await IT(),r(null)}catch(Ae){throw m(Ae.message),Ae}}async function De(){return A(nd)}lt.useEffect(()=>{const I=An().onAuthStateChanged(ne=>{r(ne||null),o(!1),ne&&!ne.isAnonymous&&(E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{g({syncing:!0,lastSync:null}),wd().then(()=>{g({syncing:!1,lastSync:new Date})}).catch(Se=>{console.error("Error syncing from Firebase:",Se),g({syncing:!1,lastSync:null})}).finally(()=>{E.current=null})},500))});return window.authContext={user:null},()=>{I(),E.current&&clearTimeout(E.current),window.authContext=void 0}},[]),lt.useEffect(()=>{window.authContext&&(window.authContext.user=n)},[n]);const Je=lt.useMemo(()=>({user:n,loading:a,error:h,syncStatus:y,login:x,loginEmail:N,loginGoogle:Q,register:le,updateUser:Ne,forgotPassword:Ce,convertToRegistered:ve,logout:je,syncData:De,isAnonymous:(n==null?void 0:n.isAnonymous)||!1}),[n,a,h,y]);return ft.jsx(s0.Provider,{value:Je,...s})}function xx(){const s=lt.useContext(s0);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}var mc={exports:{}},Cx=mc.exports,lg;function Ax(){return lg||(lg=1,function(s,n){(function(r,a){s.exports=a()})(Cx,function(){var r=1e3,a=6e4,o=36e5,h="millisecond",m="second",y="minute",g="hour",E="day",A="week",x="month",N="quarter",Q="year",le="date",Ce="Invalid Date",ve=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ne=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,je={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(fe){var ue=["th","st","nd","rd"],Y=fe%100;return"["+fe+(ue[(Y-20)%10]||ue[Y]||ue[0])+"]"}},De=function(fe,ue,Y){var re=String(fe);return!re||re.length>=ue?fe:""+Array(ue+1-re.length).join(Y)+fe},Je={s:De,z:function(fe){var ue=-fe.utcOffset(),Y=Math.abs(ue),re=Math.floor(Y/60),X=Y%60;return(ue<=0?"+":"-")+De(re,2,"0")+":"+De(X,2,"0")},m:function fe(ue,Y){if(ue.date()<Y.date())return-fe(Y,ue);var re=12*(Y.year()-ue.year())+(Y.month()-ue.month()),X=ue.clone().add(re,x),ae=Y-X<0,ye=ue.clone().add(re+(ae?-1:1),x);return+(-(re+(Y-X)/(ae?X-ye:ye-X))||0)},a:function(fe){return fe<0?Math.ceil(fe)||0:Math.floor(fe)},p:function(fe){return{M:x,y:Q,w:A,d:E,D:le,h:g,m:y,s:m,ms:h,Q:N}[fe]||String(fe||"").toLowerCase().replace(/s$/,"")},u:function(fe){return fe===void 0}},Ae="en",I={};I[Ae]=je;var ne="$isDayjsObject",Se=function(fe){return fe instanceof Re||!(!fe||!fe[ne])},Z=function fe(ue,Y,re){var X;if(!ue)return Ae;if(typeof ue=="string"){var ae=ue.toLowerCase();I[ae]&&(X=ae),Y&&(I[ae]=Y,X=ae);var ye=ue.split("-");if(!X&&ye.length>1)return fe(ye[0])}else{var ke=ue.name;I[ke]=ue,X=ke}return!re&&X&&(Ae=X),X||!re&&Ae},oe=function(fe,ue){if(Se(fe))return fe.clone();var Y=typeof ue=="object"?ue:{};return Y.date=fe,Y.args=arguments,new Re(Y)},W=Je;W.l=Z,W.i=Se,W.w=function(fe,ue){return oe(fe,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var Re=function(){function fe(Y){this.$L=Z(Y.locale,null,!0),this.parse(Y),this.$x=this.$x||Y.x||{},this[ne]=!0}var ue=fe.prototype;return ue.parse=function(Y){this.$d=function(re){var X=re.date,ae=re.utc;if(X===null)return new Date(NaN);if(W.u(X))return new Date;if(X instanceof Date)return new Date(X);if(typeof X=="string"&&!/Z$/i.test(X)){var ye=X.match(ve);if(ye){var ke=ye[2]-1||0,Ge=(ye[7]||"0").substring(0,3);return ae?new Date(Date.UTC(ye[1],ke,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,Ge)):new Date(ye[1],ke,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,Ge)}}return new Date(X)}(Y),this.init()},ue.init=function(){var Y=this.$d;this.$y=Y.getFullYear(),this.$M=Y.getMonth(),this.$D=Y.getDate(),this.$W=Y.getDay(),this.$H=Y.getHours(),this.$m=Y.getMinutes(),this.$s=Y.getSeconds(),this.$ms=Y.getMilliseconds()},ue.$utils=function(){return W},ue.isValid=function(){return this.$d.toString()!==Ce},ue.isSame=function(Y,re){var X=oe(Y);return this.startOf(re)<=X&&X<=this.endOf(re)},ue.isAfter=function(Y,re){return oe(Y)<this.startOf(re)},ue.isBefore=function(Y,re){return this.endOf(re)<oe(Y)},ue.$g=function(Y,re,X){return W.u(Y)?this[re]:this.set(X,Y)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(Y,re){var X=this,ae=!!W.u(re)||re,ye=W.p(Y),ke=function(be,$e){var dt=W.w(X.$u?Date.UTC(X.$y,$e,be):new Date(X.$y,$e,be),X);return ae?dt:dt.endOf(E)},Ge=function(be,$e){return W.w(X.toDate()[be].apply(X.toDate("s"),(ae?[0,0,0,0]:[23,59,59,999]).slice($e)),X)},Ve=this.$W,Le=this.$M,it=this.$D,Gt="set"+(this.$u?"UTC":"");switch(ye){case Q:return ae?ke(1,0):ke(31,11);case x:return ae?ke(1,Le):ke(0,Le+1);case A:var qt=this.$locale().weekStart||0,It=(Ve<qt?Ve+7:Ve)-qt;return ke(ae?it-It:it+(6-It),Le);case E:case le:return Ge(Gt+"Hours",0);case g:return Ge(Gt+"Minutes",1);case y:return Ge(Gt+"Seconds",2);case m:return Ge(Gt+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(Y){return this.startOf(Y,!1)},ue.$set=function(Y,re){var X,ae=W.p(Y),ye="set"+(this.$u?"UTC":""),ke=(X={},X[E]=ye+"Date",X[le]=ye+"Date",X[x]=ye+"Month",X[Q]=ye+"FullYear",X[g]=ye+"Hours",X[y]=ye+"Minutes",X[m]=ye+"Seconds",X[h]=ye+"Milliseconds",X)[ae],Ge=ae===E?this.$D+(re-this.$W):re;if(ae===x||ae===Q){var Ve=this.clone().set(le,1);Ve.$d[ke](Ge),Ve.init(),this.$d=Ve.set(le,Math.min(this.$D,Ve.daysInMonth())).$d}else ke&&this.$d[ke](Ge);return this.init(),this},ue.set=function(Y,re){return this.clone().$set(Y,re)},ue.get=function(Y){return this[W.p(Y)]()},ue.add=function(Y,re){var X,ae=this;Y=Number(Y);var ye=W.p(re),ke=function(Le){var it=oe(ae);return W.w(it.date(it.date()+Math.round(Le*Y)),ae)};if(ye===x)return this.set(x,this.$M+Y);if(ye===Q)return this.set(Q,this.$y+Y);if(ye===E)return ke(1);if(ye===A)return ke(7);var Ge=(X={},X[y]=a,X[g]=o,X[m]=r,X)[ye]||1,Ve=this.$d.getTime()+Y*Ge;return W.w(Ve,this)},ue.subtract=function(Y,re){return this.add(-1*Y,re)},ue.format=function(Y){var re=this,X=this.$locale();if(!this.isValid())return X.invalidDate||Ce;var ae=Y||"YYYY-MM-DDTHH:mm:ssZ",ye=W.z(this),ke=this.$H,Ge=this.$m,Ve=this.$M,Le=X.weekdays,it=X.months,Gt=X.meridiem,qt=function($e,dt,Pe,Ot){return $e&&($e[dt]||$e(re,ae))||Pe[dt].slice(0,Ot)},It=function($e){return W.s(ke%12||12,$e,"0")},be=Gt||function($e,dt,Pe){var Ot=$e<12?"AM":"PM";return Pe?Ot.toLowerCase():Ot};return ae.replace(Ne,function($e,dt){return dt||function(Pe){switch(Pe){case"YY":return String(re.$y).slice(-2);case"YYYY":return W.s(re.$y,4,"0");case"M":return Ve+1;case"MM":return W.s(Ve+1,2,"0");case"MMM":return qt(X.monthsShort,Ve,it,3);case"MMMM":return qt(it,Ve);case"D":return re.$D;case"DD":return W.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return qt(X.weekdaysMin,re.$W,Le,2);case"ddd":return qt(X.weekdaysShort,re.$W,Le,3);case"dddd":return Le[re.$W];case"H":return String(ke);case"HH":return W.s(ke,2,"0");case"h":return It(1);case"hh":return It(2);case"a":return be(ke,Ge,!0);case"A":return be(ke,Ge,!1);case"m":return String(Ge);case"mm":return W.s(Ge,2,"0");case"s":return String(re.$s);case"ss":return W.s(re.$s,2,"0");case"SSS":return W.s(re.$ms,3,"0");case"Z":return ye}return null}($e)||ye.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(Y,re,X){var ae,ye=this,ke=W.p(re),Ge=oe(Y),Ve=(Ge.utcOffset()-this.utcOffset())*a,Le=this-Ge,it=function(){return W.m(ye,Ge)};switch(ke){case Q:ae=it()/12;break;case x:ae=it();break;case N:ae=it()/3;break;case A:ae=(Le-Ve)/6048e5;break;case E:ae=(Le-Ve)/864e5;break;case g:ae=Le/o;break;case y:ae=Le/a;break;case m:ae=Le/r;break;default:ae=Le}return X?ae:W.a(ae)},ue.daysInMonth=function(){return this.endOf(x).$D},ue.$locale=function(){return I[this.$L]},ue.locale=function(Y,re){if(!Y)return this.$L;var X=this.clone(),ae=Z(Y,re,!0);return ae&&(X.$L=ae),X},ue.clone=function(){return W.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},fe}(),ie=Re.prototype;return oe.prototype=ie,[["$ms",h],["$s",m],["$m",y],["$H",g],["$W",E],["$M",x],["$y",Q],["$D",le]].forEach(function(fe){ie[fe[1]]=function(ue){return this.$g(ue,fe[0],fe[1])}}),oe.extend=function(fe,ue){return fe.$i||(fe(ue,Re,oe),fe.$i=!0),oe},oe.locale=Z,oe.isDayjs=Se,oe.unix=function(fe){return oe(1e3*fe)},oe.en=I[Ae],oe.Ls=I,oe.p={},oe})}(mc)),mc.exports}var Ox=Ax();const an=ua(Ox);var pc={exports:{}},Dx=pc.exports,og;function Mx(){return og||(og=1,function(s,n){(function(r,a){s.exports=a()})(Dx,function(){var r="week",a="year";return function(o,h,m){var y=h.prototype;y.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var E=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var A=m(this).startOf(a).add(1,a).date(E),x=m(this).endOf(r);if(A.isBefore(x))return 1}var N=m(this).startOf(a).date(E).startOf(r).subtract(1,"millisecond"),Q=this.diff(N,r,!0);return Q<0?m(this).startOf("week").week():Math.ceil(Q)},y.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})}(pc)),pc.exports}var Rx=Mx();const Nx=ua(Rx);var yc={exports:{}},kx=yc.exports,ug;function Lx(){return ug||(ug=1,function(s,n){(function(r,a){s.exports=a()})(kx,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,o=/\d/,h=/\d\d/,m=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,g={},E=function(ve){return(ve=+ve)+(ve>68?1900:2e3)},A=function(ve){return function(Ne){this[ve]=+Ne}},x=[/[+-]\d\d:?(\d\d)?|Z/,function(ve){(this.zone||(this.zone={})).offset=function(Ne){if(!Ne||Ne==="Z")return 0;var je=Ne.match(/([+-]|\d\d)/g),De=60*je[1]+(+je[2]||0);return De===0?0:je[0]==="+"?-De:De}(ve)}],N=function(ve){var Ne=g[ve];return Ne&&(Ne.indexOf?Ne:Ne.s.concat(Ne.f))},Q=function(ve,Ne){var je,De=g.meridiem;if(De){for(var Je=1;Je<=24;Je+=1)if(ve.indexOf(De(Je,0,Ne))>-1){je=Je>12;break}}else je=ve===(Ne?"pm":"PM");return je},le={A:[y,function(ve){this.afternoon=Q(ve,!1)}],a:[y,function(ve){this.afternoon=Q(ve,!0)}],Q:[o,function(ve){this.month=3*(ve-1)+1}],S:[o,function(ve){this.milliseconds=100*+ve}],SS:[h,function(ve){this.milliseconds=10*+ve}],SSS:[/\d{3}/,function(ve){this.milliseconds=+ve}],s:[m,A("seconds")],ss:[m,A("seconds")],m:[m,A("minutes")],mm:[m,A("minutes")],H:[m,A("hours")],h:[m,A("hours")],HH:[m,A("hours")],hh:[m,A("hours")],D:[m,A("day")],DD:[h,A("day")],Do:[y,function(ve){var Ne=g.ordinal,je=ve.match(/\d+/);if(this.day=je[0],Ne)for(var De=1;De<=31;De+=1)Ne(De).replace(/\[|\]/g,"")===ve&&(this.day=De)}],w:[m,A("week")],ww:[h,A("week")],M:[m,A("month")],MM:[h,A("month")],MMM:[y,function(ve){var Ne=N("months"),je=(N("monthsShort")||Ne.map(function(De){return De.slice(0,3)})).indexOf(ve)+1;if(je<1)throw new Error;this.month=je%12||je}],MMMM:[y,function(ve){var Ne=N("months").indexOf(ve)+1;if(Ne<1)throw new Error;this.month=Ne%12||Ne}],Y:[/[+-]?\d+/,A("year")],YY:[h,function(ve){this.year=E(ve)}],YYYY:[/\d{4}/,A("year")],Z:x,ZZ:x};function Ce(ve){var Ne,je;Ne=ve,je=g&&g.formats;for(var De=(ve=Ne.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(oe,W,Re){var ie=Re&&Re.toUpperCase();return W||je[Re]||r[Re]||je[ie].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(fe,ue,Y){return ue||Y.slice(1)})})).match(a),Je=De.length,Ae=0;Ae<Je;Ae+=1){var I=De[Ae],ne=le[I],Se=ne&&ne[0],Z=ne&&ne[1];De[Ae]=Z?{regex:Se,parser:Z}:I.replace(/^\[|\]$/g,"")}return function(oe){for(var W={},Re=0,ie=0;Re<Je;Re+=1){var fe=De[Re];if(typeof fe=="string")ie+=fe.length;else{var ue=fe.regex,Y=fe.parser,re=oe.slice(ie),X=ue.exec(re)[0];Y.call(W,X),oe=oe.replace(X,"")}}return function(ae){var ye=ae.afternoon;if(ye!==void 0){var ke=ae.hours;ye?ke<12&&(ae.hours+=12):ke===12&&(ae.hours=0),delete ae.afternoon}}(W),W}}return function(ve,Ne,je){je.p.customParseFormat=!0,ve&&ve.parseTwoDigitYear&&(E=ve.parseTwoDigitYear);var De=Ne.prototype,Je=De.parse;De.parse=function(Ae){var I=Ae.date,ne=Ae.utc,Se=Ae.args;this.$u=ne;var Z=Se[1];if(typeof Z=="string"){var oe=Se[2]===!0,W=Se[3]===!0,Re=oe||W,ie=Se[2];W&&(ie=Se[2]),g=this.$locale(),!oe&&ie&&(g=je.Ls[ie]),this.$d=function(re,X,ae,ye){try{if(["x","X"].indexOf(X)>-1)return new Date((X==="X"?1e3:1)*re);var ke=Ce(X)(re),Ge=ke.year,Ve=ke.month,Le=ke.day,it=ke.hours,Gt=ke.minutes,qt=ke.seconds,It=ke.milliseconds,be=ke.zone,$e=ke.week,dt=new Date,Pe=Le||(Ge||Ve?1:dt.getDate()),Ot=Ge||dt.getFullYear(),ui=0;Ge&&!Ve||(ui=Ve>0?Ve-1:dt.getMonth());var cn,Fn=it||0,Hi=Gt||0,Ei=qt||0,$i=It||0;return be?new Date(Date.UTC(Ot,ui,Pe,Fn,Hi,Ei,$i+60*be.offset*1e3)):ae?new Date(Date.UTC(Ot,ui,Pe,Fn,Hi,Ei,$i)):(cn=new Date(Ot,ui,Pe,Fn,Hi,Ei,$i),$e&&(cn=ye(cn).week($e).toDate()),cn)}catch{return new Date("")}}(I,Z,ne,je),this.init(),ie&&ie!==!0&&(this.$L=this.locale(ie).$L),Re&&I!=this.format(Z)&&(this.$d=new Date("")),g={}}else if(Z instanceof Array)for(var fe=Z.length,ue=1;ue<=fe;ue+=1){Se[1]=Z[ue-1];var Y=je.apply(this,Se);if(Y.isValid()){this.$d=Y.$d,this.$L=Y.$L,this.init();break}ue===fe&&(this.$d=new Date(""))}else Je.call(this,Ae)}}})}(yc)),yc.exports}var Ux=Lx();const zx=ua(Ux);var vc={exports:{}},jx=vc.exports,cg;function Bx(){return cg||(cg=1,function(s,n){(function(r,a){s.exports=a()})(jx,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,o,h){var m=o.prototype,y=m.format;h.en.formats=r,m.format=function(g){g===void 0&&(g="YYYY-MM-DDTHH:mm:ssZ");var E=this.$locale().formats,A=function(x,N){return x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Q,le,Ce){var ve=Ce&&Ce.toUpperCase();return le||N[Ce]||r[Ce]||N[ve].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Ne,je,De){return je||De.slice(1)})})}(g,E===void 0?{}:E);return y.call(this,A)}}})}(vc)),vc.exports}var qx=Bx();const Ix=ua(qx);var gc={exports:{}},Hx=gc.exports,fg;function $x(){return fg||(fg=1,function(s,n){(function(r,a){s.exports=a()})(Hx,function(){return function(r,a,o){a.prototype.isBetween=function(h,m,y,g){var E=o(h),A=o(m),x=(g=g||"()")[0]==="(",N=g[1]===")";return(x?this.isAfter(E,y):!this.isBefore(E,y))&&(N?this.isBefore(A,y):!this.isAfter(A,y))||(x?this.isBefore(E,y):!this.isAfter(E,y))&&(N?this.isAfter(A,y):!this.isBefore(A,y))}}})}(gc)),gc.exports}var Yx=$x();const Vx=ua(Yx);var _c={exports:{}},Px=_c.exports,hg;function Fx(){return hg||(hg=1,function(s,n){(function(r,a){s.exports=a()})(Px,function(){return function(r,a){var o=a.prototype,h=o.format;o.format=function(m){var y=this,g=this.$locale();if(!this.isValid())return h.bind(this)(m);var E=this.$utils(),A=(m||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(x){switch(x){case"Q":return Math.ceil((y.$M+1)/3);case"Do":return g.ordinal(y.$D);case"gggg":return y.weekYear();case"GGGG":return y.isoWeekYear();case"wo":return g.ordinal(y.week(),"W");case"w":case"ww":return E.s(y.week(),x==="w"?1:2,"0");case"W":case"WW":return E.s(y.isoWeek(),x==="W"?1:2,"0");case"k":case"kk":return E.s(String(y.$H===0?24:y.$H),x==="k"?1:2,"0");case"X":return Math.floor(y.$d.getTime()/1e3);case"x":return y.$d.getTime();case"z":return"["+y.offsetName()+"]";case"zzz":return"["+y.offsetName("long")+"]";default:return x}});return h.bind(this)(A)}}})}(_c)),_c.exports}var Kx=Fx();const Gx=ua(Kx);an.extend(Ix);an.extend(Nx);an.extend(Vx);an.extend(Gx);const Qx={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Xx={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},id=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),dg=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),Zx=(s,n)=>n?(...r)=>s(...r).locale(n):s;class Wx{constructor({locale:n,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Qx,this.setLocaleToValue=a=>{const o=this.getCurrentLocaleCode();return o===a.locale()?a:a.locale(o)},this.hasUTCPlugin=()=>typeof an.utc<"u",this.hasTimezonePlugin=()=>typeof an.tz<"u",this.isSame=(a,o,h)=>{const m=this.setTimezone(o,this.getTimezone(a));return a.format(h)===m.format(h)},this.cleanTimezone=a=>{switch(a){case"default":return;case"system":return an.tz.guess();default:return a}},this.createSystemDate=a=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const o=an.tz.guess();return o!=="UTC"?an.tz(a,o):an(a)}return an(a)},this.createUTCDate=a=>{if(!this.hasUTCPlugin())throw new Error(id);return an.utc(a)},this.createTZDate=(a,o)=>{if(!this.hasUTCPlugin())throw new Error(id);if(!this.hasTimezonePlugin())throw new Error(dg);const h=a!==void 0&&!a.endsWith("Z");return an(a).tz(this.cleanTimezone(o),h)},this.getLocaleFormats=()=>{const a=an.Ls,o=this.locale||"en";let h=a[o];return h===void 0&&(h=a.en),h.formats},this.adjustOffset=a=>{if(!this.hasTimezonePlugin())return a;const o=this.getTimezone(a);if(o!=="UTC"){const h=a.tz(this.cleanTimezone(o),!0);if(h.$offset===(a.$offset??0))return a;a.$offset=h.$offset}return a},this.date=(a,o="default")=>{if(a===null)return null;let h;return o==="UTC"?h=this.createUTCDate(a):o==="system"||o==="default"&&!this.hasTimezonePlugin()?h=this.createSystemDate(a):h=this.createTZDate(a,o),this.locale===void 0?h:h.locale(this.locale)},this.getInvalidDate=()=>an(new Date("Invalid date")),this.getTimezone=a=>{var o;if(this.hasTimezonePlugin()){const h=(o=a.$x)==null?void 0:o.$timezone;if(h)return h}return this.hasUTCPlugin()&&a.isUTC()?"UTC":"system"},this.setTimezone=(a,o)=>{if(this.getTimezone(a)===o)return a;if(o==="UTC"){if(!this.hasUTCPlugin())throw new Error(id);return a.utc()}if(o==="system")return a.local();if(!this.hasTimezonePlugin()){if(o==="default")return a;throw new Error(dg)}return an.tz(a,this.cleanTimezone(o))},this.toJsDate=a=>a.toDate(),this.parse=(a,o)=>a===""?null:this.dayjs(a,o,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=a=>{const o=this.getLocaleFormats(),h=m=>m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(y,g,E)=>g||E.slice(1));return a.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(m,y,g)=>{const E=g&&g.toUpperCase();return y||o[g]||h(o[E])})},this.isValid=a=>a==null?!1:a.isValid(),this.format=(a,o)=>this.formatByString(a,this.formats[o]),this.formatByString=(a,o)=>this.dayjs(a).format(o),this.formatNumber=a=>a,this.isEqual=(a,o)=>a===null&&o===null?!0:a===null||o===null?!1:a.toDate().getTime()===o.toDate().getTime(),this.isSameYear=(a,o)=>this.isSame(a,o,"YYYY"),this.isSameMonth=(a,o)=>this.isSame(a,o,"YYYY-MM"),this.isSameDay=(a,o)=>this.isSame(a,o,"YYYY-MM-DD"),this.isSameHour=(a,o)=>a.isSame(o,"hour"),this.isAfter=(a,o)=>a>o,this.isAfterYear=(a,o)=>this.hasUTCPlugin()?!this.isSameYear(a,o)&&a.utc()>o.utc():a.isAfter(o,"year"),this.isAfterDay=(a,o)=>this.hasUTCPlugin()?!this.isSameDay(a,o)&&a.utc()>o.utc():a.isAfter(o,"day"),this.isBefore=(a,o)=>a<o,this.isBeforeYear=(a,o)=>this.hasUTCPlugin()?!this.isSameYear(a,o)&&a.utc()<o.utc():a.isBefore(o,"year"),this.isBeforeDay=(a,o)=>this.hasUTCPlugin()?!this.isSameDay(a,o)&&a.utc()<o.utc():a.isBefore(o,"day"),this.isWithinRange=(a,[o,h])=>a>=o&&a<=h,this.startOfYear=a=>this.adjustOffset(a.startOf("year")),this.startOfMonth=a=>this.adjustOffset(a.startOf("month")),this.startOfWeek=a=>this.adjustOffset(this.setLocaleToValue(a).startOf("week")),this.startOfDay=a=>this.adjustOffset(a.startOf("day")),this.endOfYear=a=>this.adjustOffset(a.endOf("year")),this.endOfMonth=a=>this.adjustOffset(a.endOf("month")),this.endOfWeek=a=>this.adjustOffset(this.setLocaleToValue(a).endOf("week")),this.endOfDay=a=>this.adjustOffset(a.endOf("day")),this.addYears=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"year"):a.add(o,"year")),this.addMonths=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"month"):a.add(o,"month")),this.addWeeks=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"week"):a.add(o,"week")),this.addDays=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"day"):a.add(o,"day")),this.addHours=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"hour"):a.add(o,"hour")),this.addMinutes=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"minute"):a.add(o,"minute")),this.addSeconds=(a,o)=>this.adjustOffset(o<0?a.subtract(Math.abs(o),"second"):a.add(o,"second")),this.getYear=a=>a.year(),this.getMonth=a=>a.month(),this.getDate=a=>a.date(),this.getHours=a=>a.hour(),this.getMinutes=a=>a.minute(),this.getSeconds=a=>a.second(),this.getMilliseconds=a=>a.millisecond(),this.setYear=(a,o)=>this.adjustOffset(a.set("year",o)),this.setMonth=(a,o)=>this.adjustOffset(a.set("month",o)),this.setDate=(a,o)=>this.adjustOffset(a.set("date",o)),this.setHours=(a,o)=>this.adjustOffset(a.set("hour",o)),this.setMinutes=(a,o)=>this.adjustOffset(a.set("minute",o)),this.setSeconds=(a,o)=>this.adjustOffset(a.set("second",o)),this.setMilliseconds=(a,o)=>this.adjustOffset(a.set("millisecond",o)),this.getDaysInMonth=a=>a.daysInMonth(),this.getWeekArray=a=>{const o=this.startOfWeek(this.startOfMonth(a)),h=this.endOfWeek(this.endOfMonth(a));let m=0,y=o;const g=[];for(;y<h;){const E=Math.floor(m/7);g[E]=g[E]||[],g[E].push(y),y=this.addDays(y,1),m+=1}return g},this.getWeekNumber=a=>a.week(),this.getYearRange=([a,o])=>{const h=this.startOfYear(a),m=this.endOfYear(o),y=[];let g=h;for(;this.isBefore(g,m);)y.push(g),g=this.addYears(g,1);return y},this.dayjs=Zx(an,n),this.locale=n,this.formats=yg({},Xx,r),an.extend(zx)}getDayOfWeek(n){return n.day()+1}}function Jx(s){return s.sort((n,r)=>n.timestamp.toDate()-r.timestamp.toDate())}function Wc(s){return JSON.parse(JSON.stringify(s)).reverse()}function ZC(s,n){return Wc(s).find(r=>r.type===n)}function WC(s,n,r="ASC"){let a=Wc(s);return r==="DESC"&&(a=a.reverse()),a.filter(o=>o.type===n)}function JC(s,n){return Wc(s).find(n)}function eA(s){return Wc(s)[0]}const eC=lt.createContext();function tC(s){const[n,r]=lt.useState([]),[a,o]=lt.useState(!0),{id:h}=gg();lt.useEffect(()=>(o(!0),PT(h,g=>{const E=Jx(g);r(E),o(!1)})),[h]);const m={messages:n,isLoading:a};return ft.jsx(eC.Provider,{value:m,...s})}const nC=lt.createContext();function iC(s){const{id:n}=gg(),[r,a]=lt.useState({});lt.useEffect(()=>{HT(n,h=>a(h),r)},[n]);const o=lt.useMemo(()=>({onlineUsers:r}),[r]);return ft.jsx(nC.Provider,{value:o,...s})}const rC=lt.createContext();function aC(s){const[n,r]=lt.useState({});lt.useEffect(()=>{FT(o=>r(o))},[]);const a=lt.useMemo(()=>({schedule:n,addToSchedule:KT}),[n]);return ft.jsx(rC.Provider,{value:a,...s})}let Td=Tb({palette:{mode:"dark"}});Td=xb(Td);const sC=Td;async function lC(s="en",n="online"){const r={},a=Object.assign({"../locales/en/local/alcohol.json":()=>he(()=>import("./alcohol-BZAf2NTg.js"),[]),"../locales/en/local/ballBusting.json":()=>he(()=>import("./ballBusting-CBS8OiZP.js"),[]),"../locales/en/local/bating.json":()=>he(()=>import("./bating-D52K66Lu.js"),[]),"../locales/en/local/bondage.json":()=>he(()=>import("./bondage-LgAIGueK.js"),[]),"../locales/en/local/breathPlay.json":()=>he(()=>import("./breathPlay-CRzY7428.js"),[]),"../locales/en/local/buttPlay.json":()=>he(()=>import("./buttPlay-CWeeoMp5.js"),[]),"../locales/en/local/electric.json":()=>he(()=>import("./electric-Bk_TXWk-.js"),[]),"../locales/en/local/footPlay.json":()=>he(()=>import("./footPlay-DD_Xn9fn.js"),[]),"../locales/en/local/gasMask.json":()=>he(()=>import("./gasMask-Cu6WbYgI.js"),[]),"../locales/en/local/humiliation.json":()=>he(()=>import("./humiliation-D38KZgue.js"),[]),"../locales/en/local/kissing.json":()=>he(()=>import("./kissing-DW0pyV1M.js"),[]),"../locales/en/local/pissPlay.json":()=>he(()=>import("./pissPlay-hDj3RXB4.js"),[]),"../locales/en/local/poppers.json":()=>he(()=>import("./poppers-DPi1vlVq.js"),[]),"../locales/en/local/spanking.json":()=>he(()=>import("./spanking-D5ucvdnf.js"),[]),"../locales/en/local/throatTraining.json":()=>he(()=>import("./throatTraining-C66R2Ubj.js"),[]),"../locales/en/local/tickling.json":()=>he(()=>import("./tickling-aQu3phvV.js"),[]),"../locales/en/local/titTorture.json":()=>he(()=>import("./titTorture-B-5XIvPm.js"),[]),"../locales/en/local/vaping.json":()=>he(()=>import("./vaping-Cw_EBTDr.js"),[]),"../locales/en/online/alcohol.json":()=>he(()=>import("./alcohol-mxUDnrw5.js"),[]),"../locales/en/online/ballBusting.json":()=>he(()=>import("./ballBusting-BtcwXD0u.js"),[]),"../locales/en/online/bating.json":()=>he(()=>import("./bating-DlWklRCC.js"),[]),"../locales/en/online/buttPlay.json":()=>he(()=>import("./buttPlay-DNlSUs1v.js"),[]),"../locales/en/online/gasMask.json":()=>he(()=>import("./gasMask-CF8uPBF1.js"),[]),"../locales/en/online/pissPlay.json":()=>he(()=>import("./pissPlay-D6UuWU9w.js"),[]),"../locales/en/online/poppers.json":()=>he(()=>import("./poppers-DYE8WgUc.js"),[]),"../locales/en/online/throatTraining.json":()=>he(()=>import("./throatTraining-CYz7x0-j.js"),[]),"../locales/en/online/titTorture.json":()=>he(()=>import("./titTorture-VJd7QlDN.js"),[]),"../locales/en/online/vaping.json":()=>he(()=>import("./vaping-Cn6qK-lN.js"),[]),"../locales/en/translation.json":()=>he(()=>import("./translation-g0hLYVXo.js"),[]),"../locales/es/local/alcohol.json":()=>he(()=>import("./alcohol-eOgMZGYI.js"),[]),"../locales/es/local/ballBusting.json":()=>he(()=>import("./ballBusting-DMROHcXY.js"),[]),"../locales/es/local/bating.json":()=>he(()=>import("./bating-BIyhCVw0.js"),[]),"../locales/es/local/bondage.json":()=>he(()=>import("./bondage-cr6DtteZ.js"),[]),"../locales/es/local/breathPlay.json":()=>he(()=>import("./breathPlay-BURg9OP8.js"),[]),"../locales/es/local/buttPlay.json":()=>he(()=>import("./buttPlay-DdmCLMQT.js"),[]),"../locales/es/local/footPlay.json":()=>he(()=>import("./footPlay-hFWj95hS.js"),[]),"../locales/es/local/gasMask.json":()=>he(()=>import("./gasMask-Bcj5DoFi.js"),[]),"../locales/es/local/humiliation.json":()=>he(()=>import("./humiliation-na7zWeaI.js"),[]),"../locales/es/local/kissing.json":()=>he(()=>import("./kissing-CB0VP-KF.js"),[]),"../locales/es/local/pissPlay.json":()=>he(()=>import("./pissPlay-UsPgHpnt.js"),[]),"../locales/es/local/poppers.json":()=>he(()=>import("./poppers-hlv7QJE8.js"),[]),"../locales/es/local/spanking.json":()=>he(()=>import("./spanking-B_mbCmIM.js"),[]),"../locales/es/local/throatTraining.json":()=>he(()=>import("./throatTraining-DgC8UUt0.js"),[]),"../locales/es/local/tickling.json":()=>he(()=>import("./tickling-3eKqnoqT.js"),[]),"../locales/es/local/titTorture.json":()=>he(()=>import("./titTorture-CmAbVlnl.js"),[]),"../locales/es/local/vaping.json":()=>he(()=>import("./vaping-sEIHH7E5.js"),[]),"../locales/es/online/alcohol.json":()=>he(()=>import("./alcohol-DHOb8-kr.js"),[]),"../locales/es/online/ballBusting.json":()=>he(()=>import("./ballBusting-CYCdXDgZ.js"),[]),"../locales/es/online/bating.json":()=>he(()=>import("./bating-C_-18RGA.js"),[]),"../locales/es/online/buttPlay.json":()=>he(()=>import("./buttPlay-C4FATzM0.js"),[]),"../locales/es/online/gasMask.json":()=>he(()=>import("./gasMask-C0h9kj6-.js"),[]),"../locales/es/online/pissPlay.json":()=>he(()=>import("./pissPlay-Q45xwfeM.js"),[]),"../locales/es/online/poppers.json":()=>he(()=>import("./poppers-DdRKJtxh.js"),[]),"../locales/es/online/throatTraining.json":()=>he(()=>import("./throatTraining-UnffRU_V.js"),[]),"../locales/es/online/titTorture.json":()=>he(()=>import("./titTorture-CrPrYCYf.js"),[]),"../locales/es/online/vaping.json":()=>he(()=>import("./vaping-BRzgwyKs.js"),[]),"../locales/es/translation.json":()=>he(()=>import("./translation-f-UUY9pv.js"),[]),"../locales/fr/local/alcohol.json":()=>he(()=>import("./alcohol-C70_emWC.js"),[]),"../locales/fr/local/ballBusting.json":()=>he(()=>import("./ballBusting-M8cUQ9qV.js"),[]),"../locales/fr/local/bating.json":()=>he(()=>import("./bating-BYM-GDc-.js"),[]),"../locales/fr/local/bondage.json":()=>he(()=>import("./bondage-DzQhYNpa.js"),[]),"../locales/fr/local/breathPlay.json":()=>he(()=>import("./breathPlay-DKOcasfb.js"),[]),"../locales/fr/local/buttPlay.json":()=>he(()=>import("./buttPlay-D5GsOhtK.js"),[]),"../locales/fr/local/electric.json":()=>he(()=>import("./electric-DuoRN1_a.js"),[]),"../locales/fr/local/footPlay.json":()=>he(()=>import("./footPlay-CQmZIGLH.js"),[]),"../locales/fr/local/humiliation.json":()=>he(()=>import("./humiliation-CSr078q2.js"),[]),"../locales/fr/local/kissing.json":()=>he(()=>import("./kissing-CKHo9oqj.js"),[]),"../locales/fr/local/pissPlay.json":()=>he(()=>import("./pissPlay-CmhfVL8I.js"),[]),"../locales/fr/local/poppers.json":()=>he(()=>import("./poppers-B30bn8dw.js"),[]),"../locales/fr/local/spanking.json":()=>he(()=>import("./spanking-D5Brjlga.js"),[]),"../locales/fr/local/throatTraining.json":()=>he(()=>import("./throatTraining-C5pM1N0y.js"),[]),"../locales/fr/local/tickling.json":()=>he(()=>import("./tickling-BIx4hqsq.js"),[]),"../locales/fr/local/titTorture.json":()=>he(()=>import("./titTorture-CsVRpiYC.js"),[]),"../locales/fr/local/vaping.json":()=>he(()=>import("./vaping-BKBmcz9l.js"),[]),"../locales/fr/online/alcohol.json":()=>he(()=>import("./alcohol-Dc380shx.js"),[]),"../locales/fr/online/ballBusting.json":()=>he(()=>import("./ballBusting-4gGsUFBf.js"),[]),"../locales/fr/online/bating.json":()=>he(()=>import("./bating-UlGM_QXh.js"),[]),"../locales/fr/online/buttPlay.json":()=>he(()=>import("./buttPlay-CKK7cdVw.js"),[]),"../locales/fr/online/gasMask.json":()=>he(()=>import("./gasMask-DCZ-6Sqx.js"),[]),"../locales/fr/online/pissPlay.json":()=>he(()=>import("./pissPlay-uXhaE7LP.js"),[]),"../locales/fr/online/poppers.json":()=>he(()=>import("./poppers-Ciaf_5HC.js"),[]),"../locales/fr/online/throatTraining.json":()=>he(()=>import("./throatTraining-dt4emaCF.js"),[]),"../locales/fr/online/titTorture.json":()=>he(()=>import("./titTorture-DuMCmKhS.js"),[]),"../locales/fr/online/vaping.json":()=>he(()=>import("./vaping-VGay9Awe.js"),[]),"../locales/fr/translation.json":()=>he(()=>import("./translation-DbS8YJw6.js"),[]),"../locales/languages.json":()=>he(()=>import("./languages-KK0t13AM.js"),[])});for(const o in a)if(o.startsWith(`../locales/${s}/${n}/`)){const h=o.split("/").pop().replace(".json","");r[h]=await a[o]()}return r}const{customTiles:l0}=oa,xo={online:!1,local:!1};function oC(s,n="en",r="online"){const a=[];return Object.entries(s).forEach(([o,h])=>{!h.actions||Object.keys(h.actions).length===0||Object.entries(h.actions).forEach(([m,y],g)=>{!y||y.length===0||y.forEach(E=>{a.push({group:o,intensity:g,action:E,isEnabled:1,tags:[v1("default","Default")],gameMode:r,isCustom:0,locale:n})})})}),a}function uC(s,n,r){return!Array.isArray(s)||s.length===0?!1:s.filter(h=>h.locale===n&&h.gameMode===r&&h.isCustom===0).length>=4}async function cC(s){const n=s||"en",r=["online","local"];try{for(const a of r)if(!xo[a]){xo[a]=!0;try{const o=await Zc({locale:n,gameMode:a,paginated:!1}),h=Array.isArray(o)?o:[];if(uC(h,n,a))continue;const m=await lC(n,a),y=oC(m,n,a),g=await fC(y,n,a);g.length>0&&await dx(g)}finally{xo[a]=!1}}}catch(a){console.error(`Error importing default actions for ${n}:`,a),xo.online=!1,xo.local=!1}}async function fC(s,n,r){const a=await l0.where("locale").equals(n).and(h=>h.gameMode===r&&h.isCustom===0).toArray(),o=new Set;return a.forEach(h=>{const m=`${h.group}-${h.intensity}-${h.action}`;o.add(m)}),s.filter(h=>{const m=`${h.group}-${h.intensity}-${h.action}`;return!o.has(m)})}async function mg(s,n){try{const r=await Zc({locale:s,gameMode:n,paginated:!1});if(!Array.isArray(r)||r.length===0)return;const a=r.filter(m=>m.isCustom===0);if(a.length<=1)return;const o=new Map,h=[];if(a.forEach(m=>{const y=`${m.group}-${m.intensity}-${m.action}`;o.has(y)?h.push(m.id):o.set(y,m.id)}),h.length>0)for(const m of h)await l0.delete(m)}catch(r){console.error(`Error removing duplicate default actions for ${s}/${n}:`,r)}}async function hC(s){await mg(s,"online"),await mg(s,"local"),await cC(s)}let oc=null;function dC(s){oc&&clearTimeout(oc),oc=setTimeout(()=>{try{hC(s).catch(n=>{console.error("Error during initial default actions import:",n)})}catch(n){console.error("Error during initial default actions import:",n)}oc=null},1e3)}const mC=lt.lazy(()=>he(()=>import("./index-xZrrk_fo.js"),__vite__mapDeps([9,1,2,10,4,11,12,13,14,3,15,16]))),pC=lt.lazy(()=>he(()=>import("./index-BbO7SX1B.js"),__vite__mapDeps([17,1,2,18,4,11,19,20,3,21]))),yC=lt.lazy(()=>he(()=>import("./index-BJS3JWpQ.js"),__vite__mapDeps([22,1,2,18,4,11,23,10,12,24,20,25,13,26,19,3,27])));function pg({children:s}){return ft.jsx(iC,{children:ft.jsx(aC,{children:ft.jsx(tC,{children:s})})})}function vC(){const s=xx();lt.useEffect(()=>(window.authContext=s,()=>{window.authContext=null}),[s]),xg.on("languageChanged",r=>{dC(r)});const n=s.user?ft.jsx(yC,{}):ft.jsx(mC,{});return ft.jsxs(Nb,{future:{v7_startTransition:!0},children:[ft.jsx($h,{path:"/",element:ft.jsx(kb,{replace:!0,to:"/public"})}),ft.jsx($h,{path:"/:id/cast",element:ft.jsx(pg,{children:ft.jsx(lt.Suspense,{children:ft.jsx(pC,{})})})}),ft.jsx($h,{path:"/:id",element:ft.jsx(pg,{children:ft.jsx(lt.Suspense,{children:n})})})]})}function gC(){return ft.jsxs(Cb,{theme:sC,children:[ft.jsx(Ab,{}),ft.jsx(dE,{dateAdapter:Wx,children:ft.jsx(Rb,{children:ft.jsx(vC,{})})})]})}const _C=fE.createRoot(document.getElementById("root"));_C.render(ft.jsx(rd.StrictMode,{children:ft.jsx(Tx,{children:ft.jsx(rd.Suspense,{children:ft.jsx(gC,{})})})}));aE();export{s0 as A,YC as B,Zc as C,KC as D,FC as E,dx as F,fv as G,O1 as H,an as I,gx as J,QC as K,dE as L,eC as M,XC as N,yx as O,rC as S,nC as U,he as _,JC as a,GC as b,eA as c,NC as d,AC as e,MC as f,VC as g,_x as h,lC as i,zT as j,jT as k,ZC as l,A1 as m,R1 as n,WC as o,CC as p,TC as q,UT as r,RC as s,xC as t,xx as u,DC as v,kC as w,OC as x,PC as y,mx as z};

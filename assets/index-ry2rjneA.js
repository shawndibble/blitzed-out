import{i as m,u as l}from"./strings-CMg_7SHD.js";import{g as p}from"./urls-bwAPA7IR.js";import{a as u}from"./vendor-Bf6wU4zJ.js";import{j as d,f}from"./mui-BMKXmDCw.js";function b(e){const o=/vimeo\.com\/(\d+)/;return`https://player.vimeo.com/video/${e.match(o)[1]}?autoplay=1&loop=1&autostart=true`}function g(e){const o=/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|[^#]*[?&]v=|youtu\.be\/)([^"&?/ ]{11})|^(?:[^"&?/ ]{11})$)/;return`https://www.youtube.com/embed/${e.match(o)[1]}?autoplay=1&loop=1&autostart=true`}function h(e){const o=/drive\.google\.com\/file\/d\/([^/]+)/;return`https://drive.google.com/file/d/${e.match(o)[1]}/preview?loop=1`}function x(e){const o=/dropbox\.com\/s\/([^/]+)/;return`https://www.dropbox.com/s/${e.match(o)[1]}?raw=1`}function v(e){return`https://pornhub.com/embed/${new URL(e).searchParams.get("viewkey")}?autoplay=1&loop=1&autostart=true`}function y(e){const o=e.split("-");return`https://xhamster.com/xembed.php?video=${o[o.length-1]}?autoplay=1&loop=1&autostart=true`}function k(e){let o,t=!0;if(!e)return{ur:"",isVideo:!1};switch(!0){case e.includes("vimeo.com"):o=b(e);break;case e.includes("youtube.com"):case e.includes("youtu.be"):o=g(e);break;case e.includes("drive.google.com"):o=h(e);break;case e.includes("pornhub.com"):o=v(e);break;case e.includes("xhamster.com"):o=y(e);break;case e.includes("dropbox.com"):o=x(e);break;case e.includes("thisvid.com"):case e.includes("boyfriendtv.com"):o=e;break;default:o=p(e),t=!1;break}return{url:o,isVideo:t}}function $(e,o,t){const{background:n,backgroundURL:r,roomBackground:c}=e,s=n!=="custom"?n:r,a=c==="app"?c:t,i=!m(o)&&c!=="app"?a:s;return i?k(i):{url:null,isVideo:!1}}function w(e,o){const t=e.findIndex(r=>r.uid===o),n=t+1>=e.length?0:t+1;return e[n]}function S(e,o){const[t,n]=u.useState(null),r=l();return u.useEffect(()=>{if(!o)return;if(r.length<=1){n(null);return}const c=r.filter(a=>!a.isFinished),s=w(c,o.uid);n(s)},[o]),t}function j({url:e=null,isVideo:o=null}){return d.jsx(f,{className:"main-container",sx:{backgroundImage:!o&&`url(${e})`},children:o&&d.jsx("iframe",{width:"100%",height:"100%",src:e,title:"video",allowFullScreen:!0,allow:"autoplay",style:{border:"none"}})})}export{j as R,$ as g,k as p,S as u};
